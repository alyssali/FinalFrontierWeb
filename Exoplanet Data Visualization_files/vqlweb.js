/*! BEGIN BrowserSupport */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BrowserSupport=t():e.BrowserSupport=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,n){"use strict";function o(){var e=window.document.body;if(R&&ee.IsMobile()){var t=document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","300px"),t.style.setProperty("left","300px"),t.style.setProperty("width","25px"),t.style.setProperty("height","25px"),t.style.setProperty("z-index","10000");try{e.appendChild(t),T=document.elementFromPoint(310,310)!==t}catch(e){}finally{t.remove()}}}function r(){var e=ee.GetUserAgent();if(F=e.indexOf("Konqueror")>=0,R=e.indexOf("WebKit")>=0,C=e.indexOf("Chrome")>=0,M=e.indexOf("Safari")>=0&&!C,B=e.indexOf("Opera")>=0,M){var t=e.match(/\bVersion\/(\d+\.\d+)/);null!==t&&(_=parseFloat(t[1]))}if(C){var t=e.match(/\bChrome\/(\d+\.\d+)/);null!==t&&(D=parseFloat(t[1]))}U=0,k=!1;var n=e.match(/\bMSIE (\d+\.\d+)/);if(null!==n&&(k=!0,U=parseFloat(n[1])),!k&&!B&&(e.indexOf("Trident")>=0||e.indexOf("Edge/")>=0)){var o=e.match(/\brv:(\d+\.\d+)/),r=e.match(/Edge\/(\d+\.\d+)/);null!==o?(k=!0,j=!1,U=parseFloat(o[1])):null!==r&&(k=!0,j=!0,C=!1,M=!1,U=parseFloat(r[1]))}if(z=!F&&!R&&!k&&e.indexOf("Gecko")>=0,L=z||e.indexOf("Firefox")>=0||e.indexOf("Minefield")>=0,H=/iPhone|iPod|iPad/.test(e)){var u=e.match(/\bOS ([\d+_?]+) like Mac OS X/);null!==u&&(A=parseFloat(u[1].replace(/_/,".").replace(/_/g,"")))}G=e.indexOf("Android")>=0&&!k,V=e.indexOf("Mac")>=0,J=e.indexOf("Windows")>=0,W=i()}function i(){var e;try{e="ontouchstart"in window||u()}catch(t){e=!1}return e}function u(){return!!window.DocumentTouch&&document instanceof window.DocumentTouch}function c(){O=a({transition:"transition",webkitTransition:"-webkit-transition",msTransition:"-ms-transition",mozTransition:"-moz-transition",oTransition:"-o-transition"})||O}function s(){I=a({transform:"transform",webkitTransform:"-webkit-transform",msTransform:"-ms-transform",mozTransform:"-moz-transform",oTransform:"-o-transform"})||I}function a(e){for(var t=Object.keys(e),n=0;n<t.length;++n){var o=t[n];if(o in document.body.style)return e[o]}return null}function f(){N=window.self.devicePixelRatio||1}function d(){var e=document.createElement("canvas");if(null===e||void 0===e)return void(K=1);var t=null;if("getContext"in e&&"function"==typeof e.getContext&&(t=e.getContext("2d")),null===t||void 0===t)return void(K=1);var n=t;K=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||1}function l(){var e=document.createElement("canvas");if(null!==e&&void 0!==e){var t=null;"getContext"in e&&"function"==typeof e.getContext&&(t=e.getContext("2d")),null!==t&&void 0!==t&&(E="function"==typeof t.setLineDash||"mozDash"in t||"webkitLineDash"in t)}}function p(){var e=document.createElement("input");Z="function"==typeof e.setSelectionRange}function m(){q=h("date"),X=h("datetime"),Q=h("datetime-local"),Y=h("time")}function h(e){var t=document.createElement("input");t.setAttribute("type",e),t.style.setProperty("position","absolute"),t.style.setProperty("visibility","hidden"),document.body.appendChild(t);var n=t.getAttribute("type");t.value="@inva/1d:)";var o=n===e&&"@inva/1d:)"!==t.value;return document.body.removeChild(t),o}function y(e,t){e in window||(window[e]=t)}Object.defineProperty(t,"__esModule",{value:!0});var v=n(1),w=n(2),b=n(3),g=!1,S="fonts"in document,x=!1,P=!1,I="transform",O="transition",T=!1,E=!1,M=!1,C=!1,k=!1,j=!1,U=0,D=0,_=0,A=0,L=!1,B=!1,F=!1,R=!1,z=!1,H=!1,G=!1,V=!1,J=!1,W=!1,N=1,K=1,q=!1,X=!1,Q=!1,Y=!1,Z=!1,$={isMobile:function(){return!1}},ee=function(){function e(){}return e.setConfig=function(e){$=e},e.GetComputedStyle=function(){return"getComputedStyle"in window},e.AddEventListener=function(){return"addEventListener"in document},e.SelectStart=function(){return g},e.IsTouch=function(){return W},e.FontLoader=function(){return S},e.Promise=function(){return"Promise"in window},e.PostMessage=function(){return x},e.HistoryApi=function(){return P},e.IsMobile=function(){return G||H},e.IsIos=function(){return H},e.IsAndroid=function(){return G},e.IsChrome=function(){return C},e.IsMac=function(){return V},e.IsIE=function(){return k},e.IsEdge=function(){return j},e.IsFF=function(){return L},e.IsOpera=function(){return B},e.IsSafari=function(){return M},e.IsWindows=function(){return J},e.IsHighDpi=function(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches},e.BrowserVersion=function(){return U},e.SafariVersion=function(){return _},e.GoogleChromeVersion=function(){return D},e.IosVersion=function(){return A},e.RaisesEventOnImageReassignment=function(){return!M},e.ImageLoadIsSynchronous=function(){return k},e.UseAlternateHitStrategy=function(){return T},e.CssTransformName=function(){return I},e.CssTransitionName=function(){return O},e.BackingStoragePixelRatio=function(){return K},e.DevicePixelRatio=function(){return N},e.CanvasLinePattern=function(){return E},e.DateInput=function(){return q},e.DateTimeInput=function(){return X},e.DateTimeLocalInput=function(){return Q},e.TimeInput=function(){return Y},e.SetSelectionRange=function(){return Z},e.MouseWheelEvent=function(){return"onwheel"in window.document.documentElement?"wheel":"onmousewheel"in window.document.documentElement?"mousewheel":"MozMousePixelScroll"},e.MouseCapture=function(){return"releaseCapture"in document},e.OrientationChange=function(){return"onorientationchange"in window},e.ProxyObjectSupport=function(){return"Proxy"in window},e.IsGeolocationSupported=function(){return null!==window.navigator.geolocation||void 0!==window.navigator.geolocation},e.IsIpad=function(){return-1!==window.navigator.userAgent.indexOf("iPad")},e.IsTouchAndNonMobile=function(){return b.TouchScreenUtil.HasUserTouchedScreen&&!$.isMobile()},e.IsTouchScreen=function(){return b.TouchScreenUtil.HasUserTouchedScreen},e.GetUserAgent=function(){return window.navigator.userAgent},e.GetOrigin=function(e){var t=e.origin;return null!==t&&void 0!==t||(t=e.protocol+"//"+e.host),t},e.DetectBrowserSupport=function(){var e=document.body,t=document.createElement("div");e.appendChild(t),g="onselectstart"in t,e.removeChild(t).style.display="none",x="postMessage"in window,P="function"==typeof window.history.pushState&&"function"==typeof window.history.replaceState,r(),c(),s(),o(),f(),d(),m(),l(),p()},e}();t.BrowserSupport=ee,function(){$={isMobile:function(){return!1}},r();var e=function(){b.TouchScreenUtil.Init(),ee.DetectBrowserSupport()};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e),y("Set",function(){return new w.JsSetPolyfillImpl}),y("Map",function(){return new v.JsMapPolyfillImpl})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){return this.store[e]=t,this},e.prototype.get=function(e){return this.store[e]},e.prototype.delete=function(e){var t=this.has(e);return delete this.store[e],t},e.prototype.clear=function(){this.store={}},e.prototype.has=function(e){return this.store.propertyIsEnumerable(e)},e.prototype.forEach=function(e){var t=this;Object.keys(this.store).forEach(function(n){e(t.store[n],n)})},e}();t.JsMapPolyfillImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.add=function(e){return this.store[e]=e,this},e.prototype.delete=function(e){var t=this.has(e);return delete this.store[e],t},e.prototype.clear=function(){this.store={}},e.prototype.has=function(e){return this.store.propertyIsEnumerable(e)},e.prototype.forEach=function(e){var t=this;Object.keys(this.store).forEach(function(n){e(t.store[n])})},e}();t.JsSetPolyfillImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"HasUserTouchedScreen",{get:function(){return e.hasUserTouchedScreen},enumerable:!0,configurable:!0}),e.Init=function(){null!==document.body&&void 0!==document.body&&document.body.addEventListener("touchstart",e.HandleTouchStart,!1)},e.HandleTouchStart=function(t){e.hasUserTouchedScreen||(e.hasUserTouchedScreen=!0,document.body.removeEventListener("touchstart",e.HandleTouchStart,!1))},e.hasUserTouchedScreen=!1,e}();t.TouchScreenUtil=o}])});(function(){(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlbrowsersupport')})()}());;
/*! BEGIN FileDropResponder */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tableau/browser-support")):"function"==typeof define&&define.amd?define(["@tableau/browser-support"],t):"object"==typeof exports?exports.FileDropResponderModule=t(require("@tableau/browser-support")):e.FileDropResponderModule=t(e.BrowserSupport)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=function(){function e(){this.Counter=0,this.AllowMulti=!1,this.DropAttached=!1,this.SpecialHandleDragLeaveOnFF=!1}return e.prototype.isFF=function(){return o.BrowserSupport.IsFF()},e.prototype.setOnDropInvited=function(e){this.OnDropInvited=e},e.prototype.setOnUploadFiles=function(e){this.OnUploadFiles=e},e.prototype.setSpecialHandleDragLeaveOnFF=function(e){this.SpecialHandleDragLeaveOnFF=e},e.prototype.setupDropZone=function(e){this.dropZoneObj=e},e.prototype.handleDefaultBrowserDragDropEvents=function(){window.addEventListener("dragover",this.DefaultDragDropHandler,!0),window.addEventListener("drop",this.DefaultDragDropHandler,!0),o.BrowserSupport.IsEdge()&&(this.defaultErrorHandler=window.window.onerror,window.window.onerror=this.CatchBrowserError)},e.prototype.detachDefaultBrowserDragDropEvents=function(){window.removeEventListener("dragover",this.DefaultDragDropHandler),window.removeEventListener("drop",this.DefaultDragDropHandler),o.BrowserSupport.IsEdge()&&(window.window.onerror=this.defaultErrorHandler)},e.prototype.enableFileDrop=function(e,t){void 0===t&&(t=!0),this.Counter=0;var r=this.DropAttached;r&&!e?this.DetachFileDrop():!r&&e&&this.AttachFileDrop(),this.AllowMulti=t},e.prototype.AttachFileDrop=function(){var e=this;this.Counter=0,this.dropZoneObj&&(this.DropAttached=!0,this.dropZoneObj.ondragenter=function(t){e.StopEvent(t),1===++e.Counter&&e.OnDragEnter(t)},this.dropZoneObj.ondragleave=function(t){e.Counter--;var r=0===e.Counter;if(!r&&e.SpecialHandleDragLeaveOnFF&&o.BrowserSupport.IsFF()){if(t){var n=t.currentTarget,i=n;if(i){i===e.dropZoneObj&&(r=!0)}}}r&&(e.Counter=0,e.DropInvite(!1))},this.dropZoneObj.ondrop=function(t){e.StopEvent(t),e.OnFileDrop(t),e.Counter=0})},e.prototype.DetachFileDrop=function(){this.Counter=0,this.DropAttached=!1,this.dropZoneObj&&(this.dropZoneObj.ondragenter=this.dropZoneObj.ondragleave=this.dropZoneObj.ondrop=null)},e.prototype.IsFileDropInvited=function(){return!!this.dropZoneObj&&this.dropZoneObj.classList.contains(e.ClassFileDropInvited)},e.prototype.OnFileDrop=function(t){if(this.IsFileDropInvited()){var r=null;try{r=e.GetDragFileList(t)}catch(e){if(this.OnUploadFiles){this.OnUploadFiles(void 0)}}r&&r.length>0&&(this.AllowMulti||r.length,this.Upload(r)),this.DropInvite(!1)}},e.prototype.OnDragEnter=function(t){var r=!0,o=null;try{o=e.GetDragItemList(t)}catch(e){return void this.DropInvite(!0)}if(o){for(var n=!0,i=0;i<o.length;++i){var s=o[i];if(!e.IsDataTransferItemFile(s)){n=!1;break}}r=(this.AllowMulti||1===o.length)&&n}r?this.DropInvite(!0):(t.dataTransfer&&(t.dataTransfer.dropEffect="move"),this.DropInvite(!1))},e.prototype.DropInvite=function(t){t&&this.IsFileDropInvited()||!t&&!this.IsFileDropInvited()||t&&!this.OnUploadFiles||this.dropZoneObj&&(this.OnDropInvited&&this.OnDropInvited(t),t?this.dropZoneObj.classList.add(e.ClassFileDropInvited):this.dropZoneObj.classList.remove(e.ClassFileDropInvited))},e.prototype.Upload=function(e){(this.OnUploadFiles||e.length>0)&&this.OnUploadFiles(e)},e.prototype.CatchBrowserError=function(e,t,r,o,n){var i=e.toString();if("Access is denied"===i.substr(0,"Access is denied".length)){if(this.OnUploadFiles){this.OnUploadFiles(void 0)}return!0}return!!this.defaultErrorHandler&&(this.defaultErrorHandler(i,t,r,o,n),!0)},e.prototype.DefaultDragDropHandler=function(t){if(t){t.preventDefault();var r=t;if(r&&r.dataTransfer){var o=t.target;if(o){var n=null!=o.closest("."+e.ClassFileDropInvited);r.dataTransfer.dropEffect=n?"copy":"none"}}}},e.GetDragItemList=function(e){return e&&e.dataTransfer&&e.dataTransfer.items&&0!==e.dataTransfer.items.length?e.dataTransfer.items:null},e.IsDataTransferItemFile=function(e){return"file"===e.kind},e.prototype.StopEvent=function(e){e.stopPropagation(),e.preventDefault()},e.GetDragFileList=function(e){return e&&e.dataTransfer&&e.dataTransfer.files&&0!==e.dataTransfer.files.length?e.dataTransfer.files:null},e.ClassFileDropInvited="fileDropInvited",e}();t.FileDropResponder=n},function(t,r){t.exports=e}])});(function(){(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlfiledropresponder')})()}());;
/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){this.$0=null;this.$0=[]};b.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=b;var c=function(){this.$2=null;b.call(this)};c.__typeName='tab.ConsoleLogAppender';global.tab.ConsoleLogAppender=c;var d=function(){};d.__typeName='tab.CookieHelper';d.getValueForCookie=function(o){var p=e.getCookie().match(new RegExp('(?:^|;) ?'+o+'=([^;]*)(?:;|$)'));if(ss.isNullOrUndefined(p)||p.length<2){return null}return p[1]};d.setCookie=function(o,p,q,r){var s=o+'='+p+';path='+q+';';if(!ss.staticEquals(r,null)){s+='expires='+r.toUTCString()}e.setCookie(s)};d.deleteCookie=function(o,p){var q=new Date(0);e.setCookie(o+'=;path='+p+';expires='+q.toUTCString())};global.tab.CookieHelper=d;var e=function(){};e.__typeName='tab.DocumentHelper';e.get_documentClientWidth=function(){return document.documentElement.clientWidth};e.get_documentClientHeight=function(){return document.documentElement.clientHeight};e.getCookie=function(){return document.cookie};e.setCookie=function(o){document.cookie=o};global.tab.DocumentHelper=e;var f=function(){};f.__typeName='tab.EscapingUtil';f.escapeHtml=function(o){var p=ss.coalesce(o,'');p=p.replace(new RegExp('&','g'),'&amp;');p=p.replace(new RegExp('<','g'),'&lt;');p=p.replace(new RegExp('>','g'),'&gt;');p=p.replace(new RegExp('"','g'),'&quot;');p=p.replace(new RegExp("'",'g'),'&#39;');p=p.replace(new RegExp('/','g'),'&#47;');if((new RegExp('^ +$')).test(p)){p=p.replace(new RegExp(' ','g'),'&nbsp;')}return p};global.tab.EscapingUtil=f;var g=function(){};g.__typeName='tab.LazyUtil';g.lazyInitStaticField=function(o,p,q){var r=o[p];if(ss.isNullOrUndefined(r)){r=q();o[p]=r}return r};global.tab.LazyUtil=g;var h=function(){};h.__typeName='tab.Log';h.get=function(o){return j.lazyGetLogger(ss.getInstanceType(o))};h.get$1=function(o){return j.lazyGetLogger(o)};global.tab.Log=h;var i=function(o){this.$0=null;this.$1$1=null;this.$0=o};i.__typeName='tab.LogAppenderInstance';global.tab.LogAppenderInstance=i;var j=function(o){this.$1=null;this.$1=o};j.__typeName='tab.Logger';j.get_globalLog=function(){return j.global};j.$2=function(){return g.lazyInitStaticField(j,'appenders',function(){return[]})};j.$3=function(){return g.lazyInitStaticField(j,'filters',function(){return[]})};j.$4=function(){return g.lazyInitStaticField(j,'nullLog',function(){return new j('')})};j.clearFilters=function(){var o=j.$2();for(var p=0;p<o.length;p++){var q=o[p];q.clearFilters()}j.$3().splice(0,j.$3().length)};j.filterByLogger=function(o,p){p=p||0;j.$0(function(q,r){return ss.referenceEquals(q,o)&&r>=p})};j.filterByType=function(o,p){p=p||0;j.$0(function(q,r){return r>=p&&ss.referenceEquals(q.get_name(),ss.getTypeName(o))})};j.filterByName=function(o,p){p=p||0;var q=new RegExp(o,'i');j.$0(function(r,s){return s>=p&&ss.isValue(r.get_name().match(q))})};j.clearAppenders=function(){j.$2().splice(0,j.$3().length)};j.hasAppender=function(o){return j.$2().indexOf(o)>-1};j.addAppender=function(o){var p=j.$3();for(var q=0;q<p.length;q++){var r=p[q];o.addFilter(r)}j.$2().push(o)};j.removeAppender=function(o){var p=j.$2().indexOf(o);if(p>-1){j.$2().splice(p,1)}};j.lazyGetLogger=function(o){return g.lazyInitStaticField(o,'_logger',function(){return j.getLogger(o,null)})};j.getLogger=function(o,p){var q=j.getLoggerWithName(ss.getTypeName(o));if(ss.isValue(p)){}return q};j.getLoggerWithName=function(o){return j.$4()};j.$1=function(){var o=m.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(o,':log')){return}var p=o[':log'];if(p.length===0){}for(var q=0;q<p.length;q++){var r=p[q];var s=r.split(String.fromCharCode(58));var t=1;if(s.length>0&&ss.isValue(s[1])){var u=s[1].toLowerCase();var v=j.loggerLevelNames.indexOf(u);if(v>=0){t=v}}}};j.$0=function(o){j.$3().push(o);var p=j.$2();for(var q=0;q<p.length;q++){var r=p[q];r.addFilter(o)}};global.tab.Logger=j;var k=function(){};k.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=k;var l=function(){};l.__typeName='tab.ScriptEx';global.tab.ScriptEx=l;var m=function(){};m.__typeName='tab.UriExtensions';m.getUriQueryParameters=function(o){var p={};if(ss.isNullOrUndefined(o)){return p}var q=o.indexOf('?');if(q<0){return p}var r=o.substr(q+1);var s=r.indexOf('#');if(s>=0){r=r.substr(0,s)}if(ss.isNullOrEmptyString(r)){return p}var t=r.split('&');for(var u=0;u<t.length;u++){var v=t[u];var w=v.split('=');var x=decodeURIComponent(w[0]);var y;if(ss.keyExists(p,x)){y=p[x]}else{y=[];p[x]=y}if(w.length>1){y.push(decodeURIComponent(w[1]))}}return p};global.tab.UriExtensions=m;var n=function(o){this.$0=null;this.$0=o};n.__typeName='tab.WindowHelper';n.get_windowSelf=function(){return window.self};n.get_windowParent=function(){return window.parent};n.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};n.close=function(o){o.close()};n.getOpener=function(o){return o.opener};n.getLocation=function(o){return o.location};n.getPathAndSearch=function(o){return o.location.pathname+o.location.search};n.setLocationHref=function(o,p){o.location.href=p};n.locationReplace=function(o,p){o.location.replace(p)};n.open=function(o,p,q){return window.open(o,p,q)};n.reload=function(o,p){o.location.reload(p)};n.requestAnimationFrame=function(o){return n.$c(o)};n.cancelAnimationFrame=function(o){if(ss.isValue(o)){n.$1(o)}};n.setTimeout=function(o,p){return window.setTimeout(o,p)};n.setInterval=function(o,p){return window.setInterval(o,p)};n.addListener=function(o,p,q){if('addEventListener'in o){o.addEventListener(p,q,false)}else{o.attachEvent('on'+p,q)}};n.removeListener=function(o,p,q){if('removeEventListener'in o){o.removeEventListener(p,q,false)}else{o.detachEvent('on'+p,q)}};n.$0=function(){var o=0;n.$c=function(p){var q=(new Date).getTime();var r=Math.max(0,16-(q-o));o=q+r;var s=window.setTimeout(p,r);return s}};n.clearSelection=function(){var o=n.get_selection();if(ss.isValue(o)){if(typeof(o['removeAllRanges'])==='function'){o.removeAllRanges()}else if(typeof(o['empty'])==='function'){o['empty']()}}};global.tab.WindowHelper=n;ss.initClass(b,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(o){this.$0.push(o)},removeFilter:function(o){ss.remove(this.$0,o)},log:function(o,p,q,r){},logInternal:null,formatMessage:function(o,p){if(ss.isNullOrUndefined(p)||p.length===0){return o}var q=new ss.StringBuilder;var r=0;var s=false;for(var t=0;t<o.length;t++){var u=o.charCodeAt(t);if(u===37){if(s){q.append('%');s=false}else{s=true}}else{if(s){switch(u){case 98:case 115:case 100:case 110:case 111:{q.append(((p.length>r)?p[r]:''));r++;break}}}else{q.appendChar(u)}s=false}}return q.toString()}});ss.initClass(c,a,{logInternal:function(o,p,q,r){if(typeof(window.console)!=='object'){return}q=o.get_name()+': '+q;var s=[];var t=s.concat(q);s=t.concat.apply(t,r);try{Function.prototype.apply.call(this.$1(p),window.console,s)}catch(u){}},$1:function(o){var p=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=p.log;this.$2[(4).toString()]=p.error;this.$2[(2).toString()]=p.info;this.$2[(3).toString()]=p.warn}var q=this.$2[o.toString()];if(ss.isNullOrUndefined(q)){q=p.log}return q}},b);ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{get_instance:function(){return this.$1$1},set_instance:function(o){this.$1$1=o},enableLogging:function(o){if(ss.isNullOrUndefined(this.get_instance())){this.set_instance(this.$0());j.addAppender(this.get_instance())}else if(!j.hasAppender(this.get_instance())){j.addAppender(this.get_instance())}this.get_instance().addFilter(ss.coalesce(o,function(p,q){return true}))},disableLogging:function(){if(ss.isNullOrUndefined(this.get_instance())){return}j.removeAppender(this.get_instance());this.set_instance(null)}});ss.initClass(j,a,{get_name:function(){return this.$1},debug:function(o,p){},info:function(o,p){},warn:function(o,p){},error:function(o,p){},log:function(o,p,q){},$0:function(o,p,q){try{var r=j.$2();for(var s=0;s<r.length;s++){var t=r[s];t.log(this,o,p,q)}}catch(u){}}});ss.initEnum(k,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(l,a,{});ss.initClass(m,a,{});ss.initClass(n,a,{get_pageXOffset:function(){return n.$8(this.$0)},get_pageYOffset:function(){return n.$9(this.$0)},get_clientWidth:function(){return n.$3(this.$0)},get_clientHeight:function(){return n.$2(this.$0)},get_innerWidth:function(){return n.$5(this.$0)},get_outerWidth:function(){return n.$7(this.$0)},get_innerHeight:function(){return n.$4(this.$0)},get_outerHeight:function(){return n.$6(this.$0)},get_screenLeft:function(){return n.$a(this.$0)},get_screenTop:function(){return n.$b(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}});(function(){j.global=j.getLoggerWithName('global');j.loggerLevelNames=[];j.$5=':log';j.loggerLevelNames[0]='all';j.loggerLevelNames[1]='debug';j.loggerLevelNames[2]='info';j.loggerLevelNames[3]='warn';j.loggerLevelNames[4]='error';j.loggerLevelNames[5]='off'})();(function(){c.globalAppender=new i(function(){return new c})})();(function(){n.blank='_blank';n.$5=null;n.$4=null;n.$3=null;n.$2=null;n.$8=null;n.$9=null;n.$a=null;n.$b=null;n.$7=null;n.$6=null;n.$c=null;n.$1=null;if('innerWidth'in window){n.$5=function(w){return w.innerWidth}}else{n.$5=function(w){return w.document.documentElement.offsetWidth}}if('outerWidth'in window){n.$7=function(w){return w.outerWidth}}else{n.$7=n.$5}if('innerHeight'in window){n.$4=function(w){return w.innerHeight}}else{n.$4=function(w){return w.document.documentElement.offsetHeight}}if('outerHeight'in window){n.$6=function(w){return w.outerHeight}}else{n.$6=n.$4}if('clientWidth'in window){n.$3=function(w){return w['clientWidth']}}else{n.$3=function(w){return w.document.documentElement.clientWidth}}if('clientHeight'in window){n.$2=function(w){return w['clientHeight']}}else{n.$2=function(w){return w.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){n.$8=function(w){return w.pageXOffset}}else{n.$8=function(w){return w.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){n.$9=function(w){return w.pageYOffset}}else{n.$9=function(w){return w.document.documentElement.scrollTop}}if('screenLeft'in window){n.$a=function(w){return w.screenLeft}}else{n.$a=function(w){return w.screenX}}if('screenTop'in window){n.$b=function(w){return w.screenTop}}else{n.$b=function(w){return w.screenY}}{var o='requestAnimationFrame';var p='cancelAnimationFrame';var q=['ms','moz','webkit','o'];var r=null;var s=null;if(o in window){r=o}if(p in window){s=p}for(var t=0;t<q.length&&(ss.isNullOrUndefined(r)||ss.isNullOrUndefined(s));++t){var u=q[t];var v=u+'RequestAnimationFrame';if(ss.isNullOrUndefined(r)&&v in window){r=v}if(ss.isNullOrUndefined(s)){v=u+'CancelAnimationFrame';if(v in window){s=v}v=u+'CancelRequestAnimationFrame';if(v in window){s=v}}}if(ss.isValue(r)){n.$c=function(w){return window[r](w)}}else{n.$0()}if(ss.isValue(s)){n.$1=function(w){window[s](w)}}else{n.$1=window.clearTimeout}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;$.fn.focusDelayed=function(e,bO){this.each(function(bP,bQ){window.setTimeout(function(){$(bQ).focus();if(ss.isValue(bO)){bO.call(bQ)}},e)})};$.fn.getTouchEvent=function(e){return e['originalEvent']};$.expr.pseudos.focusable=function(e){return g.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bO=parseInt($(e).attr('tabindex'),10);var bP=isNaN(bO);return(bP||bO>=0)&&g.$0(e,!bP)};var d=function(){};d.__typeName='tab.$0';d.$0=function(e){var bO=d.$4(e);var bP=new bp('stack',d.$2(e),e.name,bO);return bP};d.$2=function(e){var bO=e.get_message();if(ss.isValue(e.get_innerException())){bO+=' inner: '+e.get_innerException().get_message()}return bO};d.$4=function(e){var bO;if(ss.isValue(e.get_innerException())){bO=e.get_innerException().error}else{bO=e._error}return d.$6(bO)};d.$6=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.stack)){return null}if(ss.isValue(e.stack.match(d.$7))){return d.$3(e)}return d.$5(e)};d.$3=function(e){var bO=e.stack.split(String.fromCharCode(10)).filter(function(bP){return ss.isValue(bP.match(d.$7))});return bO.map(function(bP){if(bP.indexOf('(eval ')>-1){bP=ss.replaceAllString(bP,'eval code','eval').replace(d.$b,'')}var bQ=bP.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var bR=d.$1(bQ.pop());var bS=ss.coalesce(bQ.join(' '),'undefined');var bT=((ss.indexOf(['eval','<anonymous>'],bR[0])>-1)?'undefined':bR[0]);var bU=parseInt(bR[1]);var bV=parseInt(bR[2]);return new bo(bT,bU,bV,bP,bS)})};d.$5=function(e){var bO=e.stack.split(String.fromCharCode(10)).filter(function(bP){return ss.isNullOrUndefined(bP.match(d.$a))});return bO.map(function(bP){if(bP.indexOf(' > eval')>-1){bP=bP.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(bP.indexOf('@')===-1&&bP.indexOf(':')===-1){return new bo(bP,0,0,'',null)}else{var bQ=bP.split('@');var bR=d.$1(bQ.pop());var bS=ss.coalesce(bQ.join('@'),'undefined');var bT=bR[0];var bU=parseInt(bR[1]);var bV=parseInt(bR[2]);var bW=new bo(bT,bU,bV,bP,bS);return bW}})};d.$1=function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var bO=d.$8.exec(e.replace(d.$9,''));return[bO[1],ss.coalesce(bO[2],'undefined'),ss.coalesce(bO[3],'undefined')]};var f=function(){};f.__typeName='tab.$1';var g=function(){};g.__typeName='tab.$2';g.$0=function(e,bO){var bP=e.nodeName.toLowerCase();if(bP==='area'){return false}var bQ=bO;var bR=new RegExp('input|select|textarea|button|object');if(bR.test(bP)){bQ=!e.disabled}else if(bP==='a'){bQ=!ss.isNullOrEmptyString(e.href)||bO}return bQ&&g.$1(e)};g.$1=function(e){for(var bO='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(bO==='visible'){continue}else if(bO.length===0||bO==='inherit'){bO=e.style.visibility}if(bO==='hidden'){return false}}return true};var h=function(e){var bO=function(){};ss.registerGenericClassInstance(bO,h,[e],{current:null,reset:null,moveNext:null,dispose:function(){}},function(){return null},function(){return[ss.IDisposable,ss.IEnumerator,ss.IEnumerator]});return bO};h.__typeName='tab.AbstractEnumerator$1';ss.initGenericClass(h,a,1);global.tab.AbstractEnumerator$1=h;var i=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true;this.forceIso8601Calendar=false};i.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=i;var j=function(e){this.$0=null;this.$0=e};j.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=j;var k=function(){};k.__typeName='tab.CircleUtil';k.isEmpty=function(e){return t.isApproximatelyZero(e.radius)};k.isEqual=function(e,bO){return t.isApproximatelyEqual(e.radius,bO.radius)&&k.hasTheSameCenter(e,bO)};k.hasTheSameCenter=function(e,bO){return t.isApproximatelyEqual(e.center.x,bO.center.x)&&t.isApproximatelyEqual(e.center.y,bO.center.y)};k.intersectsWith=function(e,bO){var bP=Math.pow(e.center.x-bO.center.x,2)+Math.pow(e.center.y-bO.center.y,2);return Math.pow(e.radius+bO.radius,2)>bP};k.offsetCircle=function(e,bO){var bP={x:e.center.x+bO.x,y:e.center.y+bO.y};return{center:bP,radius:e.radius}};k.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};k.boundingBox=function(e){var bO=Math.ceil(e.radius);var bP=Math.floor(e.center.x-bO);var bQ=Math.ceil(e.center.x+bO);var bR=Math.floor(e.center.y-bO);var bS=Math.ceil(e.center.y+bO);return{x:bP,y:bR,w:bQ-bP,h:bS-bR}};k.containmentBox=function(e){var bO=Math.abs(ss.round(e.center.x)-e.center.x);var bP=Math.abs(ss.round(e.center.y)-e.center.y);var bQ=Math.sqrt(2)/2*e.radius-Math.max(bO,bP);var bR=Math.ceil(e.center.x-bQ);var bS=Math.ceil(e.center.y-bQ);var bT=Math.floor(e.center.x+bQ);var bU=Math.floor(e.center.y+bQ);return{x:bR,y:bS,w:bT-bR,h:bU-bS}};k.getChangedRects=function(e,bO){if(!k.hasTheSameCenter(e,bO)){return[]}var bP=((e.radius>bO.radius)?k.boundingBox(e):k.boundingBox(bO));var bQ=((e.radius>bO.radius)?k.containmentBox(bO):k.containmentBox(e));var bR=new Array(4);var bS=ss.Int32.div(bP.h-bQ.h,2);var bT=ss.Int32.div(bP.w-bQ.w,2);bR[0]={x:bP.x,y:bP.y,w:bP.w,h:bS};bR[1]={x:bP.x,y:bP.y+bS+bQ.h,w:bP.w,h:bS};bR[2]={x:bP.x,y:bP.y+bS,w:bT,h:bQ.h};bR[3]={x:bP.x+bT+bQ.w,y:bP.y+bS,w:bT,h:bQ.h};return bR};global.tab.CircleUtil=k;var l=function(){};l.__typeName='tab.DashboardRegionZIndexConstants';global.tab.DashboardRegionZIndexConstants=l;var m=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null};m.__typeName='tab.DataSourceConnectionAttemptErrorResponse';m.$ctor1=function(e){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null;if(ss.isNullOrUndefined(e)){return}this.ErrorType=e.exceptionType;this.ErrorMessage=e.exceptionMessage;this.ConnectionName=e.connectionFullName;this.DataSourceCaption=e.datasourceCaption;this.ConnectionClass=(ss.isNullOrUndefined(e.exceptionAttrs)?'':e.exceptionAttrs['class'])};m.tryDeserialize$1=function(e){try{var bO=JSON.parse(e);return bO}catch(bP){return null}};m.tryDeserialize=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(e.get_message())){return null}var bO=Math.max(e.get_message().indexOf('{'),0);var bP=e.get_message().lastIndexOf('}')+1;return m.tryDeserialize$1(e.get_message().substring(bO,((bP===-1)?e.get_message().length:bP)))};global.tab.DataSourceConnectionAttemptErrorResponse=m;var n=function(){};n.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=n;var o=function(){};o.__typeName='tab.DateUtil';o.$4=function(){return tab.Logger.lazyGetLogger(o)};o.get_nowAsTime=function(){return(new Date).getTime()};o.adjustDateByPeriod=function(e,bO,bP){var bQ=new Date;switch(bO){case'year':{bQ=new Date(e.getFullYear()+bP,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{bQ=o.adjustByMonths(e,bP*3);break}case'month':{bQ=o.adjustByMonths(e,bP);break}case'week':{bQ=o.$0(e,bP*7);break}case'day':{bQ=o.$0(e,bP);break}case'hour':{bQ=new Date(e.getTime()+bP*o.oneHour);break}case'minute':{bQ=new Date(e.getTime()+bP*o.oneMinute);break}case'second':{bQ=new Date(e.getTime()+bP*o.oneSecond);break}}return bQ};o.$0=function(e,bO){var bP=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var bQ=new Date(bP.getTime()+o.oneDay*bO);return new Date(bQ.getFullYear(),bQ.getMonth(),bQ.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};o.adjustByMonths=function(e,bO){var bP=e.getMonth();var bQ;var bR;if(bO<0){bQ=-((12-(bP-1)-1-bO)/12)|0}else{bQ=(bP-1+bO)/12|0}bR=bP+(bO-bQ*12);return new Date(e.getFullYear()+bQ,bR,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};o.adjustDateByPeriodInUTC=function(e,bO,bP){var bQ=new Date;switch(bO){case'year':{bQ=new Date(Date.UTC(e.getUTCFullYear()+bP,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()));break}case'quarter':{bQ=o.adjustByMonthsInUTC(e,bP*3);break}case'month':{bQ=o.adjustByMonthsInUTC(e,bP);break}case'week':{bQ=new Date(e.getTime()+bP*o.oneWeek);break}case'day':{bQ=new Date(e.getTime()+bP*o.oneDay);break}case'hour':{bQ=new Date(e.getTime()+bP*o.oneHour);break}case'minute':{bQ=new Date(e.getTime()+bP*o.oneMinute);break}case'second':{bQ=new Date(e.getTime()+bP*o.oneSecond);break}}return bQ};o.adjustByMonthsInUTC=function(e,bO){var bP=e.getUTCMonth(),bQ,bR;if(bO<0){bQ=-((12-(bP-1)-1-bO)/12)|0}else{bQ=(bP-1+bO)/12|0}bR=bP+(bO-bQ*12);return new Date(Date.UTC(e.getUTCFullYear()+bQ,bR,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};o.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bO=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bO)){return null}var bP=parseInt(bO[1],10);var bQ=parseInt(bO[2],10)-1;var bR=parseInt(bO[3],10);if(ss.isNullOrEmptyString(bO[4])){return new Date(Date.UTC(bP,bQ,bR))}else{var bS=parseInt(bO[5],10);var bT=parseInt(bO[6],10);var bU=parseInt(bO[7],10);return new Date(Date.UTC(bP,bQ,bR,bS,bT,bU))}};o.dateAsYear=function(e){return e.getUTCFullYear()};o.dateAsQuarter=function(e){var bO=o.$3(e);return parseInt(1+ss.Int32.div(bO-1,3))};o.dateAsMonth=function(e){return o.$3(e)};o.dateAsWeek=function(e){var bO=new Date(e.getUTCFullYear(),0,1);var bP=o.$2(e);var bQ=parseInt(1+(bP+o.$1(bO)-2)/7);return bQ};o.dateAsDay=function(e){return e.getUTCDate()};o.dateAsDayOfYear=function(e){return o.$2(e)};o.dateAsDayOfWeek=function(e){return o.$1(e)};o.dateAsMonthYear=function(e){var bO=o.$3(e)*10000+e.getUTCFullYear();return bO};o.dateAsMonthDayYear=function(e){var bO=o.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bO};o.dateTimeAsHour=function(e){return e.getUTCHours()};o.dateTimeAsMinute=function(e){return e.getUTCMinutes()};o.dateTimeAsSecond=function(e){return e.getUTCSeconds()};o.dateTimeAsOleDate=function(e){return bA.OleDateFromJsDate(e.getTime())};o.$2=function(e){var bO=e.getUTCFullYear();var bP=e.getUTCMonth();var bQ=e.getUTCDate();var bR=new Date(bO,0,1,12,0,0);var bS=new Date(bO,bP,bQ,12,0,0);var bT=Math.round((bS-bR)/86400000);return bT+1};o.$3=function(e){return e.getUTCMonth()+1};o.$1=function(e){return e.getUTCDay()+1};o.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=o;var p=function(e,bO){this.$2=null;this.$1=0;this.$0=null;Z.verifyValue(e,'action');this.$0=e;this.$1=bO};p.__typeName='tab.Debouncer';global.tab.Debouncer=p;var q=function(){this.$0=[]};q.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=q;var r=function(){};r.__typeName='tab.DomUtil';r.$5=function(){return tab.Logger.lazyGetLogger(r)};r.get_documentBody=function(){return document.body};r.getComputedStyle=function(e){if(BrowserSupport.BrowserSupport.GetComputedStyle()){var bO=window.getComputedStyle(e);if(ss.isValue(bO)){return bO}}return e.style};r.getComputedZIndex=function(e){Z.verifyValue(e,'child');var bO=$(e);var bP=bO;var bQ=document.documentElement;var bR=document.body;while(bO.length!==0&&!ss.referenceEquals(bO[0],bR)&&!ss.referenceEquals(bO[0],bQ)){var bS=bO.css('position');if(bS==='absolute'||bS==='fixed'){bP=bO}bO=bO.offsetParent()}return r.$1(bP)};r.resize=function(e,bO){if(typeof(e['resize'])==='function'){e.resize(bO)}else{r.setMarginBox(e.domNode||e,bO)}};r.getContentBox=function(e){var bO=$(e);return{l:parseInt(bO.css('padding-left'),10)||0,t:parseInt(bO.css('padding-top'),10)||0,w:t.roundToInt(bO.width()),h:t.roundToInt(bO.height())}};r.setContentBox=function(e,bO){$(e).width(bO.w).height(bO.h)};r.setMarginBox=function(e,bO){r.setMarginBoxJQ($(e),bO)};r.setMarginBoxJQ=function(e,bO){var bP=e[0];var bQ=bP.style;var bR=window.getComputedStyle(bP);r.$2(bR,bO,bP);if(!isNaN(bO.t)){bQ.top=bO.t+'px'}if(!isNaN(bO.l)){bQ.left=bO.l+'px'}};r.setAbsolutePositionBox=function(e,bO){e.css({left:(bO.l||0)+'px',top:(bO.t||0)+'px',width:(bO.w||0)+'px',height:(bO.h||0)+'px'})};r.getMarginBox=function(e){return r.getMarginBoxJQ($(e))};r.getMarginBoxJQ=function(e){var bO=e.position();return{l:t.roundToInt(bO.left),t:t.roundToInt(bO.top),w:t.roundToInt(e.outerWidth(true)),h:t.roundToInt(e.outerHeight(true))}};r.getRectXY=function(e){var bO=t.roundToInt(r.getPageOffset$1(e).left);var bP=t.roundToInt(r.getPageOffset$1(e).top);var bQ=t.roundToInt(e.outerWidth(true));var bR=t.roundToInt(e.outerHeight(true));return{x:bO,y:bP,w:bQ,h:bR}};r.getRectXY$1=function(e,bO){var bP=r.getRectXY(e);if(bO){var bQ=r.docScroll();bP.x+=bQ.x;bP.y+=bQ.y}return bP};r.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(r.get_documentBody().scrollLeft,0)));var bO=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(r.get_documentBody().scrollTop,0)));return{x:e,y:bO}};r.isAncestorOf=function(e,bO){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bO)){return false}return $(bO).parents().index(e)>=0};r.isEqualOrAncestorOf=function(e,bO){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bO)){return false}return ss.referenceEquals(e,bO)||r.isAncestorOf(e,bO)};r.setElementPosition=function(e,bO,bP,bQ,bR){if(!ss.isValue(bR)||ss.unbox(bR)){var bS=ss.mkdict(['top','0px','left','0px']);var bT=(new ss.StringBuilder('translate3d(')).append(bO).append('px,').append(bP).append('px,').append('0px)').toString();bS[BrowserSupport.BrowserSupport.CssTransformName()]=bT;if(ss.isValue(bQ)){bS[BrowserSupport.BrowserSupport.CssTransitionName()+'-duration']=bQ}e.css(bS);return}var bU=ss.mkdict(['position','absolute','top',bP+'px','left',bO+'px']);bU[BrowserSupport.BrowserSupport.CssTransformName()]='';e.css(bU)};r.getElementPosition=function(e){return bc.fromPosition(e.offset())};r.getElementClientPosition=function(e){var bO=r.getElementPosition(e);bO.x-=$(document.documentElement).scrollLeft();bO.y-=t.roundToInt($(document.documentElement).scrollTop());return bO};r.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bO=e.css('transform');if(ss.isNullOrEmptyString(bO)){return{left:0,top:0}}var bP=bO.split('(');var bQ=r.$7[bP[0]];if(ss.isNullOrUndefined(bQ)){return{left:0,top:0}}var bR=bP[1].split(',');return{left:ss.coalesce(t.parseDouble(bR[ss.unbox(bQ)]),0),top:ss.coalesce(t.parseDouble(bR[ss.unbox(bQ)+1]),0)}};r.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bO=e.css('transform');if(ss.isNullOrEmptyString(bO)){return 1}var bP=bO.split('(');if(bP[0]==='scale'||bP[0]==='matrix'||bP[0]==='matrix3d'){return ss.coalesce(t.parseDouble(bP[1]),1)}else{return 1}};r.getPageOffset$1=function(e){var bO=r.getPageOffset(e[0]);return{left:bO.x,top:bO.y}};r.getPageOffset=function(e){var bO=e.getBoundingClientRect();var bP=document.documentElement.getBoundingClientRect();return{x:bO.left-bP.left,y:bO.top-bP.top}};r.getScrollPosition=function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}};r.scrollPosition=function(e,bO){e[0].scrollLeft=bO.left;e[0].scrollTop=bO.top};r.focusWithoutScrolling=function(e,bO){if(ss.isNullOrUndefined(bO)||bO.length===0){e()}else{bO.attr('data-tab-test-wait','');window.setTimeout(function(){var bP=r.getScrollPosition(bO);e();r.scrollPosition(bO,bP);bO.removeAttr('data-tab-test-wait')},200)}};r.roomAroundPosition=function(e){var bO=e.top-window.pageYOffset;var bP=window.pageYOffset+window.innerHeight-e.top;var bQ=e.left-window.pageXOffset;var bR=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bO,roomBelow:bP,roomLeft:bQ,roomRight:bR}};r.getElementRelativePosition=function(e,bO){if(ss.isNullOrUndefined(bO)){bO=e.parent()}var bP=e.offset();var bQ=bO.offset();return{x:t.roundToInt(bP.left)-t.roundToInt(bQ.left),y:t.roundToInt(bP.top)-t.roundToInt(bQ.top)}};r.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!R.isNullOrEmpty$3(e.width)){return parseInt(e.width)}return Number.NaN};r.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!R.isNullOrEmpty$3(e.height)){return parseInt(e.height)}return Number.NaN};r.createNamespacedEventName=function(e,bO){if(ss.isValue(bO)){return e+bO}return e.toString()};r.stopPropagationOfInputEvents=function(e,bO){var bP=function(bQ){bQ.stopPropagation()};r.handleInputEvents(e,bO,bP)};r.handleInputEvents=function(e,bO,bP){e.on(r.createNamespacedEventName('touchstart',bO),bP).on(r.createNamespacedEventName('touchcancel',bO),bP).on(r.createNamespacedEventName('touchend',bO),bP).on(r.createNamespacedEventName('touchmove',bO),bP).on(r.createNamespacedEventName('click',bO),bP).on(r.createNamespacedEventName('mousedown',bO),bP).on(r.createNamespacedEventName('mousemove',bO),bP).on(r.createNamespacedEventName('mouseup',bO),bP)};r.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bO=e.tagName.toLowerCase();if(bO==='textarea'||bO==='input'||bO==='select'){return true}}return false};r.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bO=e.tagName.toLowerCase();var bP=$(e).attr('type');if(bO==='input'&&bP==='checkbox'){return true}}return false};r.handleTouchEvents=function(e){if(r.isCheckboxElement(e)){return false}if(r.isFocusableTextElement(e)){return false}return true};r.setCapture=function(e,bO){if(!BrowserSupport.BrowserSupport.MouseCapture()){return}e.setCapture(bO)};r.releaseCapture=function(){if(!BrowserSupport.BrowserSupport.MouseCapture()){return}document.releaseCapture()};r.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,r.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};r.$0=function(e,bO){var bP=parseInt(e,10);return(isNaN(bP)?bO:bP)};r.getSizeFromCssPixelProperty=function(e,bO){var bP=e.css(bO);return r.$0(bP,0)};r.$4=function(e,bO,bP){var bQ=r.$0(e.marginLeft,0);var bR=r.$0(e.borderLeftWidth,0);var bS=r.$0(e.paddingLeft,0);var bT=r.$0(e.paddingRight,0);var bU=r.$0(e.borderRightWidth,0);var bV=r.$0(e.marginRight,0);var bW=Math.max(bO-bQ-bR-bS-bT-bU-bV,0);bP.style.width=bW+'px'};r.$3=function(e,bO,bP){var bQ=r.$0(e.marginTop,0);var bR=r.$0(e.borderTopWidth,0);var bS=r.$0(e.paddingTop,0);var bT=r.$0(e.paddingBottom,0);var bU=r.$0(e.borderBottomWidth,0);var bV=r.$0(e.marginBottom,0);var bW=Math.max(bO-bQ-bR-bS-bT-bU-bV,0);bP.style.height=bW+'px'};r.$2=function(e,bO,bP){if(bO.w>=0){r.$4(e,bO.w,bP)}if(bO.h>=0){r.$3(e,bO.h,bP)}};r.$1=function(e){Z.verifyValue(e,'o');var bO=e.css('z-index');if(_.isNumber(bO)){return bO}if(_.isString(bO)){if(!ss.isNullOrEmptyString(bO)&&bO!=='auto'&&bO!=='inherits'){return parseInt(bO,10)}}return 0};r.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};r.setSelectionRangeOnInput=function(e,bO,bP){if(BrowserSupport.BrowserSupport.SetSelectionRange()){try{e.setSelectionRange(bO,bP)}catch(bQ){}}};r.selectAllInputText=function(e){try{if(BrowserSupport.BrowserSupport.SetSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bO){}};r.setCursorPosition=function(e,bO){if(typeof(e['createTextRange'])==='function'){var bP=(e.createTextRange?e.createTextRange():null);bP.move('character',bO);bP.select();bP.scrollIntoView();e.focus()}else if(BrowserSupport.BrowserSupport.IsSafari()&&BrowserSupport.BrowserSupport.SetSelectionRange()){e.focus();e.setSelectionRange(bO,bO)}else{e.blur();e.selectionStart=e.selectionEnd=bO;e.focus()}};r.replaceSelection=function(e,bO){var bP=e.value;var bQ=bP.substr(0,e.selectionStart);var bR=bP.substring(e.selectionEnd);var bS=e.selectionStart+bO.length;e.value=bQ+bO+bR;r.setCursorPosition(e,bS)};r.setNativeTooltip=function(e,bO){var bP=ss.isNullOrEmptyString(bO);if(bP){e.removeAttr('title')}else{e.attr('title',bO)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bP){var bQ=$("<div class='tab-mobileTooltip'/>").text(bO);e.append(bQ)}}};r.nodeHasTextSelection=function(e){var bO=window.getSelection();for(var bP=bO.rangeCount-1;bP>=0;--bP){var bQ=bO.getRangeAt(bP);if(ss.referenceEquals(e,bQ.startContainer)||e.contains(bQ.startContainer)||ss.referenceEquals(e,bQ.endContainer)||e.contains(bQ.endContainer)){return true}}return false};r.generateUniqueId=function(){return'tab-ui-id-'+r.$8++};r.getIds=function(e){if(ss.isNullOrUndefined(e)){return[]}return e.map(function(bO,bP){return bP.id}).get()};r.asIDSelector=function(e){return'#'+e};r.asClassSelector=function(e){return'.'+e};r.toMsString=function(e){return e+'ms'};r.toPoint=function(e){return{x:ss.Int32.trunc(e.left),y:ss.Int32.trunc(e.top)}};global.tab.DomUtil=r;var s=function(){};s.__typeName='tab.DoubleRectXYUtil';s.constructDoubleRectXY=function(e,bO,bP,bQ){return{x:e,y:bO,w:bP-e,h:bQ-bO}};s.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};s.isEqual=function(e,bO){return e.x===bO.x&&e.y===bO.y&&e.w===bO.w&&e.h===bO.h};s.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};s.inRect=function(e,bO){return bO.x>=e.x&&bO.x<e.x+e.w&&bO.y>=e.y&&bO.y<e.y+e.h};s.inRect$1=function(e,bO,bP,bQ,bR,bS){return bR>=e&&bR<e+bP&&bS>=bO&&bS<bO+bQ};s.intersectsWith=function(e,bO){return!(bO.x+bO.w<e.x||bO.y+bO.h<e.y||bO.x>e.x+e.w||bO.y>e.y+e.h)};s.outsetRect=function(e,bO,bP){return{x:e.x-bO,y:e.y-bP,w:e.w+bO+bO,h:e.h+bP+bP}};s.outsetRectInPlace=function(e,bO,bP){e.x-=bO;e.y-=bP;e.w+=2*bO;e.h+=2*bP};s.toEncompassingRectXY=function(e){var bO=Math.floor(e.x);var bP=Math.floor(e.y);var bQ=Math.ceil(e.x+e.w);var bR=Math.ceil(e.y+e.h);return{x:bO,y:bP,w:bQ-bO,h:bR-bP}};global.tab.DoubleRectXYUtil=s;var t=function(){};t.__typeName='tab.DoubleUtil';t.$0=function(){return tab.Logger.lazyGetLogger(t)};t.isApproximatelyEqual=function(e,bO){if(Math.abs(e-bO)<t.epsilon){return true}if(e===0){return false}var bP=bO/e;if(t.$3<=bP&&bP<=t.$5){return true}return false};t.isApproximatelyZero=function(e){return t.isApproximatelyEqual(0,e)};t.isLessThanAndNotApproximatelyEqual=function(e,bO){return e<bO&&!t.isApproximatelyEqual(e,bO)};t.isLessThanOrApproximatelyEqual=function(e,bO){return e<bO||t.isApproximatelyEqual(e,bO)};t.isGreaterThanAndNotApproximatelyEqual=function(e,bO){return e>bO&&!t.isApproximatelyEqual(e,bO)};t.isGreaterThanOrApproximatelyEqual=function(e,bO){return e>bO||t.isApproximatelyEqual(e,bO)};t.sigFigs=function(e,bO){if(e===0||bO===0){return e}var bP=Math.pow(10,bO-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bP)/bP};t.roundToInt=function(e){return ss.round(e)};t.parseDouble=function(e){var bO=parseFloat(e);return(isFinite(bO)?bO:null)};t.tryParseDouble=function(e,bO){var bP=parseFloat(e);if(isNaN(bP)||!isFinite(bP)){return bO}return bP};t.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};t.parse64BitInteger=function(e){var bO={};if(!ss.Int32.tryParse(e,bO)){return null}var bP=t.parseValidDouble(e);if(ss.Nullable$1.gt(bP,9.22337203685477E+18)||ss.Nullable$1.lt(bP,-9.22337203685477E+18)){return null}return bO.$};t.isValid32BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bO=t.parse64BitInteger(e);if(ss.isNullOrUndefined(bO)){return false}return ss.Nullable$1.le(bO,2147483647)&&ss.Nullable$1.ge(bO,-2147483648)};t.isValid64BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bO=t.parse64BitInteger(e);if(ss.isNullOrUndefined(bO)){return false}return true};t.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!t.isValidDouble(e)){return Number.NaN}return parseFloat(e)};t.multiplyBy100=function(e){return e*1000/10};t.truncateTwoDecimalPlaces=function(e){return ss.Int32.trunc(t.multiplyBy100(e))/100};t.roundTwoDecimalPlaces=function(e){return ss.round(t.multiplyBy100(e))/100};global.tab.DoubleUtil=t;var u=function(){};u.__typeName='tab.ErrorTrace';u.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){u.$2=true}}u.$0('setTimeout');u.$0('setInterval')};u.wrap=function(bO){return function(){try{return bO.apply(this,Array.prototype.slice.call(arguments))}catch(bP){var e=ss.Exception.wrap(bP);u.report(e);throw bP}}};u.$0=function(e){var bO=window[e];var bP=function(){var bQ=ss.arrayClone(Array.prototype.slice.call(arguments));var bR=bQ[0];if(ss.isInstanceOfType(bR,Function)){bQ[0]=u.wrap(bR)}return bO.apply(this,bQ)};window[e]=bP};u.windowOnError=function(e,bO,bP,bQ,bR){var bS=d.$6(bR);var bT=new bp('onError',e,'window.onError',bS);u.$5.push(bT);if(ss.isValue(u.$3)){u.$3(e,bO,bP,bQ,bR)}return false};u.getStackTraceFor=function(e){var bO=new bp('stack',d.$2(e),e.name,null);if(u.$2){var bP=null;try{bP=d.$0(e)}catch(bQ){var inner=ss.Exception.wrap(bQ);if(u.$6){throw inner}}if(ss.isValue(bP)){return bP}}else{return bO}bO.traceMode='failed';return bO};u.hasTraces=function(){return u.$5.length>0};u.dequeueTraces=function(){var e=u.$5;u.$5=[];return e};u.installGlobalHandler=function(){if(u.$4||!u.$1){return}u.$3=window.onerror;window.onerror=u.windowOnError;u.$4=true};u.report=function(e){var bO=u.getStackTraceFor(e);u.$5.push(bO)};global.tab.ErrorTrace=u;var v=function(){};v.__typeName='tab.FeatureFlags';v.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(v.$0)&&ss.keyExists(v.$0,e)){return v.$0[e]}return false};v.setDefaults=function(e){v.$0=e};global.tab.FeatureFlags=v;var w=function(){};w.__typeName='tab.FeatureParam';global.tab.FeatureParam=w;var x=function(){};x.__typeName='tab.FeatureParamsLookup';x.getBool=function(e){if(ss.keyExists(x.$4,e)){return x.$4[e]||false}return false};x.getFloat=function(e){if(ss.keyExists(x.$6,e)){return x.$6[e]}return null};x.getInt=function(e){if(ss.keyExists(x.$8,e)){return x.$8[e]}return null};x.getString=function(e){if(ss.keyExists(x.$b,e)){return x.$b[e]}return null};x.$1=function(e,bO,bP){x.$5.push(bO);x.$d[e]=bO;x.$4[bO]=bP};x.$2=function(e,bO){x.$9.push(bO);x.$d[e]=bO;x.$8[bO]=null};x.$3=function(e,bO){x.$c.push(bO);x.$d[e]=bO;x.$b[bO]=null};x.$0=function(){var e=window.self.location.search;var bO=ss.coalesce(tab.CookieHelper.getValueForCookie('featureParams'),'');var bP=((R.isNullOrEmpty$3(e)||R.isNullOrEmpty$3(bO))?(e+bO):(e+'&'+bO));var bQ=tab.UriExtensions.getUriQueryParameters(bP);var bR=new ss.ObjectEnumerator(bQ);try{while(bR.moveNext()){var bS=bR.current();var bT=bS.key.toLowerCase();var bU=0;if(ss.keyExists(x.$d,bT)){bU=x.$d[bT]}else{continue}if(bS.value.length>0){var bV=bS.value[0];if(ss.contains(x.$5,bU)){var bW=bV.toLowerCase()==='true';x.$4[bU]=bW}else if(ss.contains(x.$7,bU)){var bX=parseFloat(bV);x.$6[bU]=bX}else if(ss.contains(x.$9,bU)){var bY=parseInt(bV);x.$8[bU]=bY}else if(ss.contains(x.$c,bU)){x.$b[bU]=bV}else{continue}}else{continue}}}finally{bR.dispose()}};global.tab.FeatureParamsLookup=x;var y=function(){};y.__typeName='tab.GestureModelSettings';y.get_newModelEnabled=function(){return x.getBool(55)||v.isEnabled('TouchSmoothTooltips')};y.get_onboardingEnabled=function(){return x.getBool(56)||v.isEnabled('SmoothTooltipsOnboarding')};y.get_currentGestureModelVersion=function(){return(y.get_newModelEnabled()?'v2':'v1')};global.tab.GestureModelSettings=y;var z=function(){};z.__typeName='tab.GestureModelVersion';global.tab.GestureModelVersion=z;var A=function(){};A.__typeName='tab.HistoryUtil';A.pushState=function(e,bO,bP,bQ){if(BrowserSupport.BrowserSupport.HistoryApi()){try{e.history.pushState(bO,bP,bQ)}catch(bR){var e=ss.Exception.wrap(bR)}}};A.replaceState=function(e,bO,bP,bQ){if(BrowserSupport.BrowserSupport.HistoryApi()){try{e.history.replaceState(bO,bP,bQ)}catch(bR){var e=ss.Exception.wrap(bR)}}};global.tab.HistoryUtil=A;var B=function(){};B.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=B;var C=function(){};C.__typeName='tab.IAppendableView';global.tab.IAppendableView=C;var D=function(){};D.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=D;var E=function(){};E.__typeName='tab.ICommonBannerProvider';global.tab.ICommonBannerProvider=E;var F=function(){};F.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=F;var G=function(){};G.__typeName='tab.InstrumentationTools';G.isArray=function(e){return ss.isInstanceOfType(e,Array)};G.isTypedArray=function(e){return ss.isInstanceOfType(e,Uint8Array)||ss.isInstanceOfType(e,Uint16Array)||ss.isInstanceOfType(e,Uint32Array)||ss.isInstanceOfType(e,Int32Array)||ss.isInstanceOfType(e,Float32Array)||ss.isInstanceOfType(e,Float64Array)};global.tab.InstrumentationTools=G;var H=function(e,bO){this.$0=0;this.$1=0;this.$0=e;this.$1=bO};H.__typeName='tab.IntegerRange';H.itemToTileRange=function(e,bO){var bP=new H(0,0);bP.set_from(Math.floor(e.get_from()/bO));bP.set_to(Math.floor(e.get_to()/bO));return bP};H.pixelToItemRange=function(e,bO){var bP=new H(0,0);bP.set_from(Math.floor(e.get_from()/bO));bP.set_to(Math.floor(e.get_to()/bO));return bP};H.pixelToTileRange=function(e,bO,bP){return H.itemToTileRange(H.pixelToItemRange(e,bO),bP)};H.isEqual=function(e,bO){return ss.isValue(e)&&ss.isValue(bO)&&e.get_to()===bO.get_to()&&e.get_from()===bO.get_from()};H.union=function(e,bO){if(ss.isNullOrUndefined(e)){return bO}if(ss.isNullOrUndefined(bO)){return e}var bP=new H(0,0);bP.set_from(Math.min(e.get_from(),bO.get_from()));bP.set_to(Math.max(e.get_to(),bO.get_to()));return bP};global.tab.IntegerRange=H;var I=function(e){var bO=function(){};ss.registerGenericInterfaceInstance(bO,I,[e],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,C]});ss.setMetadata(bO,{variance:[1]});return bO};I.__typeName='tab.IView$1';ss.initGenericInterface(I,a,1);global.tab.IView$1=I;var J=function(){};J.__typeName='tab.IViewModel';global.tab.IViewModel=J;var K=function(){};K.__typeName='tab.IWidget';global.tab.IWidget=K;var L=function(){};L.__typeName='tab.ListExtensions';L.where=function(e){return function(bO,bP){var bQ=[];var bR=ss.getEnumerator(bO);try{while(bR.moveNext()){var bS=bR.current();if(bP(bS)){bQ.push(bS)}}}finally{bR.dispose()}return bQ}};L.except=function(e){return function(bO,bP){return L.where(e).call(null,bO,function(bQ){return!ss.contains(bP,bQ)})}};L.any=function(e){return function(bO,bP){for(var bQ=0;bQ<bO.length;bQ++){var bR=bO[bQ];if(bP(bR)){return true}}return false}};global.tab.ListExtensions=L;var M=function(){};M.__typeName='tab.LocaleStrings';global.tab.LocaleStrings=M;var N=function(){ss.Exception.call(this)};N.__typeName='tab.LoopBreakException';N.$ctor1=function(e){ss.Exception.call(this,e)};N.$ctor2=function(e,bO){ss.Exception.call(this,e,bO)};global.tab.LoopBreakException=N;var O=function(){};O.__typeName='tab.MapUtil';O.getZoomFactorForDesiredZoomLevel=function(e,bO){return Math.exp(-(Math.LN2*(bO-e)))};O.allowZoomAtCurrentLevel=function(e,bO){return e+O.convertZoomFactorToZoomLevel(bO)>=0};O.convertZoomFactorToZoomLevel=function(e){return-(Math.log(e)/Math.log(2))};O.allowZoomAtCurrentLevelLeaflet=function(e,bO){return e-bO>=0};O.getVisiblePixelWidth=function(e,bO,bP){var bQ=Math.pow(2,e)*bP;var bR=Math.floor(bO*bQ);return bR};O.getScrollDeltaForZoomFactor=function(e){return Math.floor(O.$1*(Math.log(e)/Math.log(2)))};O.getLeafletZoomOffsetForTileSize=function(e){return((e===O.$0)?-1:0)};O.calculateZoomFactor=function(e){var bO=ss.Int32.div(e,8);var bP=ss.Int32.div(bO,15);var bQ=1;var bR=ss.round(Math.log(bQ)/Math.log(2)*4)/4+bP/4;bQ=Math.pow(2,bR);return bQ};global.tab.MapUtil=O;var P=function(){};P.__typeName='tab.MapUtility';P.forEachWithInterrupt=function(e,bO){return function(bP,bQ){try{bP.forEach(bQ)}catch(bR){bR=ss.Exception.wrap(bR);if(ss.isInstanceOfType(bR,N)){}else{throw bR}}}};P.forEachWithInterrupt$1=function(e,bO){return function(bP,bQ){try{bP.forEach(function(bR,bS){bQ(bR,bS)})}catch(bR){bR=ss.Exception.wrap(bR);if(ss.isInstanceOfType(bR,N)){}else{throw bR}}}};P.createCopy=function(e,bO){return function(bP){var bQ=new Map;bP.forEach(function(bR,bS){bQ.set(bS,bR)});return bQ}};global.tab.MapUtility=P;var Q=function(){this.$9=[];this.$a=null;this.$7=[];this.$6=null;this.$8=null};Q.__typeName='tab.MetricsLogger';Q.isLoggerEnabled=function(){return tsConfig.metricsReportingEnabled};Q.$1=function(e,bO){var bP=(bO?', ':',');var bQ=new ss.StringBuilder;bQ.append((bO?Q.$9[e.eventType]:e.eventType.toString()));var bR=e.parameters;var bS=bR;if(ss.isValue(bR.ei)){bS=R.cloneObject(bS);var bT=bR.ei.split(': ');if(bT.length>1){var bU=ss.mkdict(bT);bS['p']=bU;delete bS['ei']}}var bV=ss.getKeyCount(bS);if(bV>0){bQ.append('=');bQ.append('{');var bW=0;var bX=(bO?': ':':');var bY=ss.getEnumerator(Object.keys(bS));try{while(bY.moveNext()){var bZ=bY.current();if(bZ==='id'&&e.eventType!=='init'){continue}if(bW++>0){bQ.append(bP)}bQ.append((bO?Q.$a[bZ]:bZ.toString()));bQ.append(bX);var ca=bS[bZ];Q.$2(bQ,ca,bO)}}finally{bY.dispose()}bQ.append('}')}return bQ.toString()};Q.$0=function(e,bO,bP){var bQ=(bP?', ':',');var bR=(bP?': ':':');var bS=ss.getKeyCount(bO);var bT=0;var bU=ss.getEnumerator(Object.keys(bO));try{while(bU.moveNext()){var bV=bU.current();if(bO.hasOwnProperty(bV)){var bW=bO[bV];e.append(bV);e.append(bR);Q.$2(e,bW,bP);if(++bT<bS){e.append(bQ)}}}}finally{bU.dispose()}};Q.$2=function(e,bO,bP){var bQ=typeof(bO);if(bQ==='number'&&Math.floor(bO)!==bO){e.append(bO.toFixed(1))}else if(bQ==='string'){if(bP||ss.isValue(bO)&&bO.indexOf('/')!==-1){var bR=new ss.StringBuilder;bR.append('"');bR.append(bO);bR.append('"');if(bP){e.append(bR)}else{e.append(encodeURIComponent(bR.toString()))}}else{e.append(encodeURIComponent(bO))}}else if($.isArray(bO)){e.append('[');e.append(bO);e.append(']')}else if(bQ==='object'){e.append('{');var bS=bO;Q.$0(e,bS,bP);e.append('}')}else{e.append(bO)}};global.tab.MetricsLogger=Q;var R=function(){};R.__typeName='tab.MiscUtil';R.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};R.get_urlPathnameParts=function(){var e=R.get_pathName();var bO=tsConfig.site_root;var bP=e.indexOf(bO,0);var bQ=e.substr(bP+bO.length);var bR=bQ.split('/');var bS={};bS[2]=bR[2];bS[3]=bR[3];bS[4]=bR[4];return bS};R.shallowEquals=function(e,bO){if(ss.referenceEquals(e,bO)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bO)){return false}var bP=Object.keys(e);var bQ=Object.keys(bO);if(bP.length!==bQ.length){return false}for(var bR=0;bR<bP.length;bR++){var bS=bP[bR];if(!bO.hasOwnProperty(bS)||!ss.referenceEquals(e[bS],bO[bS])){return false}}return true};R.percentEncode=function(e,bO){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bO)){return e}var bP=new ss.StringBuilder;var bQ=0;while(bQ<e.length){var bR=e.substr(bQ,1);if(bR==='%'){bP.append(e.substr(bQ,3));bQ+=2}else if(!ss.keyExists(bO,bR)){bP.append('%').append(bR.charCodeAt(0).toString(16).toUpperCase())}else{bP.append(bR)}bQ++}return bP.toString()};R.encodeForWG=function(e){var bO={};var bP=function(bQ,bR){for(var bS=bQ;bS<=bR;bS++){var bT=String.fromCharCode(bS);bO[bT]=bT}};bP(97,122);bP(65,90);bP(48,57);bP(95,95);bP(45,45);e=R.percentEncode(e,bO);e=R.percentEncode(e,null);return e};R.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bO=0;bO<e.length;bO++){if(ss.isNullOrUndefined(e[bO])){return true}}return false};R.isNullOrEmpty$2=function(e){if(ss.isNullOrUndefined(e)){return true}var bO=e;if(ss.isValue(bO['length'])&&bO['length']===0){return true}return false};R.isNullOrEmpty$3=function(e){return ss.isNullOrEmptyString(e)};R.isNullOrEmpty$1=function(e){return ss.isNullOrUndefined(e)||e.length===0};R.isNullOrEmpty=function(e){return ss.isNullOrUndefined(e)||e.length===0};R.isValidIndex=function(e,bO){return e>=0&&e<bO.length};R.toBoolean=function(e,bO){var bP=new RegExp('^(yes|y|true|t|1)$','i');if(R.isNullOrEmpty$3(e)){return bO}var bQ=e.match(bP);return!R.isNullOrEmpty$2(bQ)};R.shouldShowDataTab=function(){return tsConfig.allow_add_new_datasource&&v.isEnabled('DataToTheWeb')&&(!tsConfig.is_mobile||tsConfig.is_mobile&&v.isEnabled('DataToTheWebMobile'))};R.replaceUriQueryParameters=function(e,bO){if(ss.getKeyCount(bO)===0){return e}var bP=new ss.StringBuilder;var bQ=true;var bR=function(){bP.append((bQ?'?':'&'));bQ=false};var bS=_.keys(bO);for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];var bV=bO[bU];var bW=encodeURIComponent(bU);if(ss.isNullOrUndefined(bV)||bV.length===0){bR();bP.append(bW)}else{for(var bX=0;bX<bV.length;bX++){var bY=bV[bX];bR();bP.append(bW).append('=').append(encodeURIComponent(bY))}}}var bZ='';var ca='';if(e.length>0){var cb=e.indexOf('?');var cc=e.indexOf('#');var cd=Math.min(((cb<0)?e.length:cb),((cc<0)?e.length:cc));ca=e.substr(0,cd);bZ=((cc<0)?'':e.substr(cc))}return ca+bP+bZ};R.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};R.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};R.dispose=function(e){if(ss.isValue(e)){for(var bO=0;bO<e.length;bO++){var bP=e[bO];if(ss.isValue(bP)){bP.dispose()}}ss.clear(e)}return null};R.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};R.clearInterval=function(e){if(ss.isValue(e)){window.clearInterval(ss.unbox(e))}return null};R.cloneObject=function(e){var bO=JSON.stringify(e,function(bP,bQ){if(ss.isInstanceOfType(bQ,Uint32Array)||ss.isInstanceOfType(bQ,Int32Array)||ss.isInstanceOfType(bQ,Float64Array)||ss.isInstanceOfType(bQ,Float32Array)){return Array.prototype.slice.call(bQ)}return bQ});return JSON.parse(bO)};global.tab.MiscUtil=R;var S=function(){};S.__typeName='tab.NaturalLanguageUtil';S.isNlpView=function(){if(!v.isEnabled('NLBox')){return false}return tsConfig.nlpLayoutMode==='landing'||tsConfig.nlpLayoutMode==='exploration'};global.tab.NaturalLanguageUtil=S;var T=function(){};T.__typeName='tab.NavigationMetricsCollector';T.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'&&typeof(tabBootstrap.MetricsEvent)!=='undefined'){T.$0=window.performance.timing;if('navigationStart'in T.$0){var e=T.$0[T.$1[0]];var bO=[];for(var bP=0;bP<T.$1.length;bP++){var bQ=T.$1[bP];var bR=T.$0[bQ];bR=((bR===0)?0:(bR-e));bO.push(bR)}var bS={v:bO};var bT=new tabBootstrap.MetricsEvent('nav',1,bS);tabBootstrap.MetricsController.logEventInternalUse(bT)}}};global.tab.NavigationMetricsCollector=T;var U=function(){};U.__typeName='tab.NewRelicMetricsLogger';U.isLoggerSupported=function(){return'newrelic'in window};U.$0=function(e){return e+tabBootstrap.MetricsController.recordingStart};global.tab.NewRelicMetricsLogger=U;var V=function(e,bO){this.$1=null;this.$0=null;this.$1=e;this.$0=bO};V.__typeName='tab.ObjectAccessTracker';V.$0=function(e){return typeof(e)==='symbol'};global.tab.ObjectAccessTracker=V;var W=function(e){this.$2={};this.$1=null;this.$0=null;this.$0=e;W.trackedObjects[e]=this};W.__typeName='tab.ObjectCoverage';W.shouldTrack=function(e){if(ss.isNullOrUndefined(W.$0)){W.$0={};var bO=x.getString(47);if(!ss.isNullOrUndefined(bO)){var bP=bO.split(',');for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];W.$0[bR]=true}}}return ss.keyExists(W.$0,e)&&W.$0[e]};global.tab.ObjectCoverage=W;var X=function(){};X.__typeName='tab.ObjectRegistry';X.registerType=function(e,bO){return function(){if(ss.isNullOrUndefined(X.$3)){X.$3={}}X.$3[ss.getTypeFullName(e)]=bO}};X.registerDeferredType=function(e){return function(){var bO=$.Deferred();if(ss.isNullOrUndefined(X.$2)){X.$2={}}X.$2[ss.getTypeFullName(e)]=bO}};X.resolveDeferredType=function(e){return function(bO){if(ss.isNullOrUndefined(X.$2)){return}X.$2[ss.getTypeFullName(e)].resolve(bO)}};X.newView$1=function(e){return function(bO,bP){return X.$1(e).call(null,bO,bP)}};X.newView=function(e){return function(bO){return X.$1(e).call(null,e,bO)}};X.newDeferred=function(e){return function(bO){var bP=e;if(ss.isNullOrUndefined(X.$2)){throw new ss.Exception('No deferred types registered')}var bQ=X.$2[ss.getTypeFullName(bP)];if(ss.isNullOrUndefined(bQ)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(bP))}var bR=$.Deferred();bQ.done(function(bS){bR.resolve(ss.applyConstructor(bS,bO))});return bR}};X.newWidget$2=function(e){return function(bO,bP){return X.$1(e).call(null,bO,bP)}};X.newWidget=function(e){return function(){return X.$1(e).call(null,e,[])}};X.newWidget$1=function(e){return function(bO){return X.$1(e).call(null,e,bO)}};X.$1=function(e){return function(bO,bP){if(ss.isNullOrUndefined(X.$3)){throw new ss.Exception('No types registered')}var bQ=X.$3[ss.getTypeFullName(bO)];if(ss.isNullOrUndefined(bQ)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(bO))}var bR=((bP.length===0)?ss.createInstance(bQ):ss.applyConstructor(bQ,bP));return(X.$0(bQ,e)?bR:bR)}};X.newLegacyTooltip=function(e){return function(bO,bP,bQ){if(ss.isNullOrUndefined(X.$3)){throw new ss.Exception('No types registered')}var bR=X.$3[ss.getTypeFullName(bO)];if(ss.isNullOrUndefined(bR)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bO))}var bS=new bR(bP,bQ);return bS}};X.newLegacyTooltipBehavior=function(e){return function(bO,bP){if(ss.isNullOrUndefined(X.$3)){throw new ss.Exception('No types registered')}var bQ=X.$3[ss.getTypeFullName(bO)];if(ss.isNullOrUndefined(bQ)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bO))}var bR=new bQ(bP);return bR}};X.resolve=function(e){return function(bO){var bP=e;if(ss.isNullOrUndefined(X.$3)){throw new ss.Exception('No types registered')}var bQ=X.$3[ss.getTypeFullName(bP)];if(ss.isNullOrUndefined(bQ)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(bP))}return ss.applyConstructor(bQ,bO)}};X.$0=function(e,bO){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(bO))||ss.isValue(ss.getGenericTypeDefinition(e))};global.tab.ObjectRegistry=X;var Y=function(){};Y.__typeName='tab.ObjectWriteDetectionProxy';global.tab.ObjectWriteDetectionProxy=Y;var Z=function(){};Z.__typeName='tab.Param';Z.createArgumentNullOrUndefinedException=function(e){var bO=new ss.Exception(e+' is null or undefined.');bO.paramName=e;return bO};Z.verifyString=function(e,bO){Z.verifyValue(e,bO);if(e.trim().length===0){var bP=new ss.Exception(bO+' contains only white space');bP.paramName=bO;Z.$1(bP);throw bP}};Z.verifyValue=function(e,bO){if(ss.isNullOrUndefined(e)){var bP=Z.createArgumentNullOrUndefinedException(bO);Z.$1(bP);throw bP}};Z.$1=function(e){if(Z.suppressAlerts){return}try{throw e}catch(bO){var exceptionWithStack=ss.Exception.wrap(bO);window.alert(Z.$0(exceptionWithStack))}};Z.$0=function(e){var bO;if(ss.isValue(e.stack)){bO=e.stack}else{bO=e.get_message()}return bO};global.tab.Param=Z;var ba=function(){};ba.__typeName='tab.PathnameKey';global.tab.PathnameKey=ba;var bb=function(){};bb.__typeName='tab.PointDUtil';bb.subtract=function(e,bO){return{x:e.x-bO.x,y:e.y-bO.y}};bb.timesScalar=function(e,bO){return{x:e.x*bO,y:e.y*bO}};bb.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointDUtil=bb;var bc=function(){};bc.__typeName='tab.PointUtil';bc.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.x,y:e.y}};bc.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bO={x:ss.round(e.x),y:ss.round(e.y)};return bO};bc.fromPosition=function(e){return{x:t.roundToInt(e.left),y:t.roundToInt(e.top)}};bc.fromPointD=function(e){return{x:t.roundToInt(e.x),y:t.roundToInt(e.y)}};bc.add=function(e,bO){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bO)){return e}return{x:e.x+bO.x,y:e.y+bO.y}};bc.subtract=function(e,bO){return{x:e.x-bO.x,y:e.y-bO.y}};bc.multiply=function(e,bO){return{x:e.x*bO.x,y:e.y*bO.y}};bc.distance=function(e,bO){Z.verifyValue(e,'first');Z.verifyValue(bO,'second');var bP=e.x-bO.x;var bQ=e.y-bO.y;return Math.sqrt(bP*bP+bQ*bQ)};bc.isWithinDistance=function(e,bO,bP){var bQ=e.x-bO.x;var bR=e.y-bO.y;return bQ*bQ+bR*bR<=bP*bP};bc.equals=function(e,bO){return ss.isValue(e)&&ss.isValue(bO)&&bO.x===e.x&&bO.y===e.y};bc.timesScalar=function(e,bO){return{x:e.x*bO,y:e.y*bO}};global.tab.PointUtil=bc;var bd=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};bd.__typeName='tab.PropertyChangedEventArgs';global.tab.PropertyChangedEventArgs=bd;var be=function(){};be.__typeName='tab.ReadOnlyProxy';global.tab.ReadOnlyProxy=be;var bf=function(){};bf.__typeName='tab.RecordCast';bf.rectPresModelAsRectXY=function(e){return(ss.isNullOrUndefined(e)?null:{x:e.x,y:e.y,w:e.w,h:e.h})};bf.doubleRectPresModelAsDoubleRectXY=function(e){return(ss.isNullOrUndefined(e)?null:{x:e.doubleLeft,y:e.doubleTop,w:e.width,h:e.height})};bf.sizeAsSizePresModel=function(e){return(ss.isNullOrUndefined(e)?null:{w:e.w,h:e.h})};global.tab.RecordCast=bf;var bg=function(){};bg.__typeName='tab.RectUtil';bg.isEmpty=function(e){return e.w===0||e.h===0};bg.isEqual=function(e,bO){return e.t===bO.t&&e.l===bO.l&&e.w===bO.w&&e.h===bO.h};bg.inRect=function(e,bO){return bO.x>=e.l&&bO.x<e.l+e.w&&bO.y>=e.t&&bO.y<e.t+e.h};bg.intersectsWith=function(e,bO){return!(bO.l+bO.w<e.l||bO.t+bO.h<e.t||bO.l>e.l+e.w||bO.t>e.t+e.h)};bg.intersect=function(e,bO){if(!bg.intersectsWith(e,bO)||bg.isEmpty(bO)||bg.isEmpty(e)){return{l:0,t:0,w:0,h:0}}var bP=Math.max(e.l,bO.l);var bQ=Math.max(e.t,bO.t);var bR=Math.min(e.l+e.w,bO.l+bO.w);var bS=Math.min(e.t+e.h,bO.t+bO.h);return{l:bP,t:bQ,w:bR-bP,h:bS-bQ}};bg.translateRectToFitInBounds=function(e,bO){var bP=bO.t;var bQ=bO.l;var bR=bO.t+bO.h-e.h;var bS=bO.l+bO.w-e.w;var bT=Math.max(Math.min(bR,e.t),bP);var bU=Math.max(Math.min(bS,e.l),bQ);return{l:bU,t:bT,w:e.w,h:e.h}};bg.toRectXY=function(e){return{x:e.l,y:e.t,w:e.w,h:e.h}};global.tab.RectUtil=bg;var bh=function(){};bh.__typeName='tab.RectXYUtil';bh.set=function(e,bO){e.x=bO.x;e.y=bO.y;e.w=bO.w;e.h=bO.h};bh.set$1=function(e,bO,bP,bQ,bR){e.x=bO;e.y=bP;e.w=bQ;e.h=bR};bh.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};bh.isEqual=function(e,bO){return e.x===bO.x&&e.y===bO.y&&e.w===bO.w&&e.h===bO.h};bh.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};bh.inRect=function(e,bO){return bO.x>=e.x&&bO.x<e.x+e.w&&bO.y>=e.y&&bO.y<e.y+e.h};bh.inRect$1=function(e,bO,bP){return bO>=e.x&&bO<e.x+e.w&&bP>=e.y&&bP<e.y+e.h};bh.inRectPointF=function(e,bO){return bO.x>=e.x&&bO.x<e.x+e.w&&bO.y>=e.y&&bO.y<e.y+e.h};bh.inRectPointF$1=function(e,bO,bP){return bO>=e.x&&bO<e.x+e.w&&bP>=e.y&&bP<e.y+e.h};bh.intersectsWith=function(e,bO){return!(bO.x+bO.w<e.x||bO.y+bO.h<e.y||bO.x>e.x+e.w||bO.y>e.y+e.h)};bh.intersectsWith$1=function(e,bO,bP,bQ,bR){return!(bO+bQ<e.x||bP+bR<e.y||bO>e.x+e.w||bP>e.y+e.h)};bh.intersectsWithMoreThanSharedEdge=function(e,bO){return!(bO.x+bO.w<=e.x||bO.y+bO.h<=e.y||bO.x>=e.x+e.w||bO.y>=e.y+e.h)};bh.toPresModel=function(e){return{x:e.x|0,y:e.y|0,w:e.w|0,h:e.h|0}};bh.fromPresModel=function(e){return{x:e.x|0,y:e.y|0,w:e.w|0,h:e.h|0}};bh.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};bh.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};bh.intersectsWithAny=function(e,bO){var bP=false;for(var bQ=0;bQ<bO.length;bQ++){var bR=bO[bQ];if(ss.isNullOrUndefined(bR)){continue}if(bh.intersectsWith(e,bR)){bP=true;break}}return bP};bh.intersectsWithAny$1=function(e,bO,bP){if(bO.y+bO.h<e.y||bO.y>e.y+e.h){return false}var bQ=e.x;var bR=e.x+e.w;for(var bS=0;bS<bP.length;bS++){var bT=bP[bS];var bU=bO.x+bT;var bV=bU+bO.w;if(!(bV<bQ||bU>bR)){return true}}return false};bh.completelyContains=function(e,bO){return bh.inRect(e,{x:bO.x,y:bO.y})&&bh.inRect(e,{x:bO.x+bO.w-1,y:bO.y+bO.h-1})};bh.completelyContains$1=function(e,bO,bP,bQ,bR){return bh.inRect$1(e,bO,bP)&&bh.inRect$1(e,bO+bQ-1,bP+bR-1)};bh.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};bh.offsetRect=function(e,bO){return{x:e.x+bO.x,y:e.y+bO.y,w:e.w,h:e.h}};bh.offsetRectXY=function(e,bO,bP){return{x:e.x+bO,y:e.y+bP,w:e.w,h:e.h}};bh.offsetRectXYInPlace=function(e,bO,bP){e.x+=bO;e.y+=bP};bh.offsetRectF=function(e,bO){return{x:e.x+Math.round(bO.x),y:e.y+Math.round(bO.y),w:e.w,h:e.h}};bh.outsetRect=function(e,bO,bP){return{x:e.x-bO,y:e.y-bP,w:e.w+bO+bO,h:e.h+bP+bP}};bh.outsetRectInPlace=function(e,bO,bP){e.x-=bO;e.y-=bP;e.w+=2*bO;e.h+=2*bP};bh.outsetRectSizeF=function(e,bO){return bh.outsetRect(e,Math.ceil(bO.w),Math.ceil(bO.h))};bh.encompassCircleInPlace=function(e,bO,bP,bQ){var bR=bQ*2;var bS=Math.floor(bO-bQ+0.5);var bT=Math.floor(bP-bQ+0.5);var bU=Math.floor(bR+0.5);bh.unionInPlace$1(e,bS,bT,bU,bU)};bh.union=function(e,bO){if(bh.isEmpty(e)){return bh.clone(bO)}if(bh.isEmpty(bO)){return bh.clone(e)}var bP=Math.min(e.x,bO.x);var bQ=Math.min(e.y,bO.y);var bR=Math.max(e.x+e.w,bO.x+bO.w);var bS=Math.max(e.y+e.h,bO.y+bO.h);return{x:bP,y:bQ,w:bR-bP,h:bS-bQ}};bh.unionInPlace$1=function(e,bO,bP,bQ,bR){if(bh.isEmpty(e)){bh.set$1(e,bO,bP,bQ,bR);return}if(bQ===0||bR===0){return}var bS=Math.min(e.x,bO);var bT=Math.min(e.y,bP);var bU=Math.max(e.x+e.w,bO+bQ);var bV=Math.max(e.y+e.h,bP+bR);bh.set$1(e,bS,bT,bU-bS,bV-bT)};bh.unionInPlace=function(e,bO){bh.unionInPlace$1(e,bO.x,bO.y,bO.w,bO.h)};bh.unionAll=function(e){var bO=e.length;if(bO===0){return{x:0,y:0,w:0,h:0}}var bP=e[0];var bQ=bP.x;var bR=bP.y;var bS=bP.x+bP.w;var bT=bP.y+bP.h;for(var bU=1;bU<bO;bU++){bP=e[bU];bQ=Math.min(bQ,bP.x);bR=Math.min(bR,bP.y);bS=Math.max(bS,bP.x+bP.w);bT=Math.max(bT,bP.y+bP.h)}return{x:bQ,y:bR,w:bS-bQ,h:bT-bR}};bh.rectXYFromCorners=function(e,bO){return bh.rectXYFromCorners$2(e.x,e.y,bO.x,bO.y)};bh.rectXYFromCorners$1=function(e,bO){var bP=Math.round(Math.min(e.x,bO.x));var bQ=Math.round(Math.min(e.y,bO.y));var bR=Math.abs(Math.round(e.x-bO.x));var bS=Math.abs(Math.round(e.y-bO.y));return{x:bP,y:bQ,w:bR,h:bS}};bh.rectXYFromCorners$2=function(e,bO,bP,bQ){var bR=Math.round(Math.min(e,bP));var bS=Math.round(Math.min(bO,bQ));var bT=Math.abs(Math.round(e-bP));var bU=Math.abs(Math.round(bO-bQ));return{x:bR,y:bS,w:bT,h:bU}};bh.rectXYFromBBoxRectF=function(e){return bh.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};bh.rectXYFromMinAndMax=function(e,bO,bP,bQ){var bR=Math.floor(e);var bS=Math.floor(bO);var bT=Math.ceil(bP);var bU=Math.ceil(bQ);return{x:bR,y:bS,w:bT-bR,h:bU-bS}};bh.dialate=function(e,bO){var bP=e.x-bO;var bQ=e.y-bO;var bR=e.w+2*bO;var bS=e.h+2*bO;return{x:bP,y:bQ,w:bR,h:bS}};bh.intersect=function(e,bO){if(!bh.intersectsWith(e,bO)||bh.isEmpty(bO)||bh.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bP=Math.max(e.x,bO.x);var bQ=Math.max(e.y,bO.y);var bR=Math.min(e.x+e.w,bO.x+bO.w);var bS=Math.min(e.y+e.h,bO.y+bO.h);return{x:bP,y:bQ,w:bR-bP,h:bS-bQ}};bh.intersectInPlace=function(e,bO){if(!bh.intersectsWith(e,bO)||bh.isEmpty(e)||bh.isEmpty(bO)){bh.set$1(e,0,0,0,0);return}var bP=Math.max(e.x,bO.x);var bQ=Math.max(e.y,bO.y);var bR=Math.min(e.x+e.w,bO.x+bO.w);var bS=Math.min(e.y+e.h,bO.y+bO.h);bh.set$1(e,bP,bQ,bR-bP,bS-bQ)};bh.shiftCoordsTowardsCenter=function(e,bO,bP){if(ss.isNullOrUndefined(bO)){return e}var bQ={x:e.x,y:e.y};bQ=bh.horizontalShiftCoordsTowardsCenter(bQ,bO,bP);return bh.verticalShiftCoordsTowardsCenter(bQ,bO,bP)};bh.horizontalShiftCoordsTowardsCenter=function(e,bO,bP){if(ss.isNullOrUndefined(bO)){return e}var bQ={x:e.x,y:e.y};if(bQ.x<=bO.x+bP){bQ.x+=bP}else if(bQ.x>=bO.x+bO.w-2*bP){bQ.x-=bP}return bQ};bh.verticalShiftCoordsTowardsCenter=function(e,bO,bP){if(ss.isNullOrUndefined(bO)){return e}var bQ={x:e.x,y:e.y};if(bQ.y<=bO.y+bP){bQ.y+=bP}else if(bQ.y>=bO.y+bO.h-2*bP){bQ.y-=bP}return bQ};bh.clampCoords=function(e,bO){var bP=Math.min(Math.max(bO.x,e.x),bO.x+bO.w);var bQ=Math.min(Math.max(bO.y,e.y),bO.y+bO.h);return{x:bP,y:bQ}};bh.getChangedRects=function(e,bO){var bP=[];if(!ss.isValue(e)||!ss.isValue(bO)||!bh.intersectsWith(e,bO)){return bP}var bQ=e.x+e.w;var bR=e.y+e.h;var bS=bO.x+bO.w;var bT=bO.y+bO.h;var bU=Math.min(e.x,bO.x);var bV=Math.max(e.x,bO.x);var bW=Math.min(bQ,bS);var bX=Math.max(bQ,bS);var bY=Math.min(e.y,bO.y);var bZ=Math.max(e.y,bO.y);var ca=Math.min(bR,bT);var cb=Math.max(bR,bT);var cc={x:bU,y:bY,w:bX-bU,h:bZ-bY};var cd={x:bU,y:bZ,w:bV-bU,h:ca-bZ};var ce={x:bW,y:bZ,w:bX-bW,h:ca-bZ};var cf={x:bU,y:ca,w:bX-bU,h:cb-ca};if(!bh.isEmpty(cc)){bP.push(cc)}if(!bh.isEmpty(cd)){bP.push(cd)}if(!bh.isEmpty(ce)){bP.push(ce)}if(!bh.isEmpty(cf)){bP.push(cf)}return bP};bh.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bO=e.length;if(bO===1){return e}var bP=new Array(bO);for(var bQ=0;bQ<bO;bQ++){var bR=bP[bQ]||e[bQ];bP[bQ]=bR;if(bh.isEmpty(bR)){continue}for(var bS=bQ+1;bS<bO;bS++){var bT=bP[bS]||e[bS];if(bh.isEmpty(bT)){continue}var bU=bh.intersect(bR,bT);if(bh.isEmpty(bU)){continue}var bV=bh.$0(bR,bU);if(ss.referenceEquals(bV,bR)){bT=bh.$0(bT,bU)}bP[bQ]=bV;bP[bS]=bT}}for(var bW=bP.length-1;bW>=0;bW--){if(bh.isEmpty(bP[bW])){bP.splice(bW,1)}}return bP};bh.$0=function(e,bO){if(bO.x===e.x&&bO.w===e.w){if(bO.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bO.h}}else{return{x:e.x,y:e.y+bO.h,w:e.w,h:e.h-bO.h}}}else if(bO.y===e.y&&bO.h===e.h){if(bO.x>e.x){return{x:e.x,y:e.y,w:e.w-bO.w,h:e.h}}else{return{x:e.x+bO.w,y:e.y,w:e.w-bO.w,h:e.h}}}return e};bh.getCenter=function(e){return{x:e.x+ss.Int32.div(e.w,2),y:e.y+ss.Int32.div(e.h,2)}};global.tab.RectXYUtil=bh;var bi=function(){};bi.__typeName='tab.RegionRectUtil';bi.sizesAreEqual=function(e,bO){return ss.isValue(e)&&ss.isValue(bO)&&e.h===bO.h&&e.w===bO.w};global.tab.RegionRectUtil=bi;var bj=function(){};bj.__typeName='tab.ScrollCapabilities';global.tab.ScrollCapabilities=bj;var bk=function(){};bk.__typeName='tab.ScrollCapabilitiesUtil';bk.hasCapabilities=function(e,bO){return(e&bO)===bO};global.tab.ScrollCapabilitiesUtil=bk;var bl=function(){};bl.__typeName='tab.SetUtilities';bl.interserctWith=function(e){return function(bO,bP){var bQ=new Set;for(var bR=0;bR<bP.length;bR++){var bS=bP[bR];if(bO.has(bS)){bQ.add(bS)}}bO.forEach(function(bT){if(!bQ.has(bT)&&_.contains(bP,bT)){bQ.add(bT)}});return bQ}};bl.getValues=function(e){return function(bO){var bP=[];bO.forEach(function(bQ){bP.push(bQ)});return bP}};bl.addAll=function(e){return function(bO,bP){for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];bO.add(bR)}}};bl.symmetricDifferenceWith=function(e){return function(bO,bP){var bQ=new Set;bO.forEach(function(bR){if(!bP.has(bR)){bQ.add(bR)}});bP.forEach(function(bR){if(!bO.has(bR)){bQ.add(bR)}});return bQ}};global.tab.SetUtilities=bl;var bm=function(){};bm.__typeName='tab.SizeUtil';bm.isEmpty=function(e){return e.w===0&&e.h===0};bm.union=function(e,bO){return{w:Math.max(e.w,bO.w),h:Math.max(e.h,bO.h)}};bm.unionPresModels=function(e,bO){var bP={};bP.w=Math.max(e.w,bO.w);bP.h=Math.max(e.h,bO.h);return bP};bm.add=function(e,bO){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bO)){return e}return{w:e.w+bO.w,h:e.h+bO.h}};bm.subtract=function(e,bO){return{w:e.w-bO.w,h:e.h-bO.h}};bm.equals=function(e,bO){return ss.isValue(e)&&ss.isValue(bO)&&bO.w===e.w&&bO.h===e.h};global.tab.SizeUtil=bm;var bn=function(){};bn.__typeName='tab.SourceCacheForErrorStacks';bn.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(bn.$4,e)){var bO='';if(e.indexOf(document.domain)>-1){bO=bn.$3(e)}bn.$4[e]=(ss.isNullOrEmptyString(bO)?[]:bO.split('\n'))}return bn.$4[e]};bn.$2=function(e,bO){var bP=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bQ=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var bR='';var bS=10;var bT=bn.$1(e);if(bT.length===0){return'?'}for(var bU=0;bU<bS;bU++){bR=bT[bO]+bR;if(!ss.isNullOrEmptyString(bR)){var bV=bQ.exec(bR);if(ss.isValue(bV)&&bV.length>0){return bV[1]}bV=bP.exec(bR);if(ss.isValue(bV)&&bV.length>0){return bV[1]}}}return'?'};bn.$0=function(e,bO,bP){var bQ=bn.$1(e);if(ss.isNullOrUndefined(bQ)||bQ.length===0){return null}var bR=[];var bS=60;var bT=bQ[bO];var bU=Math.max(0,bP-bS);var bV=Math.min(bP+bS,bT.length);bR.push(bT.substr(bU,bV-bU));return bR};bn.$3=function(e){if(!bn.$6){return''}try{var bO=new XMLHttpRequest;bO.open('GET',e,false);bO.send('');return bO.responseText}catch(bP){return''}};global.tab.SourceCacheForErrorStacks=bn;var bo=function(e,bO,bP,bQ,bR){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName=null;this.context=null;this.url=e;this.lineNo=bO;this.columnNo=bP;var bS=bO-1;this.context=bn.$0(this.url,bS,bP)||[bQ];var bT=bR;if(ss.isNullOrUndefined(bT)){bT=bn.$2(this.url,bS)}this.functionName=bT};bo.__typeName='tab.StackLocation';global.tab.StackLocation=bo;var bp=function(e,bO,bP,bQ){this.userAgent=window.navigator.userAgent;this.message=null;this.url=null;this.traceMode=null;this.locations=null;this.isIncomplete=false;this.name=null;this.traceMode=e;this.message=bO;this.url=document.URL;this.name=bP;this.locations=bQ||[]};bp.__typeName='tab.StackTrace';global.tab.StackTrace=bp;var bq=function(){tab.BaseLogAppender.call(this)};bq.__typeName='tab.StackTraceAppender';global.tab.StackTraceAppender=bq;var br=function(e,bO){this.$0=null;this.$1=null;this.$0=e;this.$1=bO};br.__typeName='tab.StringTuple';global.tab.StringTuple=br;var bs=function(){};bs.__typeName='tab.StyleUtil';bs.appendCSSRule=function(e,bO){bs.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bO)};bs.appendCSSRuleToStyleSheet=function(e,bO,bP){var bQ=bO+' {\n'+bs.createCSSRules(bP)+'}\n';var bR=e.cssRules.length;e.insertRule(bQ,bR)};bs.appendCSSRuleToStyleSheet$1=function(e,bO,bP){if(!ss.keyExists(bs.$3,e)){bs.$0(e)}var bQ=bs.$3[e]||bs.$1(e);bs.appendCSSRuleToStyleSheet(bQ,bO,bP)};bs.createCSSRules=function(e){var bO='';var bP=_.keys(e);for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];var bS=e[bR];if(!ss.isNullOrEmptyString(bS)){bO+=bR+':'+bS+';\n'}}return bO};bs.clearDefaultStyleSheet=function(){bs.clearStyleSheet('tab-appendedCustomStyle')};bs.clearStyleSheet=function(e){var bO=bs.$3[e];if(ss.isNullOrUndefined(bO)){return}var bP=bO.ownerNode;if(ss.isValue(bP)&&ss.isValue(bP.parentNode)){bP.parentNode.removeChild(bP);delete bs.$3[e]}};bs.isValidCssClassName=function(e){var bO=e.match(bs.$2);return ss.isValue(bO)};bs.$0=function(e){var bO=document.createElement('style');bO.setAttribute('type','text/css');bO.id=e;bO.appendChild(document.createTextNode(''));document.head.appendChild(bO);bs.$3[e]=bs.$1(e);return bO};bs.$1=function(e){var bO=document.getElementById(e);return bO.sheet};global.tab.StyleUtil=bs;var bt=function(e,bO,bP,bQ){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bO};this.$1=bP;this.$0=1/bP;this.$2=bQ};bt.__typeName='tab.Transform';bt.none=function(){return bt.$0};bt.offset=function(e,bO){return((e===0&&bO===0)?bt.$0:new bt(e,bO,1,3))};bt.pixelToDomain=function(e,bO,bP){if(t.isApproximatelyZero(e)&&t.isApproximatelyZero(bO)&&t.isApproximatelyEqual(1,bP)){return bt.$0}return new bt(e,bO,bP,1)};bt.domainToPixel=function(e,bO,bP){if(t.isApproximatelyZero(e)&&t.isApproximatelyZero(bO)&&t.isApproximatelyEqual(1,bP)){return bt.$0}return new bt(e,bO,bP,2)};global.tab.Transform=bt;var bu=function(){this.$0=null;this.reset()};bu.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=bu;var bv=function(){};bv.__typeName='tab.TransformationType';global.tab.TransformationType=bv;var bw=function(){};bw.__typeName='tab.UriUtil';bw.get_serverRootUrl=function(){return ss.formatString('{0}/{1}',tabBootstrap.BaseUrlFormatter.formatBaseUrl(),tsConfig.serverUrlPrefix)};bw.get_helpVersion=function(){var e='.';var bO=tsConfig.externalVersion.split(e);if(bO.length>=2){var bP=bO[0];var bQ=bO[1];if($.isNumeric(bP)&&$.isNumeric(bQ)){return[bP,bQ].join(e)}}return'0.0'};bw.$0=function(){return(tsConfig.is_saas?'online':'server')};bw.$1=function(){if(ss.isNullOrUndefined(tsConfig.language)){return'en-us'}switch(tsConfig.language){case'de':{return'de-de'}case'en':{return'en-us'}case'es':{return'es-es'}case'fr':{return'fr-fr'}case'ja':{return'ja-jp'}case'ko':{return'ko-kr'}case'pt':{return'pt-br'}case'zh':{return'zh-cn'}default:{return'en-us'}}};bw.makeHelpUri=function(e,bO){var bP;if(tsConfig.useOfflineHelp){bP=bw.getOfflineHelpHref(bO)}else{var bQ=(!ss.isNullOrEmptyString(tsConfig.serverPlatform)?ss.formatString('platform={0}&',tsConfig.serverPlatform.toLowerCase()):'');bP=ss.formatString('{0}/{1}/app/{2}?edition={3}&lang={1}&{5}version={4}','http://www.tableau.com',bw.$1(),e,bw.$0(),bw.get_helpVersion(),bQ)}return bP};bw.getOfflineHelpHref=function(e){var bO=ss.replaceAllString(bw.$1(),'-','_');return ss.formatString('/offline_help/{0}/help.htm#{1}',bO,e)};bw.makeHelpSearchUri=function(e){var bO=encodeURIComponent(e);if(tsConfig.useOfflineHelp){return bw.getOfflineHelpHref(ss.formatString('search-{0}',bO))}return((bw.$1()==='en-us')?ss.formatString('{0}/search/support/{1}','http://www.tableau.com',bO):ss.formatString('{0}/{1}/search/support/{2}','http://www.tableau.com',bw.$1(),bO))};bw.makeSupportUri=function(){return(tsConfig.useOfflineHelp?bw.getOfflineHelpHref('support'):'http://www.tableau.com')+'/support'};bw.makeAbsoluteCorsProxyPrefixUrl=function(e){return ss.formatString('{0}/proxy/-/{1}',bw.get_serverRootUrl(),e)};bw.isServerRootUrlHttps=function(){return ss.startsWithString(bw.get_serverRootUrl().toLowerCase(),'https')};global.tab.UriUtil=bw;var bx=function(){this.$2=null;tab.BaseLogAppender.call(this)};bx.__typeName='tab.WindowAppender';global.tab.WindowAppender=bx;var by=function(){};by.__typeName='tab.ZIndexConstants';global.tab.ZIndexConstants=by;var bz=function(){};bz.__typeName='tableau.format';bz.convertFullwidthNumberToAscii=function(e){var bO=ss.getEnumerator(Object.keys(bz.$1e));try{while(bO.moveNext()){var bP=bO.current();e=ss.replaceAllString(e,bP,bz.$1e[bP])}}finally{bO.dispose()}return e};bz.formatDataValue=function(e,bO,bP,bQ,bR){var bS=e.s;if(ss.isNullOrUndefined(bS)||ss.isNullOrUndefined(bS)){var bT=ss.coalesce(e.t,'');var bU=e.v;switch(bT){case's':{return bU}case'b':{return bU.toString()}case'i':{if(typeof(bU)!=='number'){bU=parseInt(bU,10)}return bz.$h(bO,bP,bU)}case'r':{if(typeof(bU)!=='number'){bU=parseFloat(bU)}return bz.$r(bU,bT,bP,bQ,bO)}case't':{return bz.$l(e,bP,bR)}case'd':{return bz.$l(e,bP,0)}}throw new ss.Exception('Invalid Tableau Format Type')}if(bS==='n'){return'null'}if(bS==='m'){return tab.Strings.SpecialMissing}return'#special:'+bS+'#'};bz.$l=function(e,bO,bP){var bQ=e.v;var bR=e.t;if(_.isDate(bQ)){return bz.formatJsDateTime(bQ,bO,bP,bR)}else{var bS=(_.isNumber(bQ)?bQ:parseFloat(bQ));return bz.$o(bS,bO,bP,bR)}};bz.$h=function(e,bO,bP){if(e==='d'){if(ss.isNullOrUndefined(bO)||bO.length!==10){return bz.$q(bP).toString()}var bQ=bO[0];switch(bQ){case'':{var bR=ss.arrayClone(bO);bR[2]='f';return bz.$j(bP,bR)}default:{return bz.$j(bP,bO)}}}return bz.$j(bP,bO)};bz.parseQuantitativeDataValue=function(e,bO,bP,bQ,bR){switch(bO){case'i':{return parseInt(bz.reformatNumberToJsFormat(e,bP),10)}case'r':{return parseFloat(bz.reformatNumberToJsFormat(e,bP))}case'd':case't':{var bS=bz.formatToJSCompliantFormat(e,bP,bQ,bR);return bA.OleDateFromJsDate((new Date(Date.parse(bS+' GMT'))).getTime())}}return(ss.isValue(bR)?parseFloat(bR.v):0)};bz.reformatNumberToJsFormat=function(e,bO){var bP=bO[8].replace(bz.$1l,'\\$1');if(bP.indexOf(' ')!==-1){bP+=' '}var bQ=bO[7].replace(bz.$1l,'\\$1');if(bP.indexOf('.')===-1&&bQ.indexOf('.')===-1){e=e.replace(new RegExp('\\.','g'),'?')}return e.replace(new RegExp('['+bP+']','g'),'').replace(new RegExp('['+bQ+']','g'),'.')};bz.formatToJSCompliantFormat=function(e,bO,bP,bQ){var bR=bz.normalizeDateTimeFormat(bO,bP,bQ.t);var bS=bz.tokenizeDateTime(e,bR,bP);return(ss.isValue(bS)?bz.$3(bS,bQ):'')};bz.normalizeDateTimeFormat=function(e,bO,bP){var bQ=e.format;var bR=e.timeFormat;if(bQ.charCodeAt(0)===42){bQ=bQ.substr(1)}if(bO!==0&&ss.isValue(bR)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&bP==='t'){if(bR.charCodeAt(0)===42){bR=bR.substr(1)}bQ=bQ+' '+bR}bQ=bQ.replace(new RegExp('ampm','g'),'tt');bQ=ss.replaceAllString(bQ,'H','h');bQ=bQ.replace(bz.$1b,function(bS){return bS.replace(new RegExp('m','gi'),'m')});bQ=bQ.replace(bz.$1c,function(bS){return bS.replace(new RegExp('m','gi'),'n')});return bQ};bz.tokenizeDateTime=function(e,bO,bP){var bQ=bO;bQ=bQ.replace(bz.$1l,'\\$1');bQ=bQ.replace(bz.$1p,'($1)');bQ=bQ.replace(bz.$1h,'($1)');var bR=bO.match(new RegExp(bQ));var bS=bO;bS=bS.replace(bz.$1l,'\\$1');if(bP===1){bS=bS.replace(bz.$1d,'(?:$1 )?$2')}else{bS=bS.replace(bz.$1d,'$1(?: $2)?')}bS=bS.replace(bz.$1m,'(?:$1)?');bS=bS.replace(bz.$1h,'(\\d+)');bS=bS.replace(bz.$1p,'([^0-9\\s]+)?');bS=bS.replace(bz.$1n,function(bW){return bW.replace(new RegExp('\\s+','g'),'\\s+')});bS=bS.replace(bz.$1i,'\\s*');var bT=e.match(new RegExp(bS));if(ss.isNullOrUndefined(bT)){return null}var bU={};for(var bV=1;bV<bT.length;++bV){if(ss.isValue(bT[bV])&&bT[bV].length>0){bU[bR[bV].substr(0,1).toLowerCase()]=bT[bV]}}return bU};bz.$3=function(e,bO){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bP=(!!bO.v?new Date(bA.JsDateFromOleDate(bO.v)):new Date(bA.javaScriptOLEEpoch()));e['y']=bP.getUTCFullYear().toString();e['m']=(bP.getUTCMonth()+1).toString();e['d']=bP.getUTCDate().toString()}var bQ=e['y'].replace(new RegExp('^(\\d{2})$'),function(bS){var bT=parseInt(bS,10);return((bT<30)?('20'+bS):('19'+bS))});var bR=e['m']+'/'+e['d']+'/'+bQ;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bR+=' '+e['h']+':'+e['n']+':';bR+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(bz.$1a))){bR+=' am'}else if(ss.isValue(e['t'].match(bz.$1j))){bR+=' pm'}}}return bR};bz.mapIcuToOleFormat=function(e){return bz.$w(bz.$1f,e)};bz.$w=function(e,bO){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bO)){return bO}var bP=[];var bQ=0;var bR=0;var bS=null;while(++bR<=bO.length){var bT=e[bO.substring(bQ,bR)];if(ss.isValue(bT)){bS=bT}else{if(ss.isValue(bS)){bP.push(bS);--bR}else{bP.push(bO.substring(bQ,bQ+1))}bQ=bR;bS=null}}if(ss.isValue(bS)){bP.push(bS)}return bP.join('')};bz.formatQualifiedName=function(e){var bO='';for(var bP=0;bP<e.length;bP++){var bQ=e[bP];if(bO.length!==0){bO+='.'}bO+='['+bQ.replace(new RegExp('\\]','g'),']]')+']'}return bO};bz.$k=function(e,bO,bP,bQ){var bR=bz.$1(e,bO,bP,bQ);return((bz.$C(e)>=0)?bR:('-'+bR))};bz.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!bz.$v(new Date(bA.JsDateFromOleDate(parseFloat(e.v))))};bz.applyDecimalPlaces=function(e,bO,bP){if(bO>=0){var bQ=e-bz.$C(e);var bR=bz.$A(bQ,bO);var bS=parseInt(bR,10);if(Math.abs(bS)===1){return bS}if(bO===0){return''}bR=bR.replace(new RegExp('^-?0\\.'),bP);return bR}return''};bz.formatString=function(e,bO){var bP=bO.dataType;var bQ=bO.formatStrings;var bR=bO.fieldRole;var bS=bQ;var bT;var bU=e;switch(bP){case'cstring':{bT='s';break}case'date':{bT='d';bU=o.parsePresModelDate(e);bS=bz._convertFormatStringsToFormattingInfo(bQ);break}case'datetime':{bT='t';bU=o.parsePresModelDate(e);bS=bz._convertFormatStringsToFormattingInfo(bQ);break}case'integer':{bT='i';bU=parseInt(e);break}case'real':{bT='r';bU=parseFloat(e);break}case'tuple':{bT='s';bU=bz.$t(e);break}case'unknown':default:{bT=null;break}}var bV={t:bT,v:bU,s:null};var bW;switch(bR){case'dimension':{bW='d';break}case'measure':{bW='m';break}case'unknown':default:{bW=null;break}}return bz.formatDataValue(bV,bW,bS,null,0)};bz.formatSpecial=function(e,bO){if(ss.isValue(bO)){return bO}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};bz.isSpecialValue=function(e){return bz.$1o[e]};bz.stripFormattedText=function(e){return(ss.isNullOrUndefined(e)?null:$(e).find('run').text())};bz.deriveNumberEditingFormat=function(e){return(ss.isNullOrUndefined(e)?null:['','-1',e[2],'','','','',e[7],e[8],e[9]])};bz.$y=function(e,bO){var bP=e.toString();while(bP.length<bO){bP='0'+bP}return bP};bz.$v=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};bz.$7=function(e){return((e.getUTCHours()<12)?'AM':'PM')};bz.$b=function(e){var bO=e.getUTCHours();if(bO<12){if(bO===0){bO=12}}else if(bO>12){bO-=12}return bO};bz.$c=function(e){return e.getUTCHours()};bz.$8=function(e){var bO=new Date(e.getUTCFullYear(),0,1,12);var bP=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bP-bO)/86400000)+1};bz.$4=function(e,bO){return e.getUTCFullYear()+((e.getUTCMonth()+1<bO)?-1:0)};bz.$e=function(e,bO,bP){var bQ=(e.getUTCDay()+7-(bO-1))%7;var bR=-bQ+(7-bP);var bS=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bR));return bS.getUTCFullYear()};bz.$d=function(e,bO){var bP;if(bO.fiscalYearStart<=1){var bQ=(bO.brokenWeeks?e.getUTCFullYear():bz.$e(e,bO.startOfWeek,bO.minDaysInFirstWeek));bP=new Date(Date.UTC(bQ,0,1))}else{bP=new Date(Date.UTC(bz.$4(e,bO.fiscalYearStart),bO.fiscalYearStart-1,1))}var bR=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bS=(bP.getUTCDay()+7-(bO.startOfWeek-1))%7;var bT=ss.Int32.div(bR-bP,86400000)+bS;if(bO.fiscalYearStart<=1&&7-bS<bO.minDaysInFirstWeek){bT-=7}return Math.floor(bT/7)+1};bz.$a=function(e,bO){var bP=e.getUTCFullYear();var bQ=e.getUTCMonth()+1;return((bQ<bO||bO===1)?0:1)+bP};bz.$5=function(e,bO){if(bO<1){bO=1}return Math.floor((e.getUTCMonth()+1-bO+12)%12/3)+1};bz.$6=function(e){return((e===53)?4:Math.floor((e+12)/13))};bz.$9=function(e,bO){if(bO.forceIso8601Calendar){var bP=bz.$d(e,bO);return bz.$6(bP)}return bz.$5(e,bO.fiscalYearStart)};bz.$D=function(e,bO){if(ss.isNullOrUndefined(bO)){return null}return bO.day[e.getUTCDay()+1]};bz.$F=function(e,bO){if(ss.isNullOrUndefined(bO)){return null}return bO.shortDay[e.getUTCDay()+1]};bz.$E=function(e,bO){if(ss.isNullOrUndefined(bO)){return null}return bO.month[e.getUTCMonth()]};bz.$G=function(e,bO){if(ss.isNullOrUndefined(bO)){return null}return bO.shortMonth[e.getUTCMonth()]};bz.formatJsDateTime=function(e,bO,bP,bQ){if(ss.isNullOrUndefined(bO)){bO={format:'*M/d/yyyy',originalFormat:'en_US',timeFormat:''};if(bP===2&&bz.$v(e)){bP=0}}return bz.formatCustomJsDateTime(e,bO,bP,bQ)};bz.formatCustomJsDateTime=function(e,bO,bP,bQ){var bR=bO.format;var bS=bO.timeFormat;var bT=bO.calOpts;var bU=0,bV=0,bW;if(ss.isNullOrUndefined(bT)){bT=new i}var bX=ss.isValue(bS);var bY=ss.isNullOrUndefined(bO.originalFormat)||bO.originalFormat.length===0||bO.originalFormat==='S';var bZ=bQ==='t';if(ss.isValue(bP)&&bP!==0&&bX&&bY&&bZ){if(bS.charCodeAt(0)===42){bS=bS.substr(1)}if(bP===2){bR=bR+' '+bS}else{bR=bS}}if(bR==='L'){bR='*dddd, mmmm dd, yyyy'}if(bR.charCodeAt(0)===42){bR=bR.substr(1)}bW=bR.length;var ca,cb;if(bT.fiscalYearStart>1){ca=cb=bz.$a(e,bT.fiscalYearStart)}else{ca=e.getUTCFullYear();cb=(bT.brokenWeeks?ca:bz.$e(e,bT.startOfWeek,bT.minDaysInFirstWeek))}var cc=cb.toString();var cd=cc.substr(cc.length-2);var ce=ca.toString();var cf=ce.substr(ce.length-2);var cg=[];cg.push(new br('ampm',bz.$7(e)));cg.push(new br('tt',bz.$7(e)));cg.push(new br('yyyy',(bT.forceIso8601Calendar?cc:ce)));cg.push(new br('yy',(bT.forceIso8601Calendar?cd:cf)));cg.push(new br('mmmm',bz.$E(e,bO.locale_formatting_strings)));cg.push(new br('mmm',bz.$G(e,bO.locale_formatting_strings)));cg.push(new br('dddd',bz.$D(e,bO.locale_formatting_strings)));cg.push(new br('ddd',bz.$F(e,bO.locale_formatting_strings)));cg.push(new br('mm',bz.$y(e.getUTCMonth()+1,2)));cg.push(new br('m',(e.getUTCMonth()+1).toString()));cg.push(new br('dd',bz.$y(e.getUTCDate(),2)));cg.push(new br('d',e.getUTCDate().toString()));cg.push(new br('hh',bz.$y(bz.$c(e),2)));cg.push(new br('h',bz.$c(e).toString()));cg.push(new br('nn',bz.$y(e.getUTCMinutes(),2)));cg.push(new br('n',e.getUTCMinutes().toString()));cg.push(new br('ss',bz.$y(e.getUTCSeconds(),2)));cg.push(new br('s',e.getUTCSeconds().toString()));cg.push(new br('ww',bz.$d(e,bT).toString()));cg.push(new br('y',bz.$8(e).toString()));cg.push(new br('w',(e.getUTCDay()+1).toString()));cg.push(new br('q',bz.$9(e,bT).toString()));var ch=cg;var ci=bz.$g(e,bU,bW,ch,bR,bV,bT,cc,cd,ce,cf);bR=ci.join('');return bR};bz.$g=function(e,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX){var bY=[];var bZ=null;var ca=false;var cb=false;var cc=-1;var cd=false;var ce=false;var cf=false;while(bO<bP){var cg=false;var ch=false;for(var ci=0;ci<bQ.length;ci++){var cj=bQ[ci];var ck=cj.get_first();var cl=cj.get_second();if(ss.referenceEquals(ck,bR.substr(bO,ck.length).toLowerCase())){cg=true;bY.push(cl);bO+=ck.length;if(ss.isValue(bZ)&&ck==='mm'){bY[bY.length-1]=bz.$y(e.getUTCMinutes(),2)}if(ss.isValue(bZ)&&ck==='m'){bY[bY.length-1]=e.getUTCMinutes().toString()}if(ck.charCodeAt(0)===100){bZ=null}if(ck.charCodeAt(0)===104){bZ=ck;bS=bY.length-1}if(ss.isValue(bZ)&&(ck==='ampm'||ck==='tt')){bY[bS]=((bZ==='hh')?bz.$y(bz.$b(e),2):bz.$b(e).toString())}switch(ck.charCodeAt(0)){case 121:{if(ck.length>1){ch=true;cc=bY.length-1;cd=ck.length===4;cf=true;if(ca){if(!bT.brokenWeeks){bY[cc]=(cd?bU:bV);cf=false}ca=false}}break}case 119:{if(ck.length!==2){break}var cm=ca;ca=true;if(!cm&&!cb&&cf){if(!bT.brokenWeeks){bY[cc]=(cd?bU:bV);cf=false}ca=false}cb=false;break}case 109:case 100:case 113:{if((ck==='mm'||ck==='m')&&ss.isValue(bZ)){break}ca=false;cb=true;break}}break}}if(cg){ce=ch;continue}if(bR.charCodeAt(bO)===92){bY.push(bR.substr(bO+1,1));bO+=2}else if(bR.charCodeAt(bO)===34){var cn=bR.charCodeAt(bO);var co=++bO;while(bO<bP&&bR.charCodeAt(bO)!==cn){bO+=1}if(co<bP&&bO>co){bY.push(bR.substr(co,bO-co))}if(bO<bP){bO+=1}}else if(bR.charCodeAt(bO)===91){var cp=++bO;while(cp<bR.length&&bR.charCodeAt(cp)!==93){cp++}var cq=bR.substring(bO,cp);if((cq==='y'||cq==='Y')&&ce){bY[cc]=((cq==='y')?(cd?bW:bX):(cd?bU:bV));cf=false}bO=cp+1}else{bY.push(String.fromCharCode(bR.charCodeAt(bO)));bO+=1}ce=ch}return bY};bz.$o=function(e,bO,bP,bQ){var bR=null;if(!ss.isNullOrUndefined(bO)){bR=R.cloneObject(bO);bR.format=bz.mapIcuToOleFormat(bR.format)}var bS=new Date(bA.JsDateFromOleDate(e));return bz.formatJsDateTime(bS,bR,bP,bQ)};bz.$C=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};bz.$1=function(e,bO,bP,bQ){var bR=Math.abs(bz.$C(e));var bS='';var bT=parseInt(String.fromCharCode(bQ.charCodeAt(0)),10)||3;var bU;if(bR<1E+15){bU=bz.$A(bR,0)}else{bU=bz.$z(bR,14);var bV=bU.match(bz.$1k);if(ss.isValue(bV)){var bW=ss.coalesce(bV[2],'');var bX=parseInt(bV[3],10)-bW.length;var bY='';for(var bZ=0;bZ<bX;bZ++){bY+='0'}bU=bV[1]+bW+bY}}if(bO!=='t'){return bU}for(var ca=bU.length-1,cb=0;ca>=0;ca--,cb++){if(cb>=bT){bS=bP+bS;cb=0}bS=String.fromCharCode(bU.charCodeAt(ca))+bS}return bS};bz.$2=function(e,bO){switch(bO){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};bz.$0=function(e,bO,bP,bQ,bR){bO=bO.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bO)){return bP+bO+bQ}switch(bz.$u(bR)){case'parenthesis':{return'('+bP+bO+bQ+')'}case'outerSuffix':{return bP+bO+bQ+'-'}case'innerPrefix':{return bP+'-'+bO+bQ}case'innerSuffix':{return bP+bO+'-'+bQ}case'outerPrefix':case'automatic':default:{return'-'+bP+bO+bQ}}};bz.$u=function(e){var bO=parseInt(e,10);var bP=bO<0||bO>=bz.$1g.length;return(bP?'automatic':bz.$1g[bO])};bz.$q=function(e){return bz.$C(e)};bz.$m=function(e,bO,bP,bQ,bR,bS,bT){if(bO==='i'){return bz.$f(e,bO,bP,bQ,bR,bS,bT,null,null)}else{return bz.$f(e,bO,bP,bQ,bR,bS,bT,0.0001,1E+15)}};bz.$n=function(e,bO,bP,bQ,bR,bS){if(bO==='i'){return bz.$f(e,bO,null,bP,bQ,bR,bS,null,1000000)}else{return bz.$f(e,bO,null,bP,bQ,bR,bS,0.0001,1E+15)}};bz.$f=function(e,bO,bP,bQ,bR,bS,bT,bU,bV){var bW;var bX;var bY;if(ss.isValue(bP)&&ss.unbox(bP)<=0){bW=-ss.unbox(bP);bY=bX=false}else{bW=bz.$x(e,bO,true);bY=bX=true}var bZ=Math.abs(e);if(bY&&bZ!==0&&(ss.isValue(bV)&&ss.Nullable$1.ge(bZ,bV)||ss.isValue(bU)&&ss.Nullable$1.lt(bZ,bU))){var ca=bz.$x(1,bO,true);var cb=bz.$i(e,ca,bQ);if(bX){return cb.replace(new RegExp('['+bQ+']?0+e'),'e')}}var cc=e-bz.$C(e);var cd=bz.$k(e,bR,bS,bT);var ce=bz.$A(cc,bW);if(Math.abs(parseFloat(ce))>=1){cd=bz.$k(bz.$C(e+parseFloat(ce)),bR,bS,bT);ce=ce.replace(new RegExp('1'),'0')}if(!(ce.indexOf('.')!==-1)){return cd}if(bX){ce=ce.replace(new RegExp('0+$'),'');if(ss.endsWithString(ce,'.')){return cd}}ce=ce.replace(new RegExp('^-?0\\.'),bQ);if(e<0&&cd==='0'&&!(new RegExp('^\\.0+$')).test(ce)){cd='-0'}return cd+ce};bz.$x=function(e,bO,bP){var bQ=((bO==='i')?6:15);var bR=Math.max(0,bQ-Math.abs(bz.$C(e)).toString().length);return(bP?Math.min(bR,9):bR)};bz.$i=function(e,bO,bP){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bO<0||isNaN(bO)){bO=0}if(bO>15){bO=15}var bQ=bz.$z(e,bO);var bR=bQ.indexOf(String.fromCharCode(101));var bS=bQ.substr(bR);if(bS.length<4){bQ=bQ.substr(0,bR+2)+'0'+bQ.substr(bR+2)}bQ=bQ.replace(new RegExp('\\.'),bP);return bQ};bz.$z=function(e,bO){return bz.$B(e,bO,15,function(bP,bQ){return bP.toExponential(bQ)})};bz.$A=function(e,bO){return bz.$B(e,bO,bz.$x(e,'r',false),function(bP,bQ){return bP.toFixed(bQ)})};bz.$B=function(e,bO,bP,bQ){bP=Math.max(bP-1,bO);var bR=bQ(e,bP);var bS=bR.indexOf(String.fromCharCode(101));if(bS===-1){bS=bR.length}var bT=bS-(bP-bO);var bU=bR.charCodeAt(bT);if(bR.charCodeAt(bT-1)===46){bT--}bR=bR.substr(0,bT)+bR.substr(bS,bR.length);if(bU>=53&&bU<=57){var bV;do{bT--;bV=bR.charCodeAt(bT);if(bV===46||bV===45){bV=48;continue}bV++;if(bV>57){bV=48}bR=bR.substr(0,bT)+String.fromCharCode(bV)+bR.substr(bT+1,bR.length)}while(bV===48&&bT>0);if(bV===48&&bT===0){bR=bQ(e,bO)}}return bR};bz.$p=function(e,bO,bP,bQ){if(bP===-1){return bz.$f(e*100,bO,null,bQ[7],bQ[2],bQ[8],bQ[9],null,null)+'%'}else{return bz.$s(e*100,bP,bQ)+'%'}};bz.$r=function(e,bO,bP,bQ,bR){if(ss.isNullOrUndefined(bP)||bP.length!==10){return bz.$m(e,bO,bQ,'.',((bR==='d')?null:'t'),',','3;0')}var bS=parseInt(bP[1],10);switch(bP[0]){case'':{if(bS===-1){return bz.$m(e,bO,null,bP[7],bP[2],bP[8],bP[9])}else{return bz.$m(e,bO,-bS,bP[7],bP[2],bP[8],bP[9])}}case'N':{return bz.$n(e,bO,bP[7],bP[2],bP[8],bP[9])}case'e':{return bz.$i(e,bS,bP[7])}case'p':{return bz.$p(e,bO,bS,bP)}default:{return bz.$s(e,bS,bP)}}};bz.$s=function(e,bO,bP){e=bz.$2(e,bP[5]);var bQ=bP[5]+bP[4];var bR=bz.applyDecimalPlaces(e,bO,bP[7]);if(typeof(bR)==='number'){e+=bR;bR=bz.applyDecimalPlaces(0,bO,bP[7])}var bS=bz.$1(e,bP[2],bP[8],bP[9])+bR;return bz.$0(e,bS,bP[3],bQ,bP[6])};bz.$j=function(e,bO){return bz.$r(bz.$C(e),'i',bO,null,null)};bz._convertFormatStringsToFormattingInfo=function(e){var bO=new i;bO.fiscalYearStart=parseInt(e[4]);var bP={format:e[0],locale:e[1],originalFormat:e[2],timeFormat:e[3],calOpts:bO};if(isNaN(bP.calOpts.fiscalYearStart)){bP.calOpts.fiscalYearStart=0}bP.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bP.calOpts.startOfWeek)){bP.calOpts.startOfWeek=1}bP.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bP.calOpts.minDaysInFirstWeek)){bP.calOpts.minDaysInFirstWeek=1}bP.calOpts.brokenWeeks=e[7]==='1';return bP};bz.$t=function(e){var bO=44;var bP=40;var bQ=41;var bR=39;var bS=92;var bT=[];e=e.trim();if(e.length===0){return''}var bU=e.length;var bV=0;if(bV>=bU||e.charCodeAt(bV)!==40){return''}++bV;while(bV<bU){var bW=bV;var bX=false;var bY=0;while(bW<bU&&!bX){var bZ=e.charCodeAt(bW);if(bY===0&&(bZ===44||bZ===41)){bX=true;break}else if(bZ===92){bW+=2}else{if(bZ===39){bY=1-bY}++bW}}if(!bX){return''}var ca=e.substring(bV+1,bW-1);ca=ss.replaceAllString(ca,'\\\\','\\');ca=ss.replaceAllString(ca,'\\"','"');ca=ss.replaceAllString(ca,'\\,',',');ca=ss.replaceAllString(ca,'\\(','(');ca=ss.replaceAllString(ca,'\\)',')');bT.push(ca);bV=bW;++bV}return bT.join(', ')};global.tableau.format=bz;var bA=function(){};bA.__typeName='tableau.types';bA.$0=function(){return tab.LazyUtil.lazyInitStaticField(bA,'millisecondsPerDay',function(){return 86400000})};bA.javaScriptOLEEpoch=function(){return tab.LazyUtil.lazyInitStaticField(bA,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bA.JsDateFromOleDate=function(e){var bO=((e<0)?Math.ceil(e):Math.floor(e));var bP=Math.round(Math.abs(e-bO)*bA.$0())+bO*bA.$0();return bP+bA.javaScriptOLEEpoch()};bA.OleDateFromJsDate=function(e){var bO=new Date(e);var bP=Date.UTC(bO.getUTCFullYear(),bO.getUTCMonth(),bO.getUTCDate());var bQ=ss.Int32.div(bP-bA.javaScriptOLEEpoch(),bA.$0());var bR=(e-bP)/bA.$0();return bQ+((bQ<0)?-1:1)*bR};bA.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bA.isMetadata=function(e){return e.column_class===0};bA.isOm=function(e){return bA.isO(e)&&bA.isMetadata(e)};bA.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bA;var bB=function(){};bB.__typeName='tableau.util';bB.assetUrl=function(e,bO){var bP=(bO?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);var bQ;if(e.charCodeAt(0)===47){var bR=bP.length-1;if(bP.charCodeAt(bR)===47){bQ=bP.substring(0,bR-1)+e}else{bQ=bP+e}}else{bQ=bP+'/'+e}return bB.adjustForLocalPaths(bQ)};bB.adjustForLocalPaths=function(e){if(tsConfig.useLocalPaths&&e.charCodeAt(0)===47){return e.substring(1,e.length)}else{return e}};bB.isPrintableNonNumericKeyPressed=function(e){return bB.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bB.isPrintableNonNumericInput=function(e,bO,bP){var bQ=e>=91&&e<=105;var bR=e>=112&&e<=123;var bS=e<47;var bT=!bO&&!bP&&(e>=48&&e<=57);return!bQ&&!bS&&!bT&&!bR};bB.preventNonNumericInput=function(e){if(bB.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bB.inputWouldOverflowMaxLength=function(e,bO,bP,bQ){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bO)){bO=''}if(e.length===1){var bR=e.charCodeAt(0);if(bR<=8||bR===127||bR>=14&&bR<=31||bR===11||bR===12){return false}}return e.length-bP+bO.length>bQ};bB.maxLengthEnforcingBeforeInputHandler=function(e){return function(bO){var bP=bO.target.selectionEnd-bO.target.selectionStart;if(bB.inputWouldOverflowMaxLength(bO.data,bO.target.value,bP,e)){bO.preventDefault();bO.stopPropagation()}}};bB.isElementVisible=function(e){return $(e).css('display')!=='none'};bB.findElementByTagName=function(e,bO,bP){e=e||r.get_documentBody();if(bB.isNodeMatch(e,bO,bP)){return e}var bQ=e.getElementsByTagName(bO);var bR=bQ.length;for(var bS=0;bS<bR;bS+=1){if(bB.isNodeMatch(bQ[bS],bO,bP)){return bQ[bS]}}return null};bB.findDirectParentByClassName=function(e,bO,bP){if(ss.isNullOrUndefined(e)||R.isNullOrEmpty$3(bO)){return null}bP=bP||document.body;var bQ=e.parentNode;while(!ss.isNullOrUndefined(bQ)&&!ss.referenceEquals(bQ,bP)){if(!R.isNullOrEmpty$3(bQ.className)){if(ss.referenceEquals(bQ.className.toLowerCase(),bO.toLowerCase())){return bQ}bQ=bQ.parentNode}}return null};bB.isNodeMatch=function(e,bO,bP){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bO.toLowerCase())){return false}if(ss.isNullOrUndefined(bP)){return true}var bQ=ss.getEnumerator(Object.keys(bP));try{while(bQ.moveNext()){var bR=bQ.current();if(bR in bP&&!ss.referenceEquals(e[bR],bP[bR])){return false}}}finally{bQ.dispose()}return true};bB.binarySearch=function(e){return function(bO,bP,bQ,bR,bS){var bT=(R.isValidIndex(ss.coalesce(bQ,-1),bP)?ss.unbox(bQ):0);var bU=(R.isValidIndex(ss.coalesce(bR,-1),bP)?ss.unbox(bR):(bP.length-1));if(ss.isNullOrUndefined(bS)){bS=bB.$0(e)}var bV={};while(bT<=bU){var bW=Math.floor(bT+(bU-bT)/2);var bX=bS(bP[bW],bO);if(bX===0){bV.found=true;bV.index=bW;return bV}else if(bX<0){bT=bW+1}else{bU=bW-1}}bV.found=false;bV.index=bT;return bV}};bB.$0=function(e){return function(bO,bP){if(bO===bP){return 0}else if(bO>bP){return-1}else{return 1}}};bB.transform=function(e,bO){bO=bO||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bO.transformOrigin)){bO.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(bO.scale!==1){bO.scaleX=bO.scaleY=bO.scale}var bP;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bP=['translate3d(',bO.translateX.toString(),'px,',bO.translateY.toString(),'px, 0px)'].join('')}else{bP=['translate(',bO.translateX.toString(),'px,',bO.translateY.toString(),'px)'].join('')}bP+=[' scale(',bO.scaleX.toString(),', ',bO.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bO.time+'ms';e.style['transform']=bP;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bO.time+'ms';e.style['webkitTransform']=bP;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bO.time+'ms';e.style['MozTransform']=bP;if(ss.isValue(bO.transformOrigin)){var bQ=bO.transformOrigin.x+'px '+bO.transformOrigin.y+'px';e.style['transformOrigin']=bQ;e.style['webkitTransformOrigin']=bQ;e.style['MozTransformOrigin']=bQ}};bB.parseUri=function(e){var bO=document.createElement('a');var bP=bO;if(ss.isNullOrUndefined(e)){return null}bO.href=e;var bQ=ss.mkdict(['href',e,'host',bP.host,'hostname',bP.hostname,'pathname',bP.pathname,'port',bP.port,'protocol',bP.protocol,'search',bP.search]);return bQ};bB.setupTitleEllipsis=function(e){e.find('div').each(function(bO,bP){var bQ=$(bP);var bR=bQ.children('span');var bS=null;var bT=t.roundToInt(bQ.width());var bU=10;bT-=bU;for(var bV=0;bV<bR.length;bV++){var bW=bR[bV];var bX=t.roundToInt($(bW).width());bS=bW;if(bX>bT){break}bT-=bX}if(ss.isValue(bS)){bQ.css('font-family',bS.style.fontFamily);bQ.css('font-size',bS.style.fontSize);bQ.css('line-height',bS.style.lineHeight);bQ.css('color',bS.style.color);bQ.css('font-weight',bS.style.fontWeight);bQ.css('font-style',bS.style.fontStyle);bQ.css('text-decoration',bS.style.textDecoration)}bQ.css('text-overflow','ellipsis');bQ.css('overflow','hidden')})};global.tableau.util=bB;var bC=function(){};bC.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=bC;var bD=function(){};bD.__typeName='tableau.types.CFType';global.tableau.types.CFType=bD;var bE=function(){};bE.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=bE;var bF=function(){};bF.__typeName='tableau.types.DataType';global.tableau.types.DataType=bF;var bG=function(){};bG.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=bG;var bH=function(){};bH.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bH;var bI=function(){};bI.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bI;var bJ=function(){};bJ.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=bJ;var bK=function(){};bK.__typeName='tableau.types.QFInclude';bK.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bK;var bL=function(){};bL.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bL;var bM=function(){};bM.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bM;var bN=function(e){this.$4=null;this.$5=false;this.$4=e;if(BrowserSupport.BrowserSupport.IsTouch()){this.$4.addEventListener('touchstart'.toString(),ss.mkdel(this,this.$0),false)}};bN.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=bN;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(k,a,{});ss.initClass(l,a,{});ss.initClass(m,a,{});m.$ctor1.prototype=m.prototype;ss.initEnum(n,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(o,a,{});ss.initClass(p,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=R.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(q,a,{add:function(e){this.$0.push(new j(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bO=this.$0[e];R.dispose$1(bO)}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(r,a,{});ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initEnum(w,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,debugTools:46,instrumentObjects:47,greyGlassDelay:48,spinnerDelay:49,cancelDelay:50,runtimeWebHost:51,showRuntimeStatus:53,objectWriteDetector:54,newGestureModel:55,newGestureModelOnboarding:56,devicePreviewMode:57});ss.initClass(x,a,{});ss.initClass(y,a,{});ss.initEnum(z,a,{v1:'v1',v2:'v2'},true);ss.initClass(A,a,{});ss.initClass(B,a,{});ss.initInterface(C,a,{addToDom:null,onAddedToDom:null});ss.initInterface(D,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(E,a,{showSuccessBanner:null,showErrorBanner:null});ss.initInterface(F,a,{showAlertDialog:null,showConfirmationDialog:null,ShowErrorDialog:null,ShowLocalErrorDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null,showConnectionMissingFileDialog:null,showEditConnectionInformationDialog:null,showConnectionSignInDialog:null});ss.initClass(G,a,{});ss.initClass(H,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initInterface(J,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initInterface(K,a,{});ss.initClass(L,a,{});ss.initClass(M,a,{});ss.initClass(N,a,{},ss.Exception);N.$ctor1.prototype=N.$ctor2.prototype=N.prototype;ss.initClass(O,a,{});ss.initClass(P,a,{});ss.initClass(Q,a,{logEvent:function(e){if(this.$9.length>=400){this.$9.shift()}this.$9.push(e);this.$5(250)},$5:function(e){if(ss.isValue(this.$8)){return}this.$8=window.setTimeout(ss.mkdel(this,this.$3),e)},$3:function(){this.$8=null;var e;if(this.$9.length>20){e=this.$9.slice(0,20);this.$9=this.$9.slice(20);this.$5(5)}else{e=this.$9;this.$9=[]}this.$1(e);if(Q.isLoggerEnabled()){try{this.$2(e)}catch(bO){}}},$1:function(e){this.$a=this.$a||tab.Logger.lazyGetLogger(Q);for(var bO=0;bO<e.length;bO++){var bP=e[bO]}},$2:function(e){var bO=1500;var bP=e.length;var bQ='';if(bP===0){return}for(var bR=0;bR<bP;bR++){var bS=e[bR];var bT=Q.$1(bS,false);if(bQ.length>0&&bQ.length+bT.length>bO){this.$4(tsConfig.metricsServerHostname,bQ);bQ=''}else if(bQ.length>0){bQ+='&'}bQ+=bT}if(bQ.length>0){this.$4(tsConfig.metricsServerHostname,bQ)}if(ss.isNullOrUndefined(this.$6)){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}},$4:function(e,bO){var bP=1;if(R.isNullOrEmpty$3(e)||R.isNullOrEmpty$3(bO)){return}var bQ=document.createElement('img');var bR='v='+bP.toString();var bS=e;bS+='?'+bR+'&'+bO;bQ.src=bS;this.$7.push(bQ);if(this.$7.length>100){this.$7.shift()}},$0:function(){try{this.$6=null;var e=0;while(e<this.$7.length){if(this.$7[e].complete){this.$7.splice(e,1)}else{e++}}if(this.$7.length>0){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bO){}}});ss.initClass(R,a,{});ss.initClass(S,a,{});ss.initClass(T,a,{});ss.initClass(U,a,{logEvent:function(e){if(!U.isLoggerSupported()){return}var bO=e.parameters.d;if(ss.isNullOrUndefined(bO)){return}var bP=new Object;bP.name=tabBootstrap.MetricsController.getFriendlyEventDescription(bO);var bQ=U.$0(e.parameters.t);var bR=e.parameters.e;if(ss.isValue(bR)){bP.end=bQ;bP.start=bQ-bR}else{bP.start=bQ}newrelic.addToTrace(bP)}});ss.initClass(V,a,{get:function(e,bO,bP){if(!V.$0(bO)){var bQ=this.$0+'!'+bO;if(ss.keyExists(this.$1,bQ)){this.$1[bQ]=true}}return e[bO]}});ss.initClass(W,a,{instrument:function(e,bO){if(bO===''){this.$1=JSON.parse(JSON.stringify(e))}if(e===Object(e)&&!G.isArray(e)){var bP=e;var bQ=new ss.ObjectEnumerator(bP);try{while(bQ.moveNext()){var bR=bQ.current();this.$2[bO+'!'+bR.key]=false;if(bR.value===Object(bR.value)){bP[bR.key]=this.instrument(bR.value,bO+'!'+bR.key)}}}finally{bQ.dispose()}return new Proxy(e,new V(this.$2,bO))}else if(G.isArray(e)){var bS=e;for(var bT=0;bT<bS.length;bT++){this.$2[bO+'!'+bT]=false;var bU=bS[bT];if(bU===Object(bU)){bS[bT]=this.instrument(bS[bT],bO+'!'+bT)}}return new Proxy(e,new V(this.$2,bO))}return e}});ss.initClass(X,a,{});ss.initClass(Y,a,{set:function(e,bO,bP){switch(Y.$0){case 1:{console.error('Write back to protected object detected',e,bO,bP);break}case 2:{debugger;break}}e[bO]=bP}});ss.initClass(Z,a,{});ss.initEnum(ba,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(bb,a,{});ss.initClass(bc,a,{});ss.initClass(bd,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(be,a,{instrument:function(e){if(G.isTypedArray(e)){var bO=e;var bP=new Array(bO.length);for(var bQ=0;bQ<bO.length;bQ++){bP[bQ]=bO[bQ]}e=bP}if(e===Object(e)&&!G.isArray(e)){var bR=e;var bS=new ss.ObjectEnumerator(bR);try{while(bS.moveNext()){var bT=bS.current();if(bT.value===Object(bT.value)){bR[bT.key]=this.instrument(bT.value)}}}finally{bS.dispose()}return new Proxy(e,new Y)}else if(G.isArray(e)){var bU=e;for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];if(bW===Object(bW)){bU[bV]=this.instrument(bU[bV])}}return new Proxy(e,new Y)}return e}});ss.initClass(bf,a,{});ss.initClass(bg,a,{});ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initEnum(bj,a,{xScrollable:1,yScrollable:2,none:0,bothScrollable:3});ss.initClass(bk,a,{});ss.initClass(bl,a,{});ss.initClass(bm,a,{});ss.initClass(bn,a,{});ss.initClass(bo,a,{});ss.initClass(bp,a,{});ss.initClass(bq,a,{logInternal:function(bO,bP,bQ,bR){bQ=this.formatMessage(ss.replaceAllString(bQ,'\\n','<br />'),bR);if(bP>2){try{throw new ss.Exception('Logged('+tab.Logger.loggerLevelNames[bP]+', from '+bO.get_name()+'): '+bQ)}catch(bS){var e=ss.Exception.wrap(bS);u.report(e)}}}},tab.BaseLogAppender);ss.initClass(br,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bs,a,{});ss.initClass(bt,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){switch(this.$2){case 0:{return{x:e.minX,y:e.minY,w:e.maxX-e.minX,h:e.maxY-e.minY}}case 2:{var bO=e.minX*this.$1+this.$3.x;var bP=e.minY*this.$1+this.$3.y;var bQ=e.maxX*this.$1+this.$3.x;var bR=e.maxY*this.$1+this.$3.y;return{x:bO,y:bP,w:bQ-bO,h:bR-bP}}default:{return null}}},transformPoint:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0}}default:{return null}}},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bO=(e.center.x-this.$3.x)*this.$0;var bP=(e.center.y-this.$3.y)*this.$0;return{center:{x:bO,y:bP},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bO=e.length;var bP=new Array(bO);for(var bQ=0;bQ<bO;bQ=bQ+2){bP[bQ]=(e[bQ]-this.$3.x)*this.$0;bP[bQ+1]=(e[bQ+1]-this.$3.y)*this.$0}return bP}default:{return null}}}});ss.initClass(bu,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bO=Math.cos(e);var bP=Math.sin(e);var bQ=this.$0[0]*bO+this.$0[2]*bP;var bR=this.$0[1]*bO+this.$0[3]*bP;var bS=this.$0[0]*-bP+this.$0[2]*bO;var bT=this.$0[1]*-bP+this.$0[3]*bO;this.$0[0]=bQ;this.$0[1]=bR;this.$0[2]=bS;this.$0[3]=bT},translate:function(e,bO){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bO;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bO},scale:function(e,bO){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bO;this.$0[3]=this.$0[3]*bO},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new bu;e.setTransform(this);return e}});ss.initEnum(bv,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(bw,a,{});ss.initClass(bx,a,{logInternal:function(e,bO,bP,bQ){if(ss.isNullOrUndefined(this.$2)){this.$1()}bP=this.formatMessage(ss.replaceAllString(bP,'\\n','<br />'),bQ);this.$2.html(bP)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},tab.BaseLogAppender);ss.initClass(by,a,{});ss.initClass(bz,a,{});ss.initClass(bA,a,{});ss.initClass(bB,a,{});ss.initClass(bC,a,{});ss.initClass(bD,a,{});ss.initClass(bE,a,{});ss.initClass(bF,a,{});ss.initClass(bG,a,{});ss.initClass(bH,a,{});ss.initClass(bI,a,{});ss.initClass(bJ,a,{});ss.initClass(bK,a,{});ss.initClass(bL,a,{});ss.initClass(bM,a,{});ss.initClass(bN,a,{$0:function(e){var bO=e;switch(e.type){case'touchstart':{this.$3(bO);break}case'touchmove':{this.$2(bO);break}case'touchend':{this.$1(bO);break}}},$3:function(e){e.preventDefault();this.$5=false;this.$4.addEventListener('touchmove'.toString(),ss.mkdel(this,this.$0),false);this.$4.addEventListener('touchend'.toString(),ss.mkdel(this,this.$0),false)},$2:function(e){this.$5=true},$1:function(e){this.$4.removeEventListener('touchmove',ss.mkdel(this,this.$0),false);this.$4.removeEventListener('touchend',ss.mkdel(this,this.$0),false);if(!this.$5){var bO=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bO.nodeType===3){bO=bO.parentNode}var bP=document.createEvent('MouseEvents');bP['initEvent']('click',true,true);bO.dispatchEvent(bP)}}});ss.setMetadata(I,{variance:[1]});ss.setMetadata(bj,{enumFlags:true});(function(){bn.$5='?';bn.$4={};bn.$6=true})();(function(){d.$a=new RegExp('^(eval@)?(\\[native code\\])?$');d.$7=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');d.$b=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');d.$8=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');d.$9=new RegExp('[\\(\\)]','g')})();(function(){var e={isMobile:function(){return tsConfig.is_mobile}};BrowserSupport.BrowserSupport.setConfig(e)})();(function(){t.epsilon=Math.pow(2,-52);t.$4=1+t.epsilon;t.$5=t.$4;t.$3=1/t.$4;t.$1=9.22337203685477E+18;t.$2=-9.22337203685477E+18})();(function(){l.visibleReadinessChromeZIndex=700;l.readinessChromeResizersZIndex=701;l.gridOverlayZIndex=699;l.zoneRectPreviewZIndex=700})();(function(){bA.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);e['ExportPowerPoint']=ss.mkdict(['title',tab.Strings.ExportPowerPointDialogTitle,'mimeType','application/vnd.openxmlformats-officedocument.presentationml.presentation','message',tab.Strings.ExportPowerPointDialogMessage,'noping',true]);bA.ExportDialogType=e})();(function(){o.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();o.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();o.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();o.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();o.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();o.$5=86400000})();(function(){v.$0=null})();(function(){Z.suppressAlerts=false})();(function(){r.$6='data-tab-test-wait';r.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);r.$8=1})();(function(){u.$6=false;u.$1=true;u.$2=false;u.$5=[];u.$4=false;u.$3=null})();(function(){x.$a=null;x.$5=null;x.$7=null;x.$9=null;x.$c=null;x.$d=null;x.$4=null;x.$6=null;x.$8=null;x.$b=null;{x.$a=tab.Logger.lazyGetLogger(x);x.$5=[];x.$7=[];x.$9=[];x.$c=[];x.$d={};x.$4={};x.$6={};x.$8={};x.$b={}}x.$1(':newfilter',4,false);x.$1(':fieldconversion',5,true);x.$1(':newtoolbar',9,false);x.$1(':selectiontoolsmobile',23,true);x.$1(':mapssearchdebugalwaysshow',28,false);x.$1(':useleafletforgeosearch',19,false);x.$1(':aodragtoviz',31,false);x.$1(':gotomylocationbutton',32,true);x.$1(':designtint',33,false);x.$1(':newqfwolf',35,false);x.$1(':appearanceofblendingicons',36,true);x.$1(':outlinestampedshapes',38,false);x.$1(':catqfdropdown',40,false);x.$1(':opaquecanvas',42,true);x.$1(':logstorypointcachehits',43,false);x.$1(':debugtools',46,false);x.$1(':showruntimestatus',53,false);x.$1(':newgesturemodel',55,false);x.$1(':newgesturemodelonboarding',56,false);x.$1(':devicepreviewmode',57,false);x.$2(':buttondelay',11);x.$2(':hoverdelay',12);x.$2(':maxtooltipwhitespace',18);x.$2(':datahlmaxitems',44);x.$2(':greyglassdelay',48);x.$2(':spinnerdelay',49);x.$2(':canceldelay',50);x.$2(':owd',54);x.$2(':progloaddelay',39);x.$3(':instrumentobjects',47);x.$3(':runtimewebhost',51);x.$0()})();(function(){B.httpUnauthorizedCode=401;B.httpServiceUnavailable=503;B.httpInternalServerError=500})();(function(){M.afrikaans='af_ZA';M.albanian='sq_AL';M.amharic='am_ET';M.arabic='ar_BH';M.france='fr_FR';M.japan='ja_JP';M.unitedKingdom='en_UK';M.unitedStates='en_US'})();(function(){O.touchEventSamplingRate=4;O.defaultWheelDeltaIncrement=120;O.minimumZoomLevelIncrement=0.25;O.maxWheelDelta=360;O.$1=480;O.$0=512})();(function(){Q.$5=100;Q.$6=400;Q.$7=20;Q.$4=250;Q.$8=5;Q.$3=250;Q.$a=null;Q.$9=null;Q.$a={};Q.$a['d']='DESC';Q.$a['t']='TIME';Q.$a['id']='ID';Q.$a['sid']='SESSION_ID';Q.$a['e']='ELAPSED';Q.$a['v']='VALS';Q.$a['wb']='WORKBOOK';Q.$a['s']='SHEET_NAME';Q.$a['p']='PROPS';Q.$a['m']='MOBILE';Q.$9={};Q.$9['nav']='Navigation';Q.$9['wp']='ProfileEnd';Q.$9['gen']='Generic';Q.$9['init']='SessionInit'})();(function(){T.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];T.$0=null;var e=window;var bO=function(bP){_.defer(T.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bO,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bO)}})();(function(){W.trackedObjects={};W.$0=null})();(function(){X.$3=null;X.$2=null})();(function(){Y.$0=x.getInt(54)})();(function(){bq.globalAppender=new tab.LogAppenderInstance(function(){return new bq})})();(function(){bs.defaultCustomStyleElementId='tab-appendedCustomStyle';bs.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bs.$3={}})();(function(){bt.$0=null;bt.$0=new bt(0,0,1,0)})();(function(){bw.defaultHelpVersion='0.0';bw.onlineHelpOrigin='http://www.tableau.com';bw.$3='/offline_help/{0}/help.htm#{1}';bw.$4='{0}/{1}';bw.$2='{0}/proxy/-/{1}'})();(function(){bx.globalAppender=new tab.LogAppenderInstance(function(){return new bx})})();(function(){by.waitHandlerGlassZIndex=990;by.dialogAboveGlassAndSpinnerStandardZIndex=1000;by.belowGlassAndSpinnerStandardZIndex=988;by.glassStyleZIndex=999})();(function(){bz.specialManyValues='%many-values%';bz.specialNull='%null%';bz.specialError='%error%';bz.specialRagged='%ragged%';bz.specialSkipped='%skipped%';bz.specialMissing='%missing%';bz.specialAll='%all%';bz.specialNoAccess='%no-access%';bz.specialWildcard='%wildcard%';bz.$O=86400000;bz.$N=15;bz.$M=6;bz.$Q=1E+15;bz.$P=1000000;bz.$R=0.0001;bz.$18=9;bz.$K=46;bz.$S=45;bz.$19=48;bz.$L=53;bz.$16=57;bz.$10='t';bz.$Z='f';bz.$11=10;bz.$13=0;bz.$H='';bz.$17='N';bz.$J='e';bz.$I='p';bz.$T=1;bz.$15=2;bz.$Y=3;bz.$12=4;bz.$14=5;bz.$X=6;bz.$U=7;bz.$V=8;bz.$W=9;bz.$1g=['automatic','parenthesis','outerPrefix','outerSuffix','innerPrefix','innerSuffix'];bz.isO8601DateFormat={};bz.isO8601DateTimeFormat={};bz.isO8601TimeFormat={};bz.$1l=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');bz.$1d=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');bz.$1m=new RegExp('(\\\\[:.]s+)');bz.$1p=new RegExp('(t+)','g');bz.$1h=new RegExp('([yYmMdDhnswq]+)','g');bz.$1n=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');bz.$1i=new RegExp('\\s','g');bz.$1b=new RegExp('(^|d)([^h]*)(h|$)','gi');bz.$1c=new RegExp('h([^d]*)(d|$)','gi');bz.$1a=new RegExp('^(a|a\\.?m\\.?|㏂|π\\.?µ\\.?|午前)$','i');bz.$1j=new RegExp('^(p|p\\.?m\\.?|㏘|µ\\.?µ\\.?|午後)$','i');bz.$1k=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');bz.$1f=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);bz.defaultLocaleStrings={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};bz.baseTimestamp={t:'t',v:bA.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0)),s:null};bz.$1o=null;bz.$1e=ss.mkdict(['０','0','１','1','２','2','３','3','４','4','５','5','６','6','７','7','８','8','９','9','－','-','．','.','。','.']);bz.isO8601DateFormat.format='yyyy-mm-dd';bz.isO8601DateFormat.timeFormat='hh:nn';bz.isO8601DateTimeFormat.format='yyyy-mm-ddThh:nn';bz.isO8601TimeFormat.format='hh:nn';bz.$1o=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){if(BrowserSupport.BrowserSupport.IsMac()){$(document).addClass('tb_mac')}})();(function(){bC.CFS_ALL='all';bC.CFS_SINGLE='single-select';bC.CFS_MULTIPLE='multi-select'})();(function(){bD.CFT_INCLUSIVE='include';bD.CFT_EXCLUSIVE='exclude'})();(function(){bE.DS_NORMAL=null;bE.DS_NULL='n';bE.DS_ALL='a';bE.DS_WILDCARD='w';bE.DS_SKIPPED='s';bE.DS_NOACCESS='p';bE.DS_RAGGED='r';bE.DS_ERROR='e';bE.DS_MISSING='m'})();(function(){bG.FT_QUANTITATIVE='Q';bG.FT_ORDINAL='O';bG.FT_NOMINAL='N';bG.FT_UNKNOWN=null})();(function(){bH.HFS_SINGLE='single-select';bH.HFS_MULTIPLE='multi-select'})();(function(){bI.QFD_ALL='all';bI.QFD_CONTEXT='context';bI.QFD_RELEVANT='relevant';bI.QFD_CASCADING='cascading';bI.QFD_CASCADING_CONTEXT='cascading-context'})();(function(){bJ.QFF_FIXED_START='start';bJ.QFF_FIXED_END='end'})();(function(){bK.QFI_ALL='include-all';bK.QFI_NON_NULL='include-non-null';bK.QFI_NULL_ONLY='include-null';bK.QFI_RANGE='include-range';bK.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bL.table='t';bL.legend='l';bL.filter='f';bL.currentPage='p';bL.title='i';bL.text='x';bL.bitmap='b';bL.web='w';bL.draw='d';bL.textBlock='k';bL.layoutContainer='c';bL.parameter='a'})()})()}());;
/*! BEGIN Domain */
/*! BEGIN KeyboardShortcutModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlkeyboardshortcutmodule');var b=function(){this.throttleTimeInMs=null;this.shouldUseKeyUp=false;this.propagation=2;this.areAllLocalesSupported=true};b.__typeName='tab.AdditionalShortcutOptions';global.tab.AdditionalShortcutOptions=b;var c=function(){d.call(this)};c.__typeName='tab.CommandKeyboardShortcut';global.tab.CommandKeyboardShortcut=c;var d=function(){h.call(this)};d.__typeName='tab.GlobalKeyboardShortcut';global.tab.GlobalKeyboardShortcut=d;var e=function(){};e.__typeName='tab.IKeyboardShortcut';global.tab.IKeyboardShortcut=e;var f=function(){};f.__typeName='tab.IShortcutAction';global.tab.IShortcutAction=f;var g=function(){};g.__typeName='tab.IUpdatableKeyboardShortcut';global.tab.IUpdatableKeyboardShortcut=g;var h=function(){};h.__typeName='tab.KeyboardShortcut';global.tab.KeyboardShortcut=h;var i=function(){};i.__typeName='tab.KeyboardShortcutManager';i.unregisterShortcut=function(r){if(i.$6(r)){i.unregisterShortcut$1(i.$c[r]);delete i.$c[r]}};i.tryUpdateKeyboardShortcut=function(r,s){if(ss.isNullOrUndefined(s)){return}var t=i.$4(r);if(ss.isValue(t)){var u=i.$a(r,s);if(!u){i.$d[r]=s}if(ss.isNullOrEmptyString(s.get_description())&&(u||ss.isValue(t.get_commandId()))){s.set_description(t.get_hintText())}}};i.findAssociatedShortcut=function(r){return(ss.isNullOrUndefined(r)?null:i.$4(r.get_key()))};i.findAssociatedShortcut$1=function(r){return i.$c[r.cmd]||i.$c[r.ns+':'+r.cmd]};i.associateShortcutWithCommand=function(r,s,t){if(tsConfig.debugMode){if(ss.isValue(i.$4(s.cmd))||_.any(t,function(u){return ss.isValue(i.$4(u.cmd))})){}}i.$c[s.cmd]=r;_.each(t,function(u){i.$c[u.cmd]=r})};i.removeCommandAssociation=function(r){delete i.$c[r.cmd]};i.findShortcutAction=function(r){return i.$d[r.ns+':'+r.cmd]||i.$d[r.cmd]};i.$9=function(r){var s=ss.safeCast(r,c);if(ss.isNullOrUndefined(s)){return}var t=s.get_commandId();if(ss.isNullOrUndefined(t)){return}var u=t.ns+':'+t.cmd;if(i.$6(u)){}i.$c[u]=s};i.$a=function(r,s){if(i.$6(r)){var t=ss.safeCast(i.$c[r],g);if(ss.isValue(t)){t.updateShortcutAction(s);return true}}return false};i.$6=function(r){return ss.keyExists(i.$c,r)};i.$4=function(r){return i.$c[r]};i.$b=function(){return tab.Log.get$1(i)};i.registerShortcut=function(r){r.get_keyCombos().removeUnsupportedCombos(r.get_additionalOptions().areAllLocalesSupported);if(!r.get_keyCombos().get_hasCombos()){return}if(tsConfig.debugMode){i.$2(r)}i.$0(r)};i.unregisterShortcut$1=function(r){if(ss.isNullOrUndefined(r)){return}r.get_element().off(i.$3(r),i.$f[r.toString()]);delete i.$f[r.toString()];var s=r.get_keyCombos();for(var t=0;t<s.length;t++){var u=s[t];delete i.$e[u.toString()]}};i.isGloballyAllowed=function(r,s){var t=$('.tab-glass');var u=$('#loadingGlassPane');var v=i.$7(t);var w=i.$7(u);var x=_.any($('[role=dialog]').get(),l.isShown);var y=l.isTargetTextInput(r);j.logKeyboardShortcut(new k(s,r,null,null,null,null,true,x,v,w,y));return!v&&!w&&!y&&!x};i.$7=function(r){var s=$(document.body);var t=2;var u=r.get();for(var v=0;v<u.length;v++){var w=u[v];if(!l.isShown(w)){continue}var x=$(w);var y=Math.abs(x.width()-s.width())<=2;var z=Math.abs(x.height()-s.height())<=2;var A=y&&z;if(A){return true}}return false};i.$2=function(r){if(ss.keyExists(i.$f,r.toString())){}var s=r.get_keyCombos();for(var t=0;t<s.length;t++){var u=s[t];var v=u.toString();if(ss.keyExists(i.$e,v)){for(var w=0;w<u.supportedLocales.length;w++){var x={$:u.supportedLocales[w]};if(_.any(i.$e[v],ss.mkdel({supportedLocale:x},function(y){return ss.isNullOrUndefined(y)||ss.referenceEquals(y,this.supportedLocale.$)}))){}}}}};i.$0=function(r){var s=i.$1(r);i.$f[r.toString()]=s;r.get_element().on(i.$3(r),s);i.$9(r);var t=r.get_keyCombos();for(var u=0;u<t.length;u++){var v=t[u];var w={$:v.toString()};if(!ss.keyExists(i.$e,w.$)){i.$e[w.$]=v.supportedLocales}else{if(_.isEmpty(v.supportedLocales)){var x=i.$e[w.$];x.push.apply(x,null)}_.each(v.supportedLocales,ss.mkdel({comboKey:w},function(y){i.$e[this.comboKey.$].push(y)}))}}};i.$1=function(r){var s=function(t){i.$5(t,r)};if(ss.isValue(r.get_additionalOptions().throttleTimeInMs)){s=_.throttle(s,ss.unbox(r.get_additionalOptions().throttleTimeInMs))}return function(t){s(t)}};i.$5=function(r,s){if(ss.isNullOrUndefined(r)){return}var t=s.get_keyCombos().hasValidCombo(r);j.logKeyboardShortcut(new k(s,r,tabBootstrap.MetricsController.getTiming(),null,null,t,false,null,null,null,null));if(t){s.onValidKeyCombo(r);if(s.get_additionalOptions().propagation===1){l.stopPropagationAndDefault(r)}if(s.isAllowed(r)){s.executeShortcut(r);j.logKeyboardShortcut(new k(s,r,null,tabBootstrap.MetricsController.getTiming(),true,null,false,null,null,null,null));if(s.get_additionalOptions().propagation===2){l.stopPropagationAndDefault(r)}}}};i.$3=function(r){return(r.get_additionalOptions().shouldUseKeyUp?'keyup'.toString():'keydown'.toString())};i.$8=function(r,s,t){var u='Found conflict with shortcut:\n'+r+'\n\n';if(ss.isValue(s)){u+='Shortcut is being overwritten by:\n'+s+'\n\n'}if(ss.isValue(t)){u+='Additional info: '+t+'\n'}u+='activeElement: '+document.activeElement};global.tab.KeyboardShortcutManager=i;var j=function(){};j.__typeName='tab.KeyboardShortcutTelemetry';j.add_telemetryEvent=function(r){j.$1$1=ss.delegateCombine(j.$1$1,r)};j.remove_telemetryEvent=function(r){j.$1$1=ss.delegateRemove(j.$1$1,r)};j.logKeyboardShortcut=function(r){var s=r.comboName;if(ss.keyExists(j.$1,s)){j.$1[s]=k.mergeEvents(j.$1[s],r)}else{j.$1[s]=r;_.delay(function(t){var u=j.$1[t];if(!ss.staticEquals(j.$1$1,null)&&u.shouldAllowLogging()){j.$1$1('KeyboardShortcut',u.generateTelemetryPairs())}delete j.$1[t]},500,s)}};global.tab.KeyboardShortcutTelemetry=j;var k=function(r,s,t,u,v,w,x,y,z,A,B){this.comboName=null;this.$7=null;this.$3=false;this.$4=false;this.$9=false;this.$a=false;this.$b=false;this.$c=false;this.$5=0;this.$2=null;this.$6=null;this.$8=null;this.$1=null;this.$2=s;this.$8=t;this.$1=u;this.$4=w===true;this.$9=y===true;this.$a=z===true;this.$b=A===true;this.$c=B===true;this.$3=x;this.$6=r;if(v===true){++this.$5}this.$0()};k.__typeName='tab.KeyboardShortcutTelemetryEvent';k.$e=function(r,s,t,u,v,w,x,y,z,A,B,C){this.comboName=null;this.$7=null;this.$3=false;this.$4=false;this.$9=false;this.$a=false;this.$b=false;this.$c=false;this.$5=0;this.$2=null;this.$6=null;this.$8=null;this.$1=null;this.$7=r;this.comboName=s;this.$2=t;this.$5=u;this.$9=z;this.$3=v;this.$8=w;this.$1=x;this.$4=y;this.$a=A;this.$b=B;this.$c=C};k.mergeEvents=function(r,s){var t=((r.$5>0)?r:(r.$4?r:s)).$7;var u=r.comboName;var v=r.$2||s.$2;var w=r.$3||s.$3;var x=r.$5+s.$5;var y=r.$8;if(ss.isNullOrUndefined(y)){y=s.$8}var z=r.$1;if(ss.isNullOrUndefined(z)){z=s.$1}return new k.$e(t,u,v,x,w,y,z,r.$4||s.$4,r.$9||s.$9,r.$a||s.$a,r.$b||s.$b,r.$c||s.$c)};global.tab.KeyboardShortcutTelemetryEvent=k;var l=function(){};l.__typeName='tab.KeyboardUtilities';l.isOnlyMetaKeyPressed=function(r){return r.metaKey&&r.which===91};l.isTargetTextInput=function(r){return $(r.target).is('input,textarea,[contenteditable=true]')};l.stopPropagationAndDefault=function(r){r.stopPropagation();r.preventDefault()};l.isShown=function(r){var s=$(r);return r.offsetHeight!==0&&r.offsetWidth!==0&&l.$0(s)&&_.every(s.parents().get(),function(t){return l.$0($(t))})};l.$0=function(r){return r.is(':visible')&&r.css('display')!=='none'&&r.css('visibility')!=='hidden'};global.tab.KeyboardUtilities=l;var m=function(){};m.__typeName='tab.KeyCodeNames';m.$0=function(r,s){m.$1[r]=s;m.$2[s]=r};m.hasName$1=function(r){return ss.keyExists(m.$1,r)};m.hasName=function(r){return ss.keyExists(m.$2,r)};m.hasKeyCode=function(r){return ss.keyExists(m.$2,r)};m.hasKeyCode$1=function(r){return ss.keyExists(m.$1,r)};m.findName=function(r){return m.$1[r]};m.findKeyCode=function(r){return m.$2[r]};global.tab.KeyCodeNames=m;var n=function(r){this.supportedLocales=null;this.$1$1=null;this.$1$2=0;if(ss.isNullOrEmptyString(r)){return}var s=function(z){return r.indexOf(z.toString()+'+')!==-1||r.indexOf(m.findName(z)+'+')!==-1};var t=function(z){return r.indexOf(z+'+')!==-1};var u=new p(false,false,false,false,false,false,false,false,false);u.alt=s(18);u.command=s(91)&&BrowserSupport.BrowserSupport.IsMac();u.control=s(17);u.controlOrCommand=t('Ctrl_Command');u.macControl=t('Mac_Ctrl');u.shift=s(16);u.winControl=t('Win_Ctrl');u.windows=s(91)&&BrowserSupport.BrowserSupport.IsWindows();this.set_modifiers(u);if(r.indexOf('++')!==-1){this.set_triggerKey(187)}else{var v=r.split('+');var w=v[v.length-1];var x={};if(ss.Int32.tryParse(w,x)){this.set_triggerKey(x.$)}else if(m.hasName(w)){this.set_triggerKey(m.findKeyCode(w))}else{var y=w.split('').map(function(z){return z.charCodeAt(0)});this.set_triggerKey(y[0])}}};n.__typeName='tab.KeyCombo';n.$ctor3=function(r,s,t){this.supportedLocales=null;this.$1$1=null;this.$1$2=0;this.set_modifiers(r);this.set_triggerKey(s);this.supportedLocales=t};n.$ctor4=function(r,s,t){n.$ctor3.call(this,r,s,t)};n.$ctor2=function(r,s){n.$ctor4.call(this,new p(false,false,false,false,false,false,false,false,false),r,s)};n.$ctor1=function(r,s){n.$ctor3.call(this,new p(false,false,false,false,false,false,false,false,false),r,s)};global.tab.KeyCombo=n;var o=function(r,s){this.supportedLocales=null;this.isCurrentLocalAllowed=false;this.$1$1=null;this.$3([r].concat(s));this.supportedLocales=this.$1();this.isCurrentLocalAllowed=this.$0()};o.__typeName='tab.KeyCombos';o.op_Implicit=function(r){return new o(r,[])};global.tab.KeyCombos=o;var p=function(r,s,t,u,v,w,x,y,z){this.alt=false;this.command=false;this.control=false;this.controlOrCommand=false;this.macControl=false;this.nonMacControl=false;this.shift=false;this.winControl=false;this.windows=false;this.alt=r;this.command=s;this.control=t||y||v||w;this.nonMacControl=w;this.controlOrCommand=u;this.macControl=v;this.shift=x;this.winControl=y;this.windows=z;if(this.controlOrCommand){this.$1()}};p.__typeName='tab.KeyModifiers';p.isControlOrCommandPressed=function(r){return(BrowserSupport.BrowserSupport.IsMac()?r.metaKey:r.ctrlKey)};p.isCommandPressed=function(r){return BrowserSupport.BrowserSupport.IsMac()&&r.metaKey};p.isWindowsPressed=function(r){return BrowserSupport.BrowserSupport.IsWindows()&&r.metaKey};p.isMacControlPressed=function(r){return BrowserSupport.BrowserSupport.IsMac()&&r.ctrlKey};p.isWinControlPressed=function(r){return BrowserSupport.BrowserSupport.IsWindows()&&r.ctrlKey};p.isNonMacControlPressed=function(r){return!BrowserSupport.BrowserSupport.IsMac()&&r.ctrlKey};global.tab.KeyModifiers=p;var q=function(){};q.__typeName='tab.PropagationType';global.tab.PropagationType=q;ss.initClass(b,a,{toString:function(){return JSON.stringify(this)}});ss.initInterface(e,a,{get_keyCombos:null,get_element:null,get_hintText:null,get_additionalOptions:null,onValidKeyCombo:null,isAllowed:null,executeShortcut:null});ss.initClass(h,a,{get_keyCombos:null,get_element:null,get_hintText:function(){return this.get_keyCombos().removeUnsupportedCombos(this.get_additionalOptions().areAllLocalesSupported).get_hintText()},get_additionalOptions:function(){return new b},onValidKeyCombo:function(r){},isAllowed:null,executeShortcut:null,toString:function(){var r={};r['shortcut name']=ss.getTypeName(ss.getInstanceType(this));r['class']=this.get_element().attr('class');r['id']=this.get_element().attr('id');r['hint text']=this.get_hintText();r['key combos']=this.get_keyCombos();r['additional options']=this.get_additionalOptions();return JSON.stringify(r)}},null,[e]);ss.initClass(d,a,{get_element:function(){return $(document.body)},isAllowed:function(r){return i.isGloballyAllowed(r,this)}},h,[e]);ss.initClass(c,a,{get_commandId:null,get_shouldRequireCommandCheck:function(){return true},$0:function(){return i.findShortcutAction(this.get_commandId())},isAllowed:function(r){return d.prototype.isAllowed.call(this,r)&&(!this.get_shouldRequireCommandCheck()||ss.isValue(this.$0())&&this.$0().get_enabled()&&this.$0().get_isVisible())},executeShortcut:function(r){this.$0().execute()}},d,[e]);ss.initInterface(f,a,{get_enabled:null,get_isVisible:null,get_description:null,set_description:null,get_key:null,execute:null});ss.initInterface(g,a,{updateShortcutAction:null});ss.initClass(i,a,{});ss.initClass(j,a,{});ss.initClass(k,a,{generateTelemetryPairs:function(){return ss.mkdict(['ShortcutName',this.$7,'Combo',this.comboName,'IsKnownShortcut',this.$4,'WasBlockedByDialog',this.$9,'WasBlockedByGlass',this.$a,'WasBlockedByLoading',this.$b,'WasBlockedByTextInput',this.$c,'CurrentTargetId',this.$2.currentTarget.id,'CurrentTargetClasses',this.$2.currentTarget.className,'CurrentTargetName',this.$2.currentTarget.nodeName,'NumTimesExecuted',this.$5,'IsGlobalShortcut',this.$3,'ElapsedTimeInMs',((ss.isNullOrUndefined(this.$1)||ss.isNullOrUndefined(this.$8))?0:ss.Nullable$1.sub(this.$1,this.$8))])},shouldAllowLogging:function(){var r=(this.$2.ctrlKey||this.$2.metaKey)&&this.$2.which>=32&&this.$2.which<=126;return!l.isOnlyMetaKeyPressed(this.$2)&&(this.$5>0||r)},createTriggerKeyName:function(){if(l.isOnlyMetaKeyPressed(this.$2)){return''}if(m.hasKeyCode$1(this.$2.which)){return m.findName(this.$2.which)}return String.fromCharCode(this.$2.which)},$0:function(){if(ss.isNullOrUndefined(this.$6)||this.$4!==true){this.$7='UnregisteredShortcut'}else{this.$7=(ss.isNullOrUndefined(this.$6)?'':ss.getTypeName(ss.getInstanceType(this.$6)))}var r='ctrl+';var s='command+';var t='alt+';var u='win+';var v='shift+';this.comboName=(this.$2.ctrlKey?r:'')+(p.isCommandPressed(this.$2)?s:'')+(this.$2.altKey?t:'')+(p.isWindowsPressed(this.$2)?u:'')+(this.$2.shiftKey?v:'')+this.createTriggerKeyName()}});k.$e.prototype=k.prototype;ss.initClass(l,a,{});ss.initClass(m,a,{});ss.initClass(n,a,{get_modifiers:function(){return this.$1$1},set_modifiers:function(r){this.$1$1=r},get_triggerKey:function(){return this.$1$2},set_triggerKey:function(r){this.$1$2=r},get_hintText:function(){return(tsConfig.is_mobile?null:(this.get_modifiers().get_hintText()+this.$0()))},isCurrentLocaleAllowed:function(){return!this.isLocaleSpecified()||ss.isValue(tsConfig.locale)&&_.any(this.supportedLocales,function(r){return ss.referenceEquals(tsConfig.locale.toString(),r)})},isLocaleSpecified:function(){return!_.isEmpty(this.supportedLocales)},hasValidCombo:function(r){var s=r.which;return s===this.get_triggerKey()&&this.get_modifiers().hasValidModifiers(r)&&this.isCurrentLocaleAllowed()},isComboSupported:function(r){return(r||this.isCurrentLocaleAllowed())&&this.$1()},$0:function(){return(m.hasName$1(this.get_triggerKey())?m.findName(this.get_triggerKey()):String.fromCharCode(this.get_triggerKey()))},$1:function(){var r=this.get_modifiers().macControl||this.get_modifiers().command;var s=this.get_modifiers().winControl||this.get_modifiers().windows||this.get_modifiers().nonMacControl;return!r&&!s||r&&BrowserSupport.BrowserSupport.IsMac()||s&&!BrowserSupport.BrowserSupport.IsMac()},toString:function(){return this.get_modifiers()+this.$0()+this.supportedLocales}});n.$ctor3.prototype=n.$ctor4.prototype=n.$ctor2.prototype=n.$ctor1.prototype=n.prototype;ss.initClass(o,a,{get_hasCombos:function(){return this.$2().length>0},get_hintText:function(){return((this.$2().length===0)?'':this.$2()[0].get_hintText())},$2:function(){return this.$1$1},$3:function(r){this.$1$1=r},removeUnsupportedCombos:function(r){this.$3(_.filter(this.$2(),function(s){return s.isComboSupported(r)}));return this},$0:function(){var r=_.any(this.$2(),function(s){return s.isLocaleSpecified()});if(!r){return ss.isValue(tsConfig.locale)&&tsConfig.locale.toString()==='en_US'}return _.any(this.$2(),function(s){return s.isCurrentLocaleAllowed()})},$1:function(){var r=[];for(var s=0;s<this.length;s++){var t=this[s];for(var u=0;u<t.supportedLocales.length;u++){var v=t.supportedLocales[u];r.push(v)}}return r},hasValidCombo:function(r){return _.any(this.$2(),function(s){return s.hasValidCombo(r)})},getEnumerator:function(){return this.$2().getEnumerator()},toString:function(){return this.$2().toString()}},null,[ss.IEnumerable,ss.IEnumerable]);ss.initClass(p,a,{get_hintText:function(){var r=(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.ModifierKeyWithDelimiterHintTextMacControl:tab.Strings.ModifierKeyWithDelimiterHintTextControl);var s=(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.ModifierKeyWithDelimiterHintTextMacOption:tab.Strings.ModifierKeyWithDelimiterHintTextAlt);var t=(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.ModifierKeyWithDelimiterHintTextMacShift:tab.Strings.ModifierKeyWithDelimiterHintTextShift);var u=tab.Strings.ModifierKeyWithDelimiterHintTextWindows;var v=tab.Strings.ModifierKeyWithDelimiterHintTextCommand;return(this.control?r:'')+(this.alt?s:'')+(this.shift?t:'')+(this.windows?u:'')+(this.command?v:'')},hasValidModifiers:function(r){var s=true;if(this.macControl){s=!!(s&p.isMacControlPressed(r))}if(this.nonMacControl){s=!!(s&p.isNonMacControlPressed(r))}if(this.winControl){s=!!(s&p.isWinControlPressed(r))}return this.alt===r.altKey&&this.command===p.isCommandPressed(r)&&this.control===r.ctrlKey&&this.shift===r.shiftKey&&this.windows===p.isWindowsPressed(r)&&s&&this.$0(r)},$1:function(){if(BrowserSupport.BrowserSupport.IsMac()){this.command=true}else{this.control=true}if(BrowserSupport.BrowserSupport.IsWindows()){this.winControl=true}},$0:function(r){return!this.controlOrCommand||p.isControlOrCommandPressed(r)},toString:function(){return this.alt.toString()+this.command+this.control+this.controlOrCommand+this.macControl+this.shift+this.winControl+this.windows+this.nonMacControl}});ss.initEnum(q,a,{neverStopPropagation:0,onValidKeyComboStopPropagation:1,onValidAndAllowedKeyComboStopPropagation:2});(function(){m.$1=null;m.$2=null;m.$1={};m.$2={};m.$0(18,'Alt');m.$0(8,'Backspace');m.$0(20,'CapsLock');m.$0(188,'Comma');m.$0(91,'Command');m.$0(91,'CommandLeft');m.$0(91,'Windows');m.$0(93,'CommandRight');m.$0(93,'Menu');m.$0(17,'Control');m.$0(46,'DeleteKey');m.$0(40,(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.KeyboardShortcutTriggerKeyMacArrowDown:tab.Strings.KeyboardShortcutTriggerKeyArrowDown));m.$0(35,'End');m.$0(13,(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.KeyboardShortcutTriggerKeyMacEnter:tab.Strings.KeyboardShortcutTriggerKeyEnter));m.$0(187,'=');m.$0(187,'+');m.$0(27,'Escape');m.$0(112,tab.Strings.KeyboardShortcutTriggerKeyF1);m.$0(113,tab.Strings.KeyboardShortcutTriggerKeyF2);m.$0(114,'F3');m.$0(115,'F4');m.$0(116,'F5');m.$0(117,'F6');m.$0(118,'F7');m.$0(119,'F8');m.$0(120,'F9');m.$0(121,'F10');m.$0(122,tab.Strings.KeyboardShortcutTriggerKeyF11);m.$0(123,tab.Strings.KeyboardShortcutTriggerKeyF12);m.$0(191,tab.Strings.KeyboardShortcutTriggerKeyForwardSlash);m.$0(36,'Home');m.$0(45,'Insert');m.$0(37,(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.KeyboardShortcutTriggerKeyMacArrowLeft:tab.Strings.KeyboardShortcutTriggerKeyArrowLeft));m.$0(96,'NumpadZero');m.$0(97,'NumpadOne');m.$0(98,'NumpadTwo');m.$0(99,'NumpadThree');m.$0(100,'NumpadFour');m.$0(101,'NumpadFive');m.$0(102,'NumpadSix');m.$0(103,'NumpadSeven');m.$0(104,'NumpadEight');m.$0(105,'NumpadNine');m.$0(107,'NumpadAdd');m.$0(110,'NumpadDecimal');m.$0(111,'NumpadDivide');m.$0(108,'NumpadEnter');m.$0(106,'NumpadMultiply');m.$0(109,'NumpadSubtract');m.$0(34,'PageDown');m.$0(33,'PageUp');m.$0(190,'Period');m.$0(39,(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.KeyboardShortcutTriggerKeyMacArrowRight:tab.Strings.KeyboardShortcutTriggerKeyArrowRight));m.$0(16,'Shift');m.$0(32,'Space');m.$0(9,'Tab');m.$0(126,'Tilde');m.$0(38,(BrowserSupport.BrowserSupport.IsMac()?tab.Strings.KeyboardShortcutTriggerKeyMacArrowUp:tab.Strings.KeyboardShortcutTriggerKeyArrowUp))})();(function(){k.$9='UnregisteredShortcut';k.$8='ShortcutName';k.$0='Combo';k.$2='CurrentTargetId';k.$1='CurrentTargetClasses';k.$3='CurrentTargetName';k.$6='IsKnownShortcut';k.$7='NumTimesExecuted';k.$a='WasBlockedByDialog';k.$b='WasBlockedByGlass';k.$c='WasBlockedByLoading';k.$d='WasBlockedByTextInput';k.$5='IsGlobalShortcut';k.$4='ElapsedTimeInMs'})();(function(){j.$2='KeyboardShortcut';j.$0=500;j.$1={};j.$1$1=null})();(function(){h.$5='shortcut name';h.$1='class';h.$3='id';h.$2='hint text';h.$4='key combos';h.$0='additional options'})();(function(){i.$c={};i.$d={};i.$f={};i.$e={}})();(function(){n.delimiter='+';n.controlOrCommand='Ctrl_Command';n.macControl='Mac_Ctrl';n.winControl='Win_Ctrl'})()})();;(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(e,ex,mo,mp){bQ.call(this,'none',e,ex,mo,mp)};b.__typeName='tab.$0';var c=function(e){this.$9=null;this.$7=0;this.$8=null;this.$1$1=null;this.$1$2=null;this.$9=e;this.$7=0;this.$8=[]};c.__typeName='tab.$1';var d=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};d.__typeName='tab.$10';d.$1=function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=ex};d.$0=function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=ex};var f=function(e,ex){var mo=function(mp,mq){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(ex);this.$0=mp;this.$1=mq};ss.registerGenericClassInstance(mo,f,[e,ex],{},function(){return null},function(){return[]});return mo};f.__typeName='tab.$11';ss.initGenericClass(f,a,2);var g=function(e){var ex=function(mo){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=mo};ss.registerGenericClassInstance(ex,g,[e],{},function(){return null},function(){return[]});return ex};g.__typeName='tab.$12';ss.initGenericClass(g,a,1);var h=function(e){var ex=function(){this.$2=null;this.$3=null};ss.registerGenericClassInstance(ex,h,[e],{$0:function(mo){var mp=this.$2;this.$2=mo;mo.$1=mp;mo.$2=null;if(ss.isValue(mp)){mp.$2=mo}if(ss.isNullOrUndefined(this.$3)){this.$3=mo}},$1:function(mo){if(ss.referenceEquals(this.$2,mo)){this.$2=mo.$1}if(ss.referenceEquals(this.$3,mo)){this.$3=mo.$2}if(ss.isValue(mo.$2)){mo.$2.$1=mo.$1}if(ss.isValue(mo.$1)){mo.$1.$2=mo.$2}}},function(){return null},function(){return[]});return ex};h.__typeName='tab.$13';ss.initGenericClass(h,a,1);var i=function(e){hv.call(this,e,new ik('sizeItemList'.toString(),null))};i.__typeName='tab.$14';var j=function(e){hv.call(this,e,new ik('sizeItems'.toString(),1))};j.__typeName='tab.$15';var k=function(e){hv.call(this,e,new ik('sheetListItems'.toString(),1))};k.__typeName='tab.$16';var l=function(e){this.$9=null;this.$k=null;this.$a=null;this.$3=null;this.$4=null;this.$5=null;this.$8=null;this.$7=null;this.$0=null;this.$1=null;this.$2=null;this.$f=null;this.$j=null;this.$b=null;this.$6=null;this.$e=null;this.$i=null;this.$c=null;this.$g=null;this.$d=null;this.$h=null;var ex=e.Details;this.$9=ex.SpecId;this.$k=ex.ZOrder;this.$a=ex.StyleId;this.$3=ex.FillAbove;this.$4=ex.FillBelow;this.$5=ex.EnableInstantRefline;var mo=e.LayoutElements;this.$8=mo.SpecId;this.$7=mo.PaneIndex;this.$0=mo.AxisOrientation;this.$1=mo.CalculationScope;this.$2=mo.CellIndex;this.$f=e.XValues;this.$j=e.YValues;this.$b=e.TextRun;this.$6=e.Labels;var mp=e.XStyles||e.YStyles;this.$e=mp.TextStyles;this.$c=mp.AxisStyles;var mq=e.YStyles||e.XStyles;this.$i=mq.TextStyles;this.$g=mq.AxisStyles;this.$d=mp.FillColors;this.$h=mq.FillColors};l.__typeName='tab.$17';var m=function(e,ex,mo,mp,mq){this.$3=null;this.$2=null;var mr=e.$1[mo];var ms=e.$a[ex];var mt=e.$5[ex];var mu=(mp?e.$c:e.$g);var mv=(mp?e.$e:e.$i);var mw=(mp?e.$d[ms]:e.$h[ms]);var mx=(mp?e.$f:e.$j);this.$3=new iG.$ctor2(mq,mp,mr,mt,mu,ms,e.$2,mx,e.$b,mv,e.$6);this.$2=new iG.$ctor1(mq,mp,mr,mt,e.$2,mx,mw,e.$3[ex],e.$4[ex]);if(!this.$2.get_hasFill()){this.$2=null}};m.__typeName='tab.$18';var n=function(){this.$4={};this.$3={};this.$5={}};n.__typeName='tab.$19';var o=function(){};o.__typeName='tab.$2';var p=function(e,ex){this.$4=null;this.$3=false;this.$4=ex;this.$3=e};p.__typeName='tab.$20';var q=function(e,ex,mo,mp){this.$c=null;this.$e=null;this.$d=null;this.$b=null;this.$c=e;this.$e=ex;this.$d=mo;this.$b=mp};q.__typeName='tab.$21';var r=function(e,ex,mo){this.$7=null;this.$1$1=false;this.$1$2=false;this.$4(e);this.$6(ex);this.$7=new Array(mo.length);for(var mp=0;mp<mo.length;mp++){this.$7[mp]=bU.fromArgbInt(mo[mp])}};r.__typeName='tab.$22';var s=function(){};s.__typeName='tab.$23';var t=function(){this.$4=null;this.$4=[]};t.__typeName='tab.$24';var u=function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex};u.__typeName='tab.$25';var v=function(){};v.__typeName='tab.$26';v.$0=function(e,ex,mo){var mp=new Set;for(var mq=0;mq<ex.length;mq++){var mr=ex[mq];if(ss.contains(mr.sourceWorksheets,e)&&v.$1(mr,mo)){tab.SetUtilities.addAll(Object).call(null,mp,mr.targetWorksheets)}}return mp};v.$1=function(e,ex){var mo=ck.deserialize(kt.create(e.simpleCommandModel).get_simpleCommand(),true);if(ss.isNullOrUndefined(ex)||bj.isSpecialDateTimeHighlighting(mo)){return true}var mp=bj.getHighlightFieldCaptions(mo,ex.get_highlightCaptions(),ex.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty$2(mp)};var w=function(){};w.__typeName='tab.$27';var x=function(){};x.__typeName='tab.$28';var y=function(){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(0);this.$3(0);this.$5(0);this.$7(0)};y.__typeName='tab.$29';y.$0=function(e,ex,mo,mp){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(e);this.$3(ex);this.$5(mo);this.$7(mp)};var z=function(e,ex,mo,mp,mq){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=ex;this.$e=mo;this.$a=ss.coalesce(mp,1);this.$9=ss.coalesce(mq,35)};z.__typeName='tab.$3';var A=function(e,ex){this.$1$1=0;this.$1$2=0;this.$3(e);this.$1(ex)};A.__typeName='tab.$30';var B=function(){};B.__typeName='tab.$31';var C=function(e){this.$9=null;this.$a=new Map;this.$8=[];this.$7=false;this.$9=e};C.__typeName='tab.$32';C.$0=function(e,ex){var mo=new Array(e.length);for(var mp=0;mp<e.length;++mp){mo[mp]={item1:e[mp],item2:ex[mp]}}mo.sort(function(mq,mr){return mq.item1-mr.item1});return mo};C.$1=function(e,ex){var mo;if(ex.length===1||ss.isNullOrUndefined(e)){mo=ex}else{mo=_.sortBy(ex,function(mp,mq){return e[mq]})}return mo};var D=function(){};D.__typeName='tab.$33';D.$e=function(){return tab.Logger.lazyGetLogger(jH)};D.$2=function(e,ex,mo,mp,mq){var mr=D.$4(mp,mq);var ms=new C(mq);if(ss.isNullOrUndefined(mr)){return ms}var mt=new Array(mq.length);for(var mu=0;mu<mt.length;++mu){var mv=mp.getColumnIndex(mq[mu]);mt[mu]=mv}var mw={};for(var mx=0;mx<mo.length;mx++){var my=mo[mx];var mz=e.getItemNamesFromObjectId(my);if(ss.isNullOrUndefined(mz)){continue}var mA=true;var mB=[];for(var mC=0;mC<mz.length;mC++){var mD=ex[mC];var mE=mr[mD];if(ss.isNullOrUndefined(mE)){continue}mw[mD]=mw[mD]||lz.buildAliasReverseLookup(mp,mE,Y.get_instance().get_dataDictionary());var mF=mw[mD];var mG=mF[mz[mC]];if(!ss.isValue(mG)){mA=false;break}mB.push(mG)}if(mA){ms.$0(mB,mt)}}return ms};D.$1=function(e,ex){var mo={};for(var mp=0;mp<ex.length;mp++){var mq=ex[mp];var mr=new Array(mq.columnIndices.length);for(var ms=0;ms<mr.length;ms++){var mt=e.getVizDataFieldByIndex(mq.columnIndices[ms]);mr[ms]=mt.get_fieldName()}var mu=mr.join(';');var mv;if(ss.keyExists(mo,mu)){mv=mo[mu]}else{mv=new C(mr);mo[mu]=mv}mv.$0(mq.aliasIndices,mq.columnIndices)}return _.map(mo,function(mw,mx){return mw})};D.$c=function(e,ex){var mo=[];for(var mp=0;mp<ex.length;mp++){var mq=ex[mp];if(ss.isNullOrUndefined(mq.node)){continue}var mr=mq.node;if(ss.isValue(mr.columnIndices)){for(var ms=0;ms<mr.columnIndices.length;ms++){var mt=mr.columnIndices[ms];var mu=e.get_vizDataModel().getVizDataFieldByIndex(mt);var mv=mu.get_fieldCaption();if(!ss.contains(mo,mv)){mo.push(mv)}}}if(ss.isValue(mr.fn)){var mw=e.get_vizDataModel().getVizDataField(mr.fn);var mx=mw.get_fieldCaption();if(!ss.contains(mo,mx)){mo.push(mx)}}}return Array.prototype.slice.call(mo)};D.$3=function(e,ex,mo){var mp=new C(mo);var mq=D.$4(e,mo);if(ss.isNullOrUndefined(mq)){return mp}for(var mr=0;mr<ex.length;mr++){var ms=ex[mr];var mt=[];var mu=[];for(var mv=0;mv<mo.length;mv++){var mw=mo[mv];var mx=mq[mw];var my=mx.getAliasIndex(ms);mt.push(my);mu.push(e.getColumnIndex(mw))}if(mt.length!==mo.length){}mp.$0(mt,mu)}return mp};D.$0=function(e,ex,mo,mp){var mq=[];var mr={};var ms=false;e.forEachVizDataField(function(mL,mM){if(D.$d(mL)){var mN=mL.get_aggType()||'none';mr[mN]=mM;if(mN==='none'){ms=true}}return true});var mt=true;var mu=null;ex.forEachVizDataField(function(mL,mM){if(D.$d(mL)){if(ss.isNullOrUndefined(mu)){mu=mL.get_baseColumnName()}else if(!ss.referenceEquals(mu,mL.get_baseColumnName())){mt=false}}return true});var mv=[];if(mt){var mw=[];ex.forEachVizDataField(function(mL,mM){if(D.$d(mL)){var mN=mL.get_aggType()||'none';if(!ms&&mN==='none'){var mO=ss.getEnumerator(Object.keys(mr));try{while(mO.moveNext()){var mP=mO.current();if(!ss.contains(mw,mP)){mw.push(mP);var mQ=mr[mP];mq.push(new E(mQ,mM,mP,'none'));var mR=e.getVizDataFieldByIndex(mQ);mv.push(mR)}}}finally{mO.dispose()}}else if(ss.keyExists(mr,mN)){if(!ss.contains(mw,mN)){mw.push(mN);var mS=mr[mN];mq.push(new E(mS,mM,'none','none'));mv.push(mL)}}else if(ms){var mT=mr['none'];mq.push(new E(mT,mM,'none',mN));mv.push(mL)}}return true})}var mx=new Array(mv.length);for(var my=0;my<mv.length;my++){var mz=mv[my];mx.push(mz.get_fieldCaption())}var mA=new C(mx);for(var mB=0;mB<mp.length;mB++){var mC=mp[mB];var mD=[];var mE=[];for(var mF=0;mF<mq.length;mF++){var mG=mq[mF];var mH=e.getVizDataFieldByIndex(mG.$3);var mI=mH.getDataValueIndex(mC);if(ss.isValue(mI)){var mJ=mo.getRawValue(mH.get_dataType(),ss.unbox(mI));var mK=D.$5(mJ,mG.$2,mG.$0,ss.unbox(mI));mD.push(mK);mE.push(mG.$3)}}mA.$0(mD,mE)}return{item1:mA,item2:mq}};D.$b=function(e,ex,mo,mp){var mq=[];if(ss.isNullOrUndefined(mo)||e.$5()){return mq}mo.forEachTupleId(function(mr){var ms=[];var mt=[];for(var mu=0;mu<ex.length;mu++){var mv=ex[mu];var mw=mo.getVizDataFieldByIndex(mv.$1);var mx=mw.getDataValueIndex(mr);if(ss.isValue(mx)){var my=mp.getRawValue(mw.get_dataType(),ss.unbox(mx));var mz=D.$5(my,mv.$0,mv.$2,ss.unbox(mx));ms.push(mz);mt.push(mv.$1)}}if(e.$1(mt,ms)){mq.push(mr)}return true});return mq};D.$a=function(e,ex){var mo=[];if(ss.isNullOrUndefined(ex)||e.$5()){return mo}var mp=e.$4();var mq=D.$4(ex,mp);if(ss.isNullOrUndefined(mq)){return mo}if(!ex.get_hasTupleIdColumn()){return mo}var mr=new Array(mp.length);for(var ms=0;ms<mp.length;ms++){mr[ms]=ex.getColumnIndex(mp[ms])}ex.forEachTupleId(function(mt){var mu=new Array(mp.length);for(var mv=0;mv<mp.length;mv++){var mw=mp[mv];var mx=mq[mw];var my=mx.getAliasIndex(mt);mu[mv]=my}if(e.$1(mr,mu)){mo.push(mt)}return true});return mo};D.$9=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(mo)||ex.$5()){return mp}var mq=ex.$4();var mr=null;var ms=e.get_sceneRuntimeData().get_panes();for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];for(var mv=0;mv<mu.drawPane.length;mv++){var mw=mu.drawPane[mv];if(mw.visualPart==='trend-lines'){for(var mx=0;mx<mw.drawItems.length;mx++){var my=mw.drawItems[mx];if(my.type==='draw-group'){mr=new Array(mq.length);for(var mz=0;mz<mq.length;mz++){mr[mz]=mo.getColumnIndex(mq[mz])}var mA=my;var mB={};if(ss.isValue(mA.columnIndices)){for(var mC=0;mC<mA.columnIndices.length;mC++){mB[mA.columnIndices[mC]]=mA.aliasIndices[mC]}}var mD=new Array(mq.length);for(var mE=0;mE<mq.length;mE++){if(ss.keyExists(mB,mr[mE])){mD[mE]=mB[mr[mE]]}else{mD[mE]=null}}if(ex.$1(mr,mD)){mp.push(mA.objectId)}}}}}}return mp};D.$4=function(e,ex){var mo={};for(var mp=0;mp<ex.length;mp++){var mq=ex[mp];var mr=e.getVizDataField(mq);if(ss.isNullOrUndefined(mr)){return null}mo[mq]=mr}return mo};D.$6=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(ex)||mo.get_fieldCaptions().length!==e.$4().length){return mp}var mq=e.$4();var mr=mo.get_fieldCaptions();var ms=[];for(var mt=0;mt<mr.length;mt++){var mu=mr[mt];var mv=ss.indexOf(mq,mu);if(mv===-1){return mp}ms.push(mv)}var mw=Y.get_instance().get_dataDictionary();var mx={};var my={};var mz=[];var mA=e.$6();for(var mB=0;mB<mA.length;mB++){var mC=mA[mB];var mD=true;mz.length=mC.length;for(var mE=0;mE<mz.length;mE++){var mF=ms[mE];var mG=mC[mF];if(!ss.isValue(mG)){mD=false;break}var mH=mr[mE];mx[mH]=mx[mH]||ex.getVizDataField(mH);var mI=mx[mH];mz[mE]=lz.lookupAliasFromIndex(mG,mI,mw)}if(mD){my[mz.join(',')]=true}}var mJ=mo.get_items();for(var mK=0;mK<mJ.length;mK++){var mL=mJ[mK];if(my[mL.itemValues.join(',')]===true){mp.push(mL.objectId)}}return mp};D.$7=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return mp}var mq=e.$4();for(var mr=0;mr<mo.length;mr++){var ms=mo[mr];var mt=ss.isNullOrUndefined(ms.node)||ss.isNullOrUndefined(ms.node.columnIndices)||ss.isNullOrUndefined(ms.node.aliasIndices);if(mt||ms.node.aliasIndices.length<mq.length){continue}var mu=[];var mv=[];var mw=false;for(var mx=0;mx<ms.node.columnIndices.length;++mx){var my=ms.node.columnIndices[mx];var mz=ex.get_vizDataModel().getVizDataFieldByIndex(my).get_fieldCaption();if(ss.isValue(mz)&&ss.contains(mq,mz)){mu.push(my);mv.push(ms.node.aliasIndices[mx]);if(mx===0){mw=true}}}if(mw&&e.$1(mu,mv)){var mA=jN.nodeSelectionFromDrawGroup(ms);mp.push(mA)}}return mp};D.$8=function(e,ex,mo,mp){var mq=[];if(ss.isNullOrUndefined(mo.get_vizDataModel())){return mq}var mr=new ss.ObjectEnumerator(mo.get_sceneModel().get_visualListModels());try{while(mr.moveNext()){var ms=mr.current();var mt=ms.value.get_groupItemNodes();for(var mu=0;mu<mt.length;mu++){var mv=mt[mu];if(ss.isNullOrUndefined(mv.node.columnIndices)||ss.isNullOrUndefined(mv.node.aliasIndices)||!tab.MiscUtil.isNullOrEmpty$3(mv.node.fn)){continue}var mw=[];for(var mx=0;mx<mv.node.columnIndices.length;++mx){var my={$:mv.node.columnIndices[mx]};var mz=_.find(ex,ss.mkdel({nodeColIndex:my},function(mE){return mE.$1===this.nodeColIndex.$}));if(ss.isValue(mz)){var mA=mv.node.aliasIndices[mx];var mB=mo.get_vizDataModel().getVizDataFieldByIndex(mz.$1);var mC=mp.getRawValue(mB.get_dataType(),mA);if(ss.isValue(mC)){var mD=D.$5(mC,mz.$0,mz.$2,mA);mw.push(mD)}}}if(mw.length===mv.node.aliasIndices.length){if(e.$1(mv.node.columnIndices,mw)){mq.push(jN.nodeSelectionFromDrawGroup(mv))}}}}}finally{mr.dispose()}return mq};D.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.get_dataType();if(ex==='datetime'||ex==='date'){return true}var mo=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(mo,e.get_aggType())};D.$5=function(e,ex,mo,mp){if(_.isNumber(e)){return e}var mq=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var mr=mp;if(ex==='none'&&mo!=='none'){switch(mo){case'year':{mr=tab.DateUtil.dateAsYear(mq);break}case'qtr':{mr=tab.DateUtil.dateAsQuarter(mq);break}case'month':{mr=tab.DateUtil.dateAsMonth(mq);break}case'day':{mr=tab.DateUtil.dateAsDay(mq);break}case'hour':{mr=tab.DateUtil.dateTimeAsHour(mq);break}case'minute':{mr=tab.DateUtil.dateTimeAsMinute(mq);break}case'second':{mr=tab.DateUtil.dateTimeAsSecond(mq);break}case'week':{mr=tab.DateUtil.dateAsWeek(mq);break}case'weekday':{mr=tab.DateUtil.dateAsDayOfWeek(mq);break}case'month-year':{mr=tab.DateUtil.dateAsMonthYear(mq);break}case'mdy':{mr=tab.DateUtil.dateAsMonthDayYear(mq);break}}if(ss.isNullOrUndefined(mr)){}}return mr};var E=function(e,ex,mo,mp){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=ex;this.$2=mo||'none';this.$0=mp||'none'};E.__typeName='tab.$34';var F=function(){};F.__typeName='tab.$35';var G=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.dashboardPresModel)){return}var ex={};var mo=this.$2.dashboardPresModel.zones;var mp=_.keys(this.$2.dashboardPresModel.zones);for(var mq=0,mr=mp.length;mq<mr;mq++){var ms=mp[mq];var mt=mo[ms];if(ss.isNullOrUndefined(mt)||ss.isValue(mm.getContent(mt,'imageZone'))){ex[ms]=null}else{ex[ms]=mt.presModelHolder}}this.$1=ex};G.__typeName='tab.$36';var H=function(e){bQ.call(this,'none',e,null,null,null)};H.__typeName='tab.$4';var I=function(e){lu.call(this,e);this.c=true};I.__typeName='tab.$5';var J=function(e){this.$5=null;this.$1$1=0;this.$5=e};J.__typeName='tab.$6';var K=function(e,ex,mo){this.$3=null;this.$1=null;this.$2=null;this.$3=e;this.$1=ex;this.$2=mo};K.__typeName='tab.$7';var L=function(){};L.__typeName='tab.$8';L.$2=function(e){return function(ex,mo,mp){var mq=$.Deferred();var mr=lC.createRequest(ex,mo.$2(),function(){},function(){});mr.success=function(ms,mt,mu){jU.onVizportalPinged();var mv=lC.$3(ms);if(lC.$5(mv)){mq.reject();return}var mw=mp(mv);mq.resolve(mw)};mj.helper(mr,null);return mq.promise()}};L.$3=function(e){return function(ex,mo){var mp=mo(ex);var mq=ex['moreItems'].toString().toLowerCase()==='true';return{items:mp,moreItems:mq}}};L.$0=function(e){return function(ex,mo,mp,mq){var mr=L.$2(e).call(null,ex,mo,mp);mr.done(function(ms){if(!ms.moreItems){mq();return}mo.$1(mo.$0()+ms.items.length);L.$0(e).call(null,ex,mo,mp,mq)});mr.fail(mq)}};L.$1=function(e){return function(ex,mo,mp,mq,mr){var ms=L.$2(e).call(null,ex,mo,mp);ms.done(function(mt){if(!mt.moreItems){mq();return}mo.$1(mo.$0()+mt.items.length);L.$1(e).call(null,ex,mo,mp,mq,mr)});ms.fail(mr)}};var M=function(){};M.__typeName='tab.$9';M.isInstanceOfType=function(){return true};var N=function(e,ex,mo,mp,mq,mr){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;iD.call(this);if(ss.isNullOrUndefined(mq)&&ss.isValue(mr)){mq=mo;mr=mp}this.$7=e;this.$3=mo;this.$5=mp;this.$4=mq;this.$6=mr;var ms=ex;var mt=mq;var mu=mr;var mv=mr/mq;this.$0=(mu-mv*mt-ms+mv)/(-(mt*mt)+2*mt-1);this.$1=mv-2*this.$0*mt;this.$2=ms-mv+this.$0*(2*mt-1)};N.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=N;var O=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};O.__typeName='tab.AckbarEventsHelper';O.get=function(){if(ss.isNullOrUndefined(O.instance)){O.instance=new O}return O.instance};global.tab.AckbarEventsHelper=O;var P=function(){};P.__typeName='tab.ActionType';global.tab.ActionType=P;var Q=function(){};Q.__typeName='tab.ActionUtils';Q.$l=function(){return tab.Logger.lazyGetLogger(Q)};Q.get_previousInteractedTupleInfoForGroupAction=function(){if(ss.isNullOrUndefined(Q.$o)){return{item1:{},item2:[]}}return Q.$o};Q.set_previousInteractedTupleInfoForGroupAction=function(e){Q.$o=e};Q.isWorksheetSourceOfAction=function(e,ex){return _.any(e.sourceWorksheets,function(mo){return ss.referenceEquals(mo,ex)})};Q.isActionTargetSheetOnCurrentDashboard=function(e){var ex=hy.getVisualModels(Y.get_instance());for(var mo=0;mo<e.targetWorksheets.length;mo++){var mp=e.targetWorksheets[mo];if(ss.keyExists(ex,mp)){return true}}return false};Q.$h=function(e,ex){if(ss.isNullOrUndefined(e)){return false}if(ss.isNullOrUndefined(e.simpleCommandModel)){return false}return ss.startsWithString(kt.create(e.simpleCommandModel).get_simpleCommand().toString(),co.serialize(ex))};Q.isFilterAction=function(e){return Q.$h(e,{ns:'tabdoc',cmd:'filter-targets'})};Q.isHighlightAction=function(e){return Q.$h(e,{ns:'tabdoc',cmd:'highlight'})};Q.isGroupAction=function(e){return Q.$h(e,{ns:'tabdoc',cmd:'modify-marks-in-set-v2'})&&e.sourceWorksheets.length>0};Q.isNavigationAction=function(e){return Q.$h(e,{ns:'tabdoc',cmd:'navigate-to-sheet'})&&e.sourceWorksheets.length>0&&e.targetWorksheets.length>0};Q.isParameterAction=function(e){return Q.$h(e,{ns:'tabdoc',cmd:'set-parameter-value-from-mark'})&&e.sourceWorksheets.length>0};Q.isWorksheetSourceOfASelectTriggeredFilterAction=function(e,ex){var mo=e.pm;var mp=mo.userActions;for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];if(!Q.isWorksheetSourceOfAction(mr,ex)||mr.activation!=='on-select'||ss.isNullOrUndefined(mr.simpleCommandModel)||!ss.referenceEquals(Q.$i(mr).commandName,{ns:'tabdoc',cmd:'filter-targets'}.cmd)||mr.targetWorksheets.length===0){continue}return true}return false};Q.$8=function(e){return function(ex){return Q.getActionType(ex)===e}};Q.$9=function(){return function(e){return Q.getActionType(e)==='url'||ss.isValue(e.targetUrl)||e.targetWorksheets.length>0||Q.isGroupAction(e)||Q.isNavigationAction(e)||Q.isParameterAction(e)}};Q.getApplicableActions=function(e,ex,mo){var mp=Y.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var mq=Q.$b(mp,e,ex);if(ss.isValue(mo)){mq=_.filter(mq,Q.$8(ss.unbox(mo)))}mq=_.filter(mq,Q.$9());return mq};Q.computeCommandBlockingOptionForLocallyRenderedSelection=function(e){return((Q.shouldBlockVizInteractionWhenExecutingActionOnSelection(e.worksheet)||Q.willActionCauseTabChange(e.worksheet,'on-select'))?'afterDelay':'none')};Q.doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely=function(e){return Q.getApplicableActions(e,'on-hover','group').length>0||Q.getApplicableActions(e,'on-hover','filter').length>0};Q.computePossibleLocalWorkForRemoteHoverActions=function(e,ex,mo){var mp=null;if(ss.isNullOrUndefined(ex)){ex=[]}if(mo||Q.doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely(e.worksheet)){mp=function(mq){Q.executeActions(e,'on-hover',ex,mq,false)}}return mp};Q.ubertipActionNeedsToWaitForServerPresModel=function(e){return Q.isFilterAction(e)||Q.isHighlightAction(e)&&!Q.isActionTargetSheetOnCurrentDashboard(e)||Q.isNavigationAction(e)||Q.isGroupAction(e)||Q.isParameterAction(e)};Q.canSelectTriggeredFilterActionsModifyTheirSourceSheet=function(e){var ex=Q.getApplicableActions(e,'on-select','filter');return Q.$k(ex)&&Q.$2(ex,e)};Q.canSelectTriggeredParameterActionsModifyTheirSourceSheet=function(e){return Q.$k(Q.getApplicableActions(e,'on-select','parameter'))};Q.canSelectTriggeredGroupActionsModifyTheirSourceSheet=function(e){return Q.$k(Q.getApplicableActions(e,'on-select','group'))};Q.canRemoteSelectTriggeredActionsModifyTheirSourceSheet=function(e){return Q.canSelectTriggeredFilterActionsModifyTheirSourceSheet(e)||Q.canSelectTriggeredGroupActionsModifyTheirSourceSheet(e)||Q.canSelectTriggeredParameterActionsModifyTheirSourceSheet(e)};Q.doesWorksheetHaveHoverOrMenuActions=function(e){return Q.getApplicableActions(e,'on-hover',null).length>0||Q.getApplicableActions(e,'explicitly',null).length>0};Q.shouldBlockVizInteractionWhenExecutingActionOnSelection=function(e){var ex=Q.getApplicableActions(e,'on-select','filter').concat(Array.prototype.slice.call(Q.getApplicableActions(e,'on-select','group'))).concat(Array.prototype.slice.call(Q.getApplicableActions(e,'on-select','parameter')));return Q.$k(ex)};Q.$k=function(e){return e.length>0&&!Y.get_instance().get_isOffline()};Q.$2=function(e,ex){for(var mo=0;mo<e.length;mo++){var mp=e[mo];for(var mq=0;mq<mp.targetWorksheets.length;mq++){var mr=mp.targetWorksheets[mq];if(ss.referenceEquals(mr,ex)){return true}}}return false};Q.executeActions=function(e,ex,mo,mp,mq){var mr=hy.getVisualModel(Y.get_instance(),e.worksheet);Q.$6(e,mr,ex,mo,mp,mq);Q.$3(e,mr,ex,mo,mp)};Q.executeAction=function(e,ex,mo,mp){if(!ss.isValue(e)){return}var mq=[e];if(!ss.isNullOrUndefined(e.linkSpec)){Q.$7(mq,ex,mo)}else{Q.$5(mq,ex,mo,mp)}};Q.getActionType=function(e){if(ss.isValue(e.simpleCommandModel)){var ex=Q.$i(e);if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'highlight'}.cmd)){return'highlight'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'filter-targets'}.cmd)){return'filter'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'modify-marks-in-set-v2'}.cmd)){return'group'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'goto-sheet'}.cmd)){return'navigation'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'set-parameter-value-from-mark'}.cmd)){return'parameter'}return null}if(ss.isValue(e.linkSpec)){return'url'}return null};Q.willActionCauseTabChange=function(e,ex){if(Y.get_instance().get_isOffline()){return false}var mo=Q.getApplicableActions(e,ex,'filter').concat(Array.prototype.slice.call(Q.getApplicableActions(e,ex,'navigation')));for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];if(ss.isValue(mq.simpleCommandModel)){var mr=Q.$i(mq);var ms=mr.commandParams['targetSheet'];if(ss.isValue(ms)&&!_.isEqual(ms,tsConfig.current_sheet_name)){return true}}}return false};Q.getMenuUrlActionsForUbertipModel=function(e){var ex=Q.getApplicableActions(e.worksheet,'explicitly',null);return _.filter(ex,function(mo){if(mo.activation==='explicitly'&&Q.getActionType(mo)!=='url'&&mo.targetWorksheets.length===0){return false}return true})};Q.getUrlActionPm=function(e,ex,mo){if(ss.isValue(mo)&&!ss.isNullOrUndefined(e.linkSpec)){var mp=ex.get_vizDataModel();var mq=Y.get_instance().get_dataDictionary();var mr=lB.constructUrl(mq,e.linkSpec,mp,mo,ex.get_worksheetName());return{item1:Q.$1(mr,e.linkSpec),item2:mr.item2}}return{item1:null,item2:'urlConstructionFail'}};Q.$1=function(e,ex){if(e.item2!=='success'){return null}var mo={url:e.item1};if(tab.FeatureFlags.isEnabled('SpecificWebTargetsForActions')){switch(ex.urlActionTargetType){case'default-zone-or-browser':{var mp=hy.getFirstAvailableWebZoneName(Y.get_instance());if(ss.isValue(mp)){mo.target=mp}break}case'browser':{mo.target='_blank';break}case'specific-zone':{mo.target='frame_'+ex.zoneId.toString();break}}}else{var mq=hy.getFirstAvailableWebZoneName(Y.get_instance());if(ss.isValue(mq)){mo.target=mq}}return mo};Q.$5=function(e,ex,mo,mp){var mq=bj.computeFromTuples(mo,ex,e);jH.$k(mq,mp)};Q.$j=function(e){jH.$7(e)};Q.$7=function(e,ex,mo){if(ss.isValue(ex)&&ex.length>0){var mp=[];for(var mq=0;mq<e.length;mq++){var mr=e[mq];var ms=Q.getUrlActionPm(mr,mo,ex).item1;if(ss.isValue(ms)){mp.push(ms)}else{bX.fireDeferredUrlActions=true;return}}if(mp.length>0){bX.get().delayLocalUrlActions(mp)}}};Q.isCurrentTupleSameAsPrevious=function(e,ex){var mo=Q.get_previousInteractedTupleInfoForGroupAction().item1;var mp=Q.get_previousInteractedTupleInfoForGroupAction().item2;if(ex.length===0&&mp.length===0||ss.referenceEquals(e,mo)&&ex.length===mp.length&&_.every(ex,function(mq){return ss.contains(mp,mq)})){return true}return false};Q.updatePreviousInteractedTupleInfo=function(e,ex){Q.set_previousInteractedTupleInfoForGroupAction({item1:e,item2:ex})};Q.invalidateVisualPresModelsForGroupActions=function(e,ex,mo,mp){for(var mq=0;mq<ex.length;mq++){var mr=ex[mq];var ms=Q.$i(mr);if(ss.referenceEquals('do-nothing'.toString(),ms.commandParams['onClear'])&&mp.length===0||Q.isCurrentTupleSameAsPrevious(e,mp)){continue}Q.updatePreviousInteractedTupleInfo(e,mp);hy.invalidateAllVisualPresModels(mo)}};Q.invalidateVisualPresModelsForParameterActions=function(e,ex,mo){if(ex.length>0&&e!=='on-hover'){hy.invalidateAllVisualPresModels(mo)}};Q.$6=function(e,ex,mo,mp,mq,mr){var ms=e.worksheet;var mt=Q.getApplicableActions(ms,mo,'highlight');var mu=Q.getApplicableActions(ms,mo,'url');if(ss.isValue(mp)){if(mu.length>0&&mp.length>0){Q.$7(mu,mp,ex)}if(mt.length>0){if(mp.length>0){Q.$5(mt,mp,ex,mq)}else{Q.$j(mq)}}else if(ss.isValue(mr)&&mr){Q.$5(mt,mp,ex,mq)}}};Q.$3=function(e,ex,mo,mp,mq){var mr=e.worksheet;Q.$4(e.worksheet,Q.getApplicableActions(mr,mo,'filter'),mp,mq,ex);Q.invalidateVisualPresModelsForGroupActions(e,Q.getApplicableActions(mr,mo,'group'),mq,mp);Q.invalidateVisualPresModelsForParameterActions(mo,Q.getApplicableActions(mr,mo,'parameter'),mq)};Q.$4=function(e,ex,mo,mp,mq){if(Y.get_instance().get_isOffline()){return}if(ss.isValue(ex)){var mr=Q.$c(ex);if(mr.length>0){var ms=hy.getSheetInfoPresModel(Y.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(ms)&&!(ms.isDashboard&&ss.isNullOrUndefined(ms.namesOfSubsheets))){var mt=!ms.isDashboard||ms.namesOfSubsheets.length===1;for(var mu=0;mu<mr.length;mu++){var mv=mr[mu];if(mt||!ss.referenceEquals(mv.get_worksheetName(),e)){hy.setVisualValidStateOnPresModel(mp,mv)}}}}if(mo.length>0){var mw=[];for(var mx=0;mx<ex.length;mx++){var my=ex[mx];if((mo.length===1||!my.singleSelectOnly)&&ss.isValue(my.targetUrl)){var mz={};var mA=my.targetUrl+'&:exclude='+encodeURIComponent(e);var mB=mq.get_vizDataModel();var mC=Y.get_instance().get_dataDictionary();mz.url=lB.constructUrlForFilterActionFromTargetURL(mC,mA,my.linkSpec,mB,mo);mw.push(mz)}}if(mw.length>0){bX.get().delayLocalUrlActions(mw)}}}};Q.$c=function(e){var ex={};if(ss.isValue(e)){for(var mo=0;mo<e.length;mo++){var mp=e[mo];for(var mq=0;mq<mp.targetWorksheets.length;mq++){var mr=mp.targetWorksheets[mq];var ms=hy.getVisualModel(Y.get_instance(),mr);if(ss.isValue(ms)){ex[mr]=ms}}}}return Q.$0(ex)};Q.$0=function(e){var ex=[];var mo=new ss.ObjectEnumerator(e);try{while(mo.moveNext()){var mp=mo.current();ex.push(mp.value)}}finally{mo.dispose()}return ex};Q.$g=function(e){if(!Q.$n){Q.$n=true;var ex=tsConfig.schemeWhitelist.split(',');for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=mp.toLowerCase().trim();if(!ss.endsWithString(mq,':')){mq+=':'}if(mq.length>1){Q.$p.push(mq)}}}var mr=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var ms=mr.exec(e);if(!ss.isValue(ms)){return true}var mt=ms[0].toLowerCase();return ss.contains(Q.$p,mt)};Q.$b=function(e,ex,mo){var mp=_.filter(e,function(mq){var mr=ss.contains(mq.sourceWorksheets,ex);var ms=!ss.isValue(mo)||ss.unbox(mo)===mq.activation;return mr&&ms});return mp};Q.$a=function(e){var ex='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(e>0){ex+='_'+e.toString()}return{item1:ex,item2:false}};Q.$f=function(e,ex){if(!tab.FeatureFlags.isEnabled('SpecificWebTargetsForActions')){return{item1:e,item2:true}}else if(e==='_blank'){return Q.$a(ex)}else if($(Q.$d(e)).length>0){return{item1:e,item2:true}}else{return Q.$a(ex)}};Q.$e=function(e,ex){if(ss.isValue(be.linkTarget)&&be.linkTarget.length>0){var mo=be.linkTarget;return{item1:mo,item2:false}}else if(ss.isValue(e.target)){return Q.$f(e.target,ex)}else{return Q.$a(ex)}};Q.launchActionUrls=function(e,mo){var mp=[];var mq={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(!tab.FeatureFlags.isEnabled('SpecificWebTargetsForActions')&&ss.isValue(be.linkTarget)&&be.linkTarget.length>0){var mr=be.linkTarget;mp.push({item1:mr,item2:false});mq[mr]=e[e.length-1].url}else{var ms=0;for(var mt=0;mt<e.length;mt++){var mu=e[mt];if(!Q.$g(mu.url)){if(!Q.$m){Q.$m=true;mo.ShowErrorDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,null)}continue}if(ss.isNullOrUndefined(mu.target)||'t'in mu){mu.target=mu['t']}var mv=Q.$e(mu,ms);if(!ss.keyExists(mq,mv.item1)){mp.push(mv)}mq[mv.item1]=mu.url;ms++}}for(var mw=0;mw<mp.length;mw++){var mx=mp[mw];var my=mx.item1;if(mx.item2){try{$(Q.$d(my)).prop('src',mq[my])}catch(mz){}}else{try{window.open(mq[my],my)}catch(mz){var ex=ss.Exception.wrap(mz);tab.ErrorTrace.report(ex)}}}};Q.$d=function(e){return'[name='+e+']'};Q.$i=function(e){var ex=ss.replaceAllString(e.simpleCommandModel['simpleCommand'.toString()],'simpleCommand=','');return ck.deserialize(ex,true)};global.tab.ActionUtils=Q;var R=function(){ss.makeGenericType(bd,[Object,S]).call(this)};R.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=R;var S=function(e){this.$$c=null;this.$$c=e};S.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=S;var T=function(){ss.makeGenericType(bd,[Object,U]).call(this)};T.__typeName='tab.AddObjectToDashboardCmd';global.tab.AddObjectToDashboardCmd=T;var U=function(e){this.$$c=null;this.$$c=e};U.__typeName='tab.AddObjectToDashboardCmd$Response';global.tab.AddObjectToDashboardCmd$Response=U;var V=function(e){this.$2$1=null;hv.call(this,e,new ik('analyticsPane'.toString(),null))};V.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=V;var W=function(){};W.__typeName='tab.AnnotationClientCommands';W.createMarkAnnotation=function(e,ex,mo){var mp=new cz;mp.c['visualIdPresModel']=mo;mp.c['annotateEnum']='mark';mp.c['targetPoint']={x:e.x|0,y:e.y|0};mp.c['selectionList']=[{selectionType:'tuples',objectIds:ex}];mp.c['formattedText']='<formatted-text/>';mp.c['richTextEditorConfiguration']=jj.get_instance();mp.invoke()};W.createPointAnnotation=function(e,ex){var mo=new cz;mo.c['visualIdPresModel']=ex;mo.c['annotateEnum']='point';mo.c['targetPoint']={x:e.x|0,y:e.y|0};mo.c['selectionList']=[];mo.c['formattedText']='<formatted-text/>';mo.c['richTextEditorConfiguration']=jj.get_instance();mo.invoke()};W.createAreaAnnotation=function(e,ex){var mo=new cz;mo.c['visualIdPresModel']=ex;mo.c['annotateEnum']='area';mo.c['targetPoint']={x:e.x|0,y:e.y|0};mo.c['selectionList']=[];mo.c['formattedText']='<formatted-text/>';mo.c['richTextEditorConfiguration']=jj.get_instance();mo.invoke()};W.removeAnnotation=function(e,ex){var mo={};mo['worksheet']=ex.worksheet;mo['selection']={selectionType:'annotations',objectIds:e};var mp=co.newCommand({ns:'tabdoc',cmd:'remove-annotation'},mo);bX.SendCommand(new bQ('immediately',null,mp,null,null))};W.moveAnnotation=function(e,ex,mo){var mp={};switch(e.annotateEnum){case'area':{var mq=e.areaRect.w;var mr=e.areaRect.h;mp['visualIdPresModel']=ex;mp['uid']=e.annotationId;mp['regionRect']=tab.RectXYUtil.toPresModel({x:mo.x,y:mo.y,w:mq,h:mr});mp['pageNumber']=e.pageNumber;var ms=co.newCommand({ns:'tabdoc',cmd:'move-area-annotation'},mp);bX.SendCommand(new bQ('immediately',null,ms,null,null));break}case'mark':case'point':{mo.x+=ss.Int32.div(e.areaRect.w,2);mo.y+=ss.Int32.div(e.areaRect.h,2);mp['worksheet']=ex.worksheet;mp['uid']=e.annotationId;mp['pageNumber']=e.pageNumber;mp['pt1']=e.targetPoint;mp['endPoint']=tab.PointUtil.toPresModel(mo);var mt=co.newCommand({ns:'tabdoc',cmd:'move-point-annotation'},mp);bX.SendCommand(new bQ('immediately',null,mt,null,null));break}default:{break}}};W.resizeAnnotation=function(e,ex,mo){var mp={};mp['visualIdPresModel']=ex;mp['uid']=e.annotationId;mp['pageNumber']=e.pageNumber;switch(e.annotateEnum){case'area':{mp['regionRect']=tab.RectXYUtil.toPresModel(mo);var mq=co.newCommand({ns:'tabdoc',cmd:'move-area-annotation'},mp);bX.SendCommand(new bQ('immediately',null,mq,null,null));break}case'mark':case'point':{mp['w']=mo.w;mp['isRightDrag']=mo.x===e.areaRect.x;var mr=co.newCommand({ns:'tabdoc',cmd:'resize-point-annotation'},mp);bX.SendCommand(new bQ('immediately',null,mr,null,null));break}default:{break}}};W.movePointTargetAnnotation=function(e,ex,mo){var mp={};mp['uid']=e.annotationId;mp['visualIdPresModel']=ex;mp['pageNumber']=e.pageNumber;var mq=tab.RectXYUtil.getCenter(tab.RectXYUtil.fromPresModel(e.areaRect));mp['pt1']=tab.PointUtil.toPresModel(mq);mp['endPoint']=tab.PointUtil.toPresModel(mo);var mr=co.newCommand({ns:'tabdoc',cmd:'move-point-annotation-target'},mp);bX.SendCommand(new bQ('immediately',null,mr,null,null))};global.tab.AnnotationClientCommands=W;var X=function(){};X.__typeName='tab.ApiClientCommands';X.doApiCommand=function(e,ex,mo){bX.SendCommand(iK.create(e,'immediately',ex,mo))};global.tab.ApiClientCommands=X;var Y=function(){this.$8=null;this.$4=null;this.$6={};this.$5={};this.$7=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;hv.call(this,null,null);this.presModelKey=new ik('applicationPresModel'.toString(),null);this.set_toolbar(new kY(this));this.set_rightAreaDrawer(new jl(this));this.set_workbook(new lV(this));this.set_colorPalettes(new bV(this));this.set_dataDictionary(new dy(this));this.$8=new kd;this.$4=new eE;this.set_serverFonts(null)};Y.__typeName='tab.ApplicationModel';Y.get_instance=function(){if(ss.isNullOrUndefined(Y.$0.get_model())){Y.$0.set_model(new Y)}return Y.$0.get_model()};Y.get_holder=function(){return Y.$0};Y.resetInstance=function(){Y.$0.set_model(null)};global.tab.ApplicationModel=Y;var Z=function(){};Z.__typeName='tab.AuthenticationCommands';Z.performAuthentication=function(e,ex,mo){var mp=$.Deferred();var mq=Z.$4(e);mq.done(function(mr){hz.load$1('rsa',[]).done(function(ms){var mt=Z.$3(mr);var mu=(ss.isNullOrEmptyString(ex)?'':rsa.encrypt(ex,{n:mr['modulus'],e:mr['exponent']}));mt['crypted']=mu;if(mo){if(mr['rememberPasswordsForever']){mt['reuse_forever']=true}else{mt['reuse']=true}}var mv=Z.$0(mr['actionPath'],mt);mv.done([function(){mp.resolve()}]).fail([function(mw){mp.reject(mw)}])})});return mp.promise()};Z.performAuthenticationWithConnectionName=function(e,ex){return Z.$5(e.widgetAttrPassword,dr.getDSParamsFromPresModelWithConnectionName(e,ex))};Z.performAuthenticationWithConnectionClass=function(e,ex){return Z.$5(e.widgetAttrPassword,dr.getDSParamsFromPresModelWithConnectionClass(e,ex))};Z.$5=function(e,ex){var mo=$.Deferred();ex.done(function(mp){var mq=Z.performAuthentication(Z.$1(mp.$$c['strings']),e,false);mq.done([function(){mo.resolve()}]).fail([function(mr){mo.reject(mr)}])}).fail(function(){mo.reject()});return mo.promise()};Z.$3=function(e){var ex={};ex['username']=e['defaultUsername'];ex['authentication']=e['authenticationMode'];ex['connection']=e['connection'];ex['path']=e['originalPath'];ex['oauthrequest']=false;return ex};Z.$0=function(e,ex){var mo=$.Deferred();var mp={type:'POST',url:e,headers:ss.mkdict(['X-Requested-With','XMLHttpRequest']),contentType:'application/x-www-form-urlencoded',data:ex,success:function(mq,mr,ms){mo.resolve()},error:function(mq,mr,ms){mo.reject(ms)}};jU.onVizportalPinged();mj.helper(mp,null);return mo.promise()};Z.$1=function(e){var ex={};for(var mo=0;mo<e.length-1;mo+=2){ex[e[mo]]=e[mo+1]}return ex};Z.$2=function(e){var ex={};ex['path']=tsConfig.requestURI;ex['vizqlSessionId']=tsConfig.sessionid;var mo={};mo['attributes']=e;ex['attributes']=JSON.stringify(mo);return ex};Z.$4=function(e){var ex=$.Deferred();var mo=Z.$2(e);mj.helper(lC.createRequest('getDataConnectionAuthInfo',mo,function(mp){ex.resolve(mp)},function(){ex.reject()}),null);return ex.promise()};global.tab.AuthenticationCommands=Z;var ba=function(){};ba.__typeName='tab.AxisAuthoringTelemetry';ba.$1=function(){return hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tab.FeatureFlags.isEnabled('AxisAuthoringTelemetry')};ba.logAxisCaretClickEvent=function(){ba.$0(ba.$2,ss.mkdict([ba.$8,(Y.get_instance().get_isLocalRenderMode()?ba.$5:ba.$a),ba.$4,ba.$3]))};ba.logAxisContextMenuShownEvent=function(){ba.$0(ba.$2,ss.mkdict([ba.$8,(Y.get_instance().get_isLocalRenderMode()?ba.$5:ba.$a),ba.$4,ba.$6]))};ba.logDoubleTapAxisEvent=function(){ba.$0(ba.$2,ss.mkdict([ba.$8,(Y.get_instance().get_isLocalRenderMode()?ba.$5:ba.$a),ba.$4,ba.$7]))};ba.logRightClickAxisEvent=function(){ba.$0(ba.$2,ss.mkdict([ba.$8,(Y.get_instance().get_isLocalRenderMode()?ba.$5:ba.$a),ba.$4,ba.$9]))};ba.$0=function(e,ex){if(ba.$1()){hF.logEvent(e,ex)}};global.tab.AxisAuthoringTelemetry=ba;var bb=function(e,ex,mo,mp,mq,mr,ms,mt){this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.view=null;this.topAxis=null;this.rightAxis=null;this.bottomAxis=null;this.leftAxis=null;this.topLeftSpacer=e;this.topRightSpacer=ex;this.bottomLeftSpacer=mo;this.view=mp;this.topAxis=mq;this.rightAxis=mr;this.bottomAxis=ms;this.leftAxis=mt};bb.__typeName='tab.AxisResizerDomElements';global.tab.AxisResizerDomElements=bb;var bc=function(){};bc.__typeName='tab.BackgroundJobProgressState';global.tab.BackgroundJobProgressState=bc;var bd=function(e,ex){var mo=function(){this.c={};this.$1$1=null;this.$1$2=null;this.$1$3=false;this.$1$4=false;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.set_uiBlocking('none');this.set_suppressConnectionDialog(false)};ss.registerGenericClassInstance(mo,bd,[e,ex],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(mp){this.$1$1=mp},get_localWork:function(){return this.$1$2},set_localWork:function(mp){this.$1$2=mp},get_noExceptionDialog:function(){return this.$1$3},set_noExceptionDialog:function(mp){this.$1$3=mp},get_suppressConnectionDialog:function(){return this.$1$4},set_suppressConnectionDialog:function(mp){this.$1$4=mp},get_commandDispatcher:function(){return this.$1$5},set_commandDispatcher:function(mp){this.$1$5=mp},get_commandWaiter:function(){return this.$1$6},set_commandWaiter:function(mp){this.$1$6=mp},get_remoteCommand:function(){return this.$1$7},set_remoteCommand:function(mp){this.$1$7=mp},invoke:null,invoke$1:function(mp){mp.noExceptionDialog=this.get_noExceptionDialog();mp.preserveRootResult=true;this.set_remoteCommand(mp);var mq=this.get_commandDispatcher()||dH.get_instance();return mq.dispatch(e,ex).call(mq,this)}},function(){return null},function(){return[]});return mo};bd.__typeName='tab.BaseCmd$2';ss.initGenericClass(bd,a,2);global.tab.BaseCmd$2=bd;var be=function(e,ex){this.defaultSessionErrorHandler=null;this.$9=null;this.$a=null;this.$d=null;this.$c=null;this.$b=null;this.fileDownloadHelper=null;tab.Param.verifyValue(ex,'commonDialogProvider');this.$9=ex;this.$b=new gk(null);var mo=tabBootstrap.BaseUrlFormatter.formatBaseUrl();var mp=e;if(ss.isNullOrUndefined(mp)){mp=tabBootstrap.BaseUrlFormatter.formatUrlRoot(mo,null)}this.$d=mp;this.$c=ss.coalesce(tsConfig.site_root,mo);this.defaultSessionErrorHandler=new dI(ex,this.$d);var mq=[];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){mq.push(new dL)}if(tab.FeatureFlags.isEnabled('PortableSessionsCheckpoint')){jV.subscribeToSessionRecoveryAttempt(be.onSessionRecoveryAttempt);mq.push(new jV(this.$d))}mq.push(this.defaultSessionErrorHandler);this.$a=new eo(Array.prototype.slice.call(mq));this.fileDownloadHelper=new eV(ex,this)};be.__typeName='tab.BaseSession';be.add_stateChanged=function(e){be.$1$1=ss.delegateCombine(be.$1$1,e)};be.remove_stateChanged=function(e){be.$1$1=ss.delegateRemove(be.$1$1,e)};be.$5=function(e){be.$1$2=ss.delegateCombine(be.$1$2,e)};be.$6=function(e){be.$1$2=ss.delegateRemove(be.$1$2,e)};be.get_waitHandler=function(){if(ss.isNullOrUndefined(be.$4)){be.$4=new lI}return be.$4};be.get_sessionRecoveryAttemptHandled=function(){return!ss.staticEquals(be.$1$2,null)};be.$0=function(){return tab.Logger.lazyGetLogger(be)};be.onSessionRecoveryAttempt=function(){be.raiseSessionRecoveryAttemptEvent()};be.fireStateChanged=function(e){if(ss.isValue(be.$1$1)){be.$1$1(e)}};be.subscribeToSessionRecoveryAttempt=function(e){if(!be.get_sessionRecoveryAttemptHandled()){be.addSessionRecoveryAttemptHandler(e)}};be.addSessionRecoveryAttemptHandler=function(e){be.$5(e)};be.removeSessionRecoveryAttemptHandler=function(e){be.$6(e)};be.raiseSessionRecoveryAttemptEvent=function(){if(be.get_sessionRecoveryAttemptHandled()){be.$1$2()}};be.getErrorMessageFromStringOrException=function(e){var ex='';var mo=ss.safeCast(e,String);var mp=ss.safeCast(e,ss.Exception);if(ss.isValue(mo)){ex=mo}else if(ss.isValue(mp)){ex=mp.get_message()}return ex};global.tab.BaseSession=be;var bf=function(){ss.makeGenericType(bd,[Object,bg]).call(this)};bf.__typeName='tab.BlockExtensionCmd';global.tab.BlockExtensionCmd=bf;var bg=function(e){this.$$c=null;this.$$c=e};bg.__typeName='tab.BlockExtensionCmd$Response';global.tab.BlockExtensionCmd$Response=bg;var bh=function(e,ex,mo,mp){this.width=0;this.style=null;this.color=null;this.side=0;this.width=e;this.style=ex;this.color=mo;this.side=mp};bh.__typeName='tab.BorderDefinition';bh.borderStyleToCss=function(e){return ss.coalesce(bh.$1[e],'none')};bh.$0=function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e};global.tab.BorderDefinition=bh;var bi=function(){};bi.__typeName='tab.BorderDefinition$BorderSide';global.tab.BorderDefinition$BorderSide=bi;var bj=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};bj.__typeName='tab.BrushingComputer';bj.$3=function(){return tab.Logger.lazyGetLogger(bj)};bj.createBrushingComputer=function(e,ex,mo,mp,mq){var mr=new bj;var ms=ex.get_vizDataModel();var mt=D.$2(e,mp,mo,ms,mp);for(var mu=0;mu<mp.length;mu++){var mv=mp[mu];if(ex.vizDataContainsDuplicateCaption(mv)){mr.$1=false;return mr}}var mw;if(mq){mw=hy.getVisualModels(Y.get_instance())}else{mw={};var mx=Q.getApplicableActions(ex.get_worksheetName(),'on-select','highlight');for(var my=0;my<mx.length;my++){var mz=mx[my];if(ss.isNullOrUndefined(mz.targetWorksheets)){continue}for(var mA=0;mA<mz.targetWorksheets.length;mA++){var mB=mz.targetWorksheets[mA];var mC=hy.getVisualModel(Y.get_instance(),mB);mw[mB]=mC}}}var mD=hy.findContentDashboard(null);var mE=_.keys(mw);for(var mF=0;mF<mE.length;mF++){var mG=mE[mF];var mH=mw[mG];if(ss.isNullOrUndefined(mH)){continue}var mI=mH.get_vizDataModel();mr.$5[mG]=D.$a(mt,mI);mr.$4[mG]=D.$9(mH.get_sceneModel(),mt,mI);var mJ=[];var mK=new ss.ObjectEnumerator(bj.$2(mH));try{while(mK.moveNext()){var mL=mK.current();var mM=mL.value;var mN=D.$c(mH,mM);var mO=_.intersection(mN,mp);if(mO.length>0){var mP=D.$2(e,mp,mo,ms,mO);mJ=mJ.concat.apply(mJ,D.$7(mP,mH,mM))}}}finally{mK.dispose()}mr.$3[mG]=mJ;var mQ=hy.getModelsForViz(bK).call(null,mD,mH);for(var mR=0;mR<mQ.length;mR++){var mS=mQ[mR];if(!mS.get_isHighlightEnabled()){continue}var mT=D.$6(mt,mI,mS);if(!ss.keyExists(mr.$2,mH.get_worksheetName())){mr.$2[mH.get_worksheetName()]={}}mr.$2[mH.get_worksheetName()][bj.$0(mS.get_legendTypeEnum(),mS.get_legendNames())]=mT}}return mr};bj.getTuplesAssociatedWithSelectedNodes=function(e,ex){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(Y.get_instance().get_dataDictionary())){return[]}var mo=[];for(var mp=0;mp<ex.length;mp++){var mq=ex[mp];if(jN.isCategoricalAndTupleAssociatedHeader(mq)){mo.push(mq)}}if(mo.length===0){return[]}var mr=D.$1(e.get_vizDataModel(),mo);var ms=bj.$1(mr,e);return ms};bj.computeFromTuples=function(e,ex,mo){var mp=new bj;for(var mq=0;mq<mo.length;mq++){var mr=mo[mq];if(ss.isNullOrUndefined(mr.targetWorksheets)){continue}var ms=ck.deserialize(mr.simpleCommandModel['simpleCommand'.toString()],true);for(var mt=0;mt<mr.targetWorksheets.length;mt++){var mu=mr.targetWorksheets[mt];var mv=hy.getVisualModel(Y.get_instance(),mu);if(ss.isNullOrUndefined(mv)){continue}var mw=mv.get_vizDataModel();if(ss.isNullOrUndefined(mw)){continue}if(bj.isSpecialDateTimeHighlighting(ms)){var mx=Y.get_instance().get_dataDictionary();var my=D.$0(e.get_vizDataModel(),mw,mx,ex);var mz=my.item1;var mA=my.item2;mp.$5[mu]=D.$b(mz,mA,mw,mx);mp.$3[mu]=D.$8(mz,mA,mv,mx);mp.$0(mv,e,ex,ms,mr.name)}else{var mB=bj.getHighlightFieldCaptions(ms,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,mv)){mB=_.intersection(mB,mw.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty$2(mB)){continue}for(var mC=0;mC<mB.length;mC++){var mD=mB[mC];if(e.vizDataContainsDuplicateCaption(mD)){mp.$1=false;return mp}}var mE=D.$3(e.get_vizDataModel(),ex,mB);mp.$5[mu]=D.$a(mE,mw);var mF=[];var mG=bj.$2(mv);var mH=_.keys(mG);for(var mI=0;mI<mH.length;mI++){var mJ=mH[mI];var mK=mG[mJ];var mL=D.$c(mv,mK);var mM=_.intersection(mL,mB);if(mM.length>0){var mN=D.$3(e.get_vizDataModel(),ex,mM);mF=mF.concat.apply(mF,D.$7(mN,mv,mK))}}mp.$3[mu]=mF;mp.$0(mv,e,ex,ms,mr.name)}}}return mp};bj.$2=function(e){var ex={};var mo=e.get_sceneModel().get_visualListModels();var mp=new ss.ObjectEnumerator(mo);try{while(mp.moveNext()){var mq=mp.current();ex[mq.key]=mq.value.get_groupItemNodes()}}finally{mp.dispose()}var mr=ex['x-labels']||[];ss.arrayAddRange(mr,ex['bottom-axis']||[]);ex['x-labels']=mr;delete ex['bottom-axis'];return ex};bj.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var ex=e.commandParams['specialFields'];return ss.isValue(ex)&&ex==='date-time'};bj.getHighlightFieldCaptions=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return mp}var mq=e.commandParams['fieldCaptions'];if(!ss.isNullOrUndefined(mq)){mp=JSON.parse(mq)}else{var mr=e.commandParams['specialFields'];if(ss.isNullOrUndefined(mr)||mr!=='all'){}mp=ex}if(ss.isValue(mo)){mp=_.intersection(mo,mp)}return mp};bj.$0=function(e,ex){return'LegendType:'+e.toString()+' LegendNames:'+ex.join(';')};bj.$1=function(e,ex){var mo=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return mo}for(var mp=0;mp<e.length;mp++){var mq=e[mp];mo=_.union(mo,D.$a(mq,ex.get_vizDataModel()))}return mo};global.tab.BrushingComputer=bj;var bk=function(){ss.makeGenericType(bd,[Object,bl]).call(this)};bk.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=bk;var bl=function(e){this.$$c=null;this.$$c=e};bl.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=bl;var bm=function(){ss.makeGenericType(bd,[Object,bn]).call(this)};bm.__typeName='tab.BuildDataTabFieldContextMenuCmd';global.tab.BuildDataTabFieldContextMenuCmd=bm;var bn=function(e){this.$$c=null;this.$$c=e};bn.__typeName='tab.BuildDataTabFieldContextMenuCmd$Response';global.tab.BuildDataTabFieldContextMenuCmd$Response=bn;var bo=function(){ss.makeGenericType(bd,[Object,bp]).call(this)};bo.__typeName='tab.BuildDeviceLayoutListContextMenuCmd';global.tab.BuildDeviceLayoutListContextMenuCmd=bo;var bp=function(e){this.$$c=null;this.$$c=e};bp.__typeName='tab.BuildDeviceLayoutListContextMenuCmd$Response';global.tab.BuildDeviceLayoutListContextMenuCmd$Response=bp;var bq=function(){ss.makeGenericType(bd,[Object,br]).call(this)};bq.__typeName='tab.BuildLayoutTreeContextMenuCmd';global.tab.BuildLayoutTreeContextMenuCmd=bq;var br=function(e){this.$$c=null;this.$$c=e};br.__typeName='tab.BuildLayoutTreeContextMenuCmd$Response';global.tab.BuildLayoutTreeContextMenuCmd$Response=br;var bs=function(){ss.makeGenericType(bd,[Object,bt]).call(this)};bs.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd';global.tab.BuildSchemaChangeDataTypeMenuCmd=bs;var bt=function(e){this.$$c=null;this.$$c=e};bt.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd$Response';global.tab.BuildSchemaChangeDataTypeMenuCmd$Response=bt;var bu=function(){ss.makeGenericType(bd,[Object,bv]).call(this)};bu.__typeName='tab.BuildServerAxisContextMenuCmd';global.tab.BuildServerAxisContextMenuCmd=bu;var bv=function(e){this.$$c=null;this.$$c=e};bv.__typeName='tab.BuildServerAxisContextMenuCmd$Response';global.tab.BuildServerAxisContextMenuCmd$Response=bv;var bw=function(){ss.makeGenericType(bd,[Object,bx]).call(this)};bw.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=bw;var bx=function(e){this.$$c=null;this.$$c=e};bx.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=bx;var by=function(){ss.makeGenericType(bd,[Object,bz]).call(this)};by.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=by;var bz=function(e){this.$$c=null;this.$$c=e};bz.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=bz;var bA=function(e,ex){this.$2$1=null;hv.call(this,e,new ik(ex,null))};bA.__typeName='tab.ButtonZoneModel';global.tab.ButtonZoneModel=bA;var bB=function(){ss.makeGenericType(bd,[Object,bC]).call(this)};bB.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=bB;var bC=function(e){this.$$c=null;this.$$c=e};bC.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=bC;var bD=function(e){bF.call(this,e,new ik('calculation'.toString(),null))};bD.__typeName='tab.CalculationDialogModel';global.tab.CalculationDialogModel=bD;var bE=function(e){this.$2$1=null;hv.call(this,e,new ik('expressionFuncPm'.toString(),null));this.pm={}};bE.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=bE;var bF=function(e,ex){this.$2$1=null;this.$2$2=null;hv.call(this,e,ex);this.pm={};this.set_calculationFunctionListModel(new bE(this))};bF.__typeName='tab.CalculationModel';global.tab.CalculationModel=bF;var bG=function(){};bG.__typeName='tab.CancelCommands';bG.cancelRunningCommand=function(e,ex,mo){bX.get().cancelRunningCommand(e,ex,mo)};global.tab.CancelCommands=bG;var bH=function(){};bH.__typeName='tab.CancellationStatus';global.tab.CancellationStatus=bH;var bI=function(){};bI.__typeName='tab.CancelTelemetry';bI.$0=function(e,ex,mo){if(hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var mp=mo-ex;hF.logEvent('Cancel_Command',ss.mkdict(['CommandName',ss.coalesce(e,'UNKNOWN'),'ElapsedTimeToCancelMS',mp,'CancelStatus','Failure']))}};bI.$1=function(e,ex,mo,mp,mq){if(hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var mr=mq-mp;var ms=mq-mo;hF.logEvent('Cancel_Command',ss.mkdict(['CommandName',ss.coalesce(e,'UNKNOWN'),'ElapsedTimeToProcessCancelResponseMS',mr,'ElapsedTimeToCancelMS',ms,'CancelStatus',bI.convertCancellationStatusForLog(ex)]))}};bI.convertCancellationStatusForLog=function(e){switch(e){case 200:{return'Success'}case 204:{return'NothingToCancel'}default:{return''}}};global.tab.CancelTelemetry=bI;var bJ=function(e){hv.call(this,e,new ik('categoricalFilter'.toString(),null))};bJ.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bJ;var bK=function(e,ex,mo){this.$2=null;this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik(ex,null));this.$2=mo};bK.__typeName='tab.CategoricalLegendModel';bK.$0=function(e,ex){var mo;switch(e){case'color':case'map':{mo=ex.colorLegendItems;break}case'size':{mo=ex.sizeLegendItems;break}case'shape':{mo=ex.shapeLegendItems;break}default:{return null}}return mo};global.tab.CategoricalLegendModel=bK;var bL=function(e){this.$1=null;this.$3$1=null;it.call(this,e,new ik('categoricalQuickFilter'.toString(),null));this.set_categoricalFilter(new bJ(this))};bL.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=bL;var bM=function(){ss.makeGenericType(bd,[Object,bN]).call(this)};bM.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bM;var bN=function(e){this.$$c=null;this.$$c=e};bN.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=bN;var bO=function(){ss.makeGenericType(bd,[Object,bP]).call(this)};bO.__typeName='tab.CheckConnectionCmd';global.tab.CheckConnectionCmd=bO;var bP=function(e){this.$$c=null;this.$$c=e};bP.__typeName='tab.CheckConnectionCmd$Response';global.tab.CheckConnectionCmd$Response=bP;var bQ=function(e,ex,mo,mp,mq){this.doLocalWork=null;this.$9=null;this.$8=null;this.$a=null;this.$7=null;this.$4='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.useGlobalConnectionErrorHandling=true;this.successCallback=null;this.failureCallback=null;this.$5=null;this.$3=null;this.$6=null;this.$9=e;this.hasLocalComponent=ss.isValue(ex);this.hasRemoteComponent=ss.isValue(mo)&&!Y.get_instance().get_isOffline();this.doLocalWork=ex;this.$8=[];this.$a=new Array;if(this.hasRemoteComponent){this.enqueueCommand(mo);this.$4=mo.commandName}this.successCallback=mp;this.failureCallback=mq;this.$5=[];this.$3=[]};bQ.__typeName='tab.ClientCommand';global.tab.ClientCommand=bQ;var bR=function(){};bR.__typeName='tab.ClipCase';global.tab.ClipCase=bR;var bS=function(){ss.makeGenericType(bd,[Object,bT]).call(this)};bS.__typeName='tab.CloseDataAlertDialogCmd';global.tab.CloseDataAlertDialogCmd=bS;var bT=function(e){this.$$c=null;this.$$c=e};bT.__typeName='tab.CloseDataAlertDialogCmd$Response';global.tab.CloseDataAlertDialogCmd$Response=bT;var bU=function(e,ex,mo,mp){this.$7=0;this.$6=0;this.$4=0;this.$3=0;this.$8='';this.$5='';this.$7=e;this.$6=ex;this.$4=mo;this.$3=mp};bU.__typeName='tab.ColorModel';bU.fromArgbInt=function(e){var ex=(e&16711680)>>>16;var mo=(e&65280)>>>8;var mp=e&255;var mq=(e&4278190080)>>>24;return new bU(ex,mo,mp,mq/255)};bU.fromColorCode=function(e){var ex=bU.$e.cl[e];if(ss.isValue(ex)){return ex}var mo=function(mx){return Math.min(Math.max(mx,0),255)};var mp;var mq;var mr;var ms=1;var mt=bU.$9.exec(e);if(ss.isValue(mt)){mp=mo(parseInt(mt[1],16));mq=mo(parseInt(mt[2],16));mr=mo(parseInt(mt[3],16));var mu=new bU(mp,mq,mr,ms);bU.$e.add(e,mu);return mu}mt=bU.$b.exec(e);if(ss.isValue(mt)){mp=mo(parseInt(mt[1],10));mq=mo(parseInt(mt[2],10));mr=mo(parseInt(mt[3],10));var mv=new bU(mp,mq,mr,ms);mv.setRGBStr(e);bU.$e.add(e,mv);return mv}mt=bU.$c.exec(e);if(ss.isValue(mt)){mp=mo(parseInt(mt[1],10));mq=mo(parseInt(mt[2],10));mr=mo(parseInt(mt[3],10));ms=parseFloat(mt[4]);if(ms<=1){ms=ms*255}if(ms>255){ms=255}if(ms<0){ms=0}ms=bU.alpha255ToFraction(ms);var mw=new bU(mp,mq,mr,ms);bU.$e.add(e,mw);return mw}throw new ss.Exception('Unknown color format: '+e)};bU.alpha255ToFraction=function(e){return tab.DoubleUtil.truncateTwoDecimalPlaces(bU.$7(e))};bU.$7=function(e){return(e+1)/256};bU.alphaFractionTo255=function(e){var ex=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(e));for(var mo=0;mo<256;mo++){var mp=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(bU.alpha255ToFraction(mo)));if(mp===ex){return mo}}return 255};bU.fromColorModelPlusAlpha=function(e,ex){return new bU(e.get_r(),e.get_g(),e.get_b(),ex)};bU.convertColorForCanvas=function(e){if(ss.isNullOrUndefined(e)||e.charCodeAt(3)===40){return e}bU.$3();var ex=bU.$d[e];if(ss.isValue(ex)){return ex}var mo=bU.fromColorCode(e);ex=mo.toString();return ex};bU.isEqual=function(e,ex,mo){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return false}if(mo&&e.$3!==ex.$3){return false}return e.$7===ex.$7&&e.$6===ex.$6&&e.$4===ex.$4};bU.alphaBlend=function(e,ex){if(e.get_a()<1){var mo=bU.alphaToTransparency(e.get_a());var mp=ex.get_r()*mo+e.get_r()*e.get_a();var mq=ex.get_g()*mo+e.get_g()*e.get_a();var mr=ex.get_b()*mo+e.get_b()*e.get_a();return new bU(ss.Int32.trunc(mp),ss.Int32.trunc(mq),ss.Int32.trunc(mr),1)}else{return e}};bU.isFullyTransparent=function(e){return e.get_a()===0};bU.alphaComposite=function(e,ex){if(ex.get_a()>=0.999989986419678){return bU.alphaCompositeSolidDest(e,ex)}var mo=bU.alphaToTransparency(e.get_a());var mp=e.get_a()+ex.get_a()*mo;return new bU(bU.$0(e.get_r(),e.get_a(),ex.get_r(),ex.get_a(),mp),bU.$0(e.get_g(),e.get_a(),ex.get_g(),ex.get_a(),mp),bU.$0(e.get_b(),e.get_a(),ex.get_b(),ex.get_a(),mp),mp)};bU.alphaCompositeSolidDest=function(e,ex){return new bU(bU.$1(e.get_r(),e.get_a(),ex.get_r()),bU.$1(e.get_g(),e.get_a(),ex.get_g()),bU.$1(e.get_b(),e.get_a(),ex.get_b()),1)};bU.$5=function(e,ex,mo){return 0.2126*bU.$f[e]+0.7152*bU.$f[ex]+0.0722*bU.$f[mo]};bU.$2=function(e){return Math.min(1,(255-e)/255*1.5)};bU.$6=function(e,ex){var mo=e.toString(16);while(mo.length<ex){mo='0'+mo}return mo};bU.$0=function(e,ex,mo,mp,mq){return Math.round((e*ex+mo*mp*bU.alphaToTransparency(ex))/mq)};bU.$1=function(e,ex,mo){return Math.round(e*ex+mo*bU.alphaToTransparency(ex))};bU.$4=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bU.$3=function(){if(ss.isValue(bU.$d)){return}bU.$d={};bU.$d['rgba(0,0,0,255)']='rgba(0,0,0,1)';bU.$d['rgba(0,0,0,0)']='rgba(0,0,0,0)';bU.$d['rgba(255,255,255,255)']='rgba(255,255,255,1)';bU.$d['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bU.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bU.alphaToTransparency=function(e){return bU.transparencyToAlpha(e)};global.tab.ColorModel=bU;var bV=function(e){hv.call(this,e,new ik('colorPalettes'.toString(),null))};bV.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bV;var bW=function(){};bW.__typeName='tab.CommandCancellationWhiteList';bW.$0=function(e){if(ss.referenceEquals(e,{ns:'tabsrv',cmd:'refresh-data-server'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationRefreshDataServer')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'get-show-data-pres-model'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationGetShowDataPresModel')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationCategoricalFilter')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter-by-index'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationCategoricalFilter')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'connection-count-entity'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationSlowMetaData')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'connection-fetch-entity'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationSlowMetaData')}return true};bW.canCancel=function(e){return ss.keyExists(bW.$1,e)&&bW.$0(e)};global.tab.CommandCancellationWhiteList=bW;var bX=function(e,ex,mo){this.$11=null;this.$12=null;this.$17=[];this.$1h=new t;this.$1f=new lc;this.$15={};this.$19=[];this.$14=null;this.$1g=null;this.$1i=null;this.$1e=false;this.$1d=null;this.$18=null;this.$10=null;this.$1c=[];this.$13=null;this.$Z=false;this.$16=[];this.$Y=false;this.$1a=false;this.$1b={};this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.$1$12=null;this.$1$13=null;this.$1$14=null;this.$1$15=null;this.defaultCommandCanceler=null;this.e2eAutomationTestHooks=null;this.legacySession=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.legacySession=e;this.$12=ex;this.defaultCommandCanceler=mo;window.window.onerror=ss.mkdel(this,this.$z);this.$1i=new mg(this.$12);this.$1g=new J(this.legacySession);var mp=new c(e);mp.$5('tabsrv',{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd,135);var mq=new cn;mq.commandNamespace={ns:'tabdoc',cmd:'highlight-items'}.ns;mq.commandName={ns:'tabdoc',cmd:'highlight-items'}.cmd;var mr=new cn;mr.commandNamespace={ns:'tabdoc',cmd:'clear-highlighting'}.ns;mr.commandName={ns:'tabdoc',cmd:'clear-highlighting'}.cmd;var ms=new cn;ms.commandNamespace={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}.ns;ms.commandName={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}.cmd;var mt=[mq,mr,ms];mp.$4(mt,135);this.$11=mp;this.$11.add_onRemoteCommandResponse(ss.mkdel(this,this.$r));this.$11.add_onRemoteCommandException(ss.mkdel(this,this.$q));this.$13=new dK(ex);this.$u();this.e2eAutomationTestHooks=new K(this.$1i,ss.mkdel(this,function(){return ss.getKeyCount(this.$15)}),ss.mkdel(this,this.$v));this.$Y=false};bX.__typeName='tab.CommandController';bX.add_switchedViz=function(e){bX.$1$8=ss.delegateCombine(bX.$1$8,e)};bX.remove_switchedViz=function(e){bX.$1$8=ss.delegateRemove(bX.$1$8,e)};bX.add_sheetNameChanged=function(e){bX.$1$16=ss.delegateCombine(bX.$1$16,e)};bX.remove_sheetNameChanged=function(e){bX.$1$16=ss.delegateRemove(bX.$1$16,e)};bX.get_hasInstance=function(){return ss.isValue(bX._instance)};bX.$7=function(){return tab.Logger.lazyGetLogger(bX)};bX.get_vizqlServerRequestHandler=function(){return bX.get().legacySession};bX.isAllContentReady=function(){return(ss.isNullOrUndefined(bX._instance)?false:bX._instance.$Y)};bX.create=function(e,ex,mo){if(ss.isNullOrUndefined(bX._instance)){bX._instance=new bX(e,ex,mo)}return bX._instance};bX.clearInstance=function(){bX._instance=null;window.window.onerror=null};bX.get=function(){if(!ss.isValue(bX._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return bX._instance};bX.handleBootstrapException=function(e,ex){tab.ErrorTrace.report(e);if(bX.$a){return}var mo=new ss.StringBuilder;if(ss.isValue(e['name'])){mo.append(e['name']).append(': ')}mo.append(e.get_message());ex.ShowErrorDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,mo.toString()),tab.Strings.UnhandledExceptionTitle,null);bX.$6(JSON.stringify(eI.packageStackTraceData(tab.ErrorTrace.getStackTraceFor(e))));bX.sendParentCompletedMessage();bX.$a=true};bX.sendParentCompletedMessage=function(){if(bX.$b){return}bX.$b=true;var e=tabBootstrap.Utility.sendCommandWithContext('tableau.completed');if(!e){}};bX.$6=function(e){var ex=[];ex.push('tableau.unhandledException');ex.push(e);tabBootstrap.Utility.doPostMessage(ex)};bX.$4=function(e){return e.get_isBlocking()};bX.SendCommand=function(e){var ex=bX.get();if(ex.$1a&&tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(im.get_progressiveLoadEnabled()){ex.$0(e)}ex.$1h.$1(e);ex.$w()};bX.SendCommandWithDeferredReturn=function(e,ex){var mo=$.Deferred();bX.SendCommand(iK.create(e,ex,function(mp){mo.resolve(mp)},function(mp){mo.reject()}));return mo.promise()};bX.$1=function(e,ex){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,ex.get_id(),ex.get_urlRoot())};bX.logErrorForUnknownRecoveryOutcome=function(e){switch(e){case'NOT_ATTEMPTED':case'FULL':case'PARTIAL':case'ORIGINAL':case'UNKNOWN_ERROR':{break}default:{break}}};bX.logError=function(e){};bX.$0=function(e,ex,mo){var mp=[];if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.clientOpenBugUrl)){var mq=tsConfig.clientCheckBugText;var mr=tsConfig.clientCheckBugUrl;var ms=tsConfig.clientOpenBugText;var mt=tsConfig.clientOpenBugUrl;var mu=encodeURIComponent('{errorMessage}');var mv=encodeURIComponent('{sessionId}');var mw=encodeURIComponent('{stack}');var mx=encodeURIComponent('{url}');if(!ss.isNullOrEmptyString(mq)&&!ss.isNullOrEmptyString(mr)){var my=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ex,'"',''),"'",''),':','');mr=ss.replaceAllString(mr,mu,encodeURIComponent(my));mp.push({url:mr,displayText:mq})}if(!ss.isNullOrEmptyString(ms)&&!ss.isNullOrEmptyString(mt)){var mz='search splunk for stack.';try{mz=mo.stack;mz=mz.substr(0,400)}catch(mB){}mt=ss.replaceAllString(mt,mu,encodeURIComponent(ss.replaceAllString(ex,':','')));mt=ss.replaceAllString(mt,mv,encodeURIComponent(e));mt=ss.replaceAllString(mt,mw,encodeURIComponent(mz));var mA=((ss.isValue(window.parent)&&ss.isValue(window.parent.location))?window.parent.location:window.location);mt=ss.replaceAllString(mt,mx,encodeURIComponent(mA.href));mt=ss.replaceAllString(ss.replaceAllString(mt,'"',''),"'",'');mp.push({url:mt,displayText:ms})}}return mp};bX.$5=function(){tabBootstrap.MetricsController.logMetricsEvent('CLNTLD'.toString(),2)};bX.$3=function(e){var ex=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}if(!e.workbookPresModel.dashboardPresModel.isStory){return ex}var mo=e.workbookPresModel.dashboardPresModel.zones;var mp=_.keys(mo);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];var ms=mo[mr];if(ss.isNullOrUndefined(ms)){continue}var mt=mm.getContent(ms,'flipboard');if(ss.isValue(mt)){return mt.activeStoryPointId}}return null};bX.$2=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.sheetPath)){return''}return e.workbookPresModel.dashboardPresModel.sheetPath.sheetName};global.tab.CommandController=bX;var bY=function(){};bY.__typeName='tab.CommandControllerStoryTelemetry';bY.bootstrapCompleteStoryTelemetry=function(){if(hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('StorytellingOnlineTelemetry')&&!tsConfig.is_authoring){var e=hy.getSheetInfoPresModel(Y.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(e)&&e.isStory){_.defer(function(){bY.$3()})}}};bY.$3=function(){var e={$:null};var ex={$:null};var mo={$:null};var mp={$:null};var mq={$:null};var mr={$:null};var ms={$:null};if(!bY.$9(mo)){bY.$2('Storyboard is not set when we expected it to be.');return}if(!bY.$a(mo.$,e)){bY.$2("'name' is not set in the ZoneCommonPresModel when we expected it to be.");return}if(!bY.$5(mo.$,ex)){bY.$2('FlipboardNavModel is not set when we expected it to be.');return}if(!bY.$6(ex.$,mp)){bY.$2('SelectedStoryPointStyle was not set when we expected it to be.');return}if(!bY.$4(mo.$,mq)){bY.$2('DashboardSize was not set when we expected it to be.');return}if(!bY.$8(ex.$,mr)){bY.$2('StoryPoints is not set when we expected it to be.');return}if(!bY.$7(ms)){bY.$2('SheetsInfo is not set when we expected it to be.');return}var mt=bY.$0(mr.$,ex.$.get_navType());var mu=bY.$1(ms.$);hF.logEvent('StoryViewing.StoryState',ss.mkdict(['AtBootstrap',true,'DefaultTitle',(ss.referenceEquals(e.$,tsConfig.current_sheet_name.toString())?true:false),'StoryPoints',mr.$.length,'UniqueSheets',mu.$2(),'UniqueDashboards',mu.$0(),'AvgCaptionLengthByChar',mt.$0(),'AvgCaptionLengthByWord',mt.$2(),'LongestCaptionByChar',mt.$4(),'LongestCaptionByWord',mt.$6(),'TitleLengthByChar',e.$.length,'TitleLengthByWord',(!tab.MiscUtil.isNullOrEmpty$3(e.$)?e.$.match(bY.$b).length:0),'TitleVisible',mo.$.get_isTitleVisible(),'NavArrows',ex.$.get_arrowVisibility(),'NavStyle',ex.$.get_navType().toString(),'DashboardHeight',mq.$.h,'DashboardWidth',mq.$.w,'StoryPointHeight',mp.$.h,'StoryPointWidth',mp.$.w,'StoryPointBackgroundColor',mp.$.styledBox.fillColor.toString(),'StoryPointBorderColor',mp.$.styledBox.borderColor.toString()]))};bY.$2=function(e){hF.logEvent('Error.StoryState',ss.mkdict(['Message',e]))};bY.$0=function(e,ex){var mo=0,mp=0,mq=0,mr=0;if(ex!=='caption'||e.length<1){return new y}for(var ms=0;ms<e.length;ms++){var mt=e[ms];if(ss.isValue(mt.storyPointCaption)&&!tab.MiscUtil.isNullOrEmpty$3(mt.storyPointCaption.toString())){var mu=mt.storyPointCaption.toString();var mv=mu.match(bY.$b);if(mu.length>mq){mq=mu.length}if(mv.length>mr){mr=mv.length}mo+=mu.length;mp+=mv.length}}return new y.$0(mo/e.length,mp/e.length,mq,mr)};bY.$1=function(e){var ex=new Set;var mo=new Set;for(var mp=0;mp<e.length;mp++){var mq=e[mp];if(mq.isStory){continue}if(mq.isDashboard){mo.add(mq.sheet)}else{ex.add(mq.sheet)}}return new A(ex.size,mo.size)};bY.$9=function(e){e.$=((ss.isValue(Y.get_instance().get_workbook())&&ss.isValue(Y.get_instance().get_workbook().get_storyboard()))?Y.get_instance().get_workbook().get_storyboard():null);return ss.isValue(e.$)};bY.$a=function(e,ex){if(e.get_isTitleVisible()===false){ex.$='';return true}if(ss.isNullOrUndefined(e.get_zoneModels())){ex.$=null;return false}var mo=_.find(e.get_zoneModels(),function(mp){return mp.get_zoneType()==='title'});ex.$=((ss.isValue(mo)&&ss.isValue(mo.get_zoneCommonModel())&&ss.isValue(mo.get_zoneCommonModel().get_zoneCommonPresModel())&&ss.isValue(mo.get_zoneCommonModel().get_zoneCommonPresModel().name))?mo.get_zoneCommonModel().get_zoneCommonPresModel().name.toString():null);return ss.isValue(ex.$)};bY.$5=function(e,ex){ex.$=(ss.isValue(e.get_flipboardNavModel())?e.get_flipboardNavModel():null);return ss.isValue(ex.$)};bY.$4=function(e,ex){ex.$=(ss.isValue(e.get_dashboardSize())?e.get_dashboardSize():null);return ss.isValue(ex.$)};bY.$6=function(e,ex){ex.$=((ss.isValue(e.get_flipboardNavPresModel())&&ss.isValue(e.get_flipboardNavPresModel().selectedStoryPointStyle))?e.get_flipboardNavPresModel().selectedStoryPointStyle:null);return ss.isValue(ex.$)};bY.$8=function(e,ex){ex.$=(ss.isValue(e.get_storyPoints())?e.get_storyPoints():null);return ss.isValue(ex.$)};bY.$7=function(e){e.$=((ss.isValue(Y.get_instance().get_workbook())&&ss.isValue(Y.get_instance().get_workbook().get_sheetsInfo()))?Y.get_instance().get_workbook().get_sheetsInfo():null);return ss.isValue(e.$)};global.tab.CommandControllerStoryTelemetry=bY;var bZ=function(){};bZ.__typeName='tab.CommandControllerTelemetry';bZ.$0=function(){if(hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){_.defer(function(){var e=null;ic.getInfo().done(function(ex){e=ex}).always(function(){_.defer(function(){var ex,mo,mp,mq,mr,ms,mt,mu,mv;ex=mo=mp=mq=mr=ms=mt=mu=mv=false;if(ss.isValue(e)){if(ss.isValue(e.get_name())){mo=ss.startsWithString(e.get_name(),'Chrome');mp=ss.startsWithString(e.get_name(),'Microsoft Edge');mq=ss.startsWithString(e.get_name(),'IE');mr=ss.startsWithString(e.get_name(),'Firefox');mt=ss.startsWithString(e.get_name(),'Opera');mu=ss.startsWithString(e.get_name(),'Safari')}if(ss.isValue(e.get_OS().get_family())){ex=ss.startsWithString(e.get_OS().get_family(),'Android');ms=ss.startsWithString(e.get_OS().get_family(),'OS X')||ss.startsWithString(e.get_OS().get_family(),'Mac');mv=ss.startsWithString(e.get_OS().get_family(),'Windows')&&!ss.startsWithString(e.get_OS().get_family(),'Windows Phone')}}var mw=window.screen;var mx=hy.getSheetInfoPresModel(Y.get_instance(),tsConfig.current_sheet_name);var my=ss.mkdict(['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_device,'Version',tsConfig.version,'LocalRender',Y.get_instance().get_isLocalRenderMode(),'Android',ex,'Chrome',mo,'ChromeVersion',BrowserSupport.BrowserSupport.GoogleChromeVersion(),'DevicePixelRatio',BrowserSupport.BrowserSupport.DevicePixelRatio(),'Edge',mp,'Firefox',mr,'Geolocation',BrowserSupport.BrowserSupport.IsGeolocationSupported(),'IE',mq,'IEVersion',BrowserSupport.BrowserSupport.BrowserVersion(),'IOS',BrowserSupport.BrowserSupport.IsIos(),'IOSVersion',BrowserSupport.BrowserSupport.IosVersion(),'Ipad',BrowserSupport.BrowserSupport.IsIpad(),'Mac',ms,'Opera',mt,'Safari',mu,'SafariVersion',BrowserSupport.BrowserSupport.SafariVersion(),'Windows',mv,'EmbedMode',tabBootstrap.Utility.get_embedMode(),'ScreenWidth',mw.width,'ScreenHeight',mw.height,'ViewportWidth',window.innerWidth,'ViewportHeight',window.innerHeight,'Dashboard',(ss.isValue(mx)?mx.isDashboard:false),'Published',(ss.isValue(mx)?mx.isPublished:false),'Story',(ss.isValue(mx)?(ss.isValue(mx.isStory)&&mx.isStory):false),'Worksheets',((ss.isValue(mx)&&ss.isValue(mx.namesOfSubsheets))?mx.namesOfSubsheets.length:0),'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)]);my['Touch']=BrowserSupport.BrowserSupport.IsTouch();hF.logEvent('Bootstrap',my);if(ss.isValue(e)){var mz=ss.mkdict(['Description',ss.coalesce(e.get_description(),''),'Layout',ss.coalesce(e.get_layout(),''),'Manufacturer',ss.coalesce(e.get_manufacturer(),''),'Name',ss.coalesce(e.get_name(),''),'Prerelease',ss.coalesce(e.get_prerelease(),''),'Product',ss.coalesce(e.get_product(),''),'UserAgent',e.get_userAgent(),'Version',ss.coalesce(e.get_version(),''),'System',ss.coalesce(e.get_OS().get_description(),''),'SystemArchitecture',ss.coalesce(e.get_OS().get_architecture(),''),'SystemFamily',ss.coalesce(e.get_OS().get_family(),''),'SystemVersion',ss.coalesce(e.get_OS().get_version(),'')]);hF.logEvent('Platform',mz)}})})})}};global.tab.CommandControllerTelemetry=bZ;var ca=function(e,ex){this.succeeded=false;this.error=null;this.succeeded=e;this.error=ex};ca.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=ca;var cb=function(){};cb.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=cb;var cc=function(){lg.call(this)};cc.__typeName='tab.CommandItemBasedUbertipButtonModel';global.tab.CommandItemBasedUbertipButtonModel=cc;var cd=function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}tab.KeyboardShortcutManager.tryUpdateKeyboardShortcut(this.get_commandName(),this)};cd.__typeName='tab.CommandItemWrapper';cd.create=function(e){if(!ss.isValue(e)){return null}var ex=e['command'.toString()];var mo=ck.deserialize(ex,false);if(ss.isValue(mo)){var mp={ns:mo.commandNamespace,cmd:mo.commandName};if(lM.get_instance().hasCommand(mp)){return new lK(e)}}return new cd(e)};global.tab.CommandItemWrapper=cd;var ce=function(){this.localWorkFactory=null;this.blocking=null;this.suppressConnectionDialog=false};ce.__typeName='tab.CommandLocalOptions';global.tab.CommandLocalOptions=ce;var cf=function(){this.command=null;this.description=null;this.imageRes=null;this.status='enabled';this.$1$1=0;this.$1$2=null};cf.__typeName='tab.CommandModel';global.tab.CommandModel=cf;var cg=function(){lg.call(this)};cg.__typeName='tab.CommandModelBasedUbertipButtonModel';global.tab.CommandModelBasedUbertipButtonModel=cg;var ch=function(e){this.$0=null;this.$0={};var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var mo=ex.current();this.$0[mo]='granted'}}finally{ex.dispose()}};ch.__typeName='tab.CommandPermission';global.tab.CommandPermission=ch;var ci=function(){};ci.__typeName='tab.CommandRedirectRegistry';ci.checkpointRegistry=function(){var e=ci.$0;ci.$0=$.extend(false,{},e);return function(){ci.$0=e}};ci.registerHandler=function(e,ex){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(ex,'handler');if(ss.isNullOrUndefined(ci.$0)){ci.$0={}}ci.$0[e]=ex};ci.handleRedirect=function(e,ex){if(ss.isNullOrUndefined(ci.$0)||!ss.keyExists(ci.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var mo=ci.$0[e];return mo(ex)};global.tab.CommandRedirectRegistry=ci;var cj=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};cj.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=cj;var ck=function(){};ck.__typeName='tab.CommandSerializer';ck.$4=function(){return tab.Logger.lazyGetLogger(ck)};ck.buildDocCommandName=function(e){return ck.buildQualifiedCommandName('tabdoc',e.cmd)};ck.buildQualifiedCommandName=function(e,ex){return e+':'+ex};ck.deserialize=function(e,ex){var mo;if(ex){mo=ck.$6[e];if(ss.isValue(mo)){return mo}}var mp=new RegExp('^(\\w+):([\\w-]+)( ((.|\n|\r|\r\n)*))?$');var mq=mp.exec(e);if(ss.isNullOrUndefined(mq)||mq.length===0){return null}mo={commandNamespace:mq[1],commandName:mq[2]};ck.$1(mo,mq[4]);if(ex){ck.$0(e,mo)}return mo};ck.getCommandType=function(e){if(ss.keyExists(ck.$8,e.commandName)){return ck.$8[e.commandName]}else{return null}};ck.$0=function(e,ex){if(ck.$7.length>=15){var mo=ck.$7.shift();delete ck.$6[mo]}ck.$6[e]=ex;ck.$7.push(e)};ck.$1=function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var mo=new ss.StringBuilder;var mp=new Array;for(var mq=ex.length-1;mq>=0;mq--){mp.push(ex.substr(mq,1))}while(mp.length>0){var mr=ck.$2(mp,mo);if(!ss.isValue(mr)){return}var ms=ck.$3(mp,mo);if(ss.isNullOrUndefined(ms)){return}if(ms==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(mr)]=ms}};ck.$2=function(e,ex){ex.clear();var mo=false;while(e.length>0){var mp=e.pop();switch(mp){case'=':{return ex.toString().trim()}case'-':{mo=true;break}default:{if(mo){ex.append(mp.toUpperCase());mo=false}else{ex.append(mp)}break}}}return null};ck.$3=function(e,ex){ex.clear();var mo=new Array;var mp=function(){return((mo.length>0)?ss.arrayPeekBack(mo):'')};var mq=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var mr=e.pop();var ms=true;switch(mr){case'\\':{if(mq){if(mp()!=='\\'){mo.push('\\');ms=false}else{mo.pop()}}break}case'"':{if(mp()==='\\'){mo.pop()}else if(mp()==='"'){mo.pop();if(mo.length===0){ms=false}}else{if(mo.length===0){ms=false}mo.push('"')}break}case'[':{if(mp()==='"'){}else{mo.push('[')}break}case']':{if(mp()==='"'){}else if(mp()!=='['){}else{mo.pop()}break}case'{':{if(mp()==='"'){}else{mo.push('{')}break}case'}':{if(mp()==='"'){}else if(mp()!=='{'){}else{mo.pop()}break}default:{if(mp()==='\\'){mo.pop()}break}}if(ms){ex.append(mr)}if(mo.length===0){return ex.toString()}}return null};global.tab.CommandSerializer=ck;var cl=function(e){this.$1=true;this.$2$1=null;hv.call(this,e,new ik('commands'.toString(),null))};cl.__typeName='tab.CommandsModel';global.tab.CommandsModel=cl;var cm=function(){cm.$ctor1.call(this,{})};cm.__typeName='tab.CommandsPresModelWrapper';cm.$ctor1=function(e){this.$0=null;this.$0=e;if(ss.isNullOrUndefined(this.get_commandItems())){this.set_commandItems([])}};cm.create=function(e){return(ss.isNullOrUndefined(e)?null:new cm.$ctor1(e))};global.tab.CommandsPresModelWrapper=cm;var cn=function(){this.commandNamespace='';this.commandName=''};cn.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=cn;var co=function(){};co.__typeName='tab.CommandUtils';co.newCommand=function(e,ex){var mo={commandName:e.cmd,commandNamespace:e.ns};if(ss.isValue(ex)){mo.commandParams=ex}return mo};co.serialize=function(e){return e.ns+':'+e.cmd};co.addVisualIdToCommand=function(e,ex){if(tab.MiscUtil.isNullOrEmpty$3(ex.storyboard)){e['worksheet']=ex.worksheet;if(ss.isValue(ex.dashboard)&&ex.dashboard.toString().length>0){e['dashboard']=ex.dashboard}}else{e['visualIdPresModel']=JSON.stringify(ex)}};co.addStoryPointToCommand=function(e,ex){if(ss.isValue(ex.storyboard)){e['storyboard']=ex.storyboard;e['flipboardZoneId']=ex.flipboardZoneId.toString();e['storyPointId']=ex.storyPointId.toString()}};co.duplicateCommand=function(e){var ex={};$.extend(true,ex,e);return ex};co.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();return function(ex){if(_.isObject(ex)&&'commandRedirectType'.toString()in ex){var mo=ex['commandRedirectType'.toString()];var mp=ci.handleRedirect(mo,ex);mp.pipe(function(){e.resolve(ex);return ex},function(){e.reject();return ex})}else{e.resolve(ex)}}};co.executeSimpleCommand$1=function(e){return function(ex,mo){var mp=$.Deferred();var mq=$.Deferred().done([function(mr){mp.resolve(mr)}]).fail([function(mr){mp.reject.apply(mp,null)}]);jP.executeServerCommand(ck.deserialize(kt.create(ex).get_simpleCommand(),false),mo,co.createCommandRedirectSuccessHandler(mq),function(mr){mp.reject.apply(mp,null)});return mp}};co.executeSimpleCommand=function(e,ex){return co.executeSimpleCommand$1(Object).call(null,e,ex)};global.tab.CommandUtils=co;var cp=function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex};cp.__typeName='tab.CommentingServer';global.tab.CommentingServer=cp;var cq=function(e){this.$1=null;this.$2=null;this.$2$1=null;hv.call(this,e,new ik('compoundTableCalculationPresModel'.toString(),null));this.$1=new kO(this);this.$2=new kO(this);this.$2.get_tableCalcIdentifier().update({calcNestingLevel:'secondary',fn:''})};cq.__typeName='tab.CompoundTableCalcModel';cq.$0=function(e,ex){if(ss.isValue(e)&&ss.isValue(e.tableCalculationPresModels)&&e.tableCalculationPresModels.length>ex){return e.tableCalculationPresModels[ex]}return null};global.tab.CompoundTableCalcModel=cq;var cr=function(){};cr.__typeName='tab.ConnectionClass';cr.get_supportedTableauServerClasses=function(){var e=$.Deferred();cr.setupServerConnectionTypes().done([function(){e.resolve(cr.$3)}]);return e.promise()};cr.get_getSupportedFileClasses=function(){return cr.$1};cr.setupServerConnectionTypes=function(){if(ss.isValue(cr.$4)){return cr.$4}var e=$.Deferred();cr.$4=e;dr.get_serverConnectionTypes().done(function(ex){var mo=ex.item1;cr.$3=[];for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];cr.$3.push(mq.valueClassAttr.toString())}_.each(ex.item2,function(mr){cr.$2[mr.valueClassAttr]=mr});e.resolve()});return cr.$4};cr.getConnectionType=function(e){var ex=$.Deferred();cr.setupServerConnectionTypes().done([function(){ex.resolve(cr.$2[e])}]).fail([function(mo){ex.reject(mo)}]);return ex.promise()};cr.getConnectionTypeCategory=function(e){var ex=$.Deferred();cr.getConnectionType(e).done(function(mo){ex.resolve((ss.isNullOrUndefined(mo)?'invalid':mo.connectionTypeCategory))}).fail(function(mo){ex.reject(mo)});return ex.promise()};cr.$0=function(e){var ex=e.proxyUrlPrefix;return(ss.isNullOrEmptyString(ex)?'':tab.UriUtil.makeAbsoluteCorsProxyPrefixUrl(ex))};cr.getFileConnectionInfo=function(e,ex){var mo=$.Deferred();cr.getConnectionType(e).done(function(mp){var mq;if(ss.isNullOrUndefined(ex)){mq=mp.fileExtensions}else{var mr=Y.get_instance().get_workbook().get_dataSchema().findConnectionSummaryByName(ex);mq=mr.fileExtensions}mo.resolve(new eU(mq,cr.$0(mp)))}).fail(function(mp){mo.reject(mp)});return mo.promise()};global.tab.ConnectionClass=cr;var cs=function(e){fj.$ctor1.call(this,e,[])};cs.__typeName='tab.ConstructableFontFamily';global.tab.ConstructableFontFamily=cs;var ct=function(){ss.makeGenericType(bd,[Object,cu]).call(this)};ct.__typeName='tab.CopyTempFileToSessionSpecificStorageCmd';global.tab.CopyTempFileToSessionSpecificStorageCmd=ct;var cu=function(e){this.$$c=null;this.$$c=e};cu.__typeName='tab.CopyTempFileToSessionSpecificStorageCmd$Response';global.tab.CopyTempFileToSessionSpecificStorageCmd$Response=cu;var cv=function(){ss.makeGenericType(bd,[Object,cw]).call(this)};cv.__typeName='tab.CreateAndEstablishCloudConnectionCmd';global.tab.CreateAndEstablishCloudConnectionCmd=cv;var cw=function(e){this.$$c=null;this.$$c=e};cw.__typeName='tab.CreateAndEstablishCloudConnectionCmd$Response';global.tab.CreateAndEstablishCloudConnectionCmd$Response=cw;var cx=function(){ss.makeGenericType(bd,[Object,cy]).call(this)};cx.__typeName='tab.CreateAndEstablishConnectionCmd';global.tab.CreateAndEstablishConnectionCmd=cx;var cy=function(e){this.$$c=null;this.$$c=e};cy.__typeName='tab.CreateAndEstablishConnectionCmd$Response';global.tab.CreateAndEstablishConnectionCmd$Response=cy;var cz=function(){ss.makeGenericType(bd,[Object,cA]).call(this)};cz.__typeName='tab.CreateAnnotationCmd';global.tab.CreateAnnotationCmd=cz;var cA=function(e){this.$$c=null;this.$$c=e};cA.__typeName='tab.CreateAnnotationCmd$Response';global.tab.CreateAnnotationCmd$Response=cA;var cB=function(){ss.makeGenericType(bd,[Object,cC]).call(this)};cB.__typeName='tab.CreateAnnotationRichTextEditorCmd';global.tab.CreateAnnotationRichTextEditorCmd=cB;var cC=function(e){this.$$c=null;this.$$c=e};cC.__typeName='tab.CreateAnnotationRichTextEditorCmd$Response';global.tab.CreateAnnotationRichTextEditorCmd$Response=cC;var cD=function(){ss.makeGenericType(bd,[Object,cE]).call(this)};cD.__typeName='tab.CreateDataSourceFromFileUploadCmd';global.tab.CreateDataSourceFromFileUploadCmd=cD;var cE=function(e){this.$$c=null;this.$$c=e};cE.__typeName='tab.CreateDataSourceFromFileUploadCmd$Response';global.tab.CreateDataSourceFromFileUploadCmd$Response=cE;var cF=function(){ss.makeGenericType(bd,[Object,cG]).call(this)};cF.__typeName='tab.CreateWorksheetTitleRichTextEditorCmd';global.tab.CreateWorksheetTitleRichTextEditorCmd=cF;var cG=function(e){this.$$c=null;this.$$c=e};cG.__typeName='tab.CreateWorksheetTitleRichTextEditorCmd$Response';global.tab.CreateWorksheetTitleRichTextEditorCmd$Response=cG;var cH=function(){ss.makeGenericType(bd,[Object,cI]).call(this)};cH.__typeName='tab.CreateZoneRichTextEditorCmd';global.tab.CreateZoneRichTextEditorCmd=cH;var cI=function(e){this.$$c=null;this.$$c=e};cI.__typeName='tab.CreateZoneRichTextEditorCmd$Response';global.tab.CreateZoneRichTextEditorCmd$Response=cI;var cJ=function(e){cL.call(this,e)};cJ.__typeName='tab.CubeAttributeDimensionModel';global.tab.CubeAttributeDimensionModel=cJ;var cK=function(){};cK.__typeName='tab.CubeAttributeDimensionModelFactory';cK.create=function(e,ex,mo){var mp=cK.$1(e,ex,mo);var mq=cK.$0(e,ex,mo);var mr=cK.$2(e,ex,mo);var ms=cK.$3(e,ex,mo);var mt=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asCubeAttributeDimension():new cJ(ex));mt.update$1(e,mp,mq,mr,ms);return mt};cK.$1=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.hierarchyList)){return mp}for(var mq=0;mq<e.hierarchyList.length;mq++){var mr=e.hierarchyList[mq];mp.push(cQ.create(mr,ex,mo))}return mp};cK.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.displayFolderList)){return mp}for(var mq=0;mq<e.displayFolderList.length;mq++){var mr=e.displayFolderList[mq];mp.push(cO.create(mr,ex,mo))}return mp};cK.$2=function(e,ex,mo){if(ss.isValue(e.hierarchy)){return(ss.keyExists(mo.get_fields(),e.hierarchy.fn)?mo.get_fields()[e.hierarchy.fn].asHierarchy():cQ.create(e.hierarchy,ex,mo))}return null};cK.$3=function(e,ex,mo){if(e.isTimeIntelligence){var mp=(ss.keyExists(mo.get_fields(),e.column.fn)?mo.get_fields()[e.column.fn].asColumn():eK.create(e.column,ex,mo));mp.set_isTimeIntelligenceColumn(true);return mp}return null};global.tab.CubeAttributeDimensionModelFactory=cK;var cL=function(e){this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;eO.call(this,e)};cL.__typeName='tab.CubeBaseDimensionModel';global.tab.CubeBaseDimensionModel=cL;var cM=function(e){this.$1=null;this.$3$1=null;this.$3$2=null;eO.call(this,e)};cM.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=cM;var cN=function(e){this.$2=null;this.$1=null;eO.call(this,e)};cN.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=cN;var cO=function(){};cO.__typeName='tab.CubeFolderModelFactory';cO.create=function(e,ex,mo){var mp=cO.$1(e,ex,mo);var mq=cO.$0(e,ex,mo);var mr=((ss.keyExists(mo.get_fields(),e.fn)&&mo.get_fields()[e.fn].get_isCubeFolder())?mo.get_fields()[e.fn].asCubeFolder():new cN(ex));mr.update(e,mp,mq);return mr};cO.$1=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.hierarchyList)){return mp}for(var mq=0;mq<e.hierarchyList.length;mq++){var mr=e.hierarchyList[mq];mp.push(cQ.create(mr,ex,mo))}return mp};cO.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.columnList)){return mp}for(var mq=0;mq<e.columnList.length;mq++){var mr=e.columnList[mq];mp.push(eK.create(mr,ex,mo))}return mp};global.tab.CubeFolderModelFactory=cO;var cP=function(e){this.$1=null;this.$2=null;eO.call(this,e)};cP.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=cP;var cQ=function(){};cQ.__typeName='tab.CubeHierarchyModelFactory';cQ.create=function(e,ex,mo){var mp=cQ.$0(e,ex,mo);var mq=cQ.$1(e,ex,mo);var mr=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asHierarchy():new cP(ex));mr.update(e,mp,mq);return mr};cQ.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.columnList)){return mp}for(var mq=0;mq<e.columnList.length;mq++){var mr=e.columnList[mq];if(mr.type==='level'){mp.push(hj.create(mr,ex,mo))}else{mp.push(eK.create(mr,ex,mo))}}return mp};cQ.$1=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.userDefinedAttributeList)){return mp}for(var mq=0;mq<e.userDefinedAttributeList.length;mq++){var mr=e.userDefinedAttributeList[mq];mp.push(gf.create(mr,ex,mo))}return mp};global.tab.CubeHierarchyModelFactory=cQ;var cR=function(e){this.$4$1=null;cL.call(this,e)};cR.__typeName='tab.CubeStandardDimensionModel';global.tab.CubeStandardDimensionModel=cR;var cS=function(){};cS.__typeName='tab.CubeStandardDimensionModelFactory';cS.create=function(e,ex,mo){var mp=cS.$2(e,ex,mo);var mq=cS.$1(e,ex,mo);var mr=cS.$3(e,ex,mo);var ms=cS.$4(e,ex,mo);var mt=cS.$0(e,ex,mo);var mu=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asCubeStandardDimension():new cR(ex));mu.update$1(e,mp,mq,mt,mr,ms);return mu};cS.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.attributeAttributeDimensionList)){return mp}for(var mq=0;mq<e.attributeAttributeDimensionList.length;mq++){var mr=e.attributeAttributeDimensionList[mq];mp.push(cK.create(mr,ex,mo))}return mp};cS.$2=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.hierarchyList)){return mp}for(var mq=0;mq<e.hierarchyList.length;mq++){var mr=e.hierarchyList[mq];mp.push(cQ.create(mr,ex,mo))}return mp};cS.$1=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.displayFolderList)){return mp}for(var mq=0;mq<e.displayFolderList.length;mq++){var mr=e.displayFolderList[mq];mp.push(cO.create(mr,ex,mo))}return mp};cS.$3=function(e,ex,mo){if(ss.isValue(e.hierarchy)){return(ss.keyExists(mo.get_fields(),e.hierarchy.fn)?mo.get_fields()[e.hierarchy.fn].asHierarchy():cQ.create(e.hierarchy,ex,mo))}return null};cS.$4=function(e,ex,mo){if(e.isTimeIntelligence){var mp=(ss.keyExists(mo.get_fields(),e.column.fn)?mo.get_fields()[e.column.fn].asColumn():eK.create(e.column,ex,mo));mp.set_isTimeIntelligenceColumn(true);return mp}return null};global.tab.CubeStandardDimensionModelFactory=cS;var cT=function(e){this.$3$1=null;le.call(this,e,new ik('cumulativeTableCalcPresModel'.toString(),null))};cT.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=cT;var cU=function(){};cU.__typeName='tab.CustomizedViewRequests';cU.buildUrl=function(e,ex){return cU.$1(e,function(mo){if(ex){mo.removeAllQueryParams()}})};cU.buildUriModel=function(e){var ex=lF.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){ex.updateForCustomizedView(e)}else{ex.set_originalView(true)}ex.removeHash();return ex};cU.$1=function(e,ex){var mo=cU.buildUriModel(e);if(!ss.staticEquals(ex,null)){ex(mo)}return mo.get_absoluteUri()};cU.navigateToCustomizedView=function(e){var ex=tabBootstrap.Utility.get_locationWindow();jW.destroySessionAndForward$1(ex,cU.buildUrl(e,false))};cU.navigateToCustomizedView$1=function(e,ex){var mo=tabBootstrap.Utility.get_locationWindow();jW.destroySessionAndForward$1(mo,cU.$1(e,ex))};cU.navigateToOriginalView=function(e){var ex=tabBootstrap.Utility.get_locationWindow();jW.destroySessionAndForward$1(ex,cU.$1(null,e))};cU.getCustomizedViews=function(e,ex){var mo=function(mp,mq,mr){if(ss.staticEquals(e,null)){return}var ms;var mt=null;if('customizedViews'in mp){ms=mp['customizedViews']}else{ms=[]}if('defaultCustomizedViewId'in mp){mt=mp['defaultCustomizedViewId']}e(ms,mt)};cU.$6(mo,cU.$3(ex),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),bX.get_vizqlServerRequestHandler(),'GET','none')};cU.getCustomizedView=function(e,ex,mo){var mp=bX.get_vizqlServerRequestHandler();var mq=function(mr,ms,mt){if(ss.staticEquals(ex,null)){return}var mu=mr;ex(mu.cv)};cU.$6(mq,cU.$3(mo),'get_customized_view',ss.mkdict(['cvId',e]),mp,'GET','none')};cU.setDefaultCustomizedView=function(e,ex,mo){var mp=function(mr,ms,mt){if(ss.staticEquals(ex,null)){return}var mu=null;if('defaultCv'in mr){mu=mr['defaultCv']}ex(mu)};var mq=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){mq['cvId']=e.id}cU.$6(mp,cU.$3(mo),'set_default_customized_view',mq,bX.get_vizqlServerRequestHandler(),null,null)};cU.destroyCustomizedView=function(e,ex,mo){tab.Param.verifyValue(e,'cv');var mp=function(mq,mr,ms){if(ss.staticEquals(ex,null)){return}ex()};cU.$5(mp,cU.$3(mo),'destroy_customized_view',ss.mkdict(['cvId',e.id]),bX.get_vizqlServerRequestHandler())};cU.saveCustomizedView=function(e,ex,mo){tab.Param.verifyValue(e,'cv');var mp=function(mr,ms,mt){if(ss.staticEquals(ex,null)){return}var mu=null;if('cv'in mr){mu=mr['cv'];cU.updateTsConfig(mu,true)}ex(mu)};var mq=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'hidden',e.isHidden]);if(ss.isValue(e.id)){mq['cvId']=e.id}cU.$6(mp,cU.$3(mo),'save_customized_view',mq,bX.get_vizqlServerRequestHandler(),null,null)};cU.updateTsConfig=function(e,ex){tsConfig.repositoryUrl=cU.$2(e);if(ex){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}};cU.$2=function(e){var ex=new iN(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',ex.get_workbookId(),ex.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',ex.get_workbookId(),ex.get_sheetId(),lF.encodeUserName(e.owner.username),e.urlId)};cU.updateCustomizedView=function(e,ex,mo){tab.Param.verifyValue(e,'cv');var mp=function(mr,ms,mt){if(ss.staticEquals(ex,null)){return}var mu=mr;var mv=null;if(ss.isValue(mu.cv)){mv=mu.cv;cU.updateTsConfig(mv,false)}ex(mv)};var mq=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);cU.$6(mp,cU.$3(mo),'update_customized_view',mq,bX.get_vizqlServerRequestHandler(),null,null)};cU.$3=function(e){var ex=function(mo,mp,mq){if(ss.staticEquals(e,null)){return}var mr=cU.$4(mo);var ms=mr;if(ss.isNullOrUndefined(ms)){ms=mq.toString()}e(ms)};return ex};cU.$4=function(e){if(ss.isValue(e.responseText)){try{var ex=JSON.parse(e.responseText);if(ss.isValue(ex.msg)){return ex.msg}}catch(mo){var e=ss.Exception.wrap(mo)}}return null};cU.$5=function(e,ex,mo,mp,mq){var mr=mq.formatMethod(mo);cU.$0(e,ex,mp,mr,mq,'immediately',null)};cU.$6=function(e,ex,mo,mp,mq,mr,ms){var mt=mq.formatSessionMethod(mo);cU.$0(e,ex,mp,mt,mq,ms,mr)};cU.$0=function(e,ex,mo,mp,mq,mr,ms){var mt=mq.createHandler(null,e,ex,ss.coalesce(mr,'immediately'));var mu={type:ss.coalesce(ms,'POST'),url:mp,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json'};if(ss.isValue(mo)){mu.data=mo}mq.request(mu,mt)};global.tab.CustomizedViewRequests=cU;var cV=function(e){this.$3$1=null;this.$3$2=null;le.call(this,e,new ik('customTableCalcPresModel'.toString(),null));this.set_referenceModel(new kQ(this))};cV.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=cV;var cW=function(e){this.$1=[];ig.call(this);for(var ex=0;ex<e.length;ex++){var mo=e[ex];var mp=mo.ns+':'+mo.cmd;this.$1.push(mp)}};cW.__typeName='tab.CustomUIBlockingPluginPresentationLayer';global.tab.CustomUIBlockingPluginPresentationLayer=cW;var cX=function(){};cX.__typeName='tab.DashboardClientCommands';cX.getDeviceLayoutListContextMenu=function(e,ex){var mo=new bo;mo.c['dashboardDeviceLayout']=e;var mp=mo;mp.invoke().then(ex)};cX.dropSheetOnDashboard=function(e,ex,mo){var mp=new ee;mp.c['dashboard']=tsConfig.current_sheet_name;mp.c['addAsFloating']=ss.coalesce(mo,false);mp.c['dropLocation']={x:ex.x|0,y:ex.y|0};mp.c['zoneType']='viz';mp.c['worksheet']=e;mp.set_uiBlocking('immediately');return mp.invoke()};cX.dropNewZoneObjectOnDashboard=function(e,ex,mo,mp,mq,mr,ms){var mt={x:mp.x|0,y:mp.y|0};var mu=new ee;mu.c['dashboard']=tsConfig.current_sheet_name;mu.c['addAsFloating']=ss.coalesce(mo,false);mu.c['dropLocation']=mt;mu.c['zoneType']=e;mu.c['isHorizontal']=ex;mu.set_uiBlocking('immediately');var mv=mu;if(ss.isValue(mr)){mv.c['zoneParam']=mr}if(ss.isValue(mq)){mv.c['formattedText']=mq}if(ms!=='invalid'){mv.c['dashboardObjectType']=ms}return mv.invoke()};cX.showImageObjectConfigDialog=function(e){var ex=new kr;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['zoneId']=e|0;ex.set_uiBlocking('none');var mo=ex;mo.invoke()};cX.setDashboardDeviceLayout=function(e){var ex=new jX;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardDeviceLayout']=e;ex.c['allowPreviewSizeChange']=true;ex.set_uiBlocking('immediately');ex.invoke()};cX.getSheetDragDropTargets=function(e,ex){var mo=new fz;mo.c['dashboard']=tsConfig.current_sheet_name;mo.set_uiBlocking('none');var mp=mo;if(ss.isValue(e)){mp.c['zoneId']=ss.unbox(e)|0}if(ss.isValue(ex)){mp.c['grabLocation']={x:ex.x|0,y:ex.y|0}}return mp.invoke()};cX.getThumbnailImage=function(e){var ex=new fV;ex.c['worksheet']=e;ex.set_uiBlocking('none');var mo=ex;return mo.invoke()};cX.addNewObjectToDashboard=function(e,ex,mo,mp,mq,mr){var ms=new T;ms.c['dashboard']=tsConfig.current_sheet_name;ms.c['zoneType']=e;ms.c['isHorizontal']=ex;ms.c['addAsFloating']=ss.coalesce(mo,false);ms.set_uiBlocking('immediately');var mt=ms;if(ss.isValue(mq)){mt.c['zoneParam']=mq}if(ss.isValue(mp)){mt.c['formattedText']=mp}if(mr!=='invalid'){mt.c['dashboardObjectType']=mr}return mt.invoke()};cX.addSheetToDashboard=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'add-sheet-to-dashboard'},null);mo.commandParams={};mo.commandParams['worksheet']=e;mo.commandParams['addAsFloating']=ss.coalesce(ex,false);bX.SendCommand(iK.create(mo,'immediately',null,null))};cX.showGridOnDashboard=function(e){var ex=new dd;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardShowGrid']=e;ex.set_localWork(function(mo){cX.$2(e,mo)});ex.set_uiBlocking('none');ex.invoke()};cX.$2=function(e,ex){var mo=hy.findContentDashboard(null);var mp=(e?'gom-on':'gom-automatic');if(mp===mo.get_gridMode()){return}var mq=ex.makeMutablePresModel(mo,false);mq.gridOverlayMode=mp};cX.changeDashboardGridSize=function(e){var ex=new db;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardGridSize']=e|0;ex.set_localWork(function(mo){cX.$1(e,mo)});ex.set_uiBlocking('none');ex.invoke()};cX.$1=function(e,ex){var mo=hy.findContentDashboard(null);if(e===mo.get_gridSize()){return}var mp=ex.makeMutablePresModel(mo,false);mp.size=e};cX.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({sizeMode:'size-mode-auto',dashboardSizingMode:'automatic'})}else{var ex=new fB;ex.c['dashboard']=tsConfig.current_sheet_name;ex.set_uiBlocking('none');ex.invoke().pipe(function(mo){return e.resolve(mo.$$c['dashboardSizePresModel'])},function(mo){return e.reject()})}return e.promise()};cX.setDashboardSizeFixed=function(e,ex,mo,mp,mq){var mr=function(ms){var mt=ms.makeMutablePresModel(mq,false);var mu={dashboardSizingMode:'fixed',h:mp,w:mo};mt.dashboardSizePresModel=mu};cX.$0(e,ex,'fixed',mo,mp,mo,mp,mr)};cX.setDashboardSizeAutomatic=function(e,ex){var mo=function(mp){var mq=mp.makeMutablePresModel(ex,false);var mr={dashboardSizingMode:'automatic'};mq.dashboardSizePresModel=mr};cX.$0(e,'no','automatic',0,0,0,0,mo)};cX.setDashboardSizeRange=function(e,ex,mo,mp,mq,mr,ms){var mt=function(mu){var mv=mu.makeMutablePresModel(ms,false);var mw={dashboardSizingMode:'range',maxHeight:ss.coalesce(mr,0),maxWidth:ss.coalesce(mq,0),minHeight:ss.coalesce(mp,0),minWidth:ss.coalesce(mo,0)};mv.dashboardSizePresModel=mw};cX.$0(e,ex,'range',ss.coalesce(mo,0),ss.coalesce(mp,0),ss.coalesce(mq,0),ss.coalesce(mr,0),mt)};cX.$0=function(e,ex,mo,mp,mq,mr,ms,mt){var mu=new jZ;mu.c['dashboardSizingDimension']=ex;mu.c['dashboard']=e;mu.c['minWidth']=mp|0;mu.c['minHeight']=mq|0;mu.c['maxWidth']=mr|0;mu.c['maxHeight']=ms|0;mu.c['dashboardSizingMode']=mo;mu.set_localWork(mt);mu.set_uiBlocking('immediately');mu.invoke()};cX.showDashboardTitle=function(e){var ex=new kn;ex.c['dashboard']=e;ex.set_uiBlocking('immediately');var mo=ex;mo.invoke()};cX.getUrlSubstitutionParameters=function(){var e=new fX;e.c['dashboard']=tsConfig.current_sheet_name;return e.invoke()};cX.isWebZoneUrlValid=function(e){var ex=new gJ;ex.c['urlString']=e;ex.set_uiBlocking('immediately');return ex.invoke()};global.tab.DashboardClientCommands=cX;var cY=function(e){this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik('dashboardGridDialogPresModel'.toString(),null));this.pm={}};cY.__typeName='tab.DashboardGridDialogModel';global.tab.DashboardGridDialogModel=cY;var cZ=function(e){this.$k={};this.$f=null;this.$i=0;this.$g=null;this.$j=null;this.$l=null;this.$h=null;this.$e='';this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.$2$13=null;this.$2$14=null;this.$2$15=null;this.zonesModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.emptyShowMeModel=null;this.autoUpdate=false;this.invalid=false;hv.call(this,e,new ik('dashboardPresModel'.toString(),null));this.invalid=false;this.zonesModel=new mn(this);this.$i=0};cZ.__typeName='tab.DashboardModel';cZ.add_modifiedSheetsChanged=function(e){cZ.$2$1=ss.delegateCombine(cZ.$2$1,e)};cZ.remove_modifiedSheetsChanged=function(e){cZ.$2$1=ss.delegateRemove(cZ.$2$1,e)};cZ.$1=function(e,ex){var mo=e.length;var mp=new Set;for(var mq=0;mq<e.length;mq++){var mr=e[mq];var ms=ex[mr];var mt=[];if(!ms.get_selectionsModel().tupleSelection.isEmpty||ms.get_selectionsModel().get_brushVizForNodeSelection()){ss.arrayAddRange(mt,Q.getApplicableActions(mr,'on-select','highlight'));ss.arrayAddRange(mt,Q.getApplicableActions(mr,'explicitly','highlight'))}if(!ms.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(mt,Q.getApplicableActions(mr,'on-hover','highlight'))}if(!tab.MiscUtil.isNullOrEmpty$1(mt)){var mu=v.$0(mr,mt,ms.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,mp,tab.SetUtilities.getValues(Object).call(null,mu));if(mp.size===mo){return mp}}}return mp};cZ.$0=function(){if(!ss.staticEquals(cZ.$2$1,null)){cZ.$2$1()}};global.tab.DashboardModel=cZ;var da=function(){this.$1=false;hv.call(this,null,null);this.$1=false};da.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=da;var db=function(){ss.makeGenericType(bd,[Object,dc]).call(this)};db.__typeName='tab.DashboardSetGridSizeCmd';global.tab.DashboardSetGridSizeCmd=db;var dc=function(e){this.$$c=null;this.$$c=e};dc.__typeName='tab.DashboardSetGridSizeCmd$Response';global.tab.DashboardSetGridSizeCmd$Response=dc;var dd=function(){ss.makeGenericType(bd,[Object,de]).call(this)};dd.__typeName='tab.DashboardShowGridCmd';global.tab.DashboardShowGridCmd=dd;var de=function(e){this.$$c=null;this.$$c=e};de.__typeName='tab.DashboardShowGridCmd$Response';global.tab.DashboardShowGridCmd$Response=de;var df=function(){ss.makeGenericType(lJ,[Object,dg]).call(this)};df.__typeName='tab.DashboardShowGridWebWrapperCmd';df.get_commandName=function(){return'dashboard-show-grid-web-wrapper'};global.tab.DashboardShowGridWebWrapperCmd=df;var dg=function(e){this.$$c=null;this.$$c=e};dg.__typeName='tab.DashboardShowGridWebWrapperCmd$Response';global.tab.DashboardShowGridWebWrapperCmd$Response=dg;var dh=function(){df.call(this)};dh.__typeName='tab.DashboardShowGridWebWrapperCommand';global.tab.DashboardShowGridWebWrapperCommand=dh;var di=function(){};di.__typeName='tab.DashboardSizeCalculator';di.get_dashboardViewportSize=function(){var e=di.get_dashboardViewportSizeWithTabs();e.h-=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};di.get_dashboardViewportSizeWithTabs=function(){var e=document.getElementById('dashboard-viewport');var ex={w:e.offsetWidth,h:e.offsetHeight};return ex};di.calculateContainerSize=function(e){var ex=(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?di.calculateDashboardSize():e);var mo={w:ex.w,h:ex.h+tabBootstrap.VizLayoutConstants.get_tabsHeight()};return mo};di.calculateDashboardSize=function(){if(tsConfig.is_mobile&&!tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){return tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{var e=di.get_dashboardViewportSize();var ex=tabBootstrap.ViewerBootstrap.get_instance().adjustForMinMaxDashboardSizes(e);return ex}};di.asSizePresModel=function(e){return{w:e.w,h:e.h}};di.asMetric=function(e){return{w:e.w,h:e.h}};di.asRect=function(e){return{l:0,t:0,w:e.w,h:e.h}};global.tab.DashboardSizeCalculator=di;var dj=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;hv.call(this,e,new ik('dashboardSizeControl'.toString(),null))};dj.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=dj;var dk=function(e){this.$2$1=null;hv.call(this,e,new ik('dashboardSizePresModel'.toString(),null))};dk.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=dk;var dl=function(){var e=[];e.push(lo.currentUser());dl.$ctor2.call(this,{},{},e)};dl.__typeName='tab.DataAlert';dl.$ctor2=function(e,ex,mo){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=false;this.$1$9=null;this.$1$10=null;this.$1$11=false;this.$1$12=false;this.$1$13=null;this.$2=e;this.$1=ex;this.set_recipients(mo);this.set_deviceType('default')};dl.$ctor1=function(e){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=false;this.$1$9=null;this.$1$10=null;this.$1$11=false;this.$1$12=false;this.$1$13=null;this.set_selectionCaption(e.fieldName);this.set_measurePresModel(e.dataAlertMeasure);this.set_conditionPresModel({dataAlertConditionOp:e.dataAlertConditionOp,dataAlertThresholdText:e.dataAlertThresholdText,dataType:e.dataType});this.set_threshold(e.dataAlertThresholdText);this.set_alertConditionMet(e.isDataAlertConditionMet);var ex=[];ex.push(lo.currentUser());this.set_recipients(ex);this.set_deviceType('default');this.set_isViewSaveNeeded(e.isViewSaveNeeded)};global.tab.DataAlert=dl;var dm=function(){};dm.__typeName='tab.DataAlertClientCommands';dm.newDataAlert=function(e){(new kC).invoke().fail(function(){e()})};dm.updateDataAlert=function(e){var ex=$.Deferred();if(e.get_thresholdIsValid()){var mo=new lk;mo.c['dataAlertThresholdText']=e.get_conditionPresModel().dataAlertThresholdText;mo.c['dataAlertConditionOp']=e.get_conditionPresModel().dataAlertConditionOp;mo.invoke().done(function(mp){ex.resolve(mp.$$c['isDataAlertConditionMet'])}).fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}else{ex.resolve(e.get_alertConditionMet())}return ex};dm.closeDataAlertDialog=function(){var e=$.Deferred();(new bS).invoke().done(function(ex){e.resolve()}).fail(function(){e.reject();throw new ss.Exception('Failed to close the dialog')});return e};dm.getDataAlertInfo=function(e){var ex=new fF;ex.c['dataAlertSpecSerializedText']=e;ex.set_noExceptionDialog(true);return ex.invoke()};dm.getDataAlertInfoMap=function(e){var ex=$.Deferred();var mo=new fD;mo.c['dataAlertSpecSerializedTextMap']=JSON.stringify(e);mo.set_noExceptionDialog(true);mo.invoke().done(function(mp){ex.resolve(mp.$$c['dataAlertConditionInfoMap'])}).fail(function(){ex.reject()});return ex};dm.evaluateDataAlert=function(e){var ex=$.Deferred();var mo=new ey;mo.c['dataAlertSpecSerializedText']=e;mo.set_noExceptionDialog(true);mo.invoke().done(function(mp){ex.resolve(mp.$$c['alertConditionMet'])}).fail(function(){ex.reject()});return ex};global.tab.DataAlertClientCommands=dm;var dn=function(){};dn.__typeName='tab.DataAlertConditionOperation';dn.supportedOperations=function(){var e=[];e.push('greater-than-equal');e.push('greater-than');e.push('less-than-equal');e.push('less-than');e.push('equals');return e};dn.displayString=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};global.tab.DataAlertConditionOperation=dn;var dp=function(e){this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik('dataAlertDialogPresModel'.toString(),null))};dp.__typeName='tab.DataAlertDialogModel';dp.get_instance=function(){var e=Y.get_instance();return e.modelInstance(dp).call(e)};global.tab.DataAlertDialogModel=dp;var dq=function(){};dq.__typeName='tab.DataAlertNotificationInterval';dq.convertToString=function(e){switch(e){case 0:{return tab.Strings.NotificationIntervalEveryTime}case 2147483647:{return tab.Strings.NotificationIntervalOnlyOnce}case 60:{return tab.Strings.NotificationIntervalHourly}case 1440:{return tab.Strings.NotificationIntervalDaily}case 10080:{return tab.Strings.NotificationIntervalWeekly}default:{return''}}};dq.supportedIntervals=function(){var e=[];e.push(2147483647);e.push(0);e.push(60);e.push(1440);e.push(10080);return e};global.tab.DataAlertNotificationInterval=dq;var dr=function(){};dr.__typeName='tab.DataConnectionCommands';dr.get_serverConnectionTypes=function(){if(ss.isNullOrUndefined(dr.$1)){var e=$.Deferred();dr.$1=e;var ex=dr.$0();ex.done([function(mo){e.resolve(mo)}]).fail([function(mo){dr.$1=null;e.reject(mo)}])}return dr.$1};dr.getCompositeClassName=function(e,ex){var mo=$.Deferred();var mp=new fx;mp.c['dsClass']=e;mp.c['fileExtension']=ex;var mq=mp;mq.invoke().done(function(mr){mo.resolve(mr.$$c['compositeClassName'])}).fail(function(mr){mo.reject(mr)});return mo};dr.acceptConnectionVariables=function(e){var ex=new kb;ex.c['connectionName']=e;ex.set_uiBlocking('immediately');ex.invoke()};dr.editVariableByIndex=function(e,ex,mo,mp,mq,mr){var ms={};ms['connectionName']=e;ms['variableGuid']=ex;ms['valueIndex']=mo;ms['variableValueOperation']=mp;ms['firstValueIndex']=mq;ms['secondValueIndex']=mr;bX.SendCommand(iK.create(co.newCommand({ns:'tabdoc',cmd:'set-variable-value-by-index'},ms),'immediately',null,null))};dr.editVariableByInput=function(e,ex,mo,mp,mq){var mr={};mr['connectionName']=e;mr['variableGuid']=ex;mr['valueIndex']=mo;mr['variableValueOperation']=mp;mr['valueString']=mq;bX.SendCommand(iK.create(co.newCommand({ns:'tabdoc',cmd:'set-variable-value-shim'},mr),'immediately',null,null))};dr.addVariable=function(e,ex){var mo=$.Deferred();var mp={};mp['connectionName']=e;mp['variableGuid']=ex;bX.SendCommand(iK.create(co.newCommand({ns:'tabdoc',cmd:'add-new-variable-value'},mp),'immediately',function(mq){mo.resolve(mq)},function(mq){mo.reject()}));return mo.promise()};dr.deleteVariable=function(e,ex,mo,mp){var mq={};mq['connectionName']=e;mq['variableGuid']=ex;mq['valueIndex']=mo;bX.SendCommand(iK.create(co.newCommand({ns:'tabdoc',cmd:'delete-variable-value'},mq),'immediately',function(mr){mp()},null))};dr.addPublishedDataSourceConnection=function(e,ex,mo){var mp={};mp['datasourceDatabaseName']=e.get_name();mp['repositoryUrl']=e.get_repositoryUrl();var mq=co.newCommand({ns:'tabsrv',cmd:'add-dataserver-data-source'},mp);mq.preserveRootResult=true;bX.SendCommand(new bQ('immediately',null,mq,function(mr){var ms=new S(mr);if(!ss.isNullOrEmptyString(ms.$$c['datasource'])){bX.SendCommand(new H(function(mt){Y.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(mt.modelUpdateContext,ms.$$c['datasource'])}));ex()}},function(mr){mo()}))};dr.selectDataServerDataSourceForProxy=function(e,ex,mo,mp,mq){var mr=new jD;mr.c['datasource']=mo;mr.c['datasourceDatabaseName']=ex.get_name();mr.c['repositoryUrl']=ex.get_repositoryUrl();mr.set_uiBlocking('immediately');var ms=mr;ms.invoke().then(function(mt){mp()},function(mt){mq()})};dr.getDataSourceDataPresModel=function(e,ex,mo){var mp=new fH;mp.set_commandWaiter(mo);mp.c['datasource']=e;mp.c['cacheOnly']=false;mp.c['useNotificationReturn']=true;mp.c['includeFormattedValues']=true;mp.set_uiBlocking('immediately');mp.invoke().fail(function(mq){ex(mq.toString())})};dr.getConnectionTypeGroupPresModel=function(e,ex,mo){var mp={};mp['connectionTypeGroup']=e;var mq=co.newCommand({ns:'tabsrv',cmd:'get-supported-connection-types'},mp);jP.executeServerCommand(mq,'none',function(mr){ex(mr)},mo)};dr.getDSParamsFromPresModelWithConnectionName=function(e,ex){var mo=new fL;mo.c['connectionName']=ex;mo.c['widgetConnectionParams']=dr.sanitizeConnectionParamsPresModel(e);return mo.invoke()};dr.getDSParamsFromPresModelWithConnectionClass=function(e,ex){var mo=new fL;mo.c['connectionClassName']=ex;mo.c['widgetConnectionParams']=dr.sanitizeConnectionParamsPresModel(e);return mo.invoke()};dr.checkConnection=function(e,ex){var mo=new bO;mo.c['connectionConfigName']=e;mo.c['lookupTable']=JSON.stringify(ex);mo.set_uiBlocking('immediately');mo.set_suppressConnectionDialog(true);return mo.invoke()};dr.sanitizeConnectionParamsPresModel=function(e){var ex=_.clone(e);ex.widgetAttrPassword='';ex.widgetAttrMdwPassword='';return ex};dr.$0=function(){var e=$.Deferred();dr.getConnectionTypeGroupPresModel('server',function(ex){var mo=[];var mp=[];ex.connectionTypes.forEach(function(mq){if(mq.valueClassAttr==='sqlproxy'){mq.label=tab.Strings.CreateConnectionPublishedDatasources;mo.push(mq)}else{mp.push(mq)}});e.resolve({item1:mo,item2:mp})},function(ex){e.reject(ex)});return e.promise()};global.tab.DataConnectionCommands=dr;var ds=function(e){this.$2=null;hv.call(this,e,new ik('variablePromptDialog'.toString(),null))};ds.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=ds;var dt=function(){};dt.__typeName='tab.DataConnectionUtils';dt.connectionNameFromFullConnectionName=function(e){var ex='';var mo=new RegExp('\\[(.)*?\\]','g');mo.exec(e);var mp=mo.exec(e);if(ss.isValue(mp)&&mp.length>1){ex=mp[0].substr(1,mp[0].length-2)}return ex};dt.hasPublishedFederatedConnections=function(e){for(var ex=0;ex<e.dataSourceConnectionAttemptInfos.length;ex++){var mo=e.dataSourceConnectionAttemptInfos[ex];if(mo.isPublishedFederated){return true}}return false};dt.getConnectionNames=function(e){var ex=new Array(e.dataSourceConnectionAttemptInfos.length);for(var mo=0;mo<e.dataSourceConnectionAttemptInfos.length;mo++){ex[mo]=e.dataSourceConnectionAttemptInfos[mo].connectionFullName}return ex};dt.stripDirectoryFromPath=function(e){var ex=e.lastIndexOf('\\')+1;if(ex===0){ex=e.lastIndexOf('/')+1}ex=Math.max(0,ex);return e.substring(ex)};dt.isEditConnectionForFilesSupported=function(e){return ss.contains(cr.get_getSupportedFileClasses(),e)};dt.isEditConnectionMultiFileAllowed=function(e){return ss.isNullOrEmptyString(e)||e==='textscan'};dt.isDatabaseClassSupportedInReconnectFlow=function(e){return dt.$0(e,'database')};dt.isTableauServerSupportedInReconnectFlow=function(e){var ex=$.Deferred();cr.get_supportedTableauServerClasses().done(function(mo){ex.resolve(ss.contains(mo,e))});return ex.promise()};dt.isDataTabSupportedForDataSource=function(e){var ex=Y.get_instance().get_workbook().get_dataSchema().getDataSource(e);return tsConfig.is_authoring&&ss.isValue(ex)&&ex.get_isDataTabViewSupported()};dt.$0=function(e,ex){var mo=$.Deferred();cr.getConnectionTypeCategory(e).done(function(mp){mo.resolve(mp===ex)});return mo.promise()};global.tab.DataConnectionUtils=dt;var du=function(e){hv.call(this,e,new ik('promptVariables'.toString(),1))};du.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=du;var dv=function(e,ex){this.$3=null;this.$2=null;hv.call(this,e,new ik(ex.toString(),null))};dv.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=dv;var dw=function(e){hv.call(this,e,new ik('variableValues'.toString(),1))};dw.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=dw;var dx=function(e,ex){hv.call(this,e,new ik(ex.toString(),null))};dx.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=dx;var dy=function(e){this.$2=null;hv.call(this,e,new ik('dataDictionary'.toString(),null))};dy.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=dy;var dz=function(e){this.$3=null;this.$2$1=null;hv.call(this,e,new ik('dataHighlighter'.toString(),null))};dz.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=dz;var dA=function(e){this.$1=null;this.$4=null;this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;hv.call(this,e,new ik('schemaViewer'.toString(),null))};dA.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=dA;var dB=function(){this.$2$1=null;hv.call(this,null,new ik('doc:data-schema-selection-event'.toString(),null))};dB.__typeName='tab.DataSchemaSelectionModel';global.tab.DataSchemaSelectionModel=dB;var dC=function(e){this.$2$1=null;this.$2$2=null;this.numRows=0;this.isEmpty=false;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=null;hv.call(this,e,new ik('',0));this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new dy(this)};dC.__typeName='tab.DataSourceDataModel';global.tab.DataSourceDataModel=dC;var dD=function(){};dD.__typeName='tab.DataSourceFieldSection';global.tab.DataSourceFieldSection=dD;var dE=function(e,ex){this.$5=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.baseColumnsModel=null;this.$2$4=0;hv.call(this,e,new ik(ex,0));this.baseColumnsModel=new eR('fieldList',this)};dE.__typeName='tab.DataSourceModel';dE.splitGlobalFieldName=function(e){return dE.$3(e).split('].[')};dE.$3=function(e){var ex=e;if(ex.length>=2&&ex.charCodeAt(0)===91&&ex.charCodeAt(ex.length-1)===93){return ex.substr(1,ex.length-2)}return ex};dE.$1=function(e,ex,mo){dE.$2(e.topLevelFields,ex,mo);dE.$0(0,e.dimensionsFieldList,ex,mo);dE.$0(1,e.measuresFieldList,ex,mo);dE.$0(2,e.setsFieldList,ex,mo);dE.$0(3,e.parametersFieldList,ex,mo)};dE.$2=function(e,ex,mo){if(ss.isValue(e)){dE.$0(5,e.dimensionsFieldList,ex,mo);dE.$0(6,e.measuresFieldList,ex,mo);dE.$0(4,e.fieldContainerList,ex,mo)}};dE.$0=function(e,ex,mo,mp){if(ss.isValue(ex)){var mq=mo[e];mo[e]=mq.concat.apply(mq,ex);mp()}};global.tab.DataSourceModel=dE;var dF=function(e){this.$1=null;hv.call(this,e,new ik('schemaViewerDataSources'.toString(),null));this.$1={}};dF.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=dF;var dG=function(){};dG.__typeName='tab.DeepCompareUtils';dG.$2=function(){return tab.Logger.lazyGetLogger(dG)};dG.$0=function(e,ex,mo,mp){var mq=e;var mr=ex;if(mq.length!==mr.length){return false}for(var ms=0;ms<mq.length;ms++){if(!dG.$1(mq[ms],mr[ms],mo,mp)){return false}}return true};dG.$1=function(e,ex,mo,mp){if(!ss.referenceEquals(ss.getInstanceType(e),ss.getInstanceType(ex))){return false}else if(_.isNumber(e)){if(Math.abs(e-ex)>mo){return false}}else if(_.isObject(e)){if(!dG.deepCompare(e,ex,mo,mp)){return false}}else if(_.isArray(e)){return dG.$0(e,ex,mo,mp)}else if(!_.isEqual(e,ex)){return false}return true};dG.deepCompare=function(e,ex,mo,mp){if(ss.count(Object.keys(e))!==ss.count(Object.keys(ex))){}var mq=true;var mr=new ss.ObjectEnumerator(e);try{while(mr.moveNext()){var ms=mr.current();if(ms.key==='geoTable'){continue}if(!ss.keyExists(ex,ms.key)){return false}var mt=ms.value;var mu=ex[ms.key];mq=mq&&dG.$1(mt,mu,mo,mp+'.'+ms.key)}}finally{mr.dispose()}return mq};global.tab.DeepCompareUtils=dG;var dH=function(){};dH.__typeName='tab.DefaultCommandDispatcher';dH.get_instance=function(){dH.$0=dH.$0||new dH;return dH.$0};global.tab.DefaultCommandDispatcher=dH;var dI=function(e,ex){this.$5=null;this.$6=null;this.$5=e;this.$6=ex};dI.__typeName='tab.DefaultSessionErrorHandler';dI.$1=function(e){var ex={error:null,success:null,type:'POST',url:e+'/setignore/sessions'};var mo=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);ex.data=mo;ex.async=false;dI.$0(ex,null)};dI.$0=function(e,ex){return mj.helper(e,ex)};global.tab.DefaultSessionErrorHandler=dI;var dJ=function(){this.$1=false;this.$0=false};dJ.__typeName='tab.DeferLayoutImpl';dJ.get_instance=function(){if(ss.isNullOrUndefined(dJ.$0)){dJ.$0=new dJ}return dJ.$0};global.tab.DeferLayoutImpl=dJ;var dK=function(e){this.$6=null;this.$7=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$6=e};dK.__typeName='tab.DeferredConnectionsCommandHandler';dK.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};dK.constructEnsureLayoutForSheetCommand=function(){var e=kf.createSwitchSheetsCommand(tsConfig.current_sheet_name);e.commandParams['forceConnectionAttempt']=true;return iK.create(e,'immediately',null,null)};dK.$0=function(e){var ex={};ex['exception']='DataSourceException';ex['name']=e.datasourceCaption;ex['message']=e.exceptionMessage;ex['type']=e.exceptionType;ex['authoring']=tsConfig.is_authoring;ex['attributes']=e.exceptionAttrs;var mo=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',BrowserSupport.BrowserSupport.GetOrigin(document.location),tsConfig.language);mo=ss.formatString('{0}path={1}',mo,encodeURIComponent((tsConfig.is_authoring?lF.createForCurrentWindowLocation(null).get_absoluteUri():tsConfig.requestURI.toString())));mo=ss.formatString('{0}&attributes={1}',mo,encodeURIComponent(JSON.stringify(ex)));return mo};dK.isBadPasswordError=function(e){e=e.toLowerCase();var ex=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return ex};dK.isBadOAuthCredentialsError=function(e){return ss.compareStrings(e,'badoauthcredentials',true)===0};dK.$1=function(){return tsConfig.is_authoring&&tab.MiscUtil.shouldShowDataTab()};dK.$2=function(e){var ex=$.Deferred();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.exceptionAttrs)){ex.resolve(false)}else{var mo=e.exceptionAttrs['class'];dt.isDatabaseClassSupportedInReconnectFlow(mo).done(function(mp){ex.resolve(dK.$1()&&dt.isDataTabSupportedForDataSource(e.datasource)&&mp)})}return ex.promise()};dK.$3=function(e,ex,mo){var mp=$.Deferred();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.exceptionAttrs)||!ex||!mo){mp.resolve(false)}else{var mq=e.exceptionAttrs['class'];dt.isTableauServerSupportedInReconnectFlow(mq).done(function(mr){mp.resolve(mr)})}return mp.promise()};global.tab.DeferredConnectionsCommandHandler=dK;var dL=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};dL.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=dL;var dM=function(){this.$0=null;this.exceptionHandler=null};dM.__typeName='tab.DeferredModelEventHandler';global.tab.DeferredModelEventHandler=dM;var dN=function(e){this.$1=null;this.$2=null;this.$2$1=null;hv.call(this,e,new ik('deviceLayoutInfoItem'.toString(),null));this.$1=[];this.$2=new j(new i(this))};dN.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=dN;var dO=function(){};dO.__typeName='tab.DialogPlugins';dO.$0=function(){if(tab.FeatureFlags.isEnabled('DataToTheWebCustomSql')){dO.addHybridDialog('@tableau/custom-sql-dialog','custom-sql-dialog','doc:launch-custom-sql-dialog-event',null)}if(tab.FeatureFlags.isEnabled('DataToTheWebInitialSql')){dO.addHybridDialog('@tableau/initial-sql-dialog','initial-sql-dialog','doc:launch-initial-sql-dialog-event',null)}};dO.getDialogHandlerCreator=function(e,ex){var mo=null;return function(mp){if(ss.isNullOrUndefined(mo)){mo=new ie(mp,e,document.body,ex)}return mo}};dO.addHybridDialogIfFeatureEnabled=function(e,ex,mo,mp,mq){if(tab.FeatureFlags.isEnabled(e)){dO.addHybridDialog(ex,mo,mp,mq)}};dO.addHybridDialog=function(e,ex,mo,mp){var mq=hz.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;for(var mr=0;mr<dO.$3.length;mr++){var ms=dO.$3[mr];mq.addDependency(ms)}hD.registerHandlerFromJsModule(e,mo,dO.getDialogHandlerCreator(mo,mp));return mq};dO.$2=function(){var e=[];e.push(id.dialogApiContract);e.push(id.menuApiContract);e.push(id.hybridWidgetsContract);return e};dO.$1=function(e,ex){if(ss.keyExists(dO.$4,e)){return dO.$4[e]}var mo=hz.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;dO.$4[e]=mo;return mo};global.tab.DialogPlugins=dO;var dP=function(e){this.$3$1=null;this.$3$2=null;le.call(this,e,new ik('differenceTableCalcPresModel'.toString(),null));this.set_referenceModel(new kQ(this))};dP.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=dP;var dQ=function(){ss.makeGenericType(bd,[Object,dR]).call(this)};dQ.__typeName='tab.DisplayDataAlertCmd';global.tab.DisplayDataAlertCmd=dQ;var dR=function(e){this.$$c=null;this.$$c=e};dR.__typeName='tab.DisplayDataAlertCmd$Response';global.tab.DisplayDataAlertCmd$Response=dR;var dS=function(){ss.makeGenericType(bd,[Object,dT]).call(this)};dS.__typeName='tab.DoubleClickRegionNoReturnServerCmd';global.tab.DoubleClickRegionNoReturnServerCmd=dS;var dT=function(e){this.$$c=null;this.$$c=e};dT.__typeName='tab.DoubleClickRegionNoReturnServerCmd$Response';global.tab.DoubleClickRegionNoReturnServerCmd$Response=dT;var dU=function(){this.woffLocation=null;fm.call(this)};dU.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=dU;var dV=function(){};dV.__typeName='tab.DownloadableFontPropertiesExtensions';dV.toDownloadableFontProperties=function(e,ex){var mo=new dU;mo.set_fontFamily(e.get_fontFamily());mo.set_style(e.get_style());mo.set_weight(e.get_weight());mo.woffLocation=ex;return mo};global.tab.DownloadableFontPropertiesExtensions=dV;var dW=function(){ss.makeGenericType(lJ,[Object,dX]).call(this)};dW.__typeName='tab.DownloadAsVersionCmd';dW.get_commandName=function(){return'download-as-version'};global.tab.DownloadAsVersionCmd=dW;var dX=function(e){this.$$c=null;this.$$c=e};dX.__typeName='tab.DownloadAsVersionCmd$Response';global.tab.DownloadAsVersionCmd$Response=dX;var dY=function(){dW.call(this)};dY.__typeName='tab.DownloadAsVersionCommand';global.tab.DownloadAsVersionCommand=dY;var dZ=function(){ss.makeGenericType(lJ,[Object,ea]).call(this)};dZ.__typeName='tab.DownloadWorkbookCmd';dZ.get_commandName=function(){return'download-workbook'};global.tab.DownloadWorkbookCmd=dZ;var ea=function(e){this.$$c=null;this.$$c=e};ea.__typeName='tab.DownloadWorkbookCmd$Response';global.tab.DownloadWorkbookCmd$Response=ea;var eb=function(){};eb.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=eb;var ec=function(e){this.$1=null;eO.call(this,e)};ec.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=ec;var ed=function(){};ed.__typeName='tab.DrillPathModelFactory';ed.create=function(e,ex,mo){var mp=ed.$0(e,ex,mo);var mq=(ss.keyExists(mo.get_drillPaths(),e.fn)?mo.get_drillPaths()[e.fn].asDrillPath():new ec(ex));mq.update(e,mp);return mq};ed.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.columnList)){return mp}for(var mq=0;mq<e.columnList.length;mq++){var mr=e.columnList[mq];mp.push(eK.create(mr,ex,mo))}return mp};global.tab.DrillPathModelFactory=ed;var ee=function(){ss.makeGenericType(bd,[Object,ef]).call(this)};ee.__typeName='tab.DropOnDashboardCmd';global.tab.DropOnDashboardCmd=ee;var ef=function(e){this.$$c=null;this.$$c=e};ef.__typeName='tab.DropOnDashboardCmd$Response';global.tab.DropOnDashboardCmd$Response=ef;var eg=function(){ss.makeGenericType(bd,[Object,eh]).call(this)};eg.__typeName='tab.DropOnSchemaDrillPathCmd';global.tab.DropOnSchemaDrillPathCmd=eg;var eh=function(e){this.$$c=null;this.$$c=e};eh.__typeName='tab.DropOnSchemaDrillPathCmd$Response';global.tab.DropOnSchemaDrillPathCmd$Response=eh;var ei=function(){ss.makeGenericType(bd,[Object,ej]).call(this)};ei.__typeName='tab.DropOnSchemaFieldCmd';global.tab.DropOnSchemaFieldCmd=ei;var ej=function(e){this.$$c=null;this.$$c=e};ej.__typeName='tab.DropOnSchemaFieldCmd$Response';global.tab.DropOnSchemaFieldCmd$Response=ej;var ek=function(){ss.makeGenericType(bd,[Object,el]).call(this)};ek.__typeName='tab.DropOnSchemaSectionCmd';global.tab.DropOnSchemaSectionCmd=ek;var el=function(e){this.$$c=null;this.$$c=e};el.__typeName='tab.DropOnSchemaSectionCmd$Response';global.tab.DropOnSchemaSectionCmd$Response=el;var em=function(e){hv.call(this,e,new ik('',0))};em.__typeName='tab.DSColumnInfoModel';global.tab.DSColumnInfoModel=em;var en=function(e,ex){this.$2$1=null;hv.call(this,e,new ik(ex.toString(),null))};en.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=en;var eo=function(e){this.$0=null;this.$0=e.slice(0)};eo.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=eo;var ep=function(){ss.makeGenericType(bd,[Object,eq]).call(this)};ep.__typeName='tab.EstablishCloudConnectionCmd';global.tab.EstablishCloudConnectionCmd=ep;var eq=function(e){this.$$c=null;this.$$c=e};eq.__typeName='tab.EstablishCloudConnectionCmd$Response';global.tab.EstablishCloudConnectionCmd$Response=eq;var er=function(){ss.makeGenericType(bd,[Object,es]).call(this)};er.__typeName='tab.EstablishCloudConnectionNoUndoCmd';global.tab.EstablishCloudConnectionNoUndoCmd=er;var es=function(e){this.$$c=null;this.$$c=e};es.__typeName='tab.EstablishCloudConnectionNoUndoCmd$Response';global.tab.EstablishCloudConnectionNoUndoCmd$Response=es;var et=function(){ss.makeGenericType(bd,[Object,eu]).call(this)};et.__typeName='tab.EstablishConnectionCmd';global.tab.EstablishConnectionCmd=et;var eu=function(e){this.$$c=null;this.$$c=e};eu.__typeName='tab.EstablishConnectionCmd$Response';global.tab.EstablishConnectionCmd$Response=eu;var ev=function(){ss.makeGenericType(bd,[Object,ew]).call(this)};ev.__typeName='tab.EstablishConnectionNoUndoCmd';global.tab.EstablishConnectionNoUndoCmd=ev;var ew=function(e){this.$$c=null;this.$$c=e};ew.__typeName='tab.EstablishConnectionNoUndoCmd$Response';global.tab.EstablishConnectionNoUndoCmd$Response=ew;var ey=function(){ss.makeGenericType(bd,[Object,ez]).call(this)};ey.__typeName='tab.EvaluateDataAlertCmd';global.tab.EvaluateDataAlertCmd=ey;var ez=function(e){this.$$c=null;this.$$c=e};ez.__typeName='tab.EvaluateDataAlertCmd$Response';global.tab.EvaluateDataAlertCmd$Response=ez;var eA=function(){ss.makeGenericType(bd,[Object,eB]).call(this)};eA.__typeName='tab.ExplainSelectedMarksCmd';global.tab.ExplainSelectedMarksCmd=eA;var eB=function(e){this.$$c=null;this.$$c=e};eB.__typeName='tab.ExplainSelectedMarksCmd$Response';global.tab.ExplainSelectedMarksCmd$Response=eB;var eC=function(){};eC.__typeName='tab.ExportServerCommands';eC.exportImage=function(e,ex,mo,mp,mq){var mr={};if(ss.isValue(e)){mr['sheet']=e}mr['storyPointId']=ex;mr['scrollOffsetSheets']=JSON.stringify(mp);var ms=mq.length;var mt=new Array(ms);for(var mu=0;mu<ms;mu++){var mv={};mv.x=ss.round(mq[mu].x);mv.y=ss.round(mq[mu].y);mt[mu]=mv}mr['scrollOffsetPoints']=JSON.stringify(mt);var mw;if(tab.FeatureFlags.isEnabled('ImageExportRefactor')){mw=co.newCommand({ns:'tabsrv',cmd:'png-export-server-new'},mr)}else{mw=co.newCommand({ns:'tabsrv',cmd:'png-export-server'},mr)}jP.executeServerCommand(mw,'immediately',function(mx){var my=mx;var mz=bX.get().legacySession;mz.fileDownloadHelper.openDownload(mz.formatSessionTempfileReference(my.tempfileKey,true,true),mo)},null)};eC.exportPowerPoint=function(){var e={};e['exportOriginUrl']=eC.$0();var ex=co.newCommand({ns:'tabsrv',cmd:'power-point-export-server'},e);var mo=tableau.types.ExportDialogType['ExportPowerPoint'];jP.executeServerCommand(ex,'immediately',function(mp){var mq=mp;var mr=bX.get().legacySession;mr.fileDownloadHelper.openDownload(mr.formatSessionTempfileReference(mq.tempfileKey,true,true),mo)},null)};eC.$0=function(){var e=tsConfig.external_workbook_url;if(ss.isNullOrEmptyString(e)){e=tsConfig.requestURI;if(!ss.isNullOrEmptyString(e)){e=e.split('?')[0]}}return e};global.tab.ExportServerCommands=eC;var eD=function(){};eD.__typeName='tab.ExtensionClientCommands';eD.showChooseExtensionDialog=function(e){var ex=new jF;ex.c['zoneId']=e|0;var mo=ex;mo.invoke()};eD.showPermissionsPromptDialog=function(e){var ex=new gU;ex.c['extensionRegistrationKeyPresModelList']=e;var mo=ex;mo.invoke()};global.tab.ExtensionClientCommands=eD;var eE=function(){this.$0={};this.$1$1=null;this.$1$2=null};eE.__typeName='tab.ExtensionPermissionsCache';global.tab.ExtensionPermissionsCache=eE;var eF=function(){};eF.__typeName='tab.ExtensionPermissionsProxy';eF.$0=function(){return Y.get_instance().get_extensionPermissionsCache()};global.tab.ExtensionPermissionsProxy=eF;var eG=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('addInZone'.toString(),null));this.$1=e.get_zone()};eG.__typeName='tab.ExtensionZoneModel';global.tab.ExtensionZoneModel=eG;var eH=function(){};eH.__typeName='tab.ExtraHtmlMarkupRemover';eH.stripOutMarkup=function(e){if(ss.isNullOrEmptyString(e)){return e}var ex=[];ex.push(new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi'));ex.push(new RegExp('<html.*?>.+?</html.*?>','gi'));var mo=ex;for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];e=e.replace(mq,'')}return e};global.tab.ExtraHtmlMarkupRemover=eH;var eI=function(){};eI.__typeName='tab.FailureHandler';eI.$2=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var ex=[];var mo=e[0].url;var mp=e[0].userAgent;for(var mq=0;mq<e.length;mq++){var mr=e[mq];ex.push(eI.packageStackTraceData(mr))}bX.get().legacySession.informServerAboutErrors(mo,mp,ex)}};eI.packageStackTraceData=function(e){var ex=[];var mo=eI.$1(e);for(var mp=0;mp<e.locations.length;mp++){var mq=e.locations[mp];if(ss.isNullOrUndefined(mq.url)&&ss.isNullOrUndefined(mq.lineNo)&&ss.isNullOrUndefined(mq.functionName)){continue}var mr=new ss.StringBuilder;var ms=eI.$3(mq.url);mr.append(ms+':'+mq.lineNo+','+mq.columnNo+' '+mq.functionName);if(ss.isValue(mq.context)&&mq.context.length>0){for(var mt=0;mt<mq.context.length;mt++){var mu=mq.context[mt];var mv=mu;if(mu.length>120){if(ss.isValue(mq.functionName)&&mu.indexOf(mq.functionName)>0){var mw=mu.indexOf(mq.functionName);var mx=Math.max(0,mw-60);var my=Math.min(mx+120,mu.length-1);mv=mu.substring(mx,my)}else{mv=mu.substr(0,120)}}mr.append('    '+mv.trim())}}mo-=mr.length;if(mo<='...truncated'.length){ex.push('...truncated');break}ex.push(mr.toString())}var mz={name:e.name,message:e.message,errorMode:e.traceMode.toString(),stack:ex};return mz};eI.dispose=function(){eI.$2();window.clearInterval(eI.$7);eI.$7=-1};eI.$0=function(e,ex){var mo=tsConfig.clientErrorReportingMaxRequestSizeBytes;return mo-ss.coalesce(e,'').length-ss.coalesce(ex,'').length-160};eI.$1=function(e){var ex=eI.$0(e.url,e.userAgent);return ex-(e.message||'').toString().length-ss.coalesce(e.name,'').length-20};eI.$3=function(e){var ex='/javascripts/';var mo=e.indexOf(ex);if(mo>0){e=e.substr(mo+ex.length)}return e};global.tab.FailureHandler=eI;var eJ=function(e){this.$3$1=false;eO.call(this,e)};eJ.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=eJ;var eK=function(){};eK.__typeName='tab.FieldColumnModelFactory';eK.create=function(e,ex,mo){var mp=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asColumn():new eJ(ex));mp.update(e);return mp};global.tab.FieldColumnModelFactory=eK;var eL=function(e){this.$1=null;eO.call(this,e)};eL.__typeName='tab.FieldContainerModel';global.tab.FieldContainerModel=eL;var eM=function(){};eM.__typeName='tab.FieldContainerModelFactory';eM.create=function(e,ex,mo){var mp=eM.$0(e,ex,mo);var mq=(ss.keyExists(mo.get_fieldContainers(),e.fn)?mo.get_fieldContainers()[e.fn].asFieldContainer():new eL(ex));mq.update(e,mp);return mq};eM.$0=function(e,ex,mo){var mp=[];if(ss.isValue(e.dimensionsFieldList)){for(var mq=0;mq<e.dimensionsFieldList.length;mq++){var mr=e.dimensionsFieldList[mq];if(mr.type==='column'){mp.push(eK.create(mr,ex,mo))}}}if(ss.isValue(e.measuresFieldList)){for(var ms=0;ms<e.measuresFieldList.length;ms++){var mt=e.measuresFieldList[ms];if(mt.type==='column'){mp.push(eK.create(mt,ex,mo))}}}return mp};global.tab.FieldContainerModelFactory=eM;var eN=function(){};eN.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=eN;var eO=function(e){hv.call(this,e,new ik('field'.toString(),null))};eO.__typeName='tab.FieldModel';eO.getField=function(e,ex,mo){if(ss.isNullOrUndefined(e)||e.length<=0){return null}for(var mp=0;mp<e.length;mp++){var mq=e[mp];switch(mo){case'localName':{if(ss.referenceEquals(mq.get_localName(),ex)){return mq}break}case'globalName':{if(ss.referenceEquals(mq.get_globalName(),ex)){return mq}break}case'qualifiedLocalName':{if(ss.referenceEquals(mq.get_qualifiedLocalName(),ex)){return mq}break}case'description':{if(ss.referenceEquals(mq.get_description(),ex)){return mq}break}case'userCaption':{if(ss.referenceEquals(mq.get_userCaption(),ex)){return mq}break}case'displayName':{if(ss.referenceEquals(mq.get_displayName(),ex)){return mq}break}default:{return null}}}return null};global.tab.FieldModel=eO;var eP=function(e,ex,mo,mp,mq){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.set_fields(e||{});this.set_tables(ex||{});this.set_folders(mo||{});this.set_drillPaths(mp||{});this.set_fieldContainers(mq||{})};eP.__typeName='tab.FieldModelCache';global.tab.FieldModelCache=eP;var eQ=function(){};eQ.__typeName='tab.FieldModelFactory';eQ.create=function(e,ex,mo){e.fieldIconRes=e.fieldIconRes||'';switch(e.type){case'field-container':{return eM.create(e,ex,mo)}case'field-folder-new':{return fh.create(e,ex,mo)}case'drill-path':{return ed.create(e,ex,mo)}case'relational-table':{return iJ.create(e,ex,mo)}case'group':{return gf.create(e,ex,mo)}case'column':{return eK.create(e,ex,mo)}case'display-folder':{return cO.create(e,ex,mo)}case'structured-measure':{return kK.create(e,ex,mo)}case'standard-dimension':{return cS.create(e,ex,mo)}case'attribute-dimension':{return cK.create(e,ex,mo)}default:{return null}}};global.tab.FieldModelFactory=eQ;var eR=function(e,ex){this.$g=null;this.$n=null;this.$m=null;this.$k=null;this.$i=null;this.$l=null;this.$h=null;this.$j=null;this.fieldsChanged=null;this.rootFieldsNew=null;hv.call(this,ex,new ik(e,0));this.$j=ex;this.$d()};eR.__typeName='tab.FieldsModel';global.tab.FieldsModel=eR;var eS=function(){};eS.__typeName='tab.FieldValueType';global.tab.FieldValueType=eS;var eT=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};eT.__typeName='tab.FifoCache';global.tab.FifoCache=eT;var eU=function(e,ex){this.$0=null;this.$1$1=null;this.$0=e;this.set_corsProxyUrlPrefix(ex)};eU.__typeName='tab.FileConnectionInfo';global.tab.FileConnectionInfo=eU;var eV=function(e,ex){this.$3=null;this.$4=null;this.$3=e;this.$4=ex};eV.__typeName='tab.FileDownloadHelper';global.tab.FileDownloadHelper=eV;var eW=function(){this.$1$1=null};eW.__typeName='tab.FileUploadTelemetry';eW.getInstance=function(){if(ss.isNullOrUndefined(eW.$1)){eW.$1=new eW}return eW.$1};global.tab.FileUploadTelemetry=eW;var eX=function(){};eX.__typeName='tab.FileUploadTelemetry$AddReplaceType';global.tab.FileUploadTelemetry$AddReplaceType=eX;var eY=function(){};eY.__typeName='tab.FileUploadTelemetry$ErrorType';global.tab.FileUploadTelemetry$ErrorType=eY;var eZ=function(){};eZ.__typeName='tab.FileUploadTelemetry$FileUploadOrigin';global.tab.FileUploadTelemetry$FileUploadOrigin=eZ;var fa=function(){};fa.__typeName='tab.FileUploadTelemetry$FileUploadReason';global.tab.FileUploadTelemetry$FileUploadReason=fa;var fb=function(){};fb.__typeName='tab.FileUploadTelemetry$RetryType';global.tab.FileUploadTelemetry$RetryType=fb;var fc=function(){};fc.__typeName='tab.FilterClientCommands';fc.setQuantitativeFilterRange=function(e,ex,mo,mp,mq){var mr=co.newCommand({ns:'tabdoc',cmd:'range-filter'},{});co.addVisualIdToCommand(mr.commandParams,e);mr.commandParams['globalFieldName']=ex;if(ss.isValue(mo)){mr.commandParams['filterRangeMin']=mo.toString()}if(ss.isValue(mp)){mr.commandParams['filterRangeMax']=mp.toString()}mr.commandParams['included']=mq.toString();jP.executeServerCommand(mr,'immediately',null,null)};fc.setCategoricalFilterValues=function(e,ex,mo,mp,mq){var mr={};co.addVisualIdToCommand(mr,e);mr['globalFieldName']=ex;mr['filterValues']=JSON.stringify(mp||[]);mr['filterUpdateType']=mo.toString();mr['heuristicCommandReinterpretation']=mq;jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'categorical-filter'},mr),'immediately',null,null)};fc.setCategoricalFilterValuesByIndex=function(e,ex,mo,mp){if(!ss.isValue(mo)){mo='filter-replace'}if(!ss.isValue(mp)){mp=[]}var mq={};co.addVisualIdToCommand(mq,e);mq['globalFieldName']=ex;mq['filterIndices']=JSON.stringify(mp);mq['filterUpdateType']=mo.toString();jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'categorical-filter-by-index'},mq),'immediately',null,null)};fc.modifyCategoricalFilterValues=function(e,ex,mo,mp,mq){if((!ss.isValue(mo)||mo.length===0)&&(!ss.isValue(mp)||mp.length===0)){return}var mr={};co.addVisualIdToCommand(mr,e);mr['globalFieldName']=ex;if(ss.isValue(mo)&&mo.length>0){mr['filterAdd']=JSON.stringify(mo)}if(ss.isValue(mp)&&mp.length>0){mr['filterRemove']=JSON.stringify(mp)}mr['filterUpdateType']='filter-delta'.toString();if(mq){mr['filterUpdateQualifierType']='filter-update-custom-domain'.toString()}jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'categorical-filter'},mr),'immediately',null,null)};fc.modifyCategoricalFilterValuesByIndex=function(e,ex,mo,mp){if((!ss.isValue(mo)||mo.length===0)&&(!ss.isValue(mp)||mp.length===0)){return}var mq={};co.addVisualIdToCommand(mq,e);mq['globalFieldName']=ex;if(ss.isValue(mo)){mq['filterAddIndices']=JSON.stringify(mo)}if(ss.isValue(mp)){mq['filterRemoveIndices']=JSON.stringify(mp)}mq['filterUpdateType']='filter-delta'.toString();jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'categorical-filter-by-index'},mq),'immediately',null,null)};fc.setCategoricalQuickFilterMode=function(e,ex,mo){var mp={};co.addVisualIdToCommand(mp,e);mp['categoricalMode']=mo.toString();mp['fn']=ex;jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'categorical-quick-filter-mode'},mp),'immediately',null,null)};fc.setCategoricalQuickFilterDomain=function(e,ex,mo){var mp={};co.addVisualIdToCommand(mp,e);mp['filterDomainType']=mo.toString();mp['fn']=ex;jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'domain-quick-filter'},mp),'immediately',null,null)};fc.setPatternFilterState=function(e,ex,mo){var mp={};co.addVisualIdToCommand(mp,e);mp['patternFilterString']=mo;mp['fn']=ex;jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'categorical-quick-filter-pattern'},mp),'immediately',null,null)};fc.addManualFilterItems=function(e,ex,mo,mp){var mq={charsetId:0,name:''};var mr={dataType:'cstring',stringCollation:mq};var ms=mo['tuples'];var mt=[];for(var mu=0;mu<ms.length;mu++){var mv=ms[mu];var mw=mv['d'];if(ss.isNullOrUndefined(mw)){var mx=mv['t'];if(mx.length>0){mw=mx[0].v}}mt.push(mw)}mr.dataValues=mt;var my={};co.addVisualIdToCommand(my,e);my['dataColumn']=JSON.stringify(mr);my['fn']=ex;my['manualAdd']=mp;jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'add-manual-items-to-filter'},my),'immediately',null,null)};fc.levelDrill=function(e,ex,mo,mp){var mq={};co.addVisualIdToCommand(mq,e);mq['boolAggregateDrillUp']=mp.toString();mq['shelfType']=mo.toString();mq['position']=ex.toString();jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'level-drill-up-down'},mq),'immediately',null,null)};fc.updateCategoricalFilter=function(e){if(!Y.get_instance().get_isLocalRenderMode()){return}var ex=function(){return true};var mo=function(mp,mq){var mr=lz.lookupAlias(mq,mp,Y.get_instance().get_dataDictionary());return!e.includesValue(mr)};fc.$6(e.get_filterField(),e.get_targetSheets(),ex,mo,true)};fc.updateQuantitativeFilter=function(e){if(!Y.get_instance().get_isLocalRenderMode()){return}var ex=function(){var mp=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var mq=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return mp&&mq};var mo=function(mp,mq){var mr=lz.lookupRawDataValue(mq,mp,Y.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(mr)||mr==='%null%'){return false}if(mp.get_dataType()==='date'||mp.get_dataType()==='datetime'){var ms=tab.DateUtil.parsePresModelDate(mr);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(ms))}else{return!e.valueInRange(parseFloat(mr))}};fc.$6(e.get_filterField(),e.get_targetSheets(),ex,mo,false)};fc.applyFilter=function(e,ex,mo){var mp=e.get_vizDataModel();var mq=mp.getVizDataField(ex);var mr=function(ms){return mo(mq,ms)};return mq.tupleIdsThatPass(mr)};fc.doRelativeDateQuickFilter=function(e,ex,mo,mp,mq){var mr=fc.$5(e,ex,mo,mp,mq);jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'relative-date-filter'},mr),'immediately',null,null)};fc.doLevelHierarchialFilter=function(e,ex,mo,mp,mq){var mr=fc.$2(e,ex,mo,mp,mq);jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},mr),'immediately',null,null)};fc.doMemberHierarchialFilter=function(e,ex,mo,mp,mq){var mr=fc.$3(e,ex,mo,mp,mq);jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},mr),'immediately',null,null)};fc.doRangeHierarchialFilter=function(e,ex,mo,mp,mq){var mr=fc.$4(e,ex,mo,mp,mq);jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},mr),'immediately',null,null)};fc.resetQuantitativeFilter=function(e,ex){for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=hy.getVisualModel(Y.get_instance(),mp);if(ss.isNullOrUndefined(mq)){continue}if(fc.$0(e,mp)){var mr=[];mq.setFilteredTuples(e,mr);mq.setHiddenTuples(e,mr)}lx.validateVisualModel(mq)}};fc.$5=function(e,ex,mo,mp,mq){var mr={};co.addVisualIdToCommand(mr,e);mr['globalFieldName']=ex;mr['datePeriodType']=mo;mr['dateRangeType']=mp;if(mp==='lastn'||mp==='nextn'){mr['rangeN']=mq}return mr};fc.$2=function(e,ex,mo,mp,mq){var mr={};co.addVisualIdToCommand(mr,e);var ms={};ms['filterLevelAdd']=mo;ms['filterLevelRemove']=mp;mr['globalFieldName']=ex;mr['filterOptions']=ms;mr['filterUpdateType']=mq;return mr};fc.$3=function(e,ex,mo,mp,mq){var mr={};co.addVisualIdToCommand(mr,e);var ms={};ms['filterAdd']=mo;ms['filterRemove']=mp;mr['globalFieldName']=ex;mr['filterOptions']=ms;mr['filterUpdateType']=mq;return mr};fc.$4=function(e,ex,mo,mp,mq){var mr={};co.addVisualIdToCommand(mr,e);var ms={};ms['filterRangeAdd']=mo;ms['filterRangeRemove']=mp;mr['globalFieldName']=ex;mr['filterOptions']=ms;mr['filterUpdateType']=mq;return mr};fc.$0=function(e,ex){var mo=hy.getVisualModel(Y.get_instance(),ex);return fc.$1(mo,e)};fc.$1=function(e,ex){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(ex)}return false};fc.$6=function(e,ex,mo,mp,mq){var mr=new H(function(ms){for(var mt=0;mt<ex.length;mt++){var mu=ex[mt];var mv=hy.getVisualModel(Y.get_instance(),mu);if(ss.isNullOrUndefined(mv)){continue}var mw=fc.$1(mv,e);if(!mw||!mo()||ss.isNullOrUndefined(mv.get_vizDataModel().getVizDataField(e))){if(!mq){hy.setVisualValidAndUpToDateStateOnModel(ms,mv,false)}}else{var mx=[];mx=fc.applyFilter(mv,e,mp);mv.setFilteredTuples(e,mx);if(!mq){mv.setHiddenTuples(e,mx)}hy.setVisualValidAndUpToDateStateOnModel(ms,mv,true)}}});mr.set_commandName((mq?{ns:'tabdoc',cmd:'categorical-filter'}.cmd:{ns:'tabdoc',cmd:'range-filter'}.cmd));bX.SendCommand(mr)};global.tab.FilterClientCommands=fc;var fd=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('flipboard'.toString(),null));this.$1=new kG(this);if((!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache'))&&ss.isNullOrUndefined(fd.presModelCache)){fd.presModelCache=new kH}};fd.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=fd;var fe=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;hv.call(this,e,new ik('flipboardNav'.toString(),null));this.$3=[]};fe.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=fe;var ff=function(){};ff.__typeName='tab.FloatingToolbarClientCommands';ff.setDefaultMapToolSelectionCommand=function(e){var ex=co.newCommand({ns:'tabdoc',cmd:'default-map-tool-selection'},null);ex.commandParams={};ex.commandParams['defaultMapToolEnum']=e;bX.SendCommand(new iK(ex,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=ff;var fg=function(e){this.$1=null;eO.call(this,e)};fg.__typeName='tab.FolderModel';global.tab.FolderModel=fg;var fh=function(){};fh.__typeName='tab.FolderModelFactory';fh.create=function(e,ex,mo){var mp=fh.$0(e,ex,mo);var mq=(ss.keyExists(mo.get_folders(),e.fn)?mo.get_folders()[e.fn].asFolderNew():new fi(ex));mq.update(e,mp);return mq};fh.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.fieldList)){return mp}for(var mq=0;mq<e.fieldList.length;mq++){var mr=e.fieldList[mq];mp.push(eQ.create(mr,ex,mo))}return mp};global.tab.FolderModelFactory=fh;var fi=function(e){this.$1=null;eO.call(this,e)};fi.__typeName='tab.FolderNewModel';global.tab.FolderNewModel=fi;var fj=function(){this.$1$1=null;this.$1$2=null};fj.__typeName='tab.FontFamily';fj.$ctor1=function(e,ex){this.$1$1=null;this.$1$2=null;this.set_fontGroup(e);this.set_fonts(ex)};global.tab.FontFamily=fj;var fk=function(){};fk.__typeName='tab.FontFamilyProviderBuilder';fk.createFontFamilyBuilder=function(){return new lj};global.tab.FontFamilyProviderBuilder=fk;var fl=function(){};fl.__typeName='tab.FontNotificationUtil';fl.add_fontPropertiesIdentified=function(e){fl.$1$1=ss.delegateCombine(fl.$1$1,e)};fl.remove_fontPropertiesIdentified=function(e){fl.$1$1=ss.delegateRemove(fl.$1$1,e)};fl.add_allFontsFound=function(e){fl.$1$2=ss.delegateCombine(fl.$1$2,e)};fl.remove_allFontsFound=function(e){fl.$1$2=ss.delegateRemove(fl.$1$2,e)};fl.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex=new gd;var mo={type:'draw-group',drawItems:e.drawItems};fl.$9(ex.extractFontFromPresModel(mo))};fl.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}fl.$9(fl.$5(e.html))};fl.notifyFontsFromServerButtonZonePresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex=fl.$6(e);if(!ss.isNullOrEmptyString(ex.get_fontFamily())){var mo={};fl.$1(mo,ex);fl.$9(_.values(mo))}};fl.$6=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex])||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex].buttonCaptionFontFormat)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex].buttonCaptionFontFormat.fontName)){return new fm}var ex=e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex].buttonCaptionFontFormat;var mo=(ex.isFontBold?'font-weight-bold':'font-weight-normal');var mp=new fm;mp.set_fontFamily(ex.fontName);mp.set_weight(fl.getFontAttribute(mo));return mp};fl.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var ex={};for(var mo=0;mo<e.ubertipPaneDatas.length;mo++){var mp=e.ubertipPaneDatas[mo];var mq=fl.$5(mp.htmlTooltip);for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];fl.$1(ex,ms)}}return _.values(ex)};fl.notifyFontsFromUberTipDataPresModel=function(e){fl.$9(fl.getFontsFromUberTipDataPresModel(e))};fl.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}fl.$9(fl.$5(e.titleHtml))};fl.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};fl.$1(ex,fl.$7(e.labelTextStyle));fl.$2(ex,e.titleHtml);fl.$9(_.values(ex))};fl.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};fl.$1(ex,fl.$7(e.textStyle));fl.$1(ex,fl.$7(e.titleStyleModel));fl.$1(ex,fl.$7(e.selectedTextStyleModel));fl.$2(ex,e.titleHtml);fl.$9(_.values(ex))};fl.notifyFontsFromServerRenderedLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};fl.$2(ex,e.titleHtml);fl.$9(_.values(ex))};fl.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}fl.$9(fl.$5(e.htmlTooltip))};fl.$5=function(e){var ex={};fl.$2(ex,e);return _.values(ex)};fl.$7=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.fontName)){return new fm}var ex=new fm;ex.set_fontFamily(e.fontName);ex.set_weight(ss.coalesce(e.fontWeight,''));ex.set_style(ss.coalesce(e.fontStyle,''));return ex};fl.notifyFontsFromTextStylePresModel=function(e){var ex=[];var mo=fl.$7(e);if(!ss.isNullOrEmptyString(mo.get_fontFamily())){ex.push(mo)}fl.$9(ex)};fl.notifyFontsFromMarkLayoutOutput=function(e){if(ss.isValue(e)){fl.notifyFontsFromTextStyleTable(e.TextStyleTable)}};fl.notifyFontsFromTextStyleTable=function(e){if(ss.isValue(e)&&ss.isValue(e.font)){var ex=e.font.map(function(mo,mp){var mq=((ss.isValue(e.font_style)&&mp<e.font_style.length)?fl.$3(e.font_style[mp]):'font-style-normal');var mr=((ss.isValue(e.font_weight)&&mp<e.font_weight.length)?fl.$4(e.font_weight[mp]):'font-weight-normal');var ms=new fm;ms.set_fontFamily(mo);ms.set_style(fl.getFontAttribute(mq));ms.set_weight(fl.getFontAttribute(mr));return ms});fl.$9(ex)}};fl.getFontAttribute=function(e){var ex=3;var mo=e.split('-');return((mo.length===ex)?mo[ex-1]:'')};fl.$1=function(e,ex){if(ss.isNullOrEmptyString(ex.get_fontFamily())){return}e[ex.get_hash()]=ex};fl.$2=function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var mo=$(ex).find('[style]').addBack();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp].style.fontFamily;var mr=mo[mp].style.fontWeight;if(ss.isNullOrEmptyString(mq)){continue}var ms=new fm;ms.set_fontFamily(mq);ms.set_weight(mr);fl.$1(e,ms)}};fl.$0=function(e,ex,mo){var mp='';var mq='';var mr='';if(ss.keyExists(ex,'font_style')&&parseInt(ex['font_style'].dataValues[mo].toString())===1){mq='italic'}if(ss.keyExists(ex,'font_weight')&&parseInt(ex['font_weight'].dataValues[mo].toString())===1){mp='bold'}if(ss.keyExists(ex,'font')){mr=ex['font'].dataValues[mo].toString()}if(ss.isNullOrEmptyString(mr)){return}var ms=new fm;ms.set_fontFamily(mr);ms.set_weight(mp);ms.set_style(mq);var mt=ms;fl.$1(e,mt)};fl.$3=function(e){switch(e){case 0:{return'font-style-normal'}case 1:{return'font-style-italic'}default:{return'font-style-normal'}}};fl.$4=function(e){switch(e){case 0:{return'font-weight-normal'}case 1:{return'font-weight-bold'}default:{return'font-weight-normal'}}};fl.$9=function(e){if(!ss.staticEquals(fl.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){fl.$1$1(e)}};fl.$8=function(){if(!ss.staticEquals(fl.$1$2,null)){fl.$1$2()}};global.tab.FontNotificationUtil=fl;var fm=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};fm.__typeName='tab.FontProperties';global.tab.FontProperties=fm;var fn=function(e){this.$5=null;this.$6=false;this.$4=ss.mkdict(['line-drop',1]);this.$3$1=null;fq.call(this,e)};fn.__typeName='tab.FormatContainerModel';fn.get_formatPaneModel=function(){return Y.get_instance().get_workbook().get_formatPaneModel()};global.tab.FormatContainerModel=fn;var fo=function(e){fq.call(this,e)};fo.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=fo;var fp=function(){};fp.__typeName='tab.FormatItemExtensions';fp.hasPreview=function(e){return e==='compositeContainer'||e==='tabGroup'};global.tab.FormatItemExtensions=fp;var fq=function(e){this.$2$1=null;hv.call(this,e,new ik('formatItem'.toString(),null))};fq.__typeName='tab.FormatItemModel';fq.createModel=function(e,ex,mo){switch(ex.typeOfFormatItem){case'formatContainer':{var mp=new fn(e);mp.update(ex,mo);return mp}case'formatControl':{var mq=new fo(e);mq.update(ex,mo);return mq}default:{return null}}};global.tab.FormatItemModel=fq;var fr=function(){};fr.__typeName='tab.FormattingConverters';fr.getCSSBorderStyle=function(e){var ex='solid';switch(e){case'bs-dashed':{ex='dashed';break}case'bs-dotted':{ex='dotted';break}case'bs-double':{ex='double';break}case'bs-groove':{ex='groove';break}case'bs-hidden':{ex='hidden';break}case'bs-inset':{ex='inset';break}case'bs-outset':{ex='outset';break}case'bs-ridge':{ex='ridge';break}case'bs-solid':{ex='solid';break}case'bs-none':{ex='none';break}default:{break}}return ex};fr.makeStyledBoxCssDict=function(e,ex){var mo={};if(ss.isValue(e)){mo=fr.makeBorderStyleDict(e);if(e.hasFill){var mp=bU.fromColorCode(e.fillColor);mo['background-color']=(ex?mp.toString():mp.toRgb())}}return mo};fr.makeFormatStyleDict=function(e,ex){if(ss.isNullOrUndefined(e)){return{}}var mo={'font-size':e.fontSize+'pt',color:e.color};if(ss.isValue(e.fontName)&&ss.keyExists(fr.$2,e.fontName)){mo['font-family']=fr.$2[e.fontName]}else if(ss.isValue(e.fontName)){var mp=e.fontName.split(',');fr.addDefaultFontForTableau(mp);for(var mq=0;mq<mp.length;mq++){mp[mq]=fr.addQuotationMarks(mp[mq].trim(),false)}mo['font-family']=mp.join(',');fr.$2[e.fontName]=mo['font-family']}if(ss.isValue(ex)){mo.color=ex}if(e.fontStyle==='font-style-italic'){mo['font-style']='italic'}if(e.fontWeight==='font-weight-bold'){mo['font-weight']='bold'}var mr='none';switch(e.textDecoration){case'text-decoration-overline':{mr='overline';break}case'text-decoration-strikethrough':{mr='line-through';break}case'text-decoration-underline':{mr='underline';break}}if(mr!=='none'){mo['text-decoration']=mr}if(ss.isValue(e.wrapMode)){switch(e.wrapMode){case'text-wrap-off':{mo['white-space']='nowrap';break}case'text-wrap-truncate':{mo['overflow-x']='hidden';break}}}return mo};fr.addQuotationMarks=function(e,ex){if(tab.MiscUtil.isNullOrEmpty$3(e)){return(ex?"''":'""')}var mo=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(mo)===39||e.charCodeAt(0)===34&&e.charCodeAt(mo)===34){return e}if(e.indexOf(' ')!==-1){var mp=(ex?"'":'"');e=mp+e+mp}return e};fr.makeBorderStyleDict=function(e){var ex={};if(ss.isValue(e.uw)){ex['border-width']=e.uw+'px'}if(ss.isValue(e.borderColor)){ex['border-color']=e.borderColor}if(ss.isValue(e.uw)){ex['border-style']=fr.getCSSBorderStyle(e.borderStyle)}return ex};fr.getTextBaseline=function(e){var ex='bottom';switch(e){case'v-align-bottom':{ex='bottom';break}case'v-align-top':{ex='top';break}case'v-align-center':{ex='middle';break}default:{break}}return ex};fr.cleanUpFontFamilyStyles=function(e){var ex=e.find('span');for(var mo=0;mo<ex.length;++mo){var mp=ex.eq(mo);var mq=new gN(mp);fr.cleanUpFontFamilyStyling(mq)}};fr.cleanUpFontFamilyStyling=function(e){var ex=e.get_getFontFamily();if(!ss.isNullOrEmptyString(ex)){var mo={};var mp=[];mp.push(ex);if(ss.startsWithString(ex,"'")||ss.startsWithString(ex,'"')){ex=ex.substr(1,ex.length-2)}ex=fr.$1(e,mp,mo,ex,fr.$4,'font-style','fontStyle',false);ex=fr.$1(e,mp,mo,ex,fr.$5,'font-weight','fontWeight',true);fr.$1(e,mp,mo,ex,fr.$3,'font-stretch','fontStretch',false);fr.addDefaultFontForTableau(mp);if(mp.length>1){mo['font-family']=mp.join(',');e.setCSS(mo)}}};fr.addDefaultFontForTableau=function(e){var ex='tableau';var mo=false;var mp=e.length;for(var mq=0;mq<mp;mq++){var mr=e[mq].trim();for(var ms=0;ms<2;ms++){if(ss.startsWithString(mr,"'")||ss.startsWithString(mr,'"')){mr=mr.substr(1)}}if(ss.compareStrings(mr.substr(0,ex.length),ex,true)===0){mo=true;break}}if(mo){e.push('Arial');e.push('sans-serif')}};fr.$1=function(e,ex,mo,mp,mq,mr,ms,mt){var mu=mp.toLowerCase();for(var mv=0;mv<mq.length;mv++){var mw=mq[mv];if(ss.endsWithString(mu,mw.item1)){mp=mp.substr(0,mu.lastIndexOf(mw.item1)).trim();ex.push("'"+mp+"'");if(!fr.$0(e,ms)){mo[mr]=mw.item2}if(mt){return mp}}}return mp};fr.$0=function(e,ex){return e.hasStyleProperty(ex)};global.tab.FormattingConverters=fr;var fs=function(){};fs.__typeName='tab.FormattingUtil';fs.get_getBrowserStoredFontString=function(){return window.sessionStorage.getItem(fs.fontListStorageKey)};fs.get_hasBrowserStoredFontList=function(){return ss.isValue(fs.get_getBrowserStoredFontString())};fs.$0=function(){var ex=fs.get_getBrowserStoredFontString();if(ss.isNullOrUndefined(ex)){return null}var mo=null;try{mo=JSON.parse(ex)}catch(mp){var e=ss.Exception.wrap(mp);tab.ErrorTrace.report(e)}return mo};fs.compatibleFontNameList=function(){var e=fs.$0();if(ss.isValue(e)){return e}be.get_waitHandler().showAndLock();var ex=fk.createFontFamilyBuilder();ex.addFontList((new lP(new ku.$ctor1(Y.get_instance().get_serverFonts()))).get_fontFamilies());ex.addFontList((new ku).get_fontFamilies());var mo=ex.toFontFamilyProvider();var mp=[];var mq=mo.get_fontFamilies();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];mp.push(ms.get_fontGroup())}window.sessionStorage.setItem(fs.fontListStorageKey,JSON.stringify(mp));be.get_waitHandler().unlock();be.get_waitHandler().nudge();return mp};global.tab.FormattingUtil=fs;var ft=function(){ss.makeGenericType(bd,[Object,fu]).call(this)};ft.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=ft;var fu=function(e){this.$$c=null;this.$$c=e};fu.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=fu;var fv=function(){ss.makeGenericType(bd,[Object,fw]).call(this)};fv.__typeName='tab.GetButtonConfigDialogCmd';global.tab.GetButtonConfigDialogCmd=fv;var fw=function(e){this.$$c=null;this.$$c=e};fw.__typeName='tab.GetButtonConfigDialogCmd$Response';global.tab.GetButtonConfigDialogCmd$Response=fw;var fx=function(){ss.makeGenericType(bd,[Object,fy]).call(this)};fx.__typeName='tab.GetCompositeClassNameCmd';global.tab.GetCompositeClassNameCmd=fx;var fy=function(e){this.$$c=null;this.$$c=e};fy.__typeName='tab.GetCompositeClassNameCmd$Response';global.tab.GetCompositeClassNameCmd$Response=fy;var fz=function(){ss.makeGenericType(bd,[Object,fA]).call(this)};fz.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=fz;var fA=function(e){this.$$c=null;this.$$c=e};fA.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=fA;var fB=function(){ss.makeGenericType(bd,[Object,fC]).call(this)};fB.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=fB;var fC=function(e){this.$$c=null;this.$$c=e};fC.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=fC;var fD=function(){ss.makeGenericType(bd,[Object,fE]).call(this)};fD.__typeName='tab.GetDataAlertConditionInfoMapCmd';global.tab.GetDataAlertConditionInfoMapCmd=fD;var fE=function(e){this.$$c=null;this.$$c=e};fE.__typeName='tab.GetDataAlertConditionInfoMapCmd$Response';global.tab.GetDataAlertConditionInfoMapCmd$Response=fE;var fF=function(){ss.makeGenericType(bd,[Object,fG]).call(this)};fF.__typeName='tab.GetDataAlertInfoCmd';global.tab.GetDataAlertInfoCmd=fF;var fG=function(e){this.$$c=null;this.$$c=e};fG.__typeName='tab.GetDataAlertInfoCmd$Response';global.tab.GetDataAlertInfoCmd$Response=fG;var fH=function(){ss.makeGenericType(bd,[Object,fI]).call(this)};fH.__typeName='tab.GetDataSourceDataPresModelCmd';global.tab.GetDataSourceDataPresModelCmd=fH;var fI=function(e){this.$$c=null;this.$$c=e};fI.__typeName='tab.GetDataSourceDataPresModelCmd$Response';global.tab.GetDataSourceDataPresModelCmd$Response=fI;var fJ=function(){ss.makeGenericType(bd,[Object,fK]).call(this)};fJ.__typeName='tab.GetDropFieldAggregationOptionsCmd';global.tab.GetDropFieldAggregationOptionsCmd=fJ;var fK=function(e){this.$$c=null;this.$$c=e};fK.__typeName='tab.GetDropFieldAggregationOptionsCmd$Response';global.tab.GetDropFieldAggregationOptionsCmd$Response=fK;var fL=function(){ss.makeGenericType(bd,[Object,fM]).call(this)};fL.__typeName='tab.GetDSParamsFromPresModelCmd';global.tab.GetDSParamsFromPresModelCmd=fL;var fM=function(e){this.$$c=null;this.$$c=e};fM.__typeName='tab.GetDSParamsFromPresModelCmd$Response';global.tab.GetDSParamsFromPresModelCmd$Response=fM;var fN=function(){ss.makeGenericType(bd,[Object,fO]).call(this)};fN.__typeName='tab.GetFileConnectionFileListCmd';global.tab.GetFileConnectionFileListCmd=fN;var fO=function(e){this.$$c=null;this.$$c=e};fO.__typeName='tab.GetFileConnectionFileListCmd$Response';global.tab.GetFileConnectionFileListCmd$Response=fO;var fP=function(){ss.makeGenericType(bd,[Object,fQ]).call(this)};fP.__typeName='tab.GetHasUnusedFilesCmd';global.tab.GetHasUnusedFilesCmd=fP;var fQ=function(e){this.$$c=null;this.$$c=e};fQ.__typeName='tab.GetHasUnusedFilesCmd$Response';global.tab.GetHasUnusedFilesCmd$Response=fQ;var fR=function(){ss.makeGenericType(bd,[Object,fS]).call(this)};fR.__typeName='tab.GetRuntimeDataModelCmd';global.tab.GetRuntimeDataModelCmd=fR;var fS=function(e){this.$$c=null;this.$$c=e};fS.__typeName='tab.GetRuntimeDataModelCmd$Response';global.tab.GetRuntimeDataModelCmd$Response=fS;var fT=function(){ss.makeGenericType(bd,[Object,fU]).call(this)};fT.__typeName='tab.GetTabbedAuthenticationPresModelCmd';global.tab.GetTabbedAuthenticationPresModelCmd=fT;var fU=function(e){this.$$c=null;this.$$c=e};fU.__typeName='tab.GetTabbedAuthenticationPresModelCmd$Response';global.tab.GetTabbedAuthenticationPresModelCmd$Response=fU;var fV=function(){ss.makeGenericType(bd,[Object,fW]).call(this)};fV.__typeName='tab.GetThumbnailCmd';global.tab.GetThumbnailCmd=fV;var fW=function(e){this.$$c=null;this.$$c=e};fW.__typeName='tab.GetThumbnailCmd$Response';global.tab.GetThumbnailCmd$Response=fW;var fX=function(){ss.makeGenericType(bd,[Object,fY]).call(this)};fX.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=fX;var fY=function(e){this.$$c=null;this.$$c=e};fY.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=fY;var fZ=function(){ss.makeGenericType(bd,[Object,ga]).call(this)};fZ.__typeName='tab.GetWebCategoricalColorDialogCmd';global.tab.GetWebCategoricalColorDialogCmd=fZ;var ga=function(e){this.$$c=null;this.$$c=e};ga.__typeName='tab.GetWebCategoricalColorDialogCmd$Response';global.tab.GetWebCategoricalColorDialogCmd$Response=ga;var gb=function(){ss.makeGenericType(bd,[Object,gc]).call(this)};gb.__typeName='tab.GetWebQuantitativeColorDialogCmd';global.tab.GetWebQuantitativeColorDialogCmd=gb;var gc=function(e){this.$$c=null;this.$$c=e};gc.__typeName='tab.GetWebQuantitativeColorDialogCmd$Response';global.tab.GetWebQuantitativeColorDialogCmd$Response=gc;var gd=function(){};gd.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=gd;var ge=function(e){eJ.call(this,e)};ge.__typeName='tab.GroupModel';global.tab.GroupModel=ge;var gf=function(){};gf.__typeName='tab.GroupModelFactory';gf.create=function(e,ex,mo){var mp=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asGroup():new ge(ex));mp.update(e);return mp};global.tab.GroupModelFactory=gf;var gg=function(){ss.makeGenericType(bd,[Object,gh]).call(this)};gg.__typeName='tab.HasUserSpecificActiveSheetCmd';global.tab.HasUserSpecificActiveSheetCmd=gg;var gh=function(e){this.$$c=null;this.$$c=e};gh.__typeName='tab.HasUserSpecificActiveSheetCmd$Response';global.tab.HasUserSpecificActiveSheetCmd$Response=gh;var gi=function(){ss.makeGenericType(bd,[Object,gj]).call(this)};gi.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=gi;var gj=function(e){this.$$c=null;this.$$c=e};gj.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=gj;var gk=function(e){this.$1=null;this.$3=null;this.$2=null;this.$0();this.$1=e};gk.__typeName='tab.History';gk.createHistory=function(){if(tab.FeatureFlags.isEnabled('PortableSessionsCheckpoint')){return new gk(null)}else{return new hE}};global.tab.History=gk;var gl=function(){};gl.__typeName='tab.HistoryManager';gl.setInitialState=function(e){var ex=gl.$1(e,null,'');tab.HistoryUtil.replaceState(window.self,ex.associatedState,null,null)};gl.addToHistory=function(e,ex,mo){var mp=gl.$1(e,ex,mo);tab.HistoryUtil.pushState(window.self,mp.associatedState,null,null);return mp};gl.tailSessionStateIds=function(e){var ex=Math.max(0,gl.$7-e);var mo=[];for(var mp=ex;mp<gl.$7;mp++){var mq=gl.$5.get(mp);if(ss.isNullOrUndefined(mq)){continue}var mr=mq.sessionStateId;if(ss.isNullOrEmptyString(mr)){continue}mo.push(mr)}return mo};gl.$1=function(e,ex,mo){gl.$0();var mp={id:gl.$8,key:'_vql_state_'};var mq={onBack:e,onForward:ex,id:gl.$8,associatedState:mp,sessionStateId:mo};gl.$5.set(mq.id,mq);gl.$8++;gl.$7=gl.$8;return mq};gl.$0=function(){if(gl.$7<gl.$8){for(var e=gl.$7+1;e<=gl.$8;e++){gl.$5.delete(e)}}};gl.$3=function(e){if(ss.isNullOrUndefined(e)){return}var ex=e;if(ss.isNullOrUndefined(ex.state)||ss.isNullOrUndefined(ex.state.key)||ex.state.key!=='_vql_state_'){return}gl.$4(ex.state)};gl.$4=function(e){var ex=e.id<gl.$7;var mo=gl.$5.get(e.id);if(ss.isNullOrUndefined(mo)){return}gl.$2(ex,mo);gl.$7=e.id};gl.$2=function(e,ex){if(e){if(!ss.staticEquals(ex.onBack,null)){ex.onBack()}}else if(!ss.staticEquals(ex.onForward,null)){ex.onForward()}};global.tab.HistoryManager=gl;var gm=function(){ss.makeGenericType(bd,[Object,gn]).call(this)};gm.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=gm;var gn=function(e){this.$$c=null;this.$$c=e};gn.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=gn;var go=function(){};go.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=go;var gp=function(){};gp.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=gp;var gq=function(){};gq.__typeName='tab.ICommandDispatcher';global.tab.ICommandDispatcher=gq;var gr=function(){};gr.__typeName='tab.ICommandModel';global.tab.ICommandModel=gr;var gs=function(){};gs.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=gs;var gt=function(){};gt.__typeName='tab.IDataSourceDataNotification';global.tab.IDataSourceDataNotification=gt;var gu=function(){};gu.__typeName='tab.IDetachableNotificationHandler';global.tab.IDetachableNotificationHandler=gu;var gv=function(){};gv.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=gv;var gw=function(){};gw.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=gw;var gx=function(){};gx.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=gx;var gy=function(){};gy.__typeName='tab.IFormattingConverterObject';global.tab.IFormattingConverterObject=gy;var gz=function(){};gz.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=gz;var gA=function(){};gA.__typeName='tab.IHistory';global.tab.IHistory=gA;var gB=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};gB.__typeName='tab.ImageTileTracker';gB.$0=function(){gB.$2=gB.$2||new gB;return gB.$2};gB.$1=function(){return tab.Logger.lazyGetLogger(gB)};gB.incrementPendingCount=function(){gB.$0().$1++};gB.decrementPendingCount=function(){var e=gB.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var ex=0;ex<e.$0.length;ex++){var mo=e.$0[ex];try{mo()}catch(mp){var e=ss.Exception.wrap(mp)}}gB.reset()}}else{}};gB.callWhenImagesLoaded=function(e){if(gB.$0().$1===0){try{e()}catch(ex){var e=ss.Exception.wrap(ex)}}else{gB.$0().$0.push(e)}};gB.reset=function(){gB.$2=null};global.tab.ImageTileTracker=gB;var gC=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('imageZone'.toString(),null));this.$1=e.get_zone()};gC.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=gC;var gD=function(){};gD.__typeName='tab.IModelEventHandler';global.tab.IModelEventHandler=gD;var gE=function(){this.$0=null;this.$0=null};gE.__typeName='tab.IntersectionFontFamilyProviderBuilder';global.tab.IntersectionFontFamilyProviderBuilder=gE;var gF=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null;this.commandName=null};gF.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=gF;var gG=function(e){var ex=function(){};ss.registerGenericInterfaceInstance(ex,gG,[e],{get_model:null,addEventBinding:null,addModelChangedHandler:null,createChildModelHolder:null,newDisposableContext:null,removeEventBinding:null,removeModelChangedHandler:null},function(){return[]});return ex};gG.__typeName='tab.IReadOnlyModelHolder$1';ss.initGenericInterface(gG,a,1);global.tab.IReadOnlyModelHolder$1=gG;var gH=function(){};gH.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=gH;var gI=function(){};gI.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=gI;var gJ=function(){ss.makeGenericType(bd,[Object,gK]).call(this)};gJ.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=gJ;var gK=function(e){this.$$c=null;this.$$c=e};gK.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=gK;var gL=function(){};gL.__typeName='tab.IVizqlServerRequestHandler';global.tab.IVizqlServerRequestHandler=gL;var gM=function(){};gM.__typeName='tab.IWaitForCommands';global.tab.IWaitForCommands=gM;var gN=function(e){this.$0=null;this.$0=e};gN.__typeName='tab.JQueryFormattingConverterObject';global.tab.JQueryFormattingConverterObject=gN;var gO=function(e){this.moduleBeingConfigured=null;this.moduleBeingConfigured=e};gO.__typeName='tab.JsModuleConfigurationBuilder';global.tab.JsModuleConfigurationBuilder=gO;var gP=function(e,ex){this.moduleName=null;this.assemblyName=null;this.loadingMethod=null;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;this.waitUntilModuleReadyFunc=null;this.$0=[];this.$1=[];tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(ex,e);this.loadingMethod='asynchronous'};gP.__typeName='tab.JsModuleInfo';global.tab.JsModuleInfo=gP;var gQ=function(){ss.makeGenericType(bd,[Object,gR]).call(this)};gQ.__typeName='tab.LaunchCustomSqlDialogCmd';global.tab.LaunchCustomSqlDialogCmd=gQ;var gR=function(e){this.$$c=null;this.$$c=e};gR.__typeName='tab.LaunchCustomSqlDialogCmd$Response';global.tab.LaunchCustomSqlDialogCmd$Response=gR;var gS=function(){ss.makeGenericType(bd,[Object,gT]).call(this)};gS.__typeName='tab.LaunchInitialSqlDialogCmd';global.tab.LaunchInitialSqlDialogCmd=gS;var gT=function(e){this.$$c=null;this.$$c=e};gT.__typeName='tab.LaunchInitialSqlDialogCmd$Response';global.tab.LaunchInitialSqlDialogCmd$Response=gT;var gU=function(){ss.makeGenericType(bd,[Object,gV]).call(this)};gU.__typeName='tab.LaunchPermissionsPromptCmd';global.tab.LaunchPermissionsPromptCmd=gU;var gV=function(e){this.$$c=null;this.$$c=e};gV.__typeName='tab.LaunchPermissionsPromptCmd$Response';global.tab.LaunchPermissionsPromptCmd$Response=gV;var gW=function(e,ex){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('layer-encoding['+ex+']',null));this.$1=new hu(this)};gW.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=gW;var gX=function(e,ex){be.call(this,e,ex)};gX.__typeName='tab.LayoutSession';global.tab.LayoutSession=gX;var gY=function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]};gY.__typeName='tab.LayoutTreeItem';global.tab.LayoutTreeItem=gY;var gZ=function(e){this.$6=null;this.$5=null;this.$2$1=null;this.rootNodes=null;this.isEditingStateDictionary=null;hv.call(this,e,new ik('dashboardZoneHierarchy'.toString(),null));this.$6={};this.$5={};this.isEditingStateDictionary={};this.rootNodes=[]};gZ.__typeName='tab.LayoutTreeModel';gZ.$0=function(e){var ex={};if(ss.isValue(e)){for(var mo=0;mo<e.length;mo++){var mp=e[mo];ex[mp.zoneId]=new gY(mp)}}return ex};global.tab.LayoutTreeModel=gZ;var ha=function(e,ex,mo,mp){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=ex;this.$2=mo;if(ss.isValue(mp)){this.$4=mp}else{this.$4=[]}};ha.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=ha;var hb=function(e,ex){hc.call(this,e,ex)};hb.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=hb;var hc=function(e,ex){this.$2$1=null;hv.call(this,e,new ik('filter['+ex.name.join('_')+']',null));this.pm=ex};hc.__typeName='tab.LegacyFilterModel';hc.buildDataValueFromFilterValue=function(e){return{t:e.t,v:e.v,s:e.s}};hc.$1=function(e){if(ss.isValue(e)){var ex=hc.buildDataValueFromFilterValue(e);tableau.format.isDateTimeWithNonMidnightTime(ex)}return false};hc.isQuantitativeTimestampFilter=function(e,ex,mo){var mp=hc.$1(ex)||hc.$1(mo);if(!mp&&ss.isValue(e)){if(ss.isValue(e.data)){mp=mp||hc.$1(e.data.min)||hc.$1(e.data.max)}if(!mp&&ss.isValue(e.range)){mp=mp||hc.$1(e.range.min)||hc.$1(e.range.max)}}return mp};hc.$0=function(e){return e.t==='t'||e.t==='d'};hc.isQuantitativeDateFilter=function(e,ex,mo){if(ss.isValue(ex)){return hc.$0(ex)}else if(ss.isValue(mo)){return hc.$0(mo)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return hc.$0(e.data.min)}else if(ss.isValue(e.data.max)){return hc.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return hc.$0(e.range.min)}else if(ss.isValue(e.range.max)){return hc.$0(e.range.max)}}}return false};hc.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};hc.timestampsWithSameDateOrNull=function(e){var ex=null;for(var mo=0;mo<e.length;mo++){var mp=e[mo];if(ss.isNullOrUndefined(mp)||mp.s==='n'||ss.isNullOrUndefined(mp.v)&&mp.t==='t'){continue}if(!hc.isNormalValue(mp)||mp.t!=='t'){return false}var mq=(ss.Nullable$1.ge(mp.v,0)?Math.floor(mp.v):Math.ceil(mp.v));if(ss.isValue(ex)&&mq!==ex){return false}ex=mq}return ss.isValue(ex)};global.tab.LegacyFilterModel=hc;var hd=function(e,ex){hc.call(this,e,ex)};hd.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=hd;var he=function(e){this.$2$1=null;hv.call(this,e,new ik('serverRenderedLegend'.toString(),null))};he.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=he;var hf=function(e,ex){hc.call(this,e,ex)};hf.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=hf;var hg=function(e){this.$2=null;this.$3=null;this.$2$1=null;hv.call(this,e,new ik('quickFilterDisplay',null))};hg.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=hg;var hh=function(e,ex){hc.call(this,e,ex)};hh.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=hh;var hi=function(e){this.$4$1=null;eJ.call(this,e)};hi.__typeName='tab.LevelModel';global.tab.LevelModel=hi;var hj=function(){};hj.__typeName='tab.LevelModelFactory';hj.create=function(e,ex,mo){var mp=hj.$0(e,ex,mo);var mq=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asLevel():new hi(ex));mq.update$1(e,mp);return mq};hj.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.attributeAttributeDimensionList)){return mp}for(var mq=0;mq<e.attributeAttributeDimensionList.length;mq++){var mr=e.attributeAttributeDimensionList[mq];mp.push(cK.create(mr,ex,mo))}return mp};global.tab.LevelModelFactory=hj;var hk=function(e,ex){this.$1=0;this.$0=0;iD.call(this);if(e<=ex){this.$1=e;this.$0=ex}else{this.$1=ex;this.$0=e}};hk.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=hk;var hl=function(e,ex,mo,mp){this.$1=0;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=ex;this.$3=mo;this.$2=mp};hl.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=hl;var hm=function(e,ex){var mo=function(mp){this.$0={};this.$2=new(ss.makeGenericType(h,[ss.makeGenericType(f,[e,ex])]));this.$1=0;this.$1=mp};ss.registerGenericClassInstance(mo,hm,[e,ex],{add:function(mp,mq){var mr=this.$0[mp];if(ss.isValue(mr)){this.delete$1(mp)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$3.$0.$0)}mr=new(ss.makeGenericType(g,[ss.makeGenericType(f,[e,ex])]))(new(ss.makeGenericType(f,[e,ex]))(mp,mq));this.$0[mp]=mr;this.$2.$0(mr)},get:function(mp){var mq=this.$0[mp];if(ss.isValue(mq)){this.$2.$1(mq);this.$2.$0(mq);return mq.$0.$1}return ss.getDefaultValue(ex)},has:function(mp){return ss.keyExists(this.$0,mp)},delete$1:function(mp){if(!this.has(mp)){return}var mq=this.$0[mp];delete this.$0[mp];this.$2.$1(mq)},clear:function(){var mp=_.keys(this.$0);for(var mq=0,mr=mp.length;mq<mr;mq++){this.delete$1(mp[mq])}}},function(){return null},function(){return[]});return mo};hm.__typeName='tab.LruCache$2';ss.initGenericClass(hm,a,2);global.tab.LruCache$2=hm;var hn=function(e){this.$2$1=null;hv.call(this,e,new ik('mapboxMapSource'.toString(),null))};hn.__typeName='tab.MapboxMapSourceModel';global.tab.MapboxMapSourceModel=hn;var ho=function(){};ho.__typeName='tab.MapClientCommands';ho.boundingBoxPan=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'bounding-box-pan'},null);var mp={};mp['mapLatLongRect']=ex;mo.commandParams=mp;if(ss.isValue(e)){co.addVisualIdToCommand(mo.commandParams,e)}jP.executeServerCommand(mo,'afterDelay',null,null)};ho.geographicSearchQuery=function(e,ex,mo,mp,mq){var mr=co.newCommand({ns:'tabdoc',cmd:'geographic-search-query'},null);var ms={};mr.commandParams=ms;mr.commandParams['geographicSearchSearchString']=ex;mr.commandParams['geographicSearchLocale']=mo;mr.commandParams['geographicSearchMaxResults']=mp.toString();if(ss.isValue(e)){co.addVisualIdToCommand(mr.commandParams,e)}jP.executeServerCommand(mr,'none',function(mt){mq(mt)},null)};global.tab.MapClientCommands=ho;var hp=function(e){this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik('lightweightMapOptions'.toString(),null));this.pm={}};hp.__typeName='tab.MapOptionsInfoModel';global.tab.MapOptionsInfoModel=hp;var hq=function(e){this.$2$1=null;hv.call(this,e,new ik('mapScaleInfo'.toString(),null))};hq.__typeName='tab.MapScaleInfoModel';global.tab.MapScaleInfoModel=hq;var hr=function(e){this.$8=null;this.$6=null;this.$7=null;this.$9=null;this.$3=0;this.$4=0;this.$a=0;this.$5=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;hv.call(this,e,new ik('mapServer'.toString(),null));this.$8=new iw(this);this.$6=new hq(this);this.$7=new hn(this);this.$9=new iF(this);this.set_allowLocalPanAndZoom(false);this.$3=0;this.$4=0;this.$a=0;this.$5=0};hr.__typeName='tab.MapServerModel';global.tab.MapServerModel=hr;var hs=function(){kB.call(this,null,null,null,null,null)};hs.__typeName='tab.MarginDefinition';hs.$ctor1=function(e){kB.call(this,e.margin,e.marginLeft,e.marginRight,e.marginTop,e.marginBottom)};global.tab.MarginDefinition=hs;var ht=function(e){this.$3=[];this.$2=null;this.$2$1=null;hv.call(this,e,new ik('marksCardPresModel'.toString(),null))};ht.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=ht;var hu=function(e){this.$2=null;this.$3=null;this.$2$1=null;hv.call(this,e,new ik('markSize'.toString(),null));this.$2=e};hu.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=hu;var hv=function(e,ex){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=ex};hv.__typeName='tab.Model';hv.nonWorldUpdate=function(e){var ex=new dM;try{e({eventHandler:ex})}finally{if(ss.isValue(ex)){ex.dispose()}}};global.tab.Model=hv;var hw=function(e){var ex=function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(ex,hw,[e],{$2:function(mo){this.$1$1=ss.delegateCombine(this.$1$1,mo)},$3:function(mo){this.$1$1=ss.delegateRemove(this.$1$1,mo)},$6:function(mo){this.$1$2=ss.delegateCombine(this.$1$2,mo)},$7:function(mo){this.$1$2=ss.delegateRemove(this.$1$2,mo)},$4:function(mo){this.$1$3=ss.delegateCombine(this.$1$3,mo)},$5:function(mo){this.$1$3=ss.delegateRemove(this.$1$3,mo)},get_model:function(){return this.$1},set_model:function(mo){var mp=this.$1;this.$1=mo;if(!ss.referenceEquals(mp,this.$1)){if(ss.isValue(mp)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(mp)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(mo){this.$4(mo);if(ss.isValue(this.$1)){mo()}return this},removeModelChangedHandler:function(mo){this.$5(mo)},addEventBinding:function(mo,mp){this.$2(mo);if(ss.isValue(this.$1)){mo(this.$1)}this.$6(mp);return this},removeEventBinding:function(mo,mp){this.$3(mo);this.$7(mp);if(!ss.staticEquals(mp,null)&&ss.isValue(this.$1)){mp(this.$1)}},createChildModelHolder:function(mo){return function(mp){var mq=new(ss.makeGenericType(hw,[mo]));mq.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var mr=null;if(ss.isValue(this.get_model())){mr=mp(this.get_model())}mq.set_model(mr)})));this.$0.add$1(mq);return mq}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(hx,[e]))(this)}},function(){return null},function(){return[ss.IDisposable,ss.makeGenericType(gG,[e])]});return ex};hw.__typeName='tab.ModelHolder$1';ss.initGenericClass(hw,a,1);global.tab.ModelHolder$1=hw;var hx=function(e){var ex=function(mo){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=mo};ss.registerGenericClassInstance(ex,hx,[e],{addModelChangedHandler:function(mo){this.$1.addModelChangedHandler(mo);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(mo)}));return this},addEventBinding:function(mo,mp){this.$1.addEventBinding(mo,mp);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(mo,mp)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return ex};hx.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(hx,a,1);global.tab.ModelHolderContext$1=hx;var hy=function(){};hy.__typeName='tab.ModelUtils';hy.getPendingZoneContentModel=function(e){if(!im.get_progressiveLoadEnabled()){return null}var ex=(bX.get_hasInstance()?bX.get():null);if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_loader())){return null}return ex.get_loader().getPendingZoneContentModel(e)};hy.getViewSession=function(e){return hy.findContentDashboard(null).getViewSession(e)};hy.getModelsForViz=function(e){return function(ex,mo){var mp=[];if(ss.isValue(ex)){var mq=ex.get_zoneModels();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];if(ss.isInstanceOfType(ms.get_model(),e)&&ss.referenceEquals(ms.get_worksheetName(),mo.get_worksheetName())){mp.push(ms.get_model())}}}return mp}};hy.getVisualModels=function(e){var ex=hy.findContentDashboard(e);return hy.getVisualModelsFromDashboard(ex)};hy.getVisualModelsFromDashboard=function(e){var ex={};if(ss.isNullOrUndefined(e)){return ex}var mo=e.get_zoneModels();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];var mr=mq.get_visualModel();if(ss.isValue(mr)&&ss.isValue(mq.get_worksheetName())){ex[mq.get_worksheetName()]=mr}}if(im.get_progressiveLoadEnabled()){var ms=(bX.get_hasInstance()?bX.get():null);if(ss.isValue(ms)&&ss.isValue(ms.get_loader())){var mt=ms.get_loader().getPendingVisuals();var mu=_.keys(mt);for(var mv=0;mv<mu.length;mv++){var mw=mu[mv];ex[mw]=mt[mw]}}}return ex};hy.getSheetInfoPresModel=function(e,ex){var mo=e.get_workbook();if(ss.isNullOrUndefined(mo)||ss.isNullOrUndefined(mo.get_sheetsInfo())){return null}var mp=mo.get_sheetsInfo();for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];if(ss.referenceEquals(mr.sheet,ex)){return mr}}return null};hy.getVisualModel=function(e,ex){var mo=null;var mp=hy.findContentDashboard(e);if(ss.isNullOrUndefined(mp)){return mo}var mq=mp.get_zoneModels();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];var mt=ms.get_visualModel();if(ss.isValue(mt)){var mu=ms.get_worksheetName();if(ss.referenceEquals(mu,ex)){mo=mt;break}}}if(im.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(mo)){var mv=(bX.get_hasInstance()?bX.get():null);if(ss.isValue(mv)&&ss.isValue(mv.get_loader())){mo=mv.get_loader().getPendingVisual(ex)}}return mo};hy.getVisualModelFromVisualId=function(e,ex){if(ss.isNullOrUndefined(ex)){ex=Y.get_instance()}var mo=null;var mp=hy.findContentDashboard(ex);if(ss.isNullOrUndefined(mp)){return mo}var mq=mp.get_zoneModels();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];var mt=ms.get_visualModel();if(ss.isValue(mt)){if(_.isEqual(mt.get_visualId(),e)){mo=mt;break}}}return mo};hy.getVisualId=function(e){return hy.getVisualModel(Y.get_instance(),e).get_visualId()};hy.getFirstAvailableWebZoneName=function(e){var ex=null;var mo=hy.findContentDashboard(e);if(ss.isNullOrUndefined(mo)){return ex}var mp=mo.get_zoneModels();for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];if(mr.get_zoneType()==='web'){var ms=mr.get_zoneId();ex='frame_'+ms.toString();break}}return ex};hy.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===hy.findContentDashboard(null).get_activeZoneID()}case'worksheet':default:{return true}}};hy.getZoneIdForSheetName=function(e){var ex=hy.findContentDashboard(null);var mo=ex.get_zoneModels();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];if(mq.get_zoneType()==='viz'&&ss.referenceEquals(mq.get_worksheetName(),e)){return mq.get_zoneId()}}return-1};hy.hasBorder=function(e){return e.get_borderStyle()!=='bs-none'&&e.get_borderWidth()!==0};hy.createFilterModel=function(e,ex){switch(ex.type){case'Q':{return new hf(e,ex)}case'H':{return new hd(e,ex)}case'C':{return new hb(e,ex)}case'RD':{return new hh(e,ex)}default:{return new hc(e,ex)}}};hy.findMatchingFilterModel=function(e,ex){var mo=ex.get_fieldName();return e.get_filterModels()[mo]};hy.setVisualValidAndUpToDateStateOnModel=function(e,ex,mo){if(ss.isNullOrUndefined(ex)){return}ex.setIsVisualValidAndUpToDate(mo,e.modelUpdateContext)};hy.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var ex=0;ex<e.length;ex++){var mo=e[ex];var mp=hy.getVisualModel(Y.get_instance(),mo);if(ss.isValue(mp)){lx.invalidateVisualModel(mp)}}};hy.setVisualValidStateOnPresModel=function(e,ex){if(ss.isNullOrUndefined(ex)){return}e.makeMutablePresModel(ex,false).valid=false};hy.invalidateAllVisualPresModels=function(e){if(Y.get_instance().get_isOffline()){return}var ex=Y.get_instance().get_workbook().get_sheetsInfo();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];hy.setVisualValidStateOnPresModel(e,hy.getVisualModel(Y.get_instance(),mp.sheet))}};hy.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=Y.get_instance()}return e.get_workbook().findContentDashboard()};hy.findActiveVisual=function(){var e=hy.findContentDashboard(null);if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};hy.findActiveOrDefaultVisual=function(){var e=hy.findContentDashboard(null);if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var ex=e.get_activeVisual();if(ss.isValue(ex)){return ex}var mo=e.get_zoneModels();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];if(ss.isValue(mq.get_visualModel())){return mq.get_visualModel()}}return null};hy.reValidateVisualModels=function(e){var ex=hy.getVisualModels(Y.get_instance());var mo=_.values(ex);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];mq.reValidate(e)}};hy.findActivePaneSpecId=function(){var e=hy.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};hy.hasAnyImpliedSelection=function(){var e=hy.getVisualModels(Y.get_instance());var ex=_.keys(e);for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=e[mp];if(!mq.get_impliedSelectionModel().isEmpty){return true}}return false};hy.mergeMapPresModelDelta=function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return}var mo=_.keys(e);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];var mr=ex[mq];if(typeof(mr)==='undefined'){ex[mq]=e[mq]}else if(mr===null){delete ex[mq]}}};hy.isLegacyMenuItemEnabled=function(e){var ex=Y.get_instance().get_appPresModel().toolbarPresModel.legacyMenus;if(ss.isNullOrUndefined(ex)){return false}var mo=_.find(ex,function(mp){return mp.legacyMenuName===e});return ss.isValue(mo)&&_.every(mo.legacyMenuStates,function(mp){return mp!=='grayed'})};global.tab.ModelUtils=hy;var hz=function(){};hz.__typeName='tab.ModuleManager';hz.$1=function(e,ex){return((ex.length===0)?ss.createInstance(e):ss.applyConstructor(e,ex))};hz.load=function(e){return function(ex){var mo=hz.load$1(ss.getTypeFullName(e),ex);return mo}};hz.load$1=function(e,ex){tab.Param.verifyString(e,'uniqueModuleName');hz.$2();var mo=hz.$5(e);if(ss.keyExists(hz.$j,mo.moduleName)){return hz.$j[mo.moduleName]}var mp=$.Deferred();hz.$j[mo.moduleName]=mp;hz.$b(Object).call(null,mp,mo.moduleName);var mq='tab.'+mo.assemblyName+'Factory';mp.always(function(){hz.$i.moduleLoaded()});hz.$i.loadRequested();hz.$7(mo).done([function(){hz.$a(ex,mo,mq,mp)}]).fail([function(mr){var ms;var mt='Failed to load dependencies for the module: '+mo.moduleName;if(ss.isNullOrUndefined(mr)){ms=new ss.Exception(mt)}else{var mu=new ss.Exception(mr.toString());ms=new ss.Exception(mt,mu)}mp.reject(ms)}]);return mp};hz.$7=function(e){var ex=$.Deferred();if(!e.get_hasDependencies()){ex.resolve()}else{var mo=_.map(e.get_dependencies(),function(mt){return mt.moduleName});var mp=function(){ex.resolve()};var mq=function(mt){ex.reject(mt)};hz.loadModulesSequentially(mp,mq,mo)}if(e.get_hasDependenciesOnStylesheets()){var mr=ss.getEnumerator(e.get_stylesheetDependencies());try{while(mr.moveNext()){var ms=mr.current();hz.loadCss(ms)}}finally{mr.dispose()}}return ex};hz.$a=function(e,ex,mo,mp){switch(ex.loadingMethod){case'asynchronous':case'synchronous':{hz.$8(Object).call(null,e,ex,mo,mp);break}case'alreadyLoaded':default:{if(ex.isRawJavaScriptModule){hz.$c(ex,null,mp)}else{var mq='vql'+ex.assemblyName.toLowerCase();var mr=ss.load(mq);var ms=hz.$1(ss.getType(mo,mr),e);hz.$c(ex,ms,mp)}break}}};hz.loadModulesSequentially=function(e,ex,mo){mo=mo||[];var mp=0;hz.load$1(mo[mp],[]).done(function(){hz.$9(mo,e,1)}).fail(function(mq){if(!ss.staticEquals(ex,null)){ex(mq)}})};hz.register=function(e){return function(ex,mo){var mp='vql'+ex.toLowerCase();hz.$0(mp,(tsConfig.debugMode?(mp+'.debug'):mp));var mq=new gP(ex,mo);hz.$g[ss.getTypeFullName(e)]=mq;if(ss.keyExists(hz.$j,mq.moduleName)){delete hz.$j[mq.moduleName]}return new gO(mq)}};hz.registerDependencyModule=function(e,ex){return hz.registerRawJsModule(ex,e,ex)};hz.registerTypicalRawJsModule=function(e){return hz.registerRawJsModule(e,e+'.min',e)};hz.registerRawJsModule=function(e,ex,mo){hz.$0(e,(tsConfig.debugMode?mo:ex));var mp=new gP(e,null);hz.$g[e]=mp;if(ss.keyExists(hz.$j,mp.moduleName)){delete hz.$j[mp.moduleName]}return(new gO(mp)).andMarkAsRawJavaScriptModule()};hz.registerModulesLoadedCallback=function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}hz.$i.registerModulesLoadedCallback(e)};hz.isCssLoaded=function(e){if(hz.$f.has(e)){return true}var ex=document.getElementsByTagName('link');for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];if(ss.referenceEquals(mp.getAttribute('href'),e)&&mp.getAttribute('rel')==='stylesheet'){return true}}return false};hz.isScriptLoaded=function(e){var ex=document.getElementsByTagName('script');for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];if(ss.referenceEquals(mp.getAttribute('src'),e)){return true}}return false};hz.loadCss=function(e){if(hz.$f.has(e)){return}hz.$f.add(e);var ex=document.createElement('link');ex.setAttribute('type','text/css');ex.setAttribute('rel','stylesheet');ex.setAttribute('href',e);document.getElementsByTagName('head')[0].appendChild(ex)};hz.$8=function(e){return function(ex,mo,mp,mq){var mr=mo.moduleName.toLowerCase();if(!mo.isRawJavaScriptModule){mr='vql'+mr}var ms=mo.loadingMethod;if(ms==='synchronous'){be.get_waitHandler().showAndLock()}var mt=function(){if(ms==='synchronous'){be.get_waitHandler().unlock();be.get_waitHandler().nudge()}};var mu=tabBootstrap.MetricsController.createContext('MDLOAD'.toString(),32,'module name: '+mo.moduleName);requirejs([mr],function(mv){var mw;if(mo.isRawJavaScriptModule){mw=mv}else{var mx=ss.load(mr);mw=hz.$1(ss.getType(mp,mx),ex)}if(mo.shouldExportResult){if(typeof(window.self[mo.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+mo.exportResultName)}window.self[mo.exportResultName]=mv}var my=$.Deferred();my.done(function(){mq.resolve(mw)}).fail(function(mz){mq.reject(mz)}).always(function(){mu.dispose();mt()});hz.$c(mo,mw,my)},function(mv){mt();hz.$6(e).call(null,mv,mq)})}};hz.$c=function(e,ex,mo){if(ss.staticEquals(e.waitUntilModuleReadyFunc,null)){mo.resolve(ex)}else{var mp=e.waitUntilModuleReadyFunc();mp.done([function(){mo.resolve(ex)}]);mp.fail([function(mq){mo.reject(mq)}])}};hz.$4=function(){var e;try{e=window.performance.now()}catch(ex){e=(new Date).getTime()}return e};hz.$9=function(e,ex,mo){if(mo>=ss.count(e)){ex();return}hz.load$1(ss.getItem(e,mo),[]).done(function(){hz.$9(e,ex,mo+1)})};hz.$0=function(e,ex){hz.$h[e]=ex;if(hz.$k){requirejs.config({map:ss.mkdict(['*',hz.$h])})}};hz.$2=function(){if(hz.$k){return}hz.$k=true;var e;if(tsConfig.useLocalPaths){e=tableau.util.adjustForLocalPaths(tsConfig.local_static_asset_prefix)}else{e=tsConfig.external_static_asset_prefix}e=e+'/javascripts';requirejs.config({baseUrl:e,map:ss.mkdict(['*',hz.$h]),waitSeconds:0})};hz.$5=function(e){var ex=hz.$g[e];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown module: '+e)}return ex};hz.$6=function(e){return function(ex,mo){var mp=hz.$3(ex);var mq=new ss.Exception(mp);mo.reject(mq)}};hz.$3=function(e){var ex=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var mo=e.requireModules.join(',');ex+='; Modules='+mo}if(!ss.isNullOrEmptyString(e.requireType)){ex+='; RequireType='+e.requireType}if(ss.isValue(e.originalError)){ex+='; Original='+JSON.stringify(e.originalError)}return ex};hz.$b=function(e){return function(ex,mo){ex.fail(function(mp){var mq=mp;delete hz.$j[mo];hz.reportException(mq)})}};hz.reportException=function(e){throw e};hz.forceReconfigurationOnNextLoad=function(){hz.$k=false};global.tab.ModuleManager=hz;var hA=function(){this.$3=0;this.$2=[]};hA.__typeName='tab.ModuleTracker';global.tab.ModuleTracker=hA;var hB=function(){eO.call(this,null);var e={fn:''};this.swapAndCopyPresModel(e)};hB.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=hB;var hC=function(){};hC.__typeName='tab.NoopModelEventsHandler';hC.get_noopContext=function(){return hC.$0.value()};global.tab.NoopModelEventsHandler=hC;var hD=function(e,ex){this.$2=null;this.$1=null;this.$1$1=null;this.set_notificationId(e);this.$1=ex};hD.__typeName='tab.NotificationHandlerLauncher';hD.registerHandler=function(e,ex){var mo=function(){var mp=$.Deferred();mp.resolve(ex());return mp.promise()};hD.$0(e,mo)};hD.registerHandlerFromModule=function(e){return function(ex,mo){var mp=function(){var mq=be.get_waitHandler();mq.addref(true,true);var mr=$.Deferred();hz.load(e).call(null,[]).done(function(ms){mr.resolve(mo(ms))}).always(function(){mq.release()});return mr.promise()};hD.$0(ex,mp)}};hD.registerHandlerFromJsModule=function(e,ex,mo){var mp=function(){var mq=$.Deferred();hz.load$1(e,[]).done(function(mr){mq.resolve(mo(mr))});return mq.promise()};hD.$0(ex,mp)};hD.$0=function(e,ex){var mo=new hD(e,ex);Y.get_holder().addEventBinding(function(mp){mp.registerNotificationHandler(e,ss.mkdel(mo,mo.onNotify))},function(mp){mp.unRegisterNotificationHandler(e,ss.mkdel(mo,mo.onNotify))})};global.tab.NotificationHandlerLauncher=hD;var hE=function(){};hE.__typeName='tab.NullHistory';global.tab.NullHistory=hE;var hF=function(){this.$c=null;this.$4=null;this.$7=null;this.$b=null;this.$5='';this.$9='';this.$d=0;this.$e='';this.$f='';this.$g=0;this.$a=null;this.$6=null;this.$8=tab.Logger.getLogger(hF,4)};hF.__typeName='tab.OnlineAnalyticsClient';hF.add_onLogEvent=function(e){hF.$1$1=ss.delegateCombine(hF.$1$1,e)};hF.remove_onLogEvent=function(e){hF.$1$1=ss.delegateRemove(hF.$1$1,e)};hF.get_telemetryEnabled=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest&&!Y.get_instance().get_isOffline()};hF.$0=function(){if(ss.isNullOrUndefined(hF.$1)){hz.registerRawJsModule('analytics-client','analytics-client.min','analytics-client').andExportResultAs('AnalyticsClient');hF.$1=new hF}return hF.$1};hF.logEventDeprecated=function(e,ex){if(hF.get_telemetryEnabled()){hF.logEvent(e,ss.mkdict(ex))}};hF.logEvent=function(e,ex){if(hF.get_telemetryEnabled()){ex=ex||{};hF.$0().$3(e,ex)}};global.tab.OnlineAnalyticsClient=hF;var hG=function(){};hG.__typeName='tab.OnlineAnalyticsMetricsLogger';hG.isLoggerSupported=function(){return hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebClientMetricsPutIntegration')};global.tab.OnlineAnalyticsMetricsLogger=hG;var hH=function(){ss.makeGenericType(bd,[Object,hI]).call(this)};hH.__typeName='tab.OpenAutomatedInsightsModalCmd';global.tab.OpenAutomatedInsightsModalCmd=hH;var hI=function(e){this.$$c=null;this.$$c=e};hI.__typeName='tab.OpenAutomatedInsightsModalCmd$Response';global.tab.OpenAutomatedInsightsModalCmd$Response=hI;var hJ=function(){};hJ.__typeName='tab.OrderClause';hJ.orderFieldFromString=function(e){try{return e}catch(ex){return'unknown'}};hJ.isInstanceOfType=function(){return true};global.tab.OrderClause=hJ;var hK=function(e,ex,mo,mp){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.set_description(e);this.set_architecture(ex);this.set_family(mo);this.set_version(mp)};hK.__typeName='tab.OSInfo';global.tab.OSInfo=hK;var hL=function(){kB.call(this,null,null,null,null,null)};hL.__typeName='tab.PaddingDefinition';hL.$ctor1=function(e){kB.call(this,e.padding,e.paddingLeft,e.paddingRight,e.paddingTop,e.paddingBottom)};global.tab.PaddingDefinition=hL;var hM=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('pageModel'.toString(),null));this.$1=e.get_zone()};hM.__typeName='tab.PageModel';global.tab.PageModel=hM;var hN=function(e){var ex=function(){};ex.isInstanceOfType=function(){return true};ss.registerGenericClassInstance(ex,hN,[e],{},function(){return null},function(){return[]});return ex};hN.__typeName='tab.PageOfItem$1';ss.initGenericClass(hN,a,1);global.tab.PageOfItem$1=hN;var hO=function(){};hO.__typeName='tab.PageServerCommands';hO.changePage=function(e,ex){var mo=hO.$0(e,ex);jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'change-page'},mo),'immediately',null,null)};hO.syncedChangePage=function(e,ex,mo,mp){var mq=hO.$1(ex,mo,mp);var mr=co.newCommand({ns:'tabsrv',cmd:'synced-change-page-server'},mq);var ms=new bQ('immediately',function(mt){},mr,null,null);bX.SendCommand(ms)};hO.toggleTrails=function(e){var ex=hO.$2(e);jP.executeServerCommand(co.newCommand({ns:'tabdoc',cmd:'page-toggle-trails'},ex),'afterDelay',null,null)};hO.$0=function(e,ex){var mo={};co.addVisualIdToCommand(mo,ex);mo['pageNumber']=e;return mo};hO.$1=function(e,ex,mo){var mp={};co.addVisualIdToCommand(mp,e);mp['zoneId']=ex;mp['pageNumber']=mo;return mp};hO.$2=function(e){var ex={};co.addVisualIdToCommand(ex,e);return ex};global.tab.PageServerCommands=hO;var hP=function(e){this.$0=null;this.update(e)};hP.__typeName='tab.PaneIdModel';hP.$ctor1=function(e,ex,mo){this.$0=null;this.$0={};this.$0['columnIndex']=e;this.$0['rowIndex']=ex;if(mo!==0){this.$0['pageIndex']=mo}};global.tab.PaneIdModel=hP;var hQ=function(){};hQ.__typeName='tab.PanZoomCommandResult';global.tab.PanZoomCommandResult=hQ;var hR=function(){};hR.__typeName='tab.PanZoomCommands';hR.zoomWithAnchorPoint=function(e,ex,mo,mp,mq,mr){var ms=new Object;var mt=lE.create(ms);mt.set_r(e);mt.set_x(ex.x);mt.set_y(ex.y);var mu={};mu['vizRegionRect']=ms;var mv=tab.PointUtil.toPresModel(ex);mu['zoomAnchorPoint']=mv;mu['zoomFactor']=mo;var mw=hy.getVisualId(mr);co.addVisualIdToCommand(mu,mw);var mx=co.newCommand({ns:'tabsrv',cmd:'pane-anchor-zoom-server'},mu);var my=function(){ki.fireSheetDataChanged();mq('success')};var mz=function(){mq('failure')};var mA=function(mB){return tab.RuntimeWebModule.proxy.localZoomFactorCommand(mB.get_VM(),mB.get_initialStore(),mB.get_finalStore(),mv.x,mv.y,mo)};hR.$0(mx,8,mA,mp,my,mz,mr)};hR.$2=function(e,ex,mo,mp,mq,mr,ms,mt){if(!tsConfig.allow_filter){return}var mu={};var mv={};mv.x=e['x'];mv.y=e['y'];mv.x=Math.round(mv.x);mv.y=Math.round(mv.y);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){mv.h=e['h'];mv.w=e['w']}mu['dragRect']=mv;mu['zoomIn']=mo;mu['focus']=false;mu['zoomFactor']=mq;if(ss.isValue(ex)){ex=hR.$1(ex);var mw=tab.PointUtil.toPresModel(ex);mu['paneResolverLocation']=mw}var mx=hy.getVisualId(mt);co.addVisualIdToCommand(mu,mx);var my=co.newCommand({ns:'tabdoc',cmd:'pane-zoom'},mu);var mz=function(mC){if(ss.isValue(mp)){mp.setDeferLayoutUpdates(false)}ki.fireSheetDataChanged();ms('success')};var mA=function(mC){ms('failure')};var mB=function(mC){return tab.RuntimeWebModule.proxy.localZoomCommand(mC.get_VM(),mC.get_initialStore(),mC.get_finalStore(),mv.x,mv.y,mv.w,mv.h,mo)};hR.$0(my,8,mB,mr,mz,mA,mt)};hR.pan=function(e,ex,mo,mp,mq,mr){if(!tsConfig.allow_filter){return}var ms={};ms['r']=e;ms['panLocation']=tab.PointUtil.toPresModel(hR.$1(ex));ms['panAmount']=tab.PointUtil.toPresModel(hR.$1(mo));var mt=hy.getVisualId(mr);co.addVisualIdToCommand(ms,mt);var mu=co.newCommand({ns:'tabsrv',cmd:'pane-pan-server'},ms);var mv=function(){ki.fireSheetDataChanged();mq('success')};var mw=function(my){mq('failure')};var mx=function(my){var mz=hR.$1(mo);return tab.RuntimeWebModule.proxy.localPanCommand(my.get_VM(),my.get_initialStore(),my.get_finalStore(),mz.x,mz.y)};hR.$0(mu,7,mx,mp,mv,mw,mr)};hR.$0=function(e,ex,mo,mp,mq,mr,ms){var mt=hy.getVisualModel(Y.get_instance(),ms);var mu=mt.shouldDoLocalCommand();var mv=mt.get_runtimeReady();var mw=function(mz){mt.updateRuntimeHandles(mz,ex,mo).done([function(){mp()}])};var mx=tabBootstrap.MetricsController.createContext('RTLPRC'.toString(),32,null);var my=new bQ('none',function(mz){hy.setVisualValidAndUpToDateStateOnModel(mz,mt,false);if(mu&&mv){mw(mz);mx.dispose();jq.logVizUsage$1(e.commandName,mx.elapsedMS())}},e,mq,mr);bX.SendCommand(my);if(mu&&!mv){mw(null)}};hR.$1=function(e){var ex=e;if(ss.isValue(e)){ex={x:Math.round(e.x),y:Math.round(e.y)}}return ex};hR.zoomDoubleClick=function(e,ex,mo,mp,mq,mr,ms){mo.set_isZoomin(ex);hR.$2(e,e,ex,mo,mp,mq,mr,ms)};hR.zoomIn=function(e,ex,mo,mp,mq,mr){hR.$2(e,ex,true,null,mo,mp,mq,mr)};hR.zoomOut=function(e,ex,mo,mp,mq){hR.$2(e,e,false,null,ex,mo,mp,mq)};hR.requestRestoreFixedAxes=function(e){if(!tsConfig.allow_filter){return}var ex=function(mq){be.fireStateChanged(mq)};var mo={};co.addVisualIdToCommand(mo,e);var mp=co.newCommand({ns:'tabsrv',cmd:'restore-fixed-axes'},mo);bX.SendCommand(new iK(mp,'immediately',ex,function(){}))};global.tab.PanZoomCommands=hR;var hS=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('parameterControl'.toString(),null))};hS.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=hS;var hT=function(){};hT.__typeName='tab.ParameterServerCommands';hT.setParameterValue=function(e,ex,mo){hT.setParameterValue$1(e,ex,mo,null,null)};hT.setParameterValue$1=function(e,ex,mo,mp,mq){var mr=hT.$0(e,ex,ss.coalesce(mo,false));var ms=co.newCommand({ns:'tabdoc',cmd:'set-parameter-value'},mr);jP.executeServerCommand(ms,'immediately',mp,mq)};hT.$0=function(e,ex,mo){var mp={};mp['globalFieldName']=e;mp['valueString']=ex;mp['useUsLocale']=mo;return mp};global.tab.ParameterServerCommands=hT;var hU=function(e){this.$3$1=null;le.call(this,e,new ik('percentTotalTableCalcPresModel'.toString(),null))};hU.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=hU;var hV=function(){ss.makeGenericType(lJ,[Object,hW]).call(this)};hV.__typeName='tab.PerformTabbedAuthenticationCmd';hV.get_commandName=function(){return'perform-tabbed-authentication'};global.tab.PerformTabbedAuthenticationCmd=hV;var hW=function(e){this.$$c=null;this.$$c=e};hW.__typeName='tab.PerformTabbedAuthenticationCmd$Response';global.tab.PerformTabbedAuthenticationCmd$Response=hW;var hX=function(){hV.call(this)};hX.__typeName='tab.PerformTabbedAuthenticationCommand';global.tab.PerformTabbedAuthenticationCommand=hX;var hY=function(){};hY.__typeName='tab.PermissionManager';hY.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(5);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);e.push(16);if(tab.FeatureFlags.isEnabled('AIExplainThisMark_AuthoringMode')){e.push(24)}if(!tsConfig.is_mobile){e.push(21)}e.push(22)}else if(tab.FeatureFlags.isEnabled('AIExplainThisMark_ViewingMode')){e.push(24)}return new ch(e)};hY.filterCommands=function(e,ex){for(var mo=e.length-1;mo>=0;mo--){if(!ex.test(e[mo])){ss.removeAt(e,mo)}}};global.tab.PermissionManager=hY;var hZ=function(e,ex){this.$1=null;hv.call(this,e,new ik(ex.toString(),null))};hZ.__typeName='tab.PillModel';global.tab.PillModel=hZ;var ia=function(){ss.makeGenericType(bd,[Object,ib]).call(this)};ia.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=ia;var ib=function(e){this.$$c=null;this.$$c=e};ib.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=ib;var ic=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null};ic.__typeName='tab.PlatformInfo';ic.$1=function(){if(ss.isNullOrUndefined(ic.$4)){hz.registerRawJsModule('platform','platform.min','platform').andExportResultAs('Platform');ic.$4=hz.load$1('platform',[])}return ic.$4};ic.getInfo=function(){return ic.$3||(ic.$3=ic.$0())};ic.$0=function(){var e=$.Deferred();ic.$1().then(function(){var ex=new ic;ex.set_description(platform.description);ex.set_layout(platform.layout);ex.set_manufacturer(platform.manufacturer);ex.set_name(platform.name);ex.set_prerelease(platform.prerelease);ex.set_product(platform.product);ex.set_userAgent(platform.ua);ex.set_version(platform.version);var mo=platform.os.architecture;var mp=new hK(platform.os.toString(),(ss.isValue(mo)?mo.toString():''),platform.os.family,platform.os.version);ex.set_OS(mp);e.resolve(ex)},function(){e.reject()});return e};global.tab.PlatformInfo=ic;var id=function(){};id.__typeName='tab.PluginContractModules';global.tab.PluginContractModules=id;var ie=function(e,ex,mo,mp){this.$4=null;this.$2=null;this.$3=null;this.$5=null;this.$6=null;this.$1$1=null;this.$1$2=null;this.$4=e;this.set_notificationId(ex);this.$2=mo;this.$6=mp};ie.__typeName='tab.PluginDialogNotificationHandler';global.tab.PluginDialogNotificationHandler=ie;var ig=function(){this.$0=new tab.DisposableHolder};ig.__typeName='tab.PluginPresentationLayer';ig.get_instance=function(){ig.$0=ig.$0||new ig;return ig.$0};ig.set_instance=function(e){ig.$0=e};global.tab.PluginPresentationLayer=ig;var ih=function(){};ih.__typeName='tab.PluginTelemetry';ih.get_instance=function(){ih.$0=ih.$0||new ih;return ih.$0};ih.set_instance=function(e){ih.$0=e};global.tab.PluginTelemetry=ih;var ii=function(){};ii.__typeName='tab.PresentationModel';ii.commandResultByName=function(e,ex){var mo=ck.buildQualifiedCommandName(ex.commandNamespace,ex.commandName);var mp=e['vqlCmdResponse'.toString()];var mq=mp.cmdResultList;for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];if(ss.referenceEquals(ms.commandName,mo)){return ms.commandReturn}}return null};ii.fromCommand=function(e,ex){var mo=ii.commandResultByName(e,ex);if(!ex.preserveRootResult&&ss.isValue(mo)&&ss.getKeyCount(mo)===1&&!ss.keyExists(mo,'commandRedirectType'.toString())){var mp=new ss.ObjectEnumerator(mo);try{while(mp.moveNext()){var mq=mp.current();return mq.value}}finally{mp.dispose()}}else{return mo}return null};ii.getConnectionAttemptInfo=function(e){var ex=e['vqlCmdResponse'.toString()];if(ss.isValue(ex.layoutStatus)){var mo=ex.layoutStatus;if(ss.isValue(mo.connectionAttemptInfo)&&mo.connectionAttemptInfo.dataSourceConnectionAttemptInfos.length>0){return mo.connectionAttemptInfo}}return null};ii.ensurePath=function(e,ex,mo){var mp=ex;var mq=e;var mr;var ms;var mt=mo.get_pathList();for(var mu=0,mv=mt.length;mu<mv;mu++){var mw=mt[mu];var mx=mw.name;mr=mp[mx];ms=(ss.isValue(mq)?mq[mx]:null);if(!ss.isValue(mr)){var my=mu===mv-1;var mz=null;if(mw.type===1&&ss.isValue(ms)){var mA=ms;var mB=[];for(var mC=0;mC<mA.length;mC++){mB[mC]=tab.MiscUtil.cloneObject(mA[mC])}mz=mB}else if(!my&&ss.isValue(ms)){mz=ii.cloneObjWithScalarsOnly(ms)}else if(mw.type===1){mz=[]}else{mz=new Object}mp[mx]=mz}mp=mp[mx];mq=ms}return mp};ii.insertAtPath=function(e,ex,mo,mp){ii.ensurePath(e,ex,mo);ii.$0(ex,mo,mp)};ii.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var ex=new Object;var mo=e;var mp=Object.keys(mo);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];var ms=mo[mr];if(!_.isObject(ms)){ex[mr]=ms}}return ex};ii.$0=function(e,ex,mo){if(ex.get_pathList().length===0){var mp=mo;var mq=new ss.ObjectEnumerator(mp);try{while(mq.moveNext()){var mr=mq.current();e[mr.key]=mr.value}}finally{mq.dispose()}}else{var ms,mt;var mu=e;var mv=ex.get_pathList();for(ms=0,mt=mv.length;ms<mt-1;ms++){mu=mu[mv[ms].name]}mu[mv[mt-1].name]=mo}};global.tab.PresentationModel=ii;var ij=function(){this.$1=null;this.$0=[]};ij.__typeName='tab.PresModelPath';global.tab.PresModelPath=ij;var ik=function(e,ex){this.name=null;this.type=0;this.name=e;this.type=ss.coalesce(ex,0)};ik.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=ik;var il=function(){};il.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=il;var im=function(){this.$j=null;this.$p=null;this.$m=null;this.$o=null;this.$k=null;this.$i=false;this.$r=null;this.$l=null;this.$s={};this.$n=null;this.$q=null;this.$1$1=null;this.$1$2=null};im.__typeName='tab.ProgressiveLoader';im.get_progressiveLoadEnabled=function(){return!tsConfig.is_authoring&&!tsConfig.isPublic};im.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var ex=e.presModelHolder;e.presModelHolder=null;var mo=tab.MiscUtil.cloneObject(e);mo.presModelHolder=ex;e.presModelHolder=ex;return mo};im.removeZoneContent=function(e){if(ss.isValue(e)){var ex=e;delete ex['presModelHolder']}return e};im.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}var ex=e.workbookPresModel.dashboardPresModel;if(ex.isStory){var mo=ex.zones;ex=null;var mp=_.keys(mo);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];var ms=mo[mr];if(ss.isValue(ms.zoneCommon)&&ms.zoneCommon.zoneType!=='flipboard'){continue}var mt=mm.getContent(ms,'flipboard');if(ss.isNullOrUndefined(mt)||ss.isNullOrUndefined(mt.storyPoints)){return null}var mu=mt.storyPoints[mt.activeStoryPointId.toString()];if(ss.isNullOrUndefined(mu)){return null}ex=mu.dashboardPresModel;break}}return ex};im.$0=function(e){var ex={};if(ss.isValue(e)&&ss.isValue(e.zones)){var mo=_.values(e.zones);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];if(ss.isValue(mq)&&ss.isValue(mq.zoneCommon)){ex[mq.zoneId]=mq.zoneCommon.zoneType}}}return ex};im.$4=function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.workbookPresModel;if(ss.isNullOrUndefined(ex)){return false}var mo=ex.dashboardPresModel;if(ss.isNullOrUndefined(mo)){return false}var mp=mo.zones;if(ss.isNullOrUndefined(mp)){return false}return true};im.$2=function(){if(ss.isValue(im.$8)){return}im.$8={};im.$8['flipboard-nav']=1;im.$8['flipboard']=1;im.$8['viz']=2;im.$8['color']=3;im.$8['shape']=3;im.$8['size']=3;im.$8['map']=3;im.$8['filter']=4;im.$8['highlighter']=4;im.$8['paramctrl']=4;im.$8['current-page']=4;im.$8['web']=5;im.$8['bitmap']=5;im.$8['dashboard-object']=5;im.$6={};im.$6[1]={item1:-1,item2:1};im.$6[2]={item1:1,item2:0.33};im.$6[3]={item1:3,item2:0.33};im.$6[4]={item1:3,item2:0.33};im.$6[5]={item1:-1,item2:1};im.$6[6]={item1:-1,item2:1}};im.$3=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};im.$1=function(e,ex){if(ss.isNullOrUndefined(e)){return ex}return ii.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=im;var io=function(e,ex){this.$2$1=null;hv.call(this,e,new ik(ex,null))};io.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=io;var ip=function(e,ex,mo,mp,mq,mr){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=ex;this.$1=mo;this.$0=mp;this.$4=mq;this.$3=mr};ip.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=ip;var iq=function(){};iq.__typeName='tab.QuickFilterDateFormatUtil';iq.$0=function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'};iq.getDateTimeFormatMode=function(e,ex,mo,mp){if(ss.isNullOrUndefined(mo)||ss.isNullOrUndefined(mo.isAutoFormat)||!mo.isAutoFormat){return 0}if(iq.$0(ex)){return 0}if(iq.isPureTime(e,ex)){return 1}if(mp===2){return 2}for(var mq=0;mq<e.length;mq++){var mr=e[mq];if(ss.isNullOrUndefined(mr)||!ss.isValue(mr.v)){continue}var ms=hc.buildDataValueFromFilterValue(mr);if(tableau.format.isDateTimeWithNonMidnightTime(ms)){return 2}}return 0};iq.isPureTime=function(e,ex){var mo=hc.timestampsWithSameDateOrNull(e);return mo&&!iq.$0(ex)};global.tab.QuickFilterDateFormatUtil=iq;var ir=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;hv.call(this,e,new ik('quickFilterDisplay'.toString(),null));this.set_quickFilterType('unknown')};ir.__typeName='tab.QuickFilterDisplayModel';ir.supportsQuickFilterType=function(e){if(e.quickFilter.quickFilterType==='categorical'){var ex=e.quickFilter;switch(ex.categoricalMode){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=ir;var it=function(e,ex){hv.call(this,e,ex)};it.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=it;var iu=function(){ss.makeGenericType(bd,[Object,iv]).call(this)};iu.__typeName='tab.QuickSortCmd';global.tab.QuickSortCmd=iu;var iv=function(e){this.$$c=null;this.$$c=e};iv.__typeName='tab.QuickSortCmd$Response';global.tab.QuickSortCmd$Response=iv;var iw=function(e){hv.call(this,e,new ik('radialSelectionDistanceInfo'.toString(),null))};iw.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=iw;var ix=function(){ss.makeGenericType(lJ,[Object,iy]).call(this)};ix.__typeName='tab.RaiseConnectionsSucceededNotificationCmd';ix.get_commandName=function(){return'raise-connections-succeeded-notification'};global.tab.RaiseConnectionsSucceededNotificationCmd=ix;var iy=function(e){this.$$c=null;this.$$c=e};iy.__typeName='tab.RaiseConnectionsSucceededNotificationCmd$Response';global.tab.RaiseConnectionsSucceededNotificationCmd$Response=iy;var iz=function(){ix.call(this)};iz.__typeName='tab.RaiseConnectionsSucceededNotificationCommand';global.tab.RaiseConnectionsSucceededNotificationCommand=iz;var iA=function(){ss.makeGenericType(lJ,[Object,iB]).call(this)};iA.__typeName='tab.RaiseDialogClosedNotificationCmd';iA.get_commandName=function(){return'raise-dialog-closed-notification'};global.tab.RaiseDialogClosedNotificationCmd=iA;var iB=function(e){this.$$c=null;this.$$c=e};iB.__typeName='tab.RaiseDialogClosedNotificationCmd$Response';global.tab.RaiseDialogClosedNotificationCmd$Response=iB;var iC=function(){iA.call(this)};iC.__typeName='tab.RaiseDialogClosedNotificationCommand';global.tab.RaiseDialogClosedNotificationCommand=iC;var iD=function(){};iD.__typeName='tab.RangeTransform';global.tab.RangeTransform=iD;var iE=function(e){this.$3$1=null;le.call(this,e,new ik('rankTableCalcPresModel'.toString(),null))};iE.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=iE;var iF=function(e){hv.call(this,e,new ik('rasterMapSource'.toString(),null))};iF.__typeName='tab.RasterMapSourceModel';global.tab.RasterMapSourceModel=iF;var iG=function(e,ex,mo,mp,mq,mr){this.$4=null;this.$3=null;this.$1=null;this.$2=false;this.$0=null;this.$5={};this.$1$1=0;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=0;this.$1$7=0;this.$1$8=false;this.set_lineWidth(0);this.set_lineColor(bU.fromArgbInt(0));this.set_linePattern('none');this.set_id(e);this.$0=mq;this.set_scope(mo);this.set_instantRefLineIsEnabled(mp);this.$2=ex;this.$4=new p(this.$2,mr)};iG.__typeName='tab.ReferenceLineElement';iG.$ctor2=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv,mw){iG.call(this,e,ex,mo,mp,ms,mt);this.set_lineWidth(mq.LineWidth[mr]);var mx=tab.EnumConversions.linePatternFromInt(mq.LinePattern[mr]);if(mx==='none'){this.set_linePattern('solid');this.set_lineColor(new bU(0,0,0,0))}else{this.set_linePattern(mx);this.set_lineColor(bU.fromArgbInt(mq.LineColor[mr]))}this.set_lineJoin('bevel');this.set_lineCap(((this.get_lineWidth()>1)?'flat':'square'));if(ss.isValue(mu)&&mu.text_run.length>0){this.$3=new q(mw,mu,mv,bU.fromArgbInt(mq.LabelBackgroundColor[mr]))}};iG.$ctor1=function(e,ex,mo,mp,mq,mr,ms,mt,mu){iG.call(this,e,ex,mo,mp,mq,mr);if(ms.length>0){this.$1=new r(mt,mu,ms)}};global.tab.ReferenceLineElement=iG;var iH=function(e,ex){this.$4=new n;this.$3=new n;hv.call(this,e,new ik('ReferenceLines',null));this.$4=this.$2(ex.RefLines);this.$3=this.$2(ex.InstantRefLines)};iH.__typeName='tab.ReferenceLinesModel';iH.$1=function(e){var ex=function(mr,ms){return mr.item1-ms.item1};var mo={};var mp=new ss.ObjectEnumerator(e);try{while(mp.moveNext()){var mq=mp.current();mq.value.sort(ex);mo[mq.key]=mq.value.map(function(mr){return mr.item2})}}finally{mp.dispose()}return mo};iH.$0=function(e){var ex={};var mo=new ss.ObjectEnumerator(e);try{while(mo.moveNext()){var mp=mo.current();for(var mq=0;mq<mp.value.length;mq++){var mr=mp.value[mq];var ms=mr.item2.get_id();if(!ss.keyExists(ex,ms)){ex[ms]=[]}ex[ms].push(mr.item2)}}}finally{mo.dispose()}return ex};global.tab.ReferenceLinesModel=iH;var iI=function(e){this.$3$1=null;eO.call(this,e)};iI.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=iI;var iJ=function(){};iJ.__typeName='tab.RelationalTableModelFactory';iJ.create=function(e,ex,mo){var mp=iJ.$0(e,ex,mo);var mq=(ss.keyExists(mo.get_tables(),e.fn)?mo.get_tables()[e.fn].asRelationalTable():new iI(ex));mq.update(e,mp);return mq};iJ.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.columnList)){return mp}for(var mq=0;mq<e.columnList.length;mq++){var mr=e.columnList[mq];mp.push(eK.create(mr,ex,mo))}return mp};global.tab.RelationalTableModelFactory=iJ;var iK=function(e,ex,mo,mp){bQ.call(this,ex,null,e,mo,mp)};iK.__typeName='tab.RemoteClientCommand';iK.create=function(e,ex,mo,mp){return new iK(e,ex,mo,mp)};global.tab.RemoteClientCommand=iK;var iL=function(){ss.makeGenericType(bd,[Object,iM]).call(this)};iL.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd';global.tab.ReplaceFileConnectionFromFileUploadCmd=iL;var iM=function(e){this.$$c=null;this.$$c=e};iM.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd$Response';global.tab.ReplaceFileConnectionFromFileUploadCmd$Response=iM;var iN=function(e){this.$2=null;this.$1=null;this.$0=null;var ex=e.split('/');this.$2=ex[0].replace(new RegExp('^ds:'),'');this.$1=ex[1];if(ex.length>2){if(ex.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=ex[2]+'/'+ex[3]}else{this.$0=''}};iN.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=iN;var iO=function(){ss.makeGenericType(bd,[Object,iP]).call(this)};iO.__typeName='tab.ReportMapboxParamsFailureCmd';global.tab.ReportMapboxParamsFailureCmd=iO;var iP=function(e){this.$$c=null;this.$$c=e};iP.__typeName='tab.ReportMapboxParamsFailureCmd$Response';global.tab.ReportMapboxParamsFailureCmd$Response=iP;var iQ=function(){ss.makeGenericType(bd,[Object,iR]).call(this)};iQ.__typeName='tab.ResetFieldCaptionCmd';global.tab.ResetFieldCaptionCmd=iQ;var iR=function(e){this.$$c=null;this.$$c=e};iR.__typeName='tab.ResetFieldCaptionCmd$Response';global.tab.ResetFieldCaptionCmd$Response=iR;var iS=function(){ss.makeGenericType(lJ,[Object,iT]).call(this)};iS.__typeName='tab.ResetFieldsCaptionCheckCmd';iS.get_commandName=function(){return'reset-fields-caption-check'};global.tab.ResetFieldsCaptionCheckCmd=iS;var iT=function(e){this.$$c=null;this.$$c=e};iT.__typeName='tab.ResetFieldsCaptionCheckCmd$Response';global.tab.ResetFieldsCaptionCheckCmd$Response=iT;var iU=function(){ss.makeGenericType(bd,[Object,iV]).call(this);this.set_uiBlocking('immediately')};iU.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=iU;var iV=function(e){this.$$c=null;this.$$c=e};iV.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=iV;var iW=function(){ss.makeGenericType(bd,[Object,iX]).call(this);this.set_uiBlocking('immediately')};iW.__typeName='tab.ResizeCellWebCmd';global.tab.ResizeCellWebCmd=iW;var iX=function(e){this.$$c=null;this.$$c=e};iX.__typeName='tab.ResizeCellWebCmd$Response';global.tab.ResizeCellWebCmd$Response=iX;var iY=function(e){hv.call(this,e,new ik('resizeEntity'.toString(),null))};iY.__typeName='tab.ResizeEntityModel';global.tab.ResizeEntityModel=iY;var iZ=function(){ss.makeGenericType(bd,[Object,ja]).call(this);this.set_uiBlocking('immediately')};iZ.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=iZ;var ja=function(e){this.$$c=null;this.$$c=e};ja.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=ja;var jb=function(){ss.makeGenericType(bd,[Object,jc]).call(this);this.set_uiBlocking('immediately')};jb.__typeName='tab.ResizeHeaderWebCmd';global.tab.ResizeHeaderWebCmd=jb;var jc=function(e){this.$$c=null;this.$$c=e};jc.__typeName='tab.ResizeHeaderWebCmd$Response';global.tab.ResizeHeaderWebCmd$Response=jc;var jd=function(e){this.$2$1=null;this.cellSize=null;this.$2$2=null;this.$2$3=null;hv.call(this,e,new ik('resizeInfo'.toString(),null))};jd.__typeName='tab.ResizeInfoModel';global.tab.ResizeInfoModel=jd;var je=function(e,ex,mo,mp,mq,mr){this.visualId=null;this.offset=0;this.length=0;this.isXResizer=false;this.minimumOffset=0;this.maximumOffset=0;this.visualId=e;this.offset=ex;this.length=mo;this.isXResizer=mp;this.minimumOffset=mq;this.maximumOffset=mr};je.__typeName='tab.ResizerViewModelParams';global.tab.ResizerViewModelParams=je;var jf=function(){};jf.__typeName='tab.ResponseStatusCode';global.tab.ResponseStatusCode=jf;var jg=function(){ss.makeGenericType(bd,[Object,jh]).call(this)};jg.__typeName='tab.RetrieveSummaryStatisticsCmd';global.tab.RetrieveSummaryStatisticsCmd=jg;var jh=function(e){this.$$c=null;this.$$c=e};jh.__typeName='tab.RetrieveSummaryStatisticsCmd$Response';global.tab.RetrieveSummaryStatisticsCmd$Response=jh;var ji=function(){};ji.__typeName='tab.RichTextClientCommands';ji.isRichTextEditingCommand=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandName)){return false}return e.commandName.toString().indexOf('rich-text-editor')!==-1};ji.callRichTextEditingCommand=function(e){if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'create-worksheet-title-rich-text-editor'}.cmd)){ji.createWorksheetTitleRichTextEditor(e.commandParams['worksheet'])}else{var ex=ss.isValue(e.commandParams['isNewZone'])&&e.commandParams['isNewZone'];ji.createTextObjectRichTextEditor(e.commandParams['zoneId'],ex)}};ji.createTextObjectRichTextEditor=function(e,ex){var mo=new cH;mo.c['dashboard']=tsConfig.current_sheet_name;mo.c['zoneId']=e|0;mo.c['isNewZone']=ex;mo.c['richTextEditorConfiguration']=jj.get_instance();mo.set_uiBlocking('afterDelay');var mp=mo;mp.invoke()};ji.createWorksheetTitleRichTextEditor=function(e){var ex=new cF;ex.c['worksheet']=e;ex.c['richTextEditorConfiguration']=jj.get_instance();ex.set_uiBlocking('afterDelay');var mo=ex;if(tsConfig.current_sheet_type==='dashboard'){mo.c['dashboard']=tsConfig.current_sheet_name}mo.invoke()};ji.createAnnotationRichTextEditor=function(e,ex){var mo=new cB;mo.c['worksheet']=e;mo.c['objectIds']=ex;mo.c['richTextEditorConfiguration']=jj.get_instance();mo.set_uiBlocking('afterDelay');var mp=mo;mp.invoke()};global.tab.RichTextClientCommands=ji;var jj=function(){};jj.__typeName='tab.RichTextEditorConfigurationFactory';jj.get_instance=function(){return jj.$2||(jj.$2={contentSecurityPolicy:jj.$0(),fontFamilies:fs.compatibleFontNameList(),fontSizes:fs.fontSizes,cssFontRules:jj.$1(),staticAssetsPath:tsConfig.local_static_asset_prefix})};jj.set_instance=function(e){jj.$2=e};jj.clear=function(){jj.set_instance(null)};jj.$0=function(){var e=ss.replaceAllString(tsConfig.external_static_asset_prefix,tsConfig.local_static_asset_prefix,'');return ss.formatString("default-src 'none'; script-src 'self'; connect-src 'self'; img-src * data:; style-src 'self' 'unsafe-inline'; font-src 'self' {0};",e)};jj.$1=function(){var e='';var ex=jQ.get_allCustomFonts();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];e+='@font-face\n{\n'+tab.StyleUtil.createCSSRules(mp.toCSSRules())+'}\n'}return e};global.tab.RichTextEditorConfigurationFactory=jj;var jk=function(){};jk.__typeName='tab.RightAreaDrawerCommands';jk.showRightAreaDrawer=function(e){if(!Y.get_instance().get_rightAreaDrawer().get_isOpen()){Y.get_instance().get_rightAreaDrawer().set_typeOfContentBeingLoaded(e);Y.get_instance().get_rightAreaDrawer().set_isOpen(true)}};jk.hideRightAreaDrawer=function(){Y.get_instance().get_rightAreaDrawer().set_isOpen(false)};jk.setTypeOfContentBeingLoaded=function(e){Y.get_instance().get_rightAreaDrawer().set_typeOfContentBeingLoaded(e)};global.tab.RightAreaDrawerCommands=jk;var jl=function(e){this.$2=false;this.$3=0;this.$2$1=null;hv.call(this,e,new ik('formatItem'.toString(),null))};jl.__typeName='tab.RightAreaDrawerModel';global.tab.RightAreaDrawerModel=jl;var jm=function(){};jm.__typeName='tab.RightAreaDrawerModel$LoadingContentType';global.tab.RightAreaDrawerModel$LoadingContentType=jm;var jn=function(e){this.$1$1=null;this.$1$2=null;this.$1$3=null;var ex=JSON.parse(e.$$c['text']);if(ss.keyExists(ex,'initialDatastore')){this.set_vtl(ex['vtl']);this.set_dataStore(ex['initialDatastore'])}if(ss.keyExists(ex,'dataStoreUpdater')){this.set_dataStoreUpdater(ex['dataStoreUpdater'])}};jn.__typeName='tab.RuntimeDataResponseParser';jn.$ctor1=function(e){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.set_dataStore(e.runtimeLayoutInputDatastore);this.set_vtl(e.runtimeVtl);this.set_dataStoreUpdater(e.runtimeDatastoreUpdater)};global.tab.RuntimeDataResponseParser=jn;var jo=function(){};jo.__typeName='tab.RuntimeLoader';jo.requestRuntimeLoad=function(){var e=$.Deferred();var ex={};var mo=function(){e.resolve();return true};var mp=function(ms){return tsConfig.external_static_asset_prefix+'/javascripts/'+ms};var mq=function(ms){tab.RuntimeUtil.emscriptenAborted();tab.ErrorTrace.report(new ss.JsErrorException(ms))};ex.onRuntimeInitialized=mo;ex.locateFile=mp;ex.onAbort=mq;var mr=window.self;mr['RuntimeWebModule']=ex;hz.load$1('runtimeweb',[]);return e.promise()};global.tab.RuntimeLoader=jo;var jp=function(){this.$4=null;this.$3=false;this.$2=false};jp.__typeName='tab.RuntimeStatusView';global.tab.RuntimeStatusView=jp;var jq=function(){};jq.__typeName='tab.RuntimeTelemetry';jq.logVizUsage=function(e,ex){jq.$0(jq.$1[e],ex)};jq.logVizUsage$1=function(e,ex){jq.$0(e,ex)};jq.$0=function(e,ex){hF.logEvent('RuntimeClientEvents',ss.mkdict(['EventName',e,'ElapsedTime',ex]))};global.tab.RuntimeTelemetry=jq;var jr=function(){};jr.__typeName='tab.RuntimeTelemetry$RuntimeTelemetryEventType';global.tab.RuntimeTelemetry$RuntimeTelemetryEventType=jr;var js=function(){};js.__typeName='tab.SaveServerCommands';js.$2=function(){return tab.Logger.lazyGetLogger(js)};js.saveWorkbook=function(e){var ex=function(mo){mi.getWorldUpdate(function(){if(ss.isValue(e)){e(mo)}})};js.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,null,null,ex,null,bX.get().legacySession,Y.get_instance().get_workbook().get_oAuthCredentialIds())};js.saveWorkbookAs=function(e,ex,mo,mp,mq,mr,ms,mt){js.$0('publish_as',e,ex,mo,mp,mq,ms,mt,bX.get().legacySession,mr)};js.SaveWorkbookAs=function(e,ex,mo,mp,mq,mr,ms,mt){js.saveWorkbookAs(e,ex.id,mo,mp,mq,mr,ms,mt)};js.SaveDatasource=function(e,ex,mo,mp,mq,mr){var ms=bX.get().legacySession;var mt=function(mz,mA,mB){var mC=js.$1(Object).call(null,mB.responseText);mq(mC)};var mu=function(mz,mA,mB){var mC=js.$1(Object).call(null,mz.responseText);if(ss.isValue(mr)&&ss.isValue(mC)){mr(mC)}else{ms.$3(mB,mz,false,null)}};var mv={type:'POST',dataType:'json',url:bX.$1('publish_ds',ms)};var mw=ss.mkdict(['project',mp.toString(),'datasource',e,'name',ex]);if(ss.isValue(mo)){mw['no_overwrite']=ss.unbox(mo)}var mx=mj.getMultipartData(null,mw);mv.contentType='multipart/form-data; boundary='+mx.header;mv.data=mx.body;var my=new jR(ms,null,mt,mu,true,true);mj.helper(mv,my)};js.$1=function(e){return function(ex){var mo;try{mo=JSON.parse(ex)}catch(mp){mo=null}return mo}};js.$0=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv){var mw=function(mC,mD,mE){var mF=mC;if(ss.keyExists(mF,'workbook')){var mG=mF['workbook'];ms(mG)}else{ms(null)}};var mx=function(mC,mD,mE){var mF=js.$1(Object).call(null,mC.responseText);var mG=js.$1(Object).call(null,mC.responseText);if(ss.isValue(mt)&&ss.isValue(mF)){mt(mF)}else if(mC.status===403&&ss.isValue(mG)&&mG.code===60011){mu.get_sessionErrorHandler().handleSessionForbiddenAction(mG.code,mG.message)}else{mu.get_sessionErrorHandler().handleCommandFailure(mE,mC,null,false)}};var my={type:'POST',dataType:'json',url:bX.$1(e,mu)};var mz=ss.mkdict(['project',mo,'name',ex,'display_tabs',mp]);if(ss.isValue(mq)){mz['save_db_passwords']=ss.unbox(mq)}if(ss.isValue(mr)){mz['no_overwrite']=ss.unbox(mr)}if(ss.isValue(mv)){mz['oauth_credential_ids']=mv}var mA=mj.getMultipartData(null,mz);my.contentType='multipart/form-data; boundary='+mA.header;my.data=mA.body;var mB=new jR(mu,null,mw,mx,true,true);mj.helper(my,mB)};js.transitionSessionAfterLogon=function(e){bX.get().$Q(e)};global.tab.SaveServerCommands=js;var jt=function(){};jt.__typeName='tab.SceneDataUtil';jt.isPaneFlagSet=function(e,ex){return(e&jt.$1[ex])!==0};jt.isMarkFlagSet=function(e,ex){return(e&jt.$0[ex])!==0};jt.isCustomShape=function(e){return!ss.keyExists(jt.shapeMapping,e.toString())};jt.getFogBlendFactor=function(e){var ex=0.185000002384186;var mo=0.275000005960464;var mp=75;var mq=e.get_r()<=mp&&e.get_g()<=mp&&e.get_b()<=mp;return(mq?mo:ex)};jt.fogColorTransform=function(e,ex,mo){var mp=ss.Int32.trunc(ex.get_r()+e.get_r()*mo);var mq=ss.Int32.trunc(ex.get_g()+e.get_g()*mo);var mr=ss.Int32.trunc(ex.get_b()+e.get_b()*mo);return new bU(mp,mq,mr,e.get_a())};jt.applyFogToBackgroundColor=function(e,ex){var mo=245;if(e.get_r()>=mo&&e.get_g()>=mo&&e.get_b()>=mo){e=new bU(mo,mo,mo,e.get_a())}var mp=ss.Int32.trunc((1-ex)*e.get_r());var mq=ss.Int32.trunc((1-ex)*e.get_g());var mr=ss.Int32.trunc((1-ex)*e.get_b());return new bU(mp,mq,mr,e.get_a())};jt.createColorCollection=function(e,ex,mo){var mp={};mp['colorOverrideOpaque']=e.toRgb();mp['colorOverrideNone']=e.toRgba();mp['colorOverrideFog']=jt.fogColorTransform(e,ex,mo).toRgba();return mp};jt.createOpaqueColorCollection=function(e){var ex={};var mo=bU.fromColorCode(e['colorOverrideNone']);ex['colorOverrideNone']=mo.toRgb();mo=bU.fromColorCode(e['colorOverrideFog']);ex['colorOverrideFog']=mo.toRgb();mo=bU.fromColorCode(e['colorOverrideOpaque']);ex['colorOverrideOpaque']=mo.toRgb();return ex};jt.applyFoggingToColor=function(e,ex){var mo=jt.getFogBlendFactor(ex);var mp=jt.applyFogToBackgroundColor(ex,mo);return jt.fogColorTransform(e,mp,mo)};jt.convertShapeToNumber=function(e){var ex;var mo=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{ex=(mo?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{ex=(mo?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{ex=(mo?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{ex=(mo?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{ex=(mo?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{ex=(mo?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{ex=(mo?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{ex=(mo?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{ex=(mo?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{ex=(mo?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(jt.reverseShapeMapping[ex])};jt.getNumPaneItems=function(e){return e.endIndex-e.startIndex};jt.calcCellClip=function(e){var ex=0;var mo=jt.isPaneFlagSet(e,'clip-to-cell-x');var mp=jt.isPaneFlagSet(e,'clip-to-cell-y');if(mo&&mp){ex=3}else if(mo){ex=1}else if(mp){ex=2}return ex};jt.isSupportedStampShape=function(e){if(!ss.keyExists(jt.reverseShapeMapping,e)){return false}var ex=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{ex=false;break}default:{break}}return ex};global.tab.SceneDataUtil=jt;var ju=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;hv.call(this,null,new ik('sceneElement'.toString(),null));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new hP(e.paneId));this.set_bounds({minX:e.floatLeft,minY:e.floatTop,maxX:e.floatLeft+e.floatWidth,maxY:e.floatTop+e.floatHeight})};ju.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=ju;var jv=function(e){this.$c={};this.$7=[];this.$8=[];this.$9=null;this.$b=null;this.$a=null;this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik('scene'.toString(),null));this.$9=[];this.$b=[]};jv.__typeName='tab.SceneModel';global.tab.SceneModel=jv;var jw=function(){};jw.__typeName='tab.SceneUtils';jw.getPaneDescriptorKeyFromRuntimeData=function(e,ex){var mo=new ss.ObjectEnumerator(ex.PDMarks);try{while(mo.moveNext()){var mp=mo.current();var mq=mp.value;var mr=mq.Encodings.tuple_id;var ms=_.find(mr,function(mt){return mt===e});if(ss.isValue(ms)){return mp.key}}}finally{mo.dispose()}return''};global.tab.SceneUtils=jw;var jx=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};jx.__typeName='tab.Schedule';jx.$1=function(e){var ex=new Date;ex.setHours(ss.Int32.div(e,60));ex.setMinutes(e%60);ex.setSeconds(0);return ex.toLocaleTimeString()};jx.$2=function(e,ex){var mo=e+ex;mo=mo%1440;if(mo<0){mo=1440+mo}return mo};jx.$0=function(e,ex){var mo=e+ex;if(mo>1440){return 1}else if(mo<0){return-1}return 0};global.tab.Schedule=jx;var jy=function(){};jy.__typeName='tab.SchemaClientCommands';jy.addFieldToSheet=function(e,ex){var mo={};mo['fn']=e;mo['worksheet']=tsConfig.current_sheet_name;var mp=co.newCommand({ns:'tabdoc',cmd:'add-to-sheet'},mo);bX.SendCommand(iK.create(mp,'immediately',function(mq){ex()},function(mq){ex()}))};jy.validateFieldCaption=function(e,ex,mo){var mp={};mp['uniqueName']=e;mp['caption']=ex;var mq=co.newCommand({ns:'tabdoc',cmd:'validate-field-caption'},mp);jP.executeServerCommand(mq,'none',function(mr){mo(mr)},null)};jy.editFieldCaption=function(e,ex,mo){var mp={};mp['uniqueName']=e;mp['caption']=ex;var mq=co.newCommand({ns:'tabdoc',cmd:'edit-schema-caption'},mp);bX.SendCommand(new bQ('none',function(mr){var ms=mr.makeMutablePresModel(mo.get_fieldsModel(),false);for(var mt=0;mt<ms.length;++mt){if(ss.referenceEquals(ms[mt].fn,e)){ms[mt].fieldCaption=ex;break}}},mq,null,null))};jy.validateDrillPathName=function(e,ex,mo,mp){var mq={};mq['datasource']=e;if(ss.isValue(ex)){mq['drillPathName']=ex}mq['newDrillPath']=mo;var mr=co.newCommand({ns:'tabdoc',cmd:'validate-drill-path-name'},mq);jP.executeServerCommand(mr,'afterDelay',function(ms){mp(ms)},null)};jy.addDrillPath=function(e,ex,mo){var mp={};mp['datasource']=e;mp['newDrillPath']=ex;mp['fieldVector']=mo;var mq=co.newCommand({ns:'tabdoc',cmd:'add-drill-path'},mp);jP.executeServerCommand(mq,'immediately',co.createCommandRedirectSuccessHandler(null),null)};jy.renameDrillPath=function(e,ex,mo){var mp={};mp['datasource']=e;mp['drillPathName']=ex;mp['newDrillPath']=mo;var mq=co.newCommand({ns:'tabdoc',cmd:'rename-drill-path'},mp);jP.executeServerCommand(mq,'immediately',co.createCommandRedirectSuccessHandler(null),null)};jy.setActiveDataSourceName=function(e,ex){var mo={};mo['datasource']=e;var mp=(ex?{ns:'tabdoc',cmd:'set-active-data-source-name'}:{ns:'tabdoc',cmd:'set-active-datasource'});var mq=co.newCommand(mp,mo);mq.commandParams['datasource']=e;var mr=Y.get_instance().get_workbook().get_uiMode()==='data-tab';var ms=null;if(mr){ms=function(mu){var mv=mu.makeMutablePresModel(Y.get_instance().get_workbook().get_dataSchema(),false);mv.datasource=e}}var mt=$.Deferred();bX.SendCommand(new bQ((mr?'none':'immediately'),ms,mq,function(mu){mt.resolve()},function(mu){mt.reject()}));return mt};jy.dropOnSchemaDrillPath=function(e,ex,mo,mp){var mq=new eg;mq.c['datasource']=e;mq.c['columns']=ex.filter(function(ms){return ms.get_isColumn()}).map(function(ms){return ms.get_qualifiedLocalName()});mq.c['drillpathVector']=ex.filter(function(ms){return ms.get_isDrillPath()}).map(function(ms){return ms.get_localName().toString()});mq.c['drillPathName']=mo.get_localName();mq.set_uiBlocking('immediately');var mr=mq;mr.invoke().done(function(ms){mp(ms.$$c['dropCommandModel'])})};jy.dropOnSchemaField=function(e,ex,mo,mp){var mq=new ei;mq.c['datasource']=e;mq.c['columns']=ex.filter(function(ms){return ms.get_isColumn()}).map(function(ms){return ms.get_qualifiedLocalName()});mq.c['drillpathVector']=ex.filter(function(ms){return ms.get_isDrillPath()}).map(function(ms){return ms.get_localName().toString()});mq.c['fieldNameLocal']=mo.get_qualifiedLocalName();mq.set_uiBlocking('immediately');var mr=mq;mr.invoke().done(function(ms){mp(ms.$$c['dropCommandModel'])})};jy.dropOnSchemaSection=function(e,ex,mo,mp){var mq=new ek;mq.c['datasource']=e;mq.c['columns']=ex.filter(function(ms){return ms.get_isColumn()}).map(function(ms){return ms.get_qualifiedLocalName()});mq.c['drillpathVector']=ex.filter(function(ms){return ms.get_isDrillPath()}).map(function(ms){return ms.get_localName().toString()});mq.c['folderRole']=mo;mq.set_uiBlocking('immediately');var mr=mq;mr.invoke().done(function(ms){mp(ms.$$c['dropCommandModel'])})};jy.requestSchemaContextMenu=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'build-data-schema-context-menu'},null);var mp={};mp['datasource']=e;mo.commandParams=mp;bX.SendCommand(iK.create(mo,'none',function(mq){ex(mq)},null))};jy.requestSchemaFieldContextMenu=function(e,ex,mo){var mp=co.newCommand({ns:'tabdoc',cmd:'build-data-schema-field-context-menu'},null);var mq={};mq['datasource']=e;mq['fn']=ex;mp.commandParams=mq;bX.SendCommand(iK.create(mp,'none',function(mr){mo(mr)},null))};jy.requestDataTabFieldContextMenu=function(e,ex,mo){var mp=new bm;mp.c['datasource']=e;mp.c['fieldVector']=ex;var mq=mp;mq.invoke().then(mo)};jy.requestSchemaFieldChangeDataTypeMenu=function(e,ex,mo){var mp=new bs;mp.c['datasource']=e;mp.c['fieldVector']=ex;var mq=mp;mq.invoke().then(mo)};jy.requestSchemaDrillPathContextMenu=function(e,ex,mo){var mp=co.newCommand({ns:'tabdoc',cmd:'build-data-schema-drill-path-context-menu'},null);var mq={};mq['datasource']=e;mq['drillPathName']=ex;mp.commandParams=mq;bX.SendCommand(iK.create(mp,'none',function(mr){mo(mr)},null))};jy.requestSchemaDataSourceContextMenu=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'build-data-schema-data-source-context-menu'},null);var mp={};mp['datasource']=e;mp['allowSaveDataSource']=tsConfig.allow_save_data_source;mo.commandParams=mp;bX.SendCommand(iK.create(mo,'none',function(mq){ex(mq)},null))};jy.convertUnnamedFields=function(e){var ex=$.Deferred();var mo={};mo['fieldVector']=e;var mp=new iK(co.newCommand({ns:'tabdoc',cmd:'convert-unnamed-fields'},mo),'immediately',function(mq){ex.resolve(mq)},function(mq){ex.reject()});bX.SendCommand(mp);return ex.promise()};jy.toggleFieldBlending=function(e,ex){var mo=$.Deferred();var mp={};mp['globalFieldName']=e;mp['worksheet']=tsConfig.current_sheet_name;var mq=new bQ('immediately',ex,co.newCommand({ns:'tabdoc',cmd:'toggle-field-blending'},mp),function(mr){mo.resolve(mr)},function(mr){mo.reject()});bX.SendCommand(mq);return mo.promise()};jy.renameDataSource=function(e,ex,mo){if(ss.isNullOrEmptyString(e)){return}var mp={};mp['datasource']=e;mp['newDatasource']=ex;var mq=function(ms){var mt=Y.get_instance().get_workbook().get_dataSchema().findDataSourceByName(e);var mu=ms.makeMutablePresModel(mt,false);mu.datasourceCaption=ex};var mr=new bQ('none',mq,co.newCommand({ns:'tabdoc',cmd:'rename-data-source'},mp),null,function(ms){mo()});bX.SendCommand(mr)};jy.getHasUnusedFiles=function(e){var ex=new fP;var mo=function(mp){e(mp.$$c['bool'])};ex.invoke().then(mo)};global.tab.SchemaClientCommands=jy;var jz=function(){};jz.__typeName='tab.SchemaCommandLocalOptions';jz.$0=function(){var e=function(mq){return function(mr){var ms=ss.safeCast(mq['datasource'],String);var mt=ss.safeCast(mq['newDatasource'],String);var mu=Y.get_instance().get_workbook().get_dataSchema().findDataSourceByName(ms);var mv=mr.makeMutablePresModel(mu,false);mv.datasourceCaption=mt}};var ex=lM.get_instance();var mo={ns:'tabdoc',cmd:{ns:'tabdoc',cmd:'rename-data-source'}.cmd};var mp=new ce;mp.localWorkFactory=e;mp.blocking='none';ex.registerCommandLocalOptions(mo,mp)};jz.$1=function(){var e=Y.get_instance().get_workbook().get_uiMode()==='data-tab';var ex=null;if(e){ex=function(mr){return function(ms){var mt=ss.safeCast(mr['datasource'],String);var mu=ms.makeMutablePresModel(Y.get_instance().get_workbook().get_dataSchema(),false);mu.datasource=mt}};var mo=lM.get_instance();var mp={ns:'tabdoc',cmd:{ns:'tabdoc',cmd:'set-active-data-source-name'}.cmd};var mq=new ce;mq.localWorkFactory=ex;mq.blocking='none';mo.registerCommandLocalOptions(mp,mq)}};global.tab.SchemaCommandLocalOptions=jz;var jA=function(){};jA.__typeName='tab.SchemaUtils';jA.getDataSourceNames=function(e){return _.map(e.get_dataSources(),function(ex){return ex.get_caption().toString()})};jA.isValidNewDatasourceCaption$1=function(e,ex,mo){var mp=jA.getDataSourceNames(ex);return jA.isValidNewDatasourceCaption(e.get_caption(),mp,mo)};jA.isValidNewDatasourceCaption=function(e,ex,mo){mo=(!ss.isNullOrEmptyString(mo)?mo.trim():null);return!(ss.isNullOrEmptyString(mo)||ss.referenceEquals(mo,e)||mo.toString().length>254||ss.contains(ex,mo))};global.tab.SchemaUtils=jA;var jB=function(){ss.makeGenericType(bd,[Object,jC]).call(this)};jB.__typeName='tab.SelectByTupleValueCmd';global.tab.SelectByTupleValueCmd=jB;var jC=function(e){this.$$c=null;this.$$c=e};jC.__typeName='tab.SelectByTupleValueCmd$Response';global.tab.SelectByTupleValueCmd$Response=jC;var jD=function(){ss.makeGenericType(bd,[Object,jE]).call(this)};jD.__typeName='tab.SelectDataServerDataSourceForProxyCmd';global.tab.SelectDataServerDataSourceForProxyCmd=jD;var jE=function(e){this.$$c=null;this.$$c=e};jE.__typeName='tab.SelectDataServerDataSourceForProxyCmd$Response';global.tab.SelectDataServerDataSourceForProxyCmd$Response=jE;var jF=function(){ss.makeGenericType(bd,[Object,jG]).call(this)};jF.__typeName='tab.SelectExtensionAndAddToDashboardCmd';global.tab.SelectExtensionAndAddToDashboardCmd=jF;var jG=function(e){this.$$c=null;this.$$c=e};jG.__typeName='tab.SelectExtensionAndAddToDashboardCmd$Response';global.tab.SelectExtensionAndAddToDashboardCmd$Response=jG;var jH=function(){};jH.__typeName='tab.SelectionClientCommands';jH.$o=function(){return tab.Logger.lazyGetLogger(jH)};jH.setActiveZone=function(e,ex){if(!tsConfig.allow_select){return}if(hy.isActiveZone(e)){return}bX.SendCommand(jH.$1(e,ex))};jH.clearActiveZone=function(){jH.setActiveZone(0,null)};jH.updateShowMeCommandsForSelectedFields=function(e,ex,mo){var mp={};mp['fieldVector']=e;mp['worksheet']=tsConfig.current_sheet_name;mp['datasource']=ex;var mq=co.newCommand({ns:'tabdoc',cmd:'get-show-me'},mp);bX.SendCommand(iK.create(mq,'none',function(mr){mo(mr)},function(mr){mo(null)}))};jH.toggleLegendHighlight=function(e,ex,mo,mp,mq){if(!tsConfig.allow_highlight){return}var mr=jH.$6(ex,mo,mp,mq,e);bX.SendCommand(mr)};jH.selectRectRegionAndDoUbertip=function(e,ex,mo,mp,mq,mr,ms){if(!tsConfig.allow_select){return}var mt=jH.$e(ex,e,mo,mp,ms,mr);var mu=co.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},mt);jH.$g(mq,mu)};jH.selectCircleRegionAndDoUbertip=function(e,ex,mo,mp,mq,mr,ms){if(!tsConfig.allow_select){return}var mt=jH.$e(ex,e,mp,mq,null,null);var mu={};mu.center={};mu.center.x=Math.round(mo.center.x);mu.center.y=Math.round(mo.center.y);mu.radius=Math.round(mo.radius);mt['radialSelection']=mu;mt['radialDistanceHitTest']=ms;var mv=co.newCommand({ns:'tabsrv',cmd:'select-radial-region-no-return-server'},mt);jH.$g(mr,mv)};jH.selectPolyRegionAndDoUbertip=function(e,ex,mo,mp,mq,mr){if(!tsConfig.allow_select){return}var ms=jH.$e(ex,e,mp,mq,null,null);var mt=mo.length;var mu=new Array(mt);for(var mv=0;mv<mt;mv++){var mw={};mw.x=Math.round(mo[mv].x);mw.y=Math.round(mo[mv].y);mu[mv]=mw}ms['lassoSelection']=mu;var mx=co.newCommand({ns:'tabsrv',cmd:'select-lasso-region-no-return-server'},ms);jH.$g(mr,mx)};jH.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var ex=hy.getZoneIdForSheetName(e.worksheet);if(ex!==-1&&!hy.isActiveZone(ex)){jH.setActiveZone(ex,null);return}var mo=jH.$3(e);bX.SendCommand(mo)};jH.selectLegendItemsLocal=function(e,ex,mo,mp,mq,mr,ms){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty$1(mo)&&!ms){return}var mt=jH.buildSelectLegendItemsLocalCommand(e,ex,mo,mp,mq,mr);bX.SendCommand(mt)};jH.clearHighlighting=function(e,ex,mo,mp){var mq=co.newCommand({ns:'tabdoc',cmd:'clear-highlighting'},null);var mr={};co.addVisualIdToCommand(mr,mo);mr['fn']=ex;mq.commandParams=mr;var ms=new bQ('none',function(mt){if(mp){jH.$a(mt,mo);jH.$h([],e,hy.getVisualModelFromVisualId(mo,null),mt)}},mq,null,null);bX.SendCommand(ms)};jH.highlightItems=function(e,ex,mo,mp,mq){var mr=co.newCommand({ns:'tabdoc',cmd:'highlight-items'},null);var ms={};co.addVisualIdToCommand(ms,mp);ms['fn']=ex;ms['objectIds']=mo;mr.commandParams=ms;var mt=new bQ('none',function(mu){if(mq){if(mo.length===0){jH.$a(mu,mp)}jH.$h(mo,e,hy.getVisualModelFromVisualId(mp,null),mu)}},mr,null,null);bX.SendCommand(mt)};jH.selectNode=function(e,ex,mo,mp,mq,mr,ms){if(!tsConfig.allow_select){return}var mt=jH.$4(e,ex,mo,mp,mq,mr,ms);bX.SendCommand(mt)};jH.selectMarksLocal=function(e,ex,mo,mp,mq){if(!tsConfig.allow_select){return}if(Y.get_instance().get_isOffline()){var mr=jH.buildSelectMarksLocalCommand(e,ex,mo,mp,null);bX.SendCommand(mr);mq();tabBootstrap.ViewerBootstrap.get_instance().apiResponder.sendEventNotification('api.MarksSelectionChangedEvent',ex.worksheet,null)}else{var ms=jH.buildSelectMarksLocalCommand(e,ex,mo,mp,mq);bX.SendCommand(ms)}};jH.selectRefLinesLocal=function(e,ex,mo,mp){if(!tsConfig.allow_select){return}if(Y.get_instance().get_isOffline()){var mq=jH.$5(e,ex,mo,null);bX.SendCommand(mq);mp()}else{var mr=jH.$5(e,ex,mo,mp);bX.SendCommand(mr)}};jH.buildSelectMarksLocalCommand=function(e,ex,mo,mp,mq){var mr=hy.getZoneIdForSheetName(ex.worksheet);var ms=hy.getVisualModelFromVisualId(ex,null);var mt=ms.get_selectionsModel();var mu=mt.tupleSelection;var mv=Q.computeCommandBlockingOptionForLocallyRenderedSelection(ex);var mw;if(tab.FeatureFlags.isEnabled('RuntimeUnifySelectionCommands')){mw=co.newCommand({ns:'tabdoc',cmd:'select-mark'},jH.$f(e,'tuples',mo,ex))}else{mw=co.newCommand({ns:'tabdoc',cmd:'select'},jH.$f(e,'tuples',mo,ex))}var mx=mr!==-1&&!hy.isActiveZone(mr);var my=mx||!Y.get_instance().get_isTableCalcHighlightingMode();var mz=function(mB){if(mx){jH.setActiveZoneLocal(mr,mB)}if(Y.get_instance().get_isTableCalcHighlightingMode()){return}var mC=jN.resolveMarkSelection(mo,e,mu,mp);var mD=mB.makeMutablePresModel(mu,false);mD.objectIds=mC;if(mo!=='toggle'&&mo!=='range'){jH.$b(mB,mt.nodeSelection,ms)}var mE=mt.get_allLegendSelections();for(var mF=0;mF<mE.length;mF++){var mG=mE[mF];jH.$b(mB,mG,ms)}jH.$8(mB,ex,true);var mH=ms.getEffectiveSelectedTuples(mC);Q.executeActions(ex,'on-select',mH,mB,true);jH.updateInstantRefLineLocal(ms,mB,mH)};var mA=new bQ(mv,(my?mz:null),mw,function(mB){if(ss.isValue(mq)){mq()}},null);return mA};jH.$5=function(e,ex,mo,mp){var mq=co.newCommand({ns:'tabdoc',cmd:'select'},jH.$f(e,'ref-lines',mo,ex));var mr=hy.getZoneIdForSheetName(ex.worksheet);var ms=mr!==-1&&!hy.isActiveZone(mr);var mt=function(mv){if(ms){jH.setActiveZoneLocal(mr,mv)}var mw=hy.getVisualModelFromVisualId(ex,null);var mx=mw.get_selectionsModel().refLineSelection;var my=jN.resolveRefLineSelection(mo,e,mx);jH.clearAllIncludingMasterSelection(mv);Q.executeActions(ex,'on-select',[],mv,true);var mz=mv.makeMutablePresModel(mx,false);mz.objectIds=my};var mu=new bQ('none',mt,mq,function(mv){if(ss.isValue(mp)){mp()}},null);return mu};jH.$3=function(e){var ex={};co.addVisualIdToCommand(ex,e);var mo=co.newCommand({ns:'tabsrv',cmd:'select-none'},ex);var mp=new bQ((Y.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(mq){if(Y.get_instance().get_isLocalRenderMode()){var mr=jH.clearAllIncludingMasterSelection(mq);if(mr){Q.executeActions(e,'on-select',[],mq,true);jH.$9(hy.getVisualModelFromVisualId(e,null),mq)}}},mo,null,null);return mp};jH.$k=function(e,ex){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var mo=hy.getVisualModels(Y.get_instance());var mp=_.keys(mo);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];if(!e.hasBrushingForSheet(mr)){continue}var ms=mo[mr];jH.$n(e,ex,ms,mr);jH.$m(e,ex,ms,mr);jH.$l(e,ex,ms,mr);var mt=e.getLegendBrushing(mr);var mu=ms.get_brushingsModel().get_allLegendSelections();for(var mv=0;mv<mu.length;mv++){var mw=mu[mv];jH.$i(ex,mw,mt)}}};jH.$i=function(e,ex,mo){var mp=ex.get_selectionPresModel().legendSelectionInfo;var mq=[];var mr=bj.$0(mp.legendType,mp.legendColumns);if(ss.isValue(mo[mr])){mq=mo[mr]}if(mq.length!==0||ex.get_selectionPresModel().objectIds.length!==0){var ms=e.makeMutablePresModel(ex,false);ms.objectIds=mq}};jH.$l=function(e,ex,mo,mp){var mq=e.getNodeBrushing(mp);if(mq.length!==0||!mo.get_brushingsModel().nodeSelection.isEmpty){var mr=ex.makeMutablePresModel(mo.get_brushingsModel().nodeSelection,false);mr.selectedNodes=mq}};jH.$m=function(e,ex,mo,mp){var mq=mo.get_brushingsModel().trendLineSelection;var mr=e.getTrendlineBrushing(mp);if(mr.length!==0||mq.get_selectionPresModel().objectIds.length!==0){var ms=ex.makeMutablePresModel(mq,false);ms.objectIds=mr}};jH.$n=function(e,ex,mo,mp){var mq=e.getTupleBrushing(mp);if(mq.length!==0||mo.get_brushingsModel().tupleSelection.get_selectionPresModel().objectIds.length!==0){var mr=ex.makeMutablePresModel(mo.get_brushingsModel().tupleSelection,false);mr.objectIds=mq;jH.updateInstantRefLineLocal(mo,ex,mq)}};jH.$7=function(e){var ex=hy.getVisualModels(Y.get_instance());var mo=ss.getEnumerator(Object.keys(ex));try{while(mo.moveNext()){var mp=mo.current();var mq=ex[mp];if(mq.get_brushingsModel().get_isEmpty()){continue}var mr=e.makeMutablePresModel(mq.get_brushingsModel().tupleSelection,false);mr.objectIds=[];var ms=e.makeMutablePresModel(mq.get_brushingsModel().nodeSelection,false);ms.selectedNodes=[];var mt=mq.get_brushingsModel().get_allLegendSelections();for(var mu=0;mu<mt.length;mu++){var mv=mt[mu];if(mv.isEmpty){continue}var mw=e.makeMutablePresModel(mv,false);var mx=[];mw.objectIds=mx}jH.$9(mq,e)}}finally{mo.dispose()}};jH.$2=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'set-active-zone'},null);var mp={};mp['dashboardPm']=(ss.isNullOrUndefined(ex)?hy.findContentDashboard(null).pm.sheetPath:ex);mp['zoneId']=e;mo.commandParams=mp;return mo};jH.$h=function(e,ex,mo,mp){var mq=mo.get_vizDataModel();if(ss.isNullOrUndefined(mq)){return}var mr=mq.getVizDataField(ex.get_fieldName());var ms=[mr.get_fieldCaption()];var mt=bj.createBrushingComputer(ex,mo,e,ms,true);jH.$k(mt,mp)};jH.$j=function(e,ex,mo,mp){var mq=null;if(ex.get_isHighlightEnabled()){mq=bj.createBrushingComputer(ex,mo,e,ex.get_fieldCaptions(),ex.get_isOneWay())}jH.$k(mq,mp)};jH.$8=function(e,ex,mo){var mp=false;var mq=hy.getVisualModels(Y.get_instance());var mr=ss.getEnumerator(Object.keys(mq));try{while(mr.moveNext()){var ms=mr.current();var mt=!ss.isNullOrUndefined(ex)&&ss.referenceEquals(ms,ex.worksheet);if(!mo||!mt){var mu=hy.findContentDashboard(null);var mv=!mo&&mt||!Q.isWorksheetSourceOfASelectTriggeredFilterAction(mu,ms);var mw=mq[ms];var mx=mw.get_selectionsModel().selectionModels;for(var my=0;my<mx.length;my++){var mz=mx[my];if(mv||mz.get_selectionType()!=='tuples'&&mz.get_selectionType()!=='nodes'){mp=jH.$c(e,mz,true)||mp}}}}}finally{mr.dispose()}return mp};jH.clearAllIncludingMasterSelection=function(e){var ex=false;var mo=hy.getVisualModels(Y.get_instance());var mp=ss.getEnumerator(Object.keys(mo));try{while(mp.moveNext()){var mq=mp.current();var mr=mo[mq];var ms=mr.get_selectionsModel().selectionModels;for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];ex=jH.$c(e,mu,true)||ex}}}finally{mp.dispose()}return ex};jH.$e=function(e,ex,mo,mp,mq,mr){var ms={};co.addVisualIdToCommand(ms,mp);var mt=new Object;var mu=lE.create(mt);mu.set_x(Math.round(e.x));mu.set_y(Math.round(e.y));mu.set_w(Math.round(e.w||0));mu.set_h(Math.round(e.h||0));mu.set_r(ex);if(ss.isValue(mq)){mu.set_fns(mq)}ms['vizRegionRect']=mt;ms['mouseAction']=mo;ms['whitespaceSelectionBehavior']=mr;return ms};jH.$d=function(e,ex,mo,mp,mq){var mr={};co.addVisualIdToCommand(mr,ex);mr['legendNames']=mo.get_legendNames();mr['legendType']=mp;mr['objectIds']=e;mr['zoneId']=mq;return mr};jH.$b=function(e,ex,mo){if(ss.isValue(ex)){jH.$c(e,ex,false);if(ex.get_selectionType()==='nodes'){mo.$1(e.modelUpdateContext)}}};jH.$f=function(e,ex,mo,mp){var mq={};if(ss.isValue(mp)){co.addVisualIdToCommand(mq,mp)}var mr={};mr.objectIds=e;mr.selectionType=ex;mq['selection']=mr;mq['selectOptions']=jH.$p[mo];return mq};jH.setActiveZoneLocal=function(e,ex){var mo=hy.findContentDashboard(null);if(ss.isNullOrUndefined(mo)||ss.isNullOrUndefined(mo.pm)){return}var mp=ex.makeMutablePresModel(mo,false);mp.activeZoneId=e};jH.$c=function(e,ex,mo){if(ex.isEmpty){return false}var mp=e.makeMutablePresModel(ex,false);mp.objectIds=[];mp.selectedNodes=[];if(mo){ex.setOverriddenTupleIds([],e.modelUpdateContext)}return true};jH.$6=function(e,ex,mo,mp,mq){var mr=!hy.isActiveZone(mq);var ms={};ms['r']=ex;ms['legendNames']=mo;co.addVisualIdToCommand(ms,e);if(mr){jH.$0(mq,ms)}var mt=co.newCommand({ns:'tabsrv',cmd:'toggle-legend-server'},ms);var mu=function(mv){if(ss.isValue(mp)){mp(mv)}};return new bQ('immediately',function(mv){if(mr){jH.setActiveZoneLocal(mq,mv)}},mt,mu,null)};jH.$0=function(e,ex){ex['dashboardPm']=hy.findContentDashboard(null).pm.sheetPath;ex['zoneId']=e};jH.$g=function(e,ex){ex.commandNamespace='tabsrv';var mo=new bQ('afterDelay',null,ex,function(){e()},null);bX.SendCommand(mo)};jH.$a=function(e,ex){var mo=hy.getVisualModelFromVisualId(ex,null);var mp=mo.get_selectionsModel();var mq=mp.get_allLegendSelections();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];jH.$c(e,ms,false)}jH.$9(mo,e)};jH.buildSelectLegendItemsLocalCommand=function(e,ex,mo,mp,mq,mr){var ms=hy.getVisualModelFromVisualId(mp,null);var mt=ms.get_selectionsModel();var mu=mt.getLegendSelection(mr,mq.get_legendNames());var mv=jN.resolveLegendSelection(ex,mo,mq,mu);var mw=co.newCommand({ns:'tabdoc',cmd:'select-legend-items'},jH.$d(mv,mp,mq,mr,e));var mx=new bQ('none',function(my){jH.setActiveZoneLocal(e,my);if(!mu.isAnyLegendItemSelected()&&mv.length===0&&!hy.isActiveZone(e)){return}var mz=my.makeMutablePresModel(mu,false);mz.objectIds=mv;mz.legendSelectionInfo={legendType:mq.get_legendTypeEnum(),legendColumns:mq.get_legendNames()};jH.$b(my,mt.tupleSelection,ms);jH.$b(my,mt.nodeSelection,ms);var mA=mt.get_allLegendSelections();for(var mB=0;mB<mA.length;mB++){var mC=mA[mB];if(!ss.referenceEquals(mC,mu)){jH.$b(my,mC,ms)}}jH.$8(my,mp,true);jH.$j(mv,mq,ms,my)},mw,null,null);return mx};jH.$4=function(e,ex,mo,mp,mq,mr,ms){var mt=hy.getZoneIdForSheetName(mr.worksheet);var mu=hy.getVisualModelFromVisualId(mr,null);var mv=mu.get_selectionsModel();var mw=mv.nodeSelection;var mx=Q.computeCommandBlockingOptionForLocallyRenderedSelection(mr);var my=2;var mz=null;if(ss.isValue(mq.extentsWidth)&&ss.isValue(mq.extentsHeight)){var mA=mq.extentsX||0;var mB=mq.extentsY||0;mz={x:mA,y:mB,w:mq.extentsWidth,h:mq.extentsHeight}}var mC=tab.RectXYUtil.shiftCoordsTowardsCenter(ex,mz,my);var mD={x:mC.x,y:mC.y,w:0,h:0};var mE=co.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},null);mE.commandParams=jH.$e(mD,e,mo,mr,null,null);var mF=mt!==-1&&!hy.isActiveZone(mt);if(mF){jH.$0(mt,mE.commandParams)}var mG=mF||!Y.get_instance().get_isTableCalcHighlightingMode();var mH=function(mJ){if(mF){jH.setActiveZoneLocal(mt,mJ)}if(Y.get_instance().get_isTableCalcHighlightingMode()){return}var mK=mJ.makeMutablePresModel(mw,false);jN.resolveNodeSelection(mo,mp.get_groupItemNodes(),mq,mw,mK);var mL=mo!=='toggle'&&mo!=='range';var mM=mv.tupleSelection.get_ids();if(mL){jH.$b(mJ,mv.tupleSelection,mu);mM=[]}var mN=mv.get_allLegendSelections();for(var mO=0;mO<mN.length;mO++){var mP=mN[mO];jH.$b(mJ,mP,mu)}jH.$8(mJ,mr,true);mu.$6(mK.selectedNodes,mJ.modelUpdateContext);var mQ=mu.getEffectiveSelectedTuples(mM);Q.executeActions(mr,'on-select',mQ,mJ,true);jH.updateInstantRefLineLocal(mu,mJ,mQ)};var mI=new bQ(mx,(mG?mH:null),mE,function(){if(ss.isValue(ms)){ms()}},null);return mI};jH.$1=function(e,ex){var mo=new bQ('none',function(mp){jH.setActiveZoneLocal(e,mp)},jH.$2(e,ex),null,null);return mo};jH.$9=function(e,ex){jH.updateInstantRefLineLocal(e,ex,[])};jH.updateInstantRefLineLocal=function(e,ex,mo){if(!tab.FeatureFlags.isEnabled('RuntimeInstantRefLine')||!tab.FeatureFlags.isEnabled('RuntimeWebInstantRefLine')){return}var mp=function(mq){var mr=new tab.RuePacker;mr.addInt64Array((new tab.LayoutInputStoreKeys).selectionData().tupleBrushedSelection().toString(),tab.RuePacker.uInt32ArrayToInt64Array(mo));return tab.RuntimeWebModule.proxy.rueUpdateCommandHex(mq.get_VM(),tab.HexEncoder.encodeBufferToHex(mr.pack()))};e.updateRuntimeHandles(ex,1,mp)};global.tab.SelectionClientCommands=jH;var jI=function(e,ex){this.$5=null;this.$7=null;this.$6=null;this.$2$1=null;this.isEmpty=false;hv.call(this,e,new ik(ex.toString(),null));this.isEmpty=true};jI.__typeName='tab.SelectionModel';jI.$0=function(e,ex,mo,mp,mq,mr){var ms=new ss.StringBuilder;if(ss.isValue(e)){ms.append(e.join(';'))}ms.append('=');if(ss.isValue(ex)){ms.append(ex.join(';'))}ms.append('=');if(ss.isValue(mo)){ms.append(mo)}ms.append('=');if(ss.isValue(mp)){ms.append(mp);ms.append('+');if(ss.isValue(mq)){ms.append(mq)}}ms.append('=');if(ss.isValue(mr)){ms.append(mr)}return ms.toString()};global.tab.SelectionModel=jI;var jJ=function(e,ex,mo){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(ex);this.set_objectIds(mo||[])};jJ.__typeName='tab.SelectionsDifference';jJ.noDifference=function(){return new jJ(false,0,null)};global.tab.SelectionsDifference=jJ;var jK=function(){};jK.__typeName='tab.SelectionsDiffReason';global.tab.SelectionsDiffReason=jK;var jL=function(e,ex){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;hv.call(this,e,new ik(ex,1));this.selectionModels=[];var mo=hC.get_noopContext();this.tupleSelection=this.$1('tuples',mo);this.nodeSelection=this.$1('nodes',mo);this.trendLineSelection=this.$1('trend-lines',mo);this.refLineSelection=this.$1('ref-lines',mo)};jL.__typeName='tab.SelectionsModel';jL.$1=function(e){var ex={selectionType:e};switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{ex.objectIds=[];break}case'legend-items':{ex.legendSelectionInfo={};ex.objectIds=[];break}case'nodes':{ex.selectedNodes=[];break}default:{break}}return ex};jL.$0=function(e,ex){var mo=[];var mp=new Set;for(var mq=0;mq<e.length;mq++){var mr=e[mq];mp.add(mr)}for(var ms=0;ms<ex.length;ms++){var mt=ex[ms];if(mp.has(mt)){mp.delete(mt)}else{mo.push(mt)}}mp.forEach(function(mu){mo.push(mu)});return mo};jL.computeTupleDictionaryDifference=function(e,ex){var mo=tab.MapUtility.createCopy(String,ss.Int32).call(null,e);var mp=tab.MapUtility.createCopy(String,ss.Int32).call(null,ex);var mq=[];mo.forEach(function(mr,ms){if(!mp.has(ms)){mq.push(mo.get(ms))}else{mp.delete(ms)}});mp.forEach(function(mr,ms){mq.push(mp.get(ms))});return mq};global.tab.SelectionsModel=jL;var jM=function(){this.selections=null};jM.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=jM;var jN=function(){};jN.__typeName='tab.SelectionUtils';jN.isCategoricalAndTupleAssociatedHeader=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return false}return!jN.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(e)&&tab.MiscUtil.isNullOrEmpty$3(e.fn)&&!tab.MiscUtil.isNullOrEmpty$2(e.columnIndices)};jN.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return false}return tab.MiscUtil.isNullOrEmpty$2(e.columnIndices)&&!tab.MiscUtil.isNullOrEmpty$3(e.fn)};jN.isQuantitative=function(e){return ss.isValue(e)&&ss.isValue(e.node)&&ss.isValue(e.node.fn)};jN.resolveLegendSelection=function(e,ex,mo,mp){var mq=[];if(ss.isValue(ex)){var mr=mp.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(mr.objectIds)){ss.arrayAddRange(mq,mr.objectIds)}for(var ms=0;ms<ex.length;ms++){var mt=ex[ms];var mu=ss.indexOf(mq,mt.objectId);if(mu>=0){ss.removeAt(mq,mu)}else{mq.push(mt.objectId)}}break}case'range':{mq=jN.$2(ex,mo,mr);break}case'simple':{var mv=(ss.isValue(mr.objectIds)?mr.objectIds:[]);if(mv.length<=1){for(var mw=0;mw<ex.length;mw++){var mx=ex[mw];var my=ss.indexOf(mv,mx.objectId);if(my>=0){ss.removeAt(mq,my)}else{mq.push(mx.objectId)}}}else{ss.arrayAddRange(mq,_.pluck(ex,'objectId'.toString()))}break}}}return Array.prototype.slice.call(mq)};jN.resolveMarkSelection=function(e,ex,mo,mp){var mq=[];switch(e){case'simple':{if(!mp&&ex.length===1&&mo.get_ids().length===1&&ex[0]===mo.get_ids()[0]){ss.clear(mq)}else{ss.arrayAddRange(mq,ex)}break}case'range':case'toggle':{ss.arrayAddRange(mq,mo.get_ids());for(var mr=0;mr<ex.length;mr++){var ms=ex[mr];if(!mo.isObjectSelected(ms)){mq.push(ms)}else if(!mp){ss.remove(mq,ms)}}break}}return Array.prototype.slice.call(mq)};jN.resolveRefLineSelection=function(e,ex,mo){var mp=[];if(e==='simple'||e==='toggle'){if(ex.length===1&&mo.get_ids().length===1&&ex[0]===mo.get_ids()[0]){ss.clear(mp)}else{ss.arrayAddRange(mp,ex)}}return Array.prototype.slice.call(mp)};jN.resolveNodeSelection=function(e,ex,mo,mp,mq){var mr=null;if(ss.isValue(mo)){switch(e){case'simple':{mr=jN.$4(mo,mp);break}case'toggle':{mr=jN.$5(mo,mp);break}case'range':{mr=jN.$3(ex,mo,mp);break}}}mq.selectedNodes=mr||[]};jN.$2=function(e,ex,mo){var mp=[];if(!ss.isValue(mo.objectIds)){return mp}ss.arrayAddRange(mp,mo.objectIds);ss.arrayAddRange(mp,_.pluck(e,'objectId'.toString()));var mq=mo.objectIds[mo.objectIds.length-1];var mr=-1;for(var ms=0;ms<ex.get_items().length;ms++){if(ex.get_items()[ms].objectId===mq){mr=ms}}var mt=((e.length>0)?ss.indexOf(ex.get_items(),e[0]):-1);if(mr<0||mt<0){return _.uniq(mp)}var mu=Math.min(mr,mt);var mv=mu+Math.abs(mr-mt)+1;for(var mw=mu;mw<mv;mw++){mp.push(ex.get_items()[mw].objectId)}return _.uniq(mp)};jN.$0=function(e,ex,mo,mp){var mq=new Set;for(var mr=0;mr<e.length;mr++){var ms=e[mr];if(ss.isValue(ms.node.columnIndices)){tab.SetUtilities.addAll(ss.Int32).call(null,mq,ms.node.columnIndices)}}for(var mt=0;mt<ex.length;mt++){var mu=(mo?ex[ex.length-1-mt]:ex[mt]);if(ss.isValue(mu.columnIndices)&&tab.SetUtilities.interserctWith(ss.Int32).call(null,mq,mu.columnIndices).size===0){continue}var mv=jN.$1(e,mu,mp);if(mv!==-1){return mv}}return-1};jN.$1=function(e,ex,mo){if(ss.isValue(mo)&&!_.isEqual(mo,ex.columnIndices)){return-1}for(var mp=0;mp<e.length;mp++){var mq=e[mp];if(_.isEqual(mq.node,ex)){return mp}}return-1};jN.$3=function(e,ex,mo){var mp=jN.nodeSelectionFromDrawGroup(ex);var mq=mo.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty$2(mp.columnIndices)&&tab.MiscUtil.isNullOrEmpty$3(mp.fn)){return mq}if(mq.length===0){mq.push(mp);return mq}var mr=jN.isCategoricalAndTupleAssociatedHeader(mp);var ms=jN.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(mp);var mt=!mr&&!ms;var mu=jN.$0(e,mo.get_nodes(),true,(mr?mp.columnIndices:null));if(mu===-1){if(mr||mt&&!mo.isNodeAncestorSelected(ex)){mq.push(mp)}return mq}if(mo.isNodeSelected(ex)||mo.isNodeAncestorSelected(ex)){return mq}var mv=jN.$0(e,mo.get_nodes(),false,null);var mw=jN.nodeSelectionFromDrawGroup(e[mv]);if(mr){if(!_.isEqual(mw.columnIndices,mp.columnIndices)){mq.push(mp);return mq}}else{var mx=jN.$1(e,mw,null)!==-1;if(ms&&!mx){return mq}if(mt&&!mx){mq.push(mp);return mq}}var my=ss.indexOf(e,ex);var mz=Math.min(mu,my);var mA=mz+Math.abs(mu-my)+1;for(var mB=mz;mB<mA;mB++){var mC=e[mB];var mD=!mr||_.isEqual(mC.node.columnIndices,mp.columnIndices);if(mD&&!mo.isNodeAncestorSelected(mC)&&!mo.isNodeSelected(mC)){mq.push(jN.nodeSelectionFromDrawGroup(mC))}}return mq};jN.$4=function(e,ex){if(!ex.isNodeSelected(e)||ex.get_nodes().length>1){return[jN.nodeSelectionFromDrawGroup(e)]}return null};jN.$5=function(e,ex){var mo=[];ss.arrayAddRange(mo,ex.get_nodes());var mp=ex.findNodeSelection(e);if(ss.isValue(mp)){ss.remove(mo,mp)}else if(!ex.isNodeAncestorSelected(e)){mo.push(jN.nodeSelectionFromDrawGroup(e))}return Array.prototype.slice.call(mo)};jN.nodeSelectionFromDrawGroup=function(e){var ex={};if(!ss.isValue(e.node)){return ex}var mo=e.node;if(ss.isValue(mo.columnIndices)){ex.columnIndices=mo.columnIndices||[]}if(ss.isValue(mo.aliasIndices)){ex.aliasIndices=mo.aliasIndices||[]}if(ss.isValue(mo.fn)){ex.fn=mo.fn}if(ss.isValue(mo.axisOrientation)){ex.axisOrientation=mo.axisOrientation}if(ss.isValue(mo.duplicateIndex)){ex.duplicateIndex=mo.duplicateIndex}if(ss.isValue(mo.pageIndex)){ex.pageIndex=mo.pageIndex}return ex};global.tab.SelectionUtils=jN;var jO=function(e,ex,mo){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=ex;this.scheduleDetails=mo};jO.__typeName='tab.SelfServiceSchedule';global.tab.SelfServiceSchedule=jO;var jP=function(){};jP.__typeName='tab.ServerCommands';jP.get_interceptorCount=function(){var e=0;var ex=new ss.ObjectEnumerator(jP.$1);try{while(ex.moveNext()){var mo=ex.current();e+=mo.value.length}}finally{ex.dispose()}return e};jP.$0=function(e,ex){return e+':'+ex};jP.executeServerCommand=function(e,ex,mo,mp){var mq=jP.$1[jP.$0(e.commandNamespace,e.commandName)];if(ss.isValue(mq)){for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];if(ms(e)===1){return}}}bX.SendCommand(iK.create(e,ex,mo,mp))};jP.intercept=function(e,ex){for(var mo=0;mo<e.length;mo++){var mp=e[mo];jP.addCommandInterceptor(ex,mp.ns,mp.cmd)}return ex};jP.addCommandInterceptor=function(e,ex,mo){var mp=jP.$0(ex,mo);var mq=jP.$1[mp];if(ss.isNullOrUndefined(mq)){mq=[];jP.$1[mp]=mq}mq.push(e);return e};jP.removeIntercept=function(e,ex){for(var mo=0;mo<e.length;mo++){var mp=e[mo];jP.removeCommandInterceptor(ex,mp.ns,mp.cmd)}};jP.removeCommandInterceptor=function(e,ex,mo){var mp=jP.$0(ex,mo);var mq=jP.$1[mp];if(!ss.isNullOrUndefined(mq)){for(var mr=0;mr<mq.length;mr++){if(ss.staticEquals(mq[mr],e)){ss.removeAt(mq,mr);if(mq.length===0){delete jP.$1[mp];return}}}}};jP.clearAllCommandInterceptors=function(){ss.clearKeys(jP.$1)};global.tab.ServerCommands=jP;var jQ=function(){};jQ.__typeName='tab.ServerFonts';jQ.get_effectiveDefaultFontFamily=function(){return[ss.formatString('"{0}"',(BrowserSupport.BrowserSupport.IsHighDpi()?'Benton Sans':'Benton Sans Low-DPI')),'Arial','Helvetica','sans-serif'].join(', ')};jQ.get_allCustomFonts=function(){return _.union(jQ.tableauFontNames,jQ.effectiveBentonSans)};global.tab.ServerFonts=jQ;var jR=function(e,ex,mo,mp,mq,mr){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=ex;this.$4=mo;this.$3=mp;if(ss.isNullOrUndefined(mq)||mq){this.$1=this.$5.incrementWait(mr,true)}};jR.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=jR;var jS=function(e,ex){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=ex;this.$9=e.formatSessionMethod('status')};jS.__typeName='tab.SessionAjaxHandler';var jT=function(){};jT.__typeName='tab.SessionCommands';jT.ping=function(){(new ia).invoke()};global.tab.SessionCommands=jT;var jU=function(){};jU.__typeName='tab.SessionHeartbeat';jU.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();jU.$0=e;if(e-jU.$1>jU.$3){jU.$1=e;jT.ping()}};jU.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();jU.$1=e;if(e-jU.$0>jU.$2){jU.$0=e;ma.extendWorkgroupSession()}};global.tab.SessionHeartbeat=jU;var jV=function(e){this.$6=null;this.$5=null;this.$4=false;this.$6=e};jV.__typeName='tab.SessionRecoveryErrorHandler';jV.$0=function(e){jV.$1$1=ss.delegateCombine(jV.$1$1,e)};jV.$1=function(e){jV.$1$1=ss.delegateRemove(jV.$1$1,e)};jV.get_sessionRecoveryAttemptHandled=function(){return!ss.staticEquals(jV.$1$1,null)};jV.subscribeToSessionRecoveryAttempt=function(e){if(!jV.get_sessionRecoveryAttemptHandled()){jV.addSessionRecoveryAttemptHandler(e)}};jV.addSessionRecoveryAttemptHandler=function(e){jV.$0(e)};jV.removeSessionRecoveryAttemptHandler=function(e){jV.$1(e)};jV.raiseSessionRecoveryAttemptEvent=function(e){if(jV.get_sessionRecoveryAttemptHandled()&&e.length>0){jV.$1$1()}};global.tab.SessionRecoveryErrorHandler=jV;var jW=function(){};jW.__typeName='tab.SessionServerCommands';jW.cancelLatestSetTimeout=function(){window.clearTimeout(jW.$2)};jW.destroySessionAndForward$1=function(e,ex){var mo=2000;var mp=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,ex)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,ex)}};var mq=null;mq=function(){mp();jW.cancelLatestSetTimeout();mo*=2;jW.$2=window.setTimeout(mq,mo)};var mr=function(){mp();if(BrowserSupport.BrowserSupport.IsMac()&&(BrowserSupport.BrowserSupport.IsChrome()||BrowserSupport.BrowserSupport.IsFF())){jW.$2=window.setTimeout(mq,mo)}};jW.destroySessionAndForward(mr)};jW.destroySessionAndForward=function(e){var ex=function(){e()};jW.$1(ex)};jW.$1=function(e){var ex=bX.get().legacySession;be.get_waitHandler().showAndLock();bX.get().$L();var mo=ex.createHandler(e,function(){},function(){},'immediately');var mp={};mp.type='DELETE';mp.url=ex.formatSessionMethod('destroy');mp.headers=ss.mkdict(['Accept','text/javascript']);mp.dataType='json';ex.request(mp,mo)};jW.switchToViz=function(e){var ex=lF.createForCurrentWindowLocation(null);ex.updateForViewingSheet(e);jW.switchToViz$1(ex,null,null)};jW.switchToViz$1=function(e,ex,mo){ex=ex||function(mt,mu){};mo=mo||function(mt){tabBootstrap.ViewerBootstrap.get_instance().bootstrap()};var mp=jW.$0(e);var mq={type:'GET',url:e.get_path(),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:mp};var mr=bX.get().legacySession;var ms=mr.createHandler(ex,function(mt,mu,mv){bX.get().switchViz(mt,e,mo)},null,'immediately');jW.$1(function(){mr.request(mq,ms)})};jW.$0=function(e){var ex={};var mo=new ss.ObjectEnumerator(e.get_queryParams());try{while(mo.moveNext()){var mp=mo.current();if(mp.value.length===1){ex[mp.key]=mp.value[0]}else{ex[mp.key]=mp.value}}}finally{mo.dispose()}ex[':jsonOnly']='true';return ex};global.tab.SessionServerCommands=jW;var jX=function(){ss.makeGenericType(bd,[Object,jY]).call(this)};jX.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=jX;var jY=function(e){this.$$c=null;this.$$c=e};jY.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=jY;var jZ=function(){ss.makeGenericType(bd,[Object,ka]).call(this)};jZ.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=jZ;var ka=function(e){this.$$c=null;this.$$c=e};ka.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=ka;var kb=function(){ss.makeGenericType(bd,[Object,kc]).call(this)};kb.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=kb;var kc=function(e){this.$$c=null;this.$$c=e};kc.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=kc;var kd=function(){this.$3={};this.$2={};this.$4={};this.$1$1=null};kd.__typeName='tab.ShapeManager';kd.get_canvasCacheCapacity=function(){return(BrowserSupport.BrowserSupport.IsMobile()?50:200)};kd.getCacheKey$1=function(e,ex,mo,mp,mq,mr){return e+';'+ex+';'+mo+';'+mp+';'+mq+';'+mr};kd.getCacheKey=function(e,ex,mo,mp,mq){return e+';'+ex+';'+mo+';'+mp+';'+mq};global.tab.ShapeManager=kd;var ke=function(e,ex){this.$0=null;this.$1=null;this.$0=e;this.$1=ex};ke.__typeName='tab.ShapeModel';ke.fromString=function(e){var ex=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var mo=ex.exec(e);if(ss.isNullOrUndefined(mo)){return null}var mp=mo[2];var mq=mo[3];if(ss.isNullOrUndefined(mq)){return null}var mr=null;if(ss.isValue(mp)){if(ss.referenceEquals(mp,'filled'.toString())){mr='filled'}else{return null}}var ms=mq;return new ke(mr,ms)};global.tab.ShapeModel=ke;var kf=function(){};kf.__typeName='tab.SheetClientCommands';kf.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}bX.get().prepareForSheetChange();var ex=kf.createSwitchSheetsCommand(e.sheetName);jP.executeServerCommand(ex,'immediately',e.successCallback,e.errorCallback)};kf.createSwitchSheetsCommand=function(e){var ex={};ex['targetSheet']=e;return co.newCommand({ns:'tabsrv',cmd:'ensure-layout-for-sheet'},ex)};kf.goToSheet=function(e){bX.get().prepareForSheetChange();var ex={};ex['sheet']=e;var mo=co.newCommand({ns:'tabdoc',cmd:'goto-sheet'},ex);jP.executeServerCommand(mo,'immediately',null,null)};kf.ensureLayoutForSheet=function(e){var ex=kf.createSwitchSheetsCommand(e);jP.executeServerCommand(ex,'immediately',null,null)};kf.createSheet=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'new-worksheet'},null);kf.$0(mo,e,ex);jP.executeServerCommand(mo,'immediately',null,null)};kf.deleteSheet=function(e){var ex={};ex['sheet']=e;ex['promptDeleteSheetsWithVizInTooltip']=false;var mo=co.newCommand({ns:'tabdoc',cmd:'delete-sheet'},ex);jP.executeServerCommand(mo,'immediately',null,null)};kf.validateNewSheetName=function(e,ex,mo){if(!ss.referenceEquals(ex.trim(),ex)){return false}return!(ss.isNullOrEmptyString(ex)||ss.referenceEquals(ex,e)||ss.contains(mo,ex))};kf.tryRenameSheet=function(e,ex,mo){ex=ex.toString().trim();if(kf.validateNewSheetName(e,ex,mo)){kf.renameSheet(e,ex);return true}else{return false}};kf.renameSheet=function(e,ex){var mo={};mo['sheet']=e;mo['newSheet']=ex;var mp=co.newCommand({ns:'tabdoc',cmd:'rename-sheet'},mo);jP.executeServerCommand(mp,'immediately',null,null)};kf.createDashboardOrStory=function(e,ex,mo){var mp=(mo?{ns:'tabdoc',cmd:'new-storyboard'}:{ns:'tabdoc',cmd:'new-dashboard'});var mq=co.newCommand(mp,null);kf.$0(mq,e,ex);jP.executeServerCommand(mq,'immediately',null,null)};kf.$0=function(e,ex,mo){e.commandParams={};if(ss.isValue(ex)){e.commandParams['newSheet']=ex}if(mo){e.commandParams['insertAtEnd']=mo.toString()}e.commandParams['shouldChangeUiMode']=true};kf.getSheetTabContextMenu=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'build-sheet-tab-context-menu'},null);mo.commandParams={};if(ss.isValue(e)){mo.commandParams['sheetName']=e}jP.executeServerCommand(mo,'none',function(mp){ex(mp)},null)};kf.getSheetListContextMenu=function(e,ex,mo){var mp=new bw;mp.c['sheetName']=e;mp.c['addAsFloating']=ex;var mq=mp;mq.invoke().then(mo)};kf.getLayoutTreeContextMenu=function(e,ex,mo){var mp=new bq;mp.c['dashboard']=e;mp.c['zoneId']=ex|0;var mq=mp;mq.invoke().then(mo)};kf.getCaptionContextMenu=function(e,ex){var mo=new bk;mo.c['sheetName']=e;var mp=mo;mp.invoke().then(ex)};kf.getTitleContextMenu=function(e,ex,mo){var mp=new by;mp.c['sheetName']=e;var mq=mp;if(ss.isValue(ex)){mq.c['dashboard']=ex}mq.invoke().then(mo)};kf.$1=function(e){return{h:Math.floor(e.h),w:Math.floor(e.w)}};kf.reorderSheets=function(e,ex){var mo={};mo['positionToInsertTabsAt']=e;mo['sheetTabPositions']=ex;var mp=co.newCommand({ns:'tabdoc',cmd:'reorder-sheets'},mo);jP.executeServerCommand(mp,'immediately',null,null)};kf.setPortSize=function(e){var ex=co.newCommand({ns:'tabsrv',cmd:'set-port-size'},null);ex.commandParams={};ex.commandParams['sheet']=tsConfig.current_sheet_name;var mo,mp;if(tsConfig.is_authoring){mo=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');mp=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet')}else{mo=((tab.FeatureFlags.isEnabled('IframeSizedToWindow')&&!tsConfig.is_mobile)?di.calculateDashboardSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard'));mp=mo}ex.commandParams['worksheetPort']=kf.$1({h:mp.h,w:mp.w});ex.commandParams['dashboardPort']=kf.$1({h:mo.h,w:mo.w});ex.commandParams['storyPort']=kf.$1({h:mo.h,w:mo.w});jP.executeServerCommand(ex,'immediately',null,null);Y.get_instance().get_workbook().withOuterDashboard(function(mq){mq.set_portSize(e)})};global.tab.SheetClientCommands=kf;var kg=function(e,ex){hv.call(this,e,new ik(ex.toString(),null))};kg.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=kg;var kh=function(e){this.$2=null;this.$1=null;this.$2$1=null;hv.call(this,e,new ik('sheetList'.toString(),null));this.$1=new k(this)};kh.__typeName='tab.SheetListModel';global.tab.SheetListModel=kh;var ki=function(e,ex,mo){this.sheetId=null;be.call(this,e,mo);this.sheetId=ex};ki.__typeName='tab.SheetSession';ki.add_sheetDataChanged=function(e){ki.$2$1=ss.delegateCombine(ki.$2$1,e)};ki.remove_sheetDataChanged=function(e){ki.$2$1=ss.delegateRemove(ki.$2$1,e)};ki.fireSheetDataChanged=function(){if(ss.isValue(ki.$2$1)){ki.$2$1()}};global.tab.SheetSession=ki;var kj=function(e){hv.call(this,e,new ik('shelfItems'.toString(),1))};kj.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=kj;var kk=function(e){hv.call(this,e,new ik('shelfList'.toString(),1))};kk.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=kk;var kl=function(e,ex){this.$2=null;this.$2$1=null;hv.call(this,e,new ik(ex.toString(),null))};kl.__typeName='tab.ShelfModel';global.tab.ShelfModel=kl;var km=function(e){this.$3=[];this.$2$1=null;hv.call(this,e,new ik('shelves'.toString(),null))};km.__typeName='tab.ShelvesModel';km.createShelfModel=function(e,ex,mo,mp,mq){var mr=new kl(new kk(e),mp);mr.update(ex,mo,mq);return mr};global.tab.ShelvesModel=km;var kn=function(){ss.makeGenericType(bd,[Object,ko]).call(this)};kn.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=kn;var ko=function(e){this.$$c=null;this.$$c=e};ko.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=ko;var kp=function(){ss.makeGenericType(bd,[Object,kq]).call(this)};kp.__typeName='tab.ShowEditAxisDialogCmd';global.tab.ShowEditAxisDialogCmd=kp;var kq=function(e){this.$$c=null;this.$$c=e};kq.__typeName='tab.ShowEditAxisDialogCmd$Response';global.tab.ShowEditAxisDialogCmd$Response=kq;var kr=function(){ss.makeGenericType(bd,[Object,ks]).call(this)};kr.__typeName='tab.ShowImageObjectConfigDialogCmd';global.tab.ShowImageObjectConfigDialogCmd=kr;var ks=function(e){this.$$c=null;this.$$c=e};ks.__typeName='tab.ShowImageObjectConfigDialogCmd$Response';global.tab.ShowImageObjectConfigDialogCmd$Response=ks;var kt=function(e){this.$0=null;this.$0=e};kt.__typeName='tab.SimpleCommandsPresModelWrapper';kt.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new kt(e)};global.tab.SimpleCommandsPresModelWrapper=kt;var ku=function(){this.$1=null;this.$0(ku.fontFaces)};ku.__typeName='tab.SimpleFontListProvider';ku.$ctor1=function(e){this.$1=null;this.$0(e)};ku.$ctor2=function(e){this.$1=null;this.$1=ss.arrayFromEnumerable(e)};ku.$0=function(e){var ex=[];var mo=ss.getEnumerator(e);try{while(mo.moveNext()){var mp=mo.current();var mq=mp.get_fonts();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];ex.push(ms)}}}finally{mo.dispose()}return Array.prototype.slice.call(ex)};global.tab.SimpleFontListProvider=ku;var kv=function(e,ex){this.$2$1=null;hv.call(this,e,new ik(ex.toString(),null))};kv.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=kv;var kw=function(){ss.makeGenericType(bd,[Object,kx]).call(this)};kw.__typeName='tab.SortFromIndicatorCmd';global.tab.SortFromIndicatorCmd=kw;var kx=function(e){this.$$c=null;this.$$c=e};kx.__typeName='tab.SortFromIndicatorCmd$Response';global.tab.SortFromIndicatorCmd$Response=kx;var ky=function(e){this.$2$1=null;hv.call(this,e,new ik('sortIndicators'.toString(),null))};ky.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=ky;var kz=function(){};kz.__typeName='tab.SortingTelemetry';kz.$3=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&tab.FeatureFlags.isEnabled('SortingEntryPointsTelemetry')};kz.logSortFromIndicator=function(e,ex){if(!kz.$3()){return}var mo=ss.mkdict(['EntryPoint','SortIndicator','IndicatorType',kz.$0(e),'RegionOrientation',kz.$1(ex),'RegionType',kz.$2(ex)]);hF.logEvent('SortingEvents',mo)};kz.logSortFromMenuItem=function(e,ex){if(!kz.$3()){return}var mo=ss.mkdict(['EntryPoint','SortIndicatorMenu','SortType',(ss.isValue(e)?e.toString():''),'SortDirection',(ss.isValue(ex)?ex.toString():'')]);hF.logEvent('SortingEvents',mo)};kz.logSortFromToolbar=function(e,ex){if(!kz.$3()){return}var mo=ss.mkdict(['EntryPoint','Toolbar','UseNestedSortForComparativeSort',e.toString(),'SortDirection',(ss.isValue(ex)?ex.toString():'')]);hF.logEvent('SortingEvents',mo)};kz.$0=function(e){if(ss.isNullOrUndefined(e)){return'Unknown'}return e};kz.$2=function(e){if(ss.isNullOrUndefined(e)){return''}return e.sortRegion};kz.$1=function(e){if(ss.isNullOrUndefined(e)){return''}return(e.isHorizontal?'Horizontal':'Vertical')};global.tab.SortingTelemetry=kz;var kA=function(){};kA.__typeName='tab.SortServerCommands';kA.sortFromIndicator=function(e,ex,mo,mp,mq){var mr=tab.PointUtil.toPresModel({x:Math.floor(e.x),y:Math.floor(e.y)});var ms=tab.PointUtil.toPresModel({x:Math.floor(ex.x),y:Math.floor(ex.y)});var mt=new kw;mt.c['vizLocation']=mr;mt.c['scrollOffset']=ms;mt.c['visualIdPresModel']=mo;var mu=mt;var mv=hy.getZoneIdForSheetName(mo.worksheet);if(kA.$0(mv)){var mw=co.newCommand({ns:'tabdoc',cmd:'set-active-zone'},null);var mx={};mx['dashboardPm']=hy.findContentDashboard(null).pm.sheetPath;mx['zoneId']=mv;mw.commandParams=mx;var my=new bQ('afterDelay',function(mz){jH.setActiveZoneLocal(mv,mz)},mw,function(mz){mu.invoke()},null);bX.SendCommand(my)}else{mu.invoke()}kz.logSortFromIndicator(mp,mq)};kA.sortFromCommandItem=function(e,ex){var mo=hy.getZoneIdForSheetName(ex.worksheet);var mp=cd.create(e);var mq=ck.deserialize(mp.get_command(),false);co.addVisualIdToCommand(mq.commandParams,ex);var mr=new bQ('afterDelay',function(mt){if(kA.$0(mo)){jH.setActiveZoneLocal(mo,mt)}},mq,null,null);bX.SendCommand(mr);var ms=mq.commandParams;kz.logSortFromMenuItem(ms['sortBy'],ms['sortOrder'])};kA.quickSort=function(e){var ex=hy.findActiveVisual();if(ss.isValue(ex)){var mo=tab.FeatureFlags.isEnabled('NestedSortFromToolbar');kA.quickSort$1(ex.get_visualId(),e,mo)}else{}};kA.quickSort$1=function(e,ex,mo){var mp=new iu;mp.c['sortOrder']=ex;mp.c['useNestedSortForComparativeSort']=mo;mp.c['visualIdPresModel']=e;mp.invoke();kz.logSortFromToolbar(mo,ex)};kA.$0=function(e){return tsConfig.allow_select&&e!==-1&&!hy.isActiveZone(e)};global.tab.SortServerCommands=kA;var kB=function(e,ex,mo,mp,mq){this.defaultSpace=null;this.left=null;this.right=null;this.bottom=null;this.top=null;this.$0=null;this.defaultSpace=e;this.left=ex;this.right=mo;this.top=mp;this.bottom=mq};kB.__typeName='tab.SpacingDefinition';global.tab.SpacingDefinition=kB;var kC=function(){ss.makeGenericType(bd,[Object,kD]).call(this);this.set_uiBlocking('immediately')};kC.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=kC;var kD=function(e){this.$$c=null;this.$$c=e};kD.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=kD;var kE=function(){};kE.__typeName='tab.StartupUtils';kE.add_modelsInitialized=function(e){kE.$1$1=ss.delegateCombine(kE.$1$1,e)};kE.remove_modelsInitialized=function(e){kE.$1$1=ss.delegateRemove(kE.$1$1,e)};kE.add_clientFullyLoaded=function(e){kE.$1$2=ss.delegateCombine(kE.$1$2,e)};kE.remove_clientFullyLoaded=function(e){kE.$1$2=ss.delegateRemove(kE.$1$2,e)};kE.reset=function(){kE.$0=false;kE.$1=false;Y.resetInstance()};kE.callOnceAfterInitialBootstrap=function(e){if(kE.$0){e()}else{var ex=null;ex=function(){e();kE.remove_clientFullyLoaded(ex)};kE.add_clientFullyLoaded(ex)}};kE.resetTsConfig=function(e){window['tsConfig']=e};kE.callAfterModelsInitialized=function(e){if(kE.$1){e()}else{var ex=null;ex=function(){e();kE.remove_modelsInitialized(ex)};kE.add_modelsInitialized(ex)}};kE.callEachTimeModelsInitialized=function(e,ex){kE.add_modelsInitialized(e);ex.add$1(new tab.CallOnDispose(function(){kE.remove_modelsInitialized(e)}))};kE.notifyModelsInitialized=function(){if(kE.$1){return}kE.$1=true;if(!ss.staticEquals(kE.$1$1,null)){kE.$1$1()}};kE.notifyClientFullyLoaded=function(){if(kE.$0){return}kE.$0=true;if(!ss.staticEquals(kE.$1$2,null)){kE.$1$2()}};global.tab.StartupUtils=kE;var kF=function(e,ex){this.$4=null;this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik(ex.toString(),0));this.$4=new cZ(this)};kF.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=kF;var kG=function(e){this.$1=null;hv.call(this,e,new ik('storyPoints'.toString(),null))};kG.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=kG;var kH=function(){this.$3=null;this.$3=new(ss.makeGenericType(hm,[String,G]))(kH.$6);mh.get().add_onCommandResponse(ss.mkdel(this,this.$0));kH.$5=new ss.Lazy(function(){return[{ns:'tabdoc',cmd:'capture-story-point'}.cmd,{ns:'tabdoc',cmd:'delete-story-point'}.cmd,{ns:'tabdoc',cmd:'duplicate-active-story-point'}.cmd,{ns:'tabdoc',cmd:'edit-story-point-caption'}.cmd,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd,{ns:'tabdoc',cmd:'get-storyboard'}.cmd,{ns:'tabdoc',cmd:'insert-story-point'}.cmd,{ns:'tabdoc',cmd:'next-story-point'}.cmd,{ns:'tabdoc',cmd:'new-blank-story-point'}.cmd,{ns:'tabdoc',cmd:'previous-story-point'}.cmd,{ns:'tabdoc',cmd:'replace-story-point'}.cmd,{ns:'tabdoc',cmd:'revert'}.cmd,{ns:'tabdoc',cmd:'revert-story-point'}.cmd,{ns:'tabsrv',cmd:'revert-workbook'}.cmd,{ns:'tabdoc',cmd:'save-active-story-point-as-new'}.cmd,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd,{ns:'tabdoc',cmd:'toggle-storypoints-nav-arrows'}.cmd]});if(ss.isValue(kH.$4)){this.$3.add(kH.$4.item1.toString(),kH.$4.item2);kH.$4=null}};kH.__typeName='tab.StoryPointsPresModelCache';kH.$0=function(e){if(!kH.$3(e)){return}var ex=kH.$1(e);if(ss.isValue(ex)){var mo=new G(ex);kH.$4={item1:ex.storyPointId,item2:mo}}mh.get().remove_onBootstrapResponse(kH.$0)};kH.$3=function(e){if(kH.$2(e)||!e.workbookPresModel.dashboardPresModel.isStory||e.renderMode!=='render-mode-client'){return false}return true};kH.$2=function(e){if(ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.zones)){return true}return false};kH.$1=function(e){if(e.renderMode!=='render-mode-client'){return null}if(kH.$2(e)){return null}var ex=null;var mo=e.workbookPresModel.dashboardPresModel.zones;var mp=_.keys(mo);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];var ms=mo[mr];if(ss.isNullOrUndefined(ms)){continue}ex=mm.getContent(ms,'flipboard');if(ss.isValue(ex)){break}}if(ss.isNullOrUndefined(ex)){return null}var mt=ex.activeStoryPointId.toString();var mu=ex.storyPoints[mt];return mu};global.tab.StoryPointsPresModelCache=kH;var kI=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=Y.get_instance().get_workbook();this.set_isStory(e.get_isCurrentSheetStoryboard()&&ss.isValue(e.get_storyboard().get_flipboard()));if(this.get_isStory()){this.set_sheetName(e.get_storyboard().get_sheetName());this.set_storyPointId(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};kI.__typeName='tab.StoryState';global.tab.StoryState=kI;var kJ=function(e){this.$4$1=null;eJ.call(this,e)};kJ.__typeName='tab.StructuredMeasureModel';global.tab.StructuredMeasureModel=kJ;var kK=function(){};kK.__typeName='tab.StructuredMeasureModelFactory';kK.create=function(e,ex,mo){var mp=kK.$0(e,ex,mo);var mq=(ss.keyExists(mo.get_fields(),e.fn)?mo.get_fields()[e.fn].asStructuredMeasure():new kJ(ex));mq.update$1(e,mp);return mq};kK.$0=function(e,ex,mo){var mp=[];if(ss.isNullOrUndefined(e.structuredMeasureList)){return mp}for(var mq=0;mq<e.structuredMeasureList.length;mq++){var mr=e.structuredMeasureList[mq];mp.push(kK.create(mr,ex,mo))}return mp};global.tab.StructuredMeasureModelFactory=kK;var kL=function(e){this.$1=null;this.$2=null;this.$2$1=null;hv.call(this,e,new ik('styledBox'.toString(),0));this.$1=new hs;this.$2=new hL};kL.__typeName='tab.StyledBoxModel';global.tab.StyledBoxModel=kL;var kM=function(){};kM.__typeName='tab.TabbedAuthenticationDialogCommands';kM.useTabbedAuthDialog=function(e){return ss.isValue(e)&&ss.isValue(e.dataSourceConnectionAttemptInfos)&&e.dataSourceConnectionAttemptInfos.length>1&&!dt.hasPublishedFederatedConnections(e)&&tab.FeatureFlags.isEnabled('DataToTheWebTabbedAuthReconnect')};kM.showTabbedAuthenticationDialog=function(e,ex,mo){var mp=new fT;mp.c['connectionFullNames']=e;mp.c['editingConnection']=ex;mp.c['connectionAttemptInfo']=mo;var mq=mp;mq.invoke()};global.tab.TabbedAuthenticationDialogCommands=kM;var kN=function(e){this.$1=null;this.$0=null;this.update(e)};kN.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=kN;var kO=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik('tableCalculationPresModel'.toString(),null));this.set_tableCalcIdentifier(new kN(null));this.$3=new kP(this)};kO.__typeName='tab.TableCalcModel';kO.$0=function(e,ex){if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]};global.tab.TableCalcModel=kO;var kP=function(e){this.$2$1=null;hv.call(this,e,new ik('tableCalcOrderingPresModel'.toString(),null))};kP.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=kP;var kQ=function(e){this.$2$1=null;hv.call(this,e,new ik('tableCalcReferenceOptionsPresModel'.toString(),null))};kQ.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=kQ;var kR=function(){};kR.__typeName='tab.TabResources';kR.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};kR.lookupResourceAlias=function(e){return(ss.keyExists(kR.$0,e)?kR.$0[e]:'')};kR.lookupFullResourceAlias=function(e){var ex=e.split('/');var mo=((ex.length>0)?ex[ex.length-1]:e);return kR.lookupResourceAlias(mo)};kR.lookupTabRes=function(e){return kR.lookupResourceAlias(e)};kR.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+kR.lookupResourceAlias(e)};global.tab.TabResources=kR;var kS=function(){};kS.__typeName='tab.TelemetryUtils';kS.generateUUID=function(){var e=function(){var mo='0123456789abcdefghijklmnopqrstuvwxyz';return String.fromCharCode(mo.charCodeAt(Math.floor(Math.random()*mo.length)))};var ex=function(mo){var mp='';for(var mq=0;mq<mo;++mq){mp+=e()}return mp};return(new Date).getTime().toString(32).toLowerCase()+'$'+ex(4)+'-'+ex(2)+'-'+ex(2)+'-'+ex(2)+'-'+ex(6)};global.tab.TelemetryUtils=kS;var kT=function(e,ex){this.$2$1=null;hv.call(this,e,new ik(ex,null))};kT.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=kT;var kU=function(){ss.makeGenericType(bd,[Object,kV]).call(this)};kU.__typeName='tab.ToggleINDJoinSemanticsCmd';global.tab.ToggleINDJoinSemanticsCmd=kU;var kV=function(e){this.$$c=null;this.$$c=e};kV.__typeName='tab.ToggleINDJoinSemanticsCmd$Response';global.tab.ToggleINDJoinSemanticsCmd$Response=kV;var kW=function(){ss.makeGenericType(lJ,[Object,kX]).call(this)};kW.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd';kW.get_commandName=function(){return'toggle-indjoin-semantics-wrapper'};global.tab.ToggleINDJoinSemanticsWrapperCmd=kW;var kX=function(e){this.$$c=null;this.$$c=e};kX.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd$Response';global.tab.ToggleINDJoinSemanticsWrapperCmd$Response=kX;var kY=function(e){this.$2$1=null;hv.call(this,e,new ik('toolbarPresModel'.toString(),null))};kY.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=kY;var kZ=function(){};kZ.__typeName='tab.ToolbarServerCommands';kZ.get_authoringVizUri=function(){var e;var ex=null;if(ss.isNullOrEmptyString(ex)){e=lF.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=lF.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,ex)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e};kZ.setAutoUpdate=function(e){var ex={};ex['state']=e;var mo=co.newCommand({ns:'tabsrv',cmd:'set-auto-update-server'},ex);jP.executeServerCommand(mo,'immediately',null,null)};kZ.refreshData=function(){var e={};e['deltaTime']=0;e['shouldRefreshDs']=true;var ex=co.newCommand({ns:'tabsrv',cmd:'refresh-data-server'},e);jP.executeServerCommand(ex,'immediately',null,null)};kZ.launchEditing=function(){var e=kZ.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};kZ.downloadWorkbook=function(e,ex){var mo;if(ss.isValue(e)){mo=e}else{mo=tsConfig.downloadURI}var mp;if(tsConfig.is_metrics_view){mp=bX.get().legacySession.metricsViewDownloadUrl()}else{mp=kZ.$0(mo)}if(ss.isValue(ex)){mp=mp+'?formatVersion='+ex}window.open(mp)};kZ.exportData=function(){var e=null;if(ss.isValue(hy.findActiveOrDefaultVisual())){e=hy.findActiveOrDefaultVisual().get_worksheetName()}var ex=hy.findContentDashboard(null).getViewSession(e);if(ss.isValue(ex)){var mo=hy.findActiveOrDefaultVisual().get_visualId();window.open(ex.formatUnderlyingDataURL(null,mo),ex.getWindow('vud'),'scrollbars,resizable')}};kZ.exportImage=function(e){var ex=Y.get_instance().get_workbook().get_currentSheetStoryPointId();var mo=tableau.types.ExportDialogType['ExportImage'];var mp=[];var mq=[];if(hy.findContentDashboard(null).get_isDashboard()){var mr=e.get_sheetScrollPositions();if(ss.isValue(mr)){var ms=ss.getEnumerator(Object.keys(mr));try{while(ms.moveNext()){var mt=ms.current();var mu=mr[mt];var mv=mu.x;var mw=mu.y;if(mv!==0||mw!==0){mq.push({x:mv,y:mw});mp.push(mt)}}}finally{ms.dispose()}}}eC.exportImage(tsConfig.current_sheet_name,ex,mo,mp,mq)};kZ.exportCrosstab=function(){var e=null;if(ss.isValue(hy.findActiveOrDefaultVisual())){e=hy.findActiveOrDefaultVisual().get_worksheetName()}var ex=hy.findContentDashboard(null).getViewSession(e);if(ss.isValue(ex)){var mo=tableau.types.ExportDialogType['ExportCrosstab'];ex.fileDownloadHelper.openDownload(ex.formatExportCrossTabURL('utf16'),mo)}};kZ.exportPdf=function(e){e.triggerExportPdfUI()};kZ.$0=function(e){if(ss.isValue(e)){var ex=e.match(kZ.$1);if(ss.isValue(ex)&&ex.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+ex[1]}}return e};global.tab.ToolbarServerCommands=kZ;var la=function(){this.$2=[];this.$3=null};la.__typeName='tab.TrackingCommandDispatcher';global.tab.TrackingCommandDispatcher=la;var lb=function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]};lb.__typeName='tab.Transaction';lb.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(ms){return ms.$1().get_pathList().length});var ex=Y.get_instance().pm;var mo=ii.cloneObjWithScalarsOnly(ex);if(ss.isNullOrUndefined(mo)){mo=new Object}var mp=mo;for(var mq=0;mq<e.length;mq++){var mr=e[mq];ii.insertAtPath(ex,mp,mr.$1(),mr.$0())}return mp};lb.$1=function(e){var ex=lb.$0(e);if(ss.isValue(ex)&&ss.isValue(ex.presentationLayerNotifications)){ex.presentationLayerNotifications=null}return ex};global.tab.Transaction=lb;var lc=function(){this.$1=null;this.$0={}};lc.__typeName='tab.Transactor';global.tab.Transactor=lc;var ld=function(e){bF.call(this,e,new ik('typeInPill'.toString(),null))};ld.__typeName='tab.TypeInCalculationModel';global.tab.TypeInCalculationModel=ld;var le=function(e,ex){hv.call(this,e,ex)};le.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=le;var lf=function(){cc.call(this)};lf.__typeName='tab.UbertipButtonMenuModel';global.tab.UbertipButtonMenuModel=lf;var lg=function(){this.$2$1=null;this.$2$2=false;this.$2$3=null;hv.call(this,null,new ik('ubertipButton',null))};lg.__typeName='tab.UbertipButtonModel';global.tab.UbertipButtonModel=lg;var lh=function(){};lh.__typeName='tab.UberTipClientCommands';lh.$6=function(){return tab.LazyUtil.lazyInitStaticField(lh,'commandPermissions',function(){return hY.buildCommandPermission()})};lh.executeUbertipAction=function(e,ex,mo){var mp=new H(function(mq){Q.executeAction(e,ex,mo,mq)});bX.SendCommand(mp)};lh.executeUbertipCommand=function(e){switch(e.get_commandType()){case 1:{jH.clearAllSelections(hy.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:case 24:{var ex=lh.$5(e);jP.executeServerCommand(ex,'immediately',null,null);break}case 4:case 5:case 11:case 12:case 13:case 15:case 17:case 18:case 22:case 16:{jP.executeServerCommand(e.command,'immediately',null,null);break}case 21:{jP.executeServerCommand(e.command,'immediately',co.createCommandRedirectSuccessHandler(null),null);break}case 23:{var mo=co.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},e.command.commandParams);jP.executeServerCommand(mo,'immediately',null,null);break}case 6:case 9:case 7:default:{return}}};lh.localAndRemoteUberTipCommand=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv){var mw=lh.$0(e,ex,mo,mp,mr,ms,mt,mu,mv,mq);bX.SendCommand(mw)};lh.filterUbertipButtonsByCommandPermissions=function(e,ex){return _.filter(e,function(mo){if(mo.get_isMenuButton()){return true}if(!ex.test(mo)){return false}return true})};lh.$0=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv){var mw=new b(lh.$1(e,mo,mq,mr),lh.$4(ex,mo,mp,mu,null,mv),lh.$2(true,ms,mo),mt);return mw};lh.localOnlyUbertipCommand=function(e,ex,mo,mp){var mq=lh.buildLocalOnlyUbertipCommand(e,ex,mo,mp);mq.set_commandName({ns:'tabsrv',cmd:'render-tooltip-server'}.cmd);bX.SendCommand(mq)};lh.buildLocalOnlyUbertipCommand=function(e,ex,mo,mp){var mq=new b(lh.$1(e,ex,mo,mp),null,null,null);return mq};lh.remoteOnlyUbertipCommand=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv){var mw=lh.$3(e,ex,mo,mp,mq,mr,ms,mt,mu,mv);bX.SendCommand(mw)};lh.$3=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv){var mw=Q.computePossibleLocalWorkForRemoteHoverActions(ex,mt,mu);var mx=new b(mw,lh.$4(e,ex,mo,mr,ms,mv),lh.$2(false,mp,ex),mq);return mx};lh.$1=function(e,ex,mo,mp){return function(mq){var mr=li.createLocalUberTipModel(e,hy.getVisualModelFromVisualId(ex,null),mo,tsConfig.is_authoring);if(ss.isValue(mr)){mr.isUpdate=false;mr.buttonModels=lh.filterUbertipButtonsByCommandPermissions(mr.buttonModels,lh.$6())}mp(mr);Q.executeActions(ex,'on-hover',[mo.get_interactedTupleId()],mq,false)}};lh.$4=function(e,ex,mo,mp,mq,mr){var ms={};co.addVisualIdToCommand(ms,ex);if(ss.isValue(mr)){ms['tupleIds']=[ss.unbox(mr)]}var mt=new Object;var mu=lE.create(mt);mu.set_r(e);mu.set_x(Math.round(mo.x));mu.set_y(Math.round(mo.y));mu.set_w(Math.round(mo.w));mu.set_h(Math.round(mo.h));mu.set_fns(mq);ms['vizRegionRect']=mt;ms['allowHoverActions']=tsConfig.is_mobile||mp==='on-hover';ms['allowPromptText']=true;ms['allowWork']=tsConfig.is_mobile;ms['useInlineImages']=true;return co.newCommand({ns:'tabsrv',cmd:'render-tooltip-server'},ms)};lh.$2=function(e,ex,mo){return function(mp){if(!ss.isValue(mp)){return}var mq=mp.toString();var mr=(ss.isNullOrEmptyString(mq)?null:JSON.parse(mq));fl.notifyFontsFromUberTipPresModel(mr);var ms=li.deserializeUbertip(mr,mo);if(ss.isValue(ms)){ms.isUpdate=e;ms.buttonModels=lh.filterUbertipButtonsByCommandPermissions(ms.buttonModels,lh.$6())}if(ss.isValue(ex)){ex(ms)}fl.$8()}};lh.$5=function(e){var ex=co.duplicateCommand(e.command);var mo=ex.commandParams;var mp=mo['tupleId'];delete mo['tupleId'];if(!ss.keyExists(mo,'selectAtPoint')&&ss.isValue(mp)){var mq=[parseInt(mp.toString())];var mr={objectIds:mq,selectionType:'tuples'};mo['selection']=mr}return ex};global.tab.UberTipClientCommands=lh;var li=function(){};li.__typeName='tab.UbertipSerializer';li.$f=function(){return tab.Logger.lazyGetLogger(li)};li.deserializeUbertip=function(e,ex){if(ss.isNullOrUndefined(e)){return null}var mo=[];if(ss.isValue(e.selectionRelaxationCommands)){li.$1(e.selectionRelaxationCommands,mo,0)}var mp=[];if(ss.isValue(e.actions)){li.$1(e.actions,mp,0)}var mq={};if(ss.isValue(e.commands)){mq.buttonModels=li.$2(e,ex,null)}mq.tooltipHtml=li.$c(e.htmlTooltip);mq.selectionHtml=li.$c(e.htmlSelection);mq.overlayImage=li.$c(e.overlayImage);mq.overlayImageKey=li.$c(e.overlayImageKey);mq.tupleId=e.tupleId;mq.interactedTupleId=e.tupleId;mq.imageRegion=e.r;mq.tupleSelected=e.tupleSelected||false;mq.refLineSelected=e.refLineSelected||false;mq.trendLineSelected=e.trendLineSelected||false;mq.isExplicitlyEmpty=e.isEmpty||false;mq.tooltipOffset=tab.PointUtil.fromPresModel(e.tooltipOffset);mq.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.markTooltipRect);mq.contentCommands=mo;mq.actions=mp;if(ss.isValue(mq.overlayImage)||ss.isValue(mq.overlayImageKey)){var mr=e.overlayAnchors.length;mq.overlayAnchors=new Array(mr);for(var ms=0;ms<mr;++ms){var mt=e.overlayAnchors[ms];var mu=tab.PointUtil.fromPresModel(mt);mq.overlayAnchors[ms]={x:mu.x,y:mu.y}}}if(ss.isValue(mq.tooltipHtml)||ss.isValue(mq.selectionHtml)||ss.isValue(mq.buttonModels)&&mq.buttonModels.length>0||mp.length>0){return mq}return null};li.$a=function(e){if(ss.isNullOrUndefined(e)){return null}return e.get_vizDataModel()};li.createLocalUberTipModel=function(e,ex,mo,mp){var mq=mo.get_interactedTupleId();var mr=mo.get_affectedTupleIds();var ms=mo.get_paneDescriptorKey();var mt=li.$a(ex);if(ss.isNullOrUndefined(mt)){return null}var mu=mt.get_ubertipData();var mv=li.$9(mu,ms);var mw=li.$7(mv.htmlTooltip,ex.get_visualId(),mq);var mx=Y.get_instance().get_dataDictionary();var my=mv.htmlTooltip;var mz=mt.getVizDataField(mu.fn);if(ss.isValue(mz)){var mA=lz.lookupRawDataValue(mq,mz,mx);if(ss.contains(mv.fieldVector,mA)){my=mv.htmlTooltipModified}}var mB=lB.constructHtml(mx,my,mt,[mq]);var mC=null;var mD=false;if(mr.length>1&&mv.showButtons){mD=true;mC=li.$8(mx,mt,mr,mv.summaryField)}var mE=[];var mF=mq;if(mF<0){mF=0}var mG=lB.hasTupleWithNonTotalValue(mt,mx,mr);if(mv.showButtons&&mt.hasDimensionColumnNotMeasureNames()){if(mG){var mH=li.$e(null,e);mE=li.$3(mu.standardCommands,ex.get_visualId(),e,mF,mH)}if(mD){var mI=li.$e(null,e);mE=li.$3(mu.multiselectCommands,ex.get_visualId(),e,mF,mI)}mE=_.filter(mE,function(mN){return mN.get_commandType()!==10});if(mp){var mJ=li.$5();mE.push(mJ)}}var mK=(mG?Q.getMenuUrlActionsForUbertipModel(ex.get_visualId()):[]);var mL=mv.htmlTooltip.toString().length===0;if(ss.isValue(mB)||ss.isValue(mC)||mE.length>0||mK.length>0){var mM={tooltipHtml:mB,selectionHtml:mC,tupleId:mF,interactedTupleId:mq,isExplicitlyEmpty:mL,actionPMs:mK,buttonModels:mE,contentCommands:mw,visualId:ex.get_visualId()};return mM}return null};li.$5=function(){var e=new cf;e.set_commandType(10);e.imageRes=kR.lookupResourceAlias('TQRC_SPLIT');e.set_name('');var ex=e;if(tsConfig.is_mobile){var mo=tab.Strings.UbertipTooltip_GroupMobile;var mp=tab.Strings.UbertipTooltip_SplitMobile;ex.description=((mp.length>mo.length)?mp:mo)}var mq=new cg;mq.update(ex,true);return mq};li.paneContainsViT=function(e,ex){if(ss.isNullOrUndefined(e)){return false}var mo=e.get_vizDataModel();if(ss.isNullOrUndefined(mo)){return false}var mp=mo.get_ubertipData();if(ss.isNullOrUndefined(mp)){return false}if(ss.isNullOrUndefined(ex)){for(var mq=0;mq<mp.ubertipPaneDatas.length;mq++){var mr=mp.ubertipPaneDatas[mq];if(lB.objectContainsVizInTooltip($(mr.htmlTooltip))){return true}}return false}else{return lB.objectContainsVizInTooltip($(li.$9(mp,ex).htmlTooltip))}};li.$9=function(e,ex){if(e.ubertipPaneDatas.length===1){return e.ubertipPaneDatas[0]}for(var mo=0;mo<e.ubertipPaneDatas.length;mo++){var mp=e.ubertipPaneDatas[mo];if(ss.isValue(mp.paneDescriptor)){if(ss.referenceEquals(mp.paneDescriptor.paneDescrKey,ex)){return mp}}}return null};li.$7=function(e,ex,mo){if(mo===0){return[]}var mp=$(e);var mq=mp.find('a.relax-selection');var mr=mq.length;var ms=[];for(var mt=0;mt<mr;mt++){var mu=mq.eq(mt);var mv=mu.children().eq(0);var mw=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(mv.text(),'<[','['),']>',']'),'>>','>'),'<<','<');var mx=mu.attr('href');var my=li.$0(ex,mw,mx,mo);ms[mt]=my}return ms};li.$0=function(e,ex,mo,mp){var mq={};mq['visualIdPresModel']=e;mq['worksheet']=e.worksheet;mq['fn']=ex;mq['tupleId']=mp.toString();var mr=co.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},mq);var ms=new cf;ms.set_commandType(23);ms.set_name(mo);ms.command=mr;var mt=ms;return mt};li.$8=function(e,ex,mo,mp){var mq=ex.getVizDataField(mp||'');if(ss.isValue(mq)){var mr=[];$.extend.apply(null,[true,mr].concat(li.$g));mr[2]=mo.length.toString();mr[4]=tab.Strings.UbertipItemsSelected;if(mq.get_aggType()!=='sum'){mr[8]=tab.Strings.SumOf}mr[10]=mp;mr[14]='&lt;'+mp+'&gt;';var ms=mr.join('');return lB.constructHtml(e,ms,ex,mo)}else{li.$h[2]=mo.length.toString();li.$h[4]=tab.Strings.UbertipItemsSelected;return li.$h.join('')}};li.$e=function(e,ex){var mo=ss.isNullOrUndefined(ex);var mp=false;if(ss.isValue(e)&&ss.isValue(e.r)){switch(e.r){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{mp=true;break}}mp=mp&&!e.refLineSelected&&!e.trendLineSelected}return!tsConfig.previewMode&&(mp||!mo)};li.$d=function(){return tsConfig.is_mobile};li.$1=function(e,ex,mo){var mp=cm.create(e);if(ss.isNullOrUndefined(mp)||ss.isNullOrUndefined(mp.get_commandItems())){return}var mq=mp.get_commandItems();for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];var mt=cd.create(ms);var mu=new cf;mu.command=ck.deserialize(mt.get_command(),false);var mv=mu;if(ss.isValue(mv.command)){li.buildCommandModelFromWrapper(mv,mt,mo);ex.push(mv)}if(ss.isValue(mt.get_commands())){li.$1(mt.get_commands(),ex,mo)}}};li.$2=function(e,ex,mo){var mp=e.commands;var mq=li.$e(e,mo);return li.$3(mp,ex,mo,0,mq)};li.$3=function(e,ex,mo,mp,mq){var mr=cm.create(e);if(ss.isNullOrUndefined(mr)||ss.isNullOrUndefined(mr.get_commandItems())){return[]}var ms=[];var mt=mr.get_commandItems();for(var mu=0;mu<mt.length;mu++){var mv=mt[mu];var mw=cd.create(mv).get_command();var mx=ss.isNullOrUndefined(mw);if(mx){var my=new lf;my.update(mv,mp);ms.push(my)}else{var mz=new cc;mz.update(mv,mp);ms.push(mz)}}if(mq&&ms.length>0){var mA=ss.isNullOrUndefined(mo);ms.push(li.$6(ms,mA,mo,ex))}if(li.$d()){ms.push(li.$4())}return ms};li.$6=function(e,ex,mo,mp){var mq=new cf;mq.set_commandType(7);mq.status='enabled';mq.description=tab.Strings.UbertipTooltip_ViewData;mq.command=co.newCommand({ns:'tabdoc',cmd:'viewData'},{});var mr=mq;var ms=li.$b(e,ex,mo);if(ss.isValue(ms)){mr.command.commandParams['selectAtPoint']=ms}if(ss.isValue(mp)){mr.command.commandParams['visualId']=mp}var mt=new cg;mt.update(mr,false);return mt};li.$b=function(e,ex,mo){if(ex){for(var mp=0;mp<e.length;mp++){var mq=e[mp];if(ss.isValue(mq.get_serializedCommand())&&ss.isValue(mq.get_serializedCommand().commandParams)&&ss.keyExists(mq.get_serializedCommand().commandParams,'selectAtPoint')){return mq.get_serializedCommand().commandParams['selectAtPoint']}}return null}else{return JSON.stringify(tab.PointUtil.toPresModel(mo))}};li.$4=function(){var e=new cf;e.set_commandType(1);e.set_name(tab.Strings.UbertipClearSelection);e.status='enabled';var ex=e;var mo=new cg;mo.update(ex,false);return mo};li.buildCommandModelFromWrapper=function(e,ex,mo){li.setCommandType(e);e.set_name(ex.get_name());e.description=ex.get_description();if(!tab.MiscUtil.isNullOrEmpty$3(ex.get_iconRes())){e.imageRes=kR.lookupFullResourceAlias(ex.get_iconRes())}var mp=ex.get_enabled();e.status=((ss.isNullOrUndefined(mp)||mp)?'enabled':'disabled');if(mo!==0&&!ss.isValue(e.command.commandParams['selectAtPoint'])){e.command.commandParams['tupleId']=mo.toString()}};li.setCommandType=function(e){var ex=ck.getCommandType(e.command);if(ss.isValue(ex)){e.set_commandType(ss.unbox(ex))}};li.$c=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=li;var lj=function(){this.$0=null;this.$0={}};lj.__typeName='tab.UnionFontFamilyProviderBuilder';global.tab.UnionFontFamilyProviderBuilder=lj;var lk=function(){ss.makeGenericType(bd,[Object,ll]).call(this)};lk.__typeName='tab.UpdateDataAlertCmd';global.tab.UpdateDataAlertCmd=lk;var ll=function(e){this.$$c=null;this.$$c=e};ll.__typeName='tab.UpdateDataAlertCmd$Response';global.tab.UpdateDataAlertCmd$Response=ll;var lm=function(){};lm.__typeName='tab.UriPathStripper';lm.getModuleFromPath=function(e,ex){var mo=tsConfig.site_root||'';var mp=e.indexOf(mo,0);var mq;if(mp===-1){mq=e.substr(1)}else{var mr=mp+mo.length;mq=e.substr(mr+1)}for(var ms=0;ms<ex.length;ms++){var mt=ex[ms];if(ss.startsWithString(mq,mt+'/')||ss.referenceEquals(mq,mt)){return mt}}return''};lm.getMeatFromPath=function(e,ex){var mo=lm.getModuleFromPath(e,ex);var mp=e.indexOf(mo,0);return e.substr(mp+mo.length+1)};global.tab.UriPathStripper=lm;var ln=function(){};ln.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=ln;var lo=function(){};lo.__typeName='tab.UserFactory';lo.currentUser=function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email)}};global.tab.UserFactory=lo;var lp=function(){ss.makeGenericType(bd,[Object,lq]).call(this)};lp.__typeName='tab.ValidateDataValueCmd';global.tab.ValidateDataValueCmd=lp;var lq=function(e){this.$$c=null;this.$$c=e};lq.__typeName='tab.ValidateDataValueCmd$Response';global.tab.ValidateDataValueCmd$Response=lq;var lr=function(e){hv.call(this,e,new ik('geometry',null))};lr.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=lr;var ls=function(e,ex,mo,mp){this.viewid=null;ki.call(this,e,ex,mp);this.viewid=mo};ls.__typeName='tab.ViewSession';ls.canUseTileCacheUrl=function(e){return ss.isValue(e)&&e.length>6};global.tab.ViewSession=ls;var lt=function(){};lt.__typeName='tab.VisualColumnHelpers';lt.copyArray=function(e,ex,mo){return Array.prototype.slice.call(e,ex,ex+mo)};lt.transformColumn=function(e,ex){if(ss.isNullOrUndefined(e)){return false}e.transform(ex);return true};lt.buildColorTable=function(e,ex,mo,mp){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)||!ex.has('color_idx')){return null}var mq=1;if(ex.has('alpha')&&ex.get('alpha').c){var mr=ex.get('alpha');mq=mr.v[(mr.c?0:0)]}var ms=[];var mt={};var mu=ex.get('color_idx');var mv=mu.length;for(var mw=0;mw<mv;mw++){var mx=mu.v[(mu.c?0:mw)];if(ss.keyExists(mt,mx)){mu.v[(mu.c?0:mw)]=mt[mx]}else{var my=bU.fromArgbInt(e.colorList[mx]);my=new bU(my.get_r(),my.get_g(),my.get_b(),mq*my.get_a());ms.push(jt.createColorCollection(my,mo,mp));mu.v[(mu.c?0:mw)]=ms.length-1;mt[mx]=mu.v[(mu.c?0:mw)]}}return ms};lt.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var mo=0,mp=e.length;mo<mp;mo++){ex[mo]=jt.createOpaqueColorCollection(e[mo])}return ex};global.tab.VisualColumnHelpers=lt;var lu=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};lu.__typeName='tab.VisualColumnIterator';lu.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new I(e)}return new lu(e)};global.tab.VisualColumnIterator=lu;var lv=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('visuallist',null))};lv.__typeName='tab.VisualListModel';global.tab.VisualListModel=lv;var lw=function(e){this.$C=null;this.$v=null;this.$m=null;this.$q={};this.$s=null;this.$j=null;this.$D=null;this.$B=null;this.$x=null;this.$w=null;this.$E=null;this.$I=null;this.$o=null;this.$G=null;this.$F=null;this.$k=null;this.$t=null;this.$u=null;this.$i=null;this.$r=null;this.$h=null;this.$n=null;this.$H=false;this.$l=false;this.$p=false;this.$y=null;this.$z=$.Deferred();this.$A=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.resizeInfoModel=null;hv.call(this,e,new ik('visual'.toString(),null));this.$u=new Map;this.$i=new Map;this.$r=new Map;this.$h=new Map;this.$C=new jL(this,'selectionList'.toString());this.$v=new jI(null,-1);this.$m=new jL(this,'brushingSelectionList'.toString());this.$H=true;this.$l=false;this.$p=false;this.$A=new jp;this.$v.update(jL.$1('tuples'),hC.get_noopContext())};lw.__typeName='tab.VisualModel';lw.$0=function(){return tab.Logger.lazyGetLogger(lw)};global.tab.VisualModel=lw;var lx=function(){};lx.__typeName='tab.VizClientCommands';lx.invalidateVisualModel=function(e){lx.$0(e,false)};lx.validateVisualModel=function(e){lx.$0(e,true)};lx.$0=function(e,ex){var mo=new H(function(mp){hy.setVisualValidAndUpToDateStateOnModel(mp,e,ex)});bX.SendCommand(mo)};lx.setUIMode=function(e,ex,mo){var mp=$.Deferred();var mq=Y.get_instance().get_workbook();if(mq.get_uiMode()===e){mp.resolve();return mp.promise()}var mr=ss.referenceEquals(mo,tsConfig.current_sheet_name);var ms=e==='document'&&mr;var mt=new bM;mt.c['uiMode']=e;mt.set_uiBlocking((ms?'none':'immediately'));var mu=mt;if(!ss.isNullOrEmptyString(mo)){mu.c['sheetName']=mo}if(hF.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){if(e==='data-tab'){hF.logEvent('Authoring_DataTab_Open',ss.mkdict(['Source',ex]))}else if(mq.get_uiMode()==='data-tab'){hF.logEvent('Authoring_DataTab_Close',ss.mkdict(['ReturnToSameSheet',mr]))}}if(ms){mu.set_localWork(function(mv){var mw=mv.makeMutablePresModel(mq,false);mw.uiMode=e})}mu.invoke().done(function(){if(mr){var mv=dK.constructEnsureLayoutForSheetCommand();bX.SendCommand(mv)}mp.resolve()});return mp.promise()};global.tab.VizClientCommands=lx;var ly=function(e,ex){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=ex;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};ly.__typeName='tab.VizDataField';global.tab.VizDataField=ly;var lz=function(){};lz.__typeName='tab.VizDataLookup';lz.lookupDisplayValue=function(e,ex,mo){if(!ex.isTupleIdValid(e)){lz.$2(e,ex.get_fieldCaption());return null}if(ex.get_hasAliases()){var mp=lz.lookupAlias(e,ex,mo);if(ss.isValue(mp)){return mp}}if(ex.get_hasDataValues()){var mq=lz.$3(e,ex,mo);if(ss.isValue(mq)){return mq}}lz.$2(e,ex.get_fieldCaption());return null};lz.$2=function(e,ex){var mo=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,ex)};lz.$1=function(e){return ss.Nullable$1.lt(e,0)};lz.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};lz.lookupAlias=function(e,ex,mo){if(!ex.isTupleIdValid(e)){lz.$2(e,ex.get_fieldCaption());return null}var mp=ex.getAliasIndex(e);return lz.lookupAliasFromIndex(mp,ex,mo)};lz.lookupAliasFromIndex=function(e,ex,mo){var mp=null;if(ss.isValue(e)){if(lz.$1(e)){e=lz.$0(e);mp=mo.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(mp)){mp=tableau.format.formatSpecial(mp,ex.get_specialValuesOverride())}}else{var mq=e;mp=lz.$4(mq,ex,mo)}}return mp};lz.lookupRawDataValue=function(e,ex,mo){var mp=ex.getDataValueIndex(e);return lz.lookupRawDataValueFromIndex(mp,ex,mo)};lz.lookupRawDataValueFromIndex=function(e,ex,mo){var mp=null;if(ss.isValue(e)){var mq;var mr=ss.unbox(e);if(mr>=0){mq=ex.get_dataType()}else{mr=-mr-1;mq='cstring'}var ms=mo.getRawValue(mq,mr);if(ss.isValue(ms)){mp=ms.toString()}}return mp};lz.$3=function(e,ex,mo){var mp=ex.getDataValueIndex(e);return lz.$4(mp,ex,mo)};lz.$4=function(e,ex,mo){var mp=null;var mq=lz.lookupRawDataValueFromIndex(e,ex,mo);if(ss.isValue(mq)){if(tableau.format.isSpecialValue(mq)){mp=tableau.format.formatSpecial(mq,ex.get_specialValuesOverride())}else{mp=tableau.format.formatString(mq,ex.get_vizColumnDoNotUse())}}return mp};lz.reverseLookupAlias=function(e,ex,mo,mp){var mq=null;if(mo.get_hasAliases()){ex.forEachTupleId(function(mr){var ms=lz.lookupAlias(mr,mo,mp);if(ss.compareStrings(ms,e,false)===0){mq=mo.getAliasIndex(mr);return false}return true})}return mq};lz.buildAliasReverseLookup=function(e,ex,mo){var mp={};if(ex.get_hasAliases()){e.forEachTupleId(function(mq){var mr=lz.lookupAlias(mq,ex,mo);if(ss.isNullOrUndefined(mp[mr])){mp[mr]=ex.getAliasIndex(mq)}return true})}return mp};lz.isSpecial=function(e,ex,mo,mp){var mq=lz.lookupRawDataValue(e,ex,mo);if(ss.isNullOrUndefined(mq)){var mr=ex.getAliasIndex(e);if(ss.isValue(mr)){if(lz.$1(mr)){mr=lz.$0(mr)}var ms=mr;mq=lz.lookupRawDataValueFromIndex(ms,ex,mo)}if(ss.isNullOrUndefined(mq)){return false}}return(ss.isNullOrUndefined(mp)?tableau.format.isSpecialValue(mq):ss.referenceEquals(mq,mp))};global.tab.VizDataLookup=lz;var lA=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;hv.call(this,e,new ik('vizData'.toString(),null));this.$4=[];this.$5=[]};lA.__typeName='tab.VizDataModel';global.tab.VizDataModel=lA;var lB=function(){};lB.__typeName='tab.VizDataUtils';lB.constructUrl=function(e,ex,mo,mp,mq){var mr=function(ms,mt,mu){if(ss.isNullOrEmptyString(mt)){if(ss.isValue(mp)){return lB.$6(e,ms,mp,1,ex)}return null}var mv=lB.$1(e,ms,mt,ex.delimiter);if(ex.shouldUrlEscape){mv=encodeURIComponent(mv)}return mv};return lB.decodeAndReplaceData(ex.url,'<','>',mo,mr)};lB.constructUrlForFilterActionFromTargetURL=function(e,ex,mo,mp,mq){var mr=function(mz,mA,mB){return lB.$5(e,mz,mq,mB,mo)};var ms=ex.toString().split('?');if(ms.length===1){return ex}var mt=ms[0]+'?';var mu=ms[1].split('&');var mv=[];for(var mw=0;mw<mu.length;mw++){var mx=mu[mw];var my=lB.decodeAndReplaceData(mx,'<','>',mp,mr);if(my.item2==='success'){mv.push(my.item1)}}mt+=mv.join('&');return mt};lB.constructUrlFromString=function(e,ex,mo,mp,mq,mr){var ms=function(mu,mv,mw){if(ss.isNullOrEmptyString(mv)){return lB.$2(e,mu,mp,1)}else{return lB.$1(e,mu,mv,mr)}};var mt=lB.decodeAndReplaceData(ex,'<','>',mo,ms);return mt.item1};lB.constructHtml=function(e,ex,mo,mp){var mq=function(mu,mv,mw){return lB.$2(e,mu,mp,0)};var mr=lB.decodeAndReplaceData(ex,'&lt;','&gt;',mo,mq);var ms=$(mr.item1);var mt=[];lB.getNodesOfInvalidFields(ms,mt);lB.$0(ms,mt);lB.updateVizInTooltipPlaceholderStyles(ms);return(lB.shouldShowUbertipHTML(ms)?ms.wrap('<div>').parent().html():'')};lB.updateVizInTooltipPlaceholderStyles=function(e){if(Y.get_instance().get_isOffline()){e.find('span[data-tableau="VizInTooltip"]').remove();return}if(tab.FeatureFlags.isEnabled('VizInTooltip')){var ex=e.find('span[data-tableau="VizInTooltip"]');ex.addClass('tab-ubertipPlaceholder');var mo=Math.min(ex.length,lB.lastWidthAndHeightForVizInTooltips.length);for(var mp=0;mp<mo;mp++){ex[mp].style.width=lB.lastWidthAndHeightForVizInTooltips[mp].item1;ex[mp].style.height=lB.lastWidthAndHeightForVizInTooltips[mp].item2}}};lB.updateLastVizInTooltipSizes=function(e){var ex=$(e);var mo=ex.find('span[data-tableau="VizInTooltip"] img');var mp=mo.length;lB.widestVizInTooltip=0;for(var mq=0;mq<mp;mq++){var mr=parseInt(mo[mq].getAttribute('height'));var ms=parseInt(mo[mq].getAttribute('width'));lB.lastWidthAndHeightForVizInTooltips[mq]={item1:(ms+'px').toString(),item2:(mr+'px').toString()};if(ms>lB.widestVizInTooltip){lB.widestVizInTooltip=ms}}};lB.decodeAndReplaceData=function(e,ex,mo,mp,mq){var mr='success';var ms=lB.$4(e,'escaped_open_tag');var mt=lB.$4(e,'escaped_close_tag');var mu=ss.replaceAllString(ss.replaceAllString(e,ex+ex,ms),mo+mo,mt);var mv=mu.split(ex);var mw=new ss.StringBuilder(mv.shift());for(var mx=0;mx<mv.length;mx++){var my=mv[mx];var mz=my.split(mo);var mA=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(mz[0],ms,ex),mt,mo));var mB=mz[1];var mC=true;var mD=mA.lastIndexOf(String.fromCharCode(126));var mE=mA.lastIndexOf(String.fromCharCode(93));if(mD>=0&&(mE===-1||mE<mD)){var mF=mA.substr(mD);mA=mA.substr(0,mD);if(mF==='~na'){mC=false}}var mG=null;if(lB.$7(mA)){var mH=mA.indexOf('(');mG=mA.substring(0,mH);mA=mA.substring(mH+1,mA.length-1)}var mI=mA.indexOf(String.fromCharCode(91));var mJ=mA.lastIndexOf(String.fromCharCode(93));if(mI>=0&&mI<mJ){mA=mA.substring(mI+1,mJ)}if(ss.startsWithString(mA,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var mK=mp.getVizDataField(mA);if(ss.isNullOrUndefined(mK)){return{item1:'',item2:'urlConstructionFail'}}var mL=mq(mK,mG,mC);if(ss.isNullOrUndefined(mL)){mr='urlConstructionFail'}else{mw.append(mL)}mw.append(mB)}var mM=ss.replaceAllString(ss.replaceAllString(mw.toString(),ms,ex),mt,mo);return{item1:mM,item2:mr}};lB.hasTupleWithNonTotalValue=function(e,ex,mo){for(var mp=0;mp<mo.length;mp++){var mq={$:mo[mp]};var mr={$:false};e.forEachVizDataField(ss.mkdel({tupleId:mq,tupleHasTotal:mr},function(ms,mt){if(ms.get_role()==='dimension'){if(lz.isSpecial(this.tupleId.$,ms,ex,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!mr.$){return true}}return false};lB.isFieldNameOfColumn=function(e,ex){var mo=lB.stripNewlines(e.fn);var mp=lB.stripNewlines(ex);var mq='['+mp+']';return ss.referenceEquals(mp,mo)||ss.referenceEquals(mp,lB.stripNewlines(e.fnDisagg))||ss.referenceEquals(mq,mo)||ss.referenceEquals(mq,lB.stripNewlines(e.localBaseColumnName))};lB.isFieldCaptionOfColumn=function(e,ex){return ss.referenceEquals(lB.stripNewlines(ex),lB.stripNewlines(e.fieldCaption))};lB.$4=function(e,ex){var mo=ex;while(e.indexOf(mo)>-1){mo+=Math.random()*10000|0}return mo};lB.stripNewlines=function(e){return(ss.isValue(e)?e.replace(lB.$8,''):null)};lB.objectContainsVizInTooltip=function(e){return tab.FeatureFlags.isEnabled('VizInTooltip')&&e.has('span[data-tableau="VizInTooltip"]').length!==0};lB.shouldShowUbertipHTML=function(e){return!tab.MiscUtil.isNullOrEmpty$3(e.text().trim())||lB.objectContainsVizInTooltip(e)};lB.getNodesOfInvalidFields=function(e,ex){var mo='';var mp=e.contents().get();for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];if(mr.nodeType===3){mo+=mr.textContent||(mr.textContent||'')}else{lB.getNodesOfInvalidFields($(mr),ex)}}if(mo.indexOf('~~~???~~~')!==-1){ex.push(e)}};lB.addVizDataToZones=function(e,ex){var mo=_.keys(ex);var mp=_.keys(e);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];for(var ms=0;ms<mo.length;ms++){var mt=mo[ms];var mu=ex[mt];if(mu.zoneCommon.zoneType==='viz'&&ss.referenceEquals(mu.sheet,mr)){var mv=mu.presModelHolder['visual'.toString()];if(ss.isValue(mv)){var mw=e[mr].presModelHolder;mv.vizData=mw['genVizDataPresModel']}break}}}};lB.$0=function(e,ex){for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=lB.$3(e,mp,'tr');if(ss.isValue(mq)){mq.remove()}else{var mr=lB.$3(e,mp,'div');if(ss.isValue(mr)){mr.remove()}else{mp.remove()}}}};lB.$3=function(e,ex,mo){var mp=ex;if(ss.isValue(e)&&ss.isValue(ex)&&e.find(ex).length===1){while(!ss.referenceEquals(mp[0],e[0])){if(ss.referenceEquals(mp[0].tagName.toLowerCase(),mo)){return mp}mp=mp.parent()}}return null};lB.$6=function(e,ex,mo,mp,mq){var mr=[];for(var ms=0;ms<mo.length;ms++){var mt=mo[ms];var mu=lz.lookupAlias(mt,ex,e);if(ss.isNullOrUndefined(mu)){continue}if(lz.isSpecial(mt,ex,e,null)){continue}if(mu.indexOf(mq.delimiter)!==-1){mu=ss.replaceAllString(mu,mq.delimiter,mq.escapeString+mq.delimiter)}if(mq.shouldUrlEscape){mu=encodeURIComponent(mu)}mr.push(mu)}if(mr.length===0){return null}if(mr.length>1&&ss.isNullOrUndefined(mq.delimiter)){return null}var mv=mr.join(mq.delimiter);if(mp===0){mv=tab.EscapingUtil.escapeHtml(mv)}return mv};lB.$5=function(e,ex,mo,mp,mq){var mr=[];for(var ms=0;ms<mo.length;ms++){var mt=mo[ms];var mu=(mp?lz.lookupAlias(mt,ex,e):lz.lookupRawDataValue(mt,ex,e));mu=lB.replaceUrlStringSpecialValues(mu);mu=ss.replaceAllString(mu,mq.delimiter,mq.escapeString+mq.delimiter);mr.push(mu)}return encodeURIComponent(mr.join(mq.delimiter))};lB.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};lB.$2=function(e,ex,mo,mp){var mq;if(mo.length>1){if(!ex.get_hasDataValues()){return'...'}var mr=new Array(mo.length);for(var ms=0;ms<mo.length;++ms){var mt=lz.lookupRawDataValue(mo[ms],ex,e);if(mt===null||tableau.format.isSpecialValue(mt)){mt='0'}else if(typeof(mt)==='undefined'||mt.length===0){return'...'}mr[ms]=mt}var mu=0;for(var mv=0;mv<mr.length;++mv){mu+=parseFloat(mr[mv])}mq=tableau.format.formatString(mu.toString(),ex.get_vizColumnDoNotUse())}else if(mo.length===1){var mw=lz.lookupDisplayValue(mo[0],ex,e);if(ss.isNullOrUndefined(mw)){return'~~~???~~~'}mq=mw}else{return''}if(mp===0){return tab.EscapingUtil.escapeHtml(mq)}else{return mq}};lB.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};lB.$1=function(e,ex,mo,mp){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_filterContext())){return''}var mq=ex.get_filterContext();var mr;switch(mo){case'FILTERMIN':{mr=mq.filterMinIndices;break}case'FILTERMAX':{mr=mq.filterMaxIndices;break}case'FILTERVALUES':{mr=mq.filterValueIndices;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty$2(mr)){return''}var ms=[];for(var mt=0;mt<mr.length;mt++){var mu=mr[mt];var mv=lz.lookupRawDataValueFromIndex(mu,ex,e);ms.push(mv)}return ms.join(mp||',')};global.tab.VizDataUtils=lB;var lC=function(){};lC.__typeName='tab.VizPortalServer';lC.createRequest=function(e,ex,mo,mp){var mq=function(mr){if(lC.$5(mr)){mp(lC.$2(mr))}else{mo(mr)}};return lC.$1(e,ex,mq,mp)};lC.createRequestWithPartialFailureHandling=function(e,ex,mo,mp,mq){var mr=function(ms){if(lC.$5(ms)){mp(ms)}else{mo(ms)}};return lC.$1(e,ex,mr,mq)};lC.$0=function(e){return lC.$1(e.methodName,e.methodParams,e.success,e.error)};lC.$1=function(e,ex,mo,mp){var mq=new Object;mq.type='POST';mq.contentType='application/json;charset=UTF-8';mq.dataType='json';mq.url='/vizportal/api/web/v1/'+e;var mr=lC.$4();if(ss.isValue(mr)){mq.headers=ss.mkdict(['X-XSRF-TOKEN',mr])}mq.data=JSON.stringify(ss.mkdict(['method',e,'params',ex]));mq.success=function(ms,mt,mu){mo(lC.$3(ms))};mq.error=function(){mp(0)};return mq};lC.$4=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};lC.$5=function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];return ex.length>0}else{return false}};lC.$2=function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];if(ex.length>0&&ss.keyExists(ex[0],'code')){return ex[0]['code']}}return 0};lC.$3=function(e){var ex=e;return ex['result']};global.tab.VizPortalServer=lC;var lD=function(e,ex,mo,mp){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=mo;this.error=mp};lD.__typeName='tab.VizqlSessionRequest';global.tab.VizqlSessionRequest=lD;var lE=function(e){this.$0=null;this.$0=e};lE.__typeName='tab.VizRegionRectWrapper';lE.create=function(e){return new lE(e)};global.tab.VizRegionRectWrapper=lE;var lF=function(e){this.explicitNotGuest=false;this.$n=0;this.$h='';this.$o='';this.$m='';this.$f='';this.$k={};this.$g='';this.$i='';this.$j='';this.$l='';if(ss.getKeyCount(lF.$i)===0){lF.$4()}if(ss.isValue(e)){this.$6(e)}};lF.__typeName='tab.VizUriModel';lF.createForCurrentWindowLocation=function(e){return new lF(tab.WindowHelper.getLocation(e||tabBootstrap.Utility.get_locationWindow()))};lF.$5=function(e,ex){var mo=new iN(ex);e.$o=mo.get_workbookId();e.$m=mo.get_sheetId();e.$g=mo.get_customizedView();e.$f='';return e};lF.createForViewingSheet=function(e){var ex=lF.$0(null);ex.$n=(tsConfig.is_revision_history_preview?6:(ex.$n=1));return lF.$5(ex,e)};lF.createForViewingSheetNoQueryParamsNoHash=function(e){var ex=lF.$0(null);ex.$n=1;ex.removeAllQueryParams();ex.removeHash();return lF.$5(ex,e)};lF.createForCurrentWindowLocationAndVizState=function(e,ex){var mo=lF.createForCurrentWindowLocation(null);var mp=new iN(e);mo.$o=mp.get_workbookId();mo.$m=mp.get_sheetId();mo.$g=mp.get_customizedView();mo.$f=ex;return mo};lF.createForAuthoringUnpublishedSheet=function(e,ex){var mo=lF.createForAuthoringPublishedSheet(e);mo.$f=ex;return mo};lF.createForAuthoringPublishedSheet=function(e){var ex=lF.$0(null);ex.$n=2;var mo=new iN(e);ex.$o=mo.get_workbookId();ex.$m=mo.get_sheetId();ex.$f='';return ex};lF.createInvalid=function(){var e=new lF(null);e.$n=0;return e};lF.createForDeviceLayout=function(e){var ex=lF.createForCurrentWindowLocation(null);ex.set_deviceLayout(e);return ex};lF.$4=function(){var e=ss.getEnumerator(Object.keys(lF.$m));try{while(e.moveNext()){var ex=e.current();lF.$i[lF.$m[ex]]=ex}}finally{e.dispose()}};lF.$0=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}var ex=tab.WindowHelper.getLocation(e);var mo=new lF(ex);mo.$k=lF.$3(ex);mo.$i=ex.hash;mo.$j=BrowserSupport.BrowserSupport.GetOrigin(ex);return mo};lF.$3=function(e){var ex=tab.UriExtensions.getUriQueryParameters(e.href);for(var mo=0;mo<lF.$l.length;mo++){var mp=lF.$l[mo];if(ss.keyExists(ex,mp)){delete ex[mp]}}return ex};lF.encodeUserName=function(e){var ex=tab.MiscUtil.percentEncode(e,lF.$j);return ss.replaceAllString(ex,'%40','@')};lF.createVizUriModelForAuthoringSheetInWorkbook=function(e,ex){var mo;var mp=lF.$2(e,ex);if(mp.length>0){mo=lF.createForAuthoringPublishedSheet(ex.repositoryUrl+'/'+mp)}else{var mq=lF.$1(ex);mo=lF.createForAuthoringUnpublishedSheet(ex.repositoryUrl+'/'+mq,e)}if(tab.MiscUtil.isNullOrEmpty$2(mo)){mo=lF.createInvalid()}return mo};lF.createVizUriModelForViewingSheetInWorkbook=function(e,ex){var mo=lF.$2(e,ex);return((mo.length>0)?lF.createForViewingSheet(ex.repositoryUrl+'/'+mo):lF.createInvalid())};lF.$2=function(e,ex){var mo=_.find(ex.views,function(mp){return ss.referenceEquals(mp.name,e)});return(ss.isNullOrUndefined(mo)?'':mo.sheetId)};lF.$1=function(e){var ex=_.first(e.views);return(ss.isNullOrUndefined(ex)?'':ex.sheetId)};global.tab.VizUriModel=lF;var lG=function(){};lG.__typeName='tab.VizUriType';global.tab.VizUriType=lG;var lH=function(){};lH.__typeName='tab.WaitFeedbackType';global.tab.WaitFeedbackType=lH;var lI=function(){this.$c=null;this.$i=null;this.$g=0;this.$h=null;this.$f=false;this.$e=false;this.$b=null;this.$d=null;this.$j=null;this.glassOpacityChangeDelay=ss.coalesce(tab.FeatureParamsLookup.getInt(48),2000);this.spinnerShowDelay=ss.coalesce(tab.FeatureParamsLookup.getInt(49),2000);this.$c=$('#loadingGlassPane');this.$c.on('mousedown',function(ex){ex.stopImmediatePropagation()});this.$c.on(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(ex){ex.preventDefault()});this.$i=$('#loadingSpinner');this.$g=0;this.$f=true;this.$e=false;var e=ss.mkdel(this,this.$6);document.body.addEventListener('keydown',e,true);document.body.addEventListener('keyup',e,true);document.body.addEventListener('keypress',e,true)};lI.__typeName='tab.WaitHandler';lI.$0=function(e,ex,mo){e.css('opacity','0');e.css('transition',ex+'ms opacity');e.show();e.css('display');e.css('opacity',mo.toString())};lI.loadingElementFadeOut=function(e,ex,mo){e.css('transition',ex+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){mo(e)},ex)};global.tab.WaitHandler=lI;var lJ=function(e,ex){var mo=function(){this.$2$1=false;this.$2$2=false;this.$2$3=false;this.$2$4=false;this.$2$5=false;ss.makeGenericType(bd,[e,ex]).call(this)};ss.registerGenericClassInstance(mo,lJ,[e,ex],{get_isChecked:function(){return this.$2$1},set_isChecked:function(mp){this.$2$1=mp},get_isDefault:function(){return this.$2$2},set_isDefault:function(mp){this.$2$2=mp},get_isEnabled:function(){return this.$2$3},set_isEnabled:function(mp){this.$2$3=mp},get_isRadioOn:function(){return this.$2$4},set_isRadioOn:function(mp){this.$2$4=mp},get_isVisible:function(){return this.$2$5},set_isVisible:function(mp){this.$2$5=mp},createCommand:function(){return new H(ss.mkdel(this,function(mp){this.do$1()}))},transfer:function(mp){if(ss.isValue(mp)){_.each(_.difference(Object.keys(mp),Object.keys(this.c)),ss.mkdel(this,function(mq){this.c[mq]=mp[mq]}))}},do$1:null,do$2:function(mp){return null},invoke:function(){var mp=$.Deferred();this.do$1();mp.resolve();return mp.promise()}},function(){return ss.makeGenericType(bd,[e,ex])},function(){return[]});return mo};lJ.__typeName='tab.WebBaseCmd$2';ss.initGenericClass(lJ,a,2);global.tab.WebBaseCmd$2=lJ;var lK=function(e){this.$1=null;cd.call(this,e);var ex=ck.deserialize(this.get_command(),false);var mo={ns:ex.commandNamespace,cmd:ex.commandName};this.$1=lM.get_instance().createCommand(mo);this.$1.set_isChecked(cd.prototype.get_isChecked.call(this));this.$1.set_isDefault(cd.prototype.get_isDefault.call(this));this.$1.set_isEnabled(cd.prototype.get_enabled.call(this));this.$1.set_isRadioOn(cd.prototype.get_isRadioOn.call(this));this.$1.set_isVisible(cd.prototype.get_isVisible.call(this));this.$1.transfer(ex.commandParams);tab.KeyboardShortcutManager.tryUpdateKeyboardShortcut(mo.cmd,this)};lK.__typeName='tab.WebCommandItemWrapper';global.tab.WebCommandItemWrapper=lK;var lL=function(e){var ex=function(mo,mp,mq,mr,ms,mt,mu,mv){this.$9=null;this.$1=null;this.$8=null;this.$5=null;this.$3=null;this.$4=null;this.$6=false;this.$7=false;this.$2=null;tab.CommandKeyboardShortcut.call(this);this.$8=lM.get_instance().createCommand(mo);this.$1=mp;this.$5=mu;this.$4=ms;this.$6=mq;this.$7=mr;this.$3=mt;this.$2=mo;tab.KeyboardShortcutManager.associateShortcutWithCommand(this,mo,mv)};ss.registerGenericClassInstance(ex,lL,[e],{get_element:function(){return $(document.body)},get_shouldRequireCommandCheck:function(){return false},get_keyCombos:function(){return this.$1},get_additionalOptions:function(){return this.$5||tab.KeyboardShortcut.prototype.get_additionalOptions.call(this)},get_commandId:function(){return this.$2},updateShortcutAction:function(mo){this.$9=mo},isAllowed:function(mo){var mp=ss.staticEquals(this.$4,null)||this.$4(mo);var mq=(ss.isNullOrUndefined(this.$9)?this.$8.get_isEnabled():this.$9.get_enabled());var mr=!this.$6||mq;var ms=(ss.isNullOrUndefined(this.$9)?this.$8.get_isVisible():this.$9.get_isVisible());var mt=!this.$7||ms;return mp&&mr&&mt&&tab.CommandKeyboardShortcut.prototype.isAllowed.call(this,mo)},executeShortcut:function(mo){if(ss.isNullOrUndefined(this.$8)){return}if(!ss.staticEquals(this.$3,null)){this.$3(mo,this.$8)}else{this.$8.invoke()}}},function(){return tab.CommandKeyboardShortcut},function(){return[tab.IKeyboardShortcut,tab.IUpdatableKeyboardShortcut]});return ex};lL.__typeName='tab.WebCommandKeyboardShortcut$1';ss.initGenericClass(lL,a,1);global.tab.WebCommandKeyboardShortcut$1=lL;var lM=function(){this.$1={};this.$0={}};lM.__typeName='tab.WebCommandRegistry';lM.get_instance=function(){return lM.$0};global.tab.WebCommandRegistry=lM;var lN=function(){ss.makeGenericType(lJ,[Object,lO]).call(this)};lN.__typeName='tab.WebEditConnectionCmd';lN.get_commandName=function(){return'web-edit-connection'};global.tab.WebEditConnectionCmd=lN;var lO=function(e){this.$$c=null;this.$$c=e};lO.__typeName='tab.WebEditConnectionCmd$Response';global.tab.WebEditConnectionCmd$Response=lO;var lP=function(e){this.$1=null;$('.TestFontContainer').remove();this.$1=[];lP.$0(e.toSimpleFontList());this.$0(e)};lP.__typeName='tab.WebFilteredFontListProvider';lP.get_testDiv=function(){return lP.$4};lP.get_supportedFonts=function(){return lP.$3};lP.$0=function(e){var ex=tabBootstrap.MetricsController.createContext('ComputeFonts',32,null);var mo='12pt';var mp=$('<div/>').css('visibility','hidden');var mq=$('<span/>').css({display:'inline-block','font-size':mo,'font-family':'TableauTestFont'}).text('A');mp.append(mq);var mr={};var ms=ss.getEnumerator(e);try{while(ms.moveNext()){var mt=ms.current();if(ss.keyExists(lP.get_supportedFonts(),mt)){continue}var mu=ss.formatString('"{0}", "{1}"',mt,'TableauTestFont');var mv=$('<span/>').css({display:'inline-block','font-size':mo,'font-family':mu}).text('A');fr.cleanUpFontFamilyStyles(mv);mp.append(mv);mr[mt]=mv}}finally{ms.dispose()}if(ss.getKeyCount(mr)===0){return}lP.get_testDiv().append(mp);lP.$2=tab.DoubleUtil.roundToInt(mq.width());lP.$1=tab.DoubleUtil.roundToInt(mq.height());var mw=_.keys(mr);for(var mx=0;mx<mw.length;mx++){var my=mw[mx];var mz=mr[my];var mA=lP.$2!==tab.DoubleUtil.roundToInt(mz.width())||lP.$1!==tab.DoubleUtil.roundToInt(mz.height());lP.get_supportedFonts()[my]=mA}mp.remove();ex.dispose()};global.tab.WebFilteredFontListProvider=lP;var lQ=function(){ss.makeGenericType(lJ,[Object,lR]).call(this)};lQ.__typeName='tab.WebRenameConnectionCmd';lQ.get_commandName=function(){return'web-rename-connection'};global.tab.WebRenameConnectionCmd=lQ;var lR=function(e){this.$$c=null;this.$$c=e};lR.__typeName='tab.WebRenameConnectionCmd$Response';global.tab.WebRenameConnectionCmd$Response=lR;var lS=function(e){this.$1=null;this.$2$1=null;hv.call(this,e,new ik('webZone'.toString(),null));this.$1=e.get_zone()};lS.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=lS;var lT=function(){};lT.__typeName='tab.WidgetPlugins';lT.registerWidgetPluginModule=function(e,ex){var mo=hz.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;mo.addDependency(id.menuApiContract);mo.addDependency(id.hybridWidgetsContract);return mo};global.tab.WidgetPlugins=lT;var lU=function(e){this.$3$1=null;le.call(this,e,new ik('windowTableCalcPresModel'.toString(),null))};lU.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=lU;var lV=function(e){this.$8=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.$2$13=null;this.$2$14=null;this.$2$15=null;hv.call(this,e,new ik('workbookPresModel'.toString(),null));this.$8=new cl(this);this.set_dataSchema(new dA(this));this.set_formatPaneModel(new fn(this));this.set_oAuthCredentialIds([])};lV.__typeName='tab.WorkbookModel';lV.add_workbookModifiedChanged=function(e){lV.$2$1=ss.delegateCombine(lV.$2$1,e)};lV.remove_workbookModifiedChanged=function(e){lV.$2$1=ss.delegateRemove(lV.$2$1,e)};lV.$1=function(e){if(lV.$0(e)){return e.dashboardPresModel.sheetLayoutInfo.sheetType}return null};lV.$0=function(e){return ss.isValue(e)&&ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)};lV.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(lV.$2$1,null)){lV.$2$1(e)}O.get().onWorkbookModifiedChanged(e)};global.tab.WorkbookModel=lV;var lW=function(e,ex){this.$1$1=false;this.$1$2=0;this.set_jobInProgress(e);this.set_jobId(ex)};lW.__typeName='tab.WorkbookTemplateCreationRefreshExtractJob';global.tab.WorkbookTemplateCreationRefreshExtractJob=lW;var lX=function(){};lX.__typeName='tab.WorkbookTemplatesEnabledState';global.tab.WorkbookTemplatesEnabledState=lX;var lY=function(e,ex){this.$1=null;this.$0=null;this.$1=e;this.$0=ex};lY.__typeName='tab.WorkgroupDataAlert';global.tab.WorkgroupDataAlert=lY;var lZ=function(e,ex,mo){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=ex;this.$0=mo};lZ.__typeName='tab.WorkgroupDataSource';lZ.$0=function(e){var ex=(ss.isValue(e)?e.match(lZ.$1):null);return(ss.isValue(ex)?ex[1]:e)};global.tab.WorkgroupDataSource=lZ;var ma=function(){};ma.__typeName='tab.WorkgroupServerCommands';ma.get_getSessionInfo=function(){var e=$.Deferred();if(!tsConfig.is_guest){mj.helper(lC.createRequest('getSessionInfo',null,function(ex){e.resolve(ex)},function(ex){e.reject(ex)}),null)}else{e.reject()}return e};ma.getExtensionLoadStatus=function(e,ex){var mo=$.Deferred();var mp={};mp['path']=tsConfig.site_url_name;mp['url']=e;mp['requireFullData']=ex;mj.helper(lC.createRequest('getExtensionLoadStatus',mp,function(mq){mo.resolve(mq)},function(mq){mo.reject(mq)}),null);return mo};ma.getWritableProjects=function(e){var ex=[];L.$0(Object).call(null,'getWritableProjects',new d,ss.mkdel(this,function(mo){var mp=L.$3(Object).call(null,mo,ma.$j);ss.arrayAddRange(ex,mp.items);return mp}),function(){e(ex)})};ma.getDestinationProjects=function(e,ex){var mo=$.Deferred();var mp=[];L.$1(Object).call(null,'getDestinationProjects',ma.$7(0,e,ex),ss.mkdel(this,function(mq){var mr=L.$3(Object).call(null,mq,ma.$h);mp=mp.concat.apply(mp,mr.items);return mr}),function(){mo.resolve(mp)},function(){mo.reject()});return mo.promise()};ma.extendWorkgroupSession=function(){if(!tsConfig.is_guest){mj.helper(lC.createRequest('getSessionInfo',null,function(){},function(){}),null)}};ma.getSchedules=function(e){var ex=[];L.$0(jx).call(null,'getSchedules',new d,ss.mkdel(this,function(mo){var mp=L.$3(jx).call(null,mo,ma.$k);ss.arrayAddRange(ex,mp.items);return mp}),function(){e(ex)})};ma.getSiteUsers=function(e,ex){var mo=ma.$9(e);ma.$d(mo,ex)};ma.getSiteUsersWithoutGuest=function(e,ex){var mo=ma.$9(e);mo.$2()['includeGuestIfEnabled']=false;ma.$d(mo,ex)};ma.$d=function(e,ex){var mo=[];L.$0(Object).call(null,'getUsers',e,ss.mkdel(this,function(mp){var mq=L.$3(Object).call(null,mp,ma.$l);mo.push.apply(mo,mq.items);return mq}),function(){ex(mo)})};ma.isWorkbookTemplateEnabled=function(){var e=$.Deferred();var ex=function(mp){var mq=ss.Enum.parse(lX,mp['enabledState'].toString());e.resolve(mq)};var mo=function(mp){e.reject()};mj.helper(lC.createRequest('isWorkbookTemplatesEnabled',{},ex,mo),null);return e};ma.retrieveAllWorkbookTemplates=function(){var e=$.Deferred();var ex=function(mp){if(ss.isValue(mp['errors'])||ss.isNullOrUndefined(mp['workbookTemplates'])){e.reject()}else{var mq=mp['workbookTemplates'];e.resolve(new me(mq))}};var mo=function(mp){e.reject()};mj.helper(lC.createRequest('getAllWorkbookTemplates',{},ex,mo),null);return e};ma.getWorkbookTemplateCreationRefreshExtractJob=function(e){var ex=$.Deferred();var mo=function(mr){var ms=/^\s*true\s*$/i.test(mr['jobInProgress'].toString());var mt=parseInt(mr['jobId'].toString());ex.resolve(new lW(ms,mt))};var mp=function(mr){ex.reject()};var mq=ss.mkdict(['id',e]);mj.helper(lC.createRequest('getWorkbookTemplateCreationRefreshExtractJob',mq,mo,mp),null);return ex};ma.getBackgroundJobProgressState=function(e){var ex=$.Deferred();var mo=function(mr){var ms=mr['actions'];if(ms.length===0){ex.resolve('error')}else if(ms[0]['state'].toString()!=='completed'){ex.resolve('inProgress')}else if(/^\s*true\s*$/i.test(ms[0]['succeeded'].toString())){ex.resolve('success')}else{ex.resolve('error')}};var mp=function(mr){ex.reject()};var mq=ss.mkdict(['actionId',e]);mj.helper(lC.createRequest('getBackgroundActionInfo',mq,mo,mp),null);return ex};ma.getDataAlertForDataAlertId=function(e,ex){var mo=$.Deferred();var mp=[];L.$1(Object).call(null,'getDataAlerts',ma.$2(0,e,ex),ss.mkdel(this,function(mq){var mr=L.$3(Object).call(null,mq,ma.$f);var ms=_.indexBy(ma.$l(mq),'id');if(ss.isValue(mr)){mp=mp.concat(_.map(mr.items,function(mt){var mu=ms[mt.ownerId];return new lY(mt,mu)}))}return mr}),function(){mo.resolve(mp)},function(){mo.reject()});return mo};ma.getDataAlertsForView=function(e){var ex=$.Deferred();var mo=function(mq){var mr=_.indexBy(ma.$l(mq),'id');var ms=ma.$f(mq);var mt=ms.map(function(mu){var mv=mr[mu.ownerId];return new lY(mu,mv)});ex.resolve(mt)};var mp={};mp['viewId']=e;mj.helper(lC.createRequest('getDataAlertsForView',mp,mo,function(){ex.reject()}),null);return ex};ma.getUsersForDataAlertId=function(e){var ex=$.Deferred();var mo=[];L.$1(Object).call(null,'getUsersForDataAlert',ma.$a(0,e),ss.mkdel(this,function(mp){var mq=L.$3(Object).call(null,mp,ma.$l);if(ss.isValue(mq)){_.each(mq.items,function(mr){if(ss.isNullOrUndefined(mr.dataAlertRecipientErrorCode)){mr.dataAlertRecipientErrorCode=0}mo.push(mr)})}return mq}),function(){ex.resolve(mo)},function(){ex.reject()});return ex};ma.checkIfUserCanReceiveDataAlert=function(e){var ex=ss.mkdict(['context',ma.$1(null),'userId',e]);var mo=$.Deferred();var mp=function(mr){mo.resolve()};var mq=function(mr){mo.reject(mr)};mj.helper(lC.createRequest('checkIfUserCanReceiveDataAlert',ex,mp,mq),null);return mo};ma.fetchPageOfDataSources=function(e,ex,mo){var mp=$.Deferred();L.$2(Object).call(null,'getDatasources',ma.$6(e,ex,mo),ss.mkdel(this,function(mq){var mr=L.$3(Object).call(null,mq,ma.$g);var ms=_.indexBy(ma.$j(mq),'id');var mt=_.indexBy(ma.$l(mq),'id');var mu={items:_.map(mr.items,function(mv){var mw=ms[mv.projectId.toString()];var mx=mt[mv.ownerId.toString()];return new lZ(mv,mw,mx)}),moreItems:mr.moreItems};mp.resolve(mu);return mr}));return mp.promise()};ma.$c=function(e){var ex=$.Deferred();var mo='id';L.$2(Object).call(null,'getDatasources',ma.$3(e),ss.mkdel(this,function(mp){var mq=L.$3(Object).call(null,mp,ma.$g);var mr=_.indexBy(ma.$j(mp),mo);var ms=_.indexBy(ma.$l(mp),mo);var mt={items:_.map(mq.items,function(mu){var mv=mr[mu.projectId.toString()];var mw=ms[mu.ownerId.toString()];return new lZ(mu,mv,mw)}),moreItems:mq.moreItems};ex.resolve(mt);return mq}));return ex.promise()};ma.fetchDataSourcesByRepositoryUrl=function(e,ex){var mo=[];ma.$c(ex).done(function(mp){ss.arrayAddRange(mo,mp.items);e(mo)})};ma.fetchDataSourcesByWorkbookId=function(e,ex){var mo=[];ma.$b(e,ma.$5(ex),mo)};ma.getDatasources=function(e,ex,mo){var mp=[];ma.$b(e,ma.$6(0,ex,mo),mp)};ma.fetchPageOfSiteUsers=function(e,ex){var mo=$.Deferred();var mp=ma.$9(e);mp.$1(ex);mp.$2()['includeGuestIfEnabled']=false;L.$2(Object).call(null,'getUsers',mp,ss.mkdel(this,function(mq){var mr=L.$3(Object).call(null,mq,ma.$l);mo.resolve(mr);return mr}));return mo.promise()};ma.fetchPageOfGroups=function(e,ex){var mo=$.Deferred();var mp=ma.$8(e);mp.$1(ex);L.$2(Object).call(null,'getGroups',mp,ss.mkdel(this,function(mq){var mr=L.$3(Object).call(null,mq,ma.$i);mo.resolve(mr);return mr}));return mo.promise()};ma.$b=function(e,ex,mo){L.$0(Object).call(null,'getDatasources',ex,ss.mkdel(this,function(mp){var mq=L.$3(Object).call(null,mp,ma.$g);var mr=_.indexBy(ma.$j(mp),'id');var ms=_.indexBy(ma.$l(mp),'id');if(ss.isValue(mq)){mo=mo.concat(_.map(mq.items,function(mt){var mu=mr[mt.projectId.toString()];var mv=ms[mt.ownerId.toString()];return new lZ(mt,mu,mv)}))}return mq}),function(){e(mo)})};ma.$7=function(e,ex,mo){var mp={field:'name',ascending:true};var mq=new d.$1(mp,{});mq.$1(e);var mr=mq;mr.$2()['contentType']=ex;mr.$2()['sourceIds']=mo;return mr};ma.$8=function(e){var ex={field:'name',ascending:true};var mo={operator:'and',clauses:[{operator:'matches',value:e}]};return new d.$1(ex,mo)};ma.$9=function(e){var ex={field:'displayName',ascending:true};var mo={operator:'and',clauses:[{operator:'matches',value:e}]};return new d.$1(ex,mo)};ma.$2=function(e,ex,mo){var mp={operator:'and',clauses:[{field:'viewId',operator:'eq',value:ex},{field:'id',operator:'eq',value:mo}]};var mq={field:'title',ascending:true};var mr=new d.$1(mq,mp);mr.$1(e);var ms=mr;return ms};ma.$a=function(e,ex){var mo={field:'displayName',ascending:true};var mp=new d.$1(mo,null);mp.$1(e);var mq=mp;mq.$2()['dataAlertId']=ex;return mq};ma.$5=function(e){var ex={operator:'and',clauses:[{field:'workbookId',operator:'eq',value:e}]};return ma.$4(0,null,ex,null)};ma.$6=function(e,ex,mo){var mp={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};return ma.$4(e,ex,mp,mo)};ma.$4=function(e,ex,mo,mp){if(ss.isValue(mp)){mo.clauses=mo.clauses.concat([{operator:'matches',value:mp}])}var mq=new d.$0(ex,mo);mq.$1(e);var mr=mq;return mr};ma.$3=function(e){var ex={field:'name',ascending:true};var mo={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true},{field:'repositoryUrl',operator:'eq',value:e}]};var mp=new d.$1(ex,mo);mp.$1(0);var mq=mp;return mq};ma.setUserEmail=function(e,ex,mo){ma.$e(function(mp){var mq=ss.mkdict(['userId',mp,'email',e]);mj.helper(lC.createRequest('updateUserEmail',mq,ex,mo),null)},mo)};ma.$e=function(e,ex){var mo=tsConfig.current_user_name;var mp=tsConfig.current_user_domain_name;var mq=[{field:'username',operator:'eq',value:mo},{field:'domainName',operator:'eq',value:mp}];var mr=ss.mkdict(['filter',{clauses:mq}]);mj.helper(lC.createRequest('getServerUsers',mr,function(ms){var mt=ms['users'];if(ss.isValue(mt)&&mt.length>0&&ss.keyExists(mt[0],'id')){var mu=mt[0]['id'];e(mu)}else{ex(lC.$2(ms))}},ex),null)};ma.createSubscription=function(e,ex,mo,mp,mq,mr){var ms=ma.$0(mo.get_schedulePresModel().id,e,ex,ss.coalesce(mp,'Always'),null);mj.helper(lC.createRequest('createSubscription',ms,mq,mr),null)};ma.createSubscriptions=function(e,ex,mo,mp,mq,mr,ms,mt,mu,mv){var mw=ma.$0(mp.get_schedulePresModel().id,e,ex,ss.coalesce(mq,'Always'),mu);mw['userIds']=mo;mw['groupIds']=mv;mj.helper(lC.createRequestWithPartialFailureHandling('createSubscriptions',mw,mr,ms,mt),null)};ma.createDataAlert=function(e,ex,mo){var mp=ma.buildCreateDataAlertRequestParams(e);mj.helper(lC.createRequest('createDataAlert',mp,ex,mo),null)};ma.updateDataAlert=function(e,ex,mo,mp,mq,mr){var ms=ma.buildUpdateDataAlertRequestParams(e,ex,mo.map(function(mt){return mt.id.toString()}),mp.map(function(mt){return mt.id.toString()}));mj.helper(lC.createRequest('updateDataAlert',ms,mq,mr),null)};ma.deleteDataAlerts=function(e,ex,mo){var mp=ss.mkdict(['ids',e]);mj.helper(lC.createRequest('deleteDataAlerts',mp,ex,mo),null)};ma.resumeDataAlerts=function(e,ex,mo){var mp=ss.mkdict(['ids',e]);mj.helper(lC.createRequest('resumeDataAlerts',mp,ex,mo),null)};ma.removeUsersFromDataAlerts=function(e,ex,mo,mp){var mq=ss.mkdict(['dataAlertIds',e,'userIds',ex]);mj.helper(lC.createRequest('removeUsersFromDataAlerts',mq,mo,mp),null)};ma.addUsersToDataAlerts=function(e,ex,mo,mp){var mq=ss.mkdict(['dataAlertIds',e,'userIds',ex]);mj.helper(lC.createRequest('addUsersToDataAlerts',mq,mo,mp),null)};ma.setDataAlertsOwner=function(e,ex,mo,mp){var mq=ss.mkdict(['ids',e,'ownerId',ex]);mj.helper(lC.createRequest('setDataAlertsOwner',mq,mo,mp),null)};ma.buildCreateDataAlertRequestParams=function(e){var ex=ss.mkdict(['title',e.get_title(),'device',e.get_deviceType(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',ma.$1(null)]);return ex};ma.$1=function(e){var ex;var mo;if(ss.isValue(e)&&ss.isValue(e.get_customizedViewId())){ex='customizedView';mo=e.get_customizedViewId()+''}else if(ss.isValue(tsConfig.current_custom_view_id)){ex='customizedView';mo=tsConfig.current_custom_view_id+''}else{ex='view';mo=tsConfig.current_view_id}return ss.mkdict(['contextType',ex,'id',mo])};ma.buildUpdateDataAlertRequestParams=function(e,ex,mo,mp){var mq=ss.mkdict(['dataAlertId',ex,'title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIdsToAdd',mo,'userIdsToRemove',mp]);return mq};ma.logOff=function(e){var ex=function(mo){var mp=mo['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(mp)?mp:'/'))};mj.helper(lC.createRequest('logout',{},ex,e),null)};ma.createCommentingServer=function(){return new cp(lC.$0,bX.get().legacySession)};ma.$0=function(e,ex,mo,mp,mq){return ss.mkdict(['scheduleId',e,'subject',ex.trim(),'targetType',(mo?'Workbook':'View'),'targetId',(mo?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',mp,'subscriptionMessage',mq,'attachPdf',false])};ma.$j=function(e){return _.map(e['projects'],function(ex){return ex})};ma.$h=function(e){return _.map(e['projects'],function(ex){return ex})};ma.$k=function(e){return _.map(e['schedules'],function(ex){return new jx(ex)})};ma.$l=function(e){return _.map(e['users'],function(ex){var mo='dataAlertRecipientErrorCode';var mp={username:ex['username'].toString(),friendlyName:ex['displayName'].toString(),id:parseInt(ex['id'].toString()),hasEmail:ex['hasEmail']};if(ss.isValue(ex[mo])){mp.dataAlertRecipientErrorCode=parseInt(ex[mo].toString())}return mp})};ma.$i=function(e){return _.map(e['groups'],function(ex){return{name:ex['name'].toString(),id:parseInt(ex['id'].toString()),userCount:parseInt(ex['userCount'].toString())}})};ma.$f=function(e){return e['dataAlerts']};ma.$g=function(e){return e['datasources']};global.tab.WorkgroupServerCommands=ma;var mb=function(){};mb.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=mb;var mc=function(e){this.$0=null;this.$0=e};mc.__typeName='tab.WorkgroupServerOauthSettings';global.tab.WorkgroupServerOauthSettings=mc;var md=function(e,ex,mo,mp){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=mo;this.error=mp};md.__typeName='tab.WorkgroupServerRequest';global.tab.WorkgroupServerRequest=md;var me=function(e){this.$0=null;this.$0=e};me.__typeName='tab.WorkgroupWorkbookTemplates';global.tab.WorkgroupWorkbookTemplates=me;var mf=function(){};mf.__typeName='tab.WorksheetServerCommands';mf.revert=function(e){var ex=co.newCommand({ns:'tabsrv',cmd:'revert-workbook'},null);bX.SendCommand(iK.create(ex,'immediately',e,null))};mf.undo=function(){var e=co.newCommand({ns:'tabdoc',cmd:'undo'},null);e.commandParams={};bX.SendCommand(iK.create(e,'immediately',null,null))};mf.undo$1=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'undo'},null);mo.commandParams={};bX.SendCommand(iK.create(mo,'immediately',e,ex))};mf.undoToPosition=function(e){var ex=co.newCommand({ns:'tabdoc',cmd:'undo'},null);ex.commandParams=mf.$0(e);bX.SendCommand(iK.create(ex,'immediately',null,null))};mf.redo=function(){var e=co.newCommand({ns:'tabdoc',cmd:'redo'},null);e.commandParams={};bX.SendCommand(iK.create(e,'immediately',null,null))};mf.redo$1=function(e,ex){var mo=co.newCommand({ns:'tabdoc',cmd:'redo'},null);mo.commandParams={};bX.SendCommand(iK.create(mo,'immediately',e,ex))};mf.redoToPosition=function(e){var ex=co.newCommand({ns:'tabdoc',cmd:'redo'},null);ex.commandParams=mf.$0(e);bX.SendCommand(iK.create(ex,'immediately',null,null))};mf.clearFuture=function(){var e=co.newCommand({ns:'tabdoc',cmd:'clear-future'},null);e.commandParams={};bX.SendCommand(iK.create(e,'immediately',null,null))};mf.$0=function(e){var ex={};ex['undoPosition']=e;return ex};global.tab.WorksheetServerCommands=mf;var mg=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};mg.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=mg;var mh=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};mh.__typeName='tab.WorldUpdateInterceptor';mh.get=function(){return mh.$0.value()};global.tab.WorldUpdateInterceptor=mh;var mi=function(){};mi.__typeName='tab.WorldUpdateServerCommands';mi.getWorldUpdate=function(e){var ex=co.newCommand({ns:'tabdoc',cmd:'get-world-update'},mi.$0());jP.executeServerCommand(ex,'immediately',e,e)};mi.$0=function(){var e={};e['sheet']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=mi;var mj=function(){};mj.__typeName='tab.XhrUtil';mj.get_currentTabName=function(){return mj.$0};mj.set_currentTabName=function(e){mj.$0=e};mj.helper=function(e,ex){var mo=new mj;if(!ss.isValue(e.success)&&ss.isValue(ex)){e.success=ex.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(ex)){e.complete=ex.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(ex)){e.error=ex.get_errorDelegate()}return mo.request(e)};mj.getMultipartData=function(e,ex){var mo=mj.randomString();var mp='--'+mo;var mq='\r\n';var mr=new ss.StringBuilder;if(ss.isValue(e)){mr.append(mp);mr.append(mq);mr.append('Content-Disposition: form-data; name="');mr.append(e['name']);mr.append('"');if('filename'in e){mr.append('; filename="');mr.append(e['filename']);mr.append('"')}mr.append(mq);mr.append('Content-Type: ');mr.append(e['contentType']);mr.append(mq);mr.append(mq);mr.append(e['content']);mr.append(mq)}if(ss.isValue(ex)){var ms=new ss.ObjectEnumerator(ex);try{while(ms.moveNext()){var mt=ms.current();mr.append(mp);mr.append(mq);mr.append('Content-Disposition: form-data; name="');mr.append(mt.key);mr.append('"');mr.append(mq);mr.append(mq);if(ss.isInstanceOfType(mt.value,String)){mr.append(mt.value)}else{mr.append(JSON.stringify(mt.value))}mr.append(mq)}}finally{ms.dispose()}}mr.append(mp);mr.append('--');mr.append(mq);var mu={header:mo,body:mr.toString()};return mu};mj.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var ex=8;var mo='';for(var mp=0;mp<ex;mp++){var mq=Math.random()*e.length;var mr=mq|0;mo+=e.substring(mr,mr+1)}return mo};global.tab.XhrUtil=mj;var mk=function(e,ex){this.$4=null;this.$1=null;this.$2=null;this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;hv.call(this,e,new ik(ex.toString(),0));this.$4=new kL(this);this.$1=new kL(this)};mk.__typeName='tab.ZoneCommonModel';global.tab.ZoneCommonModel=mk;var ml=function(e){hv.call(this,e,new ik('presModelHolder'.toString(),null))};ml.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=ml;var mm=function(e,ex,mo){this.$c=null;this.$f=null;this.$e=null;this.$a=null;this.$7=null;this.$b=null;this.$9=false;this.$8=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;hv.call(this,e,new ik(mo.toString(),0));this.$c=ex;this.$e=new mk(this,mo);this.$7=new cl(this)};mm.__typeName='tab.ZoneModel';mm.$2=function(e){var ex=e.presModelHolder;if(ss.isNullOrUndefined(ex)){return null}if(ss.getKeyCount(ex)===1){var mo=ss.getEnumerator(Object.keys(ex));try{while(mo.moveNext()){var mp=mo.current();return mp}}finally{mo.dispose()}}return''};mm.getContent=function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.presModelHolder)){return null}if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]};mm.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};mm.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=mm;var mn=function(e){this.$a=null;this.$9=null;this.$8=null;this.$2$1=null;this.$2$2=null;hv.call(this,e,new ik('zones'.toString(),null));this.set_zonePresModels({});this.$a={};this.$9={}};mn.__typeName='tab.ZonesModel';mn.$0=function(e){return'z_'+e};global.tab.ZonesModel=mn;ss.initClass(bQ,a,{get_isBlocking:function(){return this.$9!=='none'||this.get_isCancelable()},get_blockType:function(){return this.$9},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$4},set_commandName:function(e){this.$4=e},get_isCancelable:function(){return tab.FeatureFlags.isEnabled('CommandCancellation')&&bW.canCancel(this.get_commandName())&&this.get_hasRemoteComponent()},get_shouldShowCommandWaiter:function(){return this.get_isCancelable()||ss.isValue(this.$6)},get_commandWaiter:function(){if(!this.get_shouldShowCommandWaiter()){return null}return this.$6||(this.get_isCancelable()?bX.get().defaultCommandCanceler:null)},set_commandWaiter:function(e){this.$6=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},get_useGlobalConnectionErrorHandling:function(){return this.useGlobalConnectionErrorHandling},set_useGlobalConnectionErrorHandling:function(e){this.useGlobalConnectionErrorHandling=e},get_remoteCommands:function(){return ss.arrayClone(this.$8)},execute:function(e,ex,mo){var mp=mo;mo=function(mq){_.defer(function(){mp(mq)})};this.$1(ex,mo);this.executeLocal(e)},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var ex=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),this.$2(),this.$0());try{this.doLocalWork(e)}finally{if(ss.isValue(ex)){ex.dispose()}}}}},$1:function(e,ex){this.$7=new Array;this.executeNextRemoteCommand(e,function(mo){jU.onVizqlPinged();ex(mo)})},$0:function(){return'cn: '+this.get_commandName()},$2:function(){return(ss.referenceEquals(this.get_commandName(),{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)?32:4)},triggerCallbacks:function(){if(this.$3.length>0){if(!ss.staticEquals(this.failureCallback,null)){this.failureCallback(this.$3[this.$3.length-1])}}else if(this.$5.length>0){if(!ss.staticEquals(this.successCallback,null)){this.successCallback(this.$5[this.$5.length-1])}}},isFinished:function(){return this.$a.length===0},clearCommandResults:function(){ss.clear(this.$5);ss.clear(this.$3)},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7;var ex=this.$a;while(ex.length>0){e.push(ex.shift())}this.$a=e;this.$7=ex},enqueueCommand:function(e){this.$8.push(e);this.$a.push(e)},handleRemoteCommandSuccess:function(e,ex){this.$5.push(ex)},handleRemoteCommandFailure:function(e,ex){this.$3.push(ex)},executeNextRemoteCommand:function(e,ex){if(this.$a.length===0){if(!ss.staticEquals(ex,null)){ex(ca.successResult)}return}var mo=this.$a.shift();this.$7.push(mo);e.executeSingleRemoteCommand(mo,ss.mkdel(this,function(mp){try{this.handleRemoteCommandSuccess(mo,mp)}finally{this.executeNextRemoteCommand(e,ex)}}),ss.mkdel(this,function(mp){try{this.handleRemoteCommandFailure(mo,mp)}finally{if(ss.isValue(ex)){ex(new ca(false,mp))}}}))}});ss.initClass(b,a,{get_isOneAtATime:function(){return true}},bQ);ss.initInterface(gH,a,{add_onRemoteCommandResponse:null,remove_onRemoteCommandResponse:null,add_onRemoteCommandException:null,remove_onRemoteCommandException:null,executeSingleRemoteCommand:null,cancelRunningCommand:null});ss.initClass(c,a,{add_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onRemoteCommandException:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onRemoteCommandException:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=e['vqlCmdResponse'.toString()];if(ss.isValue(ex)&&ex.cmdResultList.length>0){var mo=ex.cmdResultList[0];var mp=mo.commandReturn;if(ss.isValue(mp)&&ss.keyExists(mp,'commandValidationPresModel')){var mq=mp['commandValidationPresModel'];if(!mq.valid){return new ss.Exception(ss.formatString('{0}: {1}',mo.commandName,mq.errorMessage))}}}return null},cancelRunningCommand:function(e,ex,mo){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$9.cancelRunningCommand(e,function(mp,mq){ex(mp,mq)},mo)},executeSingleRemoteCommand:function(e,ex,mo){for(var mp=0;mp<this.$8.length;mp++){var mq=this.$8[mp];if(mq.$2(e,ex,mo)===0){return}}var mr='cn: '+e.commandName;var ms=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),4,mr);var mt=this.$7;var mu=ss.mkdel(this,function(mw){ms.dispose();this.$2(mt,e,mw);mo(mw)});var mv=ss.mkdel(this,function(mw,mx){ms.dispose();if(mx){return}var my=this.$0(mw);if(ss.isValue(my)){mu(my);return}this.$3(mt,e,mw);var mz=ii.fromCommand(mw,e);var mA=ii.getConnectionAttemptInfo(mw);if(ss.isValue(mA)&&mA.dataSourceConnectionAttemptInfos.length>0){if(mA.dataSourceConnectionAttemptInfos.length===1){var mB=new tab.DataSourceConnectionAttemptErrorResponse.$ctor1(mA.dataSourceConnectionAttemptInfos[0]);mo(new ss.Exception(JSON.stringify(mB)))}else{mo(new ss.Exception(tab.Strings.DataSourceGenericErrorMsg))}}else{ex(mz)}});this.$9.executeServerCommand(e,mv,mu);++this.$7},$5:function(e,ex,mo){var mp=new cn;mp.commandNamespace=e;mp.commandName=ex;this.$4([mp],mo)},$4:function(e,ex){this.$6(e,ex,null,null)},$6:function(e,ex,mo,mp){var mq=new z(this,e,ex,mo,mp);mq.$g(ss.mkdel(this,this.$1));this.$8.push(mq)},$1:function(e,ex,mo){var mp=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');this.$2(0,e,mp);mo(mp)},$2:function(e,ex,mo){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(e,ex,mo)}},$3:function(e,ex,mo){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex,mo)}}},null,[gH]);ss.initClass(d,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(ex){return ss.mkdict(['field',ex.field,'ascending',ex.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});d.$1.prototype=d.$0.prototype=d.prototype;ss.initClass(hv,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new ij)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var ex=(e?tab.MiscUtil.cloneObject(this.pm):ii.cloneObjWithScalarsOnly(this.pm));return ex||new Object},swapAndCopyPresModel:function(e){var ex=this.pm;if(ss.isValue(ex)&&ss.isValue(e)){var mo=e;var mp=ex;var mq=Object.keys(mp);for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];if((!ss.keyExists(mo,ms)||typeof(mo[ms])==='undefined')&&(!_.isBoolean(mp[ms])||!hv.removeUndefinedBoolsOnSwapCopy)&&!ss.referenceEquals(ms,'runtimeFinalDatastoreLocal'.toString())&&!ss.referenceEquals(ms,'runtimeData'.toString())){mo[ms]=mp[ms]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(ex,mo,mp,mq){this.simpleSwapToUpdate(ex,function(){if(!ss.staticEquals(mo,null)){mo(mp)}},mq)}},simpleSwapToUpdate:function(e,ex,mo){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(ex,mo);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(ex,mo,mp){if(ss.staticEquals(ex,null)){return}this.raiseEvent(function(){ex(mo)},mp)}},raiseEvent$2:function(e,ex){return function(mo,mp,mq,mr){if(ss.staticEquals(mo,null)){return}this.raiseEvent(function(){mo(mp,mq)},mr)}},raiseEvent:function(e,ex){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.eventHandler)){return}ex.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var ex=this.parent;return ex.$0(e)}});ss.initClass(i,a,{},hv);ss.initClass(j,a,{},hv);ss.initClass(k,a,{},hv);ss.initClass(l,a,{});ss.initClass(m,a,{$1:function(e,ex,mo){if(ss.isValue(this.$3)){this.$3.setPaneSection(e,ex,mo)}if(ss.isValue(this.$2)){this.$2.setPaneSection(e,ex,mo)}},$0:function(e,ex,mo){if(ss.isValue(this.$3)){ex.push({item1:e,item2:this.$3})}if(ss.isValue(this.$2)){mo.push({item1:e,item2:this.$2})}return}});ss.initClass(n,a,{$2:function(e){if(!ss.keyExists(this.$4,e)){return[]}return this.$4[e]},$1:function(e){if(!ss.keyExists(this.$5,e)){return[]}return this.$5[e]},$0:function(e){if(!ss.keyExists(this.$3,e)){return[]}return this.$3[e]}});ss.initEnum(o,a,{$0:0,$1:1});ss.initClass(p,a,{$2:function(e,ex,mo){if(this.$3){return ss.Int32.trunc(e(this.$4[mo])+0.5)}else{return ss.Int32.trunc(ex(this.$4[mo])+0.5)}},$0:function(e,ex){if(this.$3){return[ex,e.y,ex,e.y+e.h]}else{return[e.x,ex,e.x+e.w,ex]}},$1:function(e,ex,mo,mp){var mq=ss.Int32.div(mo,2);if(this.$3){return{x:e-mq-mp,y:ex.y,w:mo+2*mp-1,h:ex.h}}else{return{x:ex.x,y:e-mq-mp,w:ex.w,h:mo+2*mp-1}}}});ss.initClass(q,a,{$6:function(e){return this.$c.TextRunOffset[e]},$5:function(e){return this.$c.TextRunCount[e]},$4:function(e){return this.$e.text_run[e]},$7:function(e){return{x:this.$e.text_run_x_remote[e],y:this.$e.text_run_y_remote[e]}},$9:function(e){return this.$c.Width[e]},$2:function(e){return this.$c.Height[e]},$a:function(e){var ex=this.$6(e);return!tab.DoubleUtil.isApproximatelyEqual(this.$e.text_run_x[ex],this.$e.text_run_x_remote[ex])||!tab.DoubleUtil.isApproximatelyEqual(this.$e.text_run_y[ex],this.$e.text_run_y_remote[ex])},$1:function(){return this.$b},$8:function(e){if(e>=0&&e<this.$c.TextRunOffset.length){var ex=this.$e.text_style_id[this.$c.TextRunOffset[e]];if(ex>=0&&ex<this.$d.font.length){return{item1:this.$d,item2:ex}}}return null},$0:function(e,ex,mo,mp,mq){var mr=Math.ceil(this.$c.Width[mo]);var ms=Math.ceil(this.$c.Height[mo]);var mt=this.$3(mo);var mu={x:0,y:0};var mv=ss.Int32.trunc(mp/2+0.5);if(mt!=='text-orient-horizontal'){var mw=mr;mr=ms;ms=mw}var mx=ex-mv;var my=ex+mv;var mz=0;switch(tab.EnumConversions.labelHAlignmentFromInt(this.$c.HAligns[mo])){case'h-align-left':{mz=(mq?(mx-mr):e.x);break}case'h-align-right':{mz=(mq?my:(e.x+e.w-mr));break}case'h-align-center':{mz=(mq?(ex-mr/2):(ss.Int32.div(e.x+e.x+e.w,2)-mr/2));break}}if(mt==='text-orient-vertical-down'){mu.x=Math.floor(mz+mr+0.5)}else{mu.x=Math.floor(mz+0.5)}var mA=0;switch(tab.EnumConversions.labelVAlignmentFromInt(this.$c.VAligns[mo])){case'v-align-top':{mA=(mq?e.y:(mx-ms));break}case'v-align-bottom':{mA=(mq?(e.y+e.h-ms):my);break}case'v-align-center':{mA=(mq?(ss.Int32.div(e.y+e.y+e.h,2)-ms/2):(ex-ms/2));break}}if(mt==='text-orient-vertical-up'){mu.y=Math.floor(mA+ms+0.5)}else{mu.y=Math.floor(mA+0.5)}return mu},$3:function(e){var ex=this.$8(e);if(ss.isValue(ex)){return tab.EnumConversions.textOrientFromInt(ex.item1.text_orientation[ex.item2])}return'text-orient-horizontal'}});ss.initClass(r,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$5:function(){return this.$1$2},$6:function(e){this.$1$2=e},$2:function(){return this.$7.length},$0:function(e){return this.$7[e]},$1:function(e,ex,mo,mp){if(e){var mq=[ex.x,mo,ex.x+ex.w];return{x:mq[mp],y:ex.y,w:mq[mp+1]-mq[mp],h:ex.h}}else{var mr=[ex.y+ex.h,mo,ex.y];return{x:ex.x,y:mr[mp+1],w:ex.w,h:mr[mp]-mr[mp+1]}}}});ss.initEnum(s,a,{$0:60011});ss.initClass(t,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var ex=0;for(var mo=this.$4.length-1;mo>=0;--mo){if(ss.referenceEquals(ss.getInstanceType(this.$4[mo]),e)){++ex;ss.removeAt(this.$4,mo)}}if(ex>0){}}});ss.initClass(u,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initClass(v,a,{});ss.initEnum(w,a,{$0:16,$1:20,$2:22});ss.initEnum(x,a,{$0:60011});ss.initClass(y,a,{$6:function(){return this.$1$1},$7:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$0:function(){return this.$1$3},$1:function(e){this.$1$3=e},$2:function(){return this.$1$4},$3:function(e){this.$1$4=e}});y.$0.prototype=y.prototype;ss.initClass(z,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,ex,mo){var mp=false;for(var mq=0;mq<this.$5.length;mq++){var mr=this.$5[mq];if(ss.referenceEquals(mr.commandName,e.commandName)&&ss.referenceEquals(mr.commandNamespace,e.commandNamespace)){mp=true;break}}if(!mp){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=ex;this.$c=mo;return 0}var ms=Math.floor(tabBootstrap.MetricsController.getTiming());var mt=ms-this.$7;if(this.$e!==-1&&mt<this.$e){this.$3(e,ex,mo,this.$e-mt)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,ex,mo,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeSingleRemoteCommand(e,ss.mkdel(this,function(mu){if(this.$8>0){--this.$8}ex(mu)}),ss.mkdel(this,function(mu){if(this.$8>0){--this.$8}mo(mu)}))}finally{this.$6=false;this.$7=ms}}return 0},$0:function(){var e=this.$b;var ex=this.$d;var mo=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeSingleRemoteCommand(e,ex,mo)},$3:function(e,ex,mo,mp){this.$b=e;this.$d=ex;this.$c=mo;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),mp)},$1:function(e,ex,mo){if(ss.isValue(this.$1$1)){this.$1$1(e,ex,mo)}}});ss.initClass(A,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(B,a,{});ss.initClass(C,a,{$4:function(){return this.$9},$5:function(){return this.$a.size===0},$6:function(){var e=[];this.$a.forEach(function(ex){e.push(ex)});return e},$0:function(e,ex){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(C.$0(ex,e));this.$7=this.$7||this.$2(e);e=C.$1(ex,e);this.$a.set(e.join(','),e)},$1:function(e,ex){if(ss.isNullOrUndefined(ex)||ex.length===0){return false}var mo;if(this.$7||this.$2(ex)){mo=this.$3(e,ex)}else{var mp=C.$1(e,ex);mo=this.$a.has(mp.join(','))}return mo},$2:function(e){for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(!ss.isValue(mo)){return true}}return false},$3:function(e,ex){var mo=C.$0(e,ex);for(var mp=0;mp<this.$8.length;mp++){var mq=this.$8[mp];var mr=true;var ms=false;var mt=0;var mu=0;while(mr&&mu<mq.length&&mt<mo.length){var mv=mq[mu];var mw=mo[mt];if(mv.item1<mw.item1){++mu}else if(mv.item1>mw.item1){++mt}else{mr=!ss.isValue(mv.item2)||!ss.isValue(mw.item2)||ss.referenceEquals(mv.item2,mw.item2);ms=ms||ss.referenceEquals(mv.item2,mw.item2);++mu;++mt}}if(mr&&ms){return true}}return false}});ss.initClass(D,a,{});ss.initClass(E,a,{});ss.initEnum(F,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(G,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var ex=this.$2.dashboardPresModel.zones;var mo=this.$1;for(var mp=0,mq=e.length;mp<mq;mp++){var mr=e[mp];ex[mr].presModelHolder=mo[mr]}return this.$2}});ss.initClass(H,a,{},bQ);ss.initClass(lu,a,{gv:function(e){return this.v[e]},setValue:function(e,ex){this.v[e]=ex},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var ex=0;ex<this.length;ex++){this.v[ex]=e(this.v[ex])}}}});ss.initClass(I,a,{gv:function(e){return this.v[0]},setValue:function(e,ex){this.v[0]=ex}},lu);ss.initClass(J,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(){this.$4(this.$3()+1);be.get_waitHandler().addrefAndShowFullWaitHandlerNow()},$1:function(e,ex){this.$4(this.$3()+1);this.$5.incrementWait(e,ex)},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(K,a,{get_waitingOnCommands:function(){return this.$2()},get_deferredServerResponseQueueSize:function(){return this.$1()},get_currentWorldDiffersFromCheckpoint:function(){return this.$3.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$3.worldCheckpoint()},$0:function(e){var ex=e.presModelHolder['visual'.toString()];if(ss.isValue(ex)&&ss.isValue(ex.scene)&&ss.isValue(ex.scene.runtimeRenderInputDatastore)){return ex.scene.runtimeRenderInputDatastore}return null},getRuntimeFinalDataStoreRaw:function(e){var ex=this.getWorldCheckpoint();if(ss.isNullOrUndefined(ex.workbookPresModel.dashboardPresModel.zones)){return''}var mo=new ss.ObjectEnumerator(ex.workbookPresModel.dashboardPresModel.zones);try{while(mo.moveNext()){var mp=mo.current();if(ss.isNullOrEmptyString(e)||ss.equalsT(mp.key,e)){var mq=this.$0(mp.value);if(ss.isValue(mq)){return mq}}}}finally{mo.dispose()}var mr=Y.get_instance().get_workbook().get_storyboard().get_flipboard();var ms=mr.get_storyPointModel().get_dashboardModel().get_zoneModels();for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];if(ss.isNullOrEmptyString(e)||ss.equalsT(mu.presModelKey.name,e)){var mv=this.$0(mu.pm);if(ss.isValue(mv)){return mv}}}return''}});ss.initClass(L,a,{});ss.initClass(M,a,{});ss.initClass(iD,a,{fractionToValue:null,valueToFraction:null});ss.initClass(N,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var ex=(this.$6-this.$5)/(this.$4-this.$3);var mo=this.$5-ex*this.$3;return e*ex+mo}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var ex=(this.$6-this.$5)/(this.$4-this.$3);var mo=this.$5-ex*this.$3;return(e-mo)/ex}var mp=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+mp)/(2*this.$0)}},iD);ss.initClass(O,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}},onWorkbookModifiedChanged:function(e){var ex=this.$1$3;if(!ss.staticEquals(ex,null)){ex(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(P,a,{highlight:'highlight',filter:'filter',url:'url',group:'group',navigation:'navigation',parameter:'parameter'},true);ss.initClass(Q,a,{});ss.initClass(R,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabsrv',cmd:'add-dataserver-data-source'},this.c))}},ss.makeGenericType(bd,[Object,S]));ss.initClass(S,a,{});ss.initClass(T,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'add-object-to-dashboard'},this.c))}},ss.makeGenericType(bd,[Object,U]));ss.initClass(U,a,{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});ss.initClass(V,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(W,a,{});ss.initClass(X,a,{});ss.initClass(Y,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_rightAreaDrawer:function(){return this.$2$3},set_rightAreaDrawer:function(e){this.$2$3=e},get_toolbar:function(){return this.$2$4},set_toolbar:function(e){this.$2$4=e},get_workbook:function(){return this.$2$5},set_workbook:function(e){this.$2$5=e},get_colorPalettes:function(){return this.$2$6},set_colorPalettes:function(e){this.$2$6=e},get_dataDictionary:function(){return this.$2$7},set_dataDictionary:function(e){this.$2$7=e},get_serverFonts:function(){return this.$2$8},set_serverFonts:function(e){this.$2$8=e},get_isTableCalcHighlightingMode:function(){return this.modelInstance(cq).call(this).get_hasTableCalc()},get_shapeManager:function(){return this.$8},get_extensionPermissionsCache:function(){return this.$4},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().renderMode:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_appPresModel().dateFormat))?this.get_appPresModel().dateFormat:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_appPresModel().timeFormat))?this.get_appPresModel().timeFormat:'h:mm tt')},get_numberFormat:function(){return this.get_appPresModel().numberFormats},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=hy.findContentDashboard(null);return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var ex=hy.findContentDashboard(null);if(ss.isValue(ex)){ex.autoUpdate=e}},get_invalid:function(){return hy.findContentDashboard(null).invalid},set_invalid:function(e){var ex=hy.findContentDashboard(null);if(ss.isValue(ex)){ex.invalid=e}},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return ss.isValue(tsConfig.offlineBootstrapResponse)},get_runtimeInitialized:function(){return this.$7},registerNotificationHandler:function(e,ex){var mo=this.$6[e];if(ss.isNullOrUndefined(mo)){mo=[];this.$6[e]=mo}for(var mp=0;mp<mo.length;mp++){if(ss.staticEquals(mo[mp],ex)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}mo.push(ex);return ex},unRegisterNotificationHandler:function(e,ex){var mo=this.$6[e];if(ss.isValue(mo)){for(var mp=mo.length-1;mp>=0;mp--){if(ss.staticEquals(mo[mp],ex)){ss.removeAt(mo,mp);if(mo.length===0){delete this.$6[e];return}}}}},$1:function(e){var ex=this.$6[e];if(ss.isNullOrUndefined(ex)){ex=[]}return ex},raiseNotification:function(e,ex,mo){var mp=this.$1(e);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];mr(ex,mo)}},$2:function(e,ex){var mo=e.presModelMap;if(ss.isNullOrUndefined(mo)){return}var mp=new ss.ObjectEnumerator(mo);try{while(mp.moveNext()){var mq=mp.current();var mr=mq.key;var ms=mq.value.presModelHolder;var mt=new ss.ObjectEnumerator(ms);var mu=(mt.moveNext()?mt.current().value:null);this.raiseNotification(mr,mu,ex)}}finally{mp.dispose()}},addModel:function(e){return function(){var ex=ss.createInstance(e);var mo=ss.safeCast(ex,gz);if(ss.isValue(mo)){this.registerNotificationHandler(mo.get_notificationId(),ss.mkdel(mo,mo.onNotify))}this.$5[e]=ex;return ex}},removeModel:function(e){return function(){var ex=this.$5[e];if(ss.isNullOrUndefined(ex)){return}var mo=ss.safeCast(ex,gz);if(ss.isValue(mo)){this.unRegisterNotificationHandler(mo.get_notificationId(),ss.mkdel(mo,mo.onNotify))}delete this.$5[e]}},modelInstance:function(e){return function(){return this.$5[e]||this.addModel(e).call(this)}},update:function(e,ex){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.renderMode)){this.get_appPresModel().renderMode=e.renderMode}if(ss.isValue(e.dataDictionary)){this.get_dataDictionary().update(e.dataDictionary)}if(ss.isValue(e.presentationLayerNotifications)){this.$2(e.presentationLayerNotifications,ex)}if(ss.isValue(e.workbookPresModel)){if(!ss.isValue(this.get_workbook())){this.set_workbook(new lV(this));this.raiseEvent$1(lV).call(this,this.$2$1,this.get_workbook(),ex)}this.get_workbook().update(e.workbookPresModel,ex)}if(ss.isValue(e.colorPaletteCollection)){this.get_colorPalettes().update(e.colorPaletteCollection,ex)}if(ss.isValue(e.toolbarPresModel)){this.get_toolbar().update(e.toolbarPresModel,ex)}if(ss.isValue(e.serverFonts)){this.set_serverFonts(ss.arrayClone(e.serverFonts.fontFamilies))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e},shouldDoLocalCommand:function(){return tab.FeatureFlags.isEnabled('RuntimeWebIncrementalUpdate')&&tab.RuntimeUtil.canUseRuntime()&&(!this.get_workbook().get_isCurrentSheetDashboard()||tab.FeatureFlags.isEnabled('RuntimeWebMultiVizIU'))},$3:function(){var e=hy.getVisualModels(this);var ex=new ss.ObjectEnumerator(e);try{while(ex.moveNext()){var mo=ex.current();mo.value.$b()}}finally{ex.dispose()}if(!this.shouldDoLocalCommand()){return}if(!(ss.getKeyCount(e)===1||tab.FeatureFlags.isEnabled('RuntimeWebMultiVizIU')&&ss.getKeyCount(e)<=10)){return}var mp=new ss.ObjectEnumerator(e);try{while(mp.moveNext()){var mq=mp.current();mq.value.requestRuntimeDataAndUpdateVM()}}finally{mp.dispose()}},setupRuntime:function(){if(ss.isValue(this.$7)||!this.shouldDoLocalCommand()){return}var e=$.Deferred();this.$7=e;var ex=tabBootstrap.MetricsController.createContext('EMLOAD'.toString(),32,null);jo.requestRuntimeLoad().done([function(){ex.dispose();var mo=function(){e.resolve()};var mp=function(mq){e.reject();tab.ErrorTrace.report(mq)};tab.RuntimeWebModule.proxy.initializeRuntime().then(mo,mp)}])}},hv);ss.initClass(Z,a,{});ss.initClass(ba,a,{});ss.initClass(bb,a,{});ss.initEnum(bc,a,{inProgress:'inProgress',success:'success',error:'error'},true);ss.initInterface(gL,a,{formatMethod:null,formatSessionMethod:null,request:null,createHandlerCC:null,createHandler:null});ss.initClass(be,a,{get_urlRoot:function(){return this.$d},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return this.$b.get_tailIndex()+1},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_errorHandlers:function(){return this.$a},get_commonDialogProvider:function(){return this.$9},$8:function(){return this.$d+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$c+'/thumb/views/'+e},formatSessionTempfileReference:function(e,ex,mo){return this.$d+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(ex?'&keepfile=yes':'')+(mo?'&attachment=yes':'')},preEncodeSpecialUriComponentChars:function(e){var ex=new ss.ObjectEnumerator(be.$2);try{while(ex.moveNext()){var mo=ex.current();e=e.replace(mo.value,mo.key)}}finally{ex.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(be.$4)){return false}be.$4.nudge();return true},incrementWait:function(e,ex){if(ss.isNullOrUndefined(be.$4)){return false}be.$4.addref(e,ex);return true},decrementWait:function(){if(ss.isNullOrUndefined(be.$4)){return false}be.$4.release();return true},trackRedo:function(){try{this.$b.trackRedo()}catch(e){e=ss.Exception.wrap(e);if(ss.isInstanceOfType(e,ss.ArgumentOutOfRangeException)){}else{throw e}}},trackUndo:function(){try{this.$b.trackUndo()}catch(e){e=ss.Exception.wrap(e);if(ss.isInstanceOfType(e,ss.ArgumentOutOfRangeException)){}else{throw e}}},revertHistory:function(e,ex){this.$b=new gk(ex);if(ss.isValue(e)){this.$b.adopt(e)}},getHistoryTail:function(e){var ex=((this.$b.get_recoveryStates().length>e)?e:this.$b.get_recoveryStates().length);var mo=this.$b.get_recoveryStates().length-ex;return this.$b.get_recoveryStates().slice(mo,this.$b.get_recoveryStates().length)},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},informServerAboutErrors:function(e,ex,mo){var mp={};mp.type='POST';mp.url=this.formatSessionMethod('inform');mp.headers=ss.mkdict(['Accept','text/plain']);mp.contentType='text/plain';var mq=eI.$0(e,ex);var mr=0;for(var ms=0;ms<mo.length;++ms){mq-=JSON.stringify(mo[ms]).length;if(mq<0){mr=mo.length-ms;mo=mo.slice(0,ms);break}}var mt={url:e,userAgent:ex,errors:mo,sessionId:tsConfig.sessionid,timeStampUtc:(new Date).toUTCString()};if(mr>0){mt.omittedErrors=mr}mp.data=JSON.stringify(mt);this.request(mp,null)},$7:function(e,ex){if(ex){mf.redoToPosition(e)}else{mf.undoToPosition(e)}},executeServerCommand:function(e,ex,mo){var mp={};this.$4(mp,e);mp.headers=ss.mkdict(['Accept','text/javascript']);var mq=function(mt,mu,mv){if(ss.isValue(ex)){ex(mt,mv.status===be.$3)}};var mr=ss.mkdel(this,function(mt,mu,mv){this.$3(mv,mt,e.noExceptionDialog,e);if(ss.isValue(mo)){var mw=mt.responseText;if(ss.isNullOrUndefined(mw)){mw=ss.coalesce(be.getErrorMessageFromStringOrException(mv),'unknown error executing server command')}var mx=mw;var my=['status: '+mt.status,'textStatus: '+mu].join(', ');var mz=new ss.Exception(e.commandName+': '+mx+', '+my);mz['status']=mt.status;mo(mz)}});var ms=this.createHandlerCC(null,mq,(ss.isValue(mo)?mr:null));this.request(mp,ms)},basicPostOpts:function(e,ex){var mo={};mo.type='POST';mo.url=e;mo.headers=ss.mkdict(['Accept','text/javascript']);mo.dataType='json';mo.data=ex;return mo},basicGetOpts:function(e){var ex={};ex.type='GET';ex.url=e;ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';return ex},$4:function(e,ex){var mo=mj.getMultipartData(null,ex.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+mo.header;e.data=mo.body;e.url=this.$1(ex.commandNamespace,ex.commandName)},$5:function(e,ex,mo){var mp=ss.mkdel(this,function(){this.$7(mo-1,false)});var mq=ss.mkdel(this,function(){this.$7(mo,true)});this.$b.add(ex,mo);this.$6(mp,mq,ex)},formatMethod:function(e){return this.$d+'/'+e},formatSessionMethod:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$d)},$1:function(e,ex){return this.$8()+'/commands/'+e+'/'+ex},$6:function(e,ex,mo){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(be.$1)){be.$1.onBack=e}else{gl.setInitialState(e)}be.$1=gl.addToHistory(null,ex,mo)}},$3:function(e,ex,mo,mp){this.$a.handle(e,ex,mp,mo)},request:function(e,ex){return mj.helper(e,ex)},createHandlerCC:function(e,ex,mo){return new jR(this,e,ex,mo,false,false)},createHandler:function(e,ex,mo,mp){var mq=mp!=='none';var mr=mp==='immediately';return new jR(this,e,ex,mo,mq,mr)},formatLayoutMethod:function(e,ex){var mo=(ss.isValue(ex)?this.formatSessionMethod(ex):this.$8());mo+='/layouts/'+e;return mo},formatViewMethod:function(e,ex){var mo=(ss.isValue(ex)?this.formatSessionMethod(ex):this.$8());mo+='/views/'+e;return mo},formatFilterReference:function(e,ex,mo){return this.$2(e,ex,mo,'filters')},$2:function(e,ex,mo,mp){var mq;if(ss.isValue(mo)){mq=this.formatSessionMethod(mo)}else{mq=this.$8()}mq+='/sheets/'+encodeURIComponent(this.preEncodeSpecialUriComponentChars(e))+'/'+mp;if(ss.isValue(ex)){mq+='/'+encodeURIComponent(this.preEncodeSpecialUriComponentChars(ex))}return mq},$0:function(e){return this.$d+'/cancel/sessions/'+tsConfig.sessionid+'/commands/'+e.commandNamespace+'/'+e.commandName},cancelRunningCommand:function(e,ex,mo){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}var mp=this.$0(e);var mq=this.basicGetOpts(mp);var mr=function(mu,mv,mw){if(ss.isValue(ex)){ex(mu,mw.status)}};var ms=function(mu,mv,mw){if(ss.isValue(mo)){mo(mw)}};var mt=this.createHandlerCC(null,mr,ms);this.request(mq,mt)}},null,[gL]);ss.initClass(bf,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'block-extension'},this.c))}},ss.makeGenericType(bd,[Object,bg]));ss.initClass(bg,a,{});ss.initClass(bh,a,{get_hasColor:function(){return this.color!=='rgba(0, 0, 0, 0)'},get_hasWidth:function(){return this.width>0},get_hasStyle:function(){return this.style!=='bs-none'},get_cssDictionary:function(){var e={};switch(this.side){case 0:{e['border-width']=this.width+'px';e['border-style']=bh.borderStyleToCss(this.style);e['border-color']=this.color;break}case 1:{e['border-top-width']=this.width+'px';e['border-top-style']=bh.borderStyleToCss(this.style);e['border-top-color']=this.color;break}case 2:{e['border-left-width']=this.width+'px';e['border-left-style']=bh.borderStyleToCss(this.style);e['border-left-color']=this.color;break}case 4:{e['border-bottom-width']=this.width+'px';e['border-bottom-style']=bh.borderStyleToCss(this.style);e['border-bottom-color']=this.color;break}case 3:{e['border-right-width']=this.width+'px';e['border-right-style']=bh.borderStyleToCss(this.style);e['border-right-color']=this.color;break}}return e},get_styledBoxPresModel:function(){var e={};switch(this.side){case 0:{e.uw=this.width;e.borderStyle=this.style;e.borderColor=this.color;break}case 1:{e.uwt=this.width;e.borderStyleTop=this.style;e.borderColorTop=this.color;break}case 2:{e.uwl=this.width;e.borderStyleLeft=this.style;e.borderColorLeft=this.color;break}case 4:{e.uwb=this.width;e.borderStyleBottom=this.style;e.borderColorBottom=this.color;break}case 3:{e.uwr=this.width;e.borderStyleRight=this.style;e.borderColorRight=this.color;break}}return e}});ss.initEnum(bi,a,{all:0,top:1,left:2,right:3,bottom:4});ss.initClass(bj,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,ex,mo,mp,mq){var mr=e.get_vizDataModel();var ms=hy.getModelsForViz(bK).call(null,hy.findContentDashboard(null),e);for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];if(ss.isNullOrUndefined(mr)){continue}if(!mu.get_isHighlightEnabled()||mq.length===0&&mu.get_isOneWay()){continue}var mv=_.intersection(ex.get_vizDataModel().get_fieldCaptions(),mu.get_fieldCaptions());mv=bj.getHighlightFieldCaptions(mp,ex.get_vizDataModel().get_highlightCaptions(),mv);var mw=D.$3(ex.get_vizDataModel(),mo,mv);var mx=D.$6(mw,mr,mu);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][bj.$0(mu.get_legendTypeEnum(),mu.get_legendNames())]=mx}}});ss.initClass(bk,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-caption-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,bl]));ss.initClass(bl,a,{});ss.initClass(bm,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-data-tab-field-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,bn]));ss.initClass(bn,a,{});ss.initClass(bo,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-device-layout-list-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,bp]));ss.initClass(bp,a,{});ss.initClass(bq,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-layout-tree-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,br]));ss.initClass(br,a,{});ss.initClass(bs,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-schema-change-data-type-menu'},this.c))}},ss.makeGenericType(bd,[Object,bt]));ss.initClass(bt,a,{});ss.initClass(bu,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-server-axis-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,bv]));ss.initClass(bv,a,{});ss.initClass(bw,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-sheet-list-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,bx]));ss.initClass(bx,a,{});ss.initClass(by,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'build-title-context-menu'},this.c))}},ss.makeGenericType(bd,[Object,bz]));ss.initClass(bz,a,{});ss.initClass(bA,a,{add_contentUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_contentUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.get_buttonZone().buttonVisualStates[this.get_buttonZone().activeVisualStateIndex]},get_internalModel:function(){return this.pm},get_buttonZone:function(){return this.get_internalModel().dashboardButtonSharedInfo},get_borderStyle:function(){return this.$1().buttonObjectBorderStyle},get_borderWidth:function(){return this.$1().buttonObjectBorderWidth},get_borderColor:function(){return bU.convertColorForCanvas(this.$1().buttonObjectBorderColor)},get_backgroundColor:function(){return bU.convertColorForCanvas(this.$1().buttonObjectBackgroundColor)},get_caption:function(){return this.$1().buttonCaption},get_effectiveCaption:function(){return this.get_internalModel().buttonEffectiveCaption},get_clickActionString:function(){return this.get_buttonZone().buttonClickAction},get_buttonType:function(){return this.get_buttonZone().dashboardButtonType},get_buttonBehaviour:function(){return this.get_buttonZone().dashboardButtonBehaviour},get_tooltipText:function(){if(!ss.isNullOrEmptyString(this.get_internalModel().buttonTooltipText)){return this.get_internalModel().buttonTooltipText}else{return this.$1().buttonTooltipText}},get_imagePathKey:function(){return this.get_internalModel().buttonImagePathKey},get_imageWidth:function(){return this.get_internalModel().imageWidth},get_imageHeight:function(){return this.get_internalModel().imageHeight},get_enabledState:function(){return this.get_internalModel().dashboardButtonEnabledState},get_captionFontName:function(){return this.$1().buttonCaptionFontFormat.fontName},get_captionTextColor:function(){return bU.convertColorForCanvas(this.$1().buttonCaptionFontFormat.fontColor)},get_captionFontSize:function(){return this.$1().buttonCaptionFontFormat.fontSize},get_captionFontIsBold:function(){return this.$1().buttonCaptionFontFormat.isFontBold},get_captionFontIsItalic:function(){return this.$1().buttonCaptionFontFormat.isFontItalic},get_captionFontIsUnderlined:function(){return this.$1().buttonCaptionFontFormat.isFontUnderlined},update:function(e,ex){fl.notifyFontsFromServerButtonZonePresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(bB,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'calculation-auto-complete'},this.c))}},ss.makeGenericType(bd,[Object,bC]));ss.initClass(bC,a,{});ss.initClass(bF,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isAdhoc:null,get_calculationFunctionListModel:function(){return this.$2$2},set_calculationFunctionListModel:function(e){this.$2$2=e},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$3(this.$1().calculationCaption)||!tab.MiscUtil.isNullOrEmpty$3(this.$1().pendingCalcName)||!tab.MiscUtil.isNullOrEmpty$3(this.$1().datasource))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$3(this.$1().fn)},get_adHocShelf:function(){return this.$1().shelfType||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().shelfPosIndex},get_adHocPaneSpecId:function(){return this.$1().paneSpec},$1:function(){return this.pm},get_tokens:function(){return this.$1().styleTokenList||[]},get_name:function(){return this.$1().pendingCalcName||''},get_fieldName:function(){return this.$1().fn||''},get_errors:function(){return this.$1().errorInfoList||[]},get_errorSummary:function(){return this.$1().errorString||''},get_caption:function(){return this.$1().calculationCaption||''},get_formula:function(){return this.$1().calculationFormula||''},get_dependencies:function(){return this.$1().calculationDependencies||''},get_dependenciesBtnLabel:function(){return this.$1().label||''},get_dataSourceName:function(){return this.$1().datasource||''},get_dataSourceCaption:function(){var e=Y.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var ex=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(ex)){return null}return ex.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().useParameters,false)},get_calculationContext:function(){return ss.coalesce(this.$1().calculationContext,'calculation-dialog')},get_isForJoin:function(){return ss.isValue(this.$1().joinOnCalcInfo)&&this.$1().joinOnCalcInfo.forJoin},get_joinOnCalcInfoPresModel:function(){return this.$1().joinOnCalcInfo},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex);if(ss.isValue(this.$1())&&ss.isValue(this.$1().expressionFuncPm)){this.get_calculationFunctionListModel().update(this.$1().expressionFuncPm,ex)}}},hv);ss.initInterface(gz,a,{get_notificationId:null,onNotify:null});ss.initClass(bD,a,{get_notificationId:function(){return'doc:calculation-dialog-event'},get_isAdhoc:function(){return false},onNotify:function(e,ex){this.update(e,ex)}},bF,[gz]);ss.initClass(bE,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().expressionFuncList||[]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(bG,a,{});ss.initEnum(bH,a,{success:200,nothingToCancel:204});ss.initClass(bI,a,{});ss.initClass(bJ,a,{get_items:function(){return this.$1().domainTables},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},hv);ss.initInterface(gp,a,{getItemNamesFromObjectId:null});ss.initClass(bK,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isContextMenuAllowed:function(){return this.get_catLegendPresModel().isContextMenuAllowed||false},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().isHighlightEnabled||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().isHighlightAllowed||false},get_isOneWay:function(){return this.get_catLegendPresModel().oneWayBrushing||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().fieldCaptions},get_legendNames:function(){return this.get_catLegendPresModel().legendNames},get_legendTypeEnum:function(){return this.$2},get_items:function(){return bK.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,ml);return e.get_zone()},getItemNamesFromObjectId:function(e){var ex=_.find(this.get_items(),function(mo){return mo.objectId===e});return ex.itemValues},update:function(e,ex){if(this.$2==='shape'&&ss.isValue(e.markShapeList)&&tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&!Y.get_instance().get_isLocalRenderMode()){Y.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}if(this.isNewPresModelSameAsOld(e)){return}fl.notifyFontsFromCategoricalLegendPresModel(e);var mo=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(mo)&&!_.isEqual(mo.legendNames,e.legendNames)){this.raiseEvent(this.$2$2,ex)}this.raiseEvent(this.$2$1,ex)}},hv,[gp]);ss.initClass(it,a,{update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},hv);ss.initClass(bL,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.categoricalMode},get_isAllButtonVisible:function(){return this.$1.isAllButtonVisible},get_isAllButtonSelected:function(){return this.$1.categoricalFilter.allSelected},get_isSelectionExclusive:function(){return this.$1.categoricalFilter.isSelectionExclusive},get_showApplyAndCancelButtons:function(){return this.$1.showApplyAndCancelButtons},get_showSearchButton:function(){return this.$1.isSearchable},get_showMoreLessButton:function(){return this.$1.canShowMoreFewerButton},get_showClearButton:function(){return this.$1.canShowFilterStateButton},get_getDomainValue:function(){return this.$1.filterDomainType},getDomains:function(){return this.$1.filterDomains},update:function(e,ex){it.prototype.update.call(this,e,ex);this.$1=e;this.get_categoricalFilter().update(this.$1.categoricalFilter)}},it);ss.initClass(bM,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'change-workbook-ui-mode'},this.c))}},ss.makeGenericType(bd,[Object,bN]));ss.initClass(bN,a,{});ss.initClass(bO,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'check-connection'},this.c))}},ss.makeGenericType(bd,[Object,bP]));ss.initClass(bP,a,{});ss.initEnum(bR,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initClass(bS,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'close-data-alert-dialog'},this.c))}},ss.makeGenericType(bd,[Object,bT]));ss.initClass(bT,a,{});ss.initClass(bU,a,{get_r:function(){return this.$7},get_g:function(){return this.$6},get_b:function(){return this.$4},get_a:function(){return this.$3},get_isOpaque:function(){return this.get_a()>=0.999989986419678},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},isLuminanceAgainstBackgroundAboveThreshold:function(e,ex){return this.$2(e)>ex},setRGBStr:function(e){this.$8=e},isValueAboveThreshold:function(e){var ex=bU.alphaBlend(this,bU.white);return Math.max(Math.max(ex.get_r(),ex.get_g()),ex.get_b())>e},toString:function(){if(this.$5===''){this.$5=((this.$3>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$5},$0:function(){var e=this.$1();var ex=116*bU.$4(e)-16;return ex},$1:function(){return bU.$5(this.get_r(),this.get_g(),this.get_b())},$2:function(e){var ex=ss.Int32.trunc(this.$3*this.$7+(1-this.$3)*e.get_r());var mo=ss.Int32.trunc(this.$3*this.$6+(1-this.$3)*e.get_g());var mp=ss.Int32.trunc(this.$3*this.$4+(1-this.$3)*e.get_b());return bU.$5(ex,mo,mp)},getApparentColor:function(e){var ex=ss.Int32.trunc((1-bU.$2(this.$7))*e.get_r());var mo=ss.Int32.trunc((1-bU.$2(this.$6))*e.get_g());var mp=ss.Int32.trunc((1-bU.$2(this.$4))*e.get_b());return new bU(ex,mo,mp,this.$3)},toRgba:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+this.$3+')'},toRgba255:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+bU.alphaFractionTo255(this.$3)+')'},toRgb:function(){if(this.$8===''){return'rgb('+this.$7+','+this.$6+','+this.$4+')'}return this.$8},toRgbHex:function(){return'#'+bU.$6(this.$7,2)+bU.$6(this.$6,2)+bU.$6(this.$4,2)},toHoverColor:function(){var e=(this.isValueAboveThreshold(77)?bU.blackHoverColor:bU.whiteHoverColor);return((this.get_a()<1)?e:bU.alphaBlend(e,this))},toArgbInt:function(){var e=ss.Int32.trunc(bU.alphaFractionTo255(this.$3));return(e<<24)+(this.$7<<16)+(this.$6<<8)+this.$4}});ss.initClass(bV,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().qColorPaletteGroups},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().catColorPaletteGroups},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.colorPalettes},colorPaletteGroup:function(e){var ex=e.palettesIndices;return _.map(ex,ss.mkdel(this,function(mo){return this.get_colorPalettes()[mo]}))},update:function(e,ex){this.simpleSwapToUpdate(e,null,ex)}},hv);ss.initClass(bW,a,{});ss.initClass(bX,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onInitialBootstrap:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onInitialBootstrap:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_switchingViz:function(e){this.$1$7=ss.delegateCombine(this.$1$7,e)},remove_switchingViz:function(e){this.$1$7=ss.delegateRemove(this.$1$7,e)},add_destroyView:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_destroyView:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_commandQueueComplete:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_commandQueueComplete:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_undoCommand:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_undoCommand:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},add_redoCommand:function(e){this.$1$12=ss.delegateCombine(this.$1$12,e)},remove_redoCommand:function(e){this.$1$12=ss.delegateRemove(this.$1$12,e)},add_modelsUpdated:function(e){this.$1$13=ss.delegateCombine(this.$1$13,e)},remove_modelsUpdated:function(e){this.$1$13=ss.delegateRemove(this.$1$13,e)},add_intermediateUpdate:function(e){this.$1$14=ss.delegateCombine(this.$1$14,e)},remove_intermediateUpdate:function(e){this.$1$14=ss.delegateRemove(this.$1$14,e)},add_remoteCommandFailure:function(e){this.$1$15=ss.delegateCombine(this.$1$15,e)},remove_remoteCommandFailure:function(e){this.$1$15=ss.delegateRemove(this.$1$15,e)},get_loader:function(){return this.$1d},$X:function(){return this.$17.length===0&&this.$1h.$3()===0},$W:function(){return _.any(this.$17,bX.$4)},cancelRunningCommand:function(e,ex,mo){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$1();this.$1g.$1(true,false);this.$1a=true;var mp=new Date;while(ss.isValue(this.$1h.$0())){}ss.clear(this.$17);ss.clearKeys(this.$15);ss.clear(this.$19);this.$14=null;this.$11.cancelRunningCommand(e,ss.mkdel(this,function(mq,mr){var ms=new Date;if(ss.isValue(mq)){this.$1e=!!(this.$1e|mq.isWorldNew);this.$R(mq);var mt=new gF;mt.primarySheet=null;mt.layoutStatus=mq;mt.cmdResult=null;var mu=mt;var mv={item1:mq.applicationPresModel,item2:mu};this.$7(0,mv);this.$C(null)}if(!ss.staticEquals(ex,null)){ex(mr)}this.$1a=false;this.$1g.$0();var mw=new Date;bI.$1(e.commandName,mr,mp,ms,mw)}),ss.mkdel(this,function(mq){if(!ss.staticEquals(mo,null)){mo()}this.$1a=false;this.$1g.$0();var mr=new Date;bI.$0(e.commandName,mp,mr)}))},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$6=null},setBrowserViewportFunc:function(e){this.$18=e;if(im.get_progressiveLoadEnabled()){this.$18(ss.mkdel(this,function(ex){this.$1d.setViewport(ex)}))}},prepareForSheetChange:function(){be.get_waitHandler().showAndLock()},switchViz:function(e,ex,mo){if(!ss.staticEquals(this.$1$7,null)){this.$1$7()}this.$Z=false;this.$Y=false;kE.reset();tabBootstrap.ViewerBootstrap.resetInstance();var mp=tsConfig.staticAssetVersion;kE.resetTsConfig(e);var mq=this.$t(tsConfig.cssStaticAssetFiles,tsConfig.jsStaticAssetFiles);var mr=!ss.referenceEquals(mp,tsConfig.staticAssetVersion);if(mr||mq){ex.setWindowLocation(null);return}bX.$b=false;var ms=ex.get_ignoreStickySession();if(!ms){ex.updateForViewingSheet(tsConfig.repositoryUrl).replaceState(null)}mo(this.legacySession);if(!ss.staticEquals(bX.$1$8,null)){bX.$1$8()}},$t:function(e,ex){for(var mo=0;mo<e.length;mo++){var mp=e[mo];if(!hz.isCssLoaded(mp)){return true}}for(var mq=0;mq<ex.length;mq++){var mr=ex[mq];if(!hz.isScriptLoaded(mr)){return true}}return false},$m:function(e){this.$U(e);if(!ss.staticEquals(this.$1$6,null)){this.$1$6()}var ex=lF.createForCurrentWindowLocation(null);if(ex.get_retry()){ex.set_retry(false);ex.replaceState(null)}if(ss.isValue(e.sessionState)){this.adoptServerSessionState(e.sessionState)}this.$p(e.worldUpdate.applicationPresModel);this.$13.handlePotentialBootstrapDataSourceException(e);if(ss.isNullOrUndefined(e.sessionState)){if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}},$f:function(e){var ex=e['message'];if(ss.isNullOrUndefined(ex)){ex=e['_message']}var mo=ex;if(ss.isValue(mo)&&mo.substr(0,12)==='Invalid JSON'){bX.sendParentCompletedMessage();var mp=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$12.ShowErrorDialog(mp,tab.Strings.SessionUnknownErrorTitle,null);throw new ss.Exception('Invalid JSON')}},$h:function(e){var ex=0;var mo='';try{var mp=JSON.parse(e['responseText']);if(ss.isValue(mp)){ex=mp.code;mo=mp.message}}catch(mq){}bX.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleSessionForbiddenAction(ex,mo)},$g:function(e){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ex=e['responseText'];var mo=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(ex);var mp=(ss.isNullOrUndefined(mo)?ex:mo.RedirectUrl);tab.WindowHelper.locationReplace(window.self,mp)}else{var mq=e['responseText'];tab.WindowHelper.locationReplace(window.self,mq)}},$i:function(){bX.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleSessionTimeoutLimitExceeded()},$j:function(){this.legacySession.get_sessionErrorHandler().handleSessionExpiration(true)},$k:function(){bX.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleSessionResourceLimitExceeded()},$l:function(){bX.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleTooManyRequests()},$d:function(e,ex){if(e!==0){bX.sendParentCompletedMessage();var mo=ex['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var mp=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(mo);if(ss.isValue(mp)){mo=mp.ErrorMessage}}if(e===502||e===503){this.legacySession.get_sessionErrorHandler().handleSessionKilled(mo)}else{this.legacySession.get_sessionErrorHandler().handleUnknownErrorStatus(mo)}this.legacySession.nudgeWait()}},$e:function(e){jU.onVizqlPinged();var ex=e['status'];switch(ex){case 200:{this.$f(e);break}case 403:{this.$h(e);break}case 401:{this.$g(e);break}case 408:{this.$i();break}case 410:{this.$j();break}case 413:{this.$k();break}case 429:{this.$l();break}default:{this.$d(ex,e);break}}},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var ex=ss.mkdel(this,function(mq){if(tab.ObjectCoverage.shouldTrack('bootstrap-initial')){mq=(new tab.ObjectCoverage('bootstrap-initial')).instrument(mq,'')}var mr=mq;try{this.$m(mr)}catch(ms){var e=ss.Exception.wrap(ms);bX.handleBootstrapException(e,this.$12)}});var mo=ss.mkdel(this,function(e){var mq=e;if(ss.isValue(mq)){_.defer(ss.mkdel(this,function(){{var mr=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$s(mq)}catch(ms){var e1=ss.Exception.wrap(ms);bX.handleBootstrapException(e1,this.$12)}}finally{if(ss.isValue(mr)){mr.dispose()}}}if(im.get_progressiveLoadEnabled()){this.$P()}else{this.$y()}}))}});var mp=ss.mkdel(this,function(e){this.$e(e)});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(ex,mp,mo)},delayLocalUrlActions:function(e){this.$16=this.$16.concat.apply(this.$16,e)},worldCheckpoint:function(){return this.$1i.worldCheckpoint()},$Q:function(e){var ex=function(){e()};var mo={type:'POST',url:bX.$1('transitionGuest',this.legacySession)};var mp=tab.MiscUtil.get_urlPathnameParts();var mq=(ss.keyExists(mp,3)?mp[3]:'');var mr=tsConfig.current_sheet_name;var ms=ss.mkdict([':authSheet',mr,'sheet_id',mq]);mo.data=ms;var mt=new jR(this.legacySession,null,ex,null,true,true);mj.helper(mo,mt)},$z:function(e,ex,mo,mp,mq){var mr=tab.Strings.UnhandledExceptionMessage(this.legacySession.get_id(),e);var ms=bX.$0(this.legacySession.get_id(),e,mq);this.$12.ShowErrorDialog(mr,tab.Strings.UnhandledExceptionTitle,ms);bX.$6(JSON.stringify(e));tab.ErrorTrace.windowOnError(e,ex,mo,mp,mq);return false},adoptServerSessionState:function(e){var ex=e.outcome;var mo=e.stateGuids;if((ex==='FULL'||ex==='PARTIAL')&&mo.length>0){var mp=mo[mo.length-1];this.legacySession.revertHistory([],mp)}else{this.legacySession.revertHistory(mo,null)}},$B:function(e,ex){if(ss.isValue(e)){hv.nonWorldUpdate(ss.mkdel(this,function(mo){mo.dialogProvider=this.$12;Y.get_instance().update(e,mo);this.$1i.checkpointAppPresModel()}));this.$H();if(!ex){this.$x()}}},$x:function(){if(!ss.staticEquals(this.$1$14,null)){this.$1$14()}},$u:function(){if(im.get_progressiveLoadEnabled()){this.$1d=new im;this.$1d.add_progressiveLoad(ss.mkdel(this,this.$B));this.$1d.add_progressiveLoadComplete(ss.mkdel(this,this.$A));this.$10=[]}},$P:function(){this.$1d.start()},$1:function(){if(im.get_progressiveLoadEnabled()&&this.$1d.get_hasZonesToLoad()){this.$1d.abort();this.$10=[];this.$A()}},$A:function(){this.$N();this.$y();mh.get().raiseOnProgressiveLoadComplete();mh.get().raiseOnDashboardLoadComplete();for(var e=0;e<this.$10.length;e++){var ex=this.$10[e];ex()}this.$10=[]},$p:function(e){{var ex=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var mo=new dM;mo.exceptionHandler=ss.mkdel(this,function(mu){bX.handleBootstrapException(mu,this.$12)});var mp=mo;var mq={dialogProvider:this.$12,eventHandler:mp};mh.get().raiseOnBootstrapResponse(e);if(im.get_progressiveLoadEnabled()){e=this.$1d.extractZoneContent(e)}{var mr=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var ms=Y.get_instance();ms.update(e,mq)}finally{if(ss.isValue(mr)){mr.dispose()}}}this.$1i.checkpointAppPresModel();kE.notifyModelsInitialized();{var mt=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{mp.fireDeferredEvents()}finally{if(ss.isValue(mt)){mt.dispose()}}}}finally{if(ss.isValue(ex)){ex.dispose()}}}this.$H();if(!im.get_progressiveLoadEnabled()){this.$N();mh.get().raiseOnDashboardLoadComplete()}this.legacySession.nudgeWait()},$s:function(e){var ex=e['secondaryInfo'.toString()];if(!ss.isValue(ex)||!ss.isValue(ex.presModelMap)||ss.getKeyCount(ex.presModelMap)===0){return}var mo=Y.get_instance().get_appPresModel();if(ss.keyExists(ex.presModelMap,'dataDictionary')){var mp=ex.presModelMap['dataDictionary'].presModelHolder;var mq=mp['genDataDictionaryPresModel'];if(ss.isValue(mq)){mo.dataDictionary=mq}}var mr=new dM;mr.exceptionHandler=ss.mkdel(this,function(mx){bX.handleBootstrapException(mx,this.$12)});var ms=mr;var mt={dialogProvider:this.$12,eventHandler:ms};if(ss.keyExists(ex.presModelMap,'vizData')){var mu=mo.workbookPresModel.dashboardPresModel;var mv=ex.presModelMap['vizData'].presModelHolder;var mw=mv['genPresModelMapPresModel'];if(im.get_progressiveLoadEnabled()&&this.$1d.get_hasZonesToLoad()){this.$1d.updateZonesWithVizData(mw,mt)}else{lB.addVizDataToZones(mw.presModelMap,mu.zones)}}Y.get_instance().update(mo,mt);this.$1i.checkpointAppPresModel();if(hy.hasAnyImpliedSelection()){ms.fireDeferredEvents()}this.$H()},$U:function(e){this.$T(e.layoutId);var ex=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$3(ex)){tsConfig.sessionid=ex}var mo=e.workbookLocale;if(!ss.isNullOrEmptyString(mo)){tsConfig.workbookLocale=mo}var mp=e.newClientNum;if(!ss.isNullOrEmptyString(mp)){tsConfig.clientNumber=mp;tabBootstrap.Utility.addToUrlHash('cn',mp)}tsConfig.current_sheet_name=e.sheetName;mj.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel)){tsConfig.current_sheet_type=e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo.sheetType}},$T:function(e){tsConfig.layoutid=e},$w:function(){while(this.$1h.$3()>0&&!this.$W()){this.$8(this.$1h.$0())}},$8:function(ex){this.$17.push(ex);if(ex.get_isBlocking()){this.$1g.$1(ex.get_blockType()==='immediately',!ex.get_shouldShowCommandWaiter())}var mo=new dM;var mp={dialogProvider:this.$12,eventHandler:mo};var mq=this.$1f.beginTransaction(mp);var mr;try{ex.execute(mq,this.$11,ss.mkdel(this,function(e){this.$4(ex,e)}));mr=this.$1f.endTransaction();if(Y.get_instance().get_isLocalRenderMode()&&!bX.fireDeferredUrlActions){this.$9(this.$16)}if(ex.get_shouldShowCommandWaiter()){ex.get_commandWaiter().handleCommandStarted(ex)}}catch(mu){var e=ss.Exception.wrap(mu);tab.ErrorTrace.report(e);this.$1f.rollbackTransaction();this.$4(ex,new ca(false,e));return}finally{this.$M()}var ms=null;if(ex.get_hasLocalComponent()){ms=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),ex.$2(),ex.$0())}{var mt=ms;try{if(ss.isValue(mr)){if(im.get_progressiveLoadEnabled()){mr=this.$F(mr,mp,true)}Y.get_instance().update(mr,mp);this.$1i.markCurrentWorldAsDirty();mo.fireDeferredEvents();this.$H()}}finally{if(ss.isValue(mt)){mt.dispose()}}}if(this.$17.length>0){this.$Y=false}},$4:function(e,ex){try{var mo=null;if(e.get_hasRemoteComponent()){mo=tabBootstrap.MetricsController.createContext('PROREM'.toString(),e.$2(),e.$0())}{var mp=mo;try{try{ss.remove(this.$17,e);if(this.$X()){this.$C(e)}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(mp)){mp.dispose()}}}this.$n(e,ex);if(e.isFinished()){e.triggerCallbacks();if(e.get_shouldShowCommandWaiter()){e.get_commandWaiter().handleCommandCompleted()}}if(this.$X()){this.$1g.$0()}this.$w()}catch(mq){var failedErrorDialogCommands=tab.ListExtensions.where(Object).call(null,e.get_remoteCommands(),ss.mkdel(this,function(mr){return this.legacySession.get_sessionErrorHandler().checkForErrorDialogFailure(mr)}));if(failedErrorDialogCommands.length>0){this.legacySession.get_sessionErrorHandler().handleErrorDialogFailure(failedErrorDialogCommands[0])}else{if(e.get_shouldShowCommandWaiter()){e.get_commandWaiter().handleCommandError()}throw mq}}},$n:function(e,ex){if(!ex.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var mo=this.$13.handle(ex.error,e);if(mo){this.$1i.revertLocalChanges();this.$1g.$0()}}},$9:function(e){var ex=(ss.isValue(e)?ss.arrayClone(e):[]);this.$M();if(!ss.staticEquals(this.$1$1,null)&&ex.length>0){this.$1$1(ex,this.$12)}},$M:function(){this.$16.length=0},$r:function(e,ex,mo){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(mo)){return}var mp=mo['vqlCmdResponse'.toString()];if(ss.isNullOrUndefined(mp)||ss.isNullOrUndefined(mp.layoutStatus)){return}var mq=mp.layoutStatus;if(ss.isValue(mq.isWorldNew)){this.$1e=!!(this.$1e|mq.isWorldNew)}if(ss.isValue(mq.urlActionList)&&!Y.get_instance().get_isLocalRenderMode()||bX.fireDeferredUrlActions){if(mq.urlActionList.length>0){bX.fireDeferredUrlActions=false;this.$9(mq.urlActionList)}}this.$R(mq);var mr=new gF;mr.primarySheet=this.$b(ex);mr.layoutStatus=mp.layoutStatus;mr.cmdResult=mp.cmdResultList[0];mr.commandName=ex.commandName;var ms=mr;var mt=mp.layoutStatus.applicationPresModel;var mu={item1:mt,item2:ms};this.$7(e,mu);var mv=ss.isValue(this.$14)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$14.sheetName);var mw=new cj;mw.set_applicationPresModel(mt);mw.set_worldUpdateCommand(ex);mw.set_sheetChanged(mv);mw.set_rebuildTheWorld(this.$1e);var mx=mw;mh.get().raiseOnCommandResponse(mx)},$b:function(e){var ex=null;if(ss.isValue(e.commandParams)&&!ss.referenceEquals(e.commandName,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)){if(ss.keyExists(e.commandParams,'worksheet')){ex=e.commandParams['worksheet']}else if(ss.keyExists(e.commandParams,'visualIdPresModel')){var mo;if(typeof(e.commandParams['visualIdPresModel'])==='string'){var mp=e.commandParams['visualIdPresModel'];mo=JSON.parse(mp)}else{mo=e.commandParams['visualIdPresModel']}ex=mo.worksheet}}return ex},$R:function(e){if(ss.isValue(e.applicationPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo)){this.$14=e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo}},$q:function(e,ex,mo){var mp=new gF;mp.cmdResult={commandName:ex.commandName,commandReturn:mo};var mq=mp;var mr={item1:null,item2:mq};this.$7(e,mr);this.$J(mo)},$C:function(e){if(Y.get_instance().get_isOffline()){return}var ex=new dM;var mo={dialogProvider:this.$12,eventHandler:ex};var mp=ss.getKeyCount(this.$15)>0;var mq=false;if(ss.isValue(this.$14)){mq=!ss.referenceEquals(tsConfig.current_sheet_name,this.$14.sheetName);this.$T(this.$14.layoutId.toString());if(mq){if(!ss.staticEquals(bX.$1$16,null)){bX.$1$16()}}if(mq||this.$1e){this.$1$9()}}var mr=this._getRenderMode();var ms=this.$c();this.$3();this.$1f.rollbackTransactions(mo);if(this.$1e){Y.get_instance().get_workbook().handleWorldReset()}if(this.$1e||mq){this.$1()}this.$2(mr,mo);this.$5();ss.clearKeys(this.$15);this.$1i.checkpointAppPresModel();this.$1f.resetTransactedState();this.$E(ms);this.$D(mq);if(mp){hy.reValidateVisualModels(mo)}ex.fireDeferredEvents();this.$o(e);this.$H();this.$V();if(!im.get_progressiveLoadEnabled()&&mq){mh.get().raiseOnDashboardLoadComplete()}},$V:function(){this.$1c.push(ss.mkdel(this,this.$G));this.$1c.push(ss.mkdel(this,function(){gB.callWhenImagesLoaded(ss.mkdel(this,function(){this.$Y=true}))}));if(im.get_progressiveLoadEnabled()&&this.$1d.get_hasZonesToLoad()){this.$10.push(ss.mkdel(this,function(){this.$6()}))}else{this.$6()}this.$1e=false},$6:function(){for(var e=0;e<this.$1c.length;e++){var ex=this.$1c[e];ex()}ss.clear(this.$1c)},$E:function(e){if(e.get_isStory()){var ex=this.$c();if(ex.get_isStory()&&e.get_storyPointId()!==ex.get_storyPointId()&&ss.isValue(e.get_sheetName())&&ss.referenceEquals(e.get_sheetName(),ex.get_sheetName())){this.processingStoryPointChange=true;Y.get_instance().$3()}}},$D:function(e){if(ss.isNullOrUndefined(this.$14)){return}if(!e&&!this.$1e){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$14.sheetName,this.$14.repositoryUrl)}}catch(mo){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$14)){this.$14['sheetName']=this.$14.sheetName}var ex={item1:tsConfig.current_sheet_name,item2:this.$14.sheetName};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$14)}O.get().onNewLayoutId([this.$14]);this.$1c.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(ex)}}));this.$14=null},$3:function(){if(!tab.FeatureParamsLookup.getBool(46)){return}ss.clearKeys(this.$1b);var e=Y.get_instance().pm;if(e===Object(e)&&e.workbookPresModel===Object(e.workbookPresModel)&&e.workbookPresModel.dashboardPresModel===Object(e.workbookPresModel.dashboardPresModel)){var ex=new ss.ObjectEnumerator(e.workbookPresModel.dashboardPresModel.zones);try{while(ex.moveNext()){var mo=ex.current();if(mo.value===Object(mo.value)&&mo.value.presModelHolder===Object(mo.value.presModelHolder)&&ss.keyExists(mo.value.presModelHolder,'visual')){var mp=mo.value.presModelHolder['visual'];if(mp.scene===Object(mp.scene)&&ss.isValue(mp.scene.runtimeFinalDatastoreLocal)){this.$1b[mo.key]=mp.scene.runtimeFinalDatastoreLocal}}}}finally{ex.dispose()}}},$5:function(){if(!tab.FeatureParamsLookup.getBool(46)||ss.getKeyCount(this.$1b)===0){return}var e=Y.get_instance().pm;if(e.workbookPresModel===Object(e.workbookPresModel)&&e.workbookPresModel.workbookModified){var ex=new ss.ObjectEnumerator(e.workbookPresModel.dashboardPresModel.zones);try{while(ex.moveNext()){var mo={$:ex.current()};if(ss.keyExists(this.$1b,mo.$.key)){var mp=new tab.DatastoreHandle(this.$1b[mo.$.key],null);tab.RuntimeWebModule.proxy.marshallDatastore(mp).done(ss.mkdel({newZone:mo},function(mq){var mr=this.newZone.$.value.presModelHolder['visual'].scene.runtimeRenderInputDatastore;var ms=tab.JsHeapMarshaller.unmarshallHex(mr);if(!dG.deepCompare(mq,ms,0.001,'')){}}))}}}finally{ex.dispose()}}},$2:function(e,ex){var mo=_.keys(this.$15);mo=mo.sort(function(mx,my){var mz=parseInt(mx);var mA=parseInt(my);return((mz>mA)?1:-1)});var mp=Y.get_instance();var mq={$:null};for(var mr=this.$a(mo);mr<mo.length;mr++){var ms=mo[mr];var mt=this.$15[ms];var mu=mt.item1;var mv=mt.item2;if(ss.isNullOrUndefined(mu)||ss.isNullOrUndefined(mv)||ss.isNullOrUndefined(mv.layoutStatus)){continue}if(im.get_progressiveLoadEnabled()){mu=this.$F(mu,ex,false)}var mw=mv.layoutStatus.active_tab||'';this.$O(mu,mp,mw,mq);mp.update(mu,ex);this.$19.push(mv);this.$S(mv);if(!this.processingRenderModeChange&&mu.renderMode!==e){this.processingRenderModeChange=true;this.$1g.$2()}}if(this.$1e){Y.get_instance().$3()}if(!ss.staticEquals(mq.$,null)){this.remove_undoCommand(mq.$);this.remove_redoCommand(mq.$)}},$a:function(e){var ex=0;if(this.$1e){for(var mo=e.length-1;mo>=0;mo--){var mp=e[mo];var mq=this.$15[mp];var mr=mq.item1;var ms=mq.item2;var mt=!(ss.isNullOrUndefined(mr)||ss.isNullOrUndefined(ms)||ss.isNullOrUndefined(ms.layoutStatus));if(mt&&ms.layoutStatus.isWorldNew){ex=mo;break}}}return ex},$S:function(e){if(!ss.isValue(e.layoutStatus.undoPosition)){return}if(ss.isNullOrUndefined(e.cmdResult)){return}var ex=e.cmdResult.commandName;var mo=this.legacySession.get_historyPosition();var mp=e.layoutStatus.undoPosition;if(ss.referenceEquals(ex,co.serialize({ns:'tabsrv',cmd:'revert-workbook'}))){this.legacySession.revertHistory([],null)}else if(mp===mo-1){this.$K();this.legacySession.trackUndo()}else if(mp>mo){if(ss.referenceEquals(ex,co.serialize({ns:'tabdoc',cmd:'redo'}))){this.$I();this.legacySession.trackRedo()}else{this.legacySession.$5('',e.layoutStatus.guid,e.layoutStatus.undoPosition)}}},$O:function(e,ex,mo,mp){if(ss.staticEquals(mp.$,null)&&ss.isValue(e.workbookPresModel)&&(!ss.isValue(e.workbookPresModel.uiMode)||e.workbookPresModel.uiMode==='document')&&ss.isValue(ex.get_workbook())&&ex.get_workbook().get_uiMode()==='data-tab'&&ss.referenceEquals(mo,tsConfig.current_sheet_name)){mp.$=function(){var mq=dK.constructEnsureLayoutForSheetCommand();bX.SendCommand(mq)};this.add_undoCommand(mp.$);this.add_redoCommand(mp.$)}},$F:function(e,ex,mo){if(im.get_progressiveLoadEnabled()){var mp=Y.get_instance().get_appPresModel();var mq=false;if(Y.get_instance().get_workbook().get_isCurrentSheetStoryboard()&&ss.isValue(Y.get_instance().get_workbook().get_storyboard().get_flipboard())){var mr=Y.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var ms=bX.$3(e);mq=ss.isValue(ms)&&ms!==mr}var mt=bX.$2(e);var mu=!ss.isNullOrEmptyString(mt)&&!ss.referenceEquals(mt,bX.$2(mp));if(mq||mu){this.$1();e=this.$1d.extractZoneContent(e);this.$P()}else{e=this.$1d.processModelUpdate(e,ex,mo)}}return e},$o:function(e){for(var ex=0;ex<this.$19.length;ex++){var mo=this.$19[ex];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(mo)}var mp=ss.isValue(mo)&&ss.isValue(mo.cmdResult)&&ss.referenceEquals(mo.cmdResult.commandName,ck.buildQualifiedCommandName({ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.ns,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd));this.$13.handlePotentialDataSourceException(e,mo.layoutStatus,mp)}ss.clear(this.$19)},$y:function(){if(this.$Z){return}this.$Z=true;bX.$5();kE.notifyClientFullyLoaded();gB.callWhenImagesLoaded(ss.mkdel(this,function(){hz.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$Y=true}))}));bX.sendParentCompletedMessage();jU.onVizqlPinged();bZ.$0();bY.bootstrapCompleteStoryTelemetry()},$7:function(e,ex){if(ss.isValue(ex)){this.$15[e.toString()]=ex}},_getRenderMode:function(){return Y.get_instance().get_renderMode()},$c:function(){return new kI},$G:function(){if(!ss.staticEquals(this.$1$10,null)){this.$1$10()}},$K:function(){if(!ss.staticEquals(this.$1$11,null)){this.$1$11()}},$I:function(){if(!ss.staticEquals(this.$1$12,null)){this.$1$12()}},$H:function(){if(!ss.staticEquals(this.$1$13,null)){this.$1$13()}},$J:function(e){if(!ss.staticEquals(this.$1$15,null)){this.$1$15(e)}},$N:function(){if(this.$Z){return}var e=function(){tabBootstrap.MetricsController.logMetricsEvent('ALLZNS'.toString(),2);window.setTimeout(function(){Y.get_instance().$3()},2500)};gB.callWhenImagesLoaded(function(){hz.registerModulesLoadedCallback(e)})},$0:function(e){var ex=e.get_commandName();if(ss.referenceEquals(ex,{ns:'tabdoc',cmd:'next-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabdoc',cmd:'previous-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd)||ss.referenceEquals(ex,{ns:'tabsrv',cmd:'revert-workbook'}.cmd)){this.$1()}},$v:function(){return ss.getKeyCount(this.$15)>0||this.$17.length>0||this.$1h.$3()>0},$L:function(){this.$Y=false}});ss.initClass(bY,a,{});ss.initClass(bZ,a,{});ss.initClass(ca,a,{});ss.initEnum(cb,a,{proceed:0,stop:1});ss.initInterface(gr,a,{get_commandType:null,get_name:null});ss.initClass(lg,a,{get_serializedCommand:function(){return this.$2$1},set_serializedCommand:function(e){this.$2$1=e},get_isMenuButton:function(){return ss.isValue(this.get_wrappedCommandItemPresModel())&&ss.isValue(this.get_wrappedCommandItemPresModel().get_commands())},get_asMenuButton:function(){return this},get_isPlaceholder:function(){return this.$2$2},set_isPlaceholder:function(e){this.$2$2=e},get_legacyCommandModel:function(){return this.$2$3},set_legacyCommandModel:function(e){this.$2$3=e},get_status:null,get_commandType:null,get_name:null,get_description:null,get_imageRes:null,get_wrappedCommandItemPresModel:null},hv,[gr]);ss.initClass(cc,a,{get_legacyCommandModel:function(){var e=new cf;e.set_commandType(this.get_commandType());e.command=this.get_serializedCommand();e.set_name(this.get_name());e.description=this.get_description();e.imageRes=this.get_imageRes();e.status=this.get_status();return e},set_legacyCommandModel:function(e){},get_status:function(){var e=this.get_wrappedCommandItemPresModel().get_enabled();return((ss.isNullOrUndefined(e)||e)?'enabled':'disabled')},get_commandType:function(){if(ss.isNullOrUndefined(this.get_serializedCommand())){return 99}var e=ck.getCommandType(this.get_serializedCommand());return(ss.isValue(e)?ss.unbox(e):99)},get_name:function(){return this.get_wrappedCommandItemPresModel().get_name()},get_description:function(){return this.get_wrappedCommandItemPresModel().get_description()},get_imageRes:function(){if(ss.isNullOrUndefined(this.get_wrappedCommandItemPresModel().get_iconRes())){return null}return ss.coalesce(kR.lookupFullResourceAlias(this.get_wrappedCommandItemPresModel().get_iconRes()),null)},get_wrappedCommandItemPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}return cd.create(this.pm)},update:function(e,ex){this.pm=e;this.set_serializedCommand(ck.deserialize(this.get_wrappedCommandItemPresModel().get_command(),false));if(ss.isValue(this.get_serializedCommand())&&ex!==0&&!ss.isValue(this.get_serializedCommand().commandParams['selectAtPoint'])){this.get_serializedCommand().commandParams['tupleId']=ex.toString()}}},lg,[gr]);ss.initClass(cd,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['name'.toString()]},set_name:function(e){this.$0['name'.toString()]=e},get_description:function(){return this.$0['description'.toString()]},set_description:function(e){this.$0['description'.toString()]=e},get_readId:function(){return this.$0['readId'.toString()]},set_readId:function(e){this.$0['readId'.toString()]=e},get_colorSwatch:function(){return this.$0['colorSwatch'.toString()]},set_colorSwatch:function(e){this.$0['colorSwatch'.toString()]=e},get_commandsType:function(){return this.$0['commandsType'.toString()]},set_commandsType:function(e){this.$0['commandsType'.toString()]=e},get_enabled:function(){var e=this.$0['state'.toString()];return ss.isNullOrUndefined(e)||e},set_enabled:function(e){this.$0['state'.toString()]=e},get_isChecked:function(){return this.$0['isChecked'.toString()]},set_isChecked:function(e){this.$0['isChecked'.toString()]=e},get_isDefault:function(){return this.$0['isDefault'.toString()]},set_isDefault:function(e){this.$0['isDefault'.toString()]=e},get_isRadioOn:function(){return this.$0['isRadioOn'.toString()]},set_isRadioOn:function(e){this.$0['isRadioOn'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['isVisible'.toString()],true)},set_isVisible:function(e){this.$0['isVisible'.toString()]=e},get_commands:function(){return this.$0['commands'.toString()]},set_commands:function(e){this.$0['commands'.toString()]=e},get_command:function(){return this.$0['command'.toString()]},set_command:function(e){this.$0['command'.toString()]=e},get_argumentParams:function(){return this.$0['argumentParams'.toString()]},set_argumentParams:function(e){this.$0['argumentParams'.toString()]=e},get_commandName:function(){return(ss.isNullOrUndefined(this.get_command())?null:this.get_command().split(' ')[0])},get_hasIcon:function(){return!ss.isNullOrEmptyString(this.get_iconRes())},get_iconRes:function(){return this.$0['iconRes'.toString()]},set_iconRes:function(e){this.$0['iconRes'.toString()]=e},get_key:function(){return this.get_commandName()},execute:function(){bX.SendCommand(new bQ('immediately',null,ck.deserialize(this.get_command(),false),null,null))},dispose:function(){tab.KeyboardShortcutManager.unregisterShortcut(this.get_commandName())}},null,[ss.IDisposable,tab.IShortcutAction]);ss.initClass(ce,a,{});ss.initClass(cf,a,{get_commandType:function(){return this.$1$1},set_commandType:function(e){this.$1$1=e},get_name:function(){return this.$1$2},set_name:function(e){this.$1$2=e}},null,[gr]);ss.initClass(cg,a,{get_status:function(){return this.get_legacyCommandModel().status},get_commandType:function(){return this.get_legacyCommandModel().get_commandType()},get_name:function(){return this.get_legacyCommandModel().get_name()},get_description:function(){return this.get_legacyCommandModel().description},get_imageRes:function(){return this.get_legacyCommandModel().imageRes},get_wrappedCommandItemPresModel:function(){return null},update:function(e,ex){this.pm=null;this.set_legacyCommandModel(e);this.set_serializedCommand(this.get_legacyCommandModel().command);this.set_isPlaceholder(ex)}},lg,[gr]);ss.initClass(ch,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.get_commandType())){}return ss.isValue(e.get_commandType())&&e.get_commandType()!==99&&ss.keyExists(this.$0,e.get_commandType())&&this.$0[e.get_commandType()]==='granted'}});ss.initClass(ci,a,{});ss.initClass(cj,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(ck,a,{});ss.initClass(cl,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,ex){if(this.get_shouldUpdate()){this.forceUpdate(e,ex)}},forceUpdate:function(e,ex){this.simpleSwapToUpdate$1(cl).call(this,e,this.$2$1,this,ex)}},hv);ss.initClass(cm,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['commandItems'.toString()]},set_commandItems:function(e){this.$0['commandItems'.toString()]=e},get_defaultItem:function(){return this.$0['defaultItem'.toString()]},set_defaultItem:function(e){this.$0['defaultItem'.toString()]=e}});cm.$ctor1.prototype=cm.prototype;ss.initClass(cn,a,{});ss.initClass(co,a,{});ss.initClass(cp,a,{sendRequest:function(e){var ex={$:$.Deferred()};var mo=new md(e.method,e.params,ss.mkdel({deferred:ex,$this:this},function(mq){this.$this.$0(this.deferred,mq)}),ss.mkdel({deferred:ex},function(mq){var mr={};mr['errors']=[ss.mkdict(['code',mq])];this.deferred.$.reject(mr)}));var mp=this.$3(mo);mj.helper(mp,null);return ex.$},$0:function(e,ex){if(ss.keyExists(ex,'errors')){e.$.reject(ex)}else{e.$.resolve(ex)}},sendVizqlRequest:function(e){var ex={$:$.Deferred()};var mo=ss.mkdel({deferred:ex,$this:this},function(mr,ms,mt){var mu=mr;delete mu['msg'];delete mu['status'];this.$this.$0(this.deferred,mu)});var mp=ss.mkdel({deferred:ex,$this:this},function(mr,ms,mt){this.deferred.$.reject()});var mq=new lD(e.method,e.params,mo,mp);this.$1(mq);return ex.$},$1:function(e){var ex={};ex.type='POST';ex.url=this.$2.formatSessionMethod(e.methodName);ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';if(ss.isValue(e.methodParams)){ex.data=e.methodParams}var mo=this.$2.createHandler(null,e.success,e.error,'immediately');this.$2.request(ex,mo)}},null,[Object]);ss.initClass(cq,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'doc:table-calc-dialog-event'},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().fieldCaption},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().isSecondaryAllowed},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().isCalcAssistanceEnabled)},get_calcAssistanceWidgetState:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?'widget-state-enabled':this.get_tableCalcsPresModel().tableCalcAssistanceWidgetState)},onNotify:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var mo=e;this.$1.update(cq.$0(mo,0),ex);this.$2.update(cq.$0(mo,1),ex);this.swapAndCopyPresModel(mo);this.raiseEvent(this.$2$1,ex)}},hv,[gz]);ss.initClass(cr,a,{});ss.initClass(fj,a,{get_fontGroup:function(){return this.$1$1},set_fontGroup:function(e){this.$1$1=e},get_fonts:function(){return this.$1$2},set_fonts:function(e){this.$1$2=e}});fj.$ctor1.prototype=fj.prototype;ss.initClass(cs,a,{addFont:function(e){if(!_.any(this.get_fonts(),function(ex){return ss.compareStrings(ex,e,true)===0})){this.get_fonts().push(e);this.set_fonts(_.sortBy(this.get_fonts(),function(ex){return ex.toLowerCase()}))}}},fj);ss.initClass(ct,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'copy-temp-file-to-session-specific-storage'},this.c))}},ss.makeGenericType(bd,[Object,cu]));ss.initClass(cu,a,{});ss.initClass(cv,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-and-establish-cloud-connection'},this.c))}},ss.makeGenericType(bd,[Object,cw]));ss.initClass(cw,a,{});ss.initClass(cx,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-and-establish-connection'},this.c))}},ss.makeGenericType(bd,[Object,cy]));ss.initClass(cy,a,{});ss.initClass(cz,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-annotation'},this.c))}},ss.makeGenericType(bd,[Object,cA]));ss.initClass(cA,a,{});ss.initClass(cB,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-annotation-rich-text-editor'},this.c))}},ss.makeGenericType(bd,[Object,cC]));ss.initClass(cC,a,{});ss.initClass(cD,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-data-source-from-file-upload'},this.c))}},ss.makeGenericType(bd,[Object,cE]));ss.initClass(cE,a,{});ss.initClass(cF,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-worksheet-title-rich-text-editor'},this.c))}},ss.makeGenericType(bd,[Object,cG]));ss.initClass(cG,a,{});ss.initClass(cH,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'create-zone-rich-text-editor'},this.c))}},ss.makeGenericType(bd,[Object,cI]));ss.initClass(cI,a,{});ss.initClass(eO,a,{get_instanceType:null,get_fieldsModel:function(){return this.parent},get_dataSourceName:function(){if(ss.isNullOrUndefined(this.get_dataSource())){return''}return this.get_dataSource().get_name()},get_canHaveChildren:function(){return false},get_isParameter:function(){return ss.isValue(this.get_dataSource())&&this.get_dataSource().get_isParametersDataSource()},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),eO.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),eO.nameOfMeasureValuesColumn)},get_fieldCaptionForReset:function(){return this.pm.fieldCaptionForReset},get_fieldIconResource:function(){var e=this.pm.fieldIconRes||'';if(e.length===0){return e}if(this.pm.isInvalid){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.isAutoHidden},get_isInvalid:function(){return this.pm.isInvalid},get_isOrphaned:function(){return this.pm.isOrphaned},get_isGenerated:function(){return this.pm.isGenerated},get_isAutoColumn:function(){return this.pm.isAutoColumn},get_isAllowedInCalcs:function(){return this.pm.isAllowedInCalcs},get_isUnnamedCalc:function(){return this.pm.isUnnamed},get_isQuickTableCalc:function(){return this.pm.isQuickTableCalc},get_globalName:function(){return this.pm.fn},get_localName:function(){return this.pm.name},get_qualifiedLocalName:function(){return'['+this.get_localName()+']'},get_description:function(){return this.pm.description},get_userCaption:function(){return this.pm.userCaption},get_ordinal:function(){return this.pm.datasourceOrdinal},get_isFieldContainer:function(){return this.get_instanceType()==='fieldContainer'},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'||this.get_instanceType()==='structuredMeasure'||this.get_instanceType()==='level'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isFolderNew:function(){return this.get_instanceType()==='folderNew'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_isStructuredMeasure:function(){return this.get_instanceType()==='structuredMeasure'},get_isCubeBaseDimension:function(){return this.get_instanceType()==='cubeStandardDimension'||this.get_instanceType()==='cubeAttributeDimension'},get_isCubeStandardDimension:function(){return this.get_instanceType()==='cubeStandardDimension'},get_isCubeAttributeDimension:function(){return this.get_instanceType()==='cubeAttributeDimension'},get_isLevel:function(){return this.get_instanceType()==='level'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.defaultFieldType:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.fieldType:'unknown')},get_displayName:function(){return this.pm.fieldCaption},get_tooltip:function(){if(this.get_isInvalid()){return this.pm.tooltipText}else{return this.get_userCaption()||(this.get_description()||this.get_displayName())}},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_dataSource:function(){return(ss.isNullOrUndefined(this.get_fieldsModel())?null:this.get_fieldsModel().get_dataSource())},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else if(this.get_isFolderNew()){return this.asFolderNew().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,eJ)},asGroup:function(){return ss.safeCast(this,ge)},asDimension:function(){return ss.safeCast(this,cM)},asHierarchy:function(){return ss.safeCast(this,cP)},asCubeFolder:function(){return ss.safeCast(this,cN)},asFolder:function(){return ss.safeCast(this,fg)},asFolderNew:function(){return ss.safeCast(this,fi)},asDrillPath:function(){return ss.safeCast(this,ec)},asRelationalTable:function(){return ss.safeCast(this,iI)},asStructuredMeasure:function(){return ss.safeCast(this,kJ)},asCubeStandardDimension:function(){return ss.safeCast(this,cR)},asCubeAttributeDimension:function(){return ss.safeCast(this,cJ)},asCubeBaseDimension:function(){return ss.safeCast(this,cL)},asLevel:function(){return ss.safeCast(this,hi)},asFieldContainer:function(){return ss.safeCast(this,eL)}},hv);ss.initClass(cL,a,{get_instanceType:null,get_cubeHierarchies:function(){return this.$3$1},set_cubeHierarchies:function(e){this.$3$1=e},get_cubeFolders:function(){return this.$3$2},set_cubeFolders:function(e){this.$3$2=e},get_defaultCubeHierarchy:function(){return this.$3$3},set_defaultCubeHierarchy:function(e){this.$3$3=e},get_dimensionType:function(){return this.pm.dimensionType},get_defaultHierarchyName:function(){return this.pm.defaultHierarchyName},get_hasOnlyOneHierarchy:function(){return this.pm.hasOnlyOneHierarchy},get_dimensionIsEffectivelyEmpty:function(){return this.pm.dimensionIsEffectivelyEmpty},get_timeIntelligenceColumn:function(){return this.$3$4},set_timeIntelligenceColumn:function(e){this.$3$4=e},get_timeIntelligenceCaption:function(){return this.pm.timeIntelligenceCaption},get_isTimeIntelligence:function(){return this.pm.isTimeIntelligence},get_canHaveChildren:function(){return true},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)&&ss.isValue(this.get_defaultCubeHierarchy())){return this.get_defaultCubeHierarchy().get_levels()[0]}var ex=[];var mo=this.get_cubeHierarchies();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];ex.push(mq)}var mr=this.get_cubeFolders();for(var ms=0;ms<mr.length;ms++){var mt=mr[ms];var mu=mt.get_hierarchies();for(var mv=0;mv<mu.length;mv++){var mw=mu[mv];ex.push(mw)}}ex.sort(function(mx,my){if(mx.get_levels().length>1&&my.get_levels().length<=1){return-1}else if(mx.get_levels().length<=1&&my.get_levels().length>1){return 1}else{return 0}});return((ex.length>0)?ex[0].get_levels()[0]:null)},update:function(e,ex,mo,mp,mq){this.swapAndCopyPresModel(e);this.set_cubeHierarchies(ex);this.set_cubeFolders(mo);this.set_defaultCubeHierarchy(mp);this.set_timeIntelligenceColumn(mq)}},eO);ss.initClass(cJ,a,{get_instanceType:function(){return'cubeAttributeDimension'},get_isLinked:function(){return this.pm.isLinked},update$1:function(e,ex,mo,mp,mq){this.swapAndCopyPresModel(e);this.update(e,ex,mo,mp,mq)}},cL);ss.initClass(cK,a,{});ss.initClass(cM,a,{get_hierarchies:function(){return this.$1},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)){for(var ex=0;ex<this.$1.length;ex++){var mo=this.$1[ex];if(ss.referenceEquals(mo.get_localName(),e)){return mo.get_levels()[0]}}}var mp=[];for(var mq=0;mq<this.$1.length;mq++){var mr=this.$1[mq];mp.push(mr)}var ms=this.get_folders();for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];var mv=mu.get_hierarchies();for(var mw=0;mw<mv.length;mw++){var mx=mv[mw];mp.push(mx)}}mp.sort(function(my,mz){if(my.get_levels().length>1&&mz.get_levels().length<=1){return-1}else if(my.get_levels().length<=1&&mz.get_levels().length>1){return 1}else{return 0}});return((mp.length>0)?mp[0].get_levels()[0]:null)},get_folders:function(){return this.$3$1},set_folders:function(e){this.$3$1=e},get_attributes:function(){return this.$3$2},set_attributes:function(e){this.$3$2=e},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,ex,mo,mp){this.swapAndCopyPresModel(e);this.$1=ex;this.set_folders(mo);this.set_attributes(mp)}},eO);ss.initClass(cN,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex,mo){this.swapAndCopyPresModel(e);this.$2=ex;this.$1=mo}},eO);ss.initClass(cO,a,{});ss.initClass(cP,a,{get_levels:function(){return this.$1},get_userDefinedAttributes:function(){return this.$2},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},get_isAttributeHierarchy:function(){return this.pm.isAttributeHierarchy},update:function(e,ex,mo){this.swapAndCopyPresModel(e);this.$1=ex;this.$2=mo}},eO);ss.initClass(cQ,a,{});ss.initClass(cR,a,{get_instanceType:function(){return'cubeStandardDimension'},get_cubeAttributeDimensions:function(){return this.$4$1},set_cubeAttributeDimensions:function(e){this.$4$1=e},update$1:function(e,ex,mo,mp,mq,mr){this.swapAndCopyPresModel(e);this.set_cubeAttributeDimensions(mp);this.update(e,ex,mo,mq,mr)}},cL);ss.initClass(cS,a,{});ss.initClass(le,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new kN(null):e.get_tableCalcIdentifier())},update:null},hv);ss.initClass(cT,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().aggregationIndex},get_aggregationValues:function(){return this.$1().aggregationValues},get_aggregationCaptions:function(){return this.$1().aggregationCaptions},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},le);ss.initClass(cU,a,{});ss.initClass(cV,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().nullIfIncomplete},get_nullIfIncompleteState:function(){return this.$1().customNullIfIncompleteState},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},get_nestedCalcsWidgetState:function(){return this.$1().nestedCalcsState},get_nestedCalcsIndex:function(){return this.$1().nestedCalcsIndex},get_nestedTableCalcInfoArray:function(){return this.$1().nestedTableCalcInfos},update:function(e,ex){var mo=e;if(this.isNewPresModelSameAsOld(mo)){return}this.swapAndCopyPresModel(mo);this.get_referenceModel().update(mo.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}},le);ss.initClass(ig,a,{invokeCommand:function(e,ex,mo){var mp={ns:e,cmd:ex};if(lM.get_instance().hasCommand(mp)){var mq=lM.get_instance().createCommandWithParams(mp,mo);return mq.invoke()}else{var mr=$.Deferred();var ms=function(mB){mr.resolve(mB)};var mt=function(mB){mr.reject()};var mu={commandName:ex,commandNamespace:e,commandParams:mo,preserveRootResult:true};var mv=null;var mw=this.getUIBlockingType(e,ex);var mx=false;if(lM.get_instance().hasCommandLocalOptions(mp)){var my=lM.get_instance().getCommandLocalOptions(mp);if(!ss.staticEquals(my.localWorkFactory,null)){mv=my.localWorkFactory(mo)}if(ss.isValue(my.blocking)){mw=ss.unbox(my.blocking)}mx=my.suppressConnectionDialog}var mz=new bQ(mw,mv,mu,ms,mt);mz.set_useGlobalConnectionErrorHandling(!mx);var mA=mz;bX.SendCommand(mA);return mr.promise()}},dispose:function(){this.$0.dispose()},registerNotificationHandler:function(e,ex){var mo=Y.get_instance();var mp=mo.registerNotificationHandler(e,function(mr,ms){ex(mr)});var mq=function(){mo.unRegisterNotificationHandler(e,mp)};this.$0.add(mq);return mq},getUIBlockingType:function(e,ex){return'immediately'}},null,[ss.IDisposable]);ss.initClass(cW,a,{getUIBlockingType:function(e,ex){var mo=e+':'+ex;return(ss.contains(this.$1,mo)?'none':'immediately')}},ig,[ss.IDisposable]);ss.initClass(cX,a,{});ss.initInterface(gu,a,{add_stopNotifying:null,remove_stopNotifying:null},[gz]);ss.initClass(cY,a,{add_stopNotifying:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_stopNotifying:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateGridDialogInfo:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateGridDialogInfo:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:dashboard-grid-dialog-event'},get_dashboardGridDialogPresModel:function(){return this.pm},get_gridSize:function(){return this.get_dashboardGridDialogPresModel().dashboardGridSize},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$2,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}},hv,[gz,gu]);ss.initClass(cZ,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_activeZoneNameChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_activeZoneNameChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_gridOverlayModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_gridOverlayModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_gridSizeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_gridSizeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_readyZoneChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_readyZoneChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_renderModeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_renderModeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_portSizeChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_portSizeChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_sizeChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_sizeChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_formatsChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_formatsChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_titleVisibilityChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_titleVisibilityChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},add_currentDeviceLayoutChanged:function(e){this.$2$13=ss.delegateCombine(this.$2$13,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$13=ss.delegateRemove(this.$2$13,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$14=ss.delegateCombine(this.$2$14,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$14=ss.delegateRemove(this.$2$14,e)},add_dashboardNameChanged:function(e){this.$2$15=ss.delegateCombine(this.$2$15,e)},remove_dashboardNameChanged:function(e){this.$2$15=ss.delegateRemove(this.$2$15,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.isStory){this.$j=this.$j||this.$2();return this.$j}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.userActions}return null},get_storyboardName:function(){if(ss.isNullOrUndefined(this.pm)){return new Object}return this.pm.sheetPath.storyboard},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.cssAttrs)){return this.pm.cssAttrs['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$l;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$l=e;return this.$l},get_gridMode:function(){if(ss.isValue(this.pm)){return this.pm.gridOverlayMode}return'gom-off'},get_gridSize:function(){if(ss.isValue(this.pm)){return this.pm.size}return 20},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetLayoutInfo)){return this.pm.sheetLayoutInfo.sheetName}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.sheetPath}return null},get_worksheetsOnDashboard:function(){var e={};var ex=this.get_zoneModels();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];if(mp.get_zoneType()==='viz'){e[mp.get_worksheetName()]=true}}return ss.arrayFromEnumerable(Object.keys(e))},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.invalidSheets}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&!e){return this.pm.activeZoneId}return 0},get_readyZoneID:function(){return this.$i},set_readyZoneID:function(e){if(e===this.$i){return}this.$i=e;if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(mo.get_zoneId()===this.get_activeZoneID()){return mo.get_visualModel()}}}return null},get_renderMode:function(){return Y.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.cssAttrs}return null},get_portSize:function(){return this.$h},set_portSize:function(e){if(_.isEqual(this.$h,e)){return}this.$h=e;if(!ss.staticEquals(this.$2$9,null)){this.$2$9()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.viewportSize:null)},get_dashboardSizeControlModel:function(){return this.$f},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetPath)){return this.pm.sheetPath.isDashboard}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(ex){return ex.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_autoGeneratedDeviceLayouts:function(){if(ss.isNullOrUndefined(this.pm)){return[]}return this.pm.autogeneratedDeviceLayouts},get_deviceLayouts:function(){if(ss.isNullOrUndefined(this.pm)){return[]}return this.pm.dashboardDeviceLayouts},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.dashboardDeviceLayout)==='undefined'){return'default'}return this.pm.dashboardDeviceLayout},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.hasTitle},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(mo.get_zoneType()==='flipboard-nav'){return mo.get_model()}}return null},get_hasDescription:function(){if(ss.isNullOrUndefined(this.get_flipboard())){return false}var e=_.filter(this.get_zoneModels(),function(ex){return ss.equalsT(ex.get_contentType(),'dashboardText'.toString())});return ss.isValue(e)&&e.length>0},getViewId:function(e){if(!ss.keyExists(this.pm.viewIds,e)){return null}return this.pm.viewIds[e]},getViewSession:function(e){return this.$k[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.invalidSheets)&&(e.get_zoneCommonModel().get_zoneType()!=='viz'||!_.any(this.pm.invalidSheets,function(ex){return ss.referenceEquals(ex.worksheet,e.get_worksheetName())}))},isStory:function(){return this.pm.isStory},getMutableCopyOfPresModel:function(){var e=this.pm.zones;delete this.pm['zones'.toString()];var ex=hv.prototype.getMutableCopyOfPresModel.call(this);ex.dashboardDeviceLayouts=this.pm.dashboardDeviceLayouts;this.pm.zones=e;return ex},update:function(e,ex){if(ss.isValue(this.$g)&&this.$g!==this.get_renderMode()){this.raiseEvent(this.$2$8,ex)}this.$g=this.get_renderMode();this.$a(e);this.$j=null;if(ss.isValue(e.zones)){this.zonesModel.update(e.zones,ex);if(!this.zonesModel.hasZone(this.get_readyZoneID())){this.set_readyZoneID(0)}}if(ss.isValue(e.hasSelection)){}if(ss.isValue(e.autoUpdate)){this.autoUpdate=e.autoUpdate}this.$d(e,ex.dialogProvider);if(!(typeof(e.modifiedSheets)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.modifiedSheets,this.pm.modifiedSheets))){this.raiseEvent(cZ.$0,ex)}if(ss.isValue(e.sheetList)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new kh(this)}this.sheetListModel.update(e.sheetList,ex)}if(ss.isValue(e.dashboardZoneHierarchy)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new gZ(this)}this.layoutTreeModel.update(e.dashboardZoneHierarchy,ex)}if(ss.isValue(this.pm)){if(ss.isValue(e.cssAttrs)&&!_.isEqual(e.cssAttrs,this.pm.cssAttrs)){this.raiseEvent(this.$2$11,ex)}}if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.sheetLayoutInfo)&&!ss.referenceEquals(e.sheetLayoutInfo.sheetName,this.get_sheetName())){this.raiseEvent(this.$2$15,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.hasTitle!==e.hasTitle){this.raiseEvent(this.$2$12,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.gridOverlayMode!==e.gridOverlayMode){this.raiseEvent(this.$2$5,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.size!==e.size){this.raiseEvent(this.$2$6,ex)}if(!ss.isValue(this.emptyShowMeModel)){this.emptyShowMeModel=new cl(this)}if(ss.isValue(e.showMeCommands)){this.emptyShowMeModel.update(e.showMeCommands,ex)}this.$8(e,ex);this.$9(e,ex);this.$6(e,ex);this.$7(e,ex);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex);this.$b(ex)},$a:function(e){e.isStory=e.isStory||false;e.hasTitle=e.hasTitle||false;e.gridOverlayMode=e.gridOverlayMode||'gom-off';e.size=e.size||20},$d:function(e,ex){if(ss.isValue(e.viewIds)){var mo=_.keys(e.viewIds);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];var mr=e.viewIds[mq];var ms=this.$k[mq];if(ss.isNullOrUndefined(ms)){ms=new ls(bX.get().legacySession.get_urlRoot(),mq,mr,ex);this.$k[mq]=ms}ms.set_viewId(mr)}var mt=_.keys(this.$k);var mu=_.difference(mt,_.keys(e.viewIds));for(var mv=0;mv<mu.length;mv++){var mw=mu[mv];delete this.$k[mw]}}},$8:function(e,ex){if(ss.isValue(e.dashboardSizeControl)){if(ss.isNullOrUndefined(this.$f)){this.$f=new dj(this)}this.$f.update(e.dashboardSizeControl,ex)}if(ss.isNullOrUndefined(this.$h)){this.set_portSize(e.viewportSize)}if(ss.isValue(this.pm)){if(ss.isValue(e.viewportSize)&&!_.isEqual(e.viewportSize,this.pm.viewportSize)){this.raiseEvent(this.$2$10,ex)}}},$9:function(e,ex){e.dashboardDeviceLayout=ss.coalesce(e.dashboardDeviceLayout,'default');if(ss.isNullOrUndefined(this.pm)||this.pm.dashboardDeviceLayout!==e.dashboardDeviceLayout){this.raiseEvent(this.$2$13,ex);this.raiseEvent(this.$2$3,ex)}if(ss.isNullOrUndefined(e.dashboardDeviceLayouts)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.dashboardDeviceLayouts,e.dashboardDeviceLayouts)){this.raiseEvent(this.$2$14,ex)}},$6:function(e,ex){if(ss.isValue(e.activeZoneId)){if(ss.isNullOrUndefined(this.pm)||this.pm.activeZoneId!==e.activeZoneId){this.$c(e.activeZoneId);this.raiseEvent(this.$2$3,ex)}}},$7:function(e,ex){if(this.$5(e.activeZoneId)){this.$c(e.activeZoneId);this.raiseEvent(this.$2$4,ex)}},$b:function(e){if(!Y.get_instance().get_isLocalRenderMode()){return}var ex=hy.getVisualModelsFromDashboard(this);var mo=_.keys(ex);var mp=_.any(mo,ss.mkdel(this,function(mw){var mx=ex[mw];return this.$4(mx)||this.$3(mx)}));if(mp){for(var mq=0;mq<mo.length;mq++){var mr=mo[mq];ex[mr].setIsBrushedFromAction(true,e)}}else{var ms=cZ.$1(mo,ex);for(var mt=0;mt<mo.length;mt++){var mu=mo[mt];var mv=ms.has(mu);ex[mu].setIsBrushedFromAction(mv,e)}}},$4:function(e){var ex=hy.getModelsForViz(bK).call(null,this.get_contentDashboard(),e);return _.any(ex,function(mo){if(!mo.get_isHighlightEnabled()){return false}var mp=e.get_selectionsModel().getLegendSelection(mo.get_legendTypeEnum(),mo.get_legendNames());return!mp.isEmpty})},$3:function(e){var ex=hy.getModelsForViz(dz).call(null,this.get_contentDashboard(),e);return _.any(ex,function(mo){var mp=e.get_selectionsModel().getLegendSelection('highlight',[mo.get_fieldName()]);return!mp.isEmpty})},$5:function(e){var ex=this.getZone(e);return!ss.isNullOrUndefined(ex)&&!ss.referenceEquals(ex.get_zoneDescription(),this.$e)},$2:function(){if(!this.pm.isStory){return null}var e=null;var ex=this.zonesModel.get_zoneModels();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];if(ss.isInstanceOfType(mp.get_model(),fd)){e=mp.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bU.fromColorCode(this.get_backgroundColor());e=e||bU.white;var ex=e.isLuminanceAboveThreshold(0.314999997615814);var mo=(ex?0.0199999995529652:0.0299999993294477);var mp=(ex?new bU(0,0,0,mo):new bU(255,255,255,mo));var mq=mp.toRgba();return mq},$c:function(e){var ex=this.getZone(e);if(ss.isNullOrUndefined(ex)){this.$e=''}else{this.$e=ex.get_zoneDescription()}}},hv);ss.initClass(da,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},hv);ss.initClass(db,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'dashboard-set-grid-size'},this.c))}},ss.makeGenericType(bd,[Object,dc]));ss.initClass(dc,a,{});ss.initClass(dd,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'dashboard-show-grid'},this.c))}},ss.makeGenericType(bd,[Object,de]));ss.initClass(de,a,{});ss.initClass(df,a,{},ss.makeGenericType(lJ,[Object,dg]));ss.initClass(dg,a,{});ss.initClass(dh,a,{do$1:function(){if(ss.keyExists(this.c,'dashboardShowGrid')){var e=/^\s*true\s*$/i.test(this.c['dashboardShowGrid'].toString());cX.showGridOnDashboard(e)}}},df);ss.initClass(di,a,{});ss.initClass(dj,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.minSize},get_maxDimension:function(){return this.pm.maxSize},get_stepSize:function(){return this.pm.stepSize},get_sizeModeOptions:function(){return this.pm.sizeModeOptions||[]},update:function(e,ex){if(ss.isValue(e.dashboardSizePresModel)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new dk(this)}this.dashboardSizeModel.update(e.dashboardSizePresModel,ex)}if(ss.isValue(e.deviceLayoutInfoItem)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new dN(this)}this.layoutInfoModel.update(e.deviceLayoutInfoItem,ex)}this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(dk,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.summaryText},get_sizeMode:function(){if(this.pm.dashboardSizingMode!=='unspecified'){return this.pm.dashboardSizingMode}switch(this.pm.sizeMode){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.w},get_currentMinWidth:function(){return this.pm.minWidth},get_currentMaxWidth:function(){return this.pm.maxWidth},get_currentHeight:function(){return this.pm.h},get_currentMinHeight:function(){return this.pm.minHeight},get_currentMaxHeight:function(){return this.pm.maxHeight},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(dl,a,{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_recipientsChanged:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_recipientsChanged:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_recipients:function(){return this.$1$6},set_recipients:function(e){this.$1$6=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$3},set_notificationIntervalInMinutes:function(e){if(this.$3!==e){this.$3=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$5},set_title:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_deviceType:function(){return this.$1$7},set_deviceType:function(e){this.$1$7=e},get_isViewSaveNeeded:function(){return this.$1$8},set_isViewSaveNeeded:function(e){this.$1$8=e},get_customizedViewId:function(){return this.$1$9},set_customizedViewId:function(e){this.$1$9=e},get_selectionCaption:function(){return this.$1$10},set_selectionCaption:function(e){this.$1$10=e},get_measurePresModel:function(){return this.$2},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$1.dataAlertConditionOp},get_threshold:function(){return this.$4},set_threshold:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().dataType)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$11},set_thresholdIsValid:function(e){this.$1$11=e},get_alertConditionMet:function(){return this.$1$12},set_alertConditionMet:function(e){this.$1$12=e},get_viewType:function(){return this.$1$13},set_viewType:function(e){this.$1$13=e},$0:function(e){return this.get_conditionPresModel().dataType==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().dataType==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}else if(ss.isNullOrUndefined(Y.get_instance().get_appPresModel())||ss.isNullOrUndefined(Y.get_instance().get_appPresModel().numberFormats)){return this.$0(e)}else{var ex=Y.get_instance().get_appPresModel().numberFormats;return this.$0(tableau.format.reformatNumberToJsFormat(e,ex))}},updateRecipients:function(e){this.set_recipients(e);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}});dl.$ctor2.prototype=dl.$ctor1.prototype=dl.prototype;ss.initClass(dm,a,{});ss.initClass(dn,a,{});ss.initClass(dp,a,{add_stopNotifying:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_stopNotifying:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_showOrUpdateDialog:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_showOrUpdateDialog:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:data-alert-dialog-event'},get_operation:function(){return this.pm.dataAlertConditionOp},get_thresholdText:function(){return this.pm.dataAlertThresholdText},onNotify:function(e,ex){if(ss.isValue(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},hv,[gz,gu]);ss.initClass(dq,a,{});ss.initClass(dr,a,{});ss.initClass(ds,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().connectionName||''},get_promptTitle:function(){return this.$1().dialogTitle||''},get_variableListInstruction:function(){return this.$1().valuesTableHeader||''},get_variableListNameLabel:function(){return this.$1().listViewNameLabel||''},get_variableListValueLabel:function(){return this.$1().listViewValueLabel||''},get_addVariableLabel:function(){return this.$1().addVariableLabel||''},get_addVariableTooltip:function(){return this.$1().addVariableTooltip||''},get_deleteVariableTooltip:function(){return this.$1().deleteVariableTooltip||''},get_requiredVariableMessage:function(){return this.$1().requiredVariableMessage||''},get_editSectionTitle:function(){return this.$1().editWidgetHeader||''},get_editSectionInstruction:function(){return this.$1().editWidgetInstruction||''},get_editSectionFromLabel:function(){return this.$1().fromLabel||''},get_editSectionToLabel:function(){return this.$1().toLabel||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().promptVariables)){this.$2=[];for(var ex=0;ex<this.$1().promptVariables.length;ex++){var mo=new dv(new du(this),ex);mo.update(this.$1().promptVariables[ex]);this.$2.push(mo)}}}},hv);ss.initClass(dt,a,{});ss.initClass(du,a,{},hv);ss.initClass(dv,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1().variableDisplayName},get_description:function(){return this.$1().variableDescription},get_guid:function(){return this.$1().variableGuid},get_isRequired:function(){return this.$1().isRequired},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().supportsMultipleValues},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().serverVariableMetadata.variableValueOperations},get_selectableValues:function(){return this.$1().serverVariableMetadata.selectionValueList},update:function(e){this.swapAndCopyPresModel(e);this.$2=new dx(null,-1);this.$2.update(this.$1().serverVariableMetadata.variableValue);if(ss.isValue(this.$1().variableValues)){this.$3=[];for(var ex=0;ex<this.$1().variableValues.length;ex++){var mo=new dx(new dw(this),ex);mo.update(this.$1().variableValues[ex]);this.$3.push(mo)}}}},hv);ss.initClass(dw,a,{},hv);ss.initClass(dx,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().displayValue},get_valueIndex:function(){return this.$1().valueIndex},get_operation:function(){return this.$1().serverVariableValue.variableValueOperation},set_operation:function(e){this.$1().serverVariableValue.variableValueOperation=e},get_firstValue:function(){return this.$1().serverVariableValue.firstValue},get_firstValueIndex:function(){return this.$1().serverVariableValue.firstValueIndex},get_secondValue:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValue:null)},get_secondValueIndex:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValueIndex:-1)},update:function(e){this.swapAndCopyPresModel(e)}},hv);ss.initClass(dy,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty$2(this.$1())||tab.MiscUtil.isNullOrEmpty$2(this.$1().dataSegments)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var ex=e.dataSegments;if(ss.isValue(ex)){var mo=this.$1().dataSegments;if(ss.isValue(mo)){var mp=new ss.ObjectEnumerator(mo);try{while(mp.moveNext()){var mq=mp.current();if(!ss.keyExists(ex,mq.key)){ex[mq.key]=mq.value}}}finally{mp.dispose()}}var mr=new ss.ObjectEnumerator(ex);try{while(mr.moveNext()){var ms=mr.current();if(ms.value===null){delete ex[ms.key]}}}finally{mr.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,ex){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().dataSegments)){return null}if(ss.isNullOrUndefined(this.$2)){var mo=0;var mp=ss.getEnumerator(Object.keys(this.$1().dataSegments));try{while(mp.moveNext()){var mq=mp.current();var mr=parseInt(mq);mo=Math.max(mr,mo)}}finally{mp.dispose()}this.$2=mo+1}for(var ms=0;ss.Nullable$1.lt(ms,this.$2);ms++){var mt=this.$1().dataSegments[ms.toString()];if(ss.isNullOrUndefined(mt)||ss.isNullOrUndefined(mt.dataColumns)){continue}for(var mu=0;mu<mt.dataColumns.length;mu++){var mv=mt.dataColumns[mu];if(ss.isNullOrUndefined(mv)||mv.dataType!==e){continue}if(ex<mv.dataValues.length){return mv.dataValues[ex]}ex-=mv.dataValues.length;break}}return null}},hv);ss.initClass(dz,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().fn},get_searchPlaceholderString:function(){return this.$2().searchPlaceholder},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().dataHighlighterItemSet},get_searchText:function(){return this.$2().queryText},get_maxNumberListItems:function(){return this.$2().maxNumberWebListItems},get_isActive:function(){return this.$2().isActive},get_bodyTextStyle:function(){return this.$2().textStyle},get_numHighlighted:function(){return this.$2().numHighlighted},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_zoneCommonModel().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_zoneCommonModel().get_width()},update:function(e,ex){if(ss.isValue(e)){fl.notifyFontsFromTextStylePresModel(e.textStyle)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,ex)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().dataHighlighterItems;for(var ex=0;ex<e.length;ex++){var mo=e[ex];this.$3[mo.objectId]=mo.text}}},hv,[gp]);ss.initClass(dA,a,{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(this.$4))},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(this.get_activeDataSourceName()))},get_dataSchemaPresModel:function(){return this.pm},get_activeDataSourceName:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().datasource)){return this.get_dataSchemaPresModel().datasource}return''},get_dataSources:function(){return this.$1},get_dataSourcesList:function(){return(ss.isNullOrUndefined(this.get_dataSources())?[]:this.get_dataSources().get_dataSources())},get_hasDataSourcesModel:function(){return ss.isValue(this.get_dataSources())},get_currentBlendingFields:function(){return this.$3},get_blendingFieldCandidates:function(){return this.$2},notifyNewDataSourceAdded:function(e,ex){this.raiseEvent$1(String).call(this,this.$2$3,ex,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var ex=null;if(ss.isValue(this.get_dataSchemaPresModel().worksheetDataSchemaMap)&&ss.keyExists(this.get_dataSchemaPresModel().worksheetDataSchemaMap,e)){ex=this.get_dataSchemaPresModel().worksheetDataSchemaMap[e].primaryDatasource}if(ss.isNullOrEmptyString(ex)){return _.chain(this.$1.get_dataSources()).filter(ss.mkdel(this,function(mo){return!ss.referenceEquals(mo.get_name(),this.get_dataSchemaPresModel().parametersDatasource)})).first().value()}return this.$1.getDataSource(ex)},getDefaultDatasourceNamesForSheets:function(e){var ex={};for(var mo=0;mo<e.length;mo++){var mp=e[mo];var mq=this.getDefaultDataSourceForSheet(mp);if(ss.isValue(mq)){ex[mq.get_name()]=true}}return ss.arrayFromEnumerable(Object.keys(ex))},getDataSourceCount:function(e){var ex=0;if(ss.isValue(this.get_dataSources())&&ss.isValue(this.get_dataSources().get_dataSources())){ex=this.get_dataSources().get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){ex--}}return ex},findField:function(e){var ex=this.findDataSourceFromGlobalFieldName(e);return(ss.isNullOrUndefined(ex)?null:ex.findField(e))},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(e))},findConnectionSummaryByName:function(e){if(ss.isNullOrUndefined(this.get_dataSources())||ss.isNullOrUndefined(this.get_dataSources().get_dataSources())){return null}var ex=this.get_dataSources().get_dataSources();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=mp.findConnectionSummaryPresModel(e);if(ss.isValue(mq)){return mq}}return null},findDataSourceFromGlobalFieldName:function(e){var ex=dE.splitGlobalFieldName(e);if(ex.length<=1){return null}var mo=ex[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(mo)},raiseNewActiveDataSourceEvent:function(e){this.raiseEvent(this.$2$1,e)},raiseNewDataSchemaEvent:function(e){this.raiseEvent(this.$2$2,e)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var mo=(ss.isValue(e.currentBlendingFields)?e.currentBlendingFields:[]);var mp=(ss.isValue(e.blendingFieldCandidates)?e.blendingFieldCandidates:[]);this.$3=ss.arrayClone(mo);this.$2=ss.arrayClone(mp);if(ss.isValue(e.parametersDatasource)){this.$4=e.parametersDatasource}var mq=this.getDataSourceCount(true);if(ss.isValue(e.schemaViewerDataSources)){this.$1=this.$1||new dF(this);this.$1.update(e.schemaViewerDataSources,ex)}if(this.getDataSourceCount(true)>mq){this.notifyNewDataSourceAdded(ex,'')}if(ss.isValue(this.pm)){var mr=this.pm.worksheetDataSchemaMap;var ms=e.worksheetDataSchemaMap;hy.mergeMapPresModelDelta(mr,ms)}if(!ss.referenceEquals(e.datasource,this.get_activeDataSourceName())){this.raiseNewActiveDataSourceEvent(ex)}this.swapAndCopyPresModel(e);this.raiseNewDataSchemaEvent(ex)},getDataSource:function(e){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(e))}},hv);ss.initClass(dB,a,{add_selectionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'doc:data-schema-selection-event'},$2:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var mo=0;mo<e.fieldVector.length;mo++){var mp=e.fieldVector[mo];ex.push(mp)}return ex},onNotify:function(e,ex){this.swapPresModel(e);this.$1()},$1:function(){if(!ss.isValue(this.$2$1)){return}var e=null;e=ss.mkdel(this,function(){this.$2$1(this.$2());bX.get().remove_commandQueueComplete(e)});bX.get().add_commandQueueComplete(e)}},hv,[gz]);ss.initClass(dC,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:update-data-source-data-event'},onNotify:function(e,ex){this.onNotify$1(e,ex)},onNotify$1:function(e,ex){if(ss.isValue(e)){this.update(e,ex)}},detachNotifications:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},getColumnByName:function(e){if(ss.isValue(this.columnInfoLookup)){return this.columnInfoLookup[e]}return null},clearModel:function(){this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new dy(this)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}this.pm=e;this.numRows=e.numRows;this.isEmpty=e.isEmpty;this.isExtract=e.isExtract;this.dataDictionaryModel.update(e.dataDictionary);this.columnInfoLookup={};for(var mo=0;mo<e.columnInfos.length;mo++){var mp=e.columnInfos[mo];var mq=new em(null);mq.update(mp);var mr=mq.get_fieldName();this.columnInfoLookup[mr]=mq}this.raiseEvent(this.$2$1,ex)}},hv,[gz,gu]);ss.initEnum(dD,a,{dimensions:0,measure:1,groups:2,parameters:3,containers:4,topLevelDimensions:5,topLevelMeasures:6});ss.initClass(dE,a,{add_captionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_captionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sortOrderChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sortOrderChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_name:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.datasource)){return''}return this.pm.datasource},get_caption:function(){return this.pm.datasourceCaption},get_connectionsTypeSummary:function(){var e='';if(ss.isValue(this.pm)&&ss.isValue(this.pm.connectionSummaries)){var ex=true;for(var mo=0;mo<this.pm.connectionSummaries.length;mo++){var mp=this.pm.connectionSummaries[mo];var mq=(ex?'':', ');var mr=mp.connectionName.toString().split(String.fromCharCode(46))[0];e=e+mq+mr;ex=false}}return e},get_rootFieldsNew:function(){return this.baseColumnsModel.rootFieldsNew},get_dataSourceLayoutPresModel:function(){return this.pm.dataSourceLayout},get_isHierarchical:function(){return this.pm.isDsHierarchical},get_isParametersDataSource:function(){return ss.equals(this,Y.get_instance().get_workbook().get_dataSchema().get_parametersDataSource())},get_fieldOrderType:function(){return(ss.isValue(this.pm)?this.pm.fieldOrderType:'datasource-order')},get_fieldSortOrder:function(){return ss.isValue(this.pm)&&this.pm.fieldSortOrder},get_isDataTabViewSupported:function(){return this.pm.isWebDataTabViewSupported},get_shouldShowDataSourceConnectionError:function(){return this.pm.shouldShowDataSourceConnectionError},get_shouldShowInSchemaViewer:function(){return this.pm.canBeAddedToSchemaViewer},get_canAnalyzeData:function(){return ss.isValue(this.pm)&&this.pm.canAnalyzeData},get_canUseMultipleHierarchies:function(){return ss.isValue(this.pm)&&this.pm.canUseMultipleHierarchies},get_measuresHeaderName:function(){return((ss.isValue(this.pm)||ss.isNullOrUndefined(this.pm.measuresHeaderName))?tab.Strings.AuthSchemaViewerHeaderMeaures:this.pm.measuresHeaderName.toString())},get_specifiedWidth:function(){return this.$2$4},set_specifiedWidth:function(e){this.$2$4=e},getCustomOrders:function(){return this.pm.customFieldOrder},getFilteredFields:function(e){var ex=[];var mo=this.baseColumnsModel.get_allFields();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];if(e(mq)){ex.push(mq)}}return ex},findField:function(e){var ex=this.baseColumnsModel.findField(e);if(ss.isValue(ex)){return ex}return(ss.isValue(this.$5)?this.$5.findField(e):null)},findDrillPath:function(e){return this.baseColumnsModel.findDrillPath(e)},findFolderNew:function(e){return this.baseColumnsModel.findFolderNew(e)},findRelationalTable:function(e){return this.baseColumnsModel.findRelationalTable(e)},findCubeFolder:function(e){return this.baseColumnsModel.findCubeFolder(e)},findConnectionSummaryPresModel:function(e){return _.find(this.pm.connectionSummaries,function(ex){return ss.referenceEquals(ex.connectionName,e)})},$3:function(e){this.raiseEvent(this.$2$1,e)},$2:function(e){this.raiseEvent(this.$2$2,e)},$4:function(e){this.raiseEvent(this.$2$3,e)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.datasourceCaption,e.datasourceCaption)){this.$3(ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.canAnalyzeData!==e.canAnalyzeData){this.$2(ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.fieldOrderType!==e.fieldOrderType||this.pm.fieldSortOrder!==e.fieldSortOrder){this.$4(ex)}var mo=this.$1();var mp=false;dE.$1(e,mo,function(){mp=true});if(mp){this.baseColumnsModel.update$1(mo,ex)}if(ss.isValue(e.columnList)){this.$5=this.$5||new eR('columnList',this);this.$5.update(e.columnList,ex)}this.swapAndCopyPresModel(e)},$1:function(){var e={};e[0]=[];e[1]=[];e[2]=[];e[3]=[];e[4]=[];e[5]=[];e[6]=[];return e}},hv);ss.initClass(dF,a,{get_dataSources:function(){return _.values(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,ex){var mo=_.keys(e);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];var mr=e[mq];if(mr===null){delete this.$1[mq]}else{var ms=this.$1[mq];if(ss.isNullOrUndefined(ms)){ms=new dE(this,mq);this.$1[mq]=ms}ms.update(mr,ex)}}if(ss.isValue(this.pm)){hy.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},hv);ss.initClass(dG,a,{});ss.initInterface(gq,a,{dispatch:null});ss.initClass(dH,a,{dispatch:function(e,ex){return function(mo){var mp=$.Deferred();var mq=function(mt){mp.resolve(new ex(mt))};var mr=function(mt){mp.reject(mt)};var ms=new bQ(mo.get_uiBlocking(),mo.get_localWork(),mo.get_remoteCommand(),mq,mr);ms.set_useGlobalConnectionErrorHandling(!mo.get_suppressConnectionDialog());ms.set_commandWaiter(mo.get_commandWaiter());bX.SendCommand(ms);return mp.promise()}}},null,[gq]);ss.initInterface(gI,a,{handleCommandFailure:null});ss.initClass(dI,a,{checkForErrorDialogFailure:function(e){var ex=false;if(ss.isNullOrUndefined(e)){return false}if(ss.referenceEquals(e.commandName,{ns:'tabdoc',cmd:'show-detailed-error-dialog'}.cmd)){ex=true}return ex},handleCommandFailure:function(e,ex,mo,mp){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var mq=this.checkForErrorDialogFailure(mo);if(mq){this.handleErrorDialogFailure(mo);return true}if(ex.status===410||ex.status===404){this.handleSessionExpiration(false)}else if(ex.status===403){}else if(ex.status===401){this.handleAuthenticationFailure()}else if(ex.status===502||ex.status===503){this.handleSessionKilled(null)}else if(ex.status===413){this.handleSessionResourceLimitExceeded()}else if(ex.status===408){this.handleSessionTimeoutLimitExceeded()}else if(ex.status===429){this.handleTooManyRequests()}else if(ex.status===0){this.$4(e,ex)}else if(ss.isNullOrUndefined(mp)||!mp){this.$1(ex,e)}return true},$4:function(e,ex){var mo;if(!tab.MiscUtil.isNullOrEmpty$3(ex.responseText)){var mp=new ss.StringBuilder;mp.append('XHR Response Status: 0\nReadyState:');mp.append(ex.readyState);mp.append('\nHeaders:\n');mp.append(ex.getAllResponseHeaders());mp.append('\nResponse:\n');mp.append(ex.responseText);mo=ss.mkdel(this,function(){this.$5.ShowErrorDialog(mp.toString(),tab.Strings.RequestAbortedByBrowser,null)})}else{mo=ss.mkdel(this,function(){this.$1(ex,e)})}window.setTimeout(mo,5000)},handleSessionExpiration:function(e){var ex=lF.createForCurrentWindowLocation(null);if(e&&ex.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.reloadPage(e)},handleAuthenticationFailure:function(){this.reloadPage(false)},$2:function(e,ex){var mo=ss.replaceAllString(be.getErrorMessageFromStringOrException(ex),'XMLHttpTransport.watchInFlight Error: ','');mo=ss.replaceAllString(mo,'XMLHttpTransport Error: ','');if(e.status<400){mo=tab.Strings.BrowserErrorProcessingMessage+'<br>'+mo}else if(e.status===400){mo=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var mp=e.responseText;try{mp=mp.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');mp='<ul><li>'+mp+'</ul>'}catch(mq){mp=eH.stripOutMarkup(mp)}if(ss.isNullOrEmptyString(mp)){mo=tab.Strings.ServerErrorGeneral(e.status)+'<br>'}else{mo=mp}}return mo},$3:function(e){var ex=tab.Strings.ServerErrorUnexpected;if(e.status<400){ex=tab.Strings.BrowserErrorProcessing}else if(e.status===400){ex=tab.Strings.ServerErrorRejected}return ex},handleErrorDialogFailure:function(e){var ex=e.commandParams['errorDialogTitle'];var mo=e.commandParams['errorShortMessage'];var mp=e.commandParams['errorDetails'];if(ss.isValue(mp)){mo=((mp.length>0)?(mo+'<br/>'+mp.join('<br/>')):mo)}this.$5.ShowLocalErrorDialog(mo,ex,null)},$1:function(e,ex){var mo=this.$3(e);var mp=this.$2(e,ex);this.$5.ShowErrorDialog(mp,mo,null)},$0:function(e,ex,mo){e=ss.coalesce(e,'').trim();e=eH.stripOutMarkup(e);var mp=new tab.NonApiCommand('tableau.completed',[]);tabBootstrap.Utility.doPostMessage(mp.serialize());var mq=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){mq+='<br/><br/>'}mq+=mo;var mr=ss.mkdel(this,function(){this.requestSetIgnore();document.body.style.cursor='wait';this.reloadPage(false)});this.$5.showConfirmationDialog(mq,ex,true,mr,null)},reloadPage:function(e){document.body.style.cursor='wait';var ex=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var mo=lF.createForCurrentWindowLocationAndVizState(ex,tsConfig.current_sheet_name);mo.set_retry(e);mo.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;mo.fullPageLoad(null)},handleSessionForbiddenAction:function(e,ex){var mo=tab.Strings.SessionForbiddenActionTitle;var mp=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 20:case 22:case 60011:{mp=ex;break}}this.$5.ShowErrorDialog(mp,mo,null)},handleSessionResourceLimitExceeded:function(){var e='Computing the current visualization has exceeded the resource limit.';e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex='Resource Limit Exceeded';this.$5.ShowErrorDialog(e,ex,null)},handleSessionTimeoutLimitExceeded:function(){if(dI.$2){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex=tab.Strings.TimeLimitExceededTitle;dI.$2=true;this.$5.ShowErrorDialog(e,ex,null)},handleTooManyRequests:function(){var e=tab.Strings.RequestCountExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex=tab.Strings.RequestCountExceededTitle;this.$5.ShowErrorDialog(e,ex,null)},handleSessionKilled:function(e){this.$0(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$0(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},requestSetIgnore:function(){dI.$1(this.$6)}},null,[gI]);ss.initClass(dJ,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(dK,a,{handle:function(e,ex){if(!this.$7||ss.isValue(ex)&&!ex.get_useGlobalConnectionErrorHandling()){return false}if(ss.isNullOrUndefined(e)){return false}var mo=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(e.get_message());if(ss.isNullOrUndefined(mo)){return false}var mp=e['status'];if(ss.isNullOrUndefined(mp)){return false}if(!dK.shouldHandleWithGivenStatus(mp)){return false}this.$0(ex,mo,null,false);return true},$1:function(e,ex,mo){if(!this.$7){return}if(mo){e=dK.constructEnsureLayoutForSheetCommand()}if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.dataSourceConnectionAttemptInfos)||ex.dataSourceConnectionAttemptInfos.length===0){return}var mp=this.getFirstDataSource(ex);var mq=new tab.DataSourceConnectionAttemptErrorResponse;mq.ErrorType=mp.exceptionType;mq.ErrorMessage=mp.exceptionMessage;mq.DataSourceCaption=mp.datasourceCaption;mq.ConnectionName=dt.connectionNameFromFullConnectionName(mp.connectionFullName);mq.ConnectionClass=((ss.isValue(mp.exceptionAttrs)&&ss.keyExists(mp.exceptionAttrs,'class'))?mp.exceptionAttrs['class']:null);var mr=mq;if(dK.isBadPasswordError(mp.exceptionType)){var ms=dK.$0(mp);mr.RedirectUrl=ms}else{mr.ErrorMessage=mp.exceptionMessage}if(this.$4(e,mr,ex)){return}var mt=!mp.triedToConnect;this.$0(e,mr,ex,mt)},handlePotentialDataSourceException:function(e,ex,mo){if(!this.$7||ss.isValue(e)&&!e.get_useGlobalConnectionErrorHandling()){return}if(!ss.isNullOrUndefined(ex)){this.$1(e,ex.connectionAttemptInfo,mo)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$7){return}if(!ss.isNullOrUndefined(e)){this.$1(null,e.connectionAttemptInfo,true)}},getFirstDataSource:function(e){return(ss.isValue(e)?e.dataSourceConnectionAttemptInfos[0]:null)},$0:function(e,ex,mo,mp){if(dK.isBadOAuthCredentialsError(ex.ErrorType)){tab.WindowHelper.locationReplace(window.self,ex.RedirectUrl);return}if(!ss.isNullOrEmptyString(ex.RedirectUrl)){var mq=(mp?'&skippopup=1':'');ex.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',ex.RedirectUrl,mq,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var mr=function(){e.clearCommandResults();bX.SendCommand(e)};var ms=ss.mkdel(e,e.triggerCallbacks);var mt=ss.isValue(e.get_commandName())&&ss.equalsT(e.get_commandName(),{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd);var mu=ss.isValue(e.get_commandName())&&ss.equalsT(e.get_commandName(),{ns:'tabdoc',cmd:'change-workbook-ui-mode'}.cmd);var mv=dK.isBadPasswordError(ex.ErrorType);if(mt){this.$2(ex,mo,mv,mr)}else{this.$3(ex,mo,mv,mu,mr,ms)}},$2:function(e,ex,mo,mp){var mq=this.getFirstDataSource(ex);var mr=ss.mkdel(this,function(){this.$6.showSheetAuthenticationOverlay(e,ex,mp)});if(mo){if(mq.triedToConnect){if(!kM.useTabbedAuthDialog(ex)){this.$6.showConnectionSignInDialog(ex,false).done([mp]).fail([mr])}else{var ms=this.$6.showConnectionSignInDialog(ex,false);var mt=function(mv,mw){ms.resolve()};var mu=function(mv,mw){ms.reject()};Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',mu);Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',mt);ms.done([mp]).fail([mr])}}else{mr()}}else{dK.$2(mq).done(ss.mkdel(this,function(mv){if(mv){this.$6.showEditConnectionInformationDialog(mq,false).done(ss.mkdel(this,function(mw){if(!mw){this.$6.showGenericDataSourceErrorOverlay(e,mq,mp)}}))}else{this.$6.showGenericDataSourceErrorOverlay(e,mq,mp)}}))}},$3:function(e,ex,mo,mp,mq,mr){var ms=this.getFirstDataSource(ex);if(mo&&!mp){if(!kM.useTabbedAuthDialog(ex)){this.$6.showConnectionSignInDialog(ex,mp).done([mq]).fail([mr])}else{var mt=this.$6.showConnectionSignInDialog(ex,false);var mu=function(mw,mx){mt.resolve()};var mv=function(mw,mx){mt.reject()};Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',mv);Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',mu);mt.done([mq])}}else{dK.$2(ms).done(ss.mkdel(this,function(mw){if(mw){if(kM.useTabbedAuthDialog(ex)){var mx=this.$6.showConnectionSignInDialog(ex,false);var my=function(mD,mE){mx.resolve()};var mz=function(mD,mE){mx.reject()};Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',mz);Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',my);mx.done([mq]).fail([mr])}else{this.$6.showEditConnectionInformationDialog(ms,mp).done(function(mD){mr()})}}else if(mo){if(!kM.useTabbedAuthDialog(ex)){this.$6.showConnectionSignInDialog(ex,mp).done([mq]).fail([mr])}else{var mA=this.$6.showConnectionSignInDialog(ex,false);var mB=function(mD,mE){mA.resolve()};var mC=function(mD,mE){mA.reject()};Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',mC);Y.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',mB);mA.done([mq]).fail([mr])}}else{this.$6.showGenericDataSourceErrorDialog(e,mq,mr)}}))}},$4:function(e,ex,mo){var mp=this.getFirstDataSource(mo);if(dK.$1()&&mp.connectionErrorType==='exception-while-connecting'&&ss.isValue(ex.ConnectionClass)){var mq=ex.ConnectionClass;if(!ss.contains(cr.get_getSupportedFileClasses(),mq)){return false}e.reEnqueueCompletedCommandRecords();var mr=function(){e.clearCommandResults();bX.SendCommand(e)};if(mp.connectionErrorStage==='create-protocol-failed'){if(this.$5(e,ex,mo,mq,mr)){return true}}if(mp.connectionErrorStage==='load-metadata-failed'&&Y.get_instance().get_workbook().get_uiMode()!=='data-tab'&&dt.isEditConnectionForFilesSupported(mq)){var ms=this.$6.showEditConnectionInformationDialog(mp,false);ms.done(ss.mkdel(this,function(mt){if(!mt){this.$0(e,ex,mo,!mp.triedToConnect)}}));return true}}return false},$5:function(e,ex,mo,mp,mq){var mr=this.getFirstDataSource(mo);var ms=dt.connectionNameFromFullConnectionName(mr.connectionFullName);if(mp==='excel'||mp==='excel-direct'){var mt='';if(ss.keyExists(mr.exceptionAttrs,'filename')){var mu=mr.exceptionAttrs['filename'];mt=dt.stripDirectoryFromPath(mu)}var mv=this.$6.showConnectionMissingFileDialog(mt,ms,'excel-direct');mv.done(ss.mkdel(this,function(my){if(!my){this.$0(e,ex,mo,!mr.triedToConnect)}else{mq()}}));return true}else if(mp==='textscan'){var mw='';if(ss.keyExists(mr.exceptionAttrs,'directory')){mw=mr.exceptionAttrs['directory']}var mx=this.$6.showConnectionMissingFileDialog(mw,ms,'textscan');mx.done(ss.mkdel(this,function(my){if(!my){this.$0(e,ex,mo,!mr.triedToConnect)}else{mq()}}));return true}return false}});ss.initClass(dL,a,{handleCommandFailure:function(e,ex,mo,mp){if(!this.$0){return false}if(!dK.shouldHandleWithGivenStatus(ex.status)){return false}var mq=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(ex.responseText);if(ss.isNullOrUndefined(mq)){return false}return true}},null,[gI]);ss.initInterface(gD,a,{processEvent:null});ss.initClass(dM,a,{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var ex=this.$0;this.$0=null;if(ss.isNullOrUndefined(ex)){return}for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];try{mp()}catch(mq){var e=ss.Exception.wrap(mq);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}},null,[gD,ss.IDisposable]);ss.initClass(dN,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.defaultWidth},get_defaultHeight:function(){return this.pm.defaultHeight},get_defaultMaxWidth:function(){return this.pm.maxWidth},get_defaultMaxHeight:function(){return this.pm.maxHeight},get_defaultMinWidth:function(){return this.pm.minWidth},get_defaultMinHeight:function(){return this.pm.minHeight},update:function(e,ex){if(ss.isValue(e.presetSizesList)){this.$1.length=0;for(var mo=0;mo<e.presetSizesList.sizeItems.length;mo++){var mp=new kv(this.$2,mo);mp.update(e.presetSizesList.sizeItems[mo],ex);this.$1.push(mp)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(dO,a,{});ss.initClass(dP,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().computeCompoundedRate},get_computeCompoundedRateState:function(){return this.$1().computeCompoundedRateState},update:function(e,ex){var mo=e;if(this.isNewPresModelSameAsOld(mo)){return}this.swapAndCopyPresModel(mo);this.get_referenceModel().update(mo.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}},le);ss.initClass(dQ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'display-data-alert'},this.c))}},ss.makeGenericType(bd,[Object,dR]));ss.initClass(dR,a,{});ss.initClass(dS,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabsrv',cmd:'double-click-region-no-return-server'},this.c))}},ss.makeGenericType(bd,[Object,dT]));ss.initClass(dT,a,{});ss.initClass(fm,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(fm.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var ex=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var mo=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(ex,mo,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(dU,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new dU;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=fr.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},fm);ss.initClass(dV,a,{});ss.initClass(dW,a,{},ss.makeGenericType(lJ,[Object,dX]));ss.initClass(dX,a,{});ss.initClass(dY,a,{do$1:function(){var e=ss.safeCast(this.c['targetVersion'],String);kZ.downloadWorkbook(null,e)}},dW);ss.initClass(dZ,a,{},ss.makeGenericType(lJ,[Object,ea]));ss.initClass(ea,a,{});ss.initInterface(gv,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(eb,a,{canExtractFont:function(e){return e.type==='draw-text-props'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e;var mo=ex.fontName;if(ss.isNullOrEmptyString(mo)){return null}var mp=[];var mq=new fm;mq.set_fontFamily(mo);mq.set_weight((ex.isBold?'bold':'normal'));mp.push(mq);return mp}},null,[gv]);ss.initClass(ec,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},eO);ss.initClass(ed,a,{});ss.initClass(ee,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'drop-on-dashboard'},this.c))}},ss.makeGenericType(bd,[Object,ef]));ss.initClass(ef,a,{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});ss.initClass(eg,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'drop-on-schema-drill-path'},this.c))}},ss.makeGenericType(bd,[Object,eh]));ss.initClass(eh,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(ei,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'drop-on-schema-field'},this.c))}},ss.makeGenericType(bd,[Object,ej]));ss.initClass(ej,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(ek,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'drop-on-schema-section'},this.c))}},ss.makeGenericType(bd,[Object,el]));ss.initClass(el,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(em,a,{get_dataType:function(){if(ss.isNullOrUndefined(this.pm)){return'unknown'}return this.pm.dataType},get_fieldName:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.fn},get_valueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.valueIndices},get_aliasIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.aliasIndices},get_formattedValueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.formatValIdxs},get_stringCollation:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.stringCollation},update:function(e){if(ss.isValue(e)){this.pm=e}}},hv);ss.initClass(en,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().fieldCaptionPair;if(ss.isNullOrUndefined(e)){return null}return{key:e.fieldCaption,value:e.fn}},get_parameters:function(){return _.map(this.$1().fieldCaptionPairs,function(e){return{key:e.fieldCaption,value:e.fn}})},get_selectedValue:function(){return this.$1().selectedValue},set_selectedValue:function(e){this.$1().selectedValue=e},get_enterValueText:function(){return this.$1().enterValueText},get_isCustomValueEnabled:function(){return this.$1().isCustomValueEnabled},get_precannedValues:function(){var e=[];var ex=this.$1().precannedDataValues;for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];e.push(mp)}return e},update:function(e,ex){this.swapPresModel(e);this.raiseEvent(this.$2$1,ex)}},hv);ss.initClass(eo,a,{get_length:function(){return this.$0.length},handle:function(e,ex,mo,mp){var mq=this.$0;for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];if(ms.handleCommandFailure(e,ex,mo,mp)){return}}},indexOf:function(e){var ex=0;for(var mo=0;mo<this.$0.length;mo++){var mp=this.$0[mo];if(ss.referenceEquals(ss.getInstanceType(mp),e)){return ex}ex+=1}return-1}});ss.initClass(ep,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'establish-cloud-connection'},this.c))}},ss.makeGenericType(bd,[Object,eq]));ss.initClass(eq,a,{});ss.initClass(er,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'establish-cloud-connection-no-undo'},this.c))}},ss.makeGenericType(bd,[Object,es]));ss.initClass(es,a,{});ss.initClass(et,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'establish-connection'},this.c))}},ss.makeGenericType(bd,[Object,eu]));ss.initClass(eu,a,{});ss.initClass(ev,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'establish-connection-no-undo'},this.c))}},ss.makeGenericType(bd,[Object,ew]));ss.initClass(ew,a,{});ss.initClass(ey,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'evaluate-data-alert'},this.c))}},ss.makeGenericType(bd,[Object,ez]));ss.initClass(ez,a,{});ss.initClass(eA,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'explain-selected-marks'},this.c))}},ss.makeGenericType(bd,[Object,eB]));ss.initClass(eB,a,{hasTargetFieldName:function(){return ss.keyExists(this.$$c,'fnMeasure')},hasTargetFieldCaption:function(){return ss.keyExists(this.$$c,'targetCaption')},hasExplanations:function(){return ss.keyExists(this.$$c,'markExplanationList')},hasDebugText:function(){return ss.keyExists(this.$$c,'text')}});ss.initClass(eC,a,{});ss.initClass(eD,a,{});ss.initClass(eE,a,{add_updated:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_updated:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_stopNotifying:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_stopNotifying:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_notificationId:function(){return'doc:permissions-update-event'},onNotify:function(e,ex){var mo=e;for(var mp=0;mp<mo.permissionsApprovalPresModelList.length;mp++){var mq=mo.permissionsApprovalPresModelList[mp];var mr=JSON.stringify(mq.extensionRegistrationKeyPresModel);if(ss.keyExists(this.$0,mr)&&this.$0[mr]===mq.extensionPermissionsGranted){return}this.$0[mr]=mq.extensionPermissionsGranted}this.$1$1()},detachNotifications:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},hasUserResponse:function(e){return ss.keyExists(this.$0,JSON.stringify(e))},getPermissionsApproval:function(e){return this.$0[JSON.stringify(e)]}},null,[gz,gu]);ss.initClass(eF,a,{});ss.initClass(eG,a,{add_extensionZoneUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_extensionZoneUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(eH,a,{});ss.initClass(eI,a,{});ss.initClass(eJ,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_baseColumnName:function(){return(this.get_isInstance()?this.pm.baseColumnName:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.get_dataSource().findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.pm.isInstance)&&this.pm.isInstance},get_hasWarning:function(){return this.pm.hasWarning},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?eO.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.pm.isCalculated},get_formattedFamilyName:function(){return this.pm.formattedFamilyName},get_canAddToDrillPath:function(){return this.pm.canAddToDrillPath},get_isInDrillPath:function(){return this.pm.isInDrillPath},get_columnClass:function(){return this.pm.columnClass},get_isTimeIntelligenceColumn:function(){return this.$3$1},set_isTimeIntelligenceColumn:function(e){this.$3$1=e},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()&&!this.get_isTimeIntelligenceColumn()},update:function(e){this.swapAndCopyPresModel(e)},get_connectionName:function(){return this.pm.connectionName}},eO);ss.initClass(eK,a,{});ss.initClass(eL,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'fieldContainer'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},eO);ss.initClass(eM,a,{});ss.initEnum(eN,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple',folderNew:'folderNew',structuredMeasure:'structuredMeasure',cubeStandardDimension:'cubeStandardDimension',cubeAttributeDimension:'cubeAttributeDimension',level:'level',fieldContainer:'fieldContainer'},true);ss.initClass(eP,a,{get_fields:function(){return this.$1$1},set_fields:function(e){this.$1$1=e},get_tables:function(){return this.$1$2},set_tables:function(e){this.$1$2=e},get_folders:function(){return this.$1$3},set_folders:function(e){this.$1$3=e},get_drillPaths:function(){return this.$1$4},set_drillPaths:function(e){this.$1$4=e},get_fieldContainers:function(){return this.$1$5},set_fieldContainers:function(e){this.$1$5=e}});ss.initClass(eQ,a,{});ss.initClass(eR,a,{get_allFields:function(){if(ss.isNullOrUndefined(this.$h)){this.$a()}return this.$h},get_dataSource:function(){return this.$j},$a:function(){var e=new Set;tab.SetUtilities.addAll(eO).call(null,e,_.values(this.$g));this.$h=tab.SetUtilities.getValues(eO).call(null,e)},findField:function(e){return this.$g[e]},findDrillPath:function(e){return this.$k[e]},findFolderNew:function(e){return this.$m[e]},findRelationalTable:function(e){return this.$n[e]},findCubeFolder:function(e){return this.$i[e]},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update$1:function(e,ex){this.$b(e,ex,ss.mkdel(this,function(mo){this.$c(e[0],mo,ss.mkdel(this,this.$2));this.$c(e[1],mo,ss.mkdel(this,this.$5));this.$c(e[2],mo,ss.mkdel(this,this.$4));this.$c(e[3],mo,ss.mkdel(this,this.$6));this.$c(e[4],mo,ss.mkdel(this,this.$3));this.$c(e[5],mo,ss.mkdel(this,this.$7));this.$c(e[6],mo,ss.mkdel(this,this.$8))}))},update:function(e,ex){this.$b(e,ex,ss.mkdel(this,function(mo){var mp=function(mq){};this.$c(e,mo,mp)}))},$2:function(e){this.rootFieldsNew[0].push(e)},$5:function(e){this.rootFieldsNew[1].push(e)},$4:function(e){this.rootFieldsNew[2].push(e)},$6:function(e){this.rootFieldsNew[3].push(e)},$3:function(e){this.rootFieldsNew[4].push(ss.safeCast(e,eL))},$7:function(e){this.rootFieldsNew[5].push(e)},$8:function(e){this.rootFieldsNew[6].push(e)},$b:function(e,ex,mo){if(!this.$e(e)){return}this.$9();var mp=new eP(this.$g,this.$n,this.$m,this.$k,this.$l);this.$d();mo(mp);this.$1();this.swapPresModel(e);this.raiseEvent(this.fieldsChanged,ex)},$e:function(e){return ss.isValue(e)&&!_.isEqual(this.pm,e)},$9:function(){this.$h=null},$d:function(){this.$g={};this.$n={};this.$m={};this.$k={};this.$i={};this.$l={};this.rootFieldsNew={};this.rootFieldsNew[0]=[];this.rootFieldsNew[1]=[];this.rootFieldsNew[2]=[];this.rootFieldsNew[3]=[];this.rootFieldsNew[4]=[];this.rootFieldsNew[5]=[];this.rootFieldsNew[6]=[]},$1:function(){var e=_.keys(this.$g);for(var ex=0;ex<e.length;ex++){var mo=e[ex];var mp=this.$g[mo];this.$g[mp.get_localName()]=mp}},$c:function(e,ex,mo){if(ss.isNullOrUndefined(e)||e.length===0){return}for(var mp=0;mp<e.length;mp++){var mq=e[mp];var mr=eQ.create(mq,this,ex);mo(mr);this.$f(mr)}},$f:function(e){if(ss.isInstanceOfType(e,iI)){var ex=ss.safeCast(e,iI);this.$n[e.get_globalName()]=ex;var mo=ex.get_columns();for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];this.$f(mq)}}else if(ss.isInstanceOfType(e,fi)){var mr=ss.safeCast(e,fi);this.$m[e.get_globalName()]=mr;var ms=mr.get_fields();for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];this.$f(mu)}}else if(ss.isInstanceOfType(e,ec)){var mv=ss.safeCast(e,ec);this.$k[e.get_globalName()]=mv;var mw=mv.get_levels();for(var mx=0;mx<mw.length;mx++){var my=mw[mx];this.$f(my)}}else if(ss.isInstanceOfType(e,cP)){var mz=ss.safeCast(e,cP);this.$g[e.get_globalName()]=mz;var mA=mz.get_levels();for(var mB=0;mB<mA.length;mB++){var mC=mA[mB];this.$f(mC)}var mD=mz.get_userDefinedAttributes();for(var mE=0;mE<mD.length;mE++){var mF=mD[mE];this.$f(mF)}}else if(ss.isInstanceOfType(e,cJ)){var mG=ss.safeCast(e,cJ);this.$g[e.get_globalName()]=mG;var mH=mG.get_cubeHierarchies();for(var mI=0;mI<mH.length;mI++){var mJ=mH[mI];this.$f(mJ)}var mK=mG.get_cubeFolders();for(var mL=0;mL<mK.length;mL++){var mM=mK[mL];this.$f(mM)}}else if(ss.isInstanceOfType(e,cN)){var mN=ss.safeCast(e,cN);this.$i[e.get_globalName()]=mN;var mO=mN.get_hierarchies();for(var mP=0;mP<mO.length;mP++){var mQ=mO[mP];this.$f(mQ)}var mR=mN.get_columns();for(var mS=0;mS<mR.length;mS++){var mT=mR[mS];this.$f(mT)}}else if(ss.isInstanceOfType(e,kJ)){var mU=ss.safeCast(e,kJ);this.$g[e.get_globalName()]=mU;var mV=mU.get_measures();for(var mW=0;mW<mV.length;mW++){var mX=mV[mW];this.$f(mX)}}else if(ss.isInstanceOfType(e,cR)){var mY=ss.safeCast(e,cR);this.$g[e.get_globalName()]=mY;var mZ=mY.get_cubeAttributeDimensions();for(var na=0;na<mZ.length;na++){var nb=mZ[na];this.$f(nb)}var nc=mY.get_cubeHierarchies();for(var nd=0;nd<nc.length;nd++){var ne=nc[nd];this.$f(ne)}var nf=mY.get_cubeFolders();for(var ng=0;ng<nf.length;ng++){var nh=nf[ng];this.$f(nh)}}else if(ss.isInstanceOfType(e,hi)){var ni=ss.safeCast(e,hi);this.$g[e.get_globalName()]=ni;var nj=ni.get_linkedAttributes();for(var nk=0;nk<nj.length;nk++){var nl=nj[nk];this.$f(nl)}}else if(ss.isInstanceOfType(e,eL)){var nm=ss.safeCast(e,eL);this.$l[e.get_globalName()]=nm;var nn=nm.get_fields();for(var no=0;no<nn.length;no++){var np=nn[no];this.$f(np)}}else{this.$g[e.get_globalName()]=e}}},hv);ss.initEnum(eS,a,{localName:'localName',globalName:'globalName',qualifiedLocalName:'qualifiedLocalName',description:'description',userCaption:'userCaption',displayName:'displayName'},true);ss.initClass(eT,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,ex){var mo=this.$0[this.$1];delete this.cl[mo];this.$0[this.$1]=e;this.cl[e]=ex;this.$1=(this.$1+1)%this.$2}});ss.initClass(eU,a,{get_corsProxyUrlPrefix:function(){return this.$1$1},set_corsProxyUrlPrefix:function(e){this.$1$1=e},getSupportedExtensions:function(){return ss.arrayClone(this.$0)}});ss.initClass(eV,a,{openDownload:function(e,ex){if(tab.FeatureFlags.isEnabled('OneClickExport')){this.$1(e,ex)}else if(ss.isValue(ex.popup)){this.$2(e,ex)}else{this.$0(e,ex)}},$0:function(e,ex){var mo=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=mo+'download=true';var mp='_blank';var mq=e;if(ss.isNullOrUndefined(ex.noping)){var mr=ss.mkdel(this,function(){this.$3.showFileDownloadDialog(ex.title,ex.message,mq,mp)});var ms=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=ms+'nodata=true';var mt=this.$4.createHandler(null,mr,null,'immediately');var mu={};mu.headers=ss.mkdict(['Accept','text/plain']);mu.dataType='text';mu.type='GET';mu.url=e;this.$4.request(mu,mt)}else{this.$3.showFileDownloadDialog(ex.title,ex.message,mq,mp)}},$1:function(e,ex){var mo=document.createElement('a');mo.href=e;mo.download=ex.title;mo.style.display='none';document.body.appendChild(mo);mo.click();document.body.removeChild(mo)},$2:function(e,ex){var mo=ex.popup;var mp=window.open('about:blank',mo);window.setTimeout(ss.mkdel(this,function(){var mq=new tab.WindowHelper(mp);if(ss.isValue(mp)&&!mp.closed&&mq.get_innerWidth()!==0&&mq.get_innerHeight()!==0){mp.location.href=e}else{if(ss.isValue(mp)){mp.close()}ex.popup=null;this.openDownload(e,ex)}}),500)}});ss.initClass(eW,a,{$1:function(){return this.$1$1},$2:function(e){this.$1$1=e},$0:function(){return tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')},logFileUploadRequestEvent:function(e,ex,mo){if(this.$0()){this.$2(kS.generateUUID());hF.logEvent('Authoring_DataTab_FileUpload_RequestEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'NumFiles',e,'Origin',ex.toString(),'Reason',mo.toString()]))}},logFileUploadStartEvent:function(e,ex,mo){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){hF.logEvent('Authoring_DataTab_FileUpload_StartEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'UploadID',e,'FileType',ex,'Size',mo]))}},logFileUploadSuccessEvent:function(e,ex){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){hF.logEvent('Authoring_DataTab_FileUpload_SuccessEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'UploadID',e,'UploadTime',ex]))}},logFileUploadFailureEvent:function(e,ex){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){hF.logEvent('Authoring_DataTab_FileUpload_FailureEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'UploadID',e,'ErrorType',ex.toString()]))}},logFileUploadRetryEvent:function(e){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){hF.logEvent('Authoring_DataTab_FileUpload_RetryEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'Retry',e.toString()]))}},logFileUploadReplaceEvent:function(e){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){hF.logEvent('Authoring_DataTab_FileUpload_ReplaceEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'AddReplace',e.toString()]))}},logFileUploadDSCreationEvent:function(e,ex,mo){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){hF.logEvent('Authoring_DataTab_FileUpload_DSCreationEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'Success',e,'Fail',ex,'DSCreationTime',mo]))}}});ss.initEnum(eX,a,{cancel:'cancel',replace:'replace',add:'add'},true);ss.initEnum(eY,a,{unsupported:'unsupported',type_mismatch:'type_mismatch',too_big:'too_big',empty:'empty',exists:'exists',multi_file_rejected:'multi_file_rejected',locked:'locked',upload_error:'upload_error',ds_error:'ds_error',upload_canceled:'upload_canceled'},true);ss.initEnum(eZ,a,{file_drop_joinarea:'file_drop_joinarea',file_drop_tablearea:'file_drop_tablearea',file_drop_connectionpill:'file_drop_connectionpill',file_drop_dialog:'file_drop_dialog',file_browse_dialog:'file_browse_dialog'},true);ss.initEnum(fa,a,{create_ds:'create_ds',edit_connection:'edit_connection',create_connection:'create_connection'},true);ss.initEnum(fb,a,{cancel:'cancel',skip:'skip',retry:'retry'},true);ss.initClass(fc,a,{});ss.initClass(fd,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().activeStoryPointId},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,ex){if(ss.isValue(e.activeStoryPointId)){var mo=e.storyPoints[e.activeStoryPointId.toString()];this.$1.update(mo,ex)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},hv);ss.initClass(fe,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_pointWasCaptured:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_pointWasCaptured:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().currentStorypointIndex},get_storyPoints:function(){return this.get_flipboardNavPresModel().storypointNavItems},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().flipboardNavStyle.flipboardNavType},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().navArrowsVisible},get_width:function(){return this.get_flipboardNavPresModel().selectedStoryPointStyle.w},get_height:function(){return this.get_flipboardNavPresModel().selectedStoryPointStyle.h},get_isStoryEmpty:function(){return this.get_flipboardNavPresModel().isStoryEmpty},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex){if(ss.isValue(e)){if(ss.isValue(e.selectedStoryPointStyle)){fl.notifyFontsFromTextStylePresModel(e.selectedStoryPointStyle.textStyle)}if(ss.isValue(e.unselectedStoryPointStyle)){fl.notifyFontsFromTextStylePresModel(e.unselectedStoryPointStyle.textStyle)}}var mo=ss.isValue(this.get_flipboardNavPresModel())&&e.navArrowsVisible!==this.get_flipboardNavPresModel().navArrowsVisible;this.$1(e);this.simpleSwapToUpdate(e,this.$2$1,ex);this.$2(ex);if(mo){this.raiseEvent(this.$2$3,ex)}},$1:function(e){if(ss.isNullOrUndefined(this.get_flipboardNavPresModel())){return}ss.clear(this.$3);if(e.storypointNavItems.length!==this.get_flipboardNavPresModel().storypointNavItems.length){return}var ex=this.get_flipboardNavPresModel().currentStorypointIndex;var mo=e.currentStorypointIndex;var mp=this.get_flipboardNavPresModel().storypointNavItems[ex];var mq=e.storypointNavItems[mo];if(ex!==mo&&mp.storyPointId===mq.storyPointId&&!mp.isCaptured&&mq.isCaptured){this.$3.push(mq.storyPointId)}var mr=_.filter(e.storypointNavItems,function(mw,mx){return mw.isCaptured===true&&mx!==e.currentStorypointIndex});for(var ms=0;ms<mr.length;ms++){var mt=mr[ms];var mu={$:mt.storyPointId};var mv=_.find(this.get_flipboardNavPresModel().storypointNavItems,ss.mkdel({currentId:mu},function(mw){return mw.storyPointId===this.currentId.$}));if(ss.isNullOrUndefined(mv)){continue}if(!mv.isCaptured){this.$3.push(mu.$)}}},$2:function(e){for(var ex=0;ex<this.$3.length;ex++){var mo=this.$3[ex];this.raiseEvent$1(ss.Int32).call(this,this.$2$2,mo,e)}}},hv);ss.initClass(ff,a,{});ss.initClass(fg,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},eO);ss.initClass(fh,a,{});ss.initClass(fi,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folderNew'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},eO);ss.initClass(fk,a,{});ss.initClass(fl,a,{});ss.initClass(fq,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().typeOfFormatItem},get_widgetIdentifier:function(){return this.$1().widgetUniqueId},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,fn)},asFormatControl:function(){return ss.safeCast(this,fo)},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(fn,a,{get_typeOfFormatContainer:function(){return this.pm.typeOfFormatContainer},get_items:function(){return this.$5},get_name:function(){if(this.get_isFormatSection()){return this.pm.name}else if(this.get_isFormatPane()){return this.pm.name}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.pickerType}else if(this.get_isTabGroup()){return this.pm.pickerType}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.collapsed}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.label}else if(this.get_isTab()){return this.pm.label}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.isChanged}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.clearFormatCommandModel}else{return null}},get_isVisible:function(){return this.$6},set_isVisible:function(e){if(this.$6!==e){this.$6=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var ex=this.asFormatContainer().get_items();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];e.push(mp)}return e},$2:function(e){this.set_previewProperties({});for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(!mo.get_isFormatControl()){continue}var mp=mo.asFormatControl();var mq=mp.get_widgetKey();switch(mq){case'fontSize':case'lineSize':{this.get_previewProperties()[mq]=mp.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[mq]=mp.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[mq]=mp.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[mq]=mp.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},$3:function(){return this.pm.formatItemList.filter(ss.mkdel(this,function(e){return!ss.keyExists(this.$4,e.widgetUniqueId)}))},update:function(e,ex){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),ex);var mo=this.$3();if(ss.isNullOrUndefined(this.$5)){this.$5=[];for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];this.$5.push(fq.createModel(this,mq,ex))}}else if(ss.isValue(mo)){for(var mr=0;mr<mo.length;mr++){var ms=mo[mr];this.$5[mr].update(ms,ex)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},fq);ss.initClass(fo,a,{get_typeOfFormatControl:function(){return this.pm.typeOfFormatControl},get_commandRedirectType:function(){return this.pm.commandRedirectType},get_formatCommand:function(){return this.pm.formatCommandModel},get_simpleCommand:function(){return ck.deserialize(kt.create(this.get_formatCommand()).get_simpleCommand(),false)},get_widgetKey:function(){return this.pm.formatWidgetKey},get_isEnabled:function(){return this.pm.isEnabled},get_textValue:function(){return this.pm.valueString},get_numericValue:function(){return this.pm.valueInt},get_colorValue:function(){return this.pm.color},get_canBeAuto:function(){return this.pm.canBeAuto},get_canBeNone:function(){return this.pm.canBeNone},get_canMatchMarkColor:function(){return this.pm.canMatchMarkColor},get_hasOpacity:function(){return this.pm.hasOpacity},get_colorSwatchType:function(){return this.pm.formatColorSwatchType},get_selectorValue:function(){return this.pm.valueString},get_toggleValue:function(){return this.pm.bool}},fq);ss.initClass(fp,a,{});ss.initClass(fr,a,{});ss.initClass(fs,a,{});ss.initClass(ft,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-alert-measures-from-selection'},this.c))}},ss.makeGenericType(bd,[Object,fu]));ss.initClass(fu,a,{});ss.initClass(fv,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-button-config-dialog'},this.c))}},ss.makeGenericType(bd,[Object,fw]));ss.initClass(fw,a,{});ss.initClass(fx,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabsrv',cmd:'get-composite-class-name'},this.c))}},ss.makeGenericType(bd,[Object,fy]));ss.initClass(fy,a,{});ss.initClass(fz,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-dashboard-drag-drop'},this.c))}},ss.makeGenericType(bd,[Object,fA]));ss.initClass(fA,a,{});ss.initClass(fB,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-dashboard-sizing'},this.c))}},ss.makeGenericType(bd,[Object,fC]));ss.initClass(fC,a,{});ss.initClass(fD,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-data-alert-condition-info-map'},this.c))}},ss.makeGenericType(bd,[Object,fE]));ss.initClass(fE,a,{});ss.initClass(fF,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-data-alert-info'},this.c))}},ss.makeGenericType(bd,[Object,fG]));ss.initClass(fG,a,{});ss.initClass(fH,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-datasource-data-pres-model'},this.c))}},ss.makeGenericType(bd,[Object,fI]));ss.initClass(fI,a,{});ss.initClass(fJ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-drop-field-aggregation-options'},this.c))}},ss.makeGenericType(bd,[Object,fK]));ss.initClass(fK,a,{});ss.initClass(fL,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-dsparams-from-pres-model'},this.c))}},ss.makeGenericType(bd,[Object,fM]));ss.initClass(fM,a,{});ss.initClass(fN,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-file-connection-file-list'},this.c))}},ss.makeGenericType(bd,[Object,fO]));ss.initClass(fO,a,{});ss.initClass(fP,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-has-unused-files'},this.c))}},ss.makeGenericType(bd,[Object,fQ]));ss.initClass(fQ,a,{});ss.initClass(fR,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-runtime-data-model'},this.c))}},ss.makeGenericType(bd,[Object,fS]));ss.initClass(fS,a,{});ss.initClass(fT,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-tabbed-authentication-pres-model'},this.c))}},ss.makeGenericType(bd,[Object,fU]));ss.initClass(fU,a,{});ss.initClass(fV,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-thumbnail'},this.c))}},ss.makeGenericType(bd,[Object,fW]));ss.initClass(fW,a,{hasThumbnailImage:function(){return ss.keyExists(this.$$c,'image')}});ss.initClass(fX,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-url-substitution-keywords'},this.c))}},ss.makeGenericType(bd,[Object,fY]));ss.initClass(fY,a,{});ss.initClass(fZ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-web-categorical-color-dialog'},this.c))}},ss.makeGenericType(bd,[Object,ga]));ss.initClass(ga,a,{});ss.initClass(gb,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'get-web-quantitative-color-dialog'},this.c))}},ss.makeGenericType(bd,[Object,gc]));ss.initClass(gc,a,{});ss.initClass(gd,a,{canExtractFont:function(e){return e.type==='draw-group'&&!ss.isNullOrUndefined(e.drawItems)},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e.drawItems;return this.$0(ex)},$0:function(e){var ex={};for(var mo=0;mo<e.length;mo++){var mp=e[mo];for(var mq=0;mq<gd.$0.length;mq++){var mr=gd.$0[mq];if(mr.canExtractFont(mp)){var ms=mr.extractFontFromPresModel(mp);if(ss.isValue(ms)){for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];ex[mu.get_hash()]=mu}}break}}}return _.values(ex)}},null,[gv]);ss.initClass(ge,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.pm.isCombinedField||false}},eJ);ss.initClass(gf,a,{});ss.initClass(gg,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'has-user-specific-active-sheet'},this.c))}},ss.makeGenericType(bd,[Object,gh]));ss.initClass(gh,a,{});ss.initClass(gi,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'highlight-items-by-pattern-match'},this.c))}},ss.makeGenericType(bd,[Object,gj]));ss.initClass(gj,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$$c,'dataHighlighterItemSet')}});ss.initInterface(gA,a,{get_tailIndex:null,get_recoveryStates:null,add:null,trackUndo:null,trackRedo:null,adopt:null});ss.initClass(gk,a,{get_recoveryStates:function(){if(ss.isValue(this.$1)){var e=[this.$1];for(var ex=0;ex<this.$3.length;ex++){var mo=this.$3[ex];e.push(mo)}return e}else{return this.$3}},get_tailIndex:function(){return this.$3.length-1},$0:function(){this.$3=[];this.$2=[]},add:function(e,ex){var mo=this.$3.length;if(ex!==mo+1){if(mo===0&&ex>0){this.$3=new Array(ex-1)}}this.$3.push(e);this.$2=[];return mo},trackUndo:function(){if(this.$3.length===0){throw new ss.ArgumentOutOfRangeException}this.$2.push(this.$3.pop());return this.get_tailIndex()},trackRedo:function(){if(this.$2.length===0){throw new ss.ArgumentOutOfRangeException}this.$3.push(this.$2.pop());return this.get_tailIndex()},adopt:function(e){if(ss.isNullOrUndefined(e)){return}this.$0();for(var ex=0;ex<e.length;ex++){var mo=e[ex];this.$3.push(mo)}}},null,[gA]);ss.initClass(gl,a,{});ss.initClass(gm,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'hit-test-scene'},this.c))}},ss.makeGenericType(bd,[Object,gn]));ss.initClass(gn,a,{});ss.initEnum(go,a,{escape:0,noEscape:1});ss.initInterface(gs,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(gt,a,{returnDataSourceDataModel:null});ss.initInterface(gw,a,{get_sheetScrollPositions:null});ss.initInterface(gx,a,{triggerExportPdfUI:null});ss.initInterface(gy,a,{get_getFontFamily:null,setCSS:null,hasStyleProperty:null});ss.initClass(gB,a,{});ss.initClass(gC,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(gE,a,{addFontList:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=ss.arrayClone(e);return}var ex=_.intersection(this.$0,e);this.$0=ex},toFontFamilyProvider:function(){if(ss.isNullOrUndefined(this.$0)){return new ku.$ctor2([])}return new ku.$ctor2(Array.prototype.slice.call(this.$0))}});ss.initClass(gF,a,{});ss.initClass(gJ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'is-web-zone-url-valid'},this.c))}},ss.makeGenericType(bd,[Object,gK]));ss.initClass(gK,a,{hasValidationMessage:function(){return ss.keyExists(this.$$c,'validationMessage')}});ss.initInterface(gM,a,{handleCommandStarted:null,handleCommandCompleted:null,handleCommandError:null});ss.initClass(gN,a,{get_getFontFamily:function(){return this.$0.css('font-family')},setCSS:function(e){this.$0.css(e)},hasStyleProperty:function(e){return!ss.isNullOrEmptyString(this.$0.prop('style')[e])}},null,[gy]);ss.initClass(gO,a,{andMarkAsRawJavaScriptModule:function(){this.moduleBeingConfigured.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.moduleBeingConfigured.loadingMethod='alreadyLoaded';return this},andShowLoadingIndicator:function(){this.moduleBeingConfigured.loadingMethod='synchronous';return this},andLoadOnDemandIf:function(e){this.moduleBeingConfigured.loadingMethod=(e?'asynchronous':'alreadyLoaded');return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException('globalName')}this.moduleBeingConfigured.shouldExportResult=true;this.moduleBeingConfigured.exportResultName=e;return this},andWaitUntilModuleReady:function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('waitUntilModuleReadyFunc')}this.moduleBeingConfigured.waitUntilModuleReadyFunc=e;return this}});ss.initClass(gP,a,{get_dependencies:function(){return this.$0},get_stylesheetDependencies:function(){return this.$1},get_hasDependencies:function(){return this.$0.length>0},get_hasDependenciesOnStylesheets:function(){return this.$1.length>0},addDependency:function(e){tab.Param.verifyValue(e,'dependency');this.$0.push(e)},addDependencyOnCssFile:function(e){tab.Param.verifyString(e,'cssFile');this.$1.push(e)}});ss.initClass(gQ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'launch-custom-sql-dialog'},this.c))}},ss.makeGenericType(bd,[Object,gR]));ss.initClass(gR,a,{});ss.initClass(gS,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'launch-initial-sql-dialog'},this.c))}},ss.makeGenericType(bd,[Object,gT]));ss.initClass(gT,a,{});ss.initClass(gU,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'launch-permissions-prompt'},this.c))}},ss.makeGenericType(bd,[Object,gV]));ss.initClass(gV,a,{});ss.initClass(gW,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.paneSpec},get_name:function(){return this.pm.name},get_isTableCalc:function(){return this.pm.isTableCalc},get_paneDescriptorKeys:function(){return this.pm.paneDescriptorKeys},get_encodings:function(){return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_sortEncodingOptions:function(){return this.getDropdownPresModel('sort-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(ex){return ex.isSelected});return e},get_primitiveTypes:function(){return _.filter(this.pm.primitiveTypeUiItems,function(e){return e.isVisible&&e.isEnabled})},get_heatmapSettingsPresModel:function(){return this.pm.heatmapSettings},get_markSizeModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex);if(ss.isNullOrUndefined(this.$1)){this.$1=new hu(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),ex)},equals$1:function(e){return this.get_id()===e.paneSpec},getDropdownPresModel:function(e){var ex=_.filter(this.pm.encodingUiItems,function(mo){return mo.isVisible&&mo.isEnabled&&mo.encodingType===e});if(ss.isNullOrUndefined(ex)||ex.length!==1){return null}return ex[0].marksCardDropdownItem}},hv);ss.initClass(gX,a,{formatDashboardTempfileReference:function(e,ex,mo){return this.formatLayoutMethod(tsConfig.layoutid,'tempfile')+'/?key='+e+(ex?'&keepfile=yes':'')+(mo?'&attachment=yes':'')},saveSharedView:function(e,ex,mo){var mp=function(mu,mv,mw){mu['button']=e;if(ss.isValue(mu['guid'])){mj.guid=mu['guid']}};var mq=ss.mkdel(this,function(mu,mv,mw){mj.guid=null;if(mu.status===410||mu.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(mu.status===401){this.handleAuthenticationFailure()}else{var mx=new Object;mx['button']=e;mo(mx)}});var mr=this.createHandler(null,mp,mq,'none');var ms={};ms['sheet_id']=mj.get_currentTabName();ms['parent_id']=mj.parentID;ms['primary_content_url']=ex;ms['share_button']=e;var mt=this.basicPostOpts(this.formatSessionMethod('save_shared_view'),ms);mt.async=false;mt.timeout=2000;this.request(mt,mr)},saveAndOpenMetricsView:function(){window.open(this.formatSessionMethod('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.formatSessionMethod('download_metrics_view')},getAutocompleteInfo:function(e,ex,mo){var mp=function(ms,mt,mu){ex(ms['new_value'])};var mq=this.basicGetOpts(this.formatLayoutMethod(tsConfig.layoutid,'getautocomplete'));var mr=ss.mkdict(['fieldname',mo,'input_string',e]);mq.data=mr;mq.success=mp;this.request(mq,null)},performPostLoadOperations:function(e,ex){var mo=function(mt,mu,mv){if(ss.isValue(ex)){ex(mt)}};var mp=ss.mkdel(this,function(mt,mu,mv){this.$3(mv,mt,true,null)});var mq=this.createHandler(null,mo,mp,'none');var mr=ss.mkdict(['sheet_id',e]);var ms={data:mr,async:true,type:'GET',headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',url:this.formatLayoutMethod(tsConfig.layoutid,'performPostLoadOperations')};this.request(ms,mq)}},be,[gL]);ss.initClass(gY,a,{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.name+this.$0.zoneId},get_isFloating:function(){return this.$0.isFloating},get_zoneType:function(){return this.$0.zoneType},get_isHorizontal:function(){return this.$0.isHorizontal},get_name:function(){return this.$0.name},get_zoneID:function(){return this.$0.zoneId},appendChildren:function(e){this.$1.push(e)}});ss.initClass(gZ,a,{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){if(!_.isEqual(this.pm,e)){this.$4();this.$1(e);this.$2();this.$3();this.simpleSwapToUpdate(e,this.$2$1,ex)}},saveExpandedState:function(e,ex){this.$5[e]=ex},saveIsEditingState:function(e,ex){this.isEditingStateDictionary[e]=ex},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$6[e])){return}var ex=this.$6[e].parent;while(ss.isValue(ex)){var mo=ex.get_zoneID();this.$5[mo]=true;ex=this.$6[mo].parent}},isItemExpanded:function(e){return ss.keyExists(this.$5,e)&&this.$5[e]},getItemFromIndex:function(e){return this.$6[e]},$1:function(e){var ex=e.zoneCommonListItems;this.$6=gZ.$0(ex);if(ss.isValue(ex)){for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=mp.parentZoneId;var mr=this.$6[mp.zoneId];var ms=mq===0;if(ms){this.rootNodes.push(mr)}else{var mt=this.$6[mq];if(!ss.isNullOrUndefined(mt)){mt.appendChildren(mr);mr.parent=mt}}}}},$2:function(){if(ss.getKeyCount(this.$6)===0){this.$5={}}else{var e=new ss.ObjectEnumerator(this.$5);try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$6,ex.key)){delete this.$5[ex.key]}}}finally{e.dispose()}}},$3:function(){if(ss.getKeyCount(this.$6)===0){this.isEditingStateDictionary={}}else{var e=new ss.ObjectEnumerator(this.isEditingStateDictionary);try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$6,ex.key)){delete this.isEditingStateDictionary[ex.key]}}}finally{e.dispose()}}},$4:function(){this.rootNodes=[]}},hv);ss.initClass(ha,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(hc,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var ex=new String;ex='[';for(var mo=0;mo<e.name.length;++mo){if(ss.endsWithString(ex,']')){ex+='.';ex+='['}ex+=e.name[mo];ex+=']'}return ex},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,ex)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,ex)}}},hv);ss.initClass(hb,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples},get_domainType:function(){return this.get_filterPresModel().domainType}},hc);ss.initClass(hd,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},hc);ss.initClass(he,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){fl.notifyFontsFromServerRenderedLegendPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(hf,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table},get_domainType:function(){return this.get_filterPresModel().domainType}},hc);ss.initClass(hg,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().quickFilterTitle},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterCommands},get_quickFilterDomainCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterDomainCommands},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_fieldName:function(){return this.get_quickFilterDisplayPresModel().quickFilter.fn},get_zoneModel:function(){return this.parent.get_zone()},get_contentStyle:function(){return this.get_zoneModel().get_zoneCommonModel().get_contentStyle()},get_blendedZoneContentColor:function(){return this.get_zoneModel().get_blendedZoneContentColor()},get_attributes:function(){return this.$2.attributes},get_width:function(){return this.get_zoneModel().get_width()},update:function(e,ex,mo){var mp=!_.isEqual(this.$2,ex);this.$2=ex;if(this.isNewPresModelSameAsOld(e)){if(mp){this.raiseEvent$1(Object).call(this,this.$2$1,e,mo)}return}if(ss.isValue(e)){fl.notifyFontsFromTextStylePresModel(e.textStyle)}if(ss.isValue(e)&&ss.isValue(e.quickFilterCommands)){this.$3=new cl(this)}this.$3.update(e.quickFilterCommands,mo);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,mo)},$1:function(){var e=[];var ex=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var mo=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var mp=['min-max','min-only','max-only','rel-date','rel-pick'];for(var mq=0;mq<ex.length;mq++){var mr=ex[mq];for(var ms=0;ms<mo.length;ms++){var mt=mo[ms];var mu={};mu.aggregation=mr;mu.categoricalMode=mt;e.push(mu)}for(var mv=0;mv<mp.length;mv++){var mw=mp[mv];var mx={};mx.aggregation=mr;mx.quantitativeMode=mw;e.push(mx)}}return e}},hv);ss.initClass(hh,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},hc);ss.initClass(hi,a,{get_levelNumber:function(){return this.pm.levelNumber},get_canHaveChildren:function(){return true},get_instanceType:function(){return'level'},get_linkedAttributes:function(){return this.$4$1},set_linkedAttributes:function(e){this.$4$1=e},update$1:function(e,ex){this.swapAndCopyPresModel(e);this.set_linkedAttributes(ex)}},eJ);ss.initClass(hj,a,{});ss.initClass(hk,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},iD);ss.initClass(hl,a,{get_interactedTupleId:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2}});ss.initClass(hn,a,{add_styleRefreshRequired:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleRefreshRequired:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasPresModel:function(){return ss.isValue(this.pm)},get_mapboxMapSourcePresModel:function(){return this.pm},get_accessToken:function(){return this.get_mapboxMapSourcePresModel().mapboxAccessToken},get_baseUrl:function(){return this.get_mapboxMapSourcePresModel().mapboxBaseUrl},get_styleJsonUrl:function(){return this.get_mapboxMapSourcePresModel().mapboxStyleJsonUrl},get_mapCodeFilterKeyword:function(){return this.get_mapboxMapSourcePresModel().mapCodeFilterKeyword},get_mapCode:function(){return this.get_mapboxMapSourcePresModel().mapCode},get_languageCodePropertyKeyword:function(){return this.get_mapboxMapSourcePresModel().mapLanguageCodePropertyKeyword},get_languageCode:function(){return this.get_mapboxMapSourcePresModel().mapLanguageCode},get_enabledMapLayerIds:function(){var e=this.get_mapboxMapSourcePresModel().enabledMapLayerIds;var ex=new Set;if(ss.isValue(e)){for(var mo=0;mo<e.length;mo++){var mp=e[mo];ex.add(mp)}}return ex},get_dataRequestUrl:function(){return this.get_mapboxMapSourcePresModel().mapDataRequestUrl},get_dataColorRamp:function(){return this.get_mapboxMapSourcePresModel().mapDataColorRamp},get_dataInsertAbove:function(){return this.get_mapboxMapSourcePresModel().mapDataInsertAbove},get_dataOpacity:function(){return this.get_mapboxMapSourcePresModel().mapDataOpacity},get_dataSourceLayer:function(){return this.get_mapboxMapSourcePresModel().mapDataSourceLayer},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);if(ss.isValue(e)){this.raiseEvent(this.$2$1,ex)}}},hv);ss.initClass(ho,a,{});ss.initClass(hp,a,{add_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_lightweightMapOptionsPresModel:function(){return this.pm},get_shouldShowGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().showGeographicSearch},get_shouldShowFloatingZoomToolbar:function(){return this.get_lightweightMapOptionsPresModel().showFloatingZoomToolbar},get_shouldAllowPanZoom:function(){return this.get_lightweightMapOptionsPresModel().allowPanZoom},get_canToggleGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().canToggleGeographicSearch},get_shouldShowMapScale:function(){return this.get_lightweightMapOptionsPresModel().showMapScale},get_canToggleMapScale:function(){return this.get_lightweightMapOptionsPresModel().canToggleMapScale},get_canSetMapUnit:function(){return this.get_lightweightMapOptionsPresModel().canSetMapUnit},get_hasPresModel:function(){return ss.isValue(this.get_lightweightMapOptionsPresModel())},get_dialogTitle:function(){return tab.Strings.MapOptionsDialogTitle},get_notificationId:function(){return'doc:map-options-dialog-event'},get_vizID:function(){return this.get_lightweightMapOptionsPresModel().visualIdPresModel},get_mapUnitSelection:function(){return this.get_lightweightMapOptionsPresModel().defaultMapUnitEnum},get_canToggleAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().canToggleAutomaticDrill},get_shouldShowAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().enableAutomaticDrill},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},hv,[gz,gu]);ss.initClass(hq,a,{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().shouldShowMapScale},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().mapScaleMarginOfError},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().mapScaleWidth},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutString},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutNumber},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutUnit},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().mapScaleFontSizePixels},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().mapScaleColor},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().mapScaleTooltipString},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().mapScaleBorderColor},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}}},hv);ss.initClass(hr,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_useFastMapsChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_useFastMapsChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.$2().clientRequestsMapTiles},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.$2().showAttribution},get_minZoom:function(){return this.$2().mapMinZoom},get_maxZoom:function(){return this.$2().mapMaxZoom},get_requestZoom:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$a}return this.$2().mapRequestZoom},set_requestZoom:function(e){this.$a=e},get_displayScale:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$5}return this.$2().mapDisplayScale},set_displayScale:function(e){this.$5=e},get_zoom:function(){var e=Math.log(this.get_displayScale())/Math.LN2;var ex=this.get_requestZoom()+e;if(this.get_useFastMaps()&&this.get_rasterMapSourceModel().get_hasPresModel()){ex-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_rasterMapSourceModel().get_mapTileSize())}return ex},get_centerLatitude:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$3}return this.$2().mapCenterLatitude},set_centerLatitude:function(e){this.$3=e},get_centerLongitude:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$4}return this.$2().mapCenterLongitude},set_centerLongitude:function(e){this.$4=e},get_numWorldRepeats:function(){return this.$2().mapWorldRepeats},get_tileUrl:function(){var e=this.$2();var ex;if(tab.MiscUtil.isNullOrEmpty$3(e.mapTileServer.toString())&&!tab.MiscUtil.isNullOrEmpty$3(e.mapFullTileUrl.toString())){ex=e.mapFullTileUrl}else{if(ss.startsWithString(e.mapTileServer.toString(),'http://')||ss.startsWithString(e.mapTileServer.toString(),'https://')){ex=''}else{var mo=tab.WindowHelper.getLocation(window.self).protocol;ex=mo+'//'}ex+=e.mapTileServer;if(!ss.endsWithString(ex,String.fromCharCode(47))&&!ss.startsWithString(e.mapTileUrl.toString(),String.fromCharCode(47))){ex+='/'}ex+=e.mapTileUrl}ex=ss.replaceAllString(ex,'{K}',e.mapServerKey);ex=ss.replaceAllString(ex,'{L}',e.mapLayerRequest);var mp=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(BrowserSupport.BrowserSupport.DevicePixelRatio(),2);ex=ss.replaceAllString(ex,'{D}',(mp?'@2x':''));ex=ss.replaceAllString(ex,'{X}','{x}');ex=ss.replaceAllString(ex,'{Y}','{y}');ex=ss.replaceAllString(ex,'{Z}','{z}');ex=ss.replaceAllString(ex,'{P}','{p}');return ex},get_hasValidTileLayer:function(){return this.$2().mapHasValidLayer},get_attributionUrl:function(){return this.$2().mapAttributionUrl},get_attributionText:function(){return this.$2().mapAttributionText},get_attributionUrl2:function(){return this.$2().mapAttributionUrl2},get_attributionText2:function(){return this.$2().mapAttributionText2},get_attributionTextColor:function(){return this.$2().mapAttributionTextColor},get_attributionTextSize:function(){return this.$2().mapAttributionTextSize},get_attributionBGColor:function(){return this.$1(this.$2().mapAttributionFill)},get_mapBGFillColor:function(){return this.$1(this.$2().mapPaneBackgroundFill)},get_mapHolderBackgroundColor:function(){return this.$1(this.$2().mapHolderBackgroundColor)},get_hasWashout:function(){return this.$2().mapWashout>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.$2().mapWashout));return new bU(255,255,255,e)},get_mapScaleInfoModel:function(){return this.$6},get_radialSelectionDistanceInfoModel:function(){return this.$8},get_mapboxMapSourceModel:function(){return this.$7},get_rasterMapSourceModel:function(){return this.$9},get_allowLocalPanAndZoom:function(){return this.$2$4},set_allowLocalPanAndZoom:function(e){this.$2$4=e},get_sheetName:function(){var e=ss.safeCast(this.parent,lw);return(ss.isValue(e)?e.get_worksheetName().toString():'')},$2:function(){return this.pm},update:function(e,ex){var mo=ss.isValue(this.$2())&&ss.isValue(e);if(mo){var mp=!ss.referenceEquals(this.$2().mapTileServer,e.mapTileServer);var mq=!ss.referenceEquals(this.$2().mapLayerRequest,e.mapLayerRequest);if(mp||mq){this.raiseEvent(this.$2$2,ex)}var mr=this.$2().clientRequestsMapTiles!==e.clientRequestsMapTiles;if(mr){this.raiseEvent$2(Boolean,Boolean).call(this,this.$2$3,this.$2().clientRequestsMapTiles,e.clientRequestsMapTiles,ex)}}if(ss.isValue(e)){this.$8.update(e.radialSelectionDistanceInfo);this.$6.update(e.mapScaleInfo,ex);this.$7.update(e.mapboxMapSource,ex);this.$9.update(e.rasterMapSource)}this.simpleSwapToUpdate(e,this.$2$1,ex)},$1:function(e){return bU.fromColorCode(e||'rgb(255,255,255)').toString()}},hv);ss.initClass(kB,a,{get_defaultValue:function(){return ss.coalesce(this.defaultSpace,0)},set_defaultValue:function(e){this.defaultSpace=e},get_leftValue:function(){var e=this.left;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_leftValue:function(e){this.left=e},get_topValue:function(){var e=this.top;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_topValue:function(e){this.top=e},get_rightValue:function(){var e=this.right;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_rightValue:function(e){this.right=e},get_bottomValue:function(){var e=this.bottom;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_bottomValue:function(e){this.bottom=e},get_allSidesTheSame:function(){var e=this.$0;if(ss.isNullOrUndefined(e)){e=ss.isNullOrUndefined(this.bottom)&&ss.isNullOrUndefined(this.top)&&ss.isNullOrUndefined(this.left)&&ss.isNullOrUndefined(this.right)}return e},set_allSidesTheSame:function(e){this.$0=e;if(e){this.top=null;this.bottom=null;this.left=null;this.right=null}},mergeWithExisitingStyle:null});ss.initClass(hs,a,{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.margin=ss.unbox(this.defaultSpace)}else{delete ex.margin}if(ss.isValue(this.top)){ex.marginTop=ss.unbox(this.top)}else{delete ex.marginTop}if(ss.isValue(this.bottom)){ex.marginBottom=ss.unbox(this.bottom)}else{delete ex.marginBottom}if(ss.isValue(this.left)){ex.marginLeft=ss.unbox(this.left)}else{delete ex.marginLeft}if(ss.isValue(this.right)){ex.marginRight=ss.unbox(this.right)}else{delete ex.marginRight}return ex}},kB);hs.$ctor1.prototype=hs.prototype;ss.initClass(ht,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var mo=[];if(ss.isValue(e)&&ss.isValue(e.layer)){this.$1(e.layer,mo,ex)}if(ss.isValue(e)&&ss.isValue(e.layers)){for(var mp=0;mp<e.layers.length;mp++){var mq=e.layers[mp];this.$1(mq,mo,ex)}}this.$3=mo;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)},$1:function(e,ex,mo){var mp=_.find(this.$3,function(mq){return mq.equals$1(e)});if(ss.isNullOrUndefined(mp)){mp=new gW(this,e.paneSpec)}mp.update(e,mo);ex.push(mp)}},hv);ss.initClass(hu,a,{add_newMarkSize:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarkSize:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.minMarkSize},get_maxMarkSize:function(){return this.pm.maxMarkSize},get_currentMarkSize:function(){return this.pm.markSize},get_currentSliderFraction:function(){return tab.DoubleUtil.roundTwoDecimalPlaces(this.$3.valueToFraction(this.get_currentMarkSize()))},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},update:function(e,ex){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,this.$2$1,ex)},$1:function(e){switch(e.inflectionPoints.length){case 0:{this.$3=new hk(e.minMarkSize,e.maxMarkSize);break}case 1:{var ex=e.inflectionPoints[0];this.$3=new N(e.minMarkSize,e.maxMarkSize,ex.inflectionFraction,ex.inflectionValue,ex.inflectionFraction,ex.inflectionValue);break}case 2:default:{var mo=e.inflectionPoints[0];var mp=e.inflectionPoints[1];this.$3=new N(e.minMarkSize,e.maxMarkSize,mo.inflectionFraction,mo.inflectionValue,mp.inflectionFraction,mp.inflectionValue);break}}}},hv);ss.initClass(hy,a,{});ss.initClass(hz,a,{});ss.initClass(hA,a,{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var ex=this.$2[e];_.defer(ex)}this.$2.length=0}});ss.initClass(hB,a,{get_instanceType:function(){return'multiple'}},eO);ss.initClass(hC,a,{processEvent:function(e){}},null,[gD]);ss.initClass(hD,a,{get_notificationId:function(){return this.$1$1},set_notificationId:function(e){this.$1$1=e},onNotify:function(e,ex){var mo=$.Deferred();var mp=mo.promise();mp.done(ss.mkdel(this,function(){if(ss.isValue(this.$2)){hv.nonWorldUpdate(ss.mkdel(this,function(mq){this.$2.onNotify(e,mq)}))}}));if(ss.isValue(this.$2)){mo.resolve()}else{this.$1().done(ss.mkdel(this,function(mq){if(ss.isValue(mq)){this.$2=mq;this.$2.add_stopNotifying(ss.mkdel(this,this.$0))}mo.resolve()}))}},$0:function(){this.$2=null}},null,[gz]);ss.initClass(hE,a,{get_recoveryStates:function(){return hE.$0},get_tailIndex:function(){return 0},add:function(e,ex){return this.get_tailIndex()},adopt:function(e){},trackRedo:function(){return 0},trackUndo:function(){return 0}},null,[gA]);ss.initClass(hF,a,{$3:function(e,ex){this.$1().done([ss.mkdel(this,function(){var mp=this.$6.createEvent();mp.ofType(e);var mq=new ss.ObjectEnumerator(ex);try{while(mq.moveNext()){var mr=mq.current();mp.withProperty(mr.key,mr.value)}}finally{mq.dispose()}mp.withProperty('SiteId',this.$d);mp.withProperty('SiteLuid',this.$e);mp.withProperty('SiteUrlName',this.$f);mp.withProperty('UserId',this.$g);mp.withProperty('Language',tsConfig.language);mp.withProperty('Locale',tsConfig.locale);mp.withProperty('SessionId',tsConfig.sessionIdHash);mp.withProperty('ProjectId',tsConfig.current_project_id);mp.withProperty('WorkbookId',tsConfig.current_workbook_id);mp.withProperty('Public',tsConfig.isPublic);mp.withProperty('SaaS',tsConfig.is_saas);this.$a.reportEvent(mp.build())})]);var mo=hF.$1$1;if(!ss.staticEquals(mo,null)){mo(e,ex)}},$2:function(){return this.$4||(this.$4=hz.load$1('analytics-client',[]))},$0:function(){return this.$c||(this.$c=ma.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$b=e})).fail(ss.mkdel(this,function(e){})))},$1:function(){return this.$7||(this.$7=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var e=ss.isValue(this.$b);if(e){var ex=this.$b.server;var mo=this.$b.site;var mp=this.$b.user;e=ss.isValue(ex)&&ss.isValue(mo)&&ss.isValue(mp);if(e){this.$5=ex.analyticsEndpoint;this.$9=ex.logicalServerInstanceId;this.$d=mo.id;this.$e=mo.luid;this.$f=mo.urlName;this.$g=mp.id}}if(!e){}this.$a=new AnalyticsClient.Reporter(this.$5);this.$6=new AnalyticsClient.AnalyticsEventFactory('VizClient',this.$9,window.location.hostname)})]))}});ss.initClass(hG,a,{logEvent:function(e){if(!hG.isLoggerSupported()){return}var ex=e.parameters;var mo=tabBootstrap.MetricsController.getFriendlyEventDescription(ex.d);var mp=ss.Int32.trunc(ex.t);var mq=['Description',mo,'EndTime',mp,'MetricsSessionId',ex.sid,'IsMobile',!!ex.m,'UserAgent',BrowserSupport.BrowserSupport.GetUserAgent()];var mr=ss.Int32.trunc(ex.e);if(ss.isValue(mr)){mq.push('ElapsedTime');mq.push(mr)}if(ss.isValue(ex.ei)){mq.push('ExtraInfo');mq.push(ex.ei)}ih.get_instance().reportEvent('WebClientMetrics',mq)}});ss.initClass(hH,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'open-automated-insights-modal'},this.c))}},ss.makeGenericType(bd,[Object,hI]));ss.initClass(hI,a,{});ss.initClass(hJ,a,{});ss.initClass(hK,a,{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_architecture:function(){return this.$1$2},set_architecture:function(e){this.$1$2=e},get_family:function(){return this.$1$3},set_family:function(e){this.$1$3=e},get_version:function(){return this.$1$4},set_version:function(e){this.$1$4=e}});ss.initClass(hL,a,{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.padding=ss.unbox(this.defaultSpace)}else{delete ex.padding}if(ss.isValue(this.top)){ex.paddingTop=ss.unbox(this.top)}else{delete ex.paddingTop}if(ss.isValue(this.bottom)){ex.paddingBottom=ss.unbox(this.bottom)}else{delete ex.paddingBottom}if(ss.isValue(this.left)){ex.paddingLeft=ss.unbox(this.left)}else{delete ex.paddingLeft}if(ss.isValue(this.right)){ex.paddingRight=ss.unbox(this.right)}else{delete ex.paddingRight}return ex}},kB);hL.$ctor1.prototype=hL.prototype;ss.initClass(hM,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.title)},get_zoneModel:function(){return this.$1},update:function(e,ex,mo){if(this.isNewPresModelSameAsOld(e)){return}fl.notifyFontsFromPagePresModel(e);if(ex){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,mo)}else{this.swapAndCopyPresModel(e)}}},hv);ss.initClass(hO,a,{});ss.initClass(hP,a,{get_rowIndex:function(){return this.$0['rowIndex']},get_columnIndex:function(){return this.$0['columnIndex']},get_pageIndex:function(){return(ss.keyExists(this.$0,'pageIndex')?this.$0['pageIndex']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['columnIndex']=0;this.$0['rowIndex']=0}}});hP.$ctor1.prototype=hP.prototype;ss.initEnum(hQ,a,{success:'success',failure:'failure'},true);ss.initClass(hR,a,{});ss.initClass(hS,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().legacyPresModel},get_zone:function(){return this.get_zoneModel().pm},get_zoneModel:function(){return this.parent.get_zone()},get_parameterName:function(){return this.get_parameterCtrlPresModel().parameterName},get_attributes:function(){return this.$1.attributes},update:function(e,ex,mo){if(ss.isValue(e)){fl.notifyFontsFromTextStylePresModel(e.textStyle)}this.$1=ex;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,mo)},updateFrame:function(e,ex){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),ex)}}},hv);ss.initClass(hT,a,{});ss.initClass(hU,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},le);ss.initClass(hV,a,{},ss.makeGenericType(lJ,[Object,hW]));ss.initClass(hW,a,{});ss.initClass(hX,a,{do$1:function(){throw new ss.NotImplementedException},do$2:function(e){var ex=$.Deferred();var mo=this.c['exceptionAttrs'];var mp=this.c['dbPassword'].toString();var mq=this.c['savePasswordAllowed'];Z.performAuthentication(mo,mp,mq).done([function(){ex.resolve()}]).fail([function(){ex.reject()}]);return ex.promise()},invoke:function(){var e=$.Deferred();this.do$2(true).done([function(){e.resolve()}]).fail([function(){e.reject()}]);return e.promise()}},hV);ss.initClass(hY,a,{});ss.initClass(hZ,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingType)){return'invalid-encoding'}return this.pm.encodingType},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingUiItems)){return[]}return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.filterIconType)){return'no-filter'}return this.pm.filterIconType},get_hasDrill:function(){return this.pm.hasDrill||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm.shouldDrill||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.tooltip)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.iconTooltip)},get_displayName:function(){return this.pm.displayText},get_isContextFilter:function(){return this.pm.isContextFilter},get_contextMenuCommands:function(){return this.pm.commands},get_isMultipleFields:function(){return this.pm.encodingType!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,hB)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.$1=ex;this.swapAndCopyPresModel(e)}},hv);ss.initClass(ia,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabsrv',cmd:'ping-session'},this.c))}},ss.makeGenericType(bd,[Object,ib]));ss.initClass(ib,a,{});ss.initClass(ic,a,{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_layout:function(){return this.$1$2},set_layout:function(e){this.$1$2=e},get_manufacturer:function(){return this.$1$3},set_manufacturer:function(e){this.$1$3=e},get_name:function(){return this.$1$4},set_name:function(e){this.$1$4=e},get_prerelease:function(){return this.$1$5},set_prerelease:function(e){this.$1$5=e},get_product:function(){return this.$1$6},set_product:function(e){this.$1$6=e},get_userAgent:function(){return this.$1$7},set_userAgent:function(e){this.$1$7=e},get_version:function(){return this.$1$8},set_version:function(e){this.$1$8=e},get_OS:function(){return this.$1$9},set_OS:function(e){this.$1$9=e}});ss.initClass(id,a,{});ss.initClass(ie,a,{add_stopNotifying:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stopNotifying:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_notificationId:function(){return this.$1$2},set_notificationId:function(e){this.$1$2=e},onNotify:function(e,ex){if(ss.isValue(this.$3)){return}this.$3=ss.createInstance(this.$4);this.$5=document.createElement('div');this.$5.setAttribute('data-tb-test-id','PluginDialogHostNode');this.$2.appendChild(this.$5);this.$3.showDialog(e,this.$5,ss.mkdel(this,this.$0));this.$1()},$0:function(){this.$3=null;if(ss.isValue(this.$5)){this.$2.removeChild(this.$5);this.$5=null}},$1:function(){if(ss.isNullOrUndefined(this.$6)||ss.isNullOrUndefined(this.$6.contentClassName)||!ss.referenceEquals(this.$2,document.body)){return}var e=$(this.$2).find('.'+this.$6.contentClassName);if(e.length===0){return}var ex=e.parentsUntil('body').last();var mo=ex.prev();ex.css('z-index',this.$6.customZIndex);mo.css('z-index',this.$6.customZIndex)},dispose:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}this.$0()}},null,[gz,gu,ss.IDisposable]);ss.initClass(ih,a,{reportEvent:function(e,ex){hF.logEventDeprecated(e,ex)}});ss.initClass(ii,a,{});ss.initClass(ij,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(ik,a,{});ss.initEnum(il,a,{simple:0,array:1});ss.initClass(im,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){return true}if(ss.isNullOrUndefined(this.$j)){return false}for(var e=0;e<im.$7.length;e++){var ex=im.$7[e];if(ss.isNullOrUndefined(this.$j[ex])){continue}return true}return false},extractZoneContent:function(e){if(!im.$4(e)){return e}var ex=this.$4(e);if(ss.isNullOrUndefined(ex)){return e}this.$h(ex);ex.zones=this.$5(ex.zones);return e},updateZonesWithVizData:function(e,ex){if(ss.isNullOrUndefined(this.$p)||ss.getKeyCount(this.$p)===0){return}lB.addVizDataToZones(e.presModelMap,this.$p);var mo=_.keys(this.$p);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];var mr=this.$r[mq]||this.$3(this.$p[mq]);if(ss.isValue(mr)&&ss.isValue(mr.get_visualModel())){var ms=mr.get_visualModel();ms.update(ms.pm,ex)}}},processModelUpdate:function(e,ex,mo){if(!im.$4(e)||!this.get_hasZonesToLoad()){return e}var mp=this.$4(e);if(ss.isNullOrUndefined(mp)){return e}this.$h(mp);var mq=hv.removeUndefinedBoolsOnSwapCopy;if(mo){hv.removeUndefinedBoolsOnSwapCopy=false}try{var mr=mp.zones;var ms=_.keys(mr);for(var mt=0;mt<ms.length;mt++){var mu=ms[mt];var mv=mr[mu];if(ss.isNullOrUndefined(mv)){continue}var mw=this.$9(mv);if(!ss.contains(im.zonesThatDeferContentCreation,mw)){continue}var mx=false;var my=mv.zoneId;var mz=[im.$8[mw],6];for(var mA=0;mA<mz.length;mA++){var mB=mz[mA];var mC=this.$j[mB];if(ss.isValue(mC)){var mD=mC.length;for(var mE=0;mE<mD;mE++){var mF=mC[mE];if(ss.isValue(mF)&&mF.zoneId===my){mx=true;mC[mE]=this.$1(mF,mv,ex);break}}}if(mx){break}}if(!mx&&mw==='viz'){var mG=_.keys(this.$k);for(var mH=0;mH<mG.length;mH++){var mI=mG[mH];var mJ=this.$k[mI];if(my===mJ.zoneId){mx=true;this.$k[mI]=this.$1(mJ,mv,ex);break}}}if(mx){mv=im.removeZoneContent(mv)}}}finally{hv.removeUndefinedBoolsOnSwapCopy=mq}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$d();return}this.$q=tabBootstrap.MetricsController.createContext('ProgressiveLoad',2,null);this.$e();this.$c();this.$f()},abort:function(){this.stopTimers();this.$d()},setViewport:function(e){var ex=e.get_dimensions();if(ex.w===1&&ex.h===1){return}this.$o={x:ex.l,y:ex.t,w:ex.w,h:ex.h};this.$c()},getPendingVisuals:function(){var e={};var ex=_.keys(this.$p);for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=this.$p[mp].worksheet;var mr=this.getPendingVisual(mq);if(ss.isValue(mr)){e[mq]=mr}}return e},getPendingVisual:function(e){var ex=null;var mo=_.keys(this.$p);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];if(ss.referenceEquals(this.$p[mq].worksheet,e)){ex=this.$p[mq];break}}if(ss.isNullOrUndefined(ex)){return null}var mr=this.$r[ex.zoneId]||this.$3(ex);return mr.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$l)){return null}return this.$l[e]},stopTimers:function(){if(ss.isValue(this.$m)){window.clearTimeout(ss.unbox(this.$m));this.$m=null}},$d:function(){this.$j=null;this.$k=null;this.$p=null;this.$r=null;this.$l=null;this.$n=null;this.$m=null;this.$o=null;ss.clearKeys(this.$s)},$8:function(){var e={};for(var ex=0;ex<im.$7.length;ex++){var mo=im.$7[ex];if(mo===6&&ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){this.$j[6]=this.$j[6]||[];var mp=_.keys(this.$k);for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];this.$j[6].push(this.$k[mr])}this.$k=null}var ms=this.$j[mo];if(ss.isNullOrUndefined(ms)){continue}var mt=ms.length;var mu=im.$6[mo];var mv=0;if(mu.item1===-1){mv=mt}else{var mw=mu.item2*mt;if(mu.item1<mw){var mx=0;for(var my=0;my<ms.length;my++){var mz=ms[my];if(ss.isValue(mz)){++mx}}mv=Math.floor(mw);if(mx%mv>0){mv=mv+1}}else{mv=mu.item1}}var mA=0;var mB=0;while(mA<mv&&mB<mt){var mC=ms[mB];ms[mB]=null;mB++;if(ss.isNullOrUndefined(mC)){continue}if(im.$3(this.$9(mC))){var mD=mC.worksheet;if(ss.isValue(this.$k)&&ss.keyExists(this.$k,mD)){var mE=this.$k[mD];delete this.$k[mD];delete this.$p[mE.zoneId];e[mE.zoneId.toString()]=mE}}delete this.$p[mC.zoneId];var mF=this.$r[mC.zoneId];if(ss.isValue(mF)){delete this.$r[mC.zoneId];this.$l=this.$l||{};this.$l[mC.zoneId]=mF.get_model()}e[mC.zoneId.toString()]=mC;++mA}if(mB===mt){this.$j[mo]=null}break}return e},$a:function(e){if(ss.isNullOrUndefined(this.$o)){var ex=new tab.WindowHelper(window.self);var mo=ex.get_innerWidth();var mp=ex.get_innerHeight();var mq=ex.get_pageXOffset();var mr=ex.get_pageYOffset();this.$o={x:mq,y:mr,w:mo,h:mp}}var ms={x:e.zoneCommon.x,y:e.zoneCommon.y,w:e.zoneCommon.w,h:e.zoneCommon.h};return tab.RectXYUtil.intersectsWith(ms,this.$o)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var ex=tab.MiscUtil.cloneObject(this.$n);im.getZoneRoot(ex).zones=e;return ex},$e:function(){var e=ss.coalesce(tab.FeatureParamsLookup.getInt(39),0);this.$m=window.setTimeout(ss.mkdel(this,this.$b),e)},$b:function(){var e=this.$0();var ex=this.get_hasZonesToLoad();if(ex){this.$e()}this.$7(e,!ex);if(!ex){this.$6();this.$d()}},$7:function(e,ex){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex)}},$6:function(){if(ss.isValue(this.$q)){this.$q.dispose();this.$q=null}if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=im.getZoneRoot(e);if(ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(this.$n)){return null}this.$2(e);return ex},$5:function(e){if(ss.isNullOrUndefined(e)){return null}im.$2();this.$p={};this.$j={};this.$r={};var ex=_.keys(e);for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=e[mp];if(!ss.contains(im.zonesThatDeferContentCreation,this.$9(mq))){continue}var mr=im.cloneZone(mq);mq=im.removeZoneContent(mq);var ms=this.$9(mr);if(ms==='viz'){this.$p[mp]=mr}var mt=5;if(ss.keyExists(im.$8,ms)){mt=im.$8[ms]}this.$j[mt]=this.$j[mt]||[];this.$j[mt].push(mr)}return e},$c:function(){if(ss.isNullOrUndefined(this.$j)||this.$i){return}this.$k=this.$k||{};for(var e=0;e<im.$7.length;e++){var ex=im.$7[e];if(ex===6){continue}var mo=this.$j[ex];if(ss.isNullOrUndefined(mo)||mo.length===0){continue}var mp=0;var mq=new Array(mo.length);for(var mr=0;mr<mo.length;mr++){var ms=mo[mr];if(this.$a(ms)){mq[mp]=ms;mp++}else if(this.$9(ms)==='viz'){this.$k[ms.worksheet]=ms}else{this.$j[6]=this.$j[6]||[];this.$j[6].push(ms)}}if(mp>0){mq.length=mp;this.$j[ex]=mq}else{this.$j[ex]=null}}this.$i=true},$g:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var ex=e.length;var mo={};var mp=new Array(ex);for(var mq=0;mq<ex;mq++){var mr=e[mq];var ms=mr.zoneCommon.y*5000+mr.zoneCommon.x;while(ss.isValue(mo[ms])){ms+=1}mo[ms]=mr;mp[mq]=ms}mp=mp.sort(function(mw,mx){return((mw>mx)?1:-1)});for(var mt=0;mt<ex;mt++){var mu=mp[mt];var mv=mo[mu];e[mt]=mv}return e},$f:function(){if(ss.isNullOrUndefined(this.$j)){return}for(var e=0;e<im.$7.length;e++){var ex=im.$7[e];if(ex===6){continue}var mo=this.$j[ex];this.$j[ex]=this.$g(mo)}},$3:function(e){var ex=hy.findContentDashboard(null);var mo=new mm(ex.zonesModel,ex,e.zoneId);mo.update(e,hC.get_noopContext());this.$r[e.zoneId]=mo;return mo},$1:function(e,ex,mo){var mp=this.$r[e.zoneId]||this.$3(e);var mq=im.cloneZone(ex);mp.update(mq,mo);return mq},$h:function(e){$.extend(this.$s,im.$0(e))},$9:function(e){if(ss.isNullOrUndefined(e)){return'invalid'}if(ss.isValue(e.zoneCommon)){return e.zoneCommon.zoneType}return ss.coalesce(this.$s[e.zoneId],'invalid')},$2:function(e){if(ss.isNullOrUndefined(e)){return}var ex=this.$n;var mo=e;var mp=null;this.$n=im.$1(mo,ex);mp=this.$n;mo=mo.workbookPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.workbookPresModel);mp.workbookPresModel=im.$1(mo,ex);if(ss.isNullOrUndefined(mo)){return}mp=mp.workbookPresModel;mo=mo.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);mp.dashboardPresModel=im.$1(mo,ex);if(ss.isNullOrUndefined(mo)){return}if(e.workbookPresModel.dashboardPresModel.isStory){mp=mp.dashboardPresModel;mo=mo.zones;ex=(ss.isNullOrUndefined(ex)?null:ex.zones);var mq=null;var mr='';if(ss.isValue(mo)){var ms=mo;var mt=_.keys(ms);for(var mu=0;mu<mt.length;mu++){var mv=mt[mu];if(this.$9(ms[mv])!=='flipboard'){continue}mq=ms[mv];mr=mv;break}}if(ss.isNullOrUndefined(mq)){mp.zones=ex;return}mp.zones={};mp.zones[mr]=ii.cloneObjWithScalarsOnly(mq);mp=mp.zones[mr];mo=mo[mr].presModelHolder;ex=(ss.isNullOrUndefined(ex)?null:ex[mr].presModelHolder);mp.presModelHolder=im.$1(mo,ex);if(ss.isNullOrUndefined(mo)){return}mp=mp.presModelHolder;mo=mo['flipboard'];ex=(ss.isNullOrUndefined(ex)?null:ex['flipboard']);mp['flipboard']=im.$1(mo,ex);if(ss.isNullOrUndefined(mo)){return}var mw=mo.activeStoryPointId;mp=mp['flipboard'];mo=mo.storyPoints;ex=(ss.isNullOrUndefined(ex)?null:ex.storyPoints);mp.storyPoints=im.$1(mo,ex);if(ss.isNullOrUndefined(mo)){return}mp=mp.storyPoints;mo=mo[mw.toString()];ex=(ss.isNullOrUndefined(ex)?null:ex[mw.toString()]);mp[mw.toString()]=im.$1(mo,ex);if(ss.isNullOrUndefined(mo)){return}mp=mp[mw.toString()];mo=mo.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);mp.dashboardPresModel=im.$1(mo,ex)}}});ss.initClass(io,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}fl.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},hv);ss.initClass(ip,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var ex=true;if(ss.isValue(this.$1)){ex=ex&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){ex=ex&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return ex}});ss.initClass(iq,a,{});ss.initClass(ir,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$2().quickFilterCommands},get_zoneHasTitle:function(){return this.parent.get_zone().get_hasTitle()},get_titleCaption:function(){return this.$2().quickFilterTitle.caption},get_titleHtml:function(){return this.$2().quickFilterTitle.html},get_titleHeight:function(){return this.$2().quickFilterTitle.h},get_itemsHeight:function(){return this.$2().lineHeight},get_itemsFontName:function(){return this.$2().textStyle.fontName.toString()},get_itemsFontSize:function(){return this.$2().textStyle.fontSize+'pt'},get_itemsTextColor:function(){return this.$2().textStyle.color},get_itemsFontWeight:function(){return this.$2().textStyle.fontWeight},get_itemsFontStyle:function(){return this.$2().textStyle.fontStyle},get_itemsTextDecoration:function(){return this.$2().textStyle.textDecoration},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.zoneCommon.styledBox.fillColor},get_visualId:function(){var e=this.parent;return hy.getVisualId(e.get_zone().pm.sheet)},get_fieldName:function(){return this.$2().quickFilter.fn},$2:function(){return this.pm},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){fl.notifyFontsFromTextStylePresModel(e.textStyle)}this.swapAndCopyPresModel(e);if(e.quickFilter.quickFilterType!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.quickFilter));this.set_quickFilterType(e.quickFilter.quickFilterType)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.quickFilter,ex)}this.raiseEvent(this.$2$1,ex)}},$1:function(e){switch(e.quickFilterType){case'categorical':{return new bL(this)}default:{return null}}}},hv);ss.initClass(iu,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'quick-sort'},this.c))}},ss.makeGenericType(bd,[Object,iv]));ss.initClass(iv,a,{});ss.initClass(iw,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().earthRadius},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fontSize},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().largeUnitDisplay},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().mapLatLongRect},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().h},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().w},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().readoutOffset},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().shouldShowDistance},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().sigFigs},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().unitDivisor},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().smallUnitDisplay},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().unitTransition},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().decimalMark},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().distanceFontColor},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},hv);ss.initClass(ix,a,{},ss.makeGenericType(lJ,[Object,iy]));ss.initClass(iy,a,{});ss.initClass(iz,a,{do$1:function(){Y.get_instance().raiseNotification('doc:tabbed-auth-dialog-connected-event',null,null)}},ix);ss.initClass(iA,a,{},ss.makeGenericType(lJ,[Object,iB]));ss.initClass(iB,a,{});ss.initClass(iC,a,{do$1:function(){Y.get_instance().raiseNotification('doc:tabbed-auth-dialog-closed-event',null,null)}},iA);ss.initClass(iE,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().rankTypeValues},get_rankTypeCaptions:function(){return this.$1().rankTypeCaptions},get_rankTypeIndex:function(){return this.$1().rankTypeIndex},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().rankTypeState},get_sortDirectionValues:function(){return this.$1().sortDirectionValues},get_sortDirectionCaptions:function(){return this.$1().sortDirectionCaptions},get_sortDirectionIndex:function(){return this.$1().sortDirectionIndex},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},le);ss.initClass(iF,a,{get_hasPresModel:function(){return ss.isValue(this.pm)},get_rasterMapSourcePresModel:function(){return this.pm},get_minShrink:function(){return this.get_rasterMapSourcePresModel().mapMinShrink},get_maxStretch:function(){return this.get_rasterMapSourcePresModel().mapMaxStretch},get_intermediateTileLevels:function(){return this.get_rasterMapSourcePresModel().mapIntermediateLevels},get_mapTileSize:function(){return this.get_rasterMapSourcePresModel().mapTileSize},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},hv);ss.initClass(iG,a,{get_lineWidth:function(){return this.$1$1},set_lineWidth:function(e){this.$1$1=e},get_lineColor:function(){return this.$1$2},set_lineColor:function(e){this.$1$2=e},get_linePattern:function(){return this.$1$3},set_linePattern:function(e){this.$1$3=e},get_lineJoin:function(){return this.$1$4},set_lineJoin:function(e){this.$1$4=e},get_lineCap:function(){return this.$1$5},set_lineCap:function(e){this.$1$5=e},get_id:function(){return this.$1$6},set_id:function(e){this.$1$6=e},get_hasFillAbove:function(){return this.$1.$3()},get_hasFillBelow:function(){return this.$1.$5()},get_fillColorCount:function(){return this.$1.$2()},get_hasLine:function(){return ss.isValue(this.$4)},get_hasLabel:function(){return ss.isValue(this.$3)},get_hasFill:function(){return ss.isValue(this.$1)},get_scope:function(){return this.$1$7},set_scope:function(e){this.$1$7=e},get_labelBackgroundColor:function(){return this.$3.$1()},get_instantRefLineIsEnabled:function(){return this.$1$8},set_instantRefLineIsEnabled:function(e){this.$1$8=e},setPaneSection:function(e,ex,mo){this.$5[e]={item1:ex,item2:mo}},getRange:function(e){if(!ss.keyExists(this.$5,e)){return{item1:0,item2:0}}return this.$5[e]},getLinePixelPosition:function(e,ex,mo){return this.$4.$2(e,ex,mo)},getEndPoints:function(e,ex){return this.$4.$0(e,ex)},getHitTestBound:function(e,ex,mo){return this.$4.$1(e,ex,this.get_lineWidth(),mo)},getCellClipInfo:function(e){var ex=0;var mo=0;var mp=0;if(this.get_scope()===0){if(this.$2){ex=2;mp=this.$0[e]}else{ex=1;mo=this.$0[e]}}return{item1:ex,item2:mo,item3:mp}},getTextRunOffset:function(e){return this.$3.$6(e)},getTextRunCount:function(e){return this.$3.$5(e)},getLabelWidth:function(e){return this.$3.$9(e)},getLabelHeight:function(e){return this.$3.$2(e)},isTextAlignEnd:function(e){return this.$3.$a(e)},getTextStyle:function(e){return this.$3.$8(e)},computeLabelBoxPosition:function(e,ex,mo){return this.$3.$0(e,ex,mo,this.get_lineWidth(),this.$2)},getTextRun:function(e){return this.$3.$4(e)},getTextRunPosition:function(e){return this.$3.$7(e)},getFillColor:function(e){return this.$1.$0(e)},getFillRect:function(e,ex,mo){return this.$1.$1(this.$2,e,ex,mo)}});iG.$ctor2.prototype=iG.$ctor1.prototype=iG.prototype;ss.initClass(iH,a,{getRefLines:function(e){return this.$4.$2(e)},getInstantRefLines:function(e){return this.$3.$2(e)},getRefLineById:function(e){return this.$4.$1(e)},getInstantRefLineById:function(e){return this.$3.$1(e)},getRefBands:function(e){return this.$4.$0(e)},getInstantRefBands:function(e){return this.$3.$0(e)},$1:function(e,ex,mo){if(!ss.isValue(e.Details)||!ss.isValue(e.LayoutElements)){return}var mp=e.LayoutElements;if(mp.SpecId.length===0){return}var mq=new l(e);var mr=null;var ms=mq.$8[0];var mt=mq.$7[0];var mu=mq.$k[0];var mv=0;var mw=0;for(var mx=0;mx<mq.$8.length;++mx){var my=mq.$8[mx];mw=_.indexOf(mq.$9,my);if(mw===-1){break}var mz=mq.$0[mx];if(mz!==1&&mz!==2){continue}var mA=mz===1;if(mx===0||my!==ms){if(ss.isValue(mr)){mr.$1(mt,mv,mx);mr.$0(mu,ex,mo)}mr=new m(mq,mw,mx,mA,my);ms=my;mu=mq.$k[mw];mt=mq.$7[mx];mv=mx}else if(mt!==mq.$7[mx]){mr.$1(mt,mv,mx);mt=mq.$7[mx];mv=mx}}mr.$1(mt,mv,mq.$8.length);mr.$0(mu,ex,mo);fl.notifyFontsFromTextStyleTable(mq.$e);fl.notifyFontsFromTextStyleTable(mq.$i)},$2:function(e){if(ss.isNullOrUndefined(e)){return new n}var ex={};var mo={};var mp=ss.getEnumerator(Object.keys(e));try{while(mp.moveNext()){var mq=mp.current();if(!ss.keyExists(ex,mq)){ex[mq]=[]}if(!ss.keyExists(mo,mq)){mo[mq]=[]}this.$1(e[mq],ex[mq],mo[mq])}}finally{mp.dispose()}var mr=new n;mr.$5=iH.$0(ex);mr.$4=iH.$1(ex);mr.$3=iH.$1(mo);return mr}},hv);ss.initClass(iI,a,{get_columns:function(){return this.$3$1},set_columns:function(e){this.$3$1=e},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.set_columns(ex)}},eO);ss.initClass(iJ,a,{});ss.initClass(iK,a,{},bQ);ss.initClass(iL,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'replace-file-connection-from-file-upload'},this.c))}},ss.makeGenericType(bd,[Object,iM]));ss.initClass(iM,a,{hasDataSourceError:function(){return ss.keyExists(this.$$c,'dataSourceCreationError')}});ss.initClass(iN,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(iO,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'report-mapbox-params-failure'},this.c))}},ss.makeGenericType(bd,[Object,iP]));ss.initClass(iP,a,{});ss.initClass(iQ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'reset-field-caption'},this.c))}},ss.makeGenericType(bd,[Object,iR]));ss.initClass(iR,a,{});ss.initClass(iS,a,{},ss.makeGenericType(lJ,[Object,iT]));ss.initClass(iT,a,{});ss.initClass(iU,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'resize-axis-region'},this.c))}},ss.makeGenericType(bd,[Object,iV]));ss.initClass(iV,a,{});ss.initClass(iW,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'resize-cell-web'},this.c))}},ss.makeGenericType(bd,[Object,iX]));ss.initClass(iX,a,{});ss.initClass(iY,a,{get_count:function(){return this.pm.count},get_fieldName:function(){return this.pm.fn},get_height:function(){return this.pm.h},get_width:function(){return this.pm.w},update:function(e){this.swapAndCopyPresModel(e)}},hv);ss.initClass(iZ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'resize-header-region'},this.c))}},ss.makeGenericType(bd,[Object,ja]));ss.initClass(ja,a,{});ss.initClass(jb,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'resize-header-web'},this.c))}},ss.makeGenericType(bd,[Object,jc]));ss.initClass(jc,a,{});ss.initClass(jd,a,{add_resizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_totalCols:function(){return(ss.isValue(this.pm)?this.pm.colCount:0)},get_totalRows:function(){return(ss.isValue(this.pm)?this.pm.rowCount:0)},get_sheetHeight:function(){return this.pm.h},get_sheetWidth:function(){return this.pm.w},get_columnHeaders:function(){return this.$2$2},set_columnHeaders:function(e){this.$2$2=e},get_rowHeaders:function(){return this.$2$3},set_rowHeaders:function(e){this.$2$3=e},get_areRowHeadersWidthAdjustable:function(){return ss.isValue(this.get_rowHeaders())&&this.get_rowHeaders().length!==0&&this.get_rowHeaders()[this.get_rowHeaders().length-1].get_width()!==0},get_areColHeadersHeightAdjustable:function(){return ss.isValue(this.get_columnHeaders())&&this.get_columnHeaders().length!==0&&this.get_columnHeaders()[this.get_columnHeaders().length-1].get_height()!==0},get_areCellHeightsAdjustable:function(){return this.get_areRowHeadersWidthAdjustable()&&this.pm.cellHeightResizerEnabled},get_areCellWidthsAdjustable:function(){return this.get_areColHeadersHeightAdjustable()&&this.pm.cellWidthResizerEnabled},get_totalColumnHeadersHeight:function(){var e=0;var ex=this.get_columnHeaders();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];e+=mp.get_height()}return e},update:function(e,ex){if(ss.isNullOrUndefined(this.cellSize)){this.cellSize=new iY(this)}if(ss.isValue(e.resizeEntity)){this.cellSize.update(e.resizeEntity)}if(ss.isValue(e.rowResizers)){this.set_rowHeaders([]);for(var mo=0;mo<e.rowResizers.length;mo++){var mp=e.rowResizers[mo];var mq=new iY(this);mq.update(mp);this.get_rowHeaders().push(mq)}}if(ss.isValue(e.colResizers)){this.set_columnHeaders([]);for(var mr=0;mr<e.colResizers.length;mr++){var ms=e.colResizers[mr];var mt=new iY(this);mt.update(ms);this.get_columnHeaders().push(mt)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(je,a,{});ss.initEnum(jf,a,{noResponse:0,unauthorized:401,badRequest:400,forbidden:403,notFound:404,timeout:408,gone:410,payloadTooLarge:413,tooManyRequests:429,internalServerError:500,badGateway:502,serviceUnavailable:503});ss.initClass(jg,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'retrieve-summary-statistics'},this.c))}},ss.makeGenericType(bd,[Object,jh]));ss.initClass(jh,a,{hasSummaryStatistics:function(){return ss.keyExists(this.$$c,'markSummaryStatistics')}});ss.initClass(ji,a,{});ss.initClass(jj,a,{});ss.initClass(jk,a,{});ss.initClass(jl,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isOpen:function(){return this.$2},set_isOpen:function(e){if(this.$2!==e){this.$2=e;this.$1()}},get_typeOfContentBeingLoaded:function(){return this.$3},set_typeOfContentBeingLoaded:function(e){this.$3=e},$1:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},hv);ss.initEnum(jm,a,{none:0,commenting:1,DDA:2});ss.initClass(jn,a,{get_dataStore:function(){return this.$1$1},set_dataStore:function(e){this.$1$1=e},get_vtl:function(){return this.$1$2},set_vtl:function(e){this.$1$2=e},get_dataStoreUpdater:function(){return this.$1$3},set_dataStoreUpdater:function(e){this.$1$3=e}});jn.$ctor1.prototype=jn.prototype;ss.initClass(jo,a,{});ss.initClass(jp,a,{get_isRuntimeSupported:function(){return this.$3},set_isRuntimeSupported:function(e){this.$3=e;this.$1()},get_isRuntimeReady:function(){return this.$2},set_isRuntimeReady:function(e){this.$2=e;this.$1()},addDebugViewToElement:function(e){if(ss.isNullOrUndefined(this.$4)){this.$4=$('<div></div>');this.$4.appendTo(e)}this.$0()},$0:function(){if(this.get_isRuntimeSupported()){var e='';if(!this.$2){e=' pending-runtime'}this.$4.html("<div class='tab-RuntimeDebugStatus"+e+"'>RE</div>")}else{this.$4.html("<div class='tab-RuntimeDebugStatus no-runtime'>NR</div>")}},$1:function(){if(!ss.isNullOrUndefined(this.$4)){this.$0()}}});ss.initClass(jq,a,{});ss.initEnum(jr,a,{runtimeLoaded:0});ss.initClass(js,a,{});ss.initClass(jt,a,{});ss.initClass(ju,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().uindex},get_paneIndex:function(){return this.get_sceneElementPM().paneIndex},get_tupleId:function(){return this.get_sceneElementPM().tupleId},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().visualPart},get_detail:function(){return this.get_sceneElementPM().sceneModelDetailEnum},get_hitType:function(){return this.get_sceneElementPM().sceneModelHitType},get_detailId:function(){return this.get_sceneElementPM().detailId},get_cellId:function(){return this.get_sceneElementPM().cellId},get_worldOffset:function(){return this.get_sceneElementPM().worldOffset},get_markState:function(){return this.get_sceneElementPM().markState},get_hitDistance:function(){return this.get_sceneElementPM().distance},get_overlayHit:function(){return this.get_sceneElementPM().useForOverlayHitTest}},hv);ss.initClass(jv,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$c},get_refLineVisualLists:function(){return this.$9},get_trendLineVisualLists:function(){return this.$b},get_referenceLines:function(){return this.$2$2},set_referenceLines:function(e){this.$2$2=e},get_drawFirstParts:function(){return this.$7},get_drawLastParts:function(){return this.$8},get_paneDescriptorCount:function(){return ss.getKeyCount(this.get_sceneRuntimeData().get_finalDataStore().PDMarks)},get_sceneRuntimeData:function(){if(ss.isNullOrUndefined(this.$a)){if(_.isNull(this.pm)||_.isNull(this.pm.runtimeRenderInputDatastore)){this.$a=new tab.RuntimeData('')}else{this.$a=new tab.RuntimeData(this.pm.runtimeRenderInputDatastore)}}return this.$a},set_sceneRuntimeData:function(e){this.$a=e},update:function(e,ex){if(ss.isValue(e.markShapeList)){Y.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}this.$5(e);this.$3();this.$6(this.$7,this.get_sceneRuntimeData().get_drawFirsts(),true,ex);this.$6(this.$8,this.get_sceneRuntimeData().get_drawLasts(),false,ex);this.$2();var mo=ss.isNullOrUndefined(e.userPaneInfo);e.currentPage=e.currentPage||0;this.swapAndCopyPresModel(e);if(mo){this.pm.userPaneInfo=null}this.$1();this.$4();this.raiseEvent(this.$2$1,ex)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(){var e=this.get_sceneRuntimeData().get_panes();ss.clear(this.$9);ss.clear(this.$b);if(ss.isValue(e)){for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(ss.isValue(mo.drawPane)){for(var mp=0;mp<mo.drawPane.length;mp++){var mq=mo.drawPane[mp];if(ss.isValue(mq)){if(mq.visualPart==='ref-lines'){this.$9.push(mq)}else if(mq.visualPart==='trend-lines'){this.$b.push(mq)}}}}}}},$3:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.get_sceneRuntimeData())){ss.clearKeys(this.get_visualListModels());return}var e=new ss.ObjectEnumerator(this.get_visualListModels());try{while(e.moveNext()){var ex=e.current();var mo={$:ex.key};var mp=_.find(this.get_sceneRuntimeData().get_drawFirsts(),ss.mkdel({currentPart:mo},function(mq){return this.currentPart.$===mq.visualPart}));if(ss.isNullOrUndefined(mp)){mp=_.find(this.get_sceneRuntimeData().get_drawLasts(),ss.mkdel({currentPart:mo},function(mq){return this.currentPart.$===mq.visualPart}))}if(ss.isNullOrUndefined(mp)){delete this.get_visualListModels()[mo.$]}}}finally{e.dispose()}},$5:function(e){if(ss.isValue(e.runtimeFinalDatastoreLocal)&&ss.isValue(this.$a)){var ex=new tab.DatastoreHandle(e.runtimeFinalDatastoreLocal,null);tab.RuntimeWebModule.proxy.marshallDatastore(ex).done(ss.mkdel(this,function(mo){this.$a.update(mo)}))}else if(ss.isValue(e.runtimeRenderInputDatastore)){this.$a=new tab.RuntimeData(e.runtimeRenderInputDatastore)}else{this.$a=null}},$6:function(e,ex,mo,mp){ss.clear(e);for(var mq=0;mq<ex.length;mq++){var mr=ex[mq];fl.notifyFontsFromVisualListPresModel(mr);var ms=mr.visualPart;if(!ss.keyExists(this.$c,ms)){this.$c[ms]=new lv(this)}if(mo&&ss.contains(e,ms)){continue}e.push(ms);this.$c[ms].update(mr,mp)}},$2:function(){var e=this.get_sceneRuntimeData().get_panes();if(ss.isValue(e)){for(var ex=0;ex<e.length;ex++){var mo=e[ex];for(var mp=0;mp<mo.drawPane.length;mp++){var mq=mo.drawPane[mp];fl.notifyFontsFromVisualListPresModel(mq)}}}if(ss.isValue(this.get_sceneRuntimeData())&&ss.isValue(this.get_sceneRuntimeData().get_finalDataStore().PDMarks)){var mr=new ss.ObjectEnumerator(this.get_sceneRuntimeData().get_finalDataStore().PDMarks);try{while(mr.moveNext()){var ms=mr.current();fl.notifyFontsFromMarkLayoutOutput(ms.value)}}finally{mr.dispose()}}},$4:function(){this.set_referenceLines(null);if(ss.isValue(this.get_sceneRuntimeData().get_finalDataStore().RefLines)){this.set_referenceLines(new iH(this,this.get_sceneRuntimeData().get_finalDataStore()))}}},hv);ss.initClass(jw,a,{});ss.initClass(jx,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var ex=0-e.getTimezoneOffset();var mo=0;var mp=this.$9.scheduleDetails.startTime;var mq=0;var mr='';if(tsConfig.display_schedules_in_client_timezone){mo=ex-this.$9.serverTimezoneOffset;mp=jx.$2(this.$9.scheduleDetails.startTime,mo);mq=jx.$0(this.$9.scheduleDetails.startTime,mo)}switch(this.$9.scheduleType){case'Hourly':{mr=this.$2(mp,mo);break}case'Daily':{mr=this.$0(mp);break}case'Weekly':{mr=this.$4(mp,mq);break}case'Monthly':{mr=this.$3(mp,mq);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){mr=tab.Strings.SerialScheduleDescription(mr,tab.Strings.SerialScheduleDescriptionSuffix)}return mr},$7:function(e,ex,mo){var mp=ss.Int32.div(e,60);if(ex===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(mp===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),jx.$1(mo))}}else if(ex===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(mp===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(mp,jx.$1(mo))}}else if(ex===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(mp===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(mp,jx.$1(mo))}}else if(ex===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(mp===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(mp,jx.$1(mo))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+ex)}},$2:function(e,ex){var mo=(this.$9.scheduleDetails.endTime+ex)%1440;if(e===mo){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var mp;if(this.$9.scheduleDetails.recurrenceMinutes<60){mp=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){mp=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{mp=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(mp,jx.$1(e),jx.$1(mo))},$0:function(e){return tab.Strings.ScheduleDailyDescription(jx.$1(e))},$4:function(e,ex){var mo=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(ex!==0){mo=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,ex)}var mp=this.$1(mo);return tab.Strings.ScheduleWeeklyDescription(jx.$1(e),mp)},$6:function(e,ex){var mo=[];for(var mp=0;mp<e.length;mp++){var mq=ss.indexOf(jx.$7,e[mp]);var mr=(mq+ex+jx.$7.length)%jx.$7.length;mo.push(jx.$7[mr])}return mo},$1:function(e){switch(e.length){case 1:{return jx.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(jx.$6[e[0]],jx.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(jx.$6[e[0]],jx.$6[e[1]],jx.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(jx.$6[e[0]],jx.$6[e[1]],jx.$6[e[2]],jx.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(jx.$6[e[0]],jx.$6[e[1]],jx.$6[e[2]],jx.$6[e[3]],jx.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(jx.$6[e[0]],jx.$6[e[1]],jx.$6[e[2]],jx.$6[e[3]],jx.$6[e[4]],jx.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(jx.$6[e[0]],jx.$6[e[1]],jx.$6[e[2]],jx.$6[e[3]],jx.$6[e[4]],jx.$6[e[5]],jx.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,ex){var mo=this.$9.scheduleDetails.recurrenceDayOfMonth;if(ex!==0){mo=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,ex)}if(mo==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(jx.$1(e))}else if(mo==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(jx.$1(e))}var mp=mo.charCodeAt(mo.length-1);var mq='';if(mp===49){mq=tab.Strings.FirstEnding(mo)}else if(mp===50&&mo!=='12'){mq=tab.Strings.SecondEnding(mo)}else if(mp===51&&mo!=='13'){mq=tab.Strings.ThirdEnding(mo)}else{mq=tab.Strings.NumberEnding(mo)}return tab.Strings.ScheduleMonthlyDescription(mq,jx.$1(e))},$5:function(e,ex){var mo=new Date;var mp=(new Date(mo.getFullYear(),mo.getMonth()+1,0)).getDate();if(e==='Last'){if(ex>0){return'1'}else if(ex<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&ex<0){return'Last'}var mq=parseInt(e);var mr=(mq+ex+mp)%mp;return mr.toString()}});ss.initClass(jy,a,{});ss.initClass(jz,a,{});ss.initClass(jA,a,{});ss.initClass(jB,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},this.c))}},ss.makeGenericType(bd,[Object,jC]));ss.initClass(jC,a,{});ss.initClass(jD,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabsrv',cmd:'select-dataserver-data-source-for-proxy'},this.c))}},ss.makeGenericType(bd,[Object,jE]));ss.initClass(jE,a,{});ss.initClass(jF,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'select-extension-and-add-to-dashboard'},this.c))}},ss.makeGenericType(bd,[Object,jG]));ss.initClass(jG,a,{});ss.initClass(jH,a,{});ss.initClass(jI,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$5)){var e={};e.selectionType='tuples';e.objectIds=this.$5;return e}return this.$4()},get_selectionType:function(){return this.$4().selectionType},get_nodes:function(){return this.$4().selectedNodes},get_ids:function(){if(ss.isValue(this.$5)){return this.$5}return this.$4().objectIds},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().legendSelectionInfo.legendType+':'+this.get_selectionPresModel().legendSelectionInfo.legendColumns.join(';')}return e},$4:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$4())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$6)){this.$6={};if(ss.isValue(this.get_ids())){var ex=this.get_ids();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];this.$6[mp]=true}}}return ss.keyExists(this.$6,e.objectId)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty||ss.isNullOrUndefined(e.node)){return false}return ss.isValue(this.$1(e.node))},findNodeSelection:function(e){return this.$1(e.node)},isNodeAncestorSelected:function(e){if(ss.isNullOrUndefined(e.node)||ss.isNullOrUndefined(e.node.columnIndices)){return false}var ex=e.node;var mo=ex.columnIndices;var mp=ex.aliasIndices;for(var mq=0;mq<ex.columnIndices.length;mq++){var mr=ss.arrayExtract(mo,mq);var ms=ss.arrayExtract(mp,mq);if(ss.isValue(this.$2(mr,ms,ex.axisOrientation,null,ex.duplicateIndex,ex.pageIndex))){return true}}return false},setOverriddenTupleIds:function(e,ex){if(this.$4().selectionType!=='tuples'){return}if(_.isEqual(this.$5,e)||tab.MiscUtil.isNullOrEmpty$2(this.$5)&&tab.MiscUtil.isNullOrEmpty$2(e)){return}this.$5=e;this.$3();this.raiseEvent(this.$2$1,ex)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$5)){return}this.$7=null;this.$6=null;this.$5=null;this.swapAndCopyPresModel(e);this.$3();this.raiseEvent(this.$2$1,ex)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var ex=e;if(ex.selectionType!==this.get_selectionPresModel().selectionType){return false}if(ss.isValue(ex.objectIds)&&!_.isEqual(ex.objectIds,this.get_selectionPresModel().objectIds)){return false}if(ss.isValue(ex.selectedNodes)&&!_.isEqual(ex.selectedNodes,this.get_selectionPresModel().selectedNodes)){return false}if(ss.isValue(ex.legendSelectionInfo)&&!_.isEqual(ex.legendSelectionInfo,this.get_selectionPresModel().legendSelectionInfo)){return false}return true},$1:function(e){return this.$2(e.columnIndices,e.aliasIndices,e.axisOrientation,e.fn,e.duplicateIndex,e.pageIndex)},$2:function(e,ex,mo,mp,mq,mr){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(mp)&&ss.isNullOrUndefined(mo)){return null}if(ss.isNullOrUndefined(this.$7)){this.$7={};var ms=this.$4();if(ss.isValue(ms.selectedNodes)){for(var mt=0;mt<ms.selectedNodes.length;mt++){var mu=ms.selectedNodes[mt];this.$7[jI.$0(mu.columnIndices,mu.aliasIndices,mu.axisOrientation,mu.fn,mu.duplicateIndex,mu.pageIndex)]=mu}}}if(ss.getKeyCount(this.$7)===0){return null}return this.$7[jI.$0(e,ex,mo,mp,mq,mr)]},createSelectionToken:function(){return this.get_selectionPresModel()},$3:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty$2(this.get_ids())&&tab.MiscUtil.isNullOrEmpty$2(this.$4().selectedNodes)}},hv);ss.initClass(jJ,a,{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}});ss.initEnum(jK,a,{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});ss.initClass(jL,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty&&ex.get_selectionType()!=='legend-items'&&ex.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(jN.isCategoricalAndTupleAssociatedHeader(mo)){return true}}return false},getLegendSelection:function(e,ex){var mo=_.find(this.selectionModels,function(mp){return mp.get_selectionType()==='legend-items'&&ss.isValue(mp.get_selectionPresModel())&&mp.get_selectionPresModel().legendSelectionInfo.legendType===e&&_.isEqual(mp.get_selectionPresModel().legendSelectionInfo.legendColumns,ex)});if(ss.isNullOrUndefined(mo)){mo=this.$1('legend-items',hC.get_noopContext());mo.get_selectionPresModel().legendSelectionInfo.legendType=e;mo.get_selectionPresModel().legendSelectionInfo.legendColumns=ex}return mo},update:function(e,ex){var mo=_.compact(e);var mp=[];var mq=[];for(var mr=0;mr<mo.length;mr++){var ms=mo[mr];var mt;if(ms.selectionType==='legend-items'){mt=this.getLegendSelection(ms.legendSelectionInfo.legendType,ms.legendSelectionInfo.legendColumns)}else{mt=this.$2(ms.selectionType)}if(ss.isNullOrUndefined(mt)){mt=new jI(this,this.selectionModels.length);this.selectionModels.push(mt)}var mu=parseInt(mt.presModelKey.name);mp[mu]=ms;mt.update(ms,ex);mq.push(mt.get_hashKey())}for(var mv=0;mv<this.selectionModels.length;mv++){var mw=this.selectionModels[mv];if(ss.contains(mq,mw.get_hashKey())){continue}var mx=jL.$1(mw.get_selectionType());if(mx.selectionType==='legend-items'){mx.legendSelectionInfo=mw.get_selectionPresModel().legendSelectionInfo}mw.update(mx,ex);var my=parseInt(mw.presModelKey.name);mp[my]=mw.get_selectionPresModel()}for(var mz=0;mz<mp.length;++mz){e[mz]=mp[mz]}var mA=new jM;mA.selections=e;var mB=mA;if(this.isNewPresModelSameAsOld(mB)){return}this.swapAndCopyPresModel(mB);this.raiseEvent(this.$2$1,ex)},$2:function(e){return _.find(this.selectionModels,function(ex){return ex.get_selectionType()===e})},$1:function(e,ex){var mo=new jI(this,this.selectionModels.length);this.selectionModels.push(mo);var mp=jL.$1(e);mo.update(mp,ex);return mo},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,ex,mo){if(ss.isNullOrUndefined(e)){return new jJ(true,1,null)}var mp=jJ.noDifference();for(var mq=0;mq<e.selections.length;mq++){var mr=e.selections[mq];switch(mr.selectionType){case'ref-lines':case'trend-lines':{var ms=mr.objectIds||[];var mt=jL.$0(ms,this.$2(mr.selectionType).get_ids());if(mt.length>0){return new jJ(true,3,null)}break}case'tuples':{var mu=mr.objectIds;var mv=this.tupleSelection.get_ids();var mw=(ss.isValue(ex)?ex.objectIds:[]);var mx=(ss.isValue(mo)?mo.get_ids():[]);var my=mu.length+mw.length!==0!==(mv.length+mx.length!==0);if(my){return new jJ(true,2,null)}var mz=jL.$0(mu,mv);var mA=jL.$0(mw,mx);var mB=[];ss.arrayAddRange(mB,mz);ss.arrayAddRange(mB,mA);mp=new jJ(false,2,Array.prototype.slice.call(mB));break}default:{break}}}return mp},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(ex){return ex.selectionType==='tuples'&&ex.objectIds.length>0})}},hv);ss.initClass(jM,a,{});ss.initClass(jN,a,{});ss.initClass(jO,a,{});ss.initClass(jP,a,{});ss.initClass(jQ,a,{});ss.initClass(jR,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,ex){try{if(ss.isValue(this.$2)){this.$2(e,ex)}}finally{this.$0()}},onSuccess:function(e,ex,mo){try{var mp=ss.isInstanceOfType(e,Error);if(mp){this.$5.$3(e,mo,false,null)}else if(mo.status===202){var mq=mo['args'];var mr=new jS(this.$5,mq);mr.requestStatus();mp=true}if(!mp){if(ss.isValue(this.$4)){this.$4(e,ex,mo)}}}finally{this.$0()}},onError:function(e,ex,mo){try{if(ss.isValue(this.$3)){this.$3(e,ex,mo)}else{this.$5.$3(mo,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(jS,a,{requestStatus:function(){var e=ss.mkdel(this,function(mq,mr,ms){this.$1(mr,ms)});var ex=ss.mkdel(this,function(mq,mr,ms){this.$0(mq,mr)});var mo=new jR(this.$8,null,e,ex,false,false);var mp={};mp.type='GET';mp.url=this.$9;mp.cache=false;mj.helper(mp,mo)},$1:function(e,ex){if(ex.status===204){this.$6=true}this.$2(e,ex)},$0:function(e,ex){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,ex)}},$2:function(e,ex){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var mo=this.$5['skipResendOriginal'];if(ss.isValue(mo)&&mo){if(ss.isValue(this.$5.complete)){this.$5.complete(ex,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}mj.helper(this.$5,null)}});ss.initClass(jT,a,{});ss.initClass(jU,a,{});ss.initClass(jV,a,{handleCommandFailure:function(e,ex,mo,mp){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var mq=lF.createForCurrentWindowLocation(null);if(!this.$3(mq)){return false}if(!this.$1(ex.status)){return false}if(this.$4){return false}if(this.$2(tsConfig.sessionid)){return true}this.$0(mq);return true},$3:function(e){if(e.get_isCustomizedView()){return false}return e.get_isAuthoringUri()||e.get_isViewingUri()},$2:function(e){return ss.isValue(this.$5)&&ss.equalsT(this.$5,e)},$1:function(e){return e===410||e===404||e===502||e===503},$0:function(e){e.set_ignoreStickySession(true);dI.$1(this.$6);this.$5=tsConfig.sessionid;jW.switchToViz$1(e,ss.mkdel(this,function(ex,mo){this.$4=this.$2(tsConfig.sessionid);this.$5=null;e.set_ignoreStickySession(false)}),ss.mkdel(this,function(ex){var mo=20;var mp=ex.getHistoryTail(mo);jV.raiseSessionRecoveryAttemptEvent(mp);tabBootstrap.ViewerBootstrap.get_instance().bootstrapRecoverSession(this.$5,mp)}))}},null,[gI]);ss.initClass(jW,a,{});ss.initClass(jX,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'set-dashboard-current-layout'},this.c))}},ss.makeGenericType(bd,[Object,jY]));ss.initClass(jY,a,{});ss.initClass(jZ,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'set-dashboard-sizing-with-validation'},this.c))}},ss.makeGenericType(bd,[Object,ka]));ss.initClass(ka,a,{});ss.initClass(kb,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'set-variables-prompt-responded'},this.c))}},ss.makeGenericType(bd,[Object,kc]));ss.initClass(kc,a,{});ss.initClass(kd,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$3)},getImageElement:function(e){if(ss.keyExists(this.$3,e)){return this.$3[e].imageElement}return null},getCachedCanvas:function(e){return this.$2[e]},generateCachedCanvas:function(e,ex){var mo=null;if(ss.isValue(ex)){mo=ex();if(ss.isValue(mo)){this.$2[e]=mo}}return mo},getCachedStampCanvas:function(e){return this.$4[e]},generateCachedStampCanvas:function(e,ex){if(ss.getKeyCount(this.$4)>=kd.get_canvasCacheCapacity()){return null}if(!ss.isValue(ex)){return null}var mo=ex();if(!ss.isValue(mo)){return null}this.$4[e]=mo;return mo},updateCustomImageMap:function(e){for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(ss.isValue(mo)){this.$1(mo)}}},$1:function(e){var ex=e.shapeId;var mo=ex.toString();var mp=null;var mq=0;var mr=false;if(ss.keyExists(this.$3,mo)){mr=true;mp=this.$3[mo].imageElement;mq=this.$3[mo].imageSize}var ms=e.image;var mt=ms.length;if(mr&&(!ss.isValue(mp)||mt<=mq)){return}var mu=document.createElement('img');mu.src='data:image/png;base64,'+ms;this.$3[mo]={imageElement:mu,imageSize:mt};var mv=null;mv=ss.thisFix(ss.mkdel(this,function(){if(mr){ss.clearKeys(this.$2)}this.$0(ex);mu.removeEventListener('load',mv,false)}));mu.addEventListener('load',mv,false)},hasShape:function(e){return ss.keyExists(this.$3,e.toString())&&this.$3[e.toString()].imageElement.complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$4)}});ss.initClass(ke,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(kf,a,{});ss.initClass(kg,a,{get_isDashboard:function(){return this.pm.isDashboard},get_isIncluded:function(){return this.pm.isIncluded},get_name:function(){return this.pm.name},update:function(e){this.swapAndCopyPresModel(e)}},hv);ss.initClass(kh,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,ex){if(ss.isValue(e.sheetListItems)){this.$2=[];for(var mo=0;mo<e.sheetListItems.length;mo++){var mp=new kg(this.$1,mo);mp.update(e.sheetListItems[mo]);this.$2.push(mp)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(ki,a,{get_visualId:function(){return hy.getVisualId(this.sheetId)},requestHSMChildren:function(e,ex,mo,mp){if(!tsConfig.allow_filter){return}var mq=function(mw,mx,my){mo(mw)};var mr=this.createHandler(null,mq,null,'none');var ms=new Object;ms['name']='file';ms['filename']='file';ms['contentType']='text/javascript';ms['content']=JSON.stringify(ex);var mt=ss.mkdict(['_method','PUT']);var mu=mj.getMultipartData(ms,mt);var mv={type:'POST',url:this.formatFilterReference(this.sheetId,e,'show_children'),dataType:'json',contentType:'multipart/form-data; boundary='+mu.header,data:mu.body};this.request(mv,mr)},getFilterItems:function(e,ex,mo,mp,mq){if(!tsConfig.allow_filter){return}var mr=function(mv,mw,mx){mp(mv)};var ms=this.createHandler(null,mr,null,'none');var mt={};mt['fromIndex']=mo.get_from();mt['toIndex']=mo.get_to();mt['domain']=ex;var mu=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));mu.data=mt;this.request(mu,ms)},searchFilter:function(e,ex,mo,mp,mq,mr,ms){if(!tsConfig.allow_filter){return null}var mt=function(mz,mA,mB){var mC=mz;mr(mC)};var mu=function(mz,mA,mB){ms(mB)};var mv=this.createHandler(null,mt,mu,'none');var mw=(mp?'searchwithindex':'search');var mx=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,mw));var my=ss.mkdict(['query',ex,'maxRows',mo,'domain',mq]);mx.data=my;return this.request(mx,mv)}},be,[gL]);ss.initClass(kj,a,{},hv);ss.initClass(kk,a,{},hv);ss.initClass(kl,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().paneSpec)?this.$1().paneSpec:0)},get_shelfType:function(){return this.$1().shelfType},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().tooltip)},get_isVisible:function(){return this.$1().showShelf},$1:function(){return this.pm},findPill:function(e){return _.find(this.get_pills(),function(ex){return ex.pm.shelfItemId===e})},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex,mo){if(this.isNewPresModelSameAsOld(e)){return}if(e.shelfItems===null){this.$2=[]}else if(ss.isValue(e.shelfItems)){var mp=[];var mq=new kj(this);for(var mr=0;mr<e.shelfItems.length;mr++){var ms=e.shelfItems[mr];var mt=ms.fn;var mu;if(ss.isNullOrEmptyString(mt)&&e.shelfType==='encoding-shelf'){mu=new hB}else{mu=ex.findField(mt)}if(ss.isNullOrUndefined(mu)){ms.isInvalid=true}if(ms.isInvalid){var mv=new eJ(new eR('',ex.findDataSourceFromGlobalFieldName(mt)));var mw={type:'column',fn:mt,description:mt,fieldIconIdx:0};mv.update(mw);mu=mv}var mx=new hZ(mq,mr);mx.update(ms,mu);mp.push(mx)}this.$2=mp}this.swapAndCopyPresModel(e);this.raiseEvent$1(kl).call(this,this.$2$1,this,mo)}},hv);ss.initClass(km,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,ex,mo,mp){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,ex,mo,mp);this.raiseEvent(this.$2$1,mp)},$1:function(e,ex,mo,mp){if(ss.isValue(e)){var mq=ss.arrayClone(this.$3);for(var mr=0;mr<e.shelfList.length;mr++){var ms={$:e.shelfList[mr]};if(ss.isNullOrUndefined(ms.$.paneSpec)&&ss.isValue(mo)){ms.$.paneSpec=ss.unbox(mo)}var mt=_.find(this.$3,ss.mkdel({shelf:ms},function(mw){return mw.get_shelfType()===this.shelf.$.shelfType&&mw.get_paneId()===(this.shelf.$.paneSpec||0)}));if(ss.isValue(mt)){ss.remove(mq,mt);mt.update(ms.$,ex,mp)}else{this.$3.push(km.createShelfModel(this,ms.$,ex,mr,mp))}}for(var mu=0;mu<mq.length;mu++){var mv=mq[mu];ss.remove(this.$3,mv)}}},$2:function(e,ex){return _.find(e,function(mo){return mo.get_shelfType()===ex})}},hv);ss.initClass(kn,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'show-dashboard-title'},this.c))}},ss.makeGenericType(bd,[Object,ko]));ss.initClass(ko,a,{});ss.initClass(kp,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'show-edit-axis-dialog'},this.c))}},ss.makeGenericType(bd,[Object,kq]));ss.initClass(kq,a,{});ss.initClass(kr,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'show-image-object-config-dialog'},this.c))}},ss.makeGenericType(bd,[Object,ks]));ss.initClass(ks,a,{});ss.initClass(kt,a,{get_simpleCommand:function(){return this.$0['simpleCommand'.toString()]},set_simpleCommand:function(e){this.$0['simpleCommand'.toString()]=e}});ss.initClass(ku,a,{get_fontFamilies:function(){return Array.prototype.slice.call(this.$1)},toSimpleFontList:function(){return ku.$0(this.$1)},$0:function(e){this.$1=[];if(ss.isNullOrUndefined(e)){return}var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var mo=ex.current();this.$1.push(new fj.$ctor1(mo,[mo]))}}finally{ex.dispose()}}});ku.$ctor1.prototype=ku.$ctor2.prototype=ku.prototype;ss.initClass(kv,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.name},get_width:function(){return this.pm.w},get_height:function(){return this.pm.h},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(kw,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'sort-from-indicator'},this.c))}},ss.makeGenericType(bd,[Object,kx]));ss.initClass(kx,a,{});ss.initClass(ky,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ex)}},hv);ss.initClass(kz,a,{});ss.initClass(kA,a,{});ss.initClass(kC,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'start-new-data-alert'},this.c))}},ss.makeGenericType(bd,[Object,kD]));ss.initClass(kD,a,{});ss.initClass(kE,a,{});ss.initClass(kF,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$4},get_isBackingSheetDashboard:function(){return this.$3().isBackingSheetDashboard},$3:function(){return this.pm},get_storyPointId:function(){return this.$3().storyPointId},get_currentSheet:function(){return this.$3().currentSheet},update:function(e,ex){if(!ss.isValue(e)){return}if(ss.isValue(this.$3())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.storyPointId||this.$1(e))){Y.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new ik(e.storyPointId.toString(),0);if(ss.isValue(this.$4)){this.raiseEvent(this.$2$1,ex);this.$4=null}this.$4=new cZ(this);this.$2(e.dashboardPresModel,ex);this.raiseEvent(this.$2$2,ex)}else{this.$2(e.dashboardPresModel,ex)}this.swapPresModel(e)},$2:function(e,ex){if(ss.isValue(e)){this.get_dashboardModel().update(e,ex)}},$1:function(e){return ss.isNullOrEmptyString(e.currentSheet.toString())&&!ss.isNullOrEmptyString(this.get_currentSheet())}},hv);ss.initClass(kG,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,ex){if(!ss.isValue(this.$1)){this.$1=new kF(this,e.storyPointId)}this.$1.update(e,ex)}},hv);ss.initClass(kH,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var ex=this.$3.get(e.toString());return ex.$0()},addStoryPoint:function(e,ex){this.$3.add(e.toString(),new G(ex))},$0:function(e){var ex=e.get_worldUpdateCommand();var mo=e.get_applicationPresModel();var mp=e.get_sheetChanged();if(this.$2(mo,mp)){this.$1()}if(!kH.$3(mo)){return}if(!_.contains(kH.$5.value(),ex.commandName)){return}var mq=kH.$1(mo);if(ss.isNullOrUndefined(mq)){return}var mr=mq.storyPointId.toString();this.$3.add(mr,new G(mq))},$2:function(e,ex){if(kH.$2(e)){return false}if(!e.workbookPresModel.dashboardPresModel.isStory||ex){return true}return false},$1:function(){this.$3.clear();kH.$4=null},dispose:function(){this.$1();mh.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(kI,a,{get_isStory:function(){return this.$1$1},set_isStory:function(e){this.$1$1=e},get_storyPointId:function(){return this.$1$2},set_storyPointId:function(e){this.$1$2=e},get_sheetName:function(){return this.$1$3},set_sheetName:function(e){this.$1$3=e}});ss.initClass(kJ,a,{get_instanceType:function(){return'structuredMeasure'},get_canHaveChildren:function(){return true},get_measures:function(){return this.$4$1},set_measures:function(e){this.$4$1=e},update$1:function(e,ex){this.swapAndCopyPresModel(e);this.set_measures(ex)}},eJ);ss.initClass(kK,a,{});ss.initClass(kL,a,{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_styledBoxPresModel:function(){return ss.coalesce(this.pm,new Object)},get_hasFill:function(){return ss.coalesce(this.get_styledBoxPresModel().hasFill,false)},get_fillColor:function(){return ss.coalesce(this.get_styledBoxPresModel().fillColor,'rgba(0, 0, 0, 0)')},get_margin:function(){return this.$1.get_defaultValue()},get_marginTop:function(){return this.$1.get_topValue()},get_marginLeft:function(){return this.$1.get_leftValue()},get_marginBottom:function(){return this.$1.get_bottomValue()},get_marginRight:function(){return this.$1.get_rightValue()},get_marginDefinition:function(){return new hs.$ctor1(this.get_styledBoxPresModel())},get_padding:function(){return this.$2.get_defaultValue()},get_paddingTop:function(){return this.$2.get_topValue()},get_paddingLeft:function(){return this.$2.get_leftValue()},get_paddingBottom:function(){return this.$2.get_bottomValue()},get_paddingRight:function(){return this.$2.get_rightValue()},get_paddingDefinition:function(){return new hL.$ctor1(this.get_styledBoxPresModel())},get_borderStyle:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyle,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleTop,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleLeft,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleBottom,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleRight,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColor,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorTop,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorLeft,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorBottom,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorRight,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.get_styledBoxPresModel().uw,0)},get_borderWidthTop:function(){return ss.coalesce(this.get_styledBoxPresModel().uwt,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().uwl,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().uwb,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.get_styledBoxPresModel().uwr,this.get_borderWidth())},get_border:function(){return new bh(this.get_borderWidth(),this.get_borderStyle(),this.get_borderColor(),0)},get_borderTop:function(){return new bh(this.get_borderWidthTop(),this.get_borderStyleTop(),this.get_borderColorTop(),1)},get_borderLeft:function(){return new bh(this.get_borderWidthLeft(),this.get_borderStyleLeft(),this.get_borderColorLeft(),2)},get_borderBottom:function(){return new bh(this.get_borderWidthBottom(),this.get_borderStyleBottom(),this.get_borderColorBottom(),4)},get_borderRight:function(){return new bh(this.get_borderWidthRight(),this.get_borderStyleRight(),this.get_borderColorRight(),3)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.pm=e;this.$2=new hL.$ctor1(this.get_styledBoxPresModel());this.$1=new hs.$ctor1(this.get_styledBoxPresModel());this.raiseEvent(this.$2$1,ex)}},hv);ss.initClass(kM,a,{});ss.initClass(kN,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.calcNestingLevel;this.$0=e.fn}});ss.initClass(kO,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().tableCalcTypeState},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().tableCalcTypeIndex},get_tableCalcTypeCaptions:function(){return this.$2().tableCalcTypeCaptions},get_tableCalcTypeValues:function(){return this.$2().tableCalcTypeValues},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,ex){var mo=e;if(this.isNewPresModelSameAsOld(mo)){return}this.swapAndCopyPresModel(mo);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(mo.tableCalcIdentifier);this.$3.update(mo.tableCalcOrderingPresModel,ex);this.$1(ex)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,ex)}this.raiseEvent(this.$2$1,ex)},$1:function(e){var ex=null;var mo=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{ex=dP;mo='differenceTableCalcPresModel'.toString();break}case'pct-total':{ex=hU;mo='percentTotalTableCalcPresModel'.toString();break}case'rank':case'pct-rank':{ex=iE;mo='rankTableCalcPresModel'.toString();break}case'cumulative':{ex=cT;mo='cumulativeTableCalcPresModel'.toString();break}case'window':{ex=lU;mo='windowTableCalcPresModel'.toString();break}case'custom':{ex=cV;mo='customTableCalcPresModel'.toString();break}default:{break}}if(ss.isNullOrUndefined(ex)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),ex)){this.$4=new ex(this)}this.$4.update(kO.$0(this.$2(),mo),e)}},hv);ss.initClass(kP,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().orderingTypeValues},get_orderingTypeIndex:function(){return this.get_ordering().orderingTypeIndex},get_orderingTypeCaptions:function(){return this.get_ordering().orderingTypeCaptions},get_addressingIndexes:function(){return this.get_ordering().addressingIndices},get_addressingInvalidIndexes:function(){return this.get_ordering().addressingInvalidIndices},get_addressingCaptions:function(){return this.get_ordering().addressingCaptions},get_addressingValues:function(){return this.get_ordering().addressingValues},get_addressingState:function(){return this.get_ordering().addressingState},get_atTheLevelState:function(){return this.get_ordering().atTheLevelState},get_atTheLevelCaptions:function(){return this.get_ordering().atTheLevelCaptions},get_atTheLevelValues:function(){return this.get_ordering().atTheLevelValues},get_atTheLevelIndex:function(){return this.get_ordering().atTheLevelIndex},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().atTheLevelFieldIsInvalid},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().atTheLevelInvalidFieldCaption},get_atTheLevelSpecialCaption:function(){return this.get_ordering().atTheLevelSpecialCaption},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().restartEveryState},get_restartEveryCaptions:function(){return this.get_ordering().restartEveryCaptions},get_restartEveryIndex:function(){return this.get_ordering().restartEveryIndex},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().restartEveryFieldIsInvalid},get_restartEveryValues:function(){return this.get_ordering().restartEveryValues},get_restartEverySpecialCaption:function(){return this.get_ordering().restartEverySpecialCaption},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().sortState},get_sortAggState:function(){return this.get_ordering().sortAggState},get_sortModeIsAuto:function(){return this.get_ordering().sortModeIsAuto},get_sortModeCaption:function(){return this.get_ordering().sortModeCaption},get_sortField:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortFieldValues[this.get_ordering().sortFieldIndex]},get_isSortFieldInvalid:function(){return this.get_ordering().sortFieldIsInvalid},get_sortFieldCaptions:function(){return this.get_ordering().sortFieldCaptions},get_sortFieldIndex:function(){return this.get_ordering().sortFieldIndex},get_sortFieldValues:function(){return this.get_ordering().sortFieldValues},get_sortAgg:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortAggValues[this.get_ordering().sortAggIndvValues]},get_sortAggCaptions:function(){return this.get_ordering().sortAggCaptions},get_sortAggIndex:function(){return this.get_ordering().sortAggIndvValues},get_sortAggValues:function(){return this.get_ordering().sortAggValues},get_sortDirectionValues:function(){return this.get_ordering().sortDirectionValues},get_sortDirectionIndex:function(){return this.get_ordering().sortDirectionIndex},get_sortDirectionCaptions:function(){return this.get_ordering().sortDirectionCaptions},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new kN(null):this.parent.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(kQ,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm.relativeValues},get_relativeCaptions:function(){return this.pm.relativeCaptions},get_fixedValues:function(){return this.pm.fixedValues},get_fixedCaptions:function(){return this.pm.fixedCaptions},get_paramValues:function(){return this.pm.paramValues},get_paramCaptions:function(){return this.pm.paramCaptions},get_referenceOptionsSets:function(){return this.pm.referenceOptionsSets},get_selectionIndex:function(){return this.pm.referenceIndex},get_referenceWidgetState:function(){return this.pm.referenceOptionsState},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new kN(null):e.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(kR,a,{});ss.initClass(kS,a,{});ss.initClass(kT,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.halign},get_html:function(){return this.pm.html},get_orientation:function(){return this.pm.orientation},get_styledBox:function(){return this.pm.styledBox},get_vAlign:function(){return this.pm.valign},get_sheetName:function(){return this.pm.worksheet},update:function(e,ex){fl.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(kU,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'toggle-ind-join-semantics'},this.c))}},ss.makeGenericType(bd,[Object,kV]));ss.initClass(kV,a,{});ss.initClass(kW,a,{},ss.makeGenericType(lJ,[Object,kX]));ss.initClass(kX,a,{});ss.initClass(kY,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var ex=cm.create(this.pm.vizCommands);e=ex.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=cm.create(this.pm.nonVizCommands);return e.get_commandItems()},get_legacyMenuItems:function(){return(ss.isNullOrUndefined(this.pm)?null:this.pm.legacyMenus)},update:function(e,ex){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,ex)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var ex=_.find(this.get_legacyMenuItems(),function(mo){return mo.legacyMenuName===e});return ss.isValue(ex)&&_.every(ex.legacyMenuStates,function(mo){return mo!=='grayed'})}},hv);ss.initClass(kZ,a,{});ss.initClass(la,a,{dispatch:function(e,ex){return function(mo){if(!ss.staticEquals(this.$3,null)){return $.Deferred().reject()}this.$0(e,ex).call(this,mo);var mp=$.Deferred();var mq=dH.get_instance();mq.dispatch(e,ex).call(mq,mo).done(function(mr){mp.resolve(mr)}).fail(function(){mp.reject()}).always(ss.mkdel(this,function(){this.$1(e,ex).call(this,mo)}));return mp}},deferUntilCommandsComplete:function(e){this.$3=e;if(this.$2.length===0){this.$3()}},$0:function(e,ex){return function(mo){this.$2.push(mo)}},$1:function(e,ex){return function(mo){ss.remove(this.$2,mo);if(this.$2.length===0&&!ss.staticEquals(this.$3,null)){this.$3()}}}},null,[gq]);ss.initClass(lb,a,{$0:function(){return this.$1},get_transactedChange:function(){return lb.$0(this.$2)},makeMutablePresModel:function(e,ex){var mo=e.getPresModelPath();for(var mp=0;mp<this.$2.length;mp++){var mq=this.$2[mp];if(_.isEqual(mq.$1(),mo)){return mq.$0()}}var mr=e.getMutableCopyOfPresModel();this.$2.push(new u(mo,mr));if(!ex){this.$1.push(new u(mo,e.pm))}return mr}});ss.initClass(lc,a,{beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new lb(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$0,ex.$1().get_pathAsString())){this.$0[ex.$1().get_pathAsString()]=ex}}}finally{e.dispose()}var mo=this.$1.get_transactedChange();this.$1=null;return mo},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){Y.get_instance().update(lb.$1(_.values(this.$0)),e)}},containsTransaction:function(e){return ss.keyExists(this.$0,e)}});ss.initClass(ld,a,{get_notificationId:function(){return'doc:type-in-pill-event'},get_isAdhoc:function(){return true},onNotify:function(e,ex){this.update(e,ex)}},bF,[gz]);ss.initClass(lf,a,{get_itemCount:function(){return this.$1().get_commandItems().length},get_hasItems:function(){return this.get_itemCount()>0},get_defaultItem:function(){return this.$1().get_defaultItem()},$1:function(){return cm.create(this.get_wrappedCommandItemPresModel().get_commands())}},cc,[gr]);ss.initClass(lh,a,{});ss.initClass(li,a,{});ss.initClass(lj,a,{addFontList:function(e){for(var ex=0;ex<e.length;ex++){var mo=e[ex];var mp=mo.get_fonts();for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];this.$0[mr]=mo.get_fontGroup()}}},toFontFamilyProvider:function(){if(ss.isNullOrUndefined(this.$0)){return new ku.$ctor2([])}var e=[];var ex={};var mo=ss.getEnumerator(Object.keys(this.$0));try{while(mo.moveNext()){var mp=mo.current();var mq=this.$0[mp];var mr=ex[mq.toLowerCase()];if(ss.isNullOrUndefined(mr)){mr=new cs(mq);e.push(mr);ex[mq.toLowerCase()]=mr}mr.addFont(mp)}}finally{mo.dispose()}e=_.sortBy(e,function(ms){return ms.get_fontGroup().toLowerCase()});return new ku.$ctor2(e)}});ss.initClass(lk,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'update-data-alert'},this.c))}},ss.makeGenericType(bd,[Object,ll]));ss.initClass(ll,a,{});ss.initClass(lm,a,{});ss.initEnum(ln,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(lo,a,{});ss.initClass(lp,a,{invoke:function(){return this.invoke$1(co.newCommand({ns:'tabdoc',cmd:'validate-data-value'},this.c))}},ss.makeGenericType(bd,[Object,lq]));ss.initClass(lq,a,{hasCaptionedValue:function(){return ss.keyExists(this.$$c,'captionedDataValue')}});ss.initClass(lr,a,{update:function(e){this.pm=e}},hv);ss.initClass(ls,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$f:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,ex,mo){if(ls.canUseTileCacheUrl(e)){return this.formatTileURL(e,ex,0,0,'',mo)}return this.$f(ex)+'&'+mo},$e:function(e,ex){var mo='';if(!tab.MiscUtil.isNullOrEmpty$3(ex)){mo='&fn='+encodeURIComponent(ex)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+mo},formatLegendRegionTileURL:function(e,ex,mo,mp,mq){mp=(ss.isNullOrUndefined(mp)?'':mp);if(ls.canUseTileCacheUrl(e)){return this.formatTileURL(e,ex+mp,0,0,mo,mq)}return this.$e(ex,mo)+'&'+mq},formatTileURL:function(e,ex,mo,mp,mq,mr){if(ls.canUseTileCacheUrl(e)){var ms=e;var mt;if(!tab.MiscUtil.isNullOrEmpty$3(mq)){mt='?fn='+encodeURIComponent(mq)+'&'+mr}else{mt='?='+mr}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ms,'%SESSIONID%',tsConfig.sessionid),'[r]',ex),'[x]',mo.toString()),'[y]',mp.toString())+mt}var mu=this.formatViewMethod(this.viewid,'tile');return mu+'?r='+ex+'&x='+mo+'&y='+mp+'&'+mr},formatUnderlyingDataURL:function(e,ex){var mo=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));mo.append('?maxrows=200');if(ss.isValue(e)){mo.append('&select_x=').append(e.x);mo.append('&select_y=').append(e.y)}if(ss.isValue(ex)){mo.append('&viz=').append(encodeURIComponent(JSON.stringify(ex)))}return mo.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},executeAction:function(e,ex,mo){if(e.get_commandType()===9){this.executeCommand(e)}else{var mp=co.newCommand({ns:'tabdoc',cmd:'run-action'},e.command.commandParams);jP.executeServerCommand(mp,'immediately',ex,mo)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.get_commandType()){case 9:{var ex={};ex.url=e.command.commandParams.url;ex.target=e.command.commandParams.target;Q.launchActionUrls([ex],this.get_commonDialogProvider());break}case 7:{var mo=null;var mp=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)){if(ss.keyExists(e.command.commandParams,'selectAtPoint')){var mq=JSON.parse(e.command.commandParams['selectAtPoint']);mo=tab.PointUtil.fromPresModel(mq)}if(ss.keyExists(e.command.commandParams,'visualId')){mp=e.command.commandParams['visualId']}}window.open(this.formatUnderlyingDataURL(mo,mp),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 5:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}}},ki,[gL]);ss.initClass(lt,a,{});ss.initClass(lv,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().drawItems;for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(mo.type==='draw-group'){this.$1.push(mo)}}}return this.$1},update:function(e,ex){fl.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},hv);ss.initClass(lw,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_annotationHitBoxesChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_annotationHitBoxesChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},get_totalMarks:function(){return(tab.FeatureFlags.isEnabled('WebAddStatusBar')?this.pm.totalMarks:0)},get_shouldShowStats:function(){return(tab.FeatureFlags.isEnabled('WebAddStatusBar')?this.pm.shouldShowStats:false)},get_selectedMarks:function(){return(tab.FeatureFlags.isEnabled('WebAddStatusBar')?this.pm.selectedMarks:0)},get_numberOfRows:function(){return(tab.FeatureFlags.isEnabled('WebAddStatusBar')?this.pm.numberOfRows:0)},get_numberOfColumns:function(){return(tab.FeatureFlags.isEnabled('WebAddStatusBar')?this.pm.numberOfColumns:0)},get_lastComputedCalculation:function(){return(tab.FeatureFlags.isEnabled('WebAddStatusBar')?this.pm.lastComputedCalculation:null)},get_worksheetName:function(){return this.get_visualId().worksheet},get_visualId:function(){return this.pm.visualIdPresModel},get_containerGeometry:function(){return this.get_zone().get_zoneCommonModel().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.tooltipMode},get_scenePresModel:function(){return this.pm.scene},get_shelves:function(){return this.$D},get_analyticsModel:function(){return this.$j},get_marksCardModel:function(){return this.$x},get_selectionsModel:function(){return this.$C},get_impliedSelectionModel:function(){return this.$v},get_brushingsModel:function(){return this.$m},get_showMeModel:function(){return this.$E},get_sceneModel:function(){return this.$B},get_mapServerModel:function(){return this.$w},get_tileCacheUrl:function(){return this.$n},get_filters:function(){return _.values(this.$q)},get_filterModels:function(){return this.$q},get_geometryModel:function(){return this.$t},get_sortIndicatorsModel:function(){return this.$F},get_axisRegionModel:function(){return this.$k},get_vizDataModel:function(){return this.$I},get_titleModel:function(){return this.$G},get_captionModel:function(){return this.$o},get_hiddenTuples:function(){return this.$i},get_filteredTuples:function(){return this.$h},get_isMap:function(){return this.pm.isMap},get_hasBackgroundImage:function(){return this.pm.hasBackgroundImage},get_floatingToolbarVisibility:function(){return this.pm.floatingToolbarVisibility},get_geoSearchVisibility:function(){return this.pm.geographicSearchVisibility},get_vizNavigationSetting:function(){return this.pm.vizNavigationSetting},get_defaultMapTool:function(){return this.pm.defaultMapToolEnum},get_hasModifiedAxes:function(){return this.pm.hasModifiedAxes},get_backgroundColor:function(){return bU.fromColorCode(this.pm.bgColor)},get_paneBGColor:function(){return this.pm.paneColor},get_headerBGColor:function(){return this.pm.headerColor},get_shouldUpdate:function(){return Y.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=hy.findContentDashboard(null);return e.get_invalidSheets()},get_isVisualValidAndUpToDate:function(){return this.$H},get_isVisualValid:function(){return this.pm.valid},get_isBrushedFromAction:function(){return this.$l},get_emptyHighlightFogAll:function(){return this.$p},get_zone:function(){var e=ss.safeCast(this.parent,ml);return e.get_zone()},get_runtimeData:function(){return this.$y},get_runtimeReady:function(){return this.$z.state()==='resolved'},get_runtimeHandles:function(){return this.$z},get_runtimeStatusView:function(){return this.$A},setIsVisualValidAndUpToDate:function(e,ex){if(this.pm.valid&&e!==this.$H){this.$H=e;this.raiseEvent(this.$2$5,ex)}},setIsBrushedFromAction:function(e,ex){if(this.$l!==e){this.$l=e;this.raiseEvent(this.$2$6,ex)}},setEmptyHighlightFogAll:function(e,ex){if(this.$p!==e){this.$p=e;this.raiseEvent(this.$2$9,ex)}},getAnnotationList:function(){if(ss.isValue(this.pm.annotationList)){return this.pm.annotationList}return[]},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(ex){return ss.referenceEquals(ex,e)}).length>1},setFilteredTuples:function(e,ex){this.$r.set(e,ex);var mo=new Map;this.$r.forEach(function(mq){for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];mo.set(ms.toString(),ms)}});var mp=this.$h.size!==mo.size;if(!mp){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$h,function(mq,mr){if(!mo.has(mr)){mp=true;throw new tab.LoopBreakException}})}if(mp){this.$h=mo;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,ex){this.$u.set(e,ex);var mo=new Map;this.$u.forEach(function(mq){for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];mo.set(ms.toString(),ms)}});var mp=this.$i.size!==mo.size;if(!mp){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$i,function(mq,mr){if(!mo.has(mr)){mp=true;throw new tab.LoopBreakException}})}if(mp){this.$i=mo;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.scene;var ex=this.pm.markLabels;var mo=this.pm.vizData;delete this.pm['scene'.toString()];delete this.pm['vizData'.toString()];delete this.pm['markLabels'.toString()];var mp=hv.prototype.getMutableCopyOfPresModel.call(this);this.pm.scene=e;this.pm.vizData=mo;this.pm.markLabels=ex;return mp},reValidate:function(e){if(this.get_isVisualValidAndUpToDate()!==this.pm.valid){this.$H=this.pm.valid;this.raiseEvent(this.$2$5,e)}},$c:function(e){if(ss.isNullOrUndefined(this.$k)){this.$k=[]}if(ss.isValue(e.$.axisRegions)){this.$k=e.$.axisRegions}},update:function(e,ex){e={$:e};if(ss.isNullOrUndefined(this.$D)){this.$D=new km(this)}if(ss.isValue(e.$.shelves)){var mo=this.$3(e.$);this.$D.update(e.$.shelves,Y.get_instance().get_workbook().get_dataSchema(),mo,ex)}if(ss.isValue(e.$.analyticsPane)){if(ss.isNullOrUndefined(this.$j)){this.$j=new V(this)}this.$j.update(e.$.analyticsPane,ex)}if(ss.isValue(e.$.vizData)){if(ss.isNullOrUndefined(this.$I)){this.$I=new lA(this)}this.$I.update(e.$.vizData,ex)}this.$g(e.$,ex);if(ss.isValue(e.$.colorDictionary)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.colorDictionary,e.$.colorDictionary)){this.raiseEvent(this.$2$7,ex)}}if(ss.isValue(e.$.vizNavigationSetting)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.vizNavigationSetting,e.$.vizNavigationSetting)){this.raiseEvent(this.$2$8,ex)}}if(ss.isValue(e.$.annotationList)&&tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){this.raiseEvent(this.$2$10,ex)}if(ss.isNullOrUndefined(this.$x)){this.$x=new ht(this)}if(ss.isValue(e.$.marksCardPresModel)){this.$x.update(e.$.marksCardPresModel,ex)}if(ss.isValue(e.$.selectionList)&&e.$.selectionList.length>0){this.$C.update(e.$.selectionList,ex)}if(ss.isValue(e.$.brushingSelectionList)){this.$m.update(e.$.brushingSelectionList,ex)}this.$6(this.$C.nodeSelection.get_nodes(),ex);if(!ss.isValue(this.$E)){this.$E=new cl(this)}if(ss.isValue(e.$.showMeCommands)){this.$E.update(e.$.showMeCommands,ex)}this.$d(e.$,ex);var mp=e.$.filtersJson||'';var mq=(ss.isNullOrEmptyString(mp)?null:JSON.parse(mp));if(this.$9(mq,mp)){this.$s=mp;if(ss.isValue(mq)){var mr={};for(var ms=0;ms<mq.length;ms++){var mt=mq[ms];var mu=tableau.format.formatQualifiedName(mt.name);var mv=this.$q[mu];if(ss.isNullOrUndefined(mv)){mv=hy.createFilterModel(this,mt)}mv.update(mt,ex);mr[mu]=mv}this.$q=mr}}var mw=null;if(!ss.isNullOrEmptyString(e.$.cacheUrlInfoJson)){var mx=JSON.parse(e.$.cacheUrlInfoJson);mw=mx['url'].toString()}if(!ss.referenceEquals(this.get_tileCacheUrl(),mw)){this.$n=mw;this.$4(ex)}var my=e.$.geometryJson||'';if(!ss.isValue(this.$t)){this.$t=new lr(this)}var mz=(ss.isNullOrEmptyString(my)?null:JSON.parse(my));this.$t.update(mz);if(ss.isNullOrUndefined(this.$G)){this.$G=new kT(this,'visualTitle'.toString())}if(ss.isValue(e.$.visualTitle)){this.$G.update(e.$.visualTitle,ex)}if(!ss.isValue(this.$o)){this.$o=new kT(this,'visualCaption'.toString())}if(ss.isValue(e.$.visualCaption)){this.$o.update(e.$.visualCaption,ex)}if(!ss.isValue(this.$F)){this.$F=new ky(this)}if(ss.isValue(e.$.sortIndicators)){this.$F.update(e.$.sortIndicators,ex)}this.$c(e);this.setEmptyHighlightFogAll(e.$.emptyHighlightFogAll,ex);if(ss.isNullOrUndefined(this.resizeInfoModel)){this.resizeInfoModel=new jd(this)}if(ss.isValue(e.$.resizeInfo)){this.resizeInfoModel.update(e.$.resizeInfo,ex)}if(!ss.referenceEquals(e.$,this.pm)){this.swapAndCopyPresModel(e.$);this.reValidate(ex);this.$a(ex)}},$a:function(e){this.raiseEvent(this.$2$1,e)},$4:function(e){if(ss.isValue(this.get_tileCacheUrl())){this.raiseEvent(this.$2$4,e)}},$9:function(e,ex){if(ss.isNullOrUndefined(this.$s)){return true}if(ss.isValue(e)){var mo=_.find(e,function(mp){return mp.isTiled});if(ss.isValue(mo)){return true}}return!ss.referenceEquals(this.$s,ex)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var ex;var mo=this.$v.get_ids();if(tab.MiscUtil.isNullOrEmpty$2(mo)){ex=e}else if(tab.MiscUtil.isNullOrEmpty$2(e)){ex=mo}else{var mp=[];ss.arrayAddRange(mp,e);ss.arrayAddRange(mp,mo);ex=Array.prototype.slice.call(mp)}return ex},$6:function(e,ex){var mo=bj.getTuplesAssociatedWithSelectedNodes(this,e);this.$v.setOverriddenTupleIds(mo,ex)},$1:function(e){this.$v.setOverriddenTupleIds([],e)},$3:function(e){if(ss.isValue(e)&&ss.isValue(e.marksCardPresModel)&&ss.isValue(e.marksCardPresModel.paneSpec)){return e.marksCardPresModel.paneSpec}return hy.findActivePaneSpecId()},shouldDoLocalCommand:function(){return Y.get_instance().shouldDoLocalCommand()&&Y.get_instance().get_isLocalRenderMode()&&(!this.get_mapServerModel().get_hasPresModel()||this.get_mapServerModel().get_useFastMaps())&&ss.isValue(this.get_runtimeData())&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates)&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates.SupportedClientUpdates)},requestRuntimeDataAndUpdateVM:function(){if(!this.shouldDoLocalCommand()){return}this.$A.set_isRuntimeSupported(true);Y.get_instance().setupRuntime();if(ss.isNullOrUndefined(Y.get_instance().get_runtimeInitialized())){return}var e=this.$5();var ex=$.Deferred();this.$z=ex.promise();var mo=tabBootstrap.MetricsController.createContext('RTLOAD'.toString(),32,null);var mp=ss.mkdel(this,function(mr){Y.get_instance().get_runtimeInitialized().done([ss.mkdel(this,function(){this.$8(new jn(mr),e).done(ss.mkdel(this,function(ms){this.$A.set_isRuntimeReady(true);ex.resolve(ms);mo.dispose();jq.logVizUsage(0,mo.elapsedMS())}))})])});var mq=new fR;mq.c['visualIdPresModel']=this.get_visualId();mq.c['isRuntimeInitialDatastoreRequired']=ss.isNullOrUndefined(e);mq.invoke().then(mp,null)},updateRuntimeHandles:function(e,ex,mo){var mp=$.Deferred();if(!this.$2(ex)){return mp.reject()}var mq=function(){mp.reject()};this.get_runtimeHandles().done(ss.mkdel(this,function(mr){mo(mr).done(ss.mkdel(this,function(ms){this.$f(new tab.RuntimeHandles(mr.get_VM(),mr.get_initialStore(),ms));if(ss.isValue(e)){var mt=e.makeMutablePresModel(this.get_sceneModel(),false);mt.runtimeFinalDatastoreLocal=ms.handleValue;mp.resolve()}})).fail(mq)})).fail(mq);return mp.promise()},$2:function(e){if(ss.isValue(this.get_runtimeData())&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates)){var ex=this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates.SupportedClientUpdates;if(ss.isValue(ex)){return _.indexOf(ex,e)>-1}}return false},$f:function(e){var ex=$.Deferred();ex.resolve(e);this.$z=ex.promise()},$7:function(){this.$z=$.Deferred().promise()},$5:function(){var e=null;if(this.get_runtimeReady()){this.get_runtimeHandles().done(function(ex){e=ex})}return e},$8:function(ex,mo){var mp=$.Deferred();if(ss.isValue(ex.get_dataStore())){try{tab.RuntimeWebModule.proxy.loadBinaryDatastoreHex(ex.get_dataStore()).done(function(e){tab.RuntimeWebModule.proxy.buildVMHex(ex.get_vtl(),e).done(function(mq){tab.RuntimeWebModule.proxy.executeVM(mq).done(function(mr){if(ss.isValue(ex.get_dataStoreUpdater())){tab.RuntimeWebModule.proxy.loadAndApplyDataStoreUpdaterHex(ex.get_dataStoreUpdater(),mq).done(function(ms){mp.resolve(new tab.RuntimeHandles(mq,e,ms))})}else{mp.resolve(new tab.RuntimeHandles(mq,e,mr))}})})})}catch(mq){var e=ss.Exception.wrap(mq);tab.RuntimeUtil.emscriptenAborted();tab.ErrorTrace.report(e)}}else if(ss.isValue(mo)){tab.RuntimeWebModule.proxy.loadAndApplyDataStoreUpdaterHex(ex.get_dataStoreUpdater(),mo.get_VM()).done(function(e){mp.resolve(new tab.RuntimeHandles(mo.get_VM(),mo.get_initialStore(),e))})}return mp.promise()},$g:function(e,ex){if(ss.isNullOrUndefined(this.$B)){this.$B=new jv(this)}if(ss.isValue(e.scene)){if(ss.isValue(this.$u)){var mo=this.$i.size>0;this.$u=new Map;this.$i=new Map;if(mo){this.raiseEvent(this.$2$2,ex)}}if(ss.isValue(this.$r)){var mp=this.$h.size>0;this.$r=new Map;this.$h=new Map;if(mp){this.raiseEvent(this.$2$3,ex)}}this.$B.update(e.scene,ex);var mq=this.$B.pm;if(ss.isValue(mq.runtimeRenderInputDatastore)||ss.isValue(mq.runtimeFinalDatastoreLocal)){this.$y=this.$B.get_sceneRuntimeData()}if(!ss.isValue(mq.runtimeFinalDatastoreLocal)){this.$e(e)}}},$d:function(e,ex){if(ss.isNullOrUndefined(this.$w)){this.$w=new hr(this);this.$w.set_allowLocalPanAndZoom(this.shouldDoLocalCommand());this.$w.add_useFastMapsChanged(ss.mkdel(this,function(mp,mq){if(mp===false&&mq===true){this.$7();this.requestRuntimeDataAndUpdateVM()}}))}if(!e.isMap){this.$w.update(null,ex);return}if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&ss.isValue(this.$y)&&this.shouldDoLocalCommand()){var mo=this.get_runtimeData().get_finalDataStore().Viewpoint;this.$w.set_centerLatitude(mo.PerPaneExtents.MapCenterLatitude[0]);this.$w.set_centerLongitude(mo.PerPaneExtents.MapCenterLongitude[0]);this.$w.set_requestZoom(mo.MapLayersModelUpdate.ActualZoomLevel);this.get_mapServerModel().set_displayScale(mo.MapLayersModelUpdate.DisplayScale);return}if(ss.isValue(e.mapServer)){this.$w.update(e.mapServer,ex);this.get_mapServerModel().set_allowLocalPanAndZoom(this.shouldDoLocalCommand());return}},$e:function(e){if(!tab.FeatureFlags.isEnabled('RuntimeServerPushRuntimeData')||!ss.isValue(e.runtimeData)){return}if(ss.isNullOrUndefined(Y.get_instance().get_runtimeInitialized())){return}var ex=this.$5();var mo=$.Deferred();this.$z=mo.promise();var mp=tabBootstrap.MetricsController.createContext('RTLOAD'.toString(),32,null);var mq=new jn.$ctor1(e.runtimeData);Y.get_instance().get_runtimeInitialized().done([ss.mkdel(this,function(){this.$8(mq,ex).done(ss.mkdel(this,function(mr){this.$A.set_isRuntimeReady(true);mo.resolve(mr);mp.dispose();jq.logVizUsage(0,mp.elapsedMS())}))})])},$b:function(){if(ss.isNullOrUndefined(this.$B)||ss.isNullOrUndefined(this.$B.get_visualListModels())||!tab.FeatureFlags.isEnabled('RuntimeDisplayListSizeTelemetry')){return}var e='DisplayListSizes';var ex=ss.mkdict(['misc','Misc','annotations','Annotations','axis-rules','AxisRules','top-axis','TopAxis','bottom-axis','BottomAxis','left-axis','LeftAxis','right-axis','RightAxis','background','Background','borders','Borders','caption','Caption','cell-borders','CellBorders','decoration','Decoration','drop-lines','DropLines','x-labels','XLabels','y-labels','YLabels','legends','Legends','marks','Marks','mark-labels','MarkLabels','mark-trails','MarkTrails','ref-bands','RefBands','ref-lines','RefLines','pane-borders','PaneBorders','scroll-bars','ScrollBars','title','Title','trend-lines','TrendLines','upper-map-layers','UpperMapLayers']);var mo={};mo['VizId']=this.get_zone().get_zoneId();var mp=new ss.ObjectEnumerator(this.$B.get_visualListModels());try{while(mp.moveNext()){var mq=mp.current();var mr=JSON.stringify(mq.value.get_visualListPresModel()).length;mo[ex[mq.key]]=mr}}finally{mp.dispose()}hF.logEvent(e,mo)}},hv);ss.initClass(lx,a,{});ss.initClass(ly,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.dataType},get_fieldName:function(){return this.$a.fn},get_fieldCaption:function(){return this.$a.fieldCaption},get_baseColumnName:function(){return this.$a.baseColumnName},get_role:function(){return this.$a.fieldRole},get_aggType:function(){return this.$a.aggregation},get_specialValuesOverride:function(){return this.$a.specialValueText},get_filterContext:function(){return this.$a.filterContext},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.paneIndices},$9:function(){return this.$a.columnIndices},$7:function(){return tab.Logger.lazyGetLogger(ly)},isTupleIdValid:function(e){for(var ex=0;ex<this.$a.paneIndices.length;++ex){var mo=this.$a.paneIndices[ex];var mp=this.$5(e,mo);if(ss.isValue(mp)){return true}}return false},tupleIdsThatPass:function(e){var ex=[];for(var mo=0;mo<this.$a.paneIndices.length;mo++){var mp=this.$a.paneIndices[mo];var mq=this.$d[mp].vizPaneColumns[0];for(var mr=0;mr<mq.tupleIds.length;mr++){var ms=mq.tupleIds[mr];if(e(ms)){ex.push(ms)}}}return ex},$2:function(e){var ex=this.$3(e,0);var mo={};var mp=0;for(var mq=0;mq<ex.tupleIds.length;mq++){var mr=ex.tupleIds[mq];mo[mr]=mp++}this.$e[e]=mo},$5:function(e,ex){if(!ss.keyExists(this.$e,ex)){this.$2(ex)}return this.$e[ex][e]},getAliasIndex:function(e){var ex=null;if(!this.get_hasAliases()){return ex}for(var mo=0;mo<this.$a.paneIndices.length;++mo){var mp=this.$a.paneIndices[mo];var mq=this.$5(e,mp);if(ss.isValue(mq)){var mr=this.$a.columnIndices[mo];var ms=this.$3(mp,mr);ex=ms.aliasIndices[mq];break}}return ex},getDataValueIndex:function(e){var ex=null;if(this.get_hasDataValues()){for(var mo=0;mo<this.$a.paneIndices.length;++mo){var mp=this.$a.paneIndices[mo];var mq=this.$5(e,mp);if(ss.isValue(mq)){var mr=this.$a.columnIndices[mo];var ms=this.$3(mp,mr);ex=ms.valueIndices[mq];break}}}return ex},getPaneDescriptorKey:function(e){var ex=null;for(var mo=0;mo<this.$a.paneIndices.length;++mo){var mp=this.$8()[mo];var mq=this.$5(e,mp);if(ss.isValue(mq)){var mr=this.$4(mp);ex=mr.paneDescriptor.paneDescrKey;break}}return ex},$4:function(e){var ex=null;if(this.$d.length>e){ex=this.$d[e]}else{}return ex},$3:function(e,ex){var mo=null;var mp=this.$4(e);if(ss.isValue(mp)){if(mp.vizPaneColumns.length>ex){mo=mp.vizPaneColumns[ex]}else{}}return mo},$1:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var mo=this.$8()[ex];var mp=this.$9()[ex];var mq=this.$3(mo,mp);if(ss.isValue(mq)){e=e||ss.isValue(mq.valueIndices)&&mq.valueIndices.length>0}}return e},$0:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var mo=this.$8()[ex];var mp=this.$9()[ex];var mq=this.$3(mo,mp);if(ss.isValue(mq)){e=e||ss.isValue(mq.aliasIndices)&&mq.aliasIndices.length>0}}return e},$6:function(){}});ss.initClass(lz,a,{});ss.initClass(lA,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().highlightCaptions},get_filterFields:function(){return this.$3().filterFields},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().ubertipData},$3:function(){return this.pm},$1:function(){return this.$3().paneColumnsData},$2:function(){return this.$1().paneColumnsList},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var ex=this.$1().vizDataColumns;for(var mo=0;mo<ex.length;++mo){if(lB.isFieldCaptionOfColumn(ex[mo],e)){return mo}}for(var mp=0;mp<ex.length;++mp){if(lB.isFieldNameOfColumn(ex[mp],e)){return mp}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().vizDataColumns;for(var ex=0;ex<e.length;ex++){var mo=e[ex];if(mo.fieldRole==='dimension'&&mo.localBaseColumnName!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var ex=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(mo,mp){if(mo.isTupleIdValid(e)){ex=true;return false}return true})}return ex},forEachTupleId:function(e){for(var ex=0;ex<this.$2().length;++ex){var mo=this.$2()[ex].vizPaneColumns[0];for(var mp=0;mp<mo.tupleIds.length;mp++){var mq=mo.tupleIds[mp];var mr=!e(mq);if(mr){break}}}},forEachVizDataField:function(e){var ex=this.$4.length;for(var mo=0;mo<ex;++mo){var mp=this.$4[mo];if(ss.isNullOrUndefined(mp)){continue}var mq=!e(mp,mo);if(mq){break}}},update:function(e,ex){var mo=this.simpleSwapToUpdate(e,this.$2$1,ex);if(!mo){return}if(ss.isValue(e.ubertipData)){fl.notifyFontsFromUberTipDataPresModel(e.ubertipData)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var mp=this.$1().vizDataColumns;for(var mq=0;mq<mp.length;mq++){var mr=mp[mq];if(mr.fn==='[system:visual].[tuple_id]'){this.$6=mr;this.$4.push(null);continue}this.$5.push(mr.fieldCaption);var ms=new ly(mr,this.$1().paneColumnsList);this.$4.push(ms)}}}},hv);ss.initClass(lB,a,{});ss.initClass(lC,a,{});ss.initClass(lD,a,{});ss.initClass(lE,a,{get_r:function(){return this.$0['r'.toString()]},set_r:function(e){this.$0['r'.toString()]=e},get_fns:function(){return this.$0['fieldVector'.toString()]},set_fns:function(e){this.$0['fieldVector'.toString()]=e},get_x:function(){return this.$0['x'.toString()]},set_x:function(e){this.$0['x'.toString()]=e},get_y:function(){return this.$0['y'.toString()]},set_y:function(e){this.$0['y'.toString()]=e},get_w:function(){return this.$0['w'.toString()]},set_w:function(e){this.$0['w'.toString()]=e},get_h:function(){return this.$0['h'.toString()]},set_h:function(e){this.$0['h'.toString()]=e}});ss.initClass(lF,a,{get_isViewingUri:function(){return this.$n===1},get_isAuthoringUri:function(){return this.$n===2},get_isAuthorNewWorkbookUri:function(){return this.$n===3||this.$n===7},get_isInvalid:function(){return this.$n===0},get_isAdminUri:function(){return this.$n===4},get_isSharedViewUri:function(){return this.$n===5},get_isRevisionHistoryUri:function(){return this.$n===6},get_isNlpLandingPageUri:function(){return this.$n===9},get_isNlpExplorationPageUri:function(){return this.$n===8},get_isCustomizedView:function(){return!tab.MiscUtil.isNullOrEmpty$3(this.$g)},get_absoluteUri:function(){return this.$7()},get_uri:function(){return this.$b()},get_path:function(){return this.$a()},get_queryParams:function(){return this.$k},get_retry:function(){return this.$8(':retry')},set_retry:function(e){this.$e(':retry',e)},get_originalView:function(){return this.$8(':original_view')},set_originalView:function(e){this.$e(':original_view',e);if(e){this.$g=''}},get_ignoreStickySession:function(){return this.$8(':ignore_sticky_session')},set_ignoreStickySession:function(e){this.$e(':ignore_sticky_session',e)},get_showSaveAs:function(){return this.$8(':showSaveAs')},set_showSaveAs:function(e){this.$e(':showSaveAs',e)},get_showComments:function(){return this.$8(':showComments')},set_showComments:function(e){this.$e(':showComments',e);if(e){this.set_showDataAlertId(null);this.set_showDataAlerts(false)}},get_showDataAlertId:function(){return(ss.keyExists(this.$k,':showDataAlertId')?this.$k[':showDataAlertId'][0]:null)},set_showDataAlertId:function(e){if(ss.isNullOrEmptyString(e)){delete this.$k[':showDataAlertId']}else{this.$k[':showDataAlertId']=[e];this.set_showDataAlerts(false);this.set_showComments(false)}},get_showDataAlerts:function(){return this.$8(':showDataAlerts')},set_showDataAlerts:function(e){this.$e(':showDataAlerts',e);if(e){this.set_showDataAlertId(null);this.set_showComments(false)}},get_editDataAlertId:function(){return(ss.keyExists(this.$k,':editDataAlertId')?this.$k[':editDataAlertId'][0]:null)},set_editDataAlertId:function(e){if(ss.isNullOrEmptyString(e)){delete this.$k[':editDataAlertId']}else{this.$k[':editDataAlertId']=[e]}},get_showDataAlertsPanel:function(){return this.get_showDataAlerts()||!ss.isNullOrEmptyString(this.get_showDataAlertId())},get_deviceLayout:function(){return(ss.keyExists(this.$k,':device')?this.$k[':device'][0]:null)},set_deviceLayout:function(e){if(ss.isValue(e)){this.$k[':device']=[];this.$k[':device'].push(ss.unbox(e).toString())}else{delete this.$k[':device']}},$8:function(e){return ss.keyExists(this.$k,e)&&tab.MiscUtil.toBoolean(this.$k[e][0],false)},$e:function(e,ex){if(ex){this.$k[e]=[];this.$k[e].push('yes')}else{delete this.$k[e]}},removeQueryParam:function(e){delete this.$k[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$k);return this},clone:function(){var e=new lF(null);e.$h=this.$h;e.$n=this.$n;e.$o=this.$o;e.$m=this.$m;e.$f=this.$f;e.$k=this.$k;e.$g=this.$g;e.$i=this.$i;e.$j=this.$j;e.explicitNotGuest=this.explicitNotGuest;var ex=e;return ex},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var ex=ss.getEnumerator(Object.keys(this.$k));try{while(ex.moveNext()){var mo=ex.current();var mp=decodeURIComponent(mo);if(ss.startsWithString(mp,':ff_')||ss.contains(lF.$k,mp)){e[mo]=this.$k[mo]}}}finally{ex.dispose()}this.$k=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation(null);window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),lF.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),lF.createForCurrentWindowLocation(null).get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),lF.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$i=''},$7:function(){var e=this.$b();var ex=this.$j;if(!ss.startsWithString(e,'/')){ex+='/'}ex+=e;return ex},$b:function(){var e=new ss.StringBuilder;e.append(this.$a());var ex=tab.MiscUtil.replaceUriQueryParameters('',this.$k);if(!tab.MiscUtil.isNullOrEmpty$3(ex)){e.append(ex)}e.append(this.$9());return e.toString()},$a:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$d(this.$n));if(this.$n===2){e.push(this.$o);e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$3(this.$f)){e.push(encodeURIComponent(this.$f))}}else if(this.$n===1){e.push(this.$o);e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$3(this.$g)){e.push(this.$g)}}else if(this.$n===4){e.push(this.$o);e.push(this.$m)}else if(this.$n===3||this.$n===7){e.push(this.$o)}else if(this.$n===5){e.push(tsConfig.guid)}else if(this.$n===6){e.push(this.$o);if(!tab.MiscUtil.isNullOrEmpty$3(this.$m)){e.push(this.$m)}e.push('history');e.push(this.$l)}else if(this.get_isNlpLandingPageUri()||this.get_isNlpExplorationPageUri()){e.push(this.$h)}return e.join('/')},$9:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$i},$6:function(e){var ex=_.keys(lF.$m);var mo=lm.getModuleFromPath(e.pathname,ex);this.$n=this.$c(mo);var mp=lm.getMeatFromPath(e.pathname,ex);if(this.$n===1){this.$5(mp)}else if(this.$n===2){this.$2(mp)}else if(this.$n===3||this.$n===7){this.$1(mp)}else if(this.$n===4){this.$0(mp)}else if(this.$n===6){this.$4(mp)}else if(this.get_isNlpLandingPageUri()||this.get_isNlpExplorationPageUri()){this.$3(mp)}this.$k=lF.$3(e);this.$i=e.hash;this.$j=BrowserSupport.BrowserSupport.GetOrigin(e)},$5:function(e){var ex=e.split('/');this.$o=ex[0];this.$m=ex[1];if(ex.length>2){if(ex.length===3){this.$g=ex[2]}this.$g=ex[2]+'/'+ex[3]}},$2:function(e){var ex=e.split('/');this.$o=ex[0];this.$m=ex[1];if(ex.length>2){this.$f=decodeURIComponent(ex[2])}},$0:function(e){var ex=e.split('/');this.$o=ex[0];this.$m=ex[1]},$1:function(e){this.$o=e},$4:function(e){var ex=e.split('/');this.$o=ex[0];if(ex.length>3){this.$m=decodeURIComponent(ex[1]);this.$l=decodeURIComponent(ex[3])}else{this.$l=decodeURIComponent(ex[2])}},$3:function(e){this.$h=e},$d:function(e){return lF.$i[e]},$c:function(e){return lF.$m[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var ex=new iN(e);this.$o=ex.get_workbookId();this.$m=ex.get_sheetId();this.$f='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var ex=e.startViewId;if(ss.isNullOrUndefined(ex)){ex=this.$m}this.$m=ex;this.$g=ss.formatString('{0}/{1}',lF.encodeUserName(e.owner.username),e.urlId);this.$f='';this.set_originalView(false);return this}});ss.initEnum(lG,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbookFromDataSource:3,admin:4,sharedView:5,revisionHistory:6,authorNewWorkbook:7,nlpExplorationPage:8,nlpLandingPage:9});ss.initEnum(lH,a,{immediateGlassAndSpinner:0,immediateGlassDelayedSpinner:1,delayedGlassAndSpinner:2});ss.initClass(lI,a,{$6:function(e){if(this.$f&&this.$g>0){e.preventDefault();e.stopImmediatePropagation()}},isBusy:function(){return this.$g>0},addref:function(e,ex){this.$g+=1;if(this.$g===1&&!this.$f&&!this.$e){var mo=(e?1:2);this.$a(mo,ex)}},addrefAndShowFullWaitHandlerNow:function(){this.$g+=1;this.$a(0,true)},showAndLock:function(){if(!this.$f){this.$a(0,true)}this.$5()},$5:function(){this.$e=true},unlock:function(){this.$e=false},release:function(){this.$g-=1;if(this.$g<0){this.$g=0}this.nudge()},nudge:function(){if(this.$g>0||this.$e){return}this.$4()},reset:function(){this.$0();this.$i.hide().css('opacity','0');if(this.$c.length===0){return}var e=ss.mkdel(this,function(ex){ex.css('cursor','default').hide();var mo=$('.facadedom');if(mo.length>0){mo.remove()}});lI.loadingElementFadeOut(this.$c,300,e)},onNextHide:function(e){this.$h=e},$0:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$d=tab.MiscUtil.clearTimeout(this.$d);this.$j=tab.MiscUtil.clearTimeout(this.$j)},$4:function(){if(ss.isValue(this.$h)){this.$h();this.$h=null;this.$0()}else{this.reset()}this.$f=false},$a:function(e,ex){this.$0();this.$8(e,ex);this.$f=true},$8:function(e,ex){switch(e){case 0:{this.$7(0);if(ex){this.$2();this.$9()}break}case 1:{this.$7(0);if(ex){this.$2();this.$3()}break}case 2:{this.$1();if(ex){this.$2();this.$3()}break}}},$1:function(){this.$b=window.setTimeout(ss.mkdel(this,function(){this.$7(0)}),400)},$2:function(){this.$d=window.setTimeout(ss.mkdel(this,function(){this.$7(0.419999986886978)}),this.glassOpacityChangeDelay)},$7:function(e){if(this.$c.css('display')!=='none'&&ss.referenceEquals(this.$c.css('opacity'),e.toString())){return}this.$c.css('cursor','wait');lI.$0(this.$c,500,e)},$3:function(){this.$j=window.setTimeout(ss.mkdel(this,this.$9),this.spinnerShowDelay)},$9:function(){lI.$0(this.$i,250,1)}});ss.initClass(lK,a,{get_isChecked:function(){return(ss.isValue(this.$1)?this.$1.get_isChecked():cd.prototype.get_isChecked.call(this))},get_isDefault:function(){return(ss.isValue(this.$1)?this.$1.get_isDefault():cd.prototype.get_isDefault.call(this))},get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():cd.prototype.get_enabled.call(this))},get_isRadioOn:function(){return(ss.isValue(this.$1)?this.$1.get_isRadioOn():cd.prototype.get_isRadioOn.call(this))},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():cd.prototype.get_isVisible.call(this))}},cd,[ss.IDisposable,tab.IShortcutAction]);ss.initClass(lM,a,{registerCommandLocalOptions:function(e,ex){var mo=co.serialize(e);if(!this.hasCommandLocalOptions(e)){this.$0[mo]=ex}else{}},hasCommandLocalOptions:function(e){return ss.keyExists(this.$0,co.serialize(e))},getCommandLocalOptions:function(e){var ex=co.serialize(e);if(!this.hasCommandLocalOptions(e)){}return this.$0[ex]},registerCommand:function(e,ex){this.$1[co.serialize(e)]=ex},hasCommand:function(e){return ss.keyExists(this.$1,co.serialize(e))},createCommand:function(e){if(this.hasCommand(e)){var ex=this.$1[co.serialize(e)];return ss.createInstance(ex)}throw new ss.Exception('creating unregistered web command')},createCommandWithParams:function(e,ex){if(this.hasCommand(e)){var mo=this.$1[co.serialize(e)];var mp=ss.createInstance(mo);mp.transfer(ex);return mp}throw new ss.Exception('creating unregistered web command')}});ss.initClass(lN,a,{},ss.makeGenericType(lJ,[Object,lO]));ss.initClass(lO,a,{});ss.initClass(lP,a,{get_fontFamilies:function(){return Array.prototype.slice.call(this.$1)},$0:function(e){var ex=e.get_fontFamilies();for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];var mq=[];var mr=mp.get_fonts();for(var ms=0;ms<mr.length;ms++){var mt=mr[ms];if(lP.get_supportedFonts()[mt]){mq.push(mt)}}if(mq.length>0){this.$1.push(new fj.$ctor1(mp.get_fontGroup(),Array.prototype.slice.call(mq)))}}},toSimpleFontList:function(){return ku.$0(this.$1)}});ss.initClass(lQ,a,{},ss.makeGenericType(lJ,[Object,lR]));ss.initClass(lR,a,{});ss.initClass(lS,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.url},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},hv);ss.initClass(lT,a,{});ss.initClass(lU,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().aggregationIndex},get_aggregationValues:function(){return this.$2().aggregationValues},get_aggregationCaptions:function(){return this.$2().aggregationCaptions},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().numberOfPrevValues},get_numberOfNextValues:function(){return this.$2().numberOfNextValues},get_minPrevOrNextValues:function(){return this.$2().minPrevOrNextValues},get_maxPrevOrNextValues:function(){return this.$2().maxPrevOrNextValues},get_summaryCaption:function(){return this.$2().summaryCaption},get_includeCurrentValue:function(){return this.$2().includeCurrent},get_nullIfIncomplete:function(){return this.$2().nullIfIncomplete},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},le);ss.initClass(lV,a,{add_dashboardUpdated:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_dashboardUpdated:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_newDataSchemaModel:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_newDataSchemaModel:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_sheetTypeChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_sheetTypeChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_sheetType:function(){return ss.coalesce(lV.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$2$10},set_dataSchema:function(e){this.$2$10=e},get_commands:function(){return this.$8},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.uiMode)},$6:function(){return this.$2$11},$7:function(e){this.$2$11=e},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6())&&ss.isValue(this.$6().pm)&&this.$6().pm.isStory},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6())&&this.$6().get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6().get_sheetName())){return null}return this.$6()},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.isPublished})},get_sheetsInfo:function(){return this.$2$12},set_sheetsInfo:function(e){this.$2$12=e},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.workbookModified},get_isCurrentDashboardModified:function(){return ss.isValue(this.$6())&&ss.isValue(this.$6().pm)&&ss.isValue(this.$6().pm.modifiedSheets)&&this.$6().pm.modifiedSheets.length>0},get_removedDataSourceCount:function(){return this.pm.removedDatasourceCount||0},get_removedSheetCount:function(){return this.pm.removedSheetCount||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6())&&ss.isValue(this.$6().pm)&&ss.isValue(this.$6().pm.sheetLayoutInfo))?this.$6().pm.sheetLayoutInfo.repositoryUrl:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6())){return null}var e=this.$6().get_dashboardSize();return{w:e.w,h:e.h}},get_connectionPromptModel:function(){return this.$2$13},set_connectionPromptModel:function(e){this.$2$13=e},get_oAuthCredentialIds:function(){return this.$2$14},set_oAuthCredentialIds:function(e){this.$2$14=e},get_formatPaneModel:function(){return this.$2$15},set_formatPaneModel:function(e){this.$2$15=e},get_isDataTabUIMode:function(){return this.get_uiMode()==='data-tab'},handleWorldReset:function(){this.$7(null);this.set_dataSchema(null)},withOuterDashboard:function(e){if(ss.isValue(this.$6())){e(this.$6());return}var ex=null;ex=ss.mkdel(this,function(mo){e(mo);this.remove_dashboardUpdated(ex)});this.add_dashboardUpdated(ex)},withDashboard:function(e){var ex=this.findContentDashboard();if(ss.isValue(ex)){e(ex);return}var mo=null;mo=ss.mkdel(this,function(mp){e(mp.get_contentDashboard());this.remove_dashboardUpdated(mo)});this.add_dashboardUpdated(mo)},$2:function(e){return lV.$0(e)&&ss.isValue(lV.$1(this.pm))&&this.get_sheetType()!==e.dashboardPresModel.sheetLayoutInfo.sheetType},addDashboardUpdatedHandler:function(e){this.add_dashboardUpdated(e);if(ss.isValue(this.$6())){e(this.$6())}},removeDashboardHandler:function(e){this.remove_dashboardUpdated(e)},findContentDashboard:function(){return(ss.isNullOrUndefined(this.$6())?null:this.$6().get_contentDashboard())},$1:function(e){return ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)&&!ss.referenceEquals(e.dashboardPresModel.sheetLayoutInfo.sheetName,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.get_connectionPromptModel())&&!ss.isNullOrEmptyString(this.get_connectionPromptModel().get_connectionName())},$5:function(e,ex){if(!ss.isValue(this.get_dataSchema())){this.set_dataSchema(new dA(this));this.raiseEvent$1(dA).call(this,this.$2$8,this.get_dataSchema(),e)}if(ss.isValue(ex.schemaViewer)){this.get_dataSchema().update(ex.schemaViewer,e)}},$4:function(e,ex){this.set_connectionPromptModel(new ds(this));this.get_connectionPromptModel().update(e.variablePromptDialog);if(!ss.isNullOrEmptyString(this.get_connectionPromptModel().get_connectionName())){this.raiseEvent$1(ds).call(this,this.$2$6,this.get_connectionPromptModel(),ex)}else{this.raiseEvent(this.$2$7,ex)}},$3:function(e,ex){if(typeof(e.dashboardPresModel)==='undefined'){}else if(e.dashboardPresModel===null){var mo=this.$6();this.$7(null);this.raiseEvent$1(cZ).call(this,this.$2$3,mo,ex)}else{if(!ss.isValue(this.$6())){this.$7(new cZ(this));this.raiseEvent$1(cZ).call(this,this.$2$2,this.$6(),ex)}this.$6().update(e.dashboardPresModel,ex)}},update:function(e,ex){if(ss.isValue(e.variablePromptDialog)){this.$4(e,ex)}if(ss.isValue(e.workbookModified)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.workbookModified)){this.raiseEvent(function(){lV.fireWorkbookModifiedChanged(e.workbookModified)},ex)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$9,e.dashboardPresModel.sheetLayoutInfo.sheetType,ex)}var mo=false;if(this.$1(e)){this.handleWorldReset();mo=true}this.$5(ex,e);this.$3(e,ex);if(ss.isValue(e.commands)){this.$8.update(e.commands,ex)}if(ss.isValue(e.sheetsInfo)&&!_.isEqual(e.sheetsInfo,this.get_sheetsInfo())){this.set_sheetsInfo(e.sheetsInfo);mo=true}if(mo){this.raiseEvent$1(lV).call(this,this.$2$4,this,ex)}e.uiMode=e.uiMode||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.uiMode!==e.uiMode){this.raiseEvent(this.$2$5,ex)}if(ss.isValue(e.formatPane)){this.get_formatPaneModel().update(e.formatPane,ex)}this.swapAndCopyPresModel(e)}},hv);ss.initClass(lW,a,{get_jobInProgress:function(){return this.$1$1},set_jobInProgress:function(e){this.$1$1=e},get_jobId:function(){return this.$1$2},set_jobId:function(e){this.$1$2=e}});ss.initEnum(lX,a,{enabled:'enabled',invalidpermissions:'invalidpermissions',servicedown:'servicedown',featureflagoff:'featureflagoff'},true);ss.initClass(lY,a,{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_deviceType:function(){return this.$1.deviceType},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_notificationIntervalInMinutes:function(){return this.$1.notificationIntervalInMinutes},get_lastChecked:function(){return this.$1.lastChecked},get_lastSentForCurrentUser:function(){return this.$1.lastSentForCurrentUser},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed},get_viewType:function(){return this.$1.context.type},get_viewName:function(){return this.$1.context.name},get_customizedViewId:function(){return((this.get_viewType()==='view')?null:this.$1.context.id)},get_targetUrlId:function(){return this.$1.context.targetUrlId},get_dataSpecification:function(){return this.$1.dataSpecification},get_isSuspended:function(){return tab.FeatureFlags.isEnabled('SuspendDataAlerts')&&this.$1.suspendState!=='NotSuspended'}});ss.initClass(lZ,a,{get_certificationDetails:function(){return this.$1.certificationDetails},get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_datasourceId:function(){return this.$1.datasourceId},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedAt:function(){return this.$1.lastRefreshedAt},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$3(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.isO8601DateTimeFormat,2,tableau.format.baseTimestamp);var ex={};ex.format=Y.get_instance().get_localeDateFormat();ex.locale=tsConfig.locale;ex.timeFormat=Y.get_instance().get_localeTimeFormat();ex.locale_formatting_strings=tableau.format.defaultLocaleStrings;return tableau.format.formatJsDateTime(new Date(e),ex,2,'t')},get_connectsToDescription:function(){if(ss.isNullOrUndefined(this.get_connectionDetails())){return''}var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=lZ.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(ma,a,{});ss.initEnum(mb,a,{pending:-1,none:0,unlicensedUserError:90,userInvalidEmailAddress:10011,ddaDatasourceError:210006,ddaNoViewPermissionsError:210007,ddaNoDownloadPermissionsError:210008});ss.initClass(mc,a,{isGenericAuthSupported:function(e){var ex=_.find(this.$0,function(mo){return ss.referenceEquals(mo.type,e)});return ss.isValue(ex)&&ex.supportsGenericAuth},getDisplayName:function(e,ex){var mo=_.find(this.$0,function(mq){return ss.referenceEquals(mq.type,e)});if(ss.isValue(mo)){var mp=(ss.keyExists(mo.displayNames,ex)?ex:'en_US');return mo.displayNames[mp]}else{return e}}});ss.initClass(md,a,{});ss.initClass(me,a,{get_templates:function(){return this.$0}});ss.initClass(mf,a,{});ss.initClass(mg,a,{checkpointAppPresModel:function(){this.$1=Y.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){hv.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;Y.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(mh,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_onDashboardLoadComplete:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_onDashboardLoadComplete:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var ex=this.$1$1;if(!ss.staticEquals(ex,null)){ex(e)}},raiseOnCommandResponse:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}},raiseOnDashboardLoadComplete:function(){if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}});ss.initClass(mi,a,{});ss.initClass(mj,a,{request:function(e){var ex='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,ex)&&e.headers[ex]===false){delete e.headers[ex]}else{e.headers[ex]=true}if(ss.isValue(mj.$0)&&mj.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(mj.$0)}if(ss.isValue(e.complete)){var mo=e.complete;e.complete=function(mt,mu){mt['args']=e;mo(mt,mu)}}if(ss.isValue(e.success)){var mp=e.success;e.success=function(mt,mu,mv){mv['args']=e;mp(mt,mu,mv)}}if(ss.isValue(e.error)){var mq=e.error;e.error=function(mt,mu,mv){mt['args']=e;mq(mt,mu,mv)}}if(ss.isValue(e.beforeSend)){var mr=e.beforeSend;e.beforeSend=function(mt){mt['args']=e;mr(mt)}}var ms=e;return $.ajax(ms)}});ss.initClass(mk,a,{add_resizeZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_changeZoneFloatingState:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_changeZoneFloatingState:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneDescription:function(){return this.get_zoneCommonPresModel().name},get_zoneCommonPresModel:function(){return ss.coalesce(this.pm,new Object)},get_zoneId:function(){return this.get_zoneCommonPresModel().zoneId},get_parentZoneId:function(){return this.get_zoneCommonPresModel().parentZoneId},get_zoneType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneType,'invalid')},get_objectType:function(){return ss.coalesce(this.get_zoneCommonPresModel().dashboardObjectType,'invalid')},get_zoneLayoutType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneLayoutType,'trivial')},get_contentX:function(){return this.get_zoneCommonPresModel().contentX},get_contentY:function(){return this.get_zoneCommonPresModel().contentY},get_contentHeight:function(){return this.get_zoneCommonPresModel().contentH-2*this.get_contentBorderWidth()},get_contentWidth:function(){return this.get_zoneCommonPresModel().contentW-2*this.get_contentBorderWidth()},get_height:function(){return this.get_zoneCommonPresModel().h},get_width:function(){return this.get_zoneCommonPresModel().w},get_x:function(){var e=this.$2;if(ss.isNullOrUndefined(e)){e=this.get_zoneCommonPresModel().x}return e},get_y:function(){var e=this.$3;if(ss.isNullOrUndefined(e)){e=this.get_zoneCommonPresModel().y}return e},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_isFloating:function(){return this.get_zoneCommonPresModel().isFloating},get_hasTitle:function(){return this.get_zoneCommonPresModel().hasTitle},get_canHaveTitle:function(){return this.get_zoneCommonPresModel().canHaveTitle},get_canFloat:function(){return this.get_zoneCommonPresModel().canFloat},get_isHorizontal:function(){return this.get_zoneCommonPresModel().isHorizontal},get_hasBorder:function(){return hy.hasBorder(this.get_zoneStyle())},get_contentBorderWidth:function(){if(hy.hasBorder(this.get_contentStyle())){return this.get_contentStyle().get_borderWidth()}return 0},get_zoneStyle:function(){return this.$4},get_contentStyle:function(){return this.$1},update:function(e,ex){this.resetLocalPosition(ex);if(ss.isValue(e)){e.parentZoneId=e.parentZoneId||0;e.isFloating=e.isFloating||false;e.isHorizontal=e.isHorizontal||false;e.canHaveTitle=ss.coalesce(e.canHaveTitle,true);e.canFloat=ss.coalesce(e.canFloat,true);e.contentW=e.contentW||e.w;e.contentH=e.contentH||e.h;e.contentX=e.contentX||e.x;e.contentY=e.contentY||e.y;if(!this.isNewZoneSizeSameAsOld(e)){this.raiseEvent(this.$2$1,ex)}if(ss.isValue(e.styledBox)){this.$4.update(e.styledBox,ex)}if(ss.isValue(e.globalStyledBox)){this.$1.update(e.globalStyledBox,ex)}}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().hasTitle!==e.hasTitle){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(this.get_zoneCommonPresModel())&&(this.get_zoneCommonPresModel().isFloating!==e.isFloating||this.get_zoneCommonPresModel().canFloat!==e.canFloat)){this.raiseEvent(this.$2$3,ex)}this.swapAndCopyPresModel(e)},updateSingleZoneLocalPosition:function(e,ex){if(ss.referenceEquals(this.$2,e)&&ss.referenceEquals(this.$3,ex)){return}this.$2=e;this.$3=ex;hv.nonWorldUpdate(ss.mkdel(this,function(mo){this.raiseEvent(this.$2$1,mo)}))},resetLocalPosition:function(e){if(ss.isValue(this.$3)||ss.isValue(this.$2)){this.$3=null;this.$2=null;this.raiseEvent(this.$2$1,e)}},isNewZoneSizeSameAsOld:function(e){if(!ss.isValue(e)){return true}if(ss.isValue(this.pm)){return ss.coalesce(e.contentH,e.h)===this.get_contentHeight()&&ss.coalesce(e.contentW,e.w)===this.get_contentWidth()&&ss.coalesce(e.contentX,e.x)===this.get_contentX()&&ss.coalesce(e.contentY,e.y)===this.get_contentY()&&e.h===this.get_height()&&e.w===this.get_width()&&e.x===this.get_x()&&e.y===this.get_y()}return false}},hv);ss.initClass(ml,a,{get_zone:function(){return ss.safeCast(this.parent,mm)}},hv);ss.initClass(mm,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateZIndex:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateZIndex:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_removeZoneContent:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_removeZoneContent:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_updateZone:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_updateZone:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_childrenAdded:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_childrenAdded:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_model:function(){return this.$f},get_dashboardModel:function(){return this.$c},get_zoneCommonModel:function(){return this.$e},get_visualModel:function(){if(this.$e.get_zoneType()==='viz'){return this.$f}return null},get_worksheetName:function(){if(ss.isNullOrUndefined(this.pm)){return null}else{return this.pm.worksheet}},get_zoneDescription:function(){return this.get_zoneCommonModel().get_zoneDescription()},get_zoneId:function(){return this.pm.zoneId},get_parentZoneId:function(){return this.get_zoneCommonModel().get_parentZoneId()},get_zoneType:function(){return this.get_zoneCommonModel().get_zoneType()},get_objectType:function(){return this.get_zoneCommonModel().get_objectType()},get_isStorySpecific:function(){return!ss.isNullOrUndefined(this.pm.storyPointId)&&!ss.isNullOrUndefined(this.pm.flipboardZoneId)&&this.pm.storyPointId!==0&&this.pm.flipboardZoneId!==0},get_contentHeight:function(){return this.get_zoneCommonModel().get_contentHeight()},get_contentWidth:function(){return this.get_zoneCommonModel().get_contentWidth()},get_contentX:function(){return this.get_zoneCommonModel().get_contentX()},get_contentY:function(){return this.get_zoneCommonModel().get_contentY()},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.get_zoneCommonModel().get_height()},get_width:function(){return this.get_zoneCommonModel().get_width()},get_x:function(){return this.get_zoneCommonModel().get_x()},get_y:function(){return this.get_zoneCommonModel().get_y()},get_isFloating:function(){return this.get_zoneCommonModel().get_isFloating()},get_hasTitle:function(){return this.get_zoneCommonModel().get_hasTitle()},get_canHaveTitle:function(){return this.get_zoneCommonModel().get_canHaveTitle()},get_canFloat:function(){return this.get_zoneCommonModel().get_canFloat()},get_isHorizontal:function(){return this.get_zoneCommonModel().get_isHorizontal()},get_hasBorder:function(){return this.get_zoneCommonModel().get_hasBorder()},get_styledBoxModel:function(){return this.get_zoneCommonModel().get_zoneStyle()},get_contentType:function(){return mm.$2(this.pm)},get_titleHeight:function(){return this.pm.titleHeight},get_titleWidth:function(){return this.pm.titleWidth},get_hasSpace:function(){return this.pm.hasSpace},get_isSelectionDisabled:function(){return this.pm.isSelectionDisabled},get_isVisible:function(){return this.pm.isVisible},get_contextMenuCommands:function(){if(this.$e.get_zoneType()==='filter'){var e=this.get_model();return e.get_quickFilterCommands()}return{}},get_chromeCommands:function(){return this.$7},get_drawnZoneColor:function(){if(ss.isValue(this.pm.bgColor)){this.$b=this.$b||bU.convertColorForCanvas(this.pm.bgColor);return this.$b}return null},get_blendedZoneContentColor:function(){return this.pm.blendedZoneContentColor},get_relativeZoneZIndex:function(){var e=this.$d;if(ss.isNullOrUndefined(e)){e=this.pm.zoneZOrder+1}return e},get_associatedSheet:function(){return this.pm.sheet},get_isDependentOnViz:function(){switch(this.$e.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.presModelHolder)||Object.keys(this.pm.presModelHolder).length>0},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$3,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$5,e)},update:function(e,ex){this.$5(ex);if(ss.isValue(e)){{e.sheet=e.sheet||'';e.titleWidth=e.titleWidth||0;e.titleHeight=e.titleHeight||0;e.isSelectionDisabled=e.isSelectionDisabled||false;e.hasSpace=e.hasSpace||false}var mo=!this.get_zoneCommonModel().isNewZoneSizeSameAsOld(e.zoneCommon);if(ss.isValue(e.zoneCommon)){this.$e.update(e.zoneCommon,ex);this.checkForUsableZoneSize(e)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.bgColor,e.bgColor)){this.$b=null}if(ss.isValue(e.zoneChromeCommands)){this.$7.update(e.zoneChromeCommands,ex)}if(ss.isValue(e.presModelHolder)){this.$2(e,ex,mo)}else{this.$1(e,ex)}if(ss.isValue(e.zoneTitle)){fl.notifyFontsFromTextRegionPresModel(e.zoneTitle)}}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$4,ex)},$1:function(e,ex){if(ss.isValue(this.pm)&&ss.isValue(this.$f)&&!ss.referenceEquals(e.frameJson,this.pm.frameJson)){var mo=mm.$1(e.frameJson);var mp=e.zoneCommon;var mq=ss.isValue(mp)&&mp.zoneType==='filter'||ss.isValue(mo.attributes)&&ss.keyExists(mo.attributes,'type')&&ss.referenceEquals(mo.attributes['type'].toString(),'filter'.toString());if(this.$9&&mq){var mr=this.$f;mr.update(mr.get_quickFilterDisplayPresModel(),mo,ex)}if(ss.referenceEquals(mm.$2(this.pm),mm.$b)){var ms=this.$f;ms.updateFrame(mo,ex)}}},$2:function(e,ex,mo){if(!ss.isValue(this.$a)){this.$a=new ml(this)}var mp=mm.$2(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),mp)){this.$f=null}var mq=false;if(ss.isNullOrUndefined(this.$f)&&this.get_zoneCommonModel().get_zoneType()!=='filter'){var mr=hy.getPendingZoneContentModel(this.$e.get_zoneId());if(ss.isValue(mr)){mq=true;this.$f=mr;this.$f.reparent(this.$a);this.raiseNewZoneContent(this.$f,ex)}}if(!mq){this.$3(mp,e,mo,ex)}},updateLocalPropertiesForZonePreview:function(e,ex){this.$e.updateSingleZoneLocalPosition(this.get_x()+e,this.get_y()+ex);this.$6();var mo=this.$c.zonesModel.getChildren(this.get_zoneId());if(mo.length>0){for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];mq.updateLocalPropertiesForZonePreview(e,ex)}}},$6:function(){if(ss.isNullOrUndefined(this.$d)){this.$d=this.pm.zoneZOrder+988;hv.nonWorldUpdate(ss.mkdel(this,function(e){this.raiseEvent(this.$2$2,e)}))}},$5:function(e){this.$e.resetLocalPosition(e);this.$4(e)},resetZoneAndChildrenLocalChanges:function(e){this.$5(e);var ex=this.$c.zonesModel.getChildren(this.get_zoneId());if(ex.length>0){for(var mo=0;mo<ex.length;mo++){var mp=ex[mo];mp.resetZoneAndChildrenLocalChanges(e)}}},$4:function(e){if(ss.isValue(this.$d)){this.$d=null;this.raiseEvent(this.$2$2,e)}},$3:function(e,ex,mo,mp){if(ss.referenceEquals(e,mm.$m)){var mq=mm.getContent(ex,mm.$m);if(ss.isNullOrUndefined(this.$f)){this.$f=new lw(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mr=this.$f;mr.update(mq,mp)}else if(ss.referenceEquals(e,mm.$j)){var ms=mm.getContent(ex,mm.$j);if(ss.isNullOrUndefined(this.$f)){this.$f=new kT(this.$a,mm.$j);this.raiseNewZoneContent(this.$f,mp)}var mt=this.$f;mt.update(ms,mp)}else if(ss.referenceEquals(e,mm.$i)){var mu=mm.getContent(ex,mm.$i);if(ss.isNullOrUndefined(this.$f)){this.$f=new kT(this.$a,mm.$i);this.raiseNewZoneContent(this.$f,mp)}var mv=this.$f;mv.update(mu,mp)}else if(ss.referenceEquals(e,mm.$d)){var mw=mm.getContent(ex,mm.$d);var mx=this.$9;this.$9=true;if(ss.isNullOrUndefined(this.$f)||!mx){this.$f=new hg(this.$a);this.raiseNewZoneContent(this.$f,mp)}var my=mm.$1(ex.frameJson);var mz=this.$f;mz.update(mw,my,mp)}else if(ss.referenceEquals(e,mm.$c)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||Y.get_instance().get_isLocalRenderMode()){var mA=mm.getContent(ex,e);if(ss.isNullOrUndefined(this.$f)){this.$f=new io(this.$a,e);this.raiseNewZoneContent(this.$f,mp)}var mB=this.$f;mB.update(mA,mp)}}else if(ss.referenceEquals(e,mm.$3)||ss.referenceEquals(e,mm.$h)||ss.referenceEquals(e,mm.$g)||ss.referenceEquals(e,mm.$9)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||Y.get_instance().get_isLocalRenderMode()){var mC=mm.getContent(ex,e);if(ss.isNullOrUndefined(this.$f)){var mD=this.$e.get_zoneType();this.$f=new bK(this.$a,e,mm.$0(mD));this.raiseNewZoneContent(this.$f,mp)}var mE=this.$f;mE.update(mC,mp)}}else if(ss.referenceEquals(e,mm.$b)){var mF=mm.getContent(ex,mm.$b);var mG=mm.$1(mF.parameterCtrlJson);mF.legacyPresModel=mG;var mH=this.$8;this.$8=true;if(ss.isNullOrUndefined(this.$f)||!mH){this.$f=new hS(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mI=mm.$1(ex.frameJson);var mJ=this.$f;mJ.update(mF,mI,mp)}else if(ss.referenceEquals(e,mm.$a)){var mK=mm.getContent(ex,mm.$a);if(ss.isNullOrUndefined(this.$f)){this.$f=new hM(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mL=!mo||ss.isNullOrUndefined(this.pm);var mM=this.$f;mM.update(mK,mL,mp)}else if(ss.referenceEquals(e,mm.$7)){var mN=mm.getContent(ex,mm.$7);if(ss.isNullOrUndefined(this.$f)){this.$f=new fe(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mO=this.$f;mO.update(mN,mp)}else if(ss.referenceEquals(e,mm.$6)){var mP=mm.getContent(ex,mm.$6);if(ss.isNullOrUndefined(this.$f)){this.$f=new fd(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mQ=this.$f;mQ.update(mP,mp)}else if(!tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&ss.referenceEquals(e,mm.$f)){var mR=mm.getContent(ex,mm.$f);if(ss.isNullOrUndefined(this.$f)){this.$f=new he(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mS=this.$f;mS.update(mR,mp)}else if(ss.referenceEquals(e,mm.$n)){var mT=mm.getContent(ex,mm.$n);if(ss.isNullOrUndefined(this.$f)){this.$f=new lS(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mU=this.$f;mU.update(mT,mp)}else if(ss.referenceEquals(e,mm.$e)){var mV=mm.getContent(ex,mm.$e);if(ss.isNullOrUndefined(this.$f)){this.$f=new bA(this.$a,mm.$e);this.raiseNewZoneContent(this.$f,mp)}var mW=this.$f;mW.update(mV,mp)}else if(ss.referenceEquals(e,mm.$5)){var mX=mm.getContent(ex,mm.$5);if(ss.isNullOrUndefined(this.$f)){this.$f=new eG(this.$a);this.raiseNewZoneContent(this.$f,mp)}var mY=this.$f;mY.update(mX,mp)}else if(ss.referenceEquals(e,mm.$8)){var mZ=mm.getContent(ex,mm.$8);if(ss.isNullOrUndefined(this.$f)){this.$f=new gC(this.$a);this.raiseNewZoneContent(this.$f,mp)}var na=this.$f;na.update(mZ,mp)}else if(ss.referenceEquals(e,mm.$4)){var nb=mm.getContent(ex,mm.$4);if(ss.isNullOrUndefined(this.$f)){this.$f=new dz(this.$a);this.raiseNewZoneContent(this.$f,mp)}var nc=this.$f;nc.update(nb,mp)}},contentBorderWidth:function(){return this.$e.get_contentBorderWidth()},raiseNewZoneContent:function(e,ex){this.raiseEvent$1(hv).call(this,this.$2$1,e,ex)},checkForUsableZoneSize:function(e){if(ss.isValue(e)&&ss.isValue(e.zoneCommon)){var ex=e.zoneCommon;if(ex.w===0&&ex.h===0){var mo='DashboardAuthoring_UnusableSizeZone';var mp='ZoneType';var mq='Width';var mr='Height';var ms='IsFoating';var mt='IsVisible';hF.logEvent(mo,ss.mkdict([mp,ex.zoneType.toString(),mq,ex.w,mr,ex.h,ms,ex.isFloating,mt,e.isVisible]))}}}},hv);ss.initClass(mn,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=_.values(this.$a)}return this.$8},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$a[mn.$0(e)]},hasZone:function(e){return ss.keyExists(this.$a,mn.$0(e))},getChildren:function(e){var ex=mn.$0(e);if(!ss.keyExists(this.$9,ex)){this.$9[ex]=_.filter(this.get_zoneModels(),function(mo){return mo.get_parentZoneId()===e})}return this.$9[mn.$0(e)].slice(0)},update:function(ex,mo){this.$4('Zones before update: ');this.$5(ex,mo);this.$9={};var mp={};var mq=_.keys(ex);for(var mr=0;mr<mq.length;mr++){var ms=mq[mr];var mt=ex[ms];if(ss.isNullOrUndefined(mt)){continue}var mu=mt.zoneId;try{var mv=mn.$0(mu);if(!ss.isValue(this.$a[mv])){this.$2(mt,mv,mp,mo)}else{this.$6(mt,mv,mp,mo)}this.$a[mv].update(mt,mo)}catch(mA){var e=ss.Exception.wrap(mA);tab.ErrorTrace.report(e)}}this.swapAndCopyPresModel(ex);if(tsConfig.is_authoring){var mw=_.keys(mp);for(var mx=0;mx<mw.length;mx++){var my=mw[mx];var mz=this.getZone(my);if(ss.isValue(mz)){mz.raiseChildrenAdded(mo)}}}this.$4('Zones after update: ')},$2:function(e,ex,mo,mp){var mq=new mm(this,this.parent,e.zoneId);this.$a[ex]=mq;this.raiseEvent$1(mm).call(this,this.$2$1,this.$a[ex],mp);this.$8=null;if(ss.isValue(e.zoneCommon)){mo[e.zoneCommon.parentZoneId]=true}},$6:function(e,ex,mo,mp){if(ss.isValue(e.zoneCommon)&&this.$a[ex].get_parentZoneId()!==e.zoneCommon.parentZoneId){mo[e.zoneCommon.parentZoneId]=true}if(ss.isValue(e.presModelHolder)&&(this.$1(ex,e)||this.$7(ex,e))){this.$a[ex].raiseRemoveZoneContent(mp);this.raiseEvent$1(mm).call(this,this.$2$1,this.$a[ex],mp)}},$1:function(e,ex){return ss.isValue(this.$a[e].get_contentType())&&!ss.referenceEquals(this.$a[e].get_contentType(),mm.$2(ex))},$7:function(e,ex){return ss.isValue(this.$a[e].get_worksheetName())&&!ss.referenceEquals(this.$a[e].get_worksheetName(),ex.sheet)},$3:function(e){return ss.replaceAllString(e,'z_','')},$5:function(e,ex){var mo=_.keys(this.$a);for(var mp=0;mp<mo.length;mp++){var mq=mo[mp];var mr=this.$a[mq];var ms=e[this.$3(mq)];if(ms===null){delete e[mq];delete this.get_zonePresModels()[mq];this.removeZone(mr,ex);continue}if(ss.isValue(ms)&&ss.isValue(ms.zoneCommon)&&mr.get_zoneCommonModel().get_zoneType()!==ms.zoneCommon.zoneType){this.removeZone(mr,ex)}}},removeZone:function(e,ex){e.raiseRemoveZoneContent(ex);this.raiseEvent$1(mm).call(this,this.$2$2,e,ex);delete this.$a[mn.$0(e.get_zoneId())];this.$8=null},$4:function(e){var ex=new ss.StringBuilder;ex.appendLine(e);var mo=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(mo.moveNext()){var mp=mo.current();if(ss.isValue(mp.value)&&ss.isValue(mp.value.zoneCommon)){ex.append('[ ');ex.append(mp.value.zoneId);ex.append(' ');ex.append(mp.value.zoneCommon.zoneType);ex.append(' ] ');ex.appendLine()}}}finally{mo.dispose()}}},hv);(function(){var e={};e[{ns:'tabsrv',cmd:'refresh-data-server'}.cmd]=false;e[{ns:'tabdoc',cmd:'get-datasource-data-pres-model'}.cmd]=false;e[{ns:'tabdoc',cmd:'get-show-data-pres-model'}.cmd]=false;e[{ns:'tabdoc',cmd:'categorical-filter'}.cmd]=false;e[{ns:'tabdoc',cmd:'categorical-filter-by-index'}.cmd]=false;e[{ns:'tabdoc',cmd:'connection-count-entity'}.cmd]=false;e[{ns:'tabdoc',cmd:'connection-fetch-entity'}.cmd]=false;e[{ns:'tabsrv',cmd:'power-point-export-server'}.cmd]=false;bW.$1=e})();(function(){hE.$0=[]})();(function(){ci.$0=null})();(function(){ck.$5=15;ck.$8={};ck.$6={};ck.$7=[];ck.$8[{ns:'tabdoc',cmd:'keep-only-or-exclude'}.cmd]=2;ck.$8[{ns:'tabdoc',cmd:'quick-sort'}.cmd]=4;ck.$8[{ns:'tabdoc',cmd:'sort-nested'}.cmd]=5;ck.$8[{ns:'tabdoc',cmd:'clear-sorts'}.cmd]=6;ck.$8[{ns:'tabdoc',cmd:'run-action'}.cmd]=8;ck.$8[{ns:'tabdoc',cmd:'load-url'}.cmd]=9;ck.$8[{ns:'tabdoc',cmd:'merge-or-split'}.cmd]=10;ck.$8[{ns:'tabdoc',cmd:'ranged-by-value-merge'}.cmd]=10;ck.$8[{ns:'tabdoc',cmd:'ranged-by-index-merge'}.cmd]=10;ck.$8[{ns:'tabdoc',cmd:'legend-group-or-ungroup'}.cmd]=13;ck.$8[{ns:'tabdoc',cmd:'label-drill'}.cmd]=12;ck.$8[{ns:'tabdoc',cmd:'level-drill'}.cmd]=12;ck.$8[{ns:'tabdoc',cmd:'level-drill-up-down'}.cmd]=12;ck.$8[{ns:'tabdoc',cmd:'remove-reference-line'}.cmd]=15;ck.$8[{ns:'tabdoc',cmd:'show-reference-line-constant-value-editor'}.cmd]=21;ck.$8[{ns:'tabdoc',cmd:'trend-lines'}.cmd]=17;ck.$8[{ns:'tabdoc',cmd:'show-trend-line-editor'}.cmd]=16;ck.$8[{ns:'tabdoc',cmd:'show-col-totals'}.cmd]=18;ck.$8[{ns:'tabdoc',cmd:'show-row-totals'}.cmd]=18;ck.$8[{ns:'tabdoc',cmd:'remove-subtotals'}.cmd]=18;ck.$8[{ns:'tabdoc',cmd:'set-totals-type'}.cmd]=19;ck.$8[{ns:'tabdoc',cmd:'set-reference-line-formula'}.cmd]=20;ck.$8[{ns:'tabdoc',cmd:'show-reference-line-editor'}.cmd]=22;ck.$8[{ns:'tabdoc',cmd:'select-by-tuple-value'}.cmd]=23;ck.$8[{ns:'tabdoc',cmd:'open-automated-insights-modal'}.cmd]=24})();(function(){mj.guid='';mj.parentID='';mj.$0=''})();(function(){gl.$6='_vql_state_';gl.$5=new Map;gl.$8=0;gl.$7=0;tab.WindowHelper.addListener(window.self,'popstate',gl.$3)})();(function(){lF.$d=':retry';lF.$b=':original_view';lF.$h=':showSaveAs';lF.$a=':jsdebug';lF.$c=':render';lF.$6=':app';lF.$9=':ignore_sticky_session';lF.$e=':showComments';lF.$8=':editDataAlertId';lF.$f=':showDataAlertId';lF.$g=':showDataAlerts';lF.$7=':device';lF.$k=[':app',':jsdebug',':render'];lF.$m=ss.mkdict(['askData',8,'authoring',2,'authoringNewWorkbook',3,'newWorkbook',7,'shared',5,'startAskData',9,'views',1,'vizql/showadminview',4,'workbooks',6]);lF.$l=[':bootstrapWhenNotified'];lF.$i={};lF.$j={};var e=function(ex,mo){for(var mp=ex;mp<=mo;mp++){var mq=String.fromCharCode(mp);lF.$j[mq]=mq}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){hv.removeUndefinedBoolsOnSwapCopy=true})();(function(){bU.defaultAlpha=1;bU.white=new bU(255,255,255,1);bU.black=new bU(0,0,0,1);bU.alphaMultiplier=1.5;bU.luminanceThresholdForFakingLineColor=0.800000011920929;bU.luminanceThresholdForLightColor=0.314999997615814;bU.$8=0.999989986419678;bU.$f=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bU.$9=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bU.$b=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bU.$c=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bU.whiteHoverColor=new bU(255,255,255,0.449999988079071);bU.blackHoverColor=new bU(0,0,0,0.449999988079071);bU.$a=77;bU.$d=null;bU.$e=new eT(100)})();(function(){fm.defaultWeight='normal';fm.defaultStyle='normal';fm.hashSeparator='-<%>-';fm.matchQuotes=new RegExp('[\'"]','g')})();(function(){eb.boldWeight='bold';eb.normalWeight='normal'})();(function(){gd.$0=[new gd,new eb]})();(function(){fl.fontPropertyName='font';fl.$1$1=null;fl.$1$2=null})();(function(){eO.nameOfMeasuresColumn=':Measure Names';eO.nameOfMeasureValuesColumn='Multiple Values'})();(function(){hC.$0=new ss.Lazy(function(){return{eventHandler:new hC}})})();(function(){mh.$0=new ss.Lazy(function(){return new mh})})();(function(){bh.$1=bh.$0()})();(function(){O.instance=null})();(function(){kd.$0='data:image/png;base64,';kd.selectionBorderSize=1})();(function(){lI.waitGlassId='loadingGlassPane';lI.waitSpinnerId='loadingSpinner';lI.$1=300;lI.$2=500;lI.$3=250;lI.glassShowDelay=400;lI.glassDefaultOpacity=0;lI.glassDelayedOpacity=0.419999986886978})();(function(){jx.$4='Last';jx.$5='SecondToLast';jx.$3=1440;jx.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];jx.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){ca.successResult=new ca(true,null)})();(function(){gB.$2=null})();(function(){z.$0=35;z.$1=1})();(function(){Y.$0=new(ss.makeGenericType(hw,[Y]))})();(function(){be.linkTarget=null;be.autoUpdate=true;be.$1=null;be.$2=null;be.$4=null;be.$3=204;be.$1$1=null;be.$1$2=null;be.$2=ss.mkdict(['%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g')])})();(function(){hz.$e='vql';hz.$d=0;hz.$j={};hz.$g={};hz.$h={};hz.$f=new Set;hz.$k=false;hz.$i=new hA})();(function(){hF.analyticsClientLibrary='analytics-client';hF.analyticsClientMinifiedLibrary='analytics-client.min';hF.serviceName='VizClient';hF.$1=null;hF.$1$1=null})();(function(){mm.zoneMargin=4;mm.rootZoneID=0;mm.$l=0;mm.$k=0;mm.$m='visual'.toString();mm.$j='dashboardTitle'.toString();mm.$i='dashboardText'.toString();mm.$c='quantitativeColorLegend'.toString();mm.$3='colorLegend'.toString();mm.$h='categoricalSizeLegend'.toString();mm.$g='categoricalShapeLegend'.toString();mm.$9='categoricalMapLegend'.toString();mm.$b='parameterControl'.toString();mm.$a='pageModel'.toString();mm.$f='serverRenderedLegend'.toString();mm.$8='imageZone'.toString();mm.$n='webZone'.toString();mm.$e='serverButtonZone'.toString();mm.$5='addInZone'.toString();mm.$d='quickFilterDisplay'.toString();mm.$4='dataHighlighter'.toString();mm.$7='flipboardNav'.toString();mm.$6='flipboard'.toString()})();(function(){im.$5=6;im.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','dashboard-object','highlighter'];im.$7=[1,2,3,4,5,6];im.$8=null;im.$6=null})();(function(){eI.charBufferForIndividualErrorOverhead=20;eI.charBufferForReportOverhead=160;eI.$4=5000;eI.$5=120;eI.$6='...truncated';eI.$7=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();eI.$7=window.setInterval(eI.$2,5000)}})();(function(){bX.unknownOutcomeLoggingMessage='Unknown recovery outcome: ';bX.$9='CommandController';bX.$8=135;bX.$a=false;bX.$b=false;bX._instance=null;bX.$1$8=null;bX.$1$16=null;bX.fireDeferredUrlActions=false})();(function(){jP.$1={}})();(function(){lM.$0=new lM})();(function(){dr.$1=null;var e=lM.get_instance();var ex={ns:'tabdoc',cmd:{ns:'tabdoc',cmd:'check-connection'}.cmd};var mo=new ce;mo.suppressConnectionDialog=true;e.registerCommandLocalOptions(ex,mo)})();(function(){cr.excel='excel';cr.text='csv';cr.server='sqlproxy';cr.$1=[];cr.$3=null;cr.$2={};cr.$4=null;cr.$1.push('excel');cr.$1.push('excel-direct');cr.$1.push('csv');cr.$1.push('textscan')})();(function(){dt.exceptionAttributesClass='class';dt.exceptionAttributesFilename='filename';dt.exceptionAttributesDirectory='directory'})();(function(){dK.$5='badpassword';dK.$4='badoauthcredentials';dK.$6='NoAssociatedCustomOAuthKey'})();(function(){hy.visualPartToRegionMap=null;hy.regionToVisualPartMap=null;hy.visualPartToRegionMap={};hy.visualPartToRegionMap['left-axis']='leftaxis';hy.visualPartToRegionMap['right-axis']='rightaxis';hy.visualPartToRegionMap['top-axis']='topaxis';hy.visualPartToRegionMap['bottom-axis']='bottomaxis';hy.visualPartToRegionMap['y-labels']='yheader';hy.visualPartToRegionMap['x-labels']='xheader';hy.regionToVisualPartMap={};hy.regionToVisualPartMap['leftaxis']='left-axis';hy.regionToVisualPartMap['rightaxis']='right-axis';hy.regionToVisualPartMap['topaxis']='top-axis';hy.regionToVisualPartMap['bottomaxis']='bottom-axis';hy.regionToVisualPartMap['yheader']='y-labels';hy.regionToVisualPartMap['xheader']='x-labels'})();(function(){bY.$b=new RegExp('\\S+','g')})();(function(){ic.platformLibrary='platform';ic.platformMinifiedLibrary='platform.min';ic.$4=null;ic.$3=null;ic.$2=tab.Logger.getLogger(ic,4)})();(function(){kE.$0=false;kE.$1=false;kE.$1$1=null;kE.$1$2=null})();(function(){lZ.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){jU.$2=300000;jU.$0=tab.DateUtil.get_nowAsTime();jU.$3=300000;jU.$1=tab.DateUtil.get_nowAsTime()})();(function(){jW.$2=0})();(function(){jV.$1$1=null})();(function(){fn.$0='font'})();(function(){lV.$2$1=null})();(function(){mk.rootZoneID=0})();(function(){kH.$6=(tsConfig.is_mobile?4:8);kH.$5=null;kH.$4=null;if(!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache')){mh.get().add_onBootstrapResponse(kH.$0)}})();(function(){lB.vizInTooltipSpanTag='span[data-tableau="VizInTooltip"]';lB.unknownFieldMarker='~~~???~~~';lB.noLocalSummary='...';lB.invalidTupleId=0;lB.urlStringNull='~~null~';lB.urlStringSkipped='~~skipped~';lB.urlStringRagged='~~ragged~';lB.lastWidthAndHeightForVizInTooltips=[];lB.widestVizInTooltip=0;lB.$8=new RegExp('(\\r|\\n)','g')})();(function(){Q.$p=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:','sms:','tel:'];Q.$n=false;Q.$m=false;Q.$o=null})();(function(){jH.$p=null;jH.$p={};jH.$p['simple']='select-options-simple';jH.$p['toggle']='select-options-toggle';jH.$p['range']='select-options-range';jH.$p['menu']='select-options-menu'})();(function(){bj.$5='date-time';bj.$4='all'})();(function(){ki.$2$1=null})();(function(){cZ.facadeDomId='facadedom';cZ.defaultGridSize=20;cZ.$2$1=null})();(function(){fd.presModelCache=null})();(function(){hr.$1='@2x';hr.$0='rgb(255,255,255)'})();(function(){jq.usageTable='RuntimeClientEvents';jq.usageColumnName='EventName';jq.metricsTimeColumnName='ElapsedTime';var e={};e[0]='LOADED';jq.$1=e})();(function(){lA.tupleIdColumnName='[system:visual].[tuple_id]';lA.measureNamesColumnName='[:Measure Names]'})();(function(){cq.primaryTableCalcIndex=0;cq.secondaryTableCalcIndex=1;var e=Y.get_instance();e.addModel(cq).call(e)})();(function(){dH.$0=null})();(function(){dI.$2=false})();(function(){bI.$a='Cancel_Command';bI.$2='CommandName';bI.$3='UNKNOWN';bI.$4='ElapsedTimeToCancelMS';bI.$5='ElapsedTimeToProcessCancelResponseMS';bI.$6='CancelStatus';bI.$9='Success';bI.$8='NothingToCancel';bI.$7='Failure'})();(function(){tab.KeyboardShortcutTelemetry.add_telemetryEvent(hF.logEvent)})();(function(){ku.fontFaces=['Arial','Courier New','Tableau Bold','Tableau Book','Tableau Light','Tableau Medium','Tableau Regular','Tableau Semibold','Times New Roman']})();(function(){fr.tableauFallback='Arial';fr.sansSerifFallback='sans-serif';fr.cssFontStyle='font-style';fr.cssFontWeight='font-weight';fr.cssFontStretch='font-stretch';fr.cssFontFamily='font-family';fr.javascriptFontStyle='fontStyle';fr.javascriptFontWeight='fontWeight';fr.javascriptFontStretch='fontStretch';fr.$5=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'demibold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'semibold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];fr.$3=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];fr.$4=[{item1:'italic',item2:'italic'}];fr.$2={}})();(function(){lP.fakeFontName='TableauTestFont';lP.fakeFontTestText='A';lP.fakeFontDivClass='TestFontContainer';lP.$3={};lP.$4=$(document.body);lP.$2=0;lP.$1=0;kE.callAfterModelsInitialized(function(){$('<div />').addClass('TestFontContainer').css({'font-family':'TableauTestFont',visibility:'hidden','z-index':'-1',position:'absolute',top:'0',right:'0'}).text('A').appendTo(lP.$4)})})();(function(){fs.fontListStorageKey='auth-font-list';fs.fontSizes=[8,9,10,11,12,14,15,16,18,20,22,24,26,28,36,48,72]})();(function(){jQ.tableauLight='Tableau Light';jQ.tableauBook='Tableau Book';jQ.tableauRegular='Tableau Regular';jQ.tableauMedium='Tableau Medium';jQ.tableauSemibold='Tableau Semibold';jQ.tableauBold='Tableau Bold';jQ.bentonSansLight='Benton Sans Light';jQ.bentonSansBook='Benton Sans Book';jQ.bentonSansBookItalic='Benton Sans Book Italic';jQ.bentonSansMedium='Benton Sans Medium';jQ.bentonSansSemiDemi='Benton Sans SemiDemi';jQ.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';jQ.bentonSans='Benton Sans';jQ.bentonSansLowDpi='Benton Sans Low-DPI';jQ.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff',false),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff',false),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff',false),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff',false),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff',false),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff',false)]);jQ.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff',false),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff',false),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff',false),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff',false),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff',false),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff',false)]);var e=new dU;e.set_fontFamily('Tableau Light');e.woffLocation=jQ.tableauFontWoffPaths['Tableau Light'];var ex=new dU;ex.set_fontFamily('Tableau Light');ex.set_weight('bold');ex.woffLocation=jQ.tableauFontWoffPaths['Tableau Medium'];var mo=new dU;mo.set_fontFamily('Tableau Book');mo.woffLocation=jQ.tableauFontWoffPaths['Tableau Book'];var mp=new dU;mp.set_fontFamily('Tableau Book');mp.set_weight('bold');mp.woffLocation=jQ.tableauFontWoffPaths['Tableau Medium'];var mq=new dU;mq.set_fontFamily('Tableau Regular');mq.woffLocation=jQ.tableauFontWoffPaths['Tableau Regular'];var mr=new dU;mr.set_fontFamily('Tableau Regular');mr.set_weight('bold');mr.woffLocation=jQ.tableauFontWoffPaths['Tableau Semibold'];var ms=new dU;ms.set_fontFamily('Tableau Medium');ms.woffLocation=jQ.tableauFontWoffPaths['Tableau Medium'];var mt=new dU;mt.set_fontFamily('Tableau Medium');mt.set_weight('bold');mt.woffLocation=jQ.tableauFontWoffPaths['Tableau Bold'];var mu=new dU;mu.set_fontFamily('Tableau Semibold');mu.woffLocation=jQ.tableauFontWoffPaths['Tableau Semibold'];var mv=new dU;mv.set_fontFamily('Tableau Semibold');mv.set_weight('bold');mv.woffLocation=jQ.tableauFontWoffPaths['Tableau Bold'];var mw=new dU;mw.set_fontFamily('Tableau Bold');mw.woffLocation=jQ.tableauFontWoffPaths['Tableau Bold'];var mx=new dU;mx.set_fontFamily('Tableau Bold');mx.set_weight('bold');mx.woffLocation=jQ.tableauFontWoffPaths['Tableau Bold'];jQ.tableauFontNames=[e,ex,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx];var e=new dU;e.set_fontFamily('Benton Sans');e.woffLocation=jQ.bentonSansWoffPaths['Benton Sans Book'];jQ.bentonSansFontNames=[e];var e=new dU;e.set_fontFamily('Benton Sans Low-DPI');e.woffLocation=jQ.bentonSansWoffPaths['Benton Sans SemiDemi'];jQ.bentonSansLowDpiFontNames=[e];jQ.effectiveBentonSans=(BrowserSupport.BrowserSupport.IsHighDpi()?jQ.bentonSansFontNames:jQ.bentonSansLowDpiFontNames)})();(function(){jj.$2=null;jj.defaultContentSecurityPolicy="default-src 'none'; script-src 'self'; connect-src 'self'; img-src * data:; style-src 'self' 'unsafe-inline'; font-src 'self' {0};"})();(function(){ba.$2='AxisAuthoringInteractions';ba.$8='RenderingMode';ba.$4='AxisInteraction';ba.$3='CaretIcon';ba.$7='DoubleTap';ba.$9='RightClick';ba.$6='ContextMenuShown';ba.$5='Browser';ba.$a='Server'})();(function(){var e=Y.get_instance();e.addModel(bD).call(e)})();(function(){kR.$0={};kR.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';kR.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';kR.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';kR.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';kR.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';kR.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';kR.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';kR.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';kR.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';kR.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';kR.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';kR.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';kR.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';kR.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';kR.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';kR.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';kR.$0['TQRC_OPEN_AUTOMATED_INSIGHTS_MODAL']='tableau-1.3/res/vizTooltips/Tooltip_AutomatedInsights.png';kR.$0['TQRC_OPEN_AUTOMATED_INSIGHTS_MODAL_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_AutomatedInsights_Active.png';kR.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';kR.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';kR.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';kR.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';kR.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';kR.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';kR.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';kR.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';kR.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';kR.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';kR.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';kR.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';kR.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';kR.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';kR.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';kR.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';kR.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';kR.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';kR.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';kR.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';kR.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';kR.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';kR.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';kR.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';kR.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';kR.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';kR.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';kR.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';kR.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';kR.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';kR.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';kR.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';kR.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';kR.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';kR.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';kR.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';kR.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';kR.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';kR.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';kR.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';kR.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';kR.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';kR.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';kR.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';kR.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';kR.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';kR.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';kR.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';kR.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';kR.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';kR.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';kR.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';kR.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';kR.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';kR.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';kR.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';kR.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';kR.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';kR.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';kR.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';kR.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';kR.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';kR.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';kR.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';kR.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';kR.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';kR.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';kR.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';kR.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';kR.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';kR.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';kR.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';kR.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';kR.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';kR.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';kR.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';kR.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';kR.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';kR.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';kR.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';kR.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';kR.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';kR.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';kR.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';kR.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';kR.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';kR.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';kR.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';kR.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';kR.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';kR.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';kR.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';kR.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';kR.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';kR.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';kR.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';kR.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';kR.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';kR.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';kR.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';kR.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';kR.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';kR.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';kR.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';kR.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';kR.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';kR.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';kR.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';kR.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';kR.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';kR.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';kR.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';kR.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';kR.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';kR.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';kR.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';kR.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';kR.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';kR.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';kR.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';kR.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';kR.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';kR.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';kR.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';kR.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';kR.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';kR.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';kR.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';kR.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';kR.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';kR.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';kR.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';kR.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';kR.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';kR.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';kR.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';kR.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';kR.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';kR.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';kR.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';kR.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';kR.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';kR.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';kR.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';kR.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';kR.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';kR.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';kR.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';kR.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';kR.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';kR.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';kR.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';kR.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';kR.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';kR.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';kR.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';kR.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';kR.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';kR.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';kR.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';kR.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';kR.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';kR.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';kR.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';kR.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';kR.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';kR.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';kR.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';kR.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';kR.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';kR.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';kR.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';kR.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';kR.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';kR.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';kR.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';kR.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';kR.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';kR.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';kR.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';kR.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';kR.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';kR.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';kR.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';kR.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';kR.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';kR.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';kR.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';kR.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';kR.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';kR.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';kR.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';kR.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';kR.$0['TQRC_ANALYTICSPANE_DROP_POWER']='tableau-1.3/res/analyticspane/drop/trend-power.png';kR.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';kR.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';kR.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';kR.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';kR.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';kR.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';kR.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';kR.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';kR.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';kR.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';kR.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';kR.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';kR.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';kR.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';kR.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';kR.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';kR.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';kR.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){ch.$0='granted'})();(function(){cU.$8='get_customized_view';cU.$9='get_customized_views';cU.$b='set_default_customized_view';cU.$7='destroy_customized_view';cU.$a='save_customized_view';cU.$c='update_customized_view'})();(function(){ig.$0=null})();(function(){lM.get_instance().registerCommand({ns:'tabdoc',cmd:'dashboard-show-grid-web-wrapper'},dh)})();(function(){Y.get_holder().addEventBinding(function(e){e.addModel(dp).call(e)},function(e){e.removeModel(dp).call(e)})})();(function(){dq.everyTime=0;dq.hourly=60;dq.daily=1440;dq.weekly=10080;dq.onlyOnce=2147483647})();(function(){dJ.$0=null})();(function(){id.dialogApiContract=null;id.hybridWidgetsContract=null;id.menuApiContract=null;id.dialogApiContract=hz.registerRawJsModule('@tableau/dialog-api-contract','dialog-api-contract-web.min','dialog-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured;id.menuApiContract=hz.registerRawJsModule('@tableau/menu-api-contract','menu-api-contract-web.min','menu-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured;id.hybridWidgetsContract=hz.registerRawJsModule('@tableau/hybrid-widgets-contract','hybrid-widgets-web.min','hybrid-widgets-web').andLoadOnDemandIf(true).moduleBeingConfigured})();(function(){dO.buttonConfigDialogModuleName='@tableau/button-config-dialog';dO.buttonConfigDialogFileBaseName='button-config-dialog';dO.chooseExtensionDialogModuleName='@tableau/choose-extension-dialog';dO.extensionInfoDialogModuleName='@tableau/extension-info-dialog';dO.chooseExtensionFileBaseName='choose-extension-dialog';dO.extensionInfoFileBaseName='extension-info-dialog';dO.$3=null;dO.$4={};dO.$3=dO.$2();if(tab.FeatureFlags.isEnabled('AIExplainThisMark_AuthoringMode')||tab.FeatureFlags.isEnabled('AIExplainThisMark_ViewingMode')){dO.addHybridDialog('@tableau/automated-insights-modal','automated-insights-modal','doc:open-automated-insights-modal-event',null)}if(tab.FeatureFlags.isEnabled('DataToTheWebTabbedAuthReconnect')){dO.addHybridDialog('@tableau/tabbed-auth-dialog','tabbed-auth-dialog','doc:tabbed-auth-dialog-event',null)}if(tab.FeatureFlags.isEnabled('EditAxisDialog')){dO.addHybridDialog('@tableau/edit-axis-dialog','edit-axis-dialog','doc:update-edit-axis-dialog-event',null)}if(tab.FeatureFlags.isEnabled('WebParameters')){dO.addHybridDialog('@tableau/parameters-dialog','parameters-dialog','doc:parameter-edit-dialog-event',null)}dO.addHybridDialog('@tableau/sort-dialog','sort-dialog','doc:show-sort-dialog-event',null).addDependency(dO.$1('@tableau/widgets-datagrid','widgets-datagrid'));if(tab.FeatureFlags.isEnabled('BasicButtonObject')){dO.addHybridDialog(dO.buttonConfigDialogModuleName,dO.buttonConfigDialogFileBaseName,'doc:update-button-config-dialog-event',null)}if(tab.FeatureFlags.isEnabled('DashboardMttwImageObject')){dO.addHybridDialog('@tableau/image-object-config-dialog','image-object-config-dialog','doc:update-image-object-config-dialog-event',null)}if(tab.FeatureFlags.isEnabled('Extensions')){dO.addHybridDialog(dO.chooseExtensionDialogModuleName,dO.chooseExtensionFileBaseName,'doc:choose-extension-dialog-event',null);dO.addHybridDialog(dO.extensionInfoDialogModuleName,dO.extensionInfoFileBaseName,'doc:extension-info-dialog-event',null)}if(tab.FeatureFlags.isEnabled('ExtensionPermissionsPrompt')){dO.addHybridDialog('@tableau/extensions-permissions-dialog','extensions-permissions-dialog','doc:permissions-dialog-event',null)}if(tsConfig.is_authoring){if(tab.FeatureFlags.isEnabled('RichTextEditingHybridDialogWeb')){dO.addHybridDialog('@tableau/rich-text-editor-hybrid-dialog','rich-text-editor-hybrid-dialog','doc:rich-text-editor-dialog-event',null)}}if(tab.FeatureFlags.isEnabled('ZoneFriendlyName')){dO.addHybridDialog('@tableau/zone-friendly-name-config-dialog','zone-friendly-name-config-dialog','doc:launch-zone-friendly-name-config-dialog-event',null)}dO.addHybridDialogIfFeatureEnabled('GotoSheetDialog','@tableau/goto-sheet-dialog','goto-sheet-dialog','doc:launch-goto-sheet-dialog-event',null);var e={customZIndex:1000,contentClassName:'detailedErrorDialog'};dO.addHybridDialog('@tableau/detailed-error-dialog','detailed-error-dialog','doc:update-detailed-error-dialog-event',e);if(tab.FeatureFlags.isEnabled('DownloadAsVersionHiFi')){dO.addHybridDialog('@tableau/export-as-version-dialog','export-as-version-dialog','doc:launch-export-as-version-dialog-event',e)}dO.$0()})();(function(){kZ.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){lM.get_instance().registerCommand({ns:'tabdoc',cmd:'download-as-version'},dY)})();(function(){hD.registerHandler('doc:permissions-update-event',eF.$0)})();(function(){eW.$1=null;eW.$0='Authoring_DataTab_FileUpload_'})();(function(){ih.$0=null})();(function(){hP.currentPage=4294967295})();(function(){lM.get_instance().registerCommand({ns:'tabdoc',cmd:'perform-tabbed-authentication'},hX)})();(function(){lM.get_instance().registerCommand({ns:'tabdoc',cmd:'raise-connections-succeeded-notification'},iz)})();(function(){lM.get_instance().registerCommand({ns:'tabdoc',cmd:'raise-dialog-closed-notification'},iC)})();(function(){ji.$0='rich-text-editor'})();(function(){jt.shapeMapping=null;jt.reverseShapeMapping=null;jt.$1=null;jt.$0=null;jt.lineInterpolationMapping=null;jt.$1={};jt.$1['enable-pan-x']=1;jt.$1['enable-pan-y']=2;jt.$1['enable-zoom-x']=4;jt.$1['enable-zoom-y']=8;jt.$1['enable-scale-x']=16;jt.$1['enable-scale-y']=32;jt.$1['clip-to-cell-x']=64;jt.$1['clip-to-cell-y']=128;jt.$1['clip-to-cell-for-selection']=256;jt.$1['x-axis-on-top']=512;jt.$1['y-axis-on-right']=1024;jt.$1['has-cells-x']=2048;jt.$1['has-cells-y']=4096;jt.$0={};jt.$0['end']=1;jt.$0['endprimitive']=2;jt.$0['closedprimitive']=4;jt.$0['marked']=8;jt.$0['markediflabel']=16;jt.$0['debug']=128;jt.$0['user']=65536;jt.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);jt.reverseShapeMapping={};var e=_.keys(jt.shapeMapping);for(var ex=0;ex<e.length;ex++){var mo=e[ex];jt.reverseShapeMapping[jt.shapeMapping[mo]]=mo}jt.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump'])})();(function(){jw.blackColor=null;var e=(new bU(0,0,0,1)).toRgba();jw.blackColor={};jw.blackColor['colorOverrideNone']=e;jw.blackColor['colorOverrideFog']=e;jw.blackColor['colorOverrideOpaque']=e})();(function(){jz.$0();jz.$1()})();(function(){jA.maxDatasourceCaptionLength=254})();(function(){kz.$c='SortingEvents';kz.$4='IndicatorType';kz.$5='RegionOrientation';kz.$6='RegionType';kz.$a='SortType';kz.$7='SortDirection';kz.$f='UseNestedSortForComparativeSort';kz.$b='EntryPoint';kz.$8='SortIndicator';kz.$9='SortIndicatorMenu';kz.$d='Toolbar';kz.$e='Unknown'})();(function(){var e=Y.get_instance();e.addModel(ld).call(e)})();(function(){li.$g=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','·','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];li.$h=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})()})();;
/*! BEGIN TableauRuntime */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabruntime');var b=function(){};b.__typeName='tab.$0';b.$0=function(e,dc){var dd=new Object;dd.type=null;dd.value=null;dd.type=e;dd.value=dc;return dd};b.isInstanceOfType=function(){return true};var c=function(e){this.$b=0;this.$9=0;this.$e=0;this.$a=new Array;this.$d=new Array;this.$7=new Array;this.$c=null;this.$8=null;this.$c=e;this.$a.push(true);this.$8={};this.$d.push(this.$8);this.$7.push([])};c.__typeName='tab.$1';var d=function(){bh.call(this)};d.__typeName='tab.ActivePagesKeys';d.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ActivePagesKeys=d;var f=function(){bh.call(this)};f.__typeName='tab.AdjustAxisRangeOutputTableKeys';f.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AdjustAxisRangeOutputTableKeys=f;var g=function(){bh.call(this)};g.__typeName='tab.AnnexedDataKeys';g.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AnnexedDataKeys=g;var h=function(){bh.call(this)};h.__typeName='tab.AxisDescriptorHeadersTableKeys';h.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisDescriptorHeadersTableKeys=h;var i=function(){bh.call(this)};i.__typeName='tab.AxisDescriptorNodesTableKeys';i.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisDescriptorNodesTableKeys=i;var j=function(){bh.call(this)};j.__typeName='tab.AxisModelDataTableKeys';j.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisModelDataTableKeys=j;var k=function(){bh.call(this)};k.__typeName='tab.AxisProducerInputKeys';k.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisProducerInputKeys=k;var l=function(){bh.call(this)};l.__typeName='tab.AxisProducerOutputKeys';l.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisProducerOutputKeys=l;var m=function(){bh.call(this)};m.__typeName='tab.AxisRangeDataTableKeys';m.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisRangeDataTableKeys=m;var n=function(){bh.call(this)};n.__typeName='tab.AxisRangeKeys';n.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisRangeKeys=n;var o=function(){bh.call(this)};o.__typeName='tab.AxisRangeTableColumnsKeys';o.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisRangeTableColumnsKeys=o;var p=function(){bh.call(this)};p.__typeName='tab.AxisRangeTableKeys';p.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisRangeTableKeys=p;var q=function(){bh.call(this)};q.__typeName='tab.AxisSizeTableKeys';q.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisSizeTableKeys=q;var r=function(){bh.call(this)};r.__typeName='tab.AxisTableColumnsKeys';r.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisTableColumnsKeys=r;var s=function(){bh.call(this)};s.__typeName='tab.AxisTableKeys';s.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.AxisTableKeys=s;var t=function(){};t.__typeName='tab.Base64HeapDecoder';t.$0=function(e){if(ss.isNullOrUndefined(t.$1)){t.$1=new Array(4);for(var dc=0;dc<t.$2.length;++dc){t.$1[t.$2.charCodeAt(dc)]=dc}}if(e===61){return 0}else{return t.$1[e]}};t.decodedLength=function(e){var dc=0;var dd=e.length;var de=dd;if(e.charCodeAt(dd-2)===61){dc=4;de-=2;if(e.charCodeAt(dd-1)!==61){throw new ss.Exception('Received incorrectly formatted base64 string!')}}else if(e.charCodeAt(dd-1)===61){de-=1;dc=2}return ss.Int32.div(de*6-dc,8)};t.run=function(e,dc,dd){var de=dd.length;var df=0,dg=0,dh=0,di=0;var dj=0;var dk=t.decodedLength(dd);for(var dl=0;dl<de;dl+=4){df=t.$0(dd.charCodeAt(dl));dg=t.$0(dd.charCodeAt(dl+1));dh=t.$0(dd.charCodeAt(dl+2));di=t.$0(dd.charCodeAt(dl+3));dc[e++]=df<<2|dg>>>4;dj++;if(dj<dk){dc[e++]=(dg&15)<<4|dh>>>2;dj++}if(dj<dk){dc[e++]=(dh&3)<<6|di&63;dj++}}};global.tab.Base64HeapDecoder=t;var u=function(){bh.call(this)};u.__typeName='tab.CommonEncodingsKeys';u.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.CommonEncodingsKeys=u;var v=function(){bh.call(this)};v.__typeName='tab.ComposedTextResultKeys';v.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ComposedTextResultKeys=v;var w=function(){bh.call(this)};w.__typeName='tab.ComputeAxisExtentsOutputsKeys';w.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ComputeAxisExtentsOutputsKeys=w;var x=function(){bh.call(this)};x.__typeName='tab.ComputeTreemapLayoutOutputTableKeys';x.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ComputeTreemapLayoutOutputTableKeys=x;var y=function(){bh.call(this)};y.__typeName='tab.ConstraintSystemKeys';y.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ConstraintSystemKeys=y;var z=function(){bh.call(this)};z.__typeName='tab.ConstraintTableKeys';z.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ConstraintTableKeys=z;var A=function(e,dc){bE.call(this,e,dc)};A.__typeName='tab.DatastoreHandle';global.tab.DatastoreHandle=A;var B=function(){bh.call(this)};B.__typeName='tab.DateTimeTickPerHeaderInputTableKeys';B.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.DateTimeTickPerHeaderInputTableKeys=B;var C=function(){bh.call(this)};C.__typeName='tab.DomainLookupKeys';C.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.DomainLookupKeys=C;var D=function(){bh.call(this)};D.__typeName='tab.EllipsisTableKeys';D.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.EllipsisTableKeys=D;var E=function(){};E.__typeName='tab.EmscriptenSupport';E.getExceptionInformation=function(e){var dc=e.get_message().split(' ',1);if(dc.length===1){var dd=parseInt(dc[0]);var de=RuntimeWebModule.HEAPU32[RuntimeWebModule.HEAPU32[dd>>2]+8>>>2];if(de===0){return e}var df=RuntimeWebModule.dynCall_ii(de,dd);if(df===0){return e}var dg=df;for(;dg<RuntimeWebModule.HEAPU8.length;dg++){if(RuntimeWebModule.HEAPU8[dg]===0){break}}try{var dh=cS.decode(RuntimeWebModule.HEAPU8.subarray(df,dg));return new ss.Exception("Emscripten thrown exception: '"+dh+"'",e)}catch(di){return e}}return e};global.tab.EmscriptenSupport=E;var F=function(){bh.call(this)};F.__typeName='tab.EncodingsTableKeys';F.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.EncodingsTableKeys=F;var G=function(){};G.__typeName='tab.EnumConversions';G.tableauFontStyleFromInt=function(e){if(ss.isNullOrUndefined(G.$8)){G.$8=['font-style-normal','font-style-italic']}return G.$8[e]};G.fontWeightFromInt=function(e){if(ss.isNullOrUndefined(G.$1)){G.$1=['font-weight-normal','font-weight-bold']}return G.$1[e]};G.textOrientFromInt=function(e){if(ss.isNullOrUndefined(G.$9)){G.$9=['text-orient-auto','text-orient-horizontal','text-orient-vertical-up','text-orient-vertical-down']}return G.$9[e]};G.datePeriodTypeFromInt=function(e){if(ss.isNullOrUndefined(G.$0)){G.$0=['year','quarter','month','week','day','hour','minute','second']}return G.$0[e]};G.labelHAlignmentFromInt=function(e){if(ss.isNullOrUndefined(G.$2)){G.$2=['h-align-left','h-align-center','h-align-right','h-align-auto']}return G.$2[e]};G.labelVAlignmentFromInt=function(e){if(ss.isNullOrUndefined(G.$3)){G.$3=['v-align-bottom','v-align-center','v-align-top','v-align-auto']}return G.$3[e]};G.linePatternFromInt=function(e){if(ss.isNullOrUndefined(G.$6)){G.$6=['none','solid','dashed','dotted']}return G.$6[e]};G.lineCapFromInt=function(e){if(ss.isNullOrUndefined(G.$4)){G.$4=['flat','square','round','triangle']}return G.$4[e]};G.lineJoinFromInt=function(e){if(ss.isNullOrUndefined(G.$5)){G.$5=['bevel','miter','round']}return G.$5[e]};G.primitiveFromInt=function(e){if(ss.isNullOrUndefined(G.$7)){G.$7=['shape','line','bar','polar-bar','text','label','pie','area','polygon','multipolygon','square','heatmap','count']}return G.$7[e]};G.vizTypeFromInt=function(e){if(ss.isNullOrUndefined(G.$b)){G.$b=['standard','oo-stacked','gantt-stacked','treemap','bubble','wordle','highlight','count']}return G.$b[e]};G.visualPartFromInt=function(e){if(ss.isNullOrUndefined(G.$a)){G.$a=['misc','annotations','axis-rules','top-axis','bottom-axis','left-axis','right-axis','background','borders','caption','cell-borders','decoration','drop-lines','x-labels','y-labels','legends','marks','mark-labels','mark-trails','ref-bands','ref-lines','pane-borders','scroll-bars','title','trend-lines','upper-map-layers','header','axis']}return G.$a[e]};global.tab.EnumConversions=G;var H=function(){bh.call(this)};H.__typeName='tab.ExpressionCoefficientTableKeys';H.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ExpressionCoefficientTableKeys=H;var I=function(){bh.call(this)};I.__typeName='tab.ExpressionConstantTableKeys';I.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ExpressionConstantTableKeys=I;var J=function(){bh.call(this)};J.__typeName='tab.ExtendedDomainKeys';J.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ExtendedDomainKeys=J;var K=function(){bh.call(this)};K.__typeName='tab.ExtendedDomainPerAxisKeys';K.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ExtendedDomainPerAxisKeys=K;var L=function(){};L.__typeName='tab.FallbackTextDecoder';L.decode=function(e){var dc,dd,de,df,dg,dh;var di=0;var dj='';var dk=e.length;while(di<dk){dc=e[di++];if(dc===0){return dj}if((dc&128)===0){dj+=String.fromCharCode(dc);continue}dd=e[di++]&63;if((dc&224)===192){dj+=String.fromCharCode((dc&31)<<6|dd);continue}de=e[di++]&63;if((dc&240)===224){dc=(dc&15)<<12|dd<<6|de}else{df=e[di++]&63;if((dc&248)===240){dc=(dc&7)<<18|dd<<12|de<<6|df}else{dg=e[di++]&63;if((dc&252)===248){dc=(dc&3)<<24|dd<<18|de<<12|df<<6|dg}else{dh=e[di++]&63;dc=(dc&1)<<30|dd<<24|de<<18|df<<12|dg<<6|dh}}}if(dc<65536){dj+=String.fromCharCode(dc)}else{var dl=dc-65536;dj+=String.fromCharCode(55296|dl>>10,56320|dl&1023)}}return dj};global.tab.FallbackTextDecoder=L;var M=function(){};M.__typeName='tab.FallbackTextEncoder';M.$0=function(e){var dc=0;for(var dd=0;dd<e.length;dd++){var de=e.charCodeAt(dd);if(de>=55296&&de<=57343){de=65536+((de&1023)<<10)|e.charCodeAt(++dd)&1023}if(de<=127){++dc}else if(de<=2047){dc+=2}else if(de<=65535){dc+=3}else if(de<=2097151){dc+=4}else if(de<=67108863){dc+=5}else{dc+=6}}return dc};M.encode=function(e){var dc=M.$0(e);var dd=new Uint8Array(dc);var de=0;for(var df=0;df<e.length;df++){var dg=e.charCodeAt(df);if(dg>=55296&&dg<=57343){dg=65536+((dg&1023)<<10)|e.charCodeAt(++df)&1023}if(dg<=127){dd[de++]=dg}else if(dg<=2047){dd[de++]=192|dg>>6;dd[de++]=128|dg&63}else if(dg<=65535){dd[de++]=224|dg>>12;dd[de++]=128|dg>>6&63;dd[de++]=128|dg&63}else if(dg<=2097151){dd[de++]=240|dg>>18;dd[de++]=128|dg>>12&63;dd[de++]=128|dg>>6&63;dd[de++]=128|dg&63}else if(dg<=67108863){dd[de++]=248|dg>>24;dd[de++]=128|dg>>18&63;dd[de++]=128|dg>>12&63;dd[de++]=128|dg>>6&63;dd[de++]=128|dg&63}else{dd[de++]=252|dg>>30;dd[de++]=128|dg>>24&63;dd[de++]=128|dg>>18&63;dd[de++]=128|dg>>12&63;dd[de++]=128|dg>>6&63;dd[de++]=128|dg&63}}return dd};global.tab.FallbackTextEncoder=M;var N=function(){bh.call(this)};N.__typeName='tab.FlattenedAxisDescriptorKeys';N.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.FlattenedAxisDescriptorKeys=N;var O=function(){bh.call(this)};O.__typeName='tab.FormattedTextInputKeys';O.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.FormattedTextInputKeys=O;var P=function(){bh.call(this)};P.__typeName='tab.GridLineProducerInputKeys';P.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.GridLineProducerInputKeys=P;var Q=function(){bh.call(this)};Q.__typeName='tab.GridLineProducerOutputKeys';Q.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.GridLineProducerOutputKeys=Q;var R=function(){bh.call(this)};R.__typeName='tab.HeatmapInputEncodingKeys';R.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.HeatmapInputEncodingKeys=R;var S=function(){bh.call(this)};S.__typeName='tab.HeatmapOutputEncodingKeys';S.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.HeatmapOutputEncodingKeys=S;var T=function(){bh.call(this)};T.__typeName='tab.HeatmapProducerInputKeys';T.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.HeatmapProducerInputKeys=T;var U=function(){bh.call(this)};U.__typeName='tab.HeatmapProducerOutputKeys';U.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.HeatmapProducerOutputKeys=U;var V=function(){};V.__typeName='tab.HexEncoder';V.$0=function(){if(!V.$2){V.$2=true;V.$1=new Array(256);for(var e=0;e<16;e++){V.$1[e]='0'+e.toString(16)}for(var dc=16;dc<256;dc++){V.$1[dc]=dc.toString(16)}}};V.encodeBufferToHex=function(e){V.$0();var dc=new Array(e.byteLength*2);for(var dd=0;dd<e.byteLength;dd++){dc[dd]=V.$1[e[dd]]}return dc.join('')};global.tab.HexEncoder=V;var W=function(){};W.__typeName='tab.HexHeapDecoder';W.decodedLength=function(e){return ss.Int32.div(e.length,2)};W.run=function(e,dc,dd){var de=0;while(de<dd.length){dc[e++]=W.$0[dd.charCodeAt(de++)]*16|W.$0[dd.charCodeAt(de++)]}};global.tab.HexHeapDecoder=W;var X=function(){bh.call(this)};X.__typeName='tab.HiddenMarksKeys';X.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.HiddenMarksKeys=X;var Y=function(){};Y.__typeName='tab.HuttUtils';Y.getMappedArray=function(e,dc,dd,de){switch(e){case 32:{return new Uint8Array(dc,dd,de)}case 33:{return new Uint16Array(dc,dd,de)}case 34:{return new Uint32Array(dc,dd,de)}case 40:{return new Int8Array(dc,dd,de)}case 41:{return new Int16Array(dc,dd,de)}case 42:{return new Int32Array(dc,dd,de)}case 50:{return new Float32Array(dc,dd,de)}case 51:{return new Float64Array(dc,dd,de)}}throw new ss.Exception('Unsupported array type: '+e)};Y.getMappedArrayJabba=function(e,dc,dd,de){var df=Y.$0(e);var dg=ss.Int32.div(de,Y.$0(e));switch(e){case 32:{return new Uint8Array(dc,dd,dg)}case 33:{return new Uint16Array(dc,dd,dg)}case 34:{return new Uint32Array(dc,dd,dg)}case 40:{return new Int8Array(dc,dd,dg)}case 41:{return new Int16Array(dc,dd,dg)}case 42:{return new Int32Array(dc,dd,dg)}case 50:{return new Float32Array(dc,dd,dg)}case 51:{return new Float64Array(dc,dd,dg)}}throw new ss.Exception('Unsupported array type: '+e)};Y.$0=function(e){var dc=e;return 1<<(dc&7)};global.tab.HuttUtils=Y;var Z=function(){bh.call(this)};Z.__typeName='tab.ImportKeys';Z.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ImportKeys=Z;var ba=function(){bh.call(this)};ba.__typeName='tab.IncrementalUpdateInputKeys';ba.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.IncrementalUpdateInputKeys=ba;var bb=function(){bh.call(this)};bb.__typeName='tab.IndexedFieldNameKeys';bb.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.IndexedFieldNameKeys=bb;var bc=function(){};bc.__typeName='tab.IRuntimeWebModule';global.tab.IRuntimeWebModule=bc;var bd=function(){};bd.__typeName='tab.IRWALSupport';global.tab.IRWALSupport=bd;var be=function(e,dc){this.typeId=0;this.encoding=0;this.dataOffset=0;this.dataSize=0;this.typeId=e[dc+0];this.encoding=e[dc+1];this.dataOffset=e[dc+2];this.dataSize=e[dc+3]};be.__typeName='tab.JabbaManifest';global.tab.JabbaManifest=be;var bf=function(e){this.$8=null;this.$b=null;this.$c=0;this.$9=0;this.$a=0;this.$d=[];this.unpacked=[];this.$b=e;this.$7()};bf.__typeName='tab.JabbaUnpacker';global.tab.JabbaUnpacker=bf;var bg=function(e){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=e;this.jabba=new bf(e);this.data=new bA(this.jabba);this.$0()};bg.__typeName='tab.JsHeapMarshaller';bg.$2=function(e,dc){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=e;this.jabba=null;var dd=new Int32Array(this.heap,dc,10);this.data=new bA.$ctor1(dd,this.heap);this.$0()};bg.unmarshall$1=function(e,dc){var dd=new bg.$2(e,dc);var de=new c(dd);return de.$0()};bg.unmarshall=function(e){var dc=new bg(e);var dd=new c(dc);return dd.$0()};bg.unmarshallHex=function(e){if(!ss.keyExists(bg.$1,e)){bg.$1[e]=bg.unmarshall(bg.$0(e))}if(c.$0){return bg.$1[e]}else{var dc={};_.extend(dc,bg.$1[e]);return dc}};bg.unmarshallBase64=function(e){var dc=t.decodedLength(e);var dd=new Uint8Array(dc);t.run(0,dd,e);return bg.unmarshall(dd.buffer)};bg.$0=function(e){var dc=new Uint8Array(W.decodedLength(e));W.run(0,dc,e);return dc.buffer};global.tab.JsHeapMarshaller=bg;var bh=function(){this.$1=null;this.$2=null;this.$0('',null)};bh.__typeName='tab.KeyPath';bh.$ctor1=function(e){this.$1=null;this.$2=null;this.$0(e,null)};bh.$ctor2=function(e){this.$1=null;this.$2=null;this.$0(e.$1,null)};bh.$1=function(e,dc){this.$1=null;this.$2=null;this.$0(e,dc)};global.tab.KeyPath=bh;var bi=function(){bh.call(this)};bi.__typeName='tab.LabelPlacementKeys';bi.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LabelPlacementKeys=bi;var bj=function(){bh.call(this)};bj.__typeName='tab.LabelStoreKeys';bj.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LabelStoreKeys=bj;var bk=function(){bh.call(this)};bk.__typeName='tab.LayoutInputStoreKeys';bk.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LayoutInputStoreKeys=bk;var bl=function(){bh.call(this)};bl.__typeName='tab.LayoutResultStoreKeys';bl.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LayoutResultStoreKeys=bl;var bm=function(){bh.call(this)};bm.__typeName='tab.LayoutSizeKeys';bm.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LayoutSizeKeys=bm;var bn=function(e){this.$7=0;this.$6=null;this.$7=0;this.$6=e};bn.__typeName='tab.LinearFloatGeometryDecoder';global.tab.LinearFloatGeometryDecoder=bn;var bo=function(){};bo.__typeName='tab.LocalEmscripten';global.tab.LocalEmscripten=bo;var bp=function(){};bp.__typeName='tab.LocalEmscriptenSupport';global.tab.LocalEmscriptenSupport=bp;var bq=function(){bh.call(this)};bq.__typeName='tab.LockedRatioKeys';bq.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LockedRatioKeys=bq;var br=function(){bh.call(this)};br.__typeName='tab.LogTickPerHeaderInputTableKeys';br.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.LogTickPerHeaderInputTableKeys=br;var bs=function(){bh.call(this)};bs.__typeName='tab.MapBoundsKeys';bs.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MapBoundsKeys=bs;var bt=function(){bh.call(this)};bt.__typeName='tab.MapLayersModelUpdateKeys';bt.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MapLayersModelUpdateKeys=bt;var bu=function(){bh.call(this)};bu.__typeName='tab.MapPackageKeys';bu.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MapPackageKeys=bu;var bv=function(){bh.call(this)};bv.__typeName='tab.MapProviderKeys';bv.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MapProviderKeys=bv;var bw=function(){bh.call(this)};bw.__typeName='tab.MarkLayoutDataKeys';bw.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MarkLayoutDataKeys=bw;var bx=function(){bh.call(this)};bx.__typeName='tab.MarkLayoutOutputKeys';bx.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MarkLayoutOutputKeys=bx;var by=function(){bh.call(this)};by.__typeName='tab.MarkLayoutParametersKeys';by.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MarkLayoutParametersKeys=by;var bz=function(){bh.call(this)};bz.__typeName='tab.MarkLayoutTempKeys';bz.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.MarkLayoutTempKeys=bz;var bA=function(e){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;var dc=e.unpacked.length-5;this.stringBuffer=e.unpacked[dc];this.stringLengths=e.unpacked[dc+1];this.opCodes=e.unpacked[dc+2];this.intBuffer=e.unpacked[dc+3];this.doubleBuffer=e.unpacked[dc+4]};bA.__typeName='tab.MarshalledVectors';bA.$ctor1=function(e,dc){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;this.stringBuffer=new Uint8Array(dc,e[0],e[1]);this.stringLengths=new Uint32Array(dc,e[2],e[3]);this.opCodes=new Uint8Array(dc,e[4],e[5]);this.intBuffer=new Int32Array(dc,e[6],e[7]);this.doubleBuffer=new Float64Array(dc,e[8],e[9])};global.tab.MarshalledVectors=bA;var bB=function(e,dc){bE.call(this,e,dc)};bB.__typeName='tab.MarshallerHandle';global.tab.MarshallerHandle=bB;var bC=function(){bh.call(this)};bC.__typeName='tab.NoneTickPerHeaderInputTableKeys';bC.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.NoneTickPerHeaderInputTableKeys=bC;var bD=function(){bh.call(this)};bD.__typeName='tab.NumberMapKeys';bD.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.NumberMapKeys=bD;var bE=function(e,dc){this.handleValue=0;this.$0=null;this.$1=false;this.handleValue=e;this.$0=dc};bE.__typeName='tab.OpaqueHandle';global.tab.OpaqueHandle=bE;var bF=function(){bh.call(this)};bF.__typeName='tab.PackedLayoutKeys';bF.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PackedLayoutKeys=bF;var bG=function(){bh.call(this)};bG.__typeName='tab.PageIntervalKeys';bG.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PageIntervalKeys=bG;var bH=function(){bh.call(this)};bH.__typeName='tab.PageIntervalTableColumnsKeys';bH.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PageIntervalTableColumnsKeys=bH;var bI=function(){bh.call(this)};bI.__typeName='tab.PageIntervalTableKeys';bI.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PageIntervalTableKeys=bI;var bJ=function(){bh.call(this)};bJ.__typeName='tab.PaneCountersKeys';bJ.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneCountersKeys=bJ;var bK=function(e,dc){this.$0=null;if(!ss.isNullOrUndefined(e.StartIndex)){var dd=e.StartIndex.length;var de=e.PaneCol;var df=e.PanePage;var dg=e.PaneRow;var dh=dc.ColumnCount;var di=dc.RowCount;var dj=e.StartIndex;var dk=e.EndIndex;this.$0=new Array(dh*di);for(var dl=0;dl<this.$0.length;++dl){this.$0[dl]=new Array(2*dc.PageCount);for(var dm=0;dm<this.$0[dl].length;++dm){this.$0[dl][dm]=0}}for(var dn=0;dn<dd;++dn){var dp=de[dn]+dg[dn]*dh;var dq=df[dn];this.$0[dp][dq*2]=dj[dn];this.$0[dp][dq*2+1]=dk[dn]}}};bK.__typeName='tab.PaneDataStoreTable';global.tab.PaneDataStoreTable=bK;var bL=function(){bh.call(this)};bL.__typeName='tab.PaneDescriptorDataKeys';bL.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneDescriptorDataKeys=bL;var bM=function(){bh.call(this)};bM.__typeName='tab.PaneExtentsPixelPositionsTableKeys';bM.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneExtentsPixelPositionsTableKeys=bM;var bN=function(){bh.call(this)};bN.__typeName='tab.PaneExtentsStaticInputTableKeys';bN.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneExtentsStaticInputTableKeys=bN;var bO=function(){bh.call(this)};bO.__typeName='tab.PaneExtentsTableColumnsKeys';bO.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneExtentsTableColumnsKeys=bO;var bP=function(){bh.call(this)};bP.__typeName='tab.PaneExtentsTableKeys';bP.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneExtentsTableKeys=bP;var bQ=function(e,dc){this.$5=0;this.$0=0;this.$3=0;this.$1=null;this.$4=null;this.$2=null;this.$5=e;this.$0=dc};bQ.__typeName='tab.PaneMarksInfo';bQ.$ctor1=function(e,dc,dd,de,df,dg){this.$5=0;this.$0=0;this.$3=0;this.$1=null;this.$4=null;this.$2=null;this.$5=dc.getStartIndex(dd,de);this.$0=dc.getEndIndex(dd,de);this.$1=dc.getPageIndices(dd);this.$4=e.PaneKey[dd];this.$2={};this.$2['columnIndex'.toString()]=dg;this.$2['rowIndex'.toString()]=df;this.$3=dd};global.tab.PaneMarksInfo=bQ;var bR=function(){bh.call(this)};bR.__typeName='tab.PaneMarksKeys';bR.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneMarksKeys=bR;var bS=function(){bh.call(this)};bS.__typeName='tab.PaneStylesTableKeys';bS.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PaneStylesTableKeys=bS;var bT=function(){};bT.__typeName='tab.PaneStylesTableUtils';bT.toRuePacker=function(e,dc){var dd=0;if(ss.isValue(dc.DefaultMarkColor)){dd++}if(ss.isValue(dc.DefaultShape)){dd++}if(ss.isValue(dc.DefaultSize)){dd++}if(ss.isValue(dc.Key)){dd++}var de=new cq;de.startTable(e,dd);if(ss.isValue(dc.DefaultMarkColor)){de.addColorArray('DefaultMarkColor',dc.DefaultMarkColor)}if(ss.isValue(dc.DefaultShape)){de.addInt32Array('DefaultShape',dc.DefaultShape)}if(ss.isValue(dc.DefaultSize)){de.addReal64Array('DefaultSize',dc.DefaultSize)}if(ss.isValue(dc.Key)){de.addInt64Array('Key',dc.Key[0])}return de};global.tab.PaneStylesTableUtils=bT;var bU=function(){bh.call(this)};bU.__typeName='tab.PartitionedDataTableKeys';bU.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PartitionedDataTableKeys=bU;var bV=function(){bh.call(this)};bV.__typeName='tab.PartitionResultStoreKeys';bV.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PartitionResultStoreKeys=bV;var bW=function(){bh.call(this)};bW.__typeName='tab.PerAxisGridLineProducerInputKeys';bW.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PerAxisGridLineProducerInputKeys=bW;var bX=function(){bh.call(this)};bX.__typeName='tab.PerAxisGridLineProducerOutputKeys';bX.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PerAxisGridLineProducerOutputKeys=bX;var bY=function(){bh.call(this)};bY.__typeName='tab.PerFieldAxisStyleTableKeys';bY.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PerFieldAxisStyleTableKeys=bY;var bZ=function(){bh.call(this)};bZ.__typeName='tab.PerHeaderFieldDataTableKeys';bZ.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PerHeaderFieldDataTableKeys=bZ;var ca=function(){bh.call(this)};ca.__typeName='tab.PredictionMarkKeys';ca.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.PredictionMarkKeys=ca;var cb=function(){bh.call(this)};cb.__typeName='tab.QuantitativeColorEncodingInputKeys';cb.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.QuantitativeColorEncodingInputKeys=cb;var cc=function(){bh.call(this)};cc.__typeName='tab.QuantitativeSizeEncodingInputKeys';cc.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.QuantitativeSizeEncodingInputKeys=cc;var cd=function(){bh.call(this)};cd.__typeName='tab.QuantitativeTickPerHeaderInputTableKeys';cd.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.QuantitativeTickPerHeaderInputTableKeys=cd;var ce=function(){bh.call(this)};ce.__typeName='tab.ReferenceLineApplicablePanesTableKeys';ce.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineApplicablePanesTableKeys=ce;var cf=function(){bh.call(this)};cf.__typeName='tab.ReferenceLineAxisStyleTableKeys';cf.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineAxisStyleTableKeys=cf;var cg=function(){bh.call(this)};cg.__typeName='tab.ReferenceLineDetailsTableKeys';cg.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineDetailsTableKeys=cg;var ch=function(){bh.call(this)};ch.__typeName='tab.ReferenceLineLabelTableKeys';ch.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineLabelTableKeys=ch;var ci=function(){bh.call(this)};ci.__typeName='tab.ReferenceLineLayoutElementsTableKeys';ci.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineLayoutElementsTableKeys=ci;var cj=function(){bh.call(this)};cj.__typeName='tab.ReferenceLineProducerInputKeys';cj.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineProducerInputKeys=cj;var ck=function(){bh.call(this)};ck.__typeName='tab.ReferenceLineProducerOutputKeys';ck.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineProducerOutputKeys=ck;var cl=function(){bh.call(this)};cl.__typeName='tab.ReferenceLineStylesKeys';cl.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineStylesKeys=cl;var cm=function(){bh.call(this)};cm.__typeName='tab.ReferenceLineTotalTableMapDataKeys';cm.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineTotalTableMapDataKeys=cm;var cn=function(){bh.call(this)};cn.__typeName='tab.ReferenceLineTotalTableMapKeys';cn.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ReferenceLineTotalTableMapKeys=cn;var co=function(){bh.call(this)};co.__typeName='tab.RefLineExtentsKeys';co.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.RefLineExtentsKeys=co;var cp=function(){bh.call(this)};cp.__typeName='tab.RenderingInputStoreKeys';cp.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.RenderingInputStoreKeys=cp;var cq=function(){this.$8=null;this.$a=null;this.$7=4;this.$9=0;this.$8=new Uint8Array(1024);this.$a=new DataView(this.$8.buffer)};cq.__typeName='tab.RuePacker';cq.uInt32ArrayToInt64Array=function(e){var dc=new Array(e.length*2);for(var dd=0;dd<e.length;dd++){dc[2*dd]=0;dc[2*dd+1]=e[dd]}return dc};global.tab.RuePacker=cq;var cr=function(e){this.$9='';this.$8=null;this.$c=null;this.$b=null;this.$5=null;this.$6=[];this.$7=[];this.$d=[];this.$a={};this.$9=e;this.$3();this.$0();this.$1()};cr.__typeName='tab.RuntimeData';cr.$0=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return[]}var dc=[];for(var dd=0;dd<e.length;dd++){var de=e[dd];dc.push(ct.visualListFromDrawPane(de))}return Array.prototype.slice.call(dc)};global.tab.RuntimeData=cr;var cs=function(e,dc,dd){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.set_VM(e);this.set_initialStore(dc);this.set_finalStore(dd)};cs.__typeName='tab.RuntimeHandles';global.tab.RuntimeHandles=cs;var ct=function(){};ct.__typeName='tab.RuntimeUtil';ct.canUseRuntime=function(){return ct.isRuntimeSupported()&&!ct.$1};ct.isRuntimeSupported=function(){if((window.navigator.userAgent.indexOf('Safari')!==-1||window.navigator.userAgent.indexOf('TableauMobile')!==-1)&&window.navigator.userAgent.indexOf('OS 11_2_')!==-1){return false}return!ss.isNullOrUndefined(window.self['WebAssembly'])};ct.emscriptenAborted=function(){ct.$1=true};ct.createRuntimeData=function(e){var dc=new cr(e);return dc};ct.visualListFromDrawPane=function(e){var dc=e;return JSON.parse(cS.decode(dc[1]))};ct.renderNodeFromPredictionMark=function(e){var dc={};var dd=-695169174;var de=-696033834;switch(e.Type){case-695169174:{{var df={};df.qrgbColor=e.color;df.lineTupleIds=e.LineTupleIds;ct.$0(e,df);dc=df;dc.type='prediction-band'}break}case-696033834:{{var dg={};dg.qrgbColors=e.Colors;dg.qrgbColor=e.halo_color;dg.renderOnTop=e.RenderOnTop;dg.maxAlpha=e.MaxAlpha;ct.$0(e,dg);dc=dg;dc.type='prediction-whisker'}break}default:{{}break}}return dc};ct.$0=function(e,dc){dc.useYAxis=e.UseYAxis;dc.upperEnd=e.UpperEnds;dc.lowerEnd=e.LowerEnds;dc.oppositeAxis=e.OppositeAxes;dc.widths=e.Widths;dc.tupleIds=e.TupleIds};global.tab.RuntimeUtil=ct;var cu=function(e){this.$2=null;this.$2='http://'+e;this.$1()};cu.__typeName='tab.RuntimeWebHost';global.tab.RuntimeWebHost=cu;var cv=function(){};cv.__typeName='tab.RuntimeWebHostSupport';global.tab.RuntimeWebHostSupport=cv;var cw=function(){};cw.__typeName='tab.RuntimeWebModule';global.tab.RuntimeWebModule=cw;var cx=function(){bh.call(this)};cx.__typeName='tab.SceneMarginLayoutTableKeys';cx.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SceneMarginLayoutTableKeys=cx;var cy=function(){bh.call(this)};cy.__typeName='tab.SceneMarginLeafElementLayoutsKeys';cy.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SceneMarginLeafElementLayoutsKeys=cy;var cz=function(){bh.call(this)};cz.__typeName='tab.SceneMarginLeafElementLayoutTableKeys';cz.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SceneMarginLeafElementLayoutTableKeys=cz;var cA=function(){bh.call(this)};cA.__typeName='tab.SelectionProducerInputKeys';cA.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SelectionProducerInputKeys=cA;var cB=function(){bh.call(this)};cB.__typeName='tab.SetLabelFormatsOutputKeys';cB.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SetLabelFormatsOutputKeys=cB;var cC=function(){bh.call(this)};cC.__typeName='tab.SizeEncodingOutputKeys';cC.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SizeEncodingOutputKeys=cC;var cD=function(){bh.call(this)};cD.__typeName='tab.SolutionResultsTableKeys';cD.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SolutionResultsTableKeys=cD;var cE=function(){bh.call(this)};cE.__typeName='tab.SpatialProjectorKeys';cE.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.SpatialProjectorKeys=cE;var cF=function(){bh.call(this)};cF.__typeName='tab.StackedMarkAttributesKeys';cF.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.StackedMarkAttributesKeys=cF;var cG=function(){bh.call(this)};cG.__typeName='tab.TextComposerStyleTableKeys';cG.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TextComposerStyleTableKeys=cG;var cH=function(){bh.call(this)};cH.__typeName='tab.TextCompositionInputKeys';cH.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TextCompositionInputKeys=cH;var cI=function(){bh.call(this)};cI.__typeName='tab.TextEncodingTableKeys';cI.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TextEncodingTableKeys=cI;var cJ=function(){bh.call(this)};cJ.__typeName='tab.TextRunTableKeys';cJ.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TextRunTableKeys=cJ;var cK=function(){bh.call(this)};cK.__typeName='tab.TextStyleKeys';cK.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TextStyleKeys=cK;var cL=function(){bh.call(this)};cL.__typeName='tab.TextStyleTableKeys';cL.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TextStyleTableKeys=cL;var cM=function(){bh.call(this)};cM.__typeName='tab.TickProducerArrayConstantsKeys';cM.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TickProducerArrayConstantsKeys=cM;var cN=function(){bh.call(this)};cN.__typeName='tab.TickProducerInputKeys';cN.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TickProducerInputKeys=cN;var cO=function(){bh.call(this)};cO.__typeName='tab.TickProducerOutputKeys';cO.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TickProducerOutputKeys=cO;var cP=function(){bh.call(this)};cP.__typeName='tab.TickProducerPerHeaderOutputTableKeys';cP.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.TickProducerPerHeaderOutputTableKeys=cP;var cQ=function(){bh.call(this)};cQ.__typeName='tab.UpdatedTextStyleTableResultKeys';cQ.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.UpdatedTextStyleTableResultKeys=cQ;var cR=function(){bh.call(this)};cR.__typeName='tab.UserPaneInfoKeys';cR.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.UserPaneInfoKeys=cR;var cS=function(){};cS.__typeName='tab.Utf8TextDecoder';cS.decode=function(e){if(cS.$1||!ss.isInstanceOfType(e,Uint8Array)){return L.decode(e)}else{return cS.$0.decode(e)}};cS.decodeNullTerminated=function(e){var dc;for(dc=0;dc<e.byteLength;dc++){if(e[dc]===0){break}}return cS.decode(e.subarray(0,dc))};global.tab.Utf8TextDecoder=cS;var cT=function(){};cT.__typeName='tab.Utf8TextEncoder';cT.encode=function(e){if(cT.$1){return M.encode(e)}else{return cT.$0.encode(e)}};global.tab.Utf8TextEncoder=cT;var cU=function(){bh.call(this)};cU.__typeName='tab.VariableNameTableKeys';cU.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.VariableNameTableKeys=cU;var cV=function(){bh.call(this)};cV.__typeName='tab.ViewParametersDataKeys';cV.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ViewParametersDataKeys=cV;var cW=function(){bh.call(this)};cW.__typeName='tab.ViewParametersKeys';cW.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ViewParametersKeys=cW;var cX=function(){bh.call(this)};cX.__typeName='tab.ViewpointKeys';cX.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.ViewpointKeys=cX;var cY=function(){};cY.__typeName='tab.VisualKeys';global.tab.VisualKeys=cY;var cZ=function(){bh.call(this)};cZ.__typeName='tab.VisualLayoutProducerInputKeys';cZ.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.VisualLayoutProducerInputKeys=cZ;var da=function(){bh.call(this)};da.__typeName='tab.VisualLayoutResultsKeys';da.$ctor1=function(e){bh.$ctor2.call(this,e)};global.tab.VisualLayoutResultsKeys=da;var db=function(e,dc){bE.call(this,e,dc)};db.__typeName='tab.VMHandle';global.tab.VMHandle=db;ss.initClass(b,a,{},Object);ss.initClass(c,a,{$0:function(){var e=this.$c.data.opCodes.length;this.$e=0;while(this.$e<e){var dc=this.$c.data.opCodes[this.$e];if(3===dc){this.$3()}else{this.$1(dc)}++this.$e}if(c.$0){var dd=new tab.ReadOnlyProxy;this.$8=dd.instrument(this.$8)}return this.$8},$2:function(e){var dc=null;if(e===5){dc=this.$c.data.intBuffer[this.$b++]}else if(e===4){dc=this.$c.data.doubleBuffer[this.$9++]}else if(e===6){dc=true}else if(e===7){dc=false}var dd=[];var de=this.$c.data.intBuffer[this.$b++];for(var df=0;df<de;++df){dd[df]=dc}return dd},$3:function(){if(ss.arrayPeekBack(this.$a)){this.$d.pop()}else{this.$7.pop()}this.$a.pop()},$1:function(e){var dc=null;var dd='';var de=ss.arrayPeekBack(this.$a);var df=ss.arrayPeekBack(this.$d);var dg=ss.arrayPeekBack(this.$7);if(de){var dh=this.$c.data.intBuffer[this.$b++];if(dh<0){dd=-dh}else{dd=this.$c.stringTable[dh]}}if(65===e){++this.$e;var di=this.$c.data.opCodes[this.$e];dc=this.$2(di)}else if(64===e){dc=this.$5()}else if(e>=32&&e<64){dc=this.$6(e)}else{dc=this.$4(e)}if(de){df[dd]=dc}else{dg.push(dc)}},$5:function(){var e=this.$c.data.intBuffer[this.$b++];var dc=this.$c.data.intBuffer[this.$b++];var dd=[];var de;if(ss.isValue(this.$c.jabba)){de=this.$c.jabba.unpacked[e]}else{de=new Uint32Array(this.$c.heap,e,dc)}var df=this.$c.stringTable;for(var dg=0;dg<de.length;dg++){var dh=de[dg];dd.push(df[dh])}return dd},$6:function(e){var dc=this.$c.data.intBuffer[this.$b++];var dd=this.$c.data.intBuffer[this.$b++];if(ss.isValue(this.$c.jabba)){return this.$c.jabba.unpacked[dc]}else{return Y.getMappedArray(e,this.$c.heap,dc,dd)}},$4:function(e){switch(e){case 1:{this.$a.push(true);this.$d.push({});return ss.arrayPeekBack(this.$d)}case 2:{this.$a.push(false);this.$7.push([]);return ss.arrayPeekBack(this.$7)}case 4:{return this.$c.data.doubleBuffer[this.$9++]}case 5:{return this.$c.data.intBuffer[this.$b++]}case 6:{return true}case 7:{return false}case 8:{return this.$c.stringTable[this.$c.data.intBuffer[this.$b++]]}case 9:{return null}}throw new ss.Exception('Invalid OpCode: '+e.toString())}});ss.initClass(bh,a,{get_base:function(){return this},get_parent:function(){return this.$2},get_isEmpty:function(){return this.$1.length===0},$0:function(e,dc){this.$1=e;this.$2=dc},add:function(e){if(e.length===0){throw new ss.Exception("LogicAssert: Can't add empty key")}if(this.$1.length===0){return new bh.$1(e,this)}return new bh.$1(this.get_base()+'/'+e,this)},add$1:function(e){return this.add(e.$1)},toString:function(){return this.$1}});bh.$ctor1.prototype=bh.$ctor2.prototype=bh.$1.prototype=bh.prototype;ss.initClass(d,a,{minPageNumber:function(){return new bh.$ctor2(this.get_base().add('MinPageNumber'))},maxPageNumber:function(){return new bh.$ctor2(this.get_base().add('MaxPageNumber'))},currentPage:function(){return new bh.$ctor2(this.get_base().add('CurrentPage'))}},bh);d.$ctor1.prototype=d.prototype;ss.initClass(f,a,{min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},paneId:function(){return new bh.$ctor2(this.get_base().add('PaneId'))},uniqueID:function(){return new bh.$ctor2(this.get_base().add('UniqueID'))}},bh);f.$ctor1.prototype=f.prototype;ss.initClass(g,a,{drawFirsts:function(){return new bh.$ctor2(this.get_base().add('DrawFirsts'))},drawLasts:function(){return new bh.$ctor2(this.get_base().add('DrawLasts'))},sceneMarginBackgroundColor:function(){return new bh.$ctor2(this.get_base().add('SceneMarginBackgroundColor'))},inheritedSceneBackgroundColor:function(){return new bh.$ctor2(this.get_base().add('InheritedSceneBackgroundColor'))},isSceneBackgroundOpaque:function(){return new bh.$ctor2(this.get_base().add('IsSceneBackgroundOpaque'))},labelStore:function(){return new bj.$ctor1(this.get_base().add('LabelStore'))},mapPackage:function(){return new bu.$ctor1(this.get_base().add('MapPackage'))},panes:function(){return new bR.$ctor1(this.get_base().add('Panes'))},userPaneInfo:function(){return new cR.$ctor1(this.get_base().add('UserPaneInfo'))}},bh);g.$ctor1.prototype=g.prototype;ss.initClass(h,a,{id:function(){return new bh.$ctor2(this.get_base().add('Id'))},nodeId:function(){return new bh.$ctor2(this.get_base().add('NodeId'))},duplicateFieldIndex:function(){return new bh.$ctor2(this.get_base().add('DuplicateFieldIndex'))}},bh);h.$ctor1.prototype=h.prototype;ss.initClass(i,a,{id:function(){return new bh.$ctor2(this.get_base().add('Id'))},parentId:function(){return new bh.$ctor2(this.get_base().add('ParentId'))},headerId:function(){return new bh.$ctor2(this.get_base().add('HeaderId'))},isLeaf:function(){return new bh.$ctor2(this.get_base().add('IsLeaf'))},label:function(){return new bh.$ctor2(this.get_base().add('Label'))},enclosedIndex:function(){return new bh.$ctor2(this.get_base().add('EnclosedIndex'))},level:function(){return new bh.$ctor2(this.get_base().add('Level'))}},bh);i.$ctor1.prototype=i.prototype;ss.initClass(j,a,{dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))},scaleType:function(){return new bh.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bh.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bh.$ctor2(this.get_base().add('IncludeZero'))},omitSpecials:function(){return new bh.$ctor2(this.get_base().add('OmitSpecials'))},axisTitle:function(){return new bh.$ctor2(this.get_base().add('AxisTitle'))},axisSubtitle:function(){return new bh.$ctor2(this.get_base().add('AxisSubtitle'))},titlePadding:function(){return new bh.$ctor2(this.get_base().add('TitlePadding'))},titleStyleIndex:function(){return new bh.$ctor2(this.get_base().add('TitleStyleIndex'))}},bh);j.$ctor1.prototype=j.prototype;ss.initClass(k,a,{xAxisModelData:function(){return new j.$ctor1(this.get_base().add('XAxisModelData'))},yAxisModelData:function(){return new j.$ctor1(this.get_base().add('YAxisModelData'))},xAxisRangeData:function(){return new m.$ctor1(this.get_base().add('XAxisRangeData'))},yAxisRangeData:function(){return new m.$ctor1(this.get_base().add('YAxisRangeData'))},style:function(){return new bY.$ctor1(this.get_base().add('Style'))},titleStyle:function(){return new cK.$ctor1(this.get_base().add('TitleStyle'))}},bh);k.$ctor1.prototype=k.prototype;ss.initClass(l,a,{xAxisTable:function(){return new s.$ctor1(this.get_base().add('XAxisTable'))},yAxisTable:function(){return new s.$ctor1(this.get_base().add('YAxisTable'))},style:function(){return new bY.$ctor1(this.get_base().add('Style'))},titleStyle:function(){return new cK.$ctor1(this.get_base().add('TitleStyle'))}},bh);l.$ctor1.prototype=l.prototype;ss.initClass(m,a,{rangeType:function(){return new bh.$ctor2(this.get_base().add('RangeType'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},fieldId:function(){return new bh.$ctor2(this.get_base().add('FieldId'))},uniqueID:function(){return new bh.$ctor2(this.get_base().add('UniqueID'))}},bh);m.$ctor1.prototype=m.prototype;ss.initClass(n,a,{domainMin:function(){return new bh.$ctor2(this.get_base().add('DomainMin'))},domainMax:function(){return new bh.$ctor2(this.get_base().add('DomainMax'))}},bh);n.$ctor1.prototype=n.prototype;ss.initClass(o,a,{cellCount:function(){return new bh.$ctor2(this.get_base().add('CellCount'))},dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bh.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bh.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bh.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bh.$ctor2(this.get_base().add('IncludeZero'))},pixelSize:function(){return new bh.$ctor2(this.get_base().add('PixelSize'))},uniqueID:function(){return new bh.$ctor2(this.get_base().add('UniqueID'))},barLabelsOverflow:function(){return new bh.$ctor2(this.get_base().add('BarLabelsOverflow'))}},bh);o.$ctor1.prototype=o.prototype;ss.initClass(p,a,{cellCount:function(){return new bh.$ctor2(this.get_base().add('CellCount'))},dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bh.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bh.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bh.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bh.$ctor2(this.get_base().add('IncludeZero'))},pixelSize:function(){return new bh.$ctor2(this.get_base().add('PixelSize'))},uniqueID:function(){return new bh.$ctor2(this.get_base().add('UniqueID'))},barLabelsOverflow:function(){return new bh.$ctor2(this.get_base().add('BarLabelsOverflow'))}},bh);p.$ctor1.prototype=p.prototype;ss.initClass(q,a,{pixelSize:function(){return new bh.$ctor2(this.get_base().add('PixelSize'))},barLabelsOverflow:function(){return new bh.$ctor2(this.get_base().add('BarLabelsOverflow'))}},bh);q.$ctor1.prototype=q.prototype;ss.initClass(r,a,{dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bh.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bh.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bh.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bh.$ctor2(this.get_base().add('IncludeZero'))},uniqueID:function(){return new bh.$ctor2(this.get_base().add('UniqueID'))},axisTitle:function(){return new bh.$ctor2(this.get_base().add('AxisTitle'))},axisSubtitle:function(){return new bh.$ctor2(this.get_base().add('AxisSubtitle'))},titlePadding:function(){return new bh.$ctor2(this.get_base().add('TitlePadding'))},titleStyleIndex:function(){return new bh.$ctor2(this.get_base().add('TitleStyleIndex'))}},bh);r.$ctor1.prototype=r.prototype;ss.initClass(s,a,{dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bh.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bh.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bh.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bh.$ctor2(this.get_base().add('IncludeZero'))},uniqueID:function(){return new bh.$ctor2(this.get_base().add('UniqueID'))},axisTitle:function(){return new bh.$ctor2(this.get_base().add('AxisTitle'))},axisSubtitle:function(){return new bh.$ctor2(this.get_base().add('AxisSubtitle'))},titlePadding:function(){return new bh.$ctor2(this.get_base().add('TitlePadding'))},titleStyleIndex:function(){return new bh.$ctor2(this.get_base().add('TitleStyleIndex'))}},bh);s.$ctor1.prototype=s.prototype;ss.initClass(t,a,{});ss.initClass(u,a,{colorEncodingKeys:function(){return new bh.$ctor2(this.get_base().add('ColorEncodingKeys'))},shapeEncodingKeys:function(){return new bh.$ctor2(this.get_base().add('ShapeEncodingKeys'))},sizeEncodingKeys:function(){return new bh.$ctor2(this.get_base().add('SizeEncodingKeys'))},measureNamesKeys:function(){return new bh.$ctor2(this.get_base().add('MeasureNamesKeys'))}},bh);u.$ctor1.prototype=u.prototype;ss.initClass(v,a,{height:function(){return new bh.$ctor2(this.get_base().add('Height'))},textRunCount:function(){return new bh.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bh.$ctor2(this.get_base().add('TextRunOffset'))},textRunTable:function(){return new cJ.$ctor1(this.get_base().add('TextRunTable'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))}},bh);v.$ctor1.prototype=v.prototype;ss.initClass(w,a,{minResult:function(){return new bh.$ctor2(this.get_base().add('minResult'))},maxResult:function(){return new bh.$ctor2(this.get_base().add('maxResult'))},zeroResult:function(){return new bh.$ctor2(this.get_base().add('zeroResult'))},minRangeResult:function(){return new bh.$ctor2(this.get_base().add('minRangeResult'))},maxRangeResult:function(){return new bh.$ctor2(this.get_base().add('maxRangeResult'))}},bh);w.$ctor1.prototype=w.prototype;ss.initClass(x,a,{x:function(){return new bh.$ctor2(this.get_base().add('X'))},x1:function(){return new bh.$ctor2(this.get_base().add('X1'))},y:function(){return new bh.$ctor2(this.get_base().add('Y'))},y1:function(){return new bh.$ctor2(this.get_base().add('Y1'))},tupleId:function(){return new bh.$ctor2(this.get_base().add('TupleId'))},markId:function(){return new bh.$ctor2(this.get_base().add('MarkId'))}},bh);x.$ctor1.prototype=x.prototype;ss.initClass(y,a,{expressions:function(){return new H.$ctor1(this.get_base().add('Expressions'))},constants:function(){return new I.$ctor1(this.get_base().add('Constants'))},constraints:function(){return new z.$ctor1(this.get_base().add('Constraints'))},variableNames:function(){return new cU.$ctor1(this.get_base().add('VariableNames'))}},bh);y.$ctor1.prototype=y.prototype;ss.initClass(z,a,{expression1:function(){return new bh.$ctor2(this.get_base().add('Expression1'))},expression2:function(){return new bh.$ctor2(this.get_base().add('Expression2'))},comparisonKind:function(){return new bh.$ctor2(this.get_base().add('ComparisonKind'))},priority:function(){return new bh.$ctor2(this.get_base().add('Priority'))}},bh);z.$ctor1.prototype=z.prototype;ss.initClass(bE,a,{get_typeCode:null,dispose:function(){if(!this.$1){this.$0(this.handleValue);this.$1=true}}},null,[ss.IDisposable]);ss.initClass(A,a,{get_typeCode:function(){return 16}},bE,[ss.IDisposable]);ss.initClass(B,a,{headerIndex:function(){return new bh.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bh.$ctor2(this.get_base().add('VtlBlockIndex'))},columnFormatIndex:function(){return new bh.$ctor2(this.get_base().add('ColumnFormatIndex'))},dateTimeOriginReference:function(){return new bh.$ctor2(this.get_base().add('DateTimeOriginReference'))},dateTimeSpacingReference:function(){return new bh.$ctor2(this.get_base().add('DateTimeSpacingReference'))},dateTimeSpacingUnitsReference:function(){return new bh.$ctor2(this.get_base().add('DateTimeSpacingUnitsReference'))},majorLabelWidthReference:function(){return new bh.$ctor2(this.get_base().add('MajorLabelWidthReference'))},daysLabelWidth:function(){return new bh.$ctor2(this.get_base().add('DaysLabelWidth'))},hoursLabelWidth:function(){return new bh.$ctor2(this.get_base().add('HoursLabelWidth'))},hoursTrunctaedLabelWidth:function(){return new bh.$ctor2(this.get_base().add('HoursTrunctaedLabelWidth'))},labelHeight:function(){return new bh.$ctor2(this.get_base().add('LabelHeight'))},perpendicularLabels:function(){return new bh.$ctor2(this.get_base().add('PerpendicularLabels'))},fiscalYearStart:function(){return new bh.$ctor2(this.get_base().add('FiscalYearStart'))},labelFontIndex:function(){return new bh.$ctor2(this.get_base().add('LabelFontIndex'))},monthsLabelWidth:function(){return new bh.$ctor2(this.get_base().add('MonthsLabelWidth'))},minorDTOriginReference:function(){return new bh.$ctor2(this.get_base().add('MinorDTOriginReference'))},minorDTSpacingReference:function(){return new bh.$ctor2(this.get_base().add('MinorDTSpacingReference'))},minorDTSpacingUnitsReference:function(){return new bh.$ctor2(this.get_base().add('MinorDTSpacingUnitsReference'))},minutesLabelWidth:function(){return new bh.$ctor2(this.get_base().add('MinutesLabelWidth'))},minutesTruncatedLabelWidth:function(){return new bh.$ctor2(this.get_base().add('MinutesTruncatedLabelWidth'))},quartersLabelWidth:function(){return new bh.$ctor2(this.get_base().add('QuartersLabelWidth'))},secondsLabelWidth:function(){return new bh.$ctor2(this.get_base().add('SecondsLabelWidth'))},showMinorTicks:function(){return new bh.$ctor2(this.get_base().add('ShowMinorTicks'))},targetTickSpacing:function(){return new bh.$ctor2(this.get_base().add('TargetTickSpacing'))},weeksLabelWidth:function(){return new bh.$ctor2(this.get_base().add('WeeksLabelWidth'))},yearsLabelWidth:function(){return new bh.$ctor2(this.get_base().add('YearsLabelWidth'))}},bh);B.$ctor1.prototype=B.prototype;ss.initClass(C,a,{domainMax:function(){return new bh.$ctor2(this.get_base().add('DomainMax'))},domainMin:function(){return new bh.$ctor2(this.get_base().add('DomainMin'))},lookup:function(){return new bh.$ctor2(this.get_base().add('Lookup'))}},bh);C.$ctor1.prototype=C.prototype;ss.initClass(D,a,{paneIndex:function(){return new bh.$ctor2(this.get_base().add('PaneIndex'))},cellX:function(){return new bh.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bh.$ctor2(this.get_base().add('CellY'))},x:function(){return new bh.$ctor2(this.get_base().add('X'))},y:function(){return new bh.$ctor2(this.get_base().add('Y'))},xFloat:function(){return new bh.$ctor2(this.get_base().add('XFloat'))},yFloat:function(){return new bh.$ctor2(this.get_base().add('YFloat'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))}},bh);D.$ctor1.prototype=D.prototype;ss.initClass(E,a,{});ss.initClass(F,a,{cellX:function(){return new bh.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bh.$ctor2(this.get_base().add('CellY'))},clipHeight:function(){return new bh.$ctor2(this.get_base().add('ClipHeight'))},clipWidth:function(){return new bh.$ctor2(this.get_base().add('ClipWidth'))},color:function(){return new bh.$ctor2(this.get_base().add('Color'))},geometry:function(){return new bh.$ctor2(this.get_base().add('Geometry'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},isMarkStacked:function(){return new bh.$ctor2(this.get_base().add('IsMarkStacked'))},markFlags:function(){return new bh.$ctor2(this.get_base().add('MarkFlags'))},markId:function(){return new bh.$ctor2(this.get_base().add('MarkId'))},paneIndex:function(){return new bh.$ctor2(this.get_base().add('PaneIndex'))},paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},panePage:function(){return new bh.$ctor2(this.get_base().add('PanePage'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},rho:function(){return new bh.$ctor2(this.get_base().add('Rho'))},rho1:function(){return new bh.$ctor2(this.get_base().add('Rho1'))},shapeId:function(){return new bh.$ctor2(this.get_base().add('ShapeId'))},size:function(){return new bh.$ctor2(this.get_base().add('Size'))},textRunCount:function(){return new bh.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bh.$ctor2(this.get_base().add('TextRunOffset'))},theta:function(){return new bh.$ctor2(this.get_base().add('Theta'))},theta1:function(){return new bh.$ctor2(this.get_base().add('Theta1'))},trailId:function(){return new bh.$ctor2(this.get_base().add('TrailId'))},tupleId:function(){return new bh.$ctor2(this.get_base().add('TupleId'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))},userPaneRow:function(){return new bh.$ctor2(this.get_base().add('UserPaneRow'))},userPaneCol:function(){return new bh.$ctor2(this.get_base().add('UserPaneCol'))},weight:function(){return new bh.$ctor2(this.get_base().add('Weight'))},x:function(){return new bh.$ctor2(this.get_base().add('X'))},x1:function(){return new bh.$ctor2(this.get_base().add('X1'))},xNext:function(){return new bh.$ctor2(this.get_base().add('XNext'))},xPrev:function(){return new bh.$ctor2(this.get_base().add('XPrev'))},y:function(){return new bh.$ctor2(this.get_base().add('Y'))},y1:function(){return new bh.$ctor2(this.get_base().add('Y1'))},yNext:function(){return new bh.$ctor2(this.get_base().add('YNext'))},yPrev:function(){return new bh.$ctor2(this.get_base().add('YPrev'))}},bh);F.$ctor1.prototype=F.prototype;ss.initClass(G,a,{});ss.initClass(H,a,{expressionID:function(){return new bh.$ctor2(this.get_base().add('ExpressionID'))},coefficient:function(){return new bh.$ctor2(this.get_base().add('Coefficient'))},variableID:function(){return new bh.$ctor2(this.get_base().add('VariableID'))}},bh);H.$ctor1.prototype=H.prototype;ss.initClass(I,a,{expressionID:function(){return new bh.$ctor2(this.get_base().add('ExpressionID'))},constant:function(){return new bh.$ctor2(this.get_base().add('Constant'))}},bh);I.$ctor1.prototype=I.prototype;ss.initClass(J,a,{haveAnyMarks:function(){return new bh.$ctor2(this.get_base().add('HaveAnyMarks'))},paneExtentsStaticInput:function(){return new bN.$ctor1(this.get_base().add('PaneExtentsStaticInput'))},paneExtentsPixelPositions:function(){return new bM.$ctor1(this.get_base().add('PaneExtentsPixelPositions'))},paneExtents:function(){return new bP.$ctor1(this.get_base().add('PaneExtents'))},paneCount:function(){return new bJ.$ctor1(this.get_base().add('PaneCount'))},pageIntervalTable:function(){return new bI.$ctor1(this.get_base().add('PageIntervalTable'))},noMarksColumnTemplate:function(){return new bh.$ctor2(this.get_base().add('NoMarksColumnTemplate'))},noPanesColumnTemplate:function(){return new bh.$ctor2(this.get_base().add('NoPanesColumnTemplate'))},paneRowCol:function(){return new bh.$ctor2(this.get_base().add('PaneRowCol'))},mappedRows:function(){return new bh.$ctor2(this.get_base().add('MappedRows'))},mappedCols:function(){return new bh.$ctor2(this.get_base().add('MappedCols'))},rangePaddingMin:function(){return new bh.$ctor2(this.get_base().add('RangePaddingMin'))},mapBoundaries:function(){return new bs.$ctor1(this.get_base().add('MapBoundaries'))},showEntireImageHasImages:function(){return new bh.$ctor2(this.get_base().add('ShowEntireImageHasImages'))},lockedRatio:function(){return new bq.$ctor1(this.get_base().add('LockedRatio'))},mapProvider:function(){return new bv.$ctor1(this.get_base().add('MapProvider'))},mapLayersModelUpdate:function(){return new bt.$ctor1(this.get_base().add('MapLayersModelUpdate'))},x:function(){return new K.$ctor1(this.get_base().add('X'))},y:function(){return new K.$ctor1(this.get_base().add('Y'))}},bh);J.$ctor1.prototype=J.prototype;ss.initClass(K,a,{axisSizes:function(){return new q.$ctor1(this.get_base().add('AxisSizes'))},ranges:function(){return new p.$ctor1(this.get_base().add('Ranges'))},uniqueRanges:function(){return new p.$ctor1(this.get_base().add('UniqueRanges'))},rangeMap:function(){return new bh.$ctor2(this.get_base().add('RangeMap'))},pointExtendedRanges:function(){return new bh.$ctor2(this.get_base().add('PointExtendedRanges'))},beforeMarkExtendRanges:function(){return new bh.$ctor2(this.get_base().add('BeforeMarkExtendRanges'))},afterMarkExtendRanges:function(){return new bh.$ctor2(this.get_base().add('AfterMarkExtendRanges'))},relevantRanges:function(){return new bh.$ctor2(this.get_base().add('RelevantRanges'))},refLineExtents:function(){return new co.$ctor1(this.get_base().add('RefLineExtents'))},showEntireImagePaneIndex:function(){return new bh.$ctor2(this.get_base().add('ShowEntireImagePaneIndex'))},showEntireImageMax:function(){return new bh.$ctor2(this.get_base().add('ShowEntireImageMax'))},showEntireImageMin:function(){return new bh.$ctor2(this.get_base().add('ShowEntireImageMin'))}},bh);K.$ctor1.prototype=K.prototype;ss.initClass(L,a,{});ss.initClass(M,a,{});ss.initClass(N,a,{nodes:function(){return new i.$ctor1(this.get_base().add('Nodes'))},headers:function(){return new h.$ctor1(this.get_base().add('Headers'))},perHeaderFields:function(){return new bZ.$ctor1(this.get_base().add('PerHeaderFields'))}},bh);N.$ctor1.prototype=N.prototype;ss.initClass(O,a,{styleTable:function(){return new cL.$ctor1(this.get_base().add('StyleTable'))},runOffset:function(){return new bh.$ctor2(this.get_base().add('RunOffset'))},runCount:function(){return new bh.$ctor2(this.get_base().add('RunCount'))},runTable:function(){return new cJ.$ctor1(this.get_base().add('RunTable'))}},bh);O.$ctor1.prototype=O.prototype;ss.initClass(P,a,{x:function(){return new bW.$ctor1(this.get_base().add('X'))},y:function(){return new bW.$ctor1(this.get_base().add('Y'))},isQuantitativeTickType:function(){return new bh.$ctor2(this.get_base().add('IsQuantitativeTickType'))}},bh);P.$ctor1.prototype=P.prototype;ss.initClass(Q,a,{zeroPoint:function(){return new bh.$ctor2(this.get_base().add('ZeroPoint'))},isQuantitativeTickType:function(){return new bh.$ctor2(this.get_base().add('IsQuantitativeTickType'))},x:function(){return new bX.$ctor1(this.get_base().add('X'))},y:function(){return new bX.$ctor1(this.get_base().add('Y'))}},bh);Q.$ctor1.prototype=Q.prototype;ss.initClass(R,a,{size:function(){return new bh.$ctor2(this.get_base().add('Size'))},palette:function(){return new bh.$ctor2(this.get_base().add('Palette'))},steps:function(){return new bh.$ctor2(this.get_base().add('Steps'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},minRequiredDensity:function(){return new bh.$ctor2(this.get_base().add('MinRequiredDensity'))},intensity:function(){return new bh.$ctor2(this.get_base().add('Intensity'))},maxValue:function(){return new bh.$ctor2(this.get_base().add('MaxValue'))}},bh);R.$ctor1.prototype=R.prototype;ss.initClass(S,a,{kernelRadius:function(){return new bh.$ctor2(this.get_base().add('KernelRadius'))},palette:function(){return new bh.$ctor2(this.get_base().add('Palette'))},steps:function(){return new bh.$ctor2(this.get_base().add('Steps'))},minValue:function(){return new bh.$ctor2(this.get_base().add('MinValue'))},maxValue:function(){return new bh.$ctor2(this.get_base().add('MaxValue'))},underlyingMarkSize:function(){return new bh.$ctor2(this.get_base().add('UnderlyingMarkSize'))},underlyingMarkColor:function(){return new bh.$ctor2(this.get_base().add('UnderlyingMarkColor'))},intensity:function(){return new bh.$ctor2(this.get_base().add('Intensity'))},markWeights:function(){return new bh.$ctor2(this.get_base().add('MarkWeights'))}},bh);S.$ctor1.prototype=S.prototype;ss.initClass(T,a,{encoding:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new R.$ctor1(this.get_base().add('Encoding').add(e))}return new R.$ctor1(this.get_base().add('Encoding').add(ss.formatString("'{0}'",e)))}},bh);T.$ctor1.prototype=T.prototype;ss.initClass(U,a,{encoding:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new S.$ctor1(this.get_base().add('Encoding').add(e))}return new S.$ctor1(this.get_base().add('Encoding').add(ss.formatString("'{0}'",e)))}},bh);U.$ctor1.prototype=U.prototype;ss.initClass(V,a,{});ss.initClass(W,a,{});ss.initClass(X,a,{paneIndex:function(){return new bh.$ctor2(this.get_base().add('PaneIndex'))},cellIndex:function(){return new bh.$ctor2(this.get_base().add('CellIndex'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))}},bh);X.$ctor1.prototype=X.prototype;ss.initClass(Y,a,{});ss.initClass(Z,a,{dataTable:function(){return new bh.$ctor2(this.get_base().add('DataTable'))},flattenedColorEncodings:function(){return new bh.$ctor2(this.get_base().add('FlattenedColorEncodings'))},flattenedShapeEncodings:function(){return new bh.$ctor2(this.get_base().add('FlattenedShapeEncodings'))},flattenedSizeEncodings:function(){return new bh.$ctor2(this.get_base().add('FlattenedSizeEncodings'))},cellXProvided:function(){return new bh.$ctor2(this.get_base().add('CellXProvided'))},cellYProvided:function(){return new bh.$ctor2(this.get_base().add('CellYProvided'))}},bh);Z.$ctor1.prototype=Z.prototype;ss.initClass(ba,a,{supportedClientUpdates:function(){return new bh.$ctor2(this.get_base().add('SupportedClientUpdates'))},supportedDesktopUpdates:function(){return new bh.$ctor2(this.get_base().add('SupportedDesktopUpdates'))}},bh);ba.$ctor1.prototype=ba.prototype;ss.initClass(bb,a,{fieldName:function(){return new bh.$ctor2(this.get_base().add('FieldName'))},index:function(){return new bh.$ctor2(this.get_base().add('Index'))}},bh);bb.$ctor1.prototype=bb.prototype;ss.initInterface(bc,a,{executeVM:null,buildVMHex:null,loadBinaryDatastoreHex:null,initializeRuntime:null,marshallDatastore:null,marshallDatastoreSubKeyHex:null,loadAndApplyDataStoreUpdaterHex:null,localPanCommand:null,localZoomCommand:null,localZoomFactorCommand:null,rueUpdateCommandHex:null});ss.initInterface(bd,a,{paramToString:null,stringToHeap:null,paramToByteBuffer:null,byteBufferToHeap:null});ss.initClass(be,a,{});ss.initClass(bf,a,{$5:function(e){var dc=0;for(var dd=0;dd<e.length;dd+=2){dc+=ss.Int32.trunc(e[dd])}var de=new Float32Array(dc);var df=0;for(var dg=0;dg<e.length;dg+=2){var dh=ss.Int32.trunc(e[dg]);var di=e[dg+1];for(var dj=0;dj<dh;dj++){de[df++]=di}}return de},$6:function(e){var dc=0;for(var dd=0;dd<e.length;dd+=2){dc+=ss.Int32.trunc(e[dd])}var de=new Float64Array(dc);var df=0;for(var dg=0;dg<e.length;dg+=2){var dh=ss.Int32.trunc(e[dg]);var di=e[dg+1];for(var dj=0;dj<dh;dj++){de[df++]=di}}return de},$7:function(){this.$3();this.$4();this.$8=new Uint8Array(this.$a);var e=0;var dc=0;for(var dd=0;dd<this.$d.length;dd++){var de=this.$d[dd];dc=e;var df=this.$2(de,e);e+=df;e+=this.$0(e,8);if(de.encoding===3){if(de.typeId===51){var dg=Y.getMappedArrayJabba(51,this.$8.buffer,dc,df);var dh=this.$6(dg);this.unpacked.push(dh)}else if(de.typeId===50){var di=Y.getMappedArrayJabba(50,this.$8.buffer,dc,df);var dj=this.$5(di);this.unpacked.push(dj)}}else{this.unpacked.push(Y.getMappedArrayJabba(de.typeId,this.$8.buffer,dc,df))}}},$0:function(e,dc){return(dc-e%dc)%dc},$2:function(e,dc){var dd=new Uint8Array(this.$b,this.$9+e.dataOffset,e.dataSize);if(e.encoding===0||e.encoding===3){this.$8.set(dd,dc)}else if(e.encoding===2){return this.$1(dd,dc)}else{throw new ss.Exception('Unsupported encoding: '+e.encoding)}return e.dataSize},$1:function(e,dc){var dd=0;var de=0;var df=0;var dg=new Int32Array(this.$8.buffer,dc);while(de<e.length){if(e[de]<=240){var dh=e[de];dd=(dh>>>1^-(dh&1))+dd;de+=1}else if(e[de]<=248){var di=240+256*(e[de]-241)+e[de+1];dd=(di>>>1^-(di&1))+dd;de+=2}else if(e[de]===249){var dj=2288+256*e[de+1]+e[de+2];dd=(dj>>>1^-(dj&1))+dd;de+=3}else if(e[de]===250){var dk=e[de+1]*65536+e[de+2]*256+e[de+3];dd=(dk>>>1^-(dk&1))+dd;de+=4}else if(e[de]===251){var dl=e[de+1]*16777216+e[de+2]*65536+e[de+3]*256+e[de+4];dd=(dl>>>1^-(dl&1))+dd;de+=5}else if(e[de]===252){var dm=e[de+1]*1+e[de+2]*16777216+e[de+3]*65536+e[de+4]*256+e[de+5];dd=(dm>>>1^-(dm&1))+dd;de+=6}dg[df++]=ss.Int32.trunc(dd)}return df*4},$3:function(){var e=new DataView(this.$b);var dc=e.getUint16(0,true);var dd=e.getUint16(2,true);this.$a=e.getInt32(4,true);this.$c=e.getInt32(8,true);this.$9=e.getInt32(12,true);if(dc!==43962){throw new ss.Exception('Magic number mismatch: '+dc)}if(dd!==1){throw new ss.Exception('Unsupported JABBA version '+dd)}},$4:function(){var e=new Uint32Array(this.$b,16,this.$c*Uint32Array.BYTES_PER_ELEMENT);for(var dc=0;dc<this.$c;dc++){this.$d.push(new be(e,dc*Uint32Array.BYTES_PER_ELEMENT))}}});ss.initClass(bg,a,{$0:function(){var e=this.data.stringBuffer.byteOffset;var dc=this.data.stringLengths.length;for(var dd=0;dd<dc;dd++){var de=this.data.stringLengths[dd];this.stringTable[dd]=cS.decode(new Uint8Array(this.data.stringBuffer.buffer,e,de));e+=de}}});bg.$2.prototype=bg.prototype;ss.initClass(bi,a,{textEncodingTable:function(){return new cI.$ctor1(this.get_base().add('TextEncodingTable'))},textRunTable:function(){return new cJ.$ctor1(this.get_base().add('TextRunTable'))},textStyleTable:function(){return new cL.$ctor1(this.get_base().add('TextStyleTable'))}},bh);bi.$ctor1.prototype=bi.prototype;ss.initClass(bj,a,{pdMarks:function(){return new bh.$ctor2(this.get_base().add('PDMarks'))},pageIntervalTable:function(){return new bI.$ctor1(this.get_base().add('PageIntervalTable'))},panes:function(){return new bR.$ctor1(this.get_base().add('Panes'))},userPaneInfo:function(){return new cR.$ctor1(this.get_base().add('UserPaneInfo'))}},bh);bj.$ctor1.prototype=bj.prototype;ss.initClass(bk,a,{axisProducerData:function(){return new k.$ctor1(this.get_base().add('AxisProducerData'))},encodingData:function(){return new u.$ctor1(this.get_base().add('EncodingData'))},extendedDomain:function(){return new J.$ctor1(this.get_base().add('ExtendedDomain'))},gridLineProducerData:function(){return new P.$ctor1(this.get_base().add('GridLineProducerData'))},markLayoutTempKeys:function(){return new bh.$ctor2(this.get_base().add('MarkLayoutTempKeys'))},tickProducerData:function(){return new cN.$ctor1(this.get_base().add('TickProducerData'))},pdMarksData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bw.$ctor1(this.get_base().add('PDMarksData').add(e))}return new bw.$ctor1(this.get_base().add('PDMarksData').add(ss.formatString("'{0}'",e)))},partitionResultStore:function(){return new bV.$ctor1(this.get_base().add('PartitionResultStore'))},importData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new Z.$ctor1(this.get_base().add('ImportData').add(e))}return new Z.$ctor1(this.get_base().add('ImportData').add(ss.formatString("'{0}'",e)))},refLinesData:function(){return new cj.$ctor1(this.get_base().add('RefLinesData'))},refLinesTotalTableMapData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cm.$ctor1(this.get_base().add('RefLinesTotalTableMapData').add(e))}return new cm.$ctor1(this.get_base().add('RefLinesTotalTableMapData').add(ss.formatString("'{0}'",e)))},selectionData:function(){return new cA.$ctor1(this.get_base().add('SelectionData'))},incrementalUpdateData:function(){return new ba.$ctor1(this.get_base().add('IncrementalUpdateData'))},viewParametersData:function(){return new cV.$ctor1(this.get_base().add('ViewParametersData'))},paneStylesData:function(){return new bS.$ctor1(this.get_base().add('PaneStylesData'))},heatmapData:function(){return new T.$ctor1(this.get_base().add('HeatmapData'))},visualLayoutData:function(){return new cZ.$ctor1(this.get_base().add('VisualLayoutData'))}},bh);bk.$ctor1.prototype=bk.prototype;ss.initClass(bl,a,{activePages:function(){return new d.$ctor1(this.get_base().add('ActivePages'))},axisOutput:function(){return new l.$ctor1(this.get_base().add('AxisOutput'))},gridLines:function(){return new Q.$ctor1(this.get_base().add('GridLines'))},heatmap:function(){return new U.$ctor1(this.get_base().add('Heatmap'))},pdMarks:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bx.$ctor1(this.get_base().add('PDMarks').add(e))}return new bx.$ctor1(this.get_base().add('PDMarks').add(ss.formatString("'{0}'",e)))},pageIntervalTable:function(){return new bI.$ctor1(this.get_base().add('PageIntervalTable'))},paneCount:function(){return new bJ.$ctor1(this.get_base().add('PaneCount'))},paneStyles:function(){return new bS.$ctor1(this.get_base().add('PaneStyles'))},xAxisDescriptor:function(){return new N.$ctor1(this.get_base().add('XAxisDescriptor'))},firstPassRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new ck.$ctor1(this.get_base().add('FirstPassRefLines').add(e))}return new ck.$ctor1(this.get_base().add('FirstPassRefLines').add(ss.formatString("'{0}'",e)))},visualLayout:function(){return new da.$ctor1(this.get_base().add('VisualLayout'))},refLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new ck.$ctor1(this.get_base().add('RefLines').add(e))}return new ck.$ctor1(this.get_base().add('RefLines').add(ss.formatString("'{0}'",e)))},instantRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new ck.$ctor1(this.get_base().add('InstantRefLines').add(e))}return new ck.$ctor1(this.get_base().add('InstantRefLines').add(ss.formatString("'{0}'",e)))},supportedIncrementalUpdates:function(){return new ba.$ctor1(this.get_base().add('SupportedIncrementalUpdates'))},tickPlacement:function(){return new cO.$ctor1(this.get_base().add('TickPlacement'))},viewpoint:function(){return new cX.$ctor1(this.get_base().add('Viewpoint'))}},bh);bl.$ctor1.prototype=bl.prototype;ss.initClass(bm,a,{width:function(){return new bh.$ctor2(this.get_base().add('Width'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))}},bh);bm.$ctor1.prototype=bm.prototype;ss.initClass(bn,a,{processEncodedGeometry:function(){if(tab.FeatureFlags.isEnabled('SendMoreGeometryBitsToClient')){var e;switch(ss.Int32.trunc(this.$6[this.$7++])){case 1:{e=this.$5();break}case 2:{e=this.$3();break}case 3:{e=this.$4();break}default:{this.$2();return null}}if(this.$6[this.$7++]!==7){this.$2()}if(this.$7!==this.$6.length){this.$2()}return e}else{switch(ss.Int32.trunc(this.$6[this.$7++])){case 1:{return this.$5()}case 2:{return this.$3()}case 3:{return this.$4()}default:{this.$2();return null}}}},$4:function(){var e={};if(tab.FeatureFlags.isEnabled('SendMoreGeometryBitsToClient')){var dc=0;var dd=0;e.geometryType='multiPoint';var de={};e.multiPoint=de;if(this.$7+2>this.$6.length){this.$2()}dc=this.$6[this.$7++];dd=this.$6[this.$7++];de.pointsF=this.$1(dc,dd);return e}else{e.geometryType='multiPoint';var df={};e.multiPoint=df;df.pointsF=this.$0();return e}},$3:function(){var e={geometryType:'multiLineString'};var dc={};var dd=null;if(tab.FeatureFlags.isEnabled('SendMoreGeometryBitsToClient')){if(this.$7+2>this.$6.length){this.$2()}var de=this.$6[this.$7++];var df=this.$6[this.$7++];while(this.$7<this.$6.length&&this.$6[this.$7]!==7){switch(ss.Int32.trunc(this.$6[this.$7++])){case 4:{dc={lineList:[]};e.multiLine=dc;break}case 6:{dd={};dc.lineList.push(dd);dd.pointsF=this.$1(de,df);break}default:{this.$2();break}}}}else{while(this.$6[this.$7]!==7&&this.$7<this.$6.length){switch(ss.Int32.trunc(this.$6[this.$7++])){case 4:{dc={lineList:[]};e.multiLine=dc;break}case 6:{dd={};dc.lineList.push(dd);dd.pointsF=this.$0();break}default:{this.$2();break}}}}return e},$5:function(){var e={geometryType:'multiPolygon'};var dc=null;var dd=null;var de=null;if(tab.FeatureFlags.isEnabled('SendMoreGeometryBitsToClient')){if(this.$7+2>this.$6.length){this.$2()}var df=this.$6[this.$7++];var dg=this.$6[this.$7++];while(this.$7<this.$6.length&&this.$6[this.$7]!==7){switch(ss.Int32.trunc(this.$6[this.$7++])){case 4:{dc={};e.multiPolygon=dc;dc.polygonList=[];break}case 5:{dd={lineList:[]};dc.polygonList.push(dd);break}case 6:{de={};dd.lineList.push(de);de.pointsF=this.$1(df,dg);break}default:{this.$2();break}}}}else{while(this.$6[this.$7]!==7&&this.$7<this.$6.length){switch(ss.Int32.trunc(this.$6[this.$7++])){case 4:{dc={};e.multiPolygon=dc;dc.polygonList=[];break}case 5:{dd={lineList:[]};dc.polygonList.push(dd);break}case 6:{de={};dd.lineList.push(de);de.pointsF=this.$0();break}default:{this.$2();break}}}}return e},$1:function(e,dc){if(this.$7>=this.$6.length){this.$2()}var dd=ss.Int32.trunc(this.$6[this.$7++]);if(this.$7+dd>this.$6.length){this.$2()}var de=new Array(dd);for(var df=0;df<dd;df+=2){de[df]=this.$6[this.$7++]+e;de[df+1]=this.$6[this.$7++]+dc}return de},$0:function(){if(!tab.FeatureFlags.isEnabled('SendMoreGeometryBitsToClient')){var e=ss.Int32.trunc(this.$6[this.$7++]);var dc=new Array(e);for(var dd=0;dd<e;dd++){dc[dd]=this.$6[this.$7++]}return dc}return null},$2:function(){throw new ss.Exception('Invalid geometry data around position '+this.$7)}});ss.initClass(bo,a,{executeVM:function(dc){var dd=$.Deferred();var de=tabBootstrap.MetricsController.createContext('RW_ExecuteVM',32,null);try{var df=new A(Module._ExecuteVM(dc.handleValue),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dd.resolve(df)}catch(dg){var e=ss.Exception.wrap(dg);dd.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in ExecuteVM';tab.ErrorTrace.report(e)}de.dispose();return dd.promise()},$0:function(dc,dd,de){var df=$.Deferred();var dg=tabBootstrap.MetricsController.createContext('RW_BuildVM',32,null);try{var dh=new db(Module._BuildVM(dc,dd,de.handleValue),function(e){RuntimeHandleManager._HandleManagerReleaseVMHandle(e)});df.resolve(dh)}catch(di){var e=ss.Exception.wrap(di);df.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in BuildVM';tab.ErrorTrace.report(e)}dg.dispose();return df.promise()},buildVMHex:function(e,dc){var dd=W.decodedLength(e);var de=RuntimeWebModule._malloc(dd);W.run(de,RuntimeWebModule.HEAPU8,e);var df=this.$0(de,dd,dc);RuntimeWebModule._free(de);return df},$2:function(dc,dd){var de=$.Deferred();var df=tabBootstrap.MetricsController.createContext('RW_LoadBinaryDatastore',32,null);try{var dg=new A(Module._LoadBinaryDatastore(dc,dd),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});de.resolve(dg)}catch(dh){var e=ss.Exception.wrap(dh);de.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in LoadBinaryDatastore';tab.ErrorTrace.report(e)}df.dispose();return de.promise()},loadBinaryDatastoreHex:function(e){var dc=W.decodedLength(e);var dd=RuntimeWebModule._malloc(dc);W.run(dd,RuntimeWebModule.HEAPU8,e);var de=this.$2(dd,dc);RuntimeWebModule._free(dd);return de},initializeRuntime:function(){var dc=$.Deferred();var dd=tabBootstrap.MetricsController.createContext('RW_InitializeRuntime',32,null);try{Module._InitializeRuntime();dc.resolve()}catch(de){var e=ss.Exception.wrap(de);dc.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in InitializeRuntime';tab.ErrorTrace.report(e)}dd.dispose();return dc.promise()},marshallDatastore:function(dc){var dd=$.Deferred();var de=tabBootstrap.MetricsController.createContext('RW_MarshallDatastore',32,null);try{var df=Module._MarshallDatastore(dc.handleValue);var dg=bg.unmarshall$1(RuntimeWebModule.HEAPU8.buffer,df);dd.resolve(dg)}catch(dh){var e=ss.Exception.wrap(dh);dd.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in MarshallDatastore';tab.ErrorTrace.report(e)}de.dispose();return dd.promise()},$3:function(dc,dd,de){var df=$.Deferred();var dg=tabBootstrap.MetricsController.createContext('RW_MarshallDatastoreSubKey',32,null);try{var dh=Module._MarshallDatastoreSubKey(dc.handleValue,dd,de);var di=bg.unmarshall$1(RuntimeWebModule.HEAPU8.buffer,dh);df.resolve(di)}catch(dj){var e=ss.Exception.wrap(dj);df.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in MarshallDatastoreSubKey';tab.ErrorTrace.report(e)}dg.dispose();return df.promise()},marshallDatastoreSubKeyHex:function(e,dc){var dd=W.decodedLength(dc);var de=RuntimeWebModule._malloc(dd);W.run(de,RuntimeWebModule.HEAPU8,dc);var df=this.$3(e,de,dd);RuntimeWebModule._free(de);return df},$1:function(dc,dd,de){var df=$.Deferred();var dg=tabBootstrap.MetricsController.createContext('RW_LoadAndApplyDataStoreUpdater',32,null);try{var dh=new A(Module._LoadAndApplyDataStoreUpdater(dc,dd,de.handleValue),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});df.resolve(dh)}catch(di){var e=ss.Exception.wrap(di);df.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in LoadAndApplyDataStoreUpdater';tab.ErrorTrace.report(e)}dg.dispose();return df.promise()},loadAndApplyDataStoreUpdaterHex:function(e,dc){var dd=W.decodedLength(e);var de=RuntimeWebModule._malloc(dd);W.run(de,RuntimeWebModule.HEAPU8,e);var df=this.$1(de,dd,dc);RuntimeWebModule._free(de);return df},localPanCommand:function(dc,dd,de,df,dg){var dh=$.Deferred();var di=tabBootstrap.MetricsController.createContext('RW_LocalPanCommand',32,null);try{var dj=new A(Module._LocalPanCommand(dc.handleValue,dd.handleValue,de.handleValue,df,dg),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dh.resolve(dj)}catch(dk){var e=ss.Exception.wrap(dk);dh.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in LocalPanCommand';tab.ErrorTrace.report(e)}di.dispose();return dh.promise()},localZoomCommand:function(dc,dd,de,df,dg,dh,di,dj){var dk=$.Deferred();var dl=tabBootstrap.MetricsController.createContext('RW_LocalZoomCommand',32,null);try{var dm=new A(Module._LocalZoomCommand(dc.handleValue,dd.handleValue,de.handleValue,df,dg,dh,di,dj),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dk.resolve(dm)}catch(dn){var e=ss.Exception.wrap(dn);dk.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in LocalZoomCommand';tab.ErrorTrace.report(e)}dl.dispose();return dk.promise()},localZoomFactorCommand:function(dc,dd,de,df,dg,dh){var di=$.Deferred();var dj=tabBootstrap.MetricsController.createContext('RW_LocalZoomFactorCommand',32,null);try{var dk=new A(Module._LocalZoomFactorCommand(dc.handleValue,dd.handleValue,de.handleValue,df,dg,dh),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});di.resolve(dk)}catch(dl){var e=ss.Exception.wrap(dl);di.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in LocalZoomFactorCommand';tab.ErrorTrace.report(e)}dj.dispose();return di.promise()},$4:function(dc,dd,de){var df=$.Deferred();var dg=tabBootstrap.MetricsController.createContext('RW_RueUpdateCommand',32,null);try{var dh=new A(Module._RueUpdateCommand(dc.handleValue,dd,de),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});df.resolve(dh)}catch(di){var e=ss.Exception.wrap(di);df.reject();e=E.getExceptionInformation(e);e.name='RuntimeWebModule Error in RueUpdateCommand';tab.ErrorTrace.report(e)}dg.dispose();return df.promise()},rueUpdateCommandHex:function(e,dc){var dd=W.decodedLength(dc);var de=RuntimeWebModule._malloc(dd);W.run(de,RuntimeWebModule.HEAPU8,dc);var df=this.$4(e,de,dd);RuntimeWebModule._free(de);return df}},null,[bc]);ss.initClass(bp,a,{paramToByteBuffer:function(e){var dc=e;var dd=RuntimeWebModule.HEAPU32[dc>>2];var de=RuntimeWebModule.HEAPU32[(dc>>2)+1];return RuntimeWebModule.HEAPU8.buffer.slice(dd,dd+de)},byteBufferToHeap:function(e){var dc=RuntimeWebModule.stackAlloc(e.byteLength+2);var dd=dc+8;RuntimeWebModule.HEAPU32[dc>>2]=dd;RuntimeWebModule.HEAPU32[(dc>>2)+1]=e.byteLength;RuntimeWebModule.HEAPU8.set(new Uint8Array(e),dd);return dc},paramToString:function(e){var dc=e;return cS.decodeNullTerminated(RuntimeWebModule.HEAPU8.subarray(dc))},stringToHeap:function(e){var dc=cT.encode(e);var dd=RuntimeWebModule.stackAlloc(dc.length+1);RuntimeWebModule.HEAPU8[dd+dc.length]=0;RuntimeWebModule.HEAPU8.set(dc,dd);return dd}},null,[bd]);ss.initClass(bq,a,{isMap:function(){return new bh.$ctor2(this.get_base().add('IsMap'))},hasPosition:function(){return new bh.$ctor2(this.get_base().add('HasPosition'))},lockedRatioOfScales:function(){return new bh.$ctor2(this.get_base().add('LockedRatioOfScales'))},defaultMinX:function(){return new bh.$ctor2(this.get_base().add('DefaultMinX'))},defaultMaxX:function(){return new bh.$ctor2(this.get_base().add('DefaultMaxX'))},defaultMinY:function(){return new bh.$ctor2(this.get_base().add('DefaultMinY'))},defaultMaxY:function(){return new bh.$ctor2(this.get_base().add('DefaultMaxY'))},defaultXSize:function(){return new bh.$ctor2(this.get_base().add('DefaultXSize'))},defaultYSize:function(){return new bh.$ctor2(this.get_base().add('DefaultYSize'))},singleItemMapDelta:function(){return new bh.$ctor2(this.get_base().add('SingleItemMapDelta'))}},bh);bq.$ctor1.prototype=bq.prototype;ss.initClass(br,a,{headerIndex:function(){return new bh.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bh.$ctor2(this.get_base().add('VtlBlockIndex'))},columnFormatIndex:function(){return new bh.$ctor2(this.get_base().add('ColumnFormatIndex'))},labelFontIndex:function(){return new bh.$ctor2(this.get_base().add('LabelFontIndex'))},labelHeight:function(){return new bh.$ctor2(this.get_base().add('LabelHeight'))},logBaseReference:function(){return new bh.$ctor2(this.get_base().add('LogBaseReference'))},originReference:function(){return new bh.$ctor2(this.get_base().add('OriginReference'))},perpendicularLabels:function(){return new bh.$ctor2(this.get_base().add('PerpendicularLabels'))},targetTickSpacing:function(){return new bh.$ctor2(this.get_base().add('TargetTickSpacing'))}},bh);br.$ctor1.prototype=br.prototype;ss.initClass(bs,a,{boundingBoxTops:function(){return new bh.$ctor2(this.get_base().add('BoundingBoxTops'))},boundingBoxBottoms:function(){return new bh.$ctor2(this.get_base().add('BoundingBoxBottoms'))},boundingBoxLefts:function(){return new bh.$ctor2(this.get_base().add('BoundingBoxLefts'))},boundingBoxRights:function(){return new bh.$ctor2(this.get_base().add('BoundingBoxRights'))},latitudesForNullGeometries:function(){return new bh.$ctor2(this.get_base().add('LatitudesForNullGeometries'))},longitudesForNullGeometries:function(){return new bh.$ctor2(this.get_base().add('LongitudesForNullGeometries'))},latitudes:function(){return new bh.$ctor2(this.get_base().add('Latitudes'))},longitudes:function(){return new bh.$ctor2(this.get_base().add('Longitudes'))}},bh);bs.$ctor1.prototype=bs.prototype;ss.initClass(bt,a,{isValid:function(){return new bh.$ctor2(this.get_base().add('IsValid'))},displayScale:function(){return new bh.$ctor2(this.get_base().add('DisplayScale'))},actualZoomLevel:function(){return new bh.$ctor2(this.get_base().add('ActualZoomLevel'))},coverage:function(){return new bh.$ctor2(this.get_base().add('Coverage'))}},bh);bt.$ctor1.prototype=bt.prototype;ss.initClass(bu,a,{mapCode:function(){return new bh.$ctor2(this.get_base().add('MapCode'))},mapLayersModel:function(){return new bh.$ctor2(this.get_base().add('MapLayersModel'))},mapProvider:function(){return new bh.$ctor2(this.get_base().add('MapProvider'))},mappedImageModel:function(){return new bh.$ctor2(this.get_base().add('MappedImageModel'))},mapSceneModel:function(){return new bh.$ctor2(this.get_base().add('MapSceneModel'))},modelNumber:function(){return new bh.$ctor2(this.get_base().add('ModelNumber'))},sourceName:function(){return new bh.$ctor2(this.get_base().add('SourceName'))},styleName:function(){return new bh.$ctor2(this.get_base().add('StyleName'))},waitForImages:function(){return new bh.$ctor2(this.get_base().add('WaitForImages'))},waitTileFill:function(){return new bh.$ctor2(this.get_base().add('WaitTileFill'))},wrapCount:function(){return new bh.$ctor2(this.get_base().add('WrapCount'))}},bh);bu.$ctor1.prototype=bu.prototype;ss.initClass(bv,a,{shouldAdjustAxes:function(){return new bh.$ctor2(this.get_base().add('ShouldAdjustAxes'))},pixelsPerCRSUnitAtZoomLevel1:function(){return new bh.$ctor2(this.get_base().add('PixelsPerCRSUnitAtZoomLevel1'))},maxScaleLevel:function(){return new bh.$ctor2(this.get_base().add('MaxScaleLevel'))},tileSize:function(){return new bh.$ctor2(this.get_base().add('TileSize'))},intermediateLevels:function(){return new bh.$ctor2(this.get_base().add('IntermediateLevels'))},isTileSizeAdjustable:function(){return new bh.$ctor2(this.get_base().add('IsTileSizeAdjustable'))},minShrink:function(){return new bh.$ctor2(this.get_base().add('MinShrink'))},maxStretch:function(){return new bh.$ctor2(this.get_base().add('MaxStretch'))}},bh);bv.$ctor1.prototype=bv.prototype;ss.initClass(bw,a,{parameters:function(){return new by.$ctor1(this.get_base().add('Parameters'))},geometryTable:function(){return new bh.$ctor2(this.get_base().add('GeometryTable'))},textCompositionInputKeys:function(){return new cH.$ctor1(this.get_base().add('TextCompositionInputKeys'))},textTableHelper:function(){return new bh.$ctor2(this.get_base().add('TextTableHelper'))},wordleRandomKeys:function(){return new bh.$ctor2(this.get_base().add('WordleRandomKeys'))},xDomains:function(){return new C.$ctor1(this.get_base().add('XDomains'))},xHiddenMarks:function(){return new X.$ctor1(this.get_base().add('XHiddenMarks'))},yDomains:function(){return new C.$ctor1(this.get_base().add('YDomains'))},yHiddenMarks:function(){return new X.$ctor1(this.get_base().add('YHiddenMarks'))}},bh);bw.$ctor1.prototype=bw.prototype;ss.initClass(bx,a,{color:function(){return new bh.$ctor2(this.get_base().add('Color'))},domain:function(){return new bh.$ctor2(this.get_base().add('Domain'))},ellipses:function(){return new D.$ctor1(this.get_base().add('Ellipses'))},encodingData:function(){return new u.$ctor1(this.get_base().add('EncodingData'))},encodings:function(){return new F.$ctor1(this.get_base().add('Encodings'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},hasPerMarkColorEncoding:function(){return new bh.$ctor2(this.get_base().add('HasPerMarkColorEncoding'))},hasPerMarkSizeEncoding:function(){return new bh.$ctor2(this.get_base().add('HasPerMarkSizeEncoding'))},isMarkStacked:function(){return new bh.$ctor2(this.get_base().add('IsMarkStacked'))},markLayoutData:function(){return new bw.$ctor1(this.get_base().add('MarkLayoutData'))},scaledStartPoint:function(){return new bh.$ctor2(this.get_base().add('ScaledStartPoint'))},scaledEndPoint:function(){return new bh.$ctor2(this.get_base().add('ScaledEndPoint'))},textRunCount:function(){return new bh.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bh.$ctor2(this.get_base().add('TextRunOffset'))},textRunTable:function(){return new cJ.$ctor1(this.get_base().add('TextRunTable'))},textTable:function(){return new bh.$ctor2(this.get_base().add('TextTable'))},textStyleTable:function(){return new cL.$ctor1(this.get_base().add('TextStyleTable'))},treemapKeys:function(){return new bh.$ctor2(this.get_base().add('TreemapKeys'))},showLabels:function(){return new bh.$ctor2(this.get_base().add('ShowLabels'))},labelMode:function(){return new bh.$ctor2(this.get_base().add('LabelMode'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))}},bh);bx.$ctor1.prototype=bx.prototype;ss.initClass(by,a,{alpha:function(){return new bh.$ctor2(this.get_base().add('Alpha'))},backgroundColor:function(){return new bh.$ctor2(this.get_base().add('BackgroundColor'))},borderColor:function(){return new bh.$ctor2(this.get_base().add('BorderColor'))},cellHeight:function(){return new bh.$ctor2(this.get_base().add('CellHeight'))},cellWidth:function(){return new bh.$ctor2(this.get_base().add('CellWidth'))},clipHeight:function(){return new bh.$ctor2(this.get_base().add('ClipHeight'))},clipWidth:function(){return new bh.$ctor2(this.get_base().add('ClipWidth'))},color:function(){return new bh.$ctor2(this.get_base().add('Color'))},drawBorder:function(){return new bh.$ctor2(this.get_base().add('DrawBorder'))},dropLineFlags:function(){return new bh.$ctor2(this.get_base().add('DropLineFlags'))},haloColor:function(){return new bh.$ctor2(this.get_base().add('HaloColor'))},hasFoldedAxis:function(){return new bh.$ctor2(this.get_base().add('HasFoldedAxis'))},hasHalos:function(){return new bh.$ctor2(this.get_base().add('HasHalos'))},handleSpecialsX:function(){return new bh.$ctor2(this.get_base().add('HandleSpecialsX'))},handleSpecialsY:function(){return new bh.$ctor2(this.get_base().add('HandleSpecialsY'))},hasEmptyOrEqualAxis:function(){return new bh.$ctor2(this.get_base().add('HasEmptyOrEqualAxis'))},hasSortEncoding:function(){return new bh.$ctor2(this.get_base().add('HasSortEncoding'))},independentAxis:function(){return new bh.$ctor2(this.get_base().add('IndependentAxis'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},highlightedHaloColor:function(){return new bh.$ctor2(this.get_base().add('HighlightedHaloColor'))},scaleTypeX:function(){return new bh.$ctor2(this.get_base().add('ScaleTypeX'))},scaleTypeY:function(){return new bh.$ctor2(this.get_base().add('ScaleTypeY'))},labelOnePerGroup:function(){return new bh.$ctor2(this.get_base().add('LabelOnePerGroup'))},labelTargetPrimitiveId:function(){return new bh.$ctor2(this.get_base().add('LabelTargetPrimitiveId'))},lineInterpolation:function(){return new bh.$ctor2(this.get_base().add('LineInterpolation'))},markFlags:function(){return new bh.$ctor2(this.get_base().add('MarkFlags'))},markLabelPadding:function(){return new bh.$ctor2(this.get_base().add('MarkLabelPadding'))},markTrailAutoColor:function(){return new bh.$ctor2(this.get_base().add('MarkTrailAutoColor'))},markTrailColor:function(){return new bh.$ctor2(this.get_base().add('MarkTrailColor'))},markTrailCount:function(){return new bh.$ctor2(this.get_base().add('MarkTrailCount'))},markTrailEndEffect:function(){return new bh.$ctor2(this.get_base().add('MarkTrailEndEffect'))},markTrailStartEffect:function(){return new bh.$ctor2(this.get_base().add('MarkTrailStartEffect'))},markTrailTransparency:function(){return new bh.$ctor2(this.get_base().add('MarkTrailTransparency'))},minBarHeight:function(){return new bh.$ctor2(this.get_base().add('MinBarHeight'))},minBarWidth:function(){return new bh.$ctor2(this.get_base().add('MinBarWidth'))},pageTrailMarksToTrail:function(){return new bh.$ctor2(this.get_base().add('PageTrailMarksToTrail'))},paneFlags:function(){return new bh.$ctor2(this.get_base().add('PaneFlags'))},paneHasBackground:function(){return new bh.$ctor2(this.get_base().add('PaneHasBackground'))},primitiveType:function(){return new bh.$ctor2(this.get_base().add('PrimitiveType'))},selectedHaloColor:function(){return new bh.$ctor2(this.get_base().add('SelectedHaloColor'))},selectedMultiPrimHaloColor:function(){return new bh.$ctor2(this.get_base().add('SelectedMultiPrimHaloColor'))},shapeId:function(){return new bh.$ctor2(this.get_base().add('ShapeId'))},showRunningOrderLabels:function(){return new bh.$ctor2(this.get_base().add('ShowRunningOrderLabels'))},size:function(){return new bh.$ctor2(this.get_base().add('Size'))},trailOverrides:function(){return new bh.$ctor2(this.get_base().add('TrailOverrides'))},vizType:function(){return new bh.$ctor2(this.get_base().add('VizType'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))},wrapDomain:function(){return new bh.$ctor2(this.get_base().add('WrapDomain'))}},bh);by.$ctor1.prototype=by.prototype;ss.initClass(bz,a,{cellSizeDefault:function(){return new bh.$ctor2(this.get_base().add('CellSizeDefault'))},cellSizeDefaultConst:function(){return new bh.$ctor2(this.get_base().add('CellSizeDefaultConst'))},cellX:function(){return new bh.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bh.$ctor2(this.get_base().add('CellY'))},clipHeight:function(){return new bh.$ctor2(this.get_base().add('ClipHeight'))},clipWidth:function(){return new bh.$ctor2(this.get_base().add('ClipWidth'))},color:function(){return new bh.$ctor2(this.get_base().add('Color'))},colorBeforeAlpha:function(){return new bh.$ctor2(this.get_base().add('ColorBeforeAlpha'))},geometry:function(){return new bh.$ctor2(this.get_base().add('Geometry'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},isMarkStacked:function(){return new bh.$ctor2(this.get_base().add('IsMarkStacked'))},markStackIndex:function(){return new bh.$ctor2(this.get_base().add('MarkStackIndex'))},markFlagsX:function(){return new bh.$ctor2(this.get_base().add('MarkFlagsX'))},markFlagsY:function(){return new bh.$ctor2(this.get_base().add('MarkFlagsY'))},markFlags:function(){return new bh.$ctor2(this.get_base().add('MarkFlags'))},markId:function(){return new bh.$ctor2(this.get_base().add('MarkId'))},paneIndex:function(){return new bh.$ctor2(this.get_base().add('PaneIndex'))},paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},panePage:function(){return new bh.$ctor2(this.get_base().add('PanePage'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},predictionIntervalLowerEnd:function(){return new bh.$ctor2(this.get_base().add('PredictionIntervalLowerEnd'))},predictionIntervalUpperEnd:function(){return new bh.$ctor2(this.get_base().add('PredictionIntervalUpperEnd'))},predictionWhiskerWidth:function(){return new bh.$ctor2(this.get_base().add('PredictionWhiskerWidth'))},primitiveId:function(){return new bh.$ctor2(this.get_base().add('PrimitiveId'))},shapeId:function(){return new bh.$ctor2(this.get_base().add('ShapeId'))},rho:function(){return new bh.$ctor2(this.get_base().add('Rho'))},rho1:function(){return new bh.$ctor2(this.get_base().add('Rho1'))},size:function(){return new bh.$ctor2(this.get_base().add('Size'))},sizeGantt:function(){return new bh.$ctor2(this.get_base().add('SizeGantt'))},sizeLabel:function(){return new bh.$ctor2(this.get_base().add('SizeLabel'))},sizeOutputs:function(){return new bh.$ctor2(this.get_base().add('SizeOutputs'))},xRawInput:function(){return new bh.$ctor2(this.get_base().add('XRawInput'))},yRawInput:function(){return new bh.$ctor2(this.get_base().add('YRawInput'))},lookupColor:function(){return new bh.$ctor2(this.get_base().add('LookupColor'))},theta:function(){return new bh.$ctor2(this.get_base().add('Theta'))},theta1:function(){return new bh.$ctor2(this.get_base().add('Theta1'))},trailId:function(){return new bh.$ctor2(this.get_base().add('TrailId'))},tupleId:function(){return new bh.$ctor2(this.get_base().add('TupleId'))},userPaneCol:function(){return new bh.$ctor2(this.get_base().add('UserPaneCol'))},userPaneRow:function(){return new bh.$ctor2(this.get_base().add('UserPaneRow'))},weight:function(){return new bh.$ctor2(this.get_base().add('Weight'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))},x:function(){return new bh.$ctor2(this.get_base().add('X'))},x1:function(){return new bh.$ctor2(this.get_base().add('X1'))},xNext:function(){return new bh.$ctor2(this.get_base().add('XNext'))},xPrev:function(){return new bh.$ctor2(this.get_base().add('XPrev'))},xPriorToWrap:function(){return new bh.$ctor2(this.get_base().add('XPriorToWrap'))},xProj:function(){return new bh.$ctor2(this.get_base().add('XProj'))},y:function(){return new bh.$ctor2(this.get_base().add('Y'))},y1:function(){return new bh.$ctor2(this.get_base().add('Y1'))},yNext:function(){return new bh.$ctor2(this.get_base().add('YNext'))},yPrev:function(){return new bh.$ctor2(this.get_base().add('YPrev'))},yProj:function(){return new bh.$ctor2(this.get_base().add('YProj'))},xDomains:function(){return new bh.$ctor2(this.get_base().add('XDomains'))},yDomains:function(){return new bh.$ctor2(this.get_base().add('YDomains'))},ellipses:function(){return new D.$ctor1(this.get_base().add('Ellipses'))},packedLayout:function(){return new bF.$ctor1(this.get_base().add('PackedLayout'))}},bh);bz.$ctor1.prototype=bz.prototype;ss.initClass(bA,a,{});bA.$ctor1.prototype=bA.prototype;ss.initClass(bB,a,{get_typeCode:function(){return 18}},bE,[ss.IDisposable]);ss.initClass(bC,a,{headerIndex:function(){return new bh.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bh.$ctor2(this.get_base().add('VtlBlockIndex'))}},bh);bC.$ctor1.prototype=bC.prototype;ss.initClass(bD,a,{dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))},fieldType:function(){return new bh.$ctor2(this.get_base().add('FieldType'))},domainMin:function(){return new bh.$ctor2(this.get_base().add('DomainMin'))},domainMax:function(){return new bh.$ctor2(this.get_base().add('DomainMax'))},rangeMin:function(){return new bh.$ctor2(this.get_base().add('RangeMin'))},rangeMax:function(){return new bh.$ctor2(this.get_base().add('RangeMax'))}},bh);bD.$ctor1.prototype=bD.prototype;ss.initClass(bF,a,{size:function(){return new bh.$ctor2(this.get_base().add('Size'))},x:function(){return new bh.$ctor2(this.get_base().add('X'))},y:function(){return new bh.$ctor2(this.get_base().add('Y'))},x1:function(){return new bh.$ctor2(this.get_base().add('X1'))},y1:function(){return new bh.$ctor2(this.get_base().add('Y1'))},hierarchyDepth:function(){return new bh.$ctor2(this.get_base().add('HierarchyDepth'))},hierarchyTables:function(){return new bh.$ctor2(this.get_base().add('HierarchyTables'))}},bh);bF.$ctor1.prototype=bF.prototype;ss.initClass(bG,a,{paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bh.$ctor2(this.get_base().add('PaneLayer'))},panePage:function(){return new bh.$ctor2(this.get_base().add('PanePage'))},startIndex:function(){return new bh.$ctor2(this.get_base().add('StartIndex'))},endIndex:function(){return new bh.$ctor2(this.get_base().add('EndIndex'))},paneKey:function(){return new bh.$ctor2(this.get_base().add('PaneKey'))}},bh);bG.$ctor1.prototype=bG.prototype;ss.initClass(bH,a,{paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bh.$ctor2(this.get_base().add('PaneLayer'))},panePage:function(){return new bh.$ctor2(this.get_base().add('PanePage'))},startIndex:function(){return new bh.$ctor2(this.get_base().add('StartIndex'))},endIndex:function(){return new bh.$ctor2(this.get_base().add('EndIndex'))},paneKey:function(){return new bh.$ctor2(this.get_base().add('PaneKey'))}},bh);bH.$ctor1.prototype=bH.prototype;ss.initClass(bI,a,{paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bh.$ctor2(this.get_base().add('PaneLayer'))},panePage:function(){return new bh.$ctor2(this.get_base().add('PanePage'))},startIndex:function(){return new bh.$ctor2(this.get_base().add('StartIndex'))},endIndex:function(){return new bh.$ctor2(this.get_base().add('EndIndex'))},paneKey:function(){return new bh.$ctor2(this.get_base().add('PaneKey'))}},bh);bI.$ctor1.prototype=bI.prototype;ss.initClass(bJ,a,{rowCount:function(){return new bh.$ctor2(this.get_base().add('RowCount'))},columnCount:function(){return new bh.$ctor2(this.get_base().add('ColumnCount'))},layerCount:function(){return new bh.$ctor2(this.get_base().add('LayerCount'))},pageCount:function(){return new bh.$ctor2(this.get_base().add('PageCount'))},paneCount:function(){return new bh.$ctor2(this.get_base().add('PaneCount'))}},bh);bJ.$ctor1.prototype=bJ.prototype;ss.initClass(bK,a,{getStartIndex:function(e,dc){return this.$0[e][dc*2]},getEndIndex:function(e,dc){return this.$0[e][dc*2+1]},getPageIndices:function(e){return this.$0[e]}});ss.initClass(bL,a,{xIndexedAxis:function(){return new bb.$ctor1(this.get_base().add('XIndexedAxis'))},yIndexedAxis:function(){return new bb.$ctor1(this.get_base().add('YIndexedAxis'))},paneCount:function(){return new bh.$ctor2(this.get_base().add('PaneCount'))},importData:function(){return new Z.$ctor1(this.get_base().add('ImportData'))},stackedMarkAttributes:function(){return new cF.$ctor1(this.get_base().add('StackedMarkAttributes'))},trailDescriptor:function(){return new bh.$ctor2(this.get_base().add('TrailDescriptor'))}},bh);bL.$ctor1.prototype=bL.prototype;ss.initClass(bM,a,{pxLeft:function(){return new bh.$ctor2(this.get_base().add('PxLeft'))},pxTop:function(){return new bh.$ctor2(this.get_base().add('PxTop'))},pxRight:function(){return new bh.$ctor2(this.get_base().add('PxRight'))},pxBottom:function(){return new bh.$ctor2(this.get_base().add('PxBottom'))}},bh);bM.$ctor1.prototype=bM.prototype;ss.initClass(bN,a,{paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},key:function(){return new bh.$ctor2(this.get_base().add('Key'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bh.$ctor2(this.get_base().add('PaneLayer'))}},bh);bN.$ctor1.prototype=bN.prototype;ss.initClass(bO,a,{paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},domainLeft:function(){return new bh.$ctor2(this.get_base().add('DomainLeft'))},domainTop:function(){return new bh.$ctor2(this.get_base().add('DomainTop'))},domainRight:function(){return new bh.$ctor2(this.get_base().add('DomainRight'))},domainBottom:function(){return new bh.$ctor2(this.get_base().add('DomainBottom'))},key:function(){return new bh.$ctor2(this.get_base().add('Key'))},mapDomainLeft:function(){return new bh.$ctor2(this.get_base().add('MapDomainLeft'))},mapDomainTop:function(){return new bh.$ctor2(this.get_base().add('MapDomainTop'))},mapDomainRight:function(){return new bh.$ctor2(this.get_base().add('MapDomainRight'))},mapDomainBottom:function(){return new bh.$ctor2(this.get_base().add('MapDomainBottom'))},mapCenterLongitude:function(){return new bh.$ctor2(this.get_base().add('MapCenterLongitude'))},mapCenterLatitude:function(){return new bh.$ctor2(this.get_base().add('MapCenterLatitude'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},originX:function(){return new bh.$ctor2(this.get_base().add('OriginX'))},originY:function(){return new bh.$ctor2(this.get_base().add('OriginY'))},pxLeft:function(){return new bh.$ctor2(this.get_base().add('PxLeft'))},pxTop:function(){return new bh.$ctor2(this.get_base().add('PxTop'))},pxRight:function(){return new bh.$ctor2(this.get_base().add('PxRight'))},pxBottom:function(){return new bh.$ctor2(this.get_base().add('PxBottom'))},xRangeMin:function(){return new bh.$ctor2(this.get_base().add('XRangeMin'))},xRangeMax:function(){return new bh.$ctor2(this.get_base().add('XRangeMax'))},yRangeMin:function(){return new bh.$ctor2(this.get_base().add('YRangeMin'))},yRangeMax:function(){return new bh.$ctor2(this.get_base().add('YRangeMax'))}},bh);bO.$ctor1.prototype=bO.prototype;ss.initClass(bP,a,{paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},domainLeft:function(){return new bh.$ctor2(this.get_base().add('DomainLeft'))},domainTop:function(){return new bh.$ctor2(this.get_base().add('DomainTop'))},domainRight:function(){return new bh.$ctor2(this.get_base().add('DomainRight'))},domainBottom:function(){return new bh.$ctor2(this.get_base().add('DomainBottom'))},key:function(){return new bh.$ctor2(this.get_base().add('Key'))},mapDomainLeft:function(){return new bh.$ctor2(this.get_base().add('MapDomainLeft'))},mapDomainTop:function(){return new bh.$ctor2(this.get_base().add('MapDomainTop'))},mapDomainRight:function(){return new bh.$ctor2(this.get_base().add('MapDomainRight'))},mapDomainBottom:function(){return new bh.$ctor2(this.get_base().add('MapDomainBottom'))},mapCenterLongitude:function(){return new bh.$ctor2(this.get_base().add('MapCenterLongitude'))},mapCenterLatitude:function(){return new bh.$ctor2(this.get_base().add('MapCenterLatitude'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},originX:function(){return new bh.$ctor2(this.get_base().add('OriginX'))},originY:function(){return new bh.$ctor2(this.get_base().add('OriginY'))},pxLeft:function(){return new bh.$ctor2(this.get_base().add('PxLeft'))},pxTop:function(){return new bh.$ctor2(this.get_base().add('PxTop'))},pxRight:function(){return new bh.$ctor2(this.get_base().add('PxRight'))},pxBottom:function(){return new bh.$ctor2(this.get_base().add('PxBottom'))},xRangeMin:function(){return new bh.$ctor2(this.get_base().add('XRangeMin'))},xRangeMax:function(){return new bh.$ctor2(this.get_base().add('XRangeMax'))},yRangeMin:function(){return new bh.$ctor2(this.get_base().add('YRangeMin'))},yRangeMax:function(){return new bh.$ctor2(this.get_base().add('YRangeMax'))}},bh);bP.$ctor1.prototype=bP.prototype;ss.initClass(bQ,a,{get_startIndex:function(){return this.$5},get_endIndex:function(){return this.$0},get_pageIndices:function(){return this.$1},get_paneKey:function(){return this.$4},get_paneId:function(){return this.$2},get_paneIndex:function(){return this.$3}});bQ.$ctor1.prototype=bQ.prototype;ss.initClass(bR,a,{column:function(){return new bh.$ctor2(this.get_base().add('Column'))},drawPanes:function(){return new bh.$ctor2(this.get_base().add('DrawPanes'))},rect:function(){return new bh.$ctor2(this.get_base().add('Rect'))},predictionMarks:function(){return new ca.$ctor1(this.get_base().add('PredictionMarks'))},row:function(){return new bh.$ctor2(this.get_base().add('Row'))},xNumberMap:function(){return new bD.$ctor1(this.get_base().add('XNumberMap'))},yNumberMap:function(){return new bD.$ctor1(this.get_base().add('YNumberMap'))}},bh);bR.$ctor1.prototype=bR.prototype;ss.initClass(bS,a,{defaultMarkColor:function(){return new bh.$ctor2(this.get_base().add('DefaultMarkColor'))},defaultShape:function(){return new bh.$ctor2(this.get_base().add('DefaultShape'))},defaultSize:function(){return new bh.$ctor2(this.get_base().add('DefaultSize'))},key:function(){return new bh.$ctor2(this.get_base().add('Key'))}},bh);bS.$ctor1.prototype=bS.prototype;ss.initClass(bT,a,{});ss.initClass(bU,a,{tupleId:function(){return new bh.$ctor2(this.get_base().add('TupleId'))},markId:function(){return new bh.$ctor2(this.get_base().add('MarkId'))},paneCol:function(){return new bh.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bh.$ctor2(this.get_base().add('PaneRow'))},cellX:function(){return new bh.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bh.$ctor2(this.get_base().add('CellY'))},xProj:function(){return new bh.$ctor2(this.get_base().add('XProj'))},yProj:function(){return new bh.$ctor2(this.get_base().add('YProj'))},currentStackValue:function(){return new bh.$ctor2(this.get_base().add('CurrentStackValue'))},previousStackValue:function(){return new bh.$ctor2(this.get_base().add('PreviousStackValue'))},primitiveId:function(){return new bh.$ctor2(this.get_base().add('PrimitiveId'))},scaledStartPoint:function(){return new bh.$ctor2(this.get_base().add('ScaledStartPoint'))},scaledEndPoint:function(){return new bh.$ctor2(this.get_base().add('ScaledEndPoint'))},prevLowerValue:function(){return new bh.$ctor2(this.get_base().add('PrevLowerValue'))},nextLowerValue:function(){return new bh.$ctor2(this.get_base().add('NextLowerValue'))}},bh);bU.$ctor1.prototype=bU.prototype;ss.initClass(bV,a,{paneCount:function(){return new bJ.$ctor1(this.get_base().add('PaneCount'))},orderedPaneKeys:function(){return new bh.$ctor2(this.get_base().add('OrderedPaneKeys'))},paneDescriptorsData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bL.$ctor1(this.get_base().add('PaneDescriptorsData').add(e))}return new bL.$ctor1(this.get_base().add('PaneDescriptorsData').add(ss.formatString("'{0}'",e)))},xAxis:function(){return new N.$ctor1(this.get_base().add('XAxis'))},yAxis:function(){return new N.$ctor1(this.get_base().add('YAxis'))},spatialProjector:function(){return new cE.$ctor1(this.get_base().add('SpatialProjector'))}},bh);bV.$ctor1.prototype=bV.prototype;ss.initClass(bW,a,{headerCount:function(){return new bh.$ctor2(this.get_base().add('HeaderCount'))},lineColor:function(){return new bh.$ctor2(this.get_base().add('LineColor'))},lineStyle:function(){return new bh.$ctor2(this.get_base().add('LineStyle'))},lineWidth:function(){return new bh.$ctor2(this.get_base().add('LineWidth'))},zeroLineColor:function(){return new bh.$ctor2(this.get_base().add('ZeroLineColor'))},zeroLineStyle:function(){return new bh.$ctor2(this.get_base().add('ZeroLineStyle'))},zeroLineWidth:function(){return new bh.$ctor2(this.get_base().add('ZeroLineWidth'))}},bh);bW.$ctor1.prototype=bW.prototype;ss.initClass(bX,a,{lineColor:function(){return new bh.$ctor2(this.get_base().add('LineColor'))},lineStyle:function(){return new bh.$ctor2(this.get_base().add('LineStyle'))},lineWidth:function(){return new bh.$ctor2(this.get_base().add('LineWidth'))},zeroLineColor:function(){return new bh.$ctor2(this.get_base().add('ZeroLineColor'))},zeroLineStyle:function(){return new bh.$ctor2(this.get_base().add('ZeroLineStyle'))},zeroLineWidth:function(){return new bh.$ctor2(this.get_base().add('ZeroLineWidth'))}},bh);bX.$ctor1.prototype=bX.prototype;ss.initClass(bY,a,{fieldName:function(){return new bh.$ctor2(this.get_base().add('FieldName'))},isXAxis:function(){return new bh.$ctor2(this.get_base().add('IsXAxis'))},bandColor:function(){return new bh.$ctor2(this.get_base().add('BandColor'))},bandLevel:function(){return new bh.$ctor2(this.get_base().add('BandLevel'))},bandSize:function(){return new bh.$ctor2(this.get_base().add('BandSize'))},fillColor:function(){return new bh.$ctor2(this.get_base().add('FillColor'))},hoverColor:function(){return new bh.$ctor2(this.get_base().add('HoverColor'))},brushedColor:function(){return new bh.$ctor2(this.get_base().add('BrushedColor'))},selectedFillColor:function(){return new bh.$ctor2(this.get_base().add('SelectedFillColor'))},selectedTextColor:function(){return new bh.$ctor2(this.get_base().add('SelectedTextColor'))},selectedTickColor:function(){return new bh.$ctor2(this.get_base().add('SelectedTickColor'))},subtotalFillColor:function(){return new bh.$ctor2(this.get_base().add('SubtotalFillColor'))},totalFillColor:function(){return new bh.$ctor2(this.get_base().add('TotalFillColor'))},textColor:function(){return new bh.$ctor2(this.get_base().add('TextColor'))},tickColor:function(){return new bh.$ctor2(this.get_base().add('TickColor'))}},bh);bY.$ctor1.prototype=bY.prototype;ss.initClass(bZ,a,{headerId:function(){return new bh.$ctor2(this.get_base().add('HeaderId'))},fieldName:function(){return new bh.$ctor2(this.get_base().add('FieldName'))},dataType:function(){return new bh.$ctor2(this.get_base().add('DataType'))}},bh);bZ.$ctor1.prototype=bZ.prototype;ss.initClass(ca,a,{color:function(){return new bh.$ctor2(this.get_base().add('Color'))},colors:function(){return new bh.$ctor2(this.get_base().add('Colors'))},defaultParamID:function(){return new bh.$ctor2(this.get_base().add('DefaultParamID'))},haloColor:function(){return new bh.$ctor2(this.get_base().add('HaloColor'))},lineTupleIds:function(){return new bh.$ctor2(this.get_base().add('LineTupleIds'))},lowerEnds:function(){return new bh.$ctor2(this.get_base().add('LowerEnds'))},maxAlpha:function(){return new bh.$ctor2(this.get_base().add('MaxAlpha'))},oppositeAxes:function(){return new bh.$ctor2(this.get_base().add('OppositeAxes'))},renderOnTop:function(){return new bh.$ctor2(this.get_base().add('RenderOnTop'))},tupleIds:function(){return new bh.$ctor2(this.get_base().add('TupleIds'))},type:function(){return new bh.$ctor2(this.get_base().add('Type'))},upperEnds:function(){return new bh.$ctor2(this.get_base().add('UpperEnds'))},useYAxis:function(){return new bh.$ctor2(this.get_base().add('UseYAxis'))},widths:function(){return new bh.$ctor2(this.get_base().add('Widths'))},lineInterpolation:function(){return new bh.$ctor2(this.get_base().add('LineInterpolation'))}},bh);ca.$ctor1.prototype=ca.prototype;ss.initClass(cb,a,{palette:function(){return new bh.$ctor2(this.get_base().add('Palette'))},isDiverging:function(){return new bh.$ctor2(this.get_base().add('IsDiverging'))},isReversed:function(){return new bh.$ctor2(this.get_base().add('IsReversed'))},fixedMin:function(){return new bh.$ctor2(this.get_base().add('FixedMin'))},fixedMax:function(){return new bh.$ctor2(this.get_base().add('FixedMax'))},fixedCenter:function(){return new bh.$ctor2(this.get_base().add('FixedCenter'))},steps:function(){return new bh.$ctor2(this.get_base().add('Steps'))},divergingPalette:function(){return new bh.$ctor2(this.get_base().add('DivergingPalette'))},reversedPalette:function(){return new bh.$ctor2(this.get_base().add('ReversedPalette'))},defaultPalette:function(){return new bh.$ctor2(this.get_base().add('DefaultPalette'))}},bh);cb.$ctor1.prototype=cb.prototype;ss.initClass(cc,a,{fixedMin:function(){return new bh.$ctor2(this.get_base().add('FixedMin'))},fixedMax:function(){return new bh.$ctor2(this.get_base().add('FixedMax'))}},bh);cc.$ctor1.prototype=cc.prototype;ss.initClass(cd,a,{headerIndex:function(){return new bh.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bh.$ctor2(this.get_base().add('VtlBlockIndex'))},columnFormatIndex:function(){return new bh.$ctor2(this.get_base().add('ColumnFormatIndex'))},minSpacing:function(){return new bh.$ctor2(this.get_base().add('MinSpacing'))},originReference:function(){return new bh.$ctor2(this.get_base().add('OriginReference'))},perpendicularLabels:function(){return new bh.$ctor2(this.get_base().add('PerpendicularLabels'))},spacingReference:function(){return new bh.$ctor2(this.get_base().add('SpacingReference'))},targetTickSpacing:function(){return new bh.$ctor2(this.get_base().add('TargetTickSpacing'))},cellCount:function(){return new bh.$ctor2(this.get_base().add('CellCount'))},labelFontIndex:function(){return new bh.$ctor2(this.get_base().add('LabelFontIndex'))},labelHeight:function(){return new bh.$ctor2(this.get_base().add('LabelHeight'))},showMinorTicks:function(){return new bh.$ctor2(this.get_base().add('ShowMinorTicks'))},minorOriginReference:function(){return new bh.$ctor2(this.get_base().add('MinorOriginReference'))},minorSpacingReference:function(){return new bh.$ctor2(this.get_base().add('MinorSpacingReference'))}},bh);cd.$ctor1.prototype=cd.prototype;ss.initClass(ce,a,{},bh);ce.$ctor1.prototype=ce.prototype;ss.initClass(cf,a,{referenceLineSpecId:function(){return new bh.$ctor2(this.get_base().add('ReferenceLineSpecId'))},lineWidth:function(){return new bh.$ctor2(this.get_base().add('LineWidth'))},lineColor:function(){return new bh.$ctor2(this.get_base().add('LineColor'))},linePattern:function(){return new bh.$ctor2(this.get_base().add('LinePattern'))},labelBackgroundColor:function(){return new bh.$ctor2(this.get_base().add('LabelBackgroundColor'))}},bh);cf.$ctor1.prototype=cf.prototype;ss.initClass(cg,a,{specId:function(){return new bh.$ctor2(this.get_base().add('SpecId'))},axisKeyPath:function(){return new bh.$ctor2(this.get_base().add('AxisKeyPath'))},type:function(){return new bh.$ctor2(this.get_base().add('Type'))},formulaType:function(){return new bh.$ctor2(this.get_base().add('FormulaType'))},labelType:function(){return new bh.$ctor2(this.get_base().add('LabelType'))},enableInstantRefline:function(){return new bh.$ctor2(this.get_base().add('EnableInstantRefline'))},calculationScope:function(){return new bh.$ctor2(this.get_base().add('CalculationScope'))},confidencePercentage:function(){return new bh.$ctor2(this.get_base().add('ConfidencePercentage'))},constantValue:function(){return new bh.$ctor2(this.get_base().add('ConstantValue'))},formattedConstantValue:function(){return new bh.$ctor2(this.get_base().add('FormattedConstantValue'))},tileCount:function(){return new bh.$ctor2(this.get_base().add('TileCount'))},standardDevType:function(){return new bh.$ctor2(this.get_base().add('StandardDevType'))},fillBelow:function(){return new bh.$ctor2(this.get_base().add('FillBelow'))},fillAbove:function(){return new bh.$ctor2(this.get_base().add('FillAbove'))},defaultLabelX:function(){return new bh.$ctor2(this.get_base().add('DefaultLabelX'))},defaultLabelY:function(){return new bh.$ctor2(this.get_base().add('DefaultLabelY'))},zOrder:function(){return new bh.$ctor2(this.get_base().add('ZOrder'))},styleId:function(){return new bh.$ctor2(this.get_base().add('StyleId'))}},bh);cg.$ctor1.prototype=cg.prototype;ss.initClass(ch,a,{width:function(){return new bh.$ctor2(this.get_base().add('Width'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},textRunCount:function(){return new bh.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bh.$ctor2(this.get_base().add('TextRunOffset'))},hAligns:function(){return new bh.$ctor2(this.get_base().add('HAligns'))},vAligns:function(){return new bh.$ctor2(this.get_base().add('VAligns'))},pxAbove:function(){return new bh.$ctor2(this.get_base().add('PxAbove'))},pxBelow:function(){return new bh.$ctor2(this.get_base().add('PxBelow'))}},bh);ch.$ctor1.prototype=ch.prototype;ss.initClass(ci,a,{specId:function(){return new bh.$ctor2(this.get_base().add('SpecId'))},styleId:function(){return new bh.$ctor2(this.get_base().add('StyleId'))},xDomainLookup:function(){return new bh.$ctor2(this.get_base().add('XDomainLookup'))},yDomainLookup:function(){return new bh.$ctor2(this.get_base().add('YDomainLookup'))},pageNumber:function(){return new bh.$ctor2(this.get_base().add('PageNumber'))},paneIndex:function(){return new bh.$ctor2(this.get_base().add('PaneIndex'))},cellIndex:function(){return new bh.$ctor2(this.get_base().add('CellIndex'))},cellCount:function(){return new bh.$ctor2(this.get_base().add('CellCount'))},axisOrientation:function(){return new bh.$ctor2(this.get_base().add('AxisOrientation'))},calculationScope:function(){return new bh.$ctor2(this.get_base().add('CalculationScope'))},value:function(){return new bh.$ctor2(this.get_base().add('Value'))},zOrder:function(){return new bh.$ctor2(this.get_base().add('ZOrder'))},fillBelow:function(){return new bh.$ctor2(this.get_base().add('FillBelow'))},fillAbove:function(){return new bh.$ctor2(this.get_base().add('FillAbove'))},labelText:function(){return new bh.$ctor2(this.get_base().add('LabelText'))}},bh);ci.$ctor1.prototype=ci.prototype;ss.initClass(cj,a,{referenceLineDetails:function(){return new cg.$ctor1(this.get_base().add('ReferenceLineDetails'))},xValueFormat:function(){return new bh.$ctor2(this.get_base().add('XValueFormat'))},yValueFormat:function(){return new bh.$ctor2(this.get_base().add('YValueFormat'))},xHeaderFolded:function(){return new bh.$ctor2(this.get_base().add('XHeaderFolded'))},yHeaderFolded:function(){return new bh.$ctor2(this.get_base().add('YHeaderFolded'))},xStyles:function(){return new cl.$ctor1(this.get_base().add('XStyles'))},yStyles:function(){return new cl.$ctor1(this.get_base().add('YStyles'))}},bh);cj.$ctor1.prototype=cj.prototype;ss.initClass(ck,a,{layoutElements:function(){return new ci.$ctor1(this.get_base().add('LayoutElements'))},xValues:function(){return new bh.$ctor2(this.get_base().add('XValues'))},yValues:function(){return new bh.$ctor2(this.get_base().add('YValues'))},labels:function(){return new ch.$ctor1(this.get_base().add('Labels'))},details:function(){return new cg.$ctor1(this.get_base().add('Details'))},textRun:function(){return new cJ.$ctor1(this.get_base().add('TextRun'))},xStyles:function(){return new cl.$ctor1(this.get_base().add('XStyles'))},yStyles:function(){return new cl.$ctor1(this.get_base().add('YStyles'))}},bh);ck.$ctor1.prototype=ck.prototype;ss.initClass(cl,a,{axisStyles:function(){return new cf.$ctor1(this.get_base().add('AxisStyles'))},textStyles:function(){return new cL.$ctor1(this.get_base().add('TextStyles'))},fillColors:function(){return new bh.$ctor2(this.get_base().add('FillColors'))}},bh);cl.$ctor1.prototype=cl.prototype;ss.initClass(cm,a,{hasTotalTable:function(){return new bh.$ctor2(this.get_base().add('HasTotalTable'))},referenceLineTotalTableMap:function(){return new cn.$ctor1(this.get_base().add('ReferenceLineTotalTableMap'))}},bh);cm.$ctor1.prototype=cm.prototype;ss.initClass(cn,a,{perTable:function(){return new bh.$ctor2(this.get_base().add('PerTable'))},perPane:function(){return new bh.$ctor2(this.get_base().add('PerPane'))},perCell:function(){return new bh.$ctor2(this.get_base().add('PerCell'))}},bh);cn.$ctor1.prototype=cn.prototype;ss.initClass(co,a,{index:function(){return new bh.$ctor2(this.get_base().add('Index'))},min:function(){return new bh.$ctor2(this.get_base().add('Min'))},max:function(){return new bh.$ctor2(this.get_base().add('Max'))},labelIndex:function(){return new bh.$ctor2(this.get_base().add('LabelIndex'))},value:function(){return new bh.$ctor2(this.get_base().add('Value'))},pxAbove:function(){return new bh.$ctor2(this.get_base().add('PxAbove'))},pxBelow:function(){return new bh.$ctor2(this.get_base().add('PxBelow'))}},bh);co.$ctor1.prototype=co.prototype;ss.initClass(cp,a,{activePages:function(){return new d.$ctor1(this.get_base().add('ActivePages'))},annexedData:function(){return new g.$ctor1(this.get_base().add('AnnexedData'))},axisOutput:function(){return new l.$ctor1(this.get_base().add('AxisOutput'))},gridLines:function(){return new Q.$ctor1(this.get_base().add('GridLines'))},heatmap:function(){return new U.$ctor1(this.get_base().add('Heatmap'))},pdMarks:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bx.$ctor1(this.get_base().add('PDMarks').add(e))}return new bx.$ctor1(this.get_base().add('PDMarks').add(ss.formatString("'{0}'",e)))},pageIntervalTable:function(){return new bI.$ctor1(this.get_base().add('PageIntervalTable'))},paneCount:function(){return new bJ.$ctor1(this.get_base().add('PaneCount'))},paneStyles:function(){return new bS.$ctor1(this.get_base().add('PaneStyles'))},xAxisDescriptor:function(){return new N.$ctor1(this.get_base().add('XAxisDescriptor'))},firstPassRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new ck.$ctor1(this.get_base().add('FirstPassRefLines').add(e))}return new ck.$ctor1(this.get_base().add('FirstPassRefLines').add(ss.formatString("'{0}'",e)))},visualLayout:function(){return new da.$ctor1(this.get_base().add('VisualLayout'))},refLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new ck.$ctor1(this.get_base().add('RefLines').add(e))}return new ck.$ctor1(this.get_base().add('RefLines').add(ss.formatString("'{0}'",e)))},instantRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new ck.$ctor1(this.get_base().add('InstantRefLines').add(e))}return new ck.$ctor1(this.get_base().add('InstantRefLines').add(ss.formatString("'{0}'",e)))},supportedIncrementalUpdates:function(){return new ba.$ctor1(this.get_base().add('SupportedIncrementalUpdates'))},tickPlacement:function(){return new cO.$ctor1(this.get_base().add('TickPlacement'))},viewpoint:function(){return new cX.$ctor1(this.get_base().add('Viewpoint'))}},bh);cp.$ctor1.prototype=cp.prototype;ss.initClass(cq,a,{pack:function(){this.$a.setInt32(0,this.$9,true);return this.$8.subarray(0,this.$7)},addColorArray:function(e,dc){this.$6(e,37,dc.length);for(var dd=0;dd<dc.length;dd++){var de=dc[dd];this.$3(de)}},addReal64Array:function(e,dc){this.$6(e,36,dc.length);for(var dd=0;dd<dc.length;dd++){var de=dc[dd];this.$2(de)}},addInt32Array:function(e,dc){this.$6(e,33,dc.length);for(var dd=0;dd<dc.length;dd++){var de=dc[dd];this.$3(de)}},addInt64Array:function(e,dc){this.$6(e,34,ss.Int32.div(dc.length,2));for(var dd=0;dd<dc.length;dd++){var de=dc[dd];this.$3(de)}},addInt32:function(e,dc){this.$9++;this.$4(e);this.$5(33);this.$3(dc)},startTable:function(e,dc){this.$9++;this.$9-=dc;this.$4(e);this.$5(20);this.$3(dc)},$6:function(e,dc,dd){this.$9++;this.$4(e);this.$5(16);this.$5(dc);this.$3(dd)},$4:function(e){var dc=cT.encode(e);var dd=dc.byteLength+1;this.$3(dd);this.$1(dd);this.$8.set(dc,this.$7);this.$7+=dd},$3:function(e){this.$0(4);this.$1(4);this.$a.setInt32(this.$7,e,true);this.$7+=4},$5:function(e){this.$3(e)},$2:function(e){this.$0(8);this.$1(8);this.$a.setFloat64(this.$7,e,true);this.$7+=8},$0:function(e){var dc=(e-this.$7%e)%e;this.$1(dc);this.$7+=dc},$1:function(e){var dc=this.$7+e;if(dc>=this.$8.byteLength){var dd=Math.max(this.$8.byteLength*2,dc+1);var de=new Uint8Array(dd);de.set(this.$8);this.$8=de;this.$a=new DataView(this.$8.buffer)}}});ss.initClass(cr,a,{get_finalDataStore:function(){return this.$8},get_annexedData:function(){return this.$5},get_geometries:function(){return this.$a},get_paneStoreTable:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$c)){this.$c=new bK(this.get_finalDataStore().PageIntervalTable,this.get_finalDataStore().PaneCount)}return this.$c},get_labelsPaneStoreTable:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$b)){this.$b=new bK(this.get_annexedData().LabelStore.PageIntervalTable,this.get_finalDataStore().PaneCount)}return this.$b},get_drawFirsts:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$6)&&!tab.MiscUtil.isNullOrEmpty$2(this.get_annexedData())){this.$6=cr.$0(this.get_annexedData().DrawFirsts)}return this.$6},get_drawLasts:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$7)&&!tab.MiscUtil.isNullOrEmpty$2(this.get_annexedData())){this.$7=cr.$0(this.get_annexedData().DrawLasts)}return this.$7},get_panes:function(){if(tab.MiscUtil.isNullOrEmpty(this.$d)){if(tab.MiscUtil.isNullOrEmpty$2(this.get_annexedData())||tab.MiscUtil.isNullOrEmpty(this.get_annexedData().Panes)){return[]}var e=this.get_annexedData().Panes;var dc=[];for(var dd=0;dd<e.length;dd++){var de=e[dd];var df={};var dg=[];for(var dh=0;dh<de.DrawPanes.length;dh++){var di=de.DrawPanes[dh];if(di[1].length>0){dg.push(JSON.parse(cS.decode(di[1])))}}df.drawPane=Array.prototype.slice.call(dg);df.columnIndex=de.Column;df.rowIndex=de.Row;df.paneRect={h:de.Rect[3],w:de.Rect[2],x:de.Rect[0],y:de.Rect[1]};dc.push(df)}this.$d=dc}return this.$d},safeFetchMarkPanes:function(){var e=[];if(!ss.isNullOrUndefined(this.get_annexedData().Panes)){e=this.get_annexedData().Panes}return e},update:function(e){this.$8=this.$2(e);this.$c=null;this.$b=null},$3:function(){if(ss.isNullOrUndefined(this.$9)||this.$9.length===0){this.$8={};return}if(this.$9.charCodeAt(0)===123){{var e=tabBootstrap.MetricsController.createContext('RTCONV'.toString(),16,null);try{this.$8=JSON.parse(this.$9)}finally{if(ss.isValue(e)){e.dispose()}}}}else{this.$8=bg.unmarshallHex(this.$9)}if(tab.ObjectCoverage.shouldTrack('runtime-datastore')){this.$8=(new tab.ObjectCoverage('runtime-datastore')).instrument(this.get_finalDataStore(),'')}},$0:function(){if(!tab.MiscUtil.isNullOrEmpty$2(this.$8.AnnexedData)){this.$5=this.$8.AnnexedData}},$1:function(){var e=this.$8.PDMarks;var dc=_.keys(e);for(var dd=0;dd<dc.length;dd++){var de=dc[dd];var df=e[de];var dg=df.MarkLayoutData.geoTable;if(!ss.isValue(dg)){continue}this.$a[de]=dg}},$2:function(e){e.TickPlacement=this.$8.TickPlacement;this.$4(e.RefLines);this.$4(e.InstantRefLines);return e},$4:function(e){if(ss.isValue(e)){var dc=new ss.ObjectEnumerator(e);try{while(dc.moveNext()){var dd=dc.current();dd.value.TextRun=null}}finally{dc.dispose()}}}});ss.initClass(cs,a,{get_VM:function(){return this.$1$1},set_VM:function(e){this.$1$1=e},get_initialStore:function(){return this.$1$2},set_initialStore:function(e){this.$1$2=e},get_finalStore:function(){return this.$1$3},set_finalStore:function(e){this.$1$3=e}});ss.initClass(ct,a,{});ss.initClass(cu,a,{executeVM:function(e){var dc=$.Deferred();var dd=this.$0('ExecuteVM',[b.$0('int',''),b.$0('int',e.handleValue)]);dd.done(ss.mkdel(this,function(de){var df=new A(de.value,ss.mkdel(this,function(dg){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dg)])}));dc.resolve(df)}));return dc.promise()},buildVMHex:function(e,dc){var dd=$.Deferred();var de=this.$0('BuildVM',[b.$0('int',''),b.$0('hex',e),b.$0('int',dc.handleValue)]);de.done(ss.mkdel(this,function(df){var dg=new db(df.value,ss.mkdel(this,function(dh){this.$0('HandleManagerReleaseVMHandle',[b.$0('void',''),b.$0('int',dh)])}));dd.resolve(dg)}));return dd.promise()},loadBinaryDatastoreHex:function(e){var dc=$.Deferred();var dd=this.$0('LoadBinaryDatastore',[b.$0('int',''),b.$0('hex',e)]);dd.done(ss.mkdel(this,function(de){var df=new A(de.value,ss.mkdel(this,function(dg){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dg)])}));dc.resolve(df)}));return dc.promise()},initializeRuntime:function(){var e=$.Deferred();var dc=this.$0('InitializeRuntime',[b.$0('void','')]);dc.done(function(dd){e.resolve()});return e.promise()},marshallDatastore:function(e){var dc=$.Deferred();var dd=this.$0('MarshallDatastore',[b.$0('hex',''),b.$0('int',e.handleValue)]);dd.done(function(de){var df=bg.unmarshallHex(de.value);dc.resolve(df)});return dc.promise()},marshallDatastoreSubKeyHex:function(e,dc){var dd=$.Deferred();var de=this.$0('MarshallDatastoreSubKey',[b.$0('hex',''),b.$0('int',e.handleValue),b.$0('hex',dc)]);de.done(function(df){var dg=bg.unmarshallHex(df.value);dd.resolve(dg)});return dd.promise()},loadAndApplyDataStoreUpdaterHex:function(e,dc){var dd=$.Deferred();var de=this.$0('LoadAndApplyDataStoreUpdater',[b.$0('int',''),b.$0('hex',e),b.$0('int',dc.handleValue)]);de.done(ss.mkdel(this,function(df){var dg=new A(df.value,ss.mkdel(this,function(dh){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dh)])}));dd.resolve(dg)}));return dd.promise()},localPanCommand:function(e,dc,dd,de,df){var dg=$.Deferred();var dh=this.$0('LocalPanCommand',[b.$0('int',''),b.$0('int',e.handleValue),b.$0('int',dc.handleValue),b.$0('int',dd.handleValue),b.$0('double',de),b.$0('double',df)]);dh.done(ss.mkdel(this,function(di){var dj=new A(di.value,ss.mkdel(this,function(dk){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dk)])}));dg.resolve(dj)}));return dg.promise()},localZoomCommand:function(e,dc,dd,de,df,dg,dh,di){var dj=$.Deferred();var dk=this.$0('LocalZoomCommand',[b.$0('int',''),b.$0('int',e.handleValue),b.$0('int',dc.handleValue),b.$0('int',dd.handleValue),b.$0('int',de),b.$0('int',df),b.$0('int',dg),b.$0('int',dh),b.$0('bool',di)]);dk.done(ss.mkdel(this,function(dl){var dm=new A(dl.value,ss.mkdel(this,function(dn){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dn)])}));dj.resolve(dm)}));return dj.promise()},localZoomFactorCommand:function(e,dc,dd,de,df,dg){var dh=$.Deferred();var di=this.$0('LocalZoomFactorCommand',[b.$0('int',''),b.$0('int',e.handleValue),b.$0('int',dc.handleValue),b.$0('int',dd.handleValue),b.$0('int',de),b.$0('int',df),b.$0('double',dg)]);di.done(ss.mkdel(this,function(dj){var dk=new A(dj.value,ss.mkdel(this,function(dl){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dl)])}));dh.resolve(dk)}));return dh.promise()},rueUpdateCommandHex:function(e,dc){var dd=$.Deferred();var de=this.$0('RueUpdateCommand',[b.$0('int',''),b.$0('int',e.handleValue),b.$0('hex',dc)]);de.done(ss.mkdel(this,function(df){var dg=new A(df.value,ss.mkdel(this,function(dh){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',dh)])}));dd.resolve(dg)}));return dd.promise()},$0:function(e,dc){var dd=$.Deferred();var de=[];for(var df=0;df<dc.length;df++){var dg=dc[df];de.push(dg)}var dh=new XMLHttpRequest;dh.open('POST',this.$2+'/callMethod/'+e);dh.setRequestHeader('Accept','text/javascript');dh.setRequestHeader('Content-Type','application/x-www-form-urlencoded');dh.onloadend=function(di){dd.resolve(JSON.parse(di.target.responseText))};dh.onerror=function(di){dd.reject(di)};dh.send(JSON.stringify(de));return dd},$1:function(){var e=new XMLHttpRequest;e.open('POST',this.$2+'/restart',false);e.setRequestHeader('Accept','text/javascript');e.setRequestHeader('Content-Type','application/x-www-form-urlencoded');e.send(JSON.stringify('restart'))}},null,[bc]);ss.initClass(cv,a,{byteBufferToHeap:function(e){var dc={};dc.type='bytebuffer';dc.value=V.encodeBufferToHex(new Uint8Array(e));return dc},paramToByteBuffer:function(e){var dc=e['value'];var dd=new Uint8Array(W.decodedLength(dc));W.run(0,dd,dc);return dd.buffer},paramToString:function(e){return e['value']},stringToHeap:function(e){var dc={};dc.type='string';dc.value=e;return dc}},null,[bd]);ss.initClass(cw,a,{});ss.initClass(cx,a,{headerDepth:function(){return new bh.$ctor2(this.get_base().add('HeaderDepth'))},isAxis:function(){return new bh.$ctor2(this.get_base().add('IsAxis'))},sceneMarginLocation:function(){return new bh.$ctor2(this.get_base().add('SceneMarginLocation'))},pixelOffset:function(){return new bh.$ctor2(this.get_base().add('PixelOffset'))},pixelSize:function(){return new bh.$ctor2(this.get_base().add('PixelSize'))}},bh);cx.$ctor1.prototype=cx.prototype;ss.initClass(cy,a,{leftLeafElementLayout:function(){return new cz.$ctor1(this.get_base().add('LeftLeafElementLayout'))},rightLeafElementLayout:function(){return new cz.$ctor1(this.get_base().add('RightLeafElementLayout'))},topLeafElementLayout:function(){return new cz.$ctor1(this.get_base().add('TopLeafElementLayout'))},bottomLeafElementLayout:function(){return new cz.$ctor1(this.get_base().add('BottomLeafElementLayout'))}},bh);cy.$ctor1.prototype=cy.prototype;ss.initClass(cz,a,{headerIndex:function(){return new bh.$ctor2(this.get_base().add('HeaderIndex'))},alongAxisPixelOffset:function(){return new bh.$ctor2(this.get_base().add('AlongAxisPixelOffset'))},alongAxisPixelSize:function(){return new bh.$ctor2(this.get_base().add('AlongAxisPixelSize'))}},bh);cz.$ctor1.prototype=cz.prototype;ss.initClass(cA,a,{tupleSelection:function(){return new bh.$ctor2(this.get_base().add('TupleSelection'))},tupleBrushedSelection:function(){return new bh.$ctor2(this.get_base().add('TupleBrushedSelection'))}},bh);cA.$ctor1.prototype=cA.prototype;ss.initClass(cB,a,{formatters:function(){return new bh.$ctor2(this.get_base().add('Formatters'))},formatterIndex:function(){return new bh.$ctor2(this.get_base().add('FormatterIndex'))}},bh);cB.$ctor1.prototype=cB.prototype;ss.initClass(cC,a,{size:function(){return new bh.$ctor2(this.get_base().add('Size'))},unscaledSize:function(){return new bh.$ctor2(this.get_base().add('UnscaledSize'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},hasPerMarkEncoding:function(){return new bh.$ctor2(this.get_base().add('HasPerMarkEncoding'))}},bh);cC.$ctor1.prototype=cC.prototype;ss.initClass(cD,a,{variableID:function(){return new bh.$ctor2(this.get_base().add('VariableID'))},value:function(){return new bh.$ctor2(this.get_base().add('Value'))}},bh);cD.$ctor1.prototype=cD.prototype;ss.initClass(cE,a,{isMap:function(){return new bh.$ctor2(this.get_base().add('IsMap'))},uName:function(){return new bh.$ctor2(this.get_base().add('UName'))},vName:function(){return new bh.$ctor2(this.get_base().add('VName'))}},bh);cE.$ctor1.prototype=cE.prototype;ss.initClass(cF,a,{hasCurrStackValue:function(){return new bh.$ctor2(this.get_base().add('HasCurrStackValue'))},hasPrevStackValue:function(){return new bh.$ctor2(this.get_base().add('HasPrevStackValue'))},hasPrevLowerValue:function(){return new bh.$ctor2(this.get_base().add('HasPrevLowerValue'))},hasNextLowerValue:function(){return new bh.$ctor2(this.get_base().add('HasNextLowerValue'))}},bh);cF.$ctor1.prototype=cF.prototype;ss.initClass(cG,a,{font:function(){return new bh.$ctor2(this.get_base().add('Font'))},fontSize:function(){return new bh.$ctor2(this.get_base().add('FontSize'))},fontStyle:function(){return new bh.$ctor2(this.get_base().add('FontStyle'))},fontWeight:function(){return new bh.$ctor2(this.get_base().add('FontWeight'))},hAlign:function(){return new bh.$ctor2(this.get_base().add('HAlign'))},strikethrough:function(){return new bh.$ctor2(this.get_base().add('Strikethrough'))},textAlignment:function(){return new bh.$ctor2(this.get_base().add('TextAlignment'))},textDecoration:function(){return new bh.$ctor2(this.get_base().add('TextDecoration'))},textOrientation:function(){return new bh.$ctor2(this.get_base().add('TextOrientation'))},textStyleColor:function(){return new bh.$ctor2(this.get_base().add('TextStyleColor'))},textWrapMode:function(){return new bh.$ctor2(this.get_base().add('TextWrapMode'))},underline:function(){return new bh.$ctor2(this.get_base().add('Underline'))},vAlign:function(){return new bh.$ctor2(this.get_base().add('VAlign'))},leftMargin:function(){return new bh.$ctor2(this.get_base().add('LeftMargin'))},rightMargin:function(){return new bh.$ctor2(this.get_base().add('RightMargin'))}},bh);cG.$ctor1.prototype=cG.prototype;ss.initClass(cH,a,{isTextTable:function(){return new bh.$ctor2(this.get_base().add('IsTextTable'))},hPad:function(){return new bh.$ctor2(this.get_base().add('HPad'))},vPad:function(){return new bh.$ctor2(this.get_base().add('VPad'))},textScaleFactor:function(){return new bh.$ctor2(this.get_base().add('TextScaleFactor'))},textRangeFactor:function(){return new bh.$ctor2(this.get_base().add('TextRangeFactor'))},textFontMin:function(){return new bh.$ctor2(this.get_base().add('TextFontMin'))},textFitStyle:function(){return new bh.$ctor2(this.get_base().add('TextFitStyle'))},textRunPosition:function(){return new bh.$ctor2(this.get_base().add('TextRunPosition'))},formattedText:function(){return new O.$ctor1(this.get_base().add('FormattedText'))}},bh);cH.$ctor1.prototype=cH.prototype;ss.initClass(cI,a,{cellX:function(){return new bh.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bh.$ctor2(this.get_base().add('CellY'))},height:function(){return new bh.$ctor2(this.get_base().add('Height'))},markFlags:function(){return new bh.$ctor2(this.get_base().add('MarkFlags'))},textRunCount:function(){return new bh.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bh.$ctor2(this.get_base().add('TextRunOffset'))},tupleId:function(){return new bh.$ctor2(this.get_base().add('TupleId'))},userPaneCol:function(){return new bh.$ctor2(this.get_base().add('UserPaneCol'))},userPaneRow:function(){return new bh.$ctor2(this.get_base().add('UserPaneRow'))},width:function(){return new bh.$ctor2(this.get_base().add('Width'))},x:function(){return new bh.$ctor2(this.get_base().add('X'))},y:function(){return new bh.$ctor2(this.get_base().add('Y'))}},bh);cI.$ctor1.prototype=cI.prototype;ss.initClass(cJ,a,{hasFontSizeOverride:function(){return new bh.$ctor2(this.get_base().add('HasFontSizeOverride'))},textRunString:function(){return new bh.$ctor2(this.get_base().add('TextRunString'))},textRunX:function(){return new bh.$ctor2(this.get_base().add('TextRunX'))},textRunXRemote:function(){return new bh.$ctor2(this.get_base().add('TextRunXRemote'))},textRunY:function(){return new bh.$ctor2(this.get_base().add('TextRunY'))},textRunYRemote:function(){return new bh.$ctor2(this.get_base().add('TextRunYRemote'))},textStyleId:function(){return new bh.$ctor2(this.get_base().add('TextStyleId'))}},bh);cJ.$ctor1.prototype=cJ.prototype;ss.initClass(cK,a,{font:function(){return new bh.$ctor2(this.get_base().add('Font'))},fontSize:function(){return new bh.$ctor2(this.get_base().add('FontSize'))},fontStyle:function(){return new bh.$ctor2(this.get_base().add('FontStyle'))},fontWeight:function(){return new bh.$ctor2(this.get_base().add('FontWeight'))},hAlign:function(){return new bh.$ctor2(this.get_base().add('HAlign'))},strikethrough:function(){return new bh.$ctor2(this.get_base().add('Strikethrough'))},textAlignment:function(){return new bh.$ctor2(this.get_base().add('TextAlignment'))},textDecoration:function(){return new bh.$ctor2(this.get_base().add('TextDecoration'))},textOrientation:function(){return new bh.$ctor2(this.get_base().add('TextOrientation'))},textStyleColor:function(){return new bh.$ctor2(this.get_base().add('TextStyleColor'))},textWrapMode:function(){return new bh.$ctor2(this.get_base().add('TextWrapMode'))},underline:function(){return new bh.$ctor2(this.get_base().add('Underline'))},vAlign:function(){return new bh.$ctor2(this.get_base().add('VAlign'))}},bh);cK.$ctor1.prototype=cK.prototype;ss.initClass(cL,a,{font:function(){return new bh.$ctor2(this.get_base().add('Font'))},fontSize:function(){return new bh.$ctor2(this.get_base().add('FontSize'))},fontStyle:function(){return new bh.$ctor2(this.get_base().add('FontStyle'))},fontWeight:function(){return new bh.$ctor2(this.get_base().add('FontWeight'))},hAlign:function(){return new bh.$ctor2(this.get_base().add('HAlign'))},strikethrough:function(){return new bh.$ctor2(this.get_base().add('Strikethrough'))},textAlignment:function(){return new bh.$ctor2(this.get_base().add('TextAlignment'))},textDecoration:function(){return new bh.$ctor2(this.get_base().add('TextDecoration'))},textOrientation:function(){return new bh.$ctor2(this.get_base().add('TextOrientation'))},textStyleColor:function(){return new bh.$ctor2(this.get_base().add('TextStyleColor'))},textWrapMode:function(){return new bh.$ctor2(this.get_base().add('TextWrapMode'))},underline:function(){return new bh.$ctor2(this.get_base().add('Underline'))},vAlign:function(){return new bh.$ctor2(this.get_base().add('VAlign'))}},bh);cL.$ctor1.prototype=cL.prototype;ss.initClass(cM,a,{daysPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('DaysPossibleFreqs'))},hoursPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('HoursPossibleFreqs'))},monthsPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('MonthsPossibleFreqs'))},minutesPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('MinutesPossibleFreqs'))},quartersPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('QuartersPossibleFreqs'))},secondsPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('SecondsPossibleFreqs'))},weeksPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('WeeksPossibleFreqs'))},yearsPossibleFreqs:function(){return new bh.$ctor2(this.get_base().add('YearsPossibleFreqs'))}},bh);cM.$ctor1.prototype=cM.prototype;ss.initClass(cN,a,{qPerHeaderData:function(){return new cd.$ctor1(this.get_base().add('QPerHeaderData'))},dateTimePerHeaderData:function(){return new B.$ctor1(this.get_base().add('DateTimePerHeaderData'))},logPerHeaderData:function(){return new br.$ctor1(this.get_base().add('LogPerHeaderData'))},noneTickPerHeaderData:function(){return new bC.$ctor1(this.get_base().add('NoneTickPerHeaderData'))},arrayConstants:function(){return new cM.$ctor1(this.get_base().add('ArrayConstants'))},columnFormat:function(){return new bh.$ctor2(this.get_base().add('ColumnFormat'))},labelFont:function(){return new cK.$ctor1(this.get_base().add('LabelFont'))},numericFormatDivisor:function(){return new bh.$ctor2(this.get_base().add('NumericFormatDivisor'))},numericFormatSuffix:function(){return new bh.$ctor2(this.get_base().add('NumericFormatSuffix'))},tickLengthMajorPixels:function(){return new bh.$ctor2(this.get_base().add('TickLengthMajorPixels'))},tickLengthMinorPixels:function(){return new bh.$ctor2(this.get_base().add('TickLengthMinorPixels'))},isLabelNudgeable:function(){return new bh.$ctor2(this.get_base().add('IsLabelNudgeable'))}},bh);cN.$ctor1.prototype=cN.prototype;ss.initClass(cO,a,{perHeaderMajorTickPlacement:function(){return new cP.$ctor1(this.get_base().add('PerHeaderMajorTickPlacement'))},perHeaderMinorTickPlacement:function(){return new cP.$ctor1(this.get_base().add('PerHeaderMinorTickPlacement'))},encodedTickPositions:function(){return new bh.$ctor2(this.get_base().add('EncodedTickPositions'))},encodedMinorTickPositions:function(){return new bh.$ctor2(this.get_base().add('EncodedMinorTickPositions'))},labelFont:function(){return new cK.$ctor1(this.get_base().add('LabelFont'))},formatters:function(){return new bh.$ctor2(this.get_base().add('Formatters'))},tickLengthMajorPixels:function(){return new bh.$ctor2(this.get_base().add('TickLengthMajorPixels'))},tickLengthMinorPixels:function(){return new bh.$ctor2(this.get_base().add('TickLengthMinorPixels'))},isLabelNudgeable:function(){return new bh.$ctor2(this.get_base().add('IsLabelNudgeable'))}},bh);cO.$ctor1.prototype=cO.prototype;ss.initClass(cP,a,{encodedTickPositionsIndex:function(){return new bh.$ctor2(this.get_base().add('EncodedTickPositionsIndex'))},spacing:function(){return new bh.$ctor2(this.get_base().add('Spacing'))},origin:function(){return new bh.$ctor2(this.get_base().add('Origin'))},includeViewEdges:function(){return new bh.$ctor2(this.get_base().add('IncludeViewEdges'))},dateTimeSpacing:function(){return new bh.$ctor2(this.get_base().add('DateTimeSpacing'))},dateTimeSpacingUnit:function(){return new bh.$ctor2(this.get_base().add('DateTimeSpacingUnit'))},dateTimeOrigin:function(){return new bh.$ctor2(this.get_base().add('DateTimeOrigin'))},encodingMin:function(){return new bh.$ctor2(this.get_base().add('EncodingMin'))},encodingMax:function(){return new bh.$ctor2(this.get_base().add('EncodingMax'))},labelFontIndex:function(){return new bh.$ctor2(this.get_base().add('LabelFontIndex'))},formatterIndex:function(){return new bh.$ctor2(this.get_base().add('FormatterIndex'))},targetTickSpacing:function(){return new bh.$ctor2(this.get_base().add('TargetTickSpacing'))}},bh);cP.$ctor1.prototype=cP.prototype;ss.initClass(cQ,a,{textStyleTable:function(){return new cL.$ctor1(this.get_base().add('TextStyleTable'))},textStyleId:function(){return new bh.$ctor2(this.get_base().add('TextStyleId'))}},bh);cQ.$ctor1.prototype=cQ.prototype;ss.initClass(cR,a,{xCellOffsets:function(){return new bh.$ctor2(this.get_base().add('XCellOffsets'))},xPixelOffsets:function(){return new bh.$ctor2(this.get_base().add('XPixelOffsets'))},yCellOffsets:function(){return new bh.$ctor2(this.get_base().add('YCellOffsets'))},yPixelOffsets:function(){return new bh.$ctor2(this.get_base().add('YPixelOffsets'))},xCellWidths:function(){return new bh.$ctor2(this.get_base().add('XCellWidths'))},xPixelWidths:function(){return new bh.$ctor2(this.get_base().add('XPixelWidths'))},yCellHeights:function(){return new bh.$ctor2(this.get_base().add('YCellHeights'))},yPixelHeights:function(){return new bh.$ctor2(this.get_base().add('YPixelHeights'))}},bh);cR.$ctor1.prototype=cR.prototype;ss.initClass(cS,a,{});ss.initClass(cT,a,{});ss.initClass(cU,a,{variableID:function(){return new bh.$ctor2(this.get_base().add('VariableID'))},name:function(){return new bh.$ctor2(this.get_base().add('Name'))}},bh);cU.$ctor1.prototype=cU.prototype;ss.initClass(cV,a,{activePages:function(){return new d.$ctor1(this.get_base().add('ActivePages'))},layoutSize:function(){return new bm.$ctor1(this.get_base().add('LayoutSize'))}},bh);cV.$ctor1.prototype=cV.prototype;ss.initClass(cW,a,{activePages:function(){return new d.$ctor1(this.get_base().add('ActivePages'))}},bh);cW.$ctor1.prototype=cW.prototype;ss.initClass(cX,a,{mapLayersModelUpdate:function(){return new bt.$ctor1(this.get_base().add('MapLayersModelUpdate'))},perPaneExtents:function(){return new bP.$ctor1(this.get_base().add('PerPaneExtents'))}},bh);cX.$ctor1.prototype=cX.prototype;ss.initClass(cY,a,{});ss.initClass(cZ,a,{sceneMarginLayout:function(){return new cx.$ctor1(this.get_base().add('SceneMarginLayout'))},sceneMarginLeafLayouts:function(){return new cy.$ctor1(this.get_base().add('SceneMarginLeafLayouts'))}},bh);cZ.$ctor1.prototype=cZ.prototype;ss.initClass(da,a,{sceneMarginLayout:function(){return new cx.$ctor1(this.get_base().add('SceneMarginLayout'))},sceneMarginLeafLayouts:function(){return new cy.$ctor1(this.get_base().add('SceneMarginLeafLayouts'))}},bh);da.$ctor1.prototype=da.prototype;ss.initClass(db,a,{get_typeCode:function(){return 17}},bE,[ss.IDisposable]);(function(){c.$0=ss.isValue(tab.FeatureParamsLookup.getInt(54))})();(function(){bh.$0='/'})();(function(){t.$2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';t.$1=null})();(function(){cS.$0=null;cS.$1=!(typeof(TextDecoder)!=='undefined');if(!cS.$1){cS.$0=new TextDecoder}})();(function(){G.$8=null;G.$1=null;G.$9=null;G.$0=null;G.$2=null;G.$3=null;G.$6=null;G.$4=null;G.$5=null;G.$7=null;G.$b=null;G.$a=null})();(function(){V.$1=null;V.$2=false})();(function(){W.$0=new Uint8Array(256);for(var e=0;e<10;e++){W.$0[48+e]=e}for(var dc=10;dc<16;dc++){W.$0[97+(dc-10)]=dc}for(var dd=10;dd<16;dd++){W.$0[65+(dd-10)]=dd}})();(function(){bg.$1={}})();(function(){cT.$0=null;cT.$1=!(typeof(TextEncoder)!=='undefined');if(!cT.$1){cT.$0=new TextEncoder}})();(function(){ct.$1=false})();(function(){cw.proxy=null;cw.support=null;var e=tab.FeatureParamsLookup.getString(51);if(!ss.isNullOrUndefined(e)){cw.proxy=new cu(e);cw.support=new cv}else{cw.proxy=new bo;cw.support=new bp}})();(function(){cY.tupleId='tuple_id';cY.groupId='group_id';cY.trailId='trail_id';cY.primitiveId='primitive_id';cY.paneIndex='pane_index';cY.paneCol='pane_col';cY.paneRow='pane_row';cY.paneLayer='pane_layer';cY.panePage='pane_page';cY.rangeMin='range_min';cY.rangeMax='range_max';cY.domainMin='domain_min';cY.domainMax='domain_max';cY.xDomains='x_domains_lookup';cY.yDomains='y_domains_lookup';cY.lookup='lookup';cY.xNumberMap='x_numbermap';cY.yNumberMap='y_numbermap';cY.dataType='dataType';cY.fieldType='fieldType';cY.cellX='cell_x';cY.cellY='cell_y';cY.markFirst='mark_first';cY.markLast='mark_last';cY.x='x';cY.y='y';cY.x1='x1';cY.y1='y1';cY.width='width';cY.height='height';cY.size='size';cY.sizeLabel='size_label';cY.hasPerMarkSizeEncoding='has_per_mark_size_encoding';cY.rho='rho';cY.rho1='rho1';cY.theta='theta';cY.theta1='theta1';cY.xPrev='x_prev';cY.yPrev='y_prev';cY.xNext='x_next';cY.yNext='y_next';cY.color='color';cY.hasPerMarkColorEncoding='has_per_mark_color_encoding';cY.alpha='alpha';cY.haloColor='halo_color';cY.haloAlpha='halo_alpha';cY.hasHalos='has_halos';cY.shapeId='shape_id';cY.clipWidth='clip_width';cY.clipHeight='clip_height';cY.userPaneCol='user_pane_col';cY.userPaneRow='user_pane_row';cY.userPaneIndex='user_pane_index';cY.xCellOffsets='x_cell_offsets';cY.yCellOffsets='y_cell_offsets';cY.xPixelOffsets='x_pixel_offsets';cY.yPixelOffsets='y_pixel_offsets';cY.xCellWidths='x_cell_widths';cY.yCellHeights='y_cell_heights';cY.xPixelWidths='x_pixel_widths';cY.yPixelHeights='y_pixel_heights';cY.userPaneInfo='user_pane_info';cY.minBarHeight='min_bar_height';cY.minBarWidth='min_bar_width';cY.drawBorder='draw_border';cY.borderColor='border_color';cY.selectedHaloColor='selected_halo_color';cY.selectedMultiPrimHaloColor='selected_multi_prim_halo_color';cY.highlightedHaloColor='highlighted_halo_color';cY.backgroundColor='background_color';cY.wrapDomain='wrap_domain';cY.hasFoldedAxis='has_folded_axis';cY.markFlags='mark_flags';cY.paneFlags='pane_flags';cY.handleSpecialsX='handle_specials_x';cY.handleSpecialsY='handle_specials_y';cY.scaleTypeX='scale_type_x';cY.scaleTypeY='scale_type_y';cY.hasEmptyOrEqualAxis='has_empty_or_equal_axis';cY.hasSortEncoding='has_sort_encoding';cY.independentAxis='independent_axis';cY.dropLineFlags='drop_line_flags';cY.lineInterpolation='line_interp';cY.markStackIndex='tc_stack_index';cY.isMarkStacked='is_mark_stacked';cY.currStackedVal='tc_curr_stack_value';cY.prevStackedVal='tc_prev_stack_value';cY.scaledStartPoint='scaled_start_point';cY.scaledEndPoint='scaled_end_point';cY.exclPrevLowerStackedVal='tc_prev_excl_stack_value';cY.exclNextLowerStackedVal='tc_next_excl_stack_value';cY.isMarkTotal='is_mark_total';cY.xProj='x_proj';cY.yProj='y_proj';cY.paneHasBackground='pane_has_background';cY.panePxLeft='pane_px_left';cY.panePxRight='pane_px_right';cY.panePxTop='pane_px_top';cY.panePxBottom='pane_px_bottom';cY.textRunOffset='text_run_offset';cY.textRunCount='text_run_count';cY.formattedTextRunOffset='formatted_text_run_offset';cY.formattedTextRunCount='formatted_text_run_count';cY.geometry='geometry';cY.geometryTable='geoTable';cY.pageTrailMarksToTrail='page_trail_marks_to_trail';cY.markTrailCount='mark_trail_count';cY.markTrailAutoColor='mark_trail_auto_color';cY.markTrailColor='mark_trail_color';cY.markTrailTransparency='mark_trail_transparency';cY.markTrailStartEffect='mark_trail_start_effect';cY.markTrailEndEffect='mark_trail_end_effect';cY.isTextTable='is_text_table';cY.textMaxWidth='text_max_width';cY.textMaxHeight='text_max_height';cY.textScaleFactor='text_scale_factor';cY.textRangeFactor='text_range_factor';cY.textFontMin='text_font_min';cY.textFitStyle='text_fit_style';cY.textRunPosition='text_run_position';cY.textCompositionOutput='text_composition_output';cY.textRunTable='TextRunTable';cY.formattedTextRunTable='FormattedTextRunTable';cY.textRun='text_run';cY.textRunX='text_run_x';cY.textRunY='text_run_y';cY.textRunXRemote='text_run_x_remote';cY.textRunYRemote='text_run_y_remote';cY.textStyleID='text_style_id';cY.hasFontSizeOverride='has_font_size_override';cY.textStyleTable='TextStyleTable';cY.formattedTextStyleTable='FormattedTextStyleTable';cY.font='font';cY.fontSize='font_size';cY.textStyleColor='text_style_color';cY.fontStyle='font_style';cY.fontWeight='font_weight';cY.textDecoration='text_decoration';cY.textOrientation='text_orientation';cY.textAlignment='text_alignment';cY.underline='underline';cY.strikethrough='strikethrough';cY.ascent='ascent';cY.leading='leading';cY.fontHeight='font_height';cY.hAlign='hAlign';cY.vAlign='vAlign';cY.textWrapMode='text_wrap_mode';cY.labelTargetPrimitiveId='label_target_primitive_id';cY.labelOnePerGroup='label_one_per_group';cY.showLabels='ShowLabels';cY.showRunningOrderLabels='ShowRunningOrderLabels';cY.labelMode='LabelMode';cY.predictionIntervalUpperEnd='prediction_interval_upper_end';cY.predictionIntervalLowerEnd='prediction_interval_lower_end';cY.predictionIntervalUpperEndMeasure='prediction_interval_upper_end_measure';cY.predictionIntervalLowerEndMeasure='prediction_interval_lower_end_measure';cY.predictionWhiskerWidth='prediction_whisker_width';cY.colors='Colors';cY.column='Column';cY.encodingDomains='EncodingDomains';cY.defaultParamID='DefaultParamID';cY.domain='Domain';cY.domainExtents='DomainExtents';cY.domainOrigin='DomainOrigin';cY.drawFirsts='DrawFirsts';cY.drawLasts='DrawLasts';cY.drawPanes='DrawPanes';cY.encodings='Encodings';cY.endIndex='EndIndex';cY.geometries='Geometries';cY.left='Left';cY.lineTupleIds='LineTupleIds';cY.lowerEnds='LowerEnds';cY.mapDomainExtents='MapDomainExtents';cY.markType='MarkType';cY.maxAlpha='MaxAlpha';cY.oppositeAxes='OppositeAxes';cY.pageIndexes='PageIndexes';cY.paneId='PaneId';cY.paneKey='PaneKey';cY.panes='Panes';cY.part='Part';cY.pixelExtents='PixelExtents';cY.presModel='PresModel';cY.rect='Rect';cY.renderNodes='RenderNodes';cY.renderOnTop='RenderOnTop';cY.row='Row';cY.startIndex='StartIndex';cY.textAttributes='TextAttributes';cY.textTable='TextTable';cY.textTableHelper='TextTableHelper';cY.textEncodingTable='TextEncodingTable';cY.top='Top';cY.trailOverrides='TrailOverrides';cY.tupleIds='TupleIds';cY.type='Type';cY.upperEnds='UpperEnds';cY.useYAxis='UseYAxis';cY.vizType='VizType';cY.widths='Widths';cY.extendedDomain='ExtendedDomain';cY.markLayoutTempKeys='MarkLayoutTempKeys';cY.partition='Partition';cY.pdMarks='PDMarks';cY.axisEncodings='AxisEncodings';cY.inheritedSceneBackgroundColor='SceneBGColor';cY.isSceneBackgroundOpaque='IsSceneBGOpaque';cY.labelStore='LabelStore';cY.primitiveType='PrimitiveType';cY.mapPackage='MapPackage';cY.mappedImageModel='MappedImageModel';cY.modelNumber='ModelNumber';cY.waitForImages='WaitForImages';cY.waitTileFill='WaitTileFill';cY.wrapCount='WrapCount';cY.mapCode='MapCode';cY.sourceName='SourceName';cY.mapProvider='MapProvider';cY.mapLayersModel='MapLayersModel';cY.markLabelPadding='mark_label_padding'})()})();;
/*! BEGIN SpiffUI */
var IScroll=function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"";this.options.useTransition=r.hasTransition&&this.options.useTransition;this.options.useTransform=r.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;this.options.tap===!0&&(this.options.tap="tap");this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=i;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(n.PointerEvent?(r.addEvent(this.indicator,"pointerdown",this),r.addEvent(n,"pointerup",this)):n.MSPointerEvent&&(r.addEvent(this.indicator,"MSPointerDown",this),r.addEvent(n,"MSPointerUp",this))),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)))}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.momentum=function(n,t,r,u,f){var s=n-t,o=i.abs(s)/r,e,h,c=.0006;return e=n+o*o/(2*c)*(s<0?-1:1),h=o/c,e<u?(e=f?u-f/2.5*(o/8):u,s=i.abs(e-n),h=s/o):e>0&&(e=f?f/2.5*(o/8):0,s=i.abs(n)+e,h=s/o),{destination:i.round(e),duration:h}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:navigator.msPointerEnabled,hasTransition:u("transition")in f}),r.isAndroidBrowser=/Android/.test(n.navigator.appVersion)&&/Version\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t);n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0);r.pageX=n.pageX;r.pageY=n.pageY;n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;i.tagName!="SELECT"&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"&&(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();return u.prototype={version:"5.0.6",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=!1;this.startTime=r.getTime();this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1);this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=u.pageX;this.pointY=u.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0;u=this.hasVerticalScroll?u:0;f=this.x+t;e=this.y+u;(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX);(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY);this.directionX=t>0?-1:t<0?1:0;this.directionY=u>0?-1:u<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(f,e);c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y);this._execEvent("scroll")}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.scrollTo(t,u),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved){this.options.tap&&r.tap(n,this.options.tap);this.options.click&&r.click(n);return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic);this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=r.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]);this._events[n].push(t)},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].call(this)}},scrollBy:function(n,t,i,r){n=this.x+n;t=this.y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular;!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn);this._execEvent("scroll")},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left;o.top-=this.wrapperOffset.top;u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2));f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t;this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this);i(n,"resize",this);this.options.click&&i(this.wrapper,"click",this,!0);this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this));r.hasPointer&&!this.options.disablePointer&&(n.PointerEvent?(i(this.wrapper,"pointerdown",this),i(u,"pointermove",this),i(u,"pointercancel",this),i(u,"pointerup",this)):n.MSPointerEvent&&(i(this.wrapper,"MSPointerDown",this),i(u,"MSPointerMove",this),i(u,"MSPointerCancel",this),i(u,"MSPointerUp",this)));r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this));i(this.scroller,"transitionend",this);i(this.scroller,"webkitTransitionEnd",this);i(this.scroller,"oTransitionEnd",this);i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d]/g,""),u=+t.top.replace(/[^-\d]/g,"")),{x:i,y:u}},_initIndicators:function(){var i=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="object",u=typeof this.options.scrollbars!="string",n=[],t,r;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),r=n.length;r--;)this.indicators[r]=new e(this,n[r]);this.on("refresh",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].refresh()});this.on("destroy",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].destroy();delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"mousewheel",this);r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"mousewheel",this);r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){var f,t,r,u,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400),"wheelDeltaX"in n)f=n.wheelDeltaX/120,t=n.wheelDeltaY/120;else if("wheelDelta"in n)f=t=n.wheelDelta/120,n.shiftKey?t=0:f=0;else if("detail"in n)f=t=-n.detail/3,n.shiftKey?t=0:f=0;else return;if(f*=this.options.mouseWheelSpeed,t*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(f=t,t=0),this.options.snap){r=this.currentPage.pageX;u=this.currentPage.pageY;f>0?r--:f<0&&r++;t>0?u--:t<0&&u++;this.goToPage(r,u);return}r=this.x+i.round(this.hasHorizontalScroll?f*this.options.invertWheelDirection:0);u=this.y+i.round(this.hasVerticalScroll?t*this.options.invertWheelDirection:0);r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX);u>0?u=0:u<this.maxScrollY&&(u=this.maxScrollY);(r!==this.x||u!==this.y)&&n.preventDefault();this.scrollTo(r,u,0)}},_initSnap:function(){this.currentPage={};typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c;n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing;n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0);t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r;this.currentPage={x:f,y:e,pageX:n,pageY:t};this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++;i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++);this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--;i<0&&this.hasVerticalScroll&&(i=0,r--);this.goToPage(i,r,n,t)},_initKeys:function(){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},t;if(typeof this.options.keyBindings=="object")for(t in this.options.keyBindings)typeof this.options.keyBindings[t]=="string"&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1);this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+.25,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX;f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0;f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0);f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0);this.scrollTo(u,f,0);this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1;f._translate(n,t);f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i;v=u(a);y=(n-e)*v+e;p=(t-s)*v+s;f._translate(y,p);f.isAnimating&&o(c)}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0;c()},handleEvent:function(n){if(n.type!="MSPointerDown"&&n.type!="MSPointerMove"&&n.type!="MSPointerCancel"&&n.type!="MSPointerUp"&&n.type!="pointerdown"&&n.type!="pointermove"&&n.type!="pointercancel"&&n.type!="pointerup"||n.pointerType!="mouse"&&n.pointerType!=4)switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}},e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,"MSPointerDown",this),r.removeEvent(this.indicator,"pointerdown",this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,"MSPointerUp",this),r.removeEvent(n,"pointerup",this),r.removeEvent(n,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault();t.stopPropagation();this.transitionTime(0);this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=r.getTime();this.options.disableTouch||r.addEvent(n,"touchmove",this);this.options.disablePointer||(n.PointerEvent?r.addEvent(n,"pointermove",this):n.MSPointerEvent&&r.addEvent(n,"MSPointerMove",this));this.options.disableMouse||r.addEvent(n,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;i=t.pageX-this.lastPointX;this.lastPointX=t.pageX;u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;f=this.x+i;e=this.y+u;this._pos(f,e);n.preventDefault();n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0;this.indicatorStyle[r.style.transitionDuration]=n+"ms"},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var n=i.round(this.sizeRatioX*this.scroller.x)||0,t=i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY));this.x=n;this.y=t;this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX);t<0?t=0:t>this.maxPosY&&(t=this.maxPosY);n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x;t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(n,t)}},u.ease=r.ease,u}(window,document,Math);
/** @license React v16.5.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(D,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define(k):D.React=k()})(this,function(){function D(a,b,c,d,g,na,e,h){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[c,d,g,na,e,h],oa=0;a=Error(b.replace(/%s/g,function(){return f[oa++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}function k(a){for(var b=arguments.length-1,c="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);D(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",c)}function p(a,b,c){this.props=a;this.context=b;this.refs=S;this.updater=c||T}function U(){}function E(a,b,c){this.props=a;this.context=b;this.refs=S;this.updater=c||T}function F(){if(!G){var a=e.timesOutAt;H?I():H=!0;J(pa,a)}}function V(a){a=e;var b=e.next;if(e===b)e=null;else{var c=e.previous;e=c.next=b;b.previous=c}a.next=a.previous=null;a=a.callback;a(W)}function pa(a){G=!0;W.didTimeout=a;try{if(a)for(;null!==e;){var b=m();if(e.timesOutAt<=b){do V();while(null!==e&&e.timesOutAt<=b)}else break}else if(null!==e){do V();while(null!==e&&0<q()-m())}}finally{G=!1,null!==e?F(e):H=!1}}function X(a,b,c){var d=void 0,g={},e=null,f=null;if(null!=b)for(d in void 0!==b.ref&&(f=b.ref),void 0!==b.key&&(e=""+b.key),b)Y.call(b,d)&&!Z.hasOwnProperty(d)&&(g[d]=b[d]);var h=arguments.length-2;if(1===h)g.children=c;else if(1<h){for(var k=Array(h),n=0;n<h;n++)k[n]=arguments[n+2];g.children=k}if(a&&a.defaultProps)for(d in h=a.defaultProps,h)void 0===g[d]&&(g[d]=h[d]);return{$$typeof:r,type:a,key:e,ref:f,props:g,_owner:w.current}}function qa(a,b){return{$$typeof:r,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function K(a){return"object"===typeof a&&null!==a&&a.$$typeof===r}function ra(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function aa(a,b,c,d){if(x.length){var g=x.pop();g.result=a;g.keyPrefix=b;g.func=c;g.context=d;g.count=0;return g}return{result:a,keyPrefix:b,func:c,context:d,count:0}}function ba(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>x.length&&x.push(a)}function L(a,b,c,d){var g=typeof a;if("undefined"===g||"boolean"===g)a=null;var e=!1;if(null===a)e=!0;else switch(g){case"string":case"number":e=!0;break;case"object":switch(a.$$typeof){case r:case sa:e=!0}}if(e)return c(d,a,""===b?"."+M(a,0):b),1;e=0;b=""===b?".":b+":";if(Array.isArray(a))for(var f=0;f<a.length;f++){g=a[f];var h=b+M(g,f);e+=L(g,h,c,d)}else if(null===a||"object"!==typeof a?h=null:(h=ca&&a[ca]||a["@@iterator"],h="function"===typeof h?h:null),"function"===typeof h)for(a=h.call(a),f=0;!(g=a.next()).done;)g=g.value,h=b+M(g,f++),e+=L(g,h,c,d);else"object"===g&&(c=""+a,k("31","[object Object]"===c?"object with keys {"+Object.keys(a).join(", ")+"}":c,""));return e}function N(a,b,c){return null==a?0:L(a,"",b,c)}function M(a,b){return"object"===typeof a&&null!==a&&null!=a.key?ra(a.key):b.toString(36)}function ta(a,b,c){a.func.call(a.context,b,a.count++)}function ua(a,b,c){var d=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?O(a,d,c,function(a){return a}):null!=a&&(K(a)&&(a=qa(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(da,"$&/")+"/")+c)),d.push(a))}function O(a,b,c,d,e){var g="";null!=c&&(g=(""+c).replace(da,"$&/")+"/");b=aa(b,g,d,e);N(a,ua,b);ba(b)}function va(a,b){var c=w.currentDispatcher;null===c?k("277"):void 0;return c.readContext(a,b)}var f="function"===typeof Symbol&&Symbol.for,r=f?Symbol.for("react.element"):60103,sa=f?Symbol.for("react.portal"):60106,l=f?Symbol.for("react.fragment"):60107,P=f?Symbol.for("react.strict_mode"):60108,wa=f?Symbol.for("react.profiler"):60114,xa=f?Symbol.for("react.provider"):60109,ya=f?Symbol.for("react.context"):60110,za=f?Symbol.for("react.async_mode"):60111,Aa=f?Symbol.for("react.forward_ref"):60112;f&&Symbol.for("react.placeholder");var ca="function"===typeof Symbol&&Symbol.iterator,ea=Object.getOwnPropertySymbols,Ba=Object.prototype.hasOwnProperty,Ca=Object.prototype.propertyIsEnumerable,y=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(d){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var d,e=1;e<arguments.length;e++){var f=Object(arguments[e]);for(var k in f)Ba.call(f,k)&&(c[k]=f[k]);if(ea){d=ea(f);for(var h=0;h<d.length;h++)Ca.call(f,d[h])&&(c[d[h]]=f[d[h]])}}return c},T={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,c){},enqueueReplaceState:function(a,b,c,d){},enqueueSetState:function(a,b,c,d){}},S={};p.prototype.isReactComponent={};p.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?k("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};p.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};U.prototype=p.prototype;f=E.prototype=new U;f.constructor=E;y(f,p.prototype);f.isPureReactComponent=!0;var e=null,G=!1,H=!1;f="object"===typeof performance&&"function"===typeof performance.now;var W={timeRemaining:f?function(){var a=q()-performance.now();return 0<a?a:0}:function(){var a=q()-Date.now();return 0<a?a:0},didTimeout:!1},Da=Date,Ea="function"===typeof setTimeout?setTimeout:void 0,Fa="function"===typeof clearTimeout?clearTimeout:void 0,fa="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,ha="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,ia,ja,ka=function(a){ia=fa(function(b){Fa(ja);a(b)});ja=Ea(function(){ha(ia);a(m())},100)};if(f){var Ga=performance;var m=function(){return Ga.now()}}else m=function(){return Da.now()};if("undefined"===typeof window){var la=-1;var J=function(a,b){la=setTimeout(a,0,!0)};var I=function(){clearTimeout(la)};var q=function(){return 0}}else if(window._schedMock)f=window._schedMock,J=f[0],I=f[1],q=f[2];else{"undefined"!==typeof console&&("function"!==typeof fa&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof ha&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var z=null,A=!1,t=-1,u=!1,Q=!1,B=0,C=33,v=33;q=function(){return B};var R="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(a){if(a.source===window&&a.data===R){A=!1;var b=m();a=!1;if(0>=B-b)if(-1!==t&&t<=b)a=!0;else{u||(u=!0,ka(ma));return}t=-1;b=z;z=null;if(null!==b){Q=!0;try{b(a)}finally{Q=!1}}}},!1);var ma=function(a){u=!1;var b=a-B+v;b<v&&C<v?(8>b&&(b=8),v=b<C?C:b):C=b;B=a+v;A||(A=!0,window.postMessage(R,"*"))};J=function(a,b){z=a;t=b;Q?window.postMessage(R,"*"):u||(u=!0,ka(ma))};I=function(){z=null;A=!1;t=-1}}var Ha=0,w={current:null,currentDispatcher:null};f={ReactCurrentOwner:w,assign:y};y(f,{Schedule:{unstable_cancelScheduledWork:function(a){var b=a.next;if(null!==b){if(b===a)e=null;else{a===e&&(e=b);var c=a.previous;c.next=b;b.previous=c}a.next=a.previous=null}},unstable_now:m,unstable_scheduleWork:function(a,b){var c=m();b=void 0!==b&&null!==b&&null!==b.timeout&&void 0!==b.timeout?c+b.timeout:c+5E3;a={callback:a,timesOutAt:b,next:null,previous:null};if(null===e)e=a.next=a.previous=a,F(e);else{c=null;var d=e;do{if(d.timesOutAt>b){c=d;break}d=d.next}while(d!==e);null===c?c=e:c===e&&(e=a,F(e));b=c.previous;b.next=c.previous=a;a.next=c;a.previous=b}return a}},ScheduleTracing:{__interactionsRef:null,__subscriberRef:null,unstable_clear:function(a){return a()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Ha},unstable_subscribe:function(a){},unstable_trace:function(a,b,c){return c()},unstable_unsubscribe:function(a){},unstable_wrap:function(a){return a}}});var Y=Object.prototype.hasOwnProperty,Z={key:!0,ref:!0,__self:!0,__source:!0},da=/\/+/g,x=[];l={Children:{map:function(a,b,c){if(null==a)return a;var d=[];O(a,d,null,b,c);return d},forEach:function(a,b,c){if(null==a)return a;b=aa(null,null,b,c);N(a,ta,b);ba(b)},count:function(a){return N(a,function(){return null},null)},toArray:function(a){var b=[];O(a,b,null,function(a){return a});return b},only:function(a){K(a)?void 0:k("143");return a}},createRef:function(){return{current:null}},Component:p,PureComponent:E,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:ya,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,Provider:null,Consumer:null,unstable_read:null};a.Provider={$$typeof:xa,_context:a};a.Consumer=a;a.unstable_read=va.bind(null,a);return a},forwardRef:function(a){return{$$typeof:Aa,render:a}},Fragment:l,StrictMode:P,unstable_AsyncMode:za,unstable_Profiler:wa,createElement:X,cloneElement:function(a,b,c){null===a||void 0===a?k("267",a):void 0;var d=void 0,e=y({},a.props),f=a.key,m=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(m=b.ref,h=w.current);void 0!==b.key&&(f=""+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(d in b)Y.call(b,d)&&!Z.hasOwnProperty(d)&&(e[d]=void 0===b[d]&&void 0!==l?l[d]:b[d])}d=arguments.length-2;if(1===d)e.children=c;else if(1<d){l=Array(d);for(var n=0;n<d;n++)l[n]=arguments[n+2];e.children=l}return{$$typeof:r,type:a.type,key:f,ref:m,props:e,_owner:h}},createFactory:function(a){var b=X.bind(null,a);b.type=a;return b},isValidElement:K,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:f};l=(P={default:l},l)||P;return l.default||l});
/** @license React v16.5.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(T,Ua){"object"===typeof exports&&"undefined"!==typeof module?module.exports=Ua(require("react")):"function"===typeof define&&define.amd?define(["react"],Ua):T.ReactDOM=Ua(T.React)})(this,function(T){function Ua(a,b,c,d,e,f,g,h){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[c,d,e,f,g,h],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}function m(a){for(var b=arguments.length-1,c="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);Ua(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",c)}function jg(a,b,c,d,e,f,g,h,k){Va=!1;wb=null;kg.apply(lg,arguments)}function mg(a,b,c,d,e,f,g,h,k){jg.apply(this,arguments);if(Va){if(Va){var l=wb;Va=!1;wb=null}else m("198"),l=void 0;xb||(xb=!0,uc=l)}}function Kd(){if(yb)for(var a in va){var b=va[a],c=yb.indexOf(a);-1<c?void 0:m("96",a);if(!zb[c]){b.extractEvents?void 0:m("97",a);zb[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;vc.hasOwnProperty(h)?m("99",h):void 0;vc[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&Ld(k[e],g,h);e=!0}else f.registrationName?(Ld(f.registrationName,g,h),e=!0):e=!1;e?void 0:m("98",d,a)}}}}function Ld(a,b,c){wa[a]?m("100",a):void 0;wa[a]=b;wc[a]=b.eventTypes[c].dependencies}function Md(a,b,c,d){b=a.type||"unknown-event";a.currentTarget=Nd(d);mg(b,c,void 0,a);a.currentTarget=null}function xa(a,b){null==b?m("30"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function Ab(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function Od(a,b){var c=a.stateNode;if(!c)return null;var d=xc(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;c&&"function"!==typeof c?m("231",b,typeof c):void 0;return c}function yc(a,b){null!==a&&(Wa=xa(Wa,a));a=Wa;Wa=null;if(a&&(b?Ab(a,ng):Ab(a,og),Wa?m("95"):void 0,xb))throw b=uc,xb=!1,uc=null,b}function Bb(a){if(a[U])return a[U];for(;!a[U];)if(a.parentNode)a=a.parentNode;else return null;a=a[U];return 7===a.tag||8===a.tag?a:null}function Pd(a){a=a[U];return!a||7!==a.tag&&8!==a.tag?null:a}function na(a){if(7===a.tag||8===a.tag)return a.stateNode;m("33")}function zc(a){return a[Cb]||null}function V(a){do a=a.return;while(a&&7!==a.tag);return a?a:null}function Qd(a,b,c){if(b=Od(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a)}function pg(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=V(b);for(b=c.length;0<b--;)Qd(c[b],"captured",a);for(b=0;b<c.length;b++)Qd(c[b],"bubbled",a)}}function Ac(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Od(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function qg(a){a&&a.dispatchConfig.registrationName&&Ac(a._targetInst,null,a)}function ya(a){Ab(a,pg)}function Db(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}function Eb(a){if(Bc[a])return Bc[a];if(!za[a])return a;var b=za[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Rd)return Bc[a]=b[c];return a}function Sd(){if(Fb)return Fb;var a,b=Cc,c=b.length,d,e="value"in da?da.value:da.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return Fb=e.slice(a,1<d?1-d:void 0)}function Gb(){return!0}function Hb(){return!1}function L(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?Gb:Hb;this.isPropagationStopped=Hb;return this}function rg(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function sg(a){a instanceof this?void 0:m("279");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function Td(a){a.eventPool=[];a.getPooled=rg;a.release=sg}function Ud(a,b){switch(a){case"keyup":return-1!==tg.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Vd(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function ug(a,b){switch(a){case"compositionend":return Vd(b);case"keypress":if(32!==b.which)return null;Wd=!0;return Xd;case"textInput":return a=b.data,a===Xd&&Wd?null:a;default:return null}}function vg(a,b){if(Aa)return"compositionend"===a||!Dc&&Ud(a,b)?(a=Sd(),Fb=Cc=da=null,Aa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Yd&&"ko"!==b.locale?null:b.data;default:return null}}function Zd(a){if(a=$d(a)){"function"!==typeof Ec?m("280"):void 0;var b=xc(a.stateNode);Ec(a.stateNode,a.type,b)}}function ae(a){Ba?Ca?Ca.push(a):Ca=[a]:Ba=a}function be(){if(Ba){var a=Ba,b=Ca;Ca=Ba=null;Zd(a);if(b)for(a=0;a<b.length;a++)Zd(b[a])}}function ce(a,b){if(Fc)return a(b);Fc=!0;try{return de(a,b)}finally{if(Fc=!1,null!==Ba||null!==Ca)ee(),be()}}function fe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!wg[a.type]:"textarea"===b?!0:!1}function Gc(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function ge(a){if(!ea)return!1;a="on"+a;var b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function he(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function xg(a){var b=he(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function Ib(a){a._valueTracker||(a._valueTracker=xg(a))}function ie(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d="";a&&(d=he(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){if(null===a||"object"!==typeof a)return null;a=je&&a[je]||a["@@iterator"];return"function"===typeof a?a:null}function Da(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case ke:return"AsyncMode";case fa:return"Fragment";case Ea:return"Portal";case Hc:return"Profiler";case le:return"StrictMode";case me:return"Placeholder"}if("object"===typeof a){switch(a.$$typeof){case ne:return"Context.Consumer";case oe:return"Context.Provider";case pe:var b=a.render;b=b.displayName||b.name||"";return a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef")}if("function"===typeof a.then&&(a=1===a._reactStatus?a._reactResult:null))return Da(a)}return null}function qe(a){var b="";do{a:switch(a.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var c=a._debugOwner,d=a._debugSource,e=Da(a.type);var f=null;c&&(f=Da(c.type));c=e;e="";d?e=" (at "+d.fileName.replace(yg,"")+":"+d.lineNumber+")":f&&(e=" (created by "+f+")");f="\n    in "+(c||"Unknown")+e;break a;default:f=""}b+=f;a=a.return}while(a);return b}function zg(a){if(re.call(se,a))return!0;if(re.call(te,a))return!1;if(Ag.test(a))return se[a]=!0;te[a]=!0;return!1}function Bg(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function Cg(a,b,c,d){if(null===b||"undefined"===typeof b||Bg(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function M(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}function Ic(a,b,c,d){var e=E.hasOwnProperty(b)?E[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(Cg(b,c,e,d)&&(c=null),d||null===e?zg(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function ha(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function Jc(a,b){var c=b.checked;return H({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function ue(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=ha(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function ve(a,b){b=b.checked;null!=b&&Ic(a,"checked",b,!1)}function Kc(a,b){ve(a,b);var c=ha(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?Lc(a,b.type,c):b.hasOwnProperty("defaultValue")&&Lc(a,b.type,ha(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function we(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}function Lc(a,b,c){if("number"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function xe(a,b,c){a=L.getPooled(ye.change,a,b,c);a.type="change";ae(c);ya(a);return a}function Dg(a){yc(a,!1)}function Jb(a){var b=na(a);if(ie(b))return a}function Eg(a,b){if("change"===a)return b}function ze(){Ya&&(Ya.detachEvent("onpropertychange",Ae),Za=Ya=null)}function Ae(a){"value"===a.propertyName&&Jb(Za)&&(a=xe(Za,a,Gc(a)),ce(Dg,a))}function Fg(a,b,c){"focus"===a?(ze(),Ya=b,Za=c,Ya.attachEvent("onpropertychange",Ae)):"blur"===a&&ze()}function Gg(a,b){if("selectionchange"===a||"keyup"===a||"keydown"===a)return Jb(Za)}function Hg(a,b){if("click"===a)return Jb(b)}function Ig(a,b){if("input"===a||"change"===a)return Jb(b)}function Jg(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Kg[a])?!!b[a]:!1}function Mc(a){return Jg}function Be(a,b){return a===b?0!==a||0!==b||1/a===1/b:a!==a&&b!==b}function Nc(a,b){if(Be(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Lg.call(b,c[d])||!Be(a[c[d]],b[c[d]]))return!1;return!0}function $a(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!==(b.effectTag&2))return 1;for(;b.return;)if(b=b.return,0!==(b.effectTag&2))return 1}return 5===b.tag?2:3}function Ce(a){2!==$a(a)?m("188"):void 0}function Mg(a){var b=a.alternate;if(!b)return b=$a(a),3===b?m("188"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return Ce(e),a;if(g===d)return Ce(e),b;g=g.sibling}m("188")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?void 0:m("189")}}c.alternate!==d?m("190"):void 0}5!==c.tag?m("188"):void 0;return c.stateNode.current===c?a:b}function De(a){a=Mg(a);if(!a)return null;for(var b=a;;){if(7===b.tag||8===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function Kb(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function Ee(a,b){var c=a[0];a=a[1];var d="on"+(a[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c],isInteractive:b};Fe[a]=b;Oc[c]=b}function Ng(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;d=5!==d.tag?null:d.stateNode.containerInfo;if(!d)break;a.ancestors.push(c);c=Bb(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Gc(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<zb.length;h++){var k=zb[h];k&&(k=k.extractEvents(d,b,f,e))&&(g=xa(g,k))}yc(g,!1)}}function u(a,b){if(!b)return null;var c=(Ge(a)?He:Lb).bind(null,a);b.addEventListener(a,c,!1)}function Mb(a,b){if(!b)return null;var c=(Ge(a)?He:Lb).bind(null,a);b.addEventListener(a,c,!0)}function He(a,b){Ie(Lb,a,b)}function Lb(a,b){if(Nb){var c=Gc(b);c=Bb(c);null===c||"number"!==typeof c.tag||2===$a(c)||(c=null);if(Ob.length){var d=Ob.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{ce(Ng,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Ob.length&&Ob.push(a)}}}function Je(a){Object.prototype.hasOwnProperty.call(a,Pb)||(a[Pb]=Og++,Ke[a[Pb]]={});return Ke[a[Pb]]}function Pc(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Le(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Me(a,b){var c=Le(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Le(c)}}function Ne(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Ne(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function Oe(){for(var a=window,b=Pc();b instanceof a.HTMLIFrameElement;){try{a=b.contentDocument.defaultView}catch(c){break}b=Pc(a.document)}return b}function Qc(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function Pe(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(Rc||null==Fa||Fa!==Pc(c))return null;c=Fa;"selectionStart"in c&&Qc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return ab&&Nc(ab,c)?null:(ab=c,a=L.getPooled(Qe.select,Sc,a,b),a.type="select",a.target=Fa,ya(a),a)}function Pg(a){var b="";T.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function Tc(a,b){a=H({children:void 0},b);if(b=Pg(b.children))a.children=b;return a}function Ga(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+ha(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Uc(a,b){null!=b.dangerouslySetInnerHTML?m("91"):void 0;return H({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Re(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?m("92"):void 0,Array.isArray(b)&&(1>=b.length?void 0:m("93"),b=b[0]),c=b),null==c&&(c=""));a._wrapperState={initialValue:ha(c)}}function Se(a,b){var c=ha(b.value),d=ha(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=""+d)}function Te(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vc(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Te(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function Ue(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--");var e=c;var f=b[c];e=null==f||"boolean"===typeof f||""===f?"":d||"number"!==typeof f||0===f||bb.hasOwnProperty(e)&&bb[e]?(""+f).trim():f+"px";"float"===c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}function Wc(a,b){b&&(Qg[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?m("137",a,""):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?m("60"):void 0,"object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML?void 0:m("61")),null!=b.style&&"object"!==typeof b.style?m("62",""):void 0)}function Xc(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function W(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Je(a);b=wc[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case"scroll":Mb("scroll",a);break;case"focus":case"blur":Mb("focus",a);Mb("blur",a);c.blur=!0;c.focus=!0;break;case"cancel":case"close":ge(e)&&Mb(e,a);break;case"invalid":case"submit":case"reset":break;default:-1===cb.indexOf(e)&&u(e,a)}c[e]=!0}}}function Qb(){}function Ve(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function Yc(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function Zc(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function We(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function F(a,b){0>Ha||(a.current=$c[Ha],$c[Ha]=null,Ha--)}function J(a,b,c){Ha++;$c[Ha]=a.current;a.current=b}function Ia(a,b){var c=a.type.contextTypes;if(!c)return oa;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function v(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Ja(a){F(K,a);F(G,a)}function ad(a){F(K,a);F(G,a)}function Xe(a,b,c){G.current!==oa?m("168"):void 0;J(G,b,a);J(K,c,a)}function bd(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)e in a?void 0:m("108",Da(b)||"Unknown",e);return H({},c,d)}function Rb(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||oa;pa=G.current;J(G,b,a);J(K,K.current,a);return!0}function Ye(a,b,c){var d=a.stateNode;d?void 0:m("169");c?(b=bd(a,b,pa),d.__reactInternalMemoizedMergedChildContext=b,F(K,a),F(G,a),J(G,b,a)):F(K,a);J(K,c,a)}function Ze(a){return function(b){try{return a(b)}catch(c){}}}function Rg(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);cd=Ze(function(a){return b.onCommitFiberRoot(c,a)});dd=Ze(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}function ia(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=null;this.index=0;this.ref=null;this.pendingProps=b;this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function $e(a){a=a.prototype;return!(!a||!a.isReactComponent)}function Sb(a,b,c){var d=a.alternate;null===d?(d=new ia(a.tag,b,a.key,a.mode),d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=b,d.effectTag=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null);d.childExpirationTime=a.childExpirationTime;d.expirationTime=b!==a.pendingProps?c:a.expirationTime;d.child=a.child;d.memoizedProps=a.memoizedProps;d.memoizedState=a.memoizedState;d.updateQueue=a.updateQueue;d.firstContextDependency=a.firstContextDependency;d.sibling=a.sibling;d.index=a.index;d.ref=a.ref;return d}function ed(a,b,c){var d=a.type,e=a.key;a=a.props;var f=void 0;if("function"===typeof d)f=$e(d)?2:4;else if("string"===typeof d)f=7;else a:switch(d){case fa:return Tb(a.children,b,c,e);case ke:f=10;b|=3;break;case le:f=10;b|=2;break;case Hc:return d=new ia(15,a,e,b|4),d.type=Hc,d.expirationTime=c,d;case me:f=16;break;default:if("object"===typeof d&&null!==d)switch(d.$$typeof){case oe:f=12;break a;case ne:f=11;break a;case pe:f=13;break a;default:if("function"===typeof d.then){f=4;break a}}m("130",null==d?d:typeof d,"")}b=new ia(f,a,e,b);b.type=d;b.expirationTime=c;return b}function Tb(a,b,c,d){a=new ia(9,a,d,b);a.expirationTime=c;return a}function fd(a,b,c){a=new ia(8,a,null,b);a.expirationTime=c;return a}function gd(a,b,c){b=new ia(6,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Ub(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c>b?a.earliestPendingTime=b:a.latestPendingTime<b&&(a.latestPendingTime=b);hd(b,a)}function hd(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;e=0!==e?e:f;0===e&&(0===a||d>a)&&(e=d);a=e;0!==a&&0!==c&&c<a&&(a=c);b.nextExpirationTimeToWorkOn=e;b.expirationTime=a}function Vb(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function id(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qa(a){return{expirationTime:a,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Wb(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}function ja(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=Vb(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=Vb(a.memoizedState),e=c.updateQueue=Vb(c.memoizedState)):d=a.updateQueue=id(e):null===e&&(e=c.updateQueue=id(d));null===e||d===e?Wb(d,b):null===d.lastUpdate||null===e.lastUpdate?(Wb(d,b),Wb(e,b)):(Wb(d,b),e.lastUpdate=b)}function af(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=Vb(a.memoizedState):bf(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function bf(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=id(b));return b}function cf(a,b,c,d,e,f){switch(c.tag){case 1:return a=c.payload,"function"===typeof a?a.call(f,d,e):a;case 3:a.effectTag=a.effectTag&-1025|64;case 0:a=c.payload;e="function"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return H({},d,e);case 2:ka=!0}return d}function db(a,b,c,d,e){ka=!1;b=bf(a,b);for(var f=b.baseState,g=null,h=0,k=b.firstUpdate,l=f;null!==k;){var n=k.expirationTime;if(n>e){if(null===g&&(g=k,f=l),0===h||h>n)h=n}else l=cf(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=k:(b.lastEffect.nextEffect=k,b.lastEffect=k));k=k.next}n=null;for(k=b.firstCapturedUpdate;null!==k;){var m=k.expirationTime;if(m>e){if(null===n&&(n=k,null===g&&(f=l)),0===h||h>m)h=m}else l=cf(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=k:(b.lastCapturedEffect.nextEffect=k,b.lastCapturedEffect=k));k=k.next}null===g&&(b.lastUpdate=null);null===n?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===n&&(f=l);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=n;a.expirationTime=h;a.memoizedState=l}function df(a,b,c,d){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);ef(b.firstEffect,c);b.firstEffect=b.lastEffect=null;ef(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function ef(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;"function"!==typeof c?m("191",c):void 0;c.call(d)}a=a.nextEffect}}function Xb(a,b){return{value:a,source:b,stack:qe(b)}}function ff(a,b){var c=a.type._context;J(jd,c._currentValue,a);c._currentValue=b}function kd(a){var b=jd.current;F(jd,a);a.type._context._currentValue=b}function Yb(a,b){Zb=a;$b=La=null;a.firstContextDependency=null}function gf(a,b){if($b!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)$b=a,b=1073741823;b={context:a,observedBits:b,next:null};null===La?(null===Zb?m("277"):void 0,Zb.firstContextDependency=La=b):La=La.next=b}return a._currentValue}function ra(a){a===eb?m("174"):void 0;return a}function ld(a,b){J(fb,b,a);J(gb,a,a);J(P,eb,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Vc(null,"");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=Vc(b,c)}F(P,a);J(P,b,a)}function Ma(a){F(P,a);F(gb,a);F(fb,a)}function hf(a){ra(fb.current);var b=ra(P.current);var c=Vc(b,a.type);b!==c&&(J(gb,a,a),J(P,c,a))}function md(a){gb.current===a&&(F(P,a),F(gb,a))}function ac(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:H({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}function jf(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Nc(c,d)||!Nc(e,f):!0}function kf(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&bc.enqueueReplaceState(b,b.state,null)}function lf(a,b,c,d){var e=a.stateNode,f=v(b)?pa:G.current;e.props=c;e.state=a.memoizedState;e.refs=mf;e.context=Ia(a,f);f=a.updateQueue;null!==f&&(db(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;"function"===typeof f&&(ac(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&bc.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(db(a,f,c,e,d),e.state=a.memoizedState));"function"===typeof e.componentDidMount&&(a.effectTag|=4)}function hb(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(2!==c.tag&&3!==c.tag?m("110"):void 0,d=c.stateNode);d?void 0:m("147",a);var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===mf&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}"string"!==typeof a?m("284"):void 0;c._owner?void 0:m("254",a)}return a}function cc(a,b){"textarea"!==a.type&&m("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function nf(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=Sb(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||8!==b.tag)return b=fd(c,a.mode,d),b.return=a,b;b=e(b,c,d);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.type===c.type)return d=e(b,c.props,d),d.ref=hb(a,b,c),d.return=a,d;d=ed(c,a.mode,d);d.ref=hb(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||6!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=gd(c,a.mode,d),b.return=a,b;b=e(b,c.children||[],d);b.return=a;return b}function n(a,b,c,d,f){if(null===b||9!==b.tag)return b=Tb(c,a.mode,d,f),b.return=a,b;b=e(b,c,d);b.return=a;return b}function Ka(a,b,c){if("string"===typeof b||"number"===typeof b)return b=fd(""+b,a.mode,c),b.return=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case dc:return c=ed(b,a.mode,c),c.ref=hb(a,null,b),c.return=a,c;case Ea:return b=gd(b,a.mode,c),b.return=a,b}if(ec(b)||Xa(b))return b=Tb(b,a.mode,c,null),b.return=a,b;cc(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case dc:return c.key===e?c.type===fa?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case Ea:return c.key===e?l(a,b,c,d):null}if(ec(c)||Xa(c))return null!==e?null:n(a,b,c,d,null);cc(a,c)}return null}function u(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case dc:return a=a.get(null===d.key?c:d.key)||null,d.type===fa?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case Ea:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(ec(d)||Xa(d))return a=a.get(c)||null,n(b,a,d,e,null);cc(b,d)}return null}function nd(e,g,h,k){for(var l=null,n=null,m=g,r=g=0,q=null;null!==m&&r<h.length;r++){m.index>r?(q=m,m=null):q=m.sibling;var t=p(e,m,h[r],k);if(null===t){null===m&&(m=q);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,r);null===n?l=t:n.sibling=t;n=t;m=q}if(r===h.length)return c(e,m),l;if(null===m){for(;r<h.length;r++)if(m=Ka(e,h[r],k))g=f(m,g,r),null===n?l=m:n.sibling=m,n=m;return l}for(m=d(e,m);r<h.length;r++)if(q=u(m,e,r,h[r],k))a&&null!==q.alternate&&m.delete(null===q.key?r:q.key),g=f(q,g,r),null===n?l=q:n.sibling=q,n=q;a&&m.forEach(function(a){return b(e,a)});return l}function v(e,g,h,k){var l=Xa(h);"function"!==typeof l?m("150"):void 0;h=l.call(h);null==h?m("151"):void 0;for(var n=l=null,r=g,t=g=0,q=null,w=h.next();null!==r&&!w.done;t++,w=h.next()){r.index>t?(q=r,r=null):q=r.sibling;var z=p(e,r,w.value,k);if(null===z){r||(r=q);break}a&&r&&null===z.alternate&&b(e,r);g=f(z,g,t);null===n?l=z:n.sibling=z;n=z;r=q}if(w.done)return c(e,r),l;if(null===r){for(;!w.done;t++,w=h.next())w=Ka(e,w.value,k),null!==w&&(g=f(w,g,t),null===n?l=w:n.sibling=w,n=w);return l}for(r=d(e,r);!w.done;t++,w=h.next())w=u(r,e,t,w.value,k),null!==w&&(a&&null!==w.alternate&&r.delete(null===w.key?t:w.key),g=f(w,g,t),null===n?l=w:n.sibling=w,n=w);a&&r.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k="object"===typeof f&&null!==f&&f.type===fa&&null===f.key;k&&(f=f.props.children);var l="object"===typeof f&&null!==f;if(l)switch(f.$$typeof){case dc:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(9===k.tag?f.type===fa:k.type===f.type){c(a,k.sibling);d=e(k,f.type===fa?f.props.children:f.props,h);d.ref=hb(a,k,f);d.return=a;a=d;break a}else{c(a,k);break}else b(a,k);k=k.sibling}f.type===fa?(d=Tb(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=ed(f,a.mode,h),h.ref=hb(a,d,f),h.return=a,a=h)}return g(a);case Ea:a:{for(k=f.key;null!==d;){if(d.key===k)if(6===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=gd(f,a.mode,h);d.return=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&8===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=fd(f,a.mode,h),d.return=a,a=d),g(a);if(ec(f))return nd(a,d,f,h);if(Xa(f))return v(a,d,f,h);l&&cc(a,f);if("undefined"===typeof f&&!k)switch(a.tag){case 2:case 3:case 0:h=a.type,m("152",h.displayName||h.name||"Component")}return c(a,d)}}function of(a,b){var c=new ia(7,null,null,0);c.type="DELETED";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function pf(a,b){switch(a.tag){case 7:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 8:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;default:return!1}}function qf(a){if(sa){var b=Na;if(b){var c=b;if(!pf(a,b)){b=Zc(c);if(!b||!pf(a,b)){a.effectTag|=2;sa=!1;X=a;return}of(X,c)}X=a;Na=We(b)}else a.effectTag|=2,sa=!1,X=a}}function rf(a){for(a=a.return;null!==a&&7!==a.tag&&5!==a.tag;)a=a.return;X=a}function od(a){if(a!==X)return!1;if(!sa)return rf(a),sa=!0,!1;var b=a.type;if(7!==a.tag||"head"!==b&&"body"!==b&&!Yc(b,a.memoizedProps))for(b=Na;b;)of(a,b),b=Zc(b);rf(a);Na=X?Zc(a.stateNode):null;return!0}function pd(){Na=X=null;sa=!1}function Sg(a){switch(a._reactStatus){case 1:return a._reactResult;case 2:throw a._reactResult;case 0:throw a;default:throw a._reactStatus=0,a.then(function(b){if(0===a._reactStatus){a._reactStatus=1;if("object"===typeof b&&null!==b){var c=b.default;b=void 0!==c&&null!==c?c:b}a._reactResult=b}},function(b){0===a._reactStatus&&(a._reactStatus=2,a._reactResult=b)}),a}}function N(a,b,c,d){b.child=null===a?sf(b,null,c,d):tf(b,a.child,c,d)}function qd(a,b,c,d,e){c=c.render;var f=b.ref;if(!K.current&&b.memoizedProps===d&&f===(null!==a?a.ref:null))return ib(a,b,e);c=c(d,f);N(a,b,c,e);b.memoizedProps=d;return b.child}function uf(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function rd(a,b,c,d,e){var f=v(c)?pa:G.current;f=Ia(b,f);Yb(b,e);c=c(d,f);b.effectTag|=1;N(a,b,c,e);b.memoizedProps=d;return b.child}function sd(a,b,c,d,e){if(v(c)){var f=!0;Rb(b)}else f=!1;Yb(b,e);if(null===a)if(null===b.stateNode){var g=v(c)?pa:G.current,h=c.contextTypes,k=null!==h&&void 0!==h;h=k?Ia(b,g):oa;var l=new c(d,h);b.memoizedState=null!==l.state&&void 0!==l.state?l.state:null;l.updater=bc;b.stateNode=l;l._reactInternalFiber=b;k&&(k=b.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=g,k.__reactInternalMemoizedMaskedChildContext=h);lf(b,c,d,e);d=!0}else{g=b.stateNode;h=b.memoizedProps;g.props=h;var n=g.context;k=v(c)?pa:G.current;k=Ia(b,k);var m=c.getDerivedStateFromProps;(l="function"===typeof m||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||n!==k)&&kf(b,g,d,k);ka=!1;var p=b.memoizedState;n=g.state=p;var u=b.updateQueue;null!==u&&(db(b,u,d,g,e),n=b.memoizedState);h!==d||p!==n||K.current||ka?("function"===typeof m&&(ac(b,c,m,d),n=b.memoizedState),(h=ka||jf(b,c,h,d,p,n,k))?(l||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(b.effectTag|=4)):("function"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=h):("function"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=h,n=g.context,k=v(c)?pa:G.current,k=Ia(b,k),m=c.getDerivedStateFromProps,(l="function"===typeof m||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||n!==k)&&kf(b,g,d,k),ka=!1,n=b.memoizedState,p=g.state=n,u=b.updateQueue,null!==u&&(db(b,u,d,g,e),p=b.memoizedState),h!==d||n!==p||K.current||ka?("function"===typeof m&&(ac(b,c,m,d),p=b.memoizedState),(m=ka||jf(b,c,h,d,n,p,k))?(l||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,p,k),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,p,k)),"function"===typeof g.componentDidUpdate&&(b.effectTag|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&n===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&n===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=p),g.props=d,g.state=p,g.context=k,d=m):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&n===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&n===a.memoizedState||(b.effectTag|=256),d=!1);return vf(a,b,c,d,f,e)}function vf(a,b,c,d,e,f){uf(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Ye(b,c,!1),ib(a,b,f);d=b.stateNode;Tg.current=b;var h=g?null:d.render();b.effectTag|=1;null!==a&&g&&(N(a,b,null,f),b.child=null);N(a,b,h,f);b.memoizedState=d.state;b.memoizedProps=d.props;e&&Ye(b,c,!0);return b.child}function wf(a){var b=a.stateNode;b.pendingContext?Xe(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Xe(a,b.context,!1);ld(a,b.containerInfo)}function fc(a,b){if(a&&a.defaultProps){b=H({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function Ug(a,b,c,d){null!==a?m("155"):void 0;var e=b.pendingProps;if("object"===typeof c&&null!==c&&"function"===typeof c.then){c=Sg(c);var f=c;f="function"===typeof f?$e(f)?3:1:void 0!==f&&null!==f&&f.$$typeof?14:4;f=b.tag=f;var g=fc(c,e);switch(f){case 1:return rd(a,b,c,g,d);case 3:return sd(a,b,c,g,d);case 14:return qd(a,b,c,g,d);default:m("283",c)}}f=Ia(b,G.current);Yb(b,d);f=c(e,f);b.effectTag|=1;if("object"===typeof f&&null!==f&&"function"===typeof f.render&&void 0===f.$$typeof){b.tag=2;v(c)?(g=!0,Rb(b)):g=!1;b.memoizedState=null!==f.state&&void 0!==f.state?f.state:null;var h=c.getDerivedStateFromProps;"function"===typeof h&&ac(b,c,h,e);f.updater=bc;b.stateNode=f;f._reactInternalFiber=b;lf(b,c,e,d);return vf(a,b,c,!0,g,d)}b.tag=0;N(a,b,f,d);b.memoizedProps=e;return b.child}function ib(a,b,c){null!==a&&(b.firstContextDependency=a.firstContextDependency);var d=b.childExpirationTime;if(0===d||d>c)return null;null!==a&&b.child!==a.child?m("153"):void 0;if(null!==b.child){a=b.child;c=Sb(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Sb(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}function Vg(a,b,c){var d=b.expirationTime;if(!K.current&&(0===d||d>c)){switch(b.tag){case 5:wf(b);pd();break;case 7:hf(b);break;case 2:v(b.type)&&Rb(b);break;case 3:v(b.type._reactResult)&&Rb(b);break;case 6:ld(b,b.stateNode.containerInfo);break;case 12:ff(b,b.memoizedProps.value)}return ib(a,b,c)}b.expirationTime=0;switch(b.tag){case 4:return Ug(a,b,b.type,c);case 0:return rd(a,b,b.type,b.pendingProps,c);case 1:var e=b.type._reactResult;d=b.pendingProps;a=rd(a,b,e,fc(e,d),c);b.memoizedProps=d;return a;case 2:return sd(a,b,b.type,b.pendingProps,c);case 3:return e=b.type._reactResult,d=b.pendingProps,a=sd(a,b,e,fc(e,d),c),b.memoizedProps=d,a;case 5:wf(b);d=b.updateQueue;null===d?m("282"):void 0;e=b.memoizedState;e=null!==e?e.element:null;db(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)pd(),b=ib(a,b,c);else{e=b.stateNode;if(e=(null===a||null===a.child)&&e.hydrate)Na=We(b.stateNode.containerInfo),X=b,e=sa=!0;e?(b.effectTag|=2,b.child=sf(b,null,d,c)):(N(a,b,d,c),pd());b=b.child}return b;case 7:hf(b);null===a&&qf(b);d=b.type;e=b.pendingProps;var f=null!==a?a.memoizedProps:null,g=e.children;Yc(d,e)?g=null:null!==f&&Yc(d,f)&&(b.effectTag|=16);uf(a,b);1073741823!==c&&b.mode&1&&e.hidden?(b.expirationTime=1073741823,b.memoizedProps=e,b=null):(N(a,b,g,c),b.memoizedProps=e,b=b.child);return b;case 8:return null===a&&qf(b),b.memoizedProps=b.pendingProps,null;case 16:return null;case 6:return ld(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=tf(b,null,d,c):N(a,b,d,c),b.memoizedProps=d,b.child;case 13:return qd(a,b,b.type,b.pendingProps,c);case 14:return e=b.type._reactResult,d=b.pendingProps,a=qd(a,b,e,fc(e,d),c),b.memoizedProps=d,a;case 9:return d=b.pendingProps,N(a,b,d,c),b.memoizedProps=d,b.child;case 10:return d=b.pendingProps.children,N(a,b,d,c),b.memoizedProps=d,b.child;case 15:return d=b.pendingProps,N(a,b,d.children,c),b.memoizedProps=d,b.child;case 12:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;b.memoizedProps=e;ff(b,f);if(null!==g){var h=g.value;f=h===f&&(0!==h||1/h===1/f)||h!==h&&f!==f?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!K.current){b=ib(a,b,c);break a}}else for(g=b.child,null!==g&&(g.return=b);null!==g;){h=g.firstContextDependency;if(null!==h){do{if(h.context===d&&0!==(h.observedBits&f)){if(2===g.tag||3===g.tag){var k=qa(c);k.tag=2;ja(g,k)}if(0===g.expirationTime||g.expirationTime>c)g.expirationTime=c;k=g.alternate;null!==k&&(0===k.expirationTime||k.expirationTime>c)&&(k.expirationTime=c);for(var l=g.return;null!==l;){k=l.alternate;if(0===l.childExpirationTime||l.childExpirationTime>c)l.childExpirationTime=c,null!==k&&(0===k.childExpirationTime||k.childExpirationTime>c)&&(k.childExpirationTime=c);else if(null!==k&&(0===k.childExpirationTime||k.childExpirationTime>c))k.childExpirationTime=c;else break;l=l.return}}k=g.child;h=h.next}while(null!==h)}else k=12===g.tag?g.type===b.type?null:g.child:g.child;if(null!==k)k.return=g;else for(k=g;null!==k;){if(k===b){k=null;break}g=k.sibling;if(null!==g){g.return=k.return;k=g;break}k=k.return}g=k}}N(a,b,e.children,c);b=b.child}return b;case 11:return f=b.type,d=b.pendingProps,e=d.children,Yb(b,c),f=gf(f,d.unstable_observedBits),e=e(f),b.effectTag|=1,N(a,b,e,c),b.memoizedProps=d,b.child;default:m("156")}}function jb(a){a.effectTag|=4}function xf(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=qe(c));null!==c&&Da(c.type);b=b.value;null!==a&&2===a.tag&&Da(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e})}}function yf(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){kb(a,c)}else b.current=null}function zf(a){"function"===typeof dd&&dd(a);switch(a.tag){case 2:case 3:yf(a);var b=a.stateNode;if("function"===typeof b.componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){kb(a,c)}break;case 7:yf(a);break;case 6:Af(a)}}function Bf(a){return 7===a.tag||5===a.tag||6===a.tag}function Cf(a){a:{for(var b=a.return;null!==b;){if(Bf(b)){var c=b;break a}b=b.return}m("160");c=void 0}var d=b=void 0;switch(c.tag){case 7:b=c.stateNode;d=!1;break;case 5:b=c.stateNode.containerInfo;d=!0;break;case 6:b=c.stateNode.containerInfo;d=!0;break;default:m("161")}c.effectTag&16&&(lb(b,""),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Bf(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;7!==c.tag&&8!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||6===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(7===e.tag||8===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(f=b,g=e.stateNode,8===f.nodeType?(h=f.parentNode,h.insertBefore(g,f)):(h=f,h.appendChild(g)),null===h.onclick&&(h.onclick=Qb)):b.appendChild(e.stateNode);else if(6!==e.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}function Af(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){null===c?m("160"):void 0;switch(c.tag){case 7:d=c.stateNode;e=!1;break a;case 5:d=c.stateNode.containerInfo;e=!0;break a;case 6:d=c.stateNode.containerInfo;e=!0;break a}c=c.return}c=!0}if(7===b.tag||8===b.tag){a:for(var f=b,g=f;;)if(zf(g),null!==g.child&&6!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return;g=g.sibling}e?(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(6===b.tag?(d=b.stateNode.containerInfo,e=!0):zf(b),null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return;6===b.tag&&(c=!1)}b.sibling.return=b.return;b=b.sibling}}function Df(a,b){switch(b.tag){case 2:case 3:break;case 7:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[Cb]=d;"input"===a&&"radio"===d.type&&null!=d.name&&ve(c,d);Xc(a,e);b=Xc(a,d);for(e=0;e<f.length;e+=2){var g=f[e],h=f[e+1];"style"===g?Ue(c,h):"dangerouslySetInnerHTML"===g?Ef(c,h):"children"===g?lb(c,h):Ic(c,g,h,b)}switch(a){case"input":Kc(c,d);break;case"textarea":Se(c,d);break;case"select":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?Ga(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?Ga(c,!!d.multiple,d.defaultValue,!0):Ga(c,!!d.multiple,d.multiple?[]:"",!1))}}}break;case 8:null===b.stateNode?m("162"):void 0;b.stateNode.nodeValue=b.memoizedProps;break;case 5:break;case 15:break;case 16:break;default:m("163")}}function td(a,b,c){c=qa(c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){ud(d);xf(a,b)};return c}function Ff(a,b,c){c=qa(c);c.tag=3;var d=a.stateNode;null!==d&&"function"===typeof d.componentDidCatch&&(c.callback=function(){null===la?la=new Set([this]):la.add(this);var c=b.value,d=b.stack;xf(a,b);this.componentDidCatch(c,{componentStack:null!==d?d:""})});return c}function Wg(a,b){switch(a.tag){case 2:return v(a.type)&&Ja(a),b=a.effectTag,b&1024?(a.effectTag=b&-1025|64,a):null;case 3:return v(a.type._reactResult)&&Ja(a),b=a.effectTag,b&1024?(a.effectTag=b&-1025|64,a):null;case 5:return Ma(a),ad(a),b=a.effectTag,0!==(b&64)?m("285"):void 0,a.effectTag=b&-1025|64,a;case 7:return md(a),null;case 16:return b=a.effectTag,b&1024?(a.effectTag=b&-1025|64,a):null;case 6:return Ma(a),null;case 12:return kd(a),null;default:return null}}function Gf(){if(null!==C)for(var a=C.return;null!==a;){var b=a;switch(b.tag){case 2:var c=b.type.childContextTypes;null!==c&&void 0!==c&&Ja(b);break;case 3:c=b.type._reactResult.childContextTypes;null!==c&&void 0!==c&&Ja(b);break;case 5:Ma(b);ad(b);break;case 7:md(b);break;case 6:Ma(b);break;case 12:kd(b)}a=a.return}ma=null;I=0;vd=!1;C=null}function Hf(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0===(a.effectTag&512)){var e=b;b=a;var f=b.pendingProps;switch(b.tag){case 0:case 1:break;case 2:v(b.type)&&Ja(b);break;case 3:v(b.type._reactResult)&&Ja(b);break;case 5:Ma(b);ad(b);f=b.stateNode;f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null);if(null===e||null===e.child)od(b),b.effectTag&=-3;wd(b);break;case 7:md(b);var g=ra(fb.current),h=b.type;if(null!==e&&null!=b.stateNode)If(e,b,h,f,g),e.ref!==b.ref&&(b.effectTag|=128);else if(f){var k=ra(P.current);if(od(b)){f=b;e=f.stateNode;var l=f.type,n=f.memoizedProps,p=g;e[U]=f;e[Cb]=n;h=void 0;g=l;switch(g){case"iframe":case"object":u("load",e);break;case"video":case"audio":for(l=0;l<cb.length;l++)u(cb[l],e);break;case"source":u("error",e);break;case"img":case"image":case"link":u("error",e);u("load",e);break;case"form":u("reset",e);u("submit",e);break;case"details":u("toggle",e);break;case"input":ue(e,n);u("invalid",e);W(p,"onChange");break;case"select":e._wrapperState={wasMultiple:!!n.multiple};u("invalid",e);W(p,"onChange");break;case"textarea":Re(e,n),u("invalid",e),W(p,"onChange")}Wc(g,n);l=null;for(h in n)n.hasOwnProperty(h)&&(k=n[h],"children"===h?"string"===typeof k?e.textContent!==k&&(l=["children",k]):"number"===typeof k&&e.textContent!==""+k&&(l=["children",""+k]):wa.hasOwnProperty(h)&&null!=k&&W(p,h));switch(g){case"input":Ib(e);we(e,n,!0);break;case"textarea":Ib(e);h=e.textContent;h===e._wrapperState.initialValue&&(e.value=h);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=Qb)}h=l;f.updateQueue=h;f=null!==h?!0:!1;f&&jb(b)}else{n=b;e=h;p=f;l=9===g.nodeType?g:g.ownerDocument;"http://www.w3.org/1999/xhtml"===k&&(k=Te(e));"http://www.w3.org/1999/xhtml"===k?"script"===e?(e=l.createElement("div"),e.innerHTML="<script>\x3c/script>",l=e.removeChild(e.firstChild)):"string"===typeof p.is?l=l.createElement(e,{is:p.is}):(l=l.createElement(e),"select"===e&&p.multiple&&(l.multiple=!0)):l=l.createElementNS(k,e);e=l;e[U]=n;e[Cb]=f;a:for(n=e,p=b,l=p.child;null!==l;){if(7===l.tag||8===l.tag)n.appendChild(l.stateNode);else if(6!==l.tag&&null!==l.child){l.child.return=l;l=l.child;continue}if(l===p)break;for(;null===l.sibling;){if(null===l.return||l.return===p)break a;l=l.return}l.sibling.return=l.return;l=l.sibling}n=e;l=h;p=f;var E=g,x=Xc(l,p);switch(l){case"iframe":case"object":u("load",n);g=p;break;case"video":case"audio":for(g=0;g<cb.length;g++)u(cb[g],n);g=p;break;case"source":u("error",n);g=p;break;case"img":case"image":case"link":u("error",n);u("load",n);g=p;break;case"form":u("reset",n);u("submit",n);g=p;break;case"details":u("toggle",n);g=p;break;case"input":ue(n,p);g=Jc(n,p);u("invalid",n);W(E,"onChange");break;case"option":g=Tc(n,p);break;case"select":n._wrapperState={wasMultiple:!!p.multiple};g=H({},p,{value:void 0});u("invalid",n);W(E,"onChange");break;case"textarea":Re(n,p);g=Uc(n,p);u("invalid",n);W(E,"onChange");break;default:g=p}Wc(l,g);k=void 0;var nd=l,D=n,w=g;for(k in w)if(w.hasOwnProperty(k)){var r=w[k];"style"===k?Ue(D,r):"dangerouslySetInnerHTML"===k?(r=r?r.__html:void 0,null!=r&&Ef(D,r)):"children"===k?"string"===typeof r?("textarea"!==nd||""!==r)&&lb(D,r):"number"===typeof r&&lb(D,""+r):"suppressContentEditableWarning"!==k&&"suppressHydrationWarning"!==k&&"autoFocus"!==k&&(wa.hasOwnProperty(k)?null!=r&&W(E,k):null!=r&&Ic(D,k,r,x))}switch(l){case"input":Ib(n);we(n,p,!1);break;case"textarea":Ib(n);g=n.textContent;g===n._wrapperState.initialValue&&(n.value=g);break;case"option":null!=p.value&&n.setAttribute("value",""+ha(p.value));break;case"select":g=n;n=p;g.multiple=!!n.multiple;p=n.value;null!=p?Ga(g,!!n.multiple,p,!1):null!=n.defaultValue&&Ga(g,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof g.onClick&&(n.onclick=Qb)}(f=Ve(h,f))&&jb(b);b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode?m("166"):void 0;break;case 8:e&&null!=b.stateNode?Jf(e,b,e.memoizedProps,f):("string"!==typeof f&&(null===b.stateNode?m("166"):void 0),e=ra(fb.current),ra(P.current),od(b)?(f=b,h=f.stateNode,e=f.memoizedProps,h[U]=f,(f=h.nodeValue!==e)&&jb(b)):(h=b,f=(9===e.nodeType?e:e.ownerDocument).createTextNode(f),f[U]=h,b.stateNode=f));break;case 13:case 14:break;case 16:break;case 9:break;case 10:break;case 15:break;case 6:Ma(b);wd(b);break;case 12:kd(b);break;case 11:break;case 4:m("167");default:m("156")}b=C=null;f=a;if(1073741823===I||1073741823!==f.childExpirationTime){h=0;for(e=f.child;null!==e;){g=e.expirationTime;n=e.childExpirationTime;if(0===h||0!==g&&g<h)h=g;if(0===h||0!==n&&n<h)h=n;e=e.sibling}f.childExpirationTime=h}if(null!==b)return b;null!==c&&0===(c.effectTag&512)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{a=Wg(a,I);if(null!==a)return a.effectTag&=511,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=512)}if(null!==d)return d;if(null!==c)a=c;else break}return null}function Kf(a){var b=Vg(a.alternate,a,I);null===b&&(b=Hf(a));gc.current=null;return b}function Lf(a,b,c){Y?m("243"):void 0;Y=!0;gc.currentDispatcher=Xg;var d=a.nextExpirationTimeToWorkOn;if(d!==I||a!==ma||null===C)Gf(),ma=a,I=d,C=Sb(ma.current,null,I),a.pendingCommitExpirationTime=0;var e=!1;do{try{if(b)for(;null!==C&&!Mf();)C=Kf(C);else for(;null!==C;)C=Kf(C)}catch(Ka){if(null===C)e=!0,ud(Ka);else{null===C?m("271"):void 0;var f=C,g=f.return;if(null===g)e=!0,ud(Ka);else{a:{var h=g,k=f,l=Ka;g=I;k.effectTag|=512;k.firstEffect=k.lastEffect=null;vd=!0;l=Xb(l,k);do{switch(h.tag){case 5:h.effectTag|=1024;h.expirationTime=g;g=td(h,l,g);af(h,g);break a;case 2:case 3:k=l;var n=h.stateNode;if(0===(h.effectTag&64)&&null!==n&&"function"===typeof n.componentDidCatch&&(null===la||!la.has(n))){h.effectTag|=1024;h.expirationTime=g;g=Ff(h,k,g);af(h,g);break a}}h=h.return}while(null!==h)}C=Hf(f);continue}}}break}while(1);Y=!1;$b=La=Zb=gc.currentDispatcher=null;if(e)ma=null,a.finishedWork=null;else if(null!==C)a.finishedWork=null;else{b=a.current.alternate;null===b?m("281"):void 0;ma=null;if(vd){e=a.latestPendingTime;f=a.latestSuspendedTime;g=a.latestPingedTime;if(0!==e&&e>d||0!==f&&f>d||0!==g&&g>d){a.didError=!1;c=a.latestPingedTime;0!==c&&c<=d&&(a.latestPingedTime=0);c=a.earliestPendingTime;b=a.latestPendingTime;c===d?a.earliestPendingTime=b===d?a.latestPendingTime=0:b:b===d&&(a.latestPendingTime=c);c=a.earliestSuspendedTime;b=a.latestSuspendedTime;0===c?a.earliestSuspendedTime=a.latestSuspendedTime=d:c>d?a.earliestSuspendedTime=d:b<d&&(a.latestSuspendedTime=d);hd(d,a);a.expirationTime=a.expirationTime;return}if(!a.didError&&!c){a.didError=!0;a.nextExpirationTimeToWorkOn=d;d=a.expirationTime=1;a.expirationTime=d;return}}a.pendingCommitExpirationTime=d;a.finishedWork=b}}function kb(a,b){var c;a:{Y&&!mb?m("263"):void 0;for(c=a.return;null!==c;){switch(c.tag){case 2:case 3:var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromCatch||"function"===typeof d.componentDidCatch&&(null===la||!la.has(d))){a=Xb(b,a);a=Ff(c,a,1);ja(c,a);ta(c,1);c=void 0;break a}break;case 5:a=Xb(b,a);a=td(c,a,1);ja(c,a);ta(c,1);c=void 0;break a}c=c.return}5===a.tag&&(c=Xb(b,a),c=td(a,c,1),ja(a,c),ta(a,1));c=void 0}return c}function hc(a,b){0!==nb?a=nb:Y?a=mb?1:I:b.mode&1?(a=Oa?2+10*(((a-2+15)/10|0)+1):2+25*(((a-2+500)/25|0)+1),null!==ma&&a===I&&(a+=1)):a=1;Oa&&(0===Z||a>Z)&&(Z=a);return a}function ta(a,b){a:{if(0===a.expirationTime||a.expirationTime>b)a.expirationTime=b;var c=a.alternate;null!==c&&(0===c.expirationTime||c.expirationTime>b)&&(c.expirationTime=b);var d=a.return;if(null===d&&5===a.tag)a=a.stateNode;else{for(;null!==d;){c=d.alternate;if(0===d.childExpirationTime||d.childExpirationTime>b)d.childExpirationTime=b;null!==c&&(0===c.childExpirationTime||c.childExpirationTime>b)&&(c.childExpirationTime=b);if(null===d.return&&5===d.tag){a=d.stateNode;break a}d=d.return}a=null}}if(null!==a){!Y&&0!==I&&b<I&&Gf();Ub(a,b);if(!Y||mb||ma!==a){b=a;a=a.expirationTime;if(null===b.nextScheduledRoot)b.expirationTime=a,null===A?(Q=A=b,b.nextScheduledRoot=b):(A=A.nextScheduledRoot=b,A.nextScheduledRoot=Q);else if(c=b.expirationTime,0===c||a<c)b.expirationTime=a;O||(x?ic&&(R=b,D=1,jc(b,1,!0)):1===a?aa(1,null):Nf(b,a))}ob>Yg&&(ob=0,m("185"))}}function Of(a,b,c,d,e){var f=nb;nb=1;try{return a(b,c,d,e)}finally{nb=f}}function kc(){ba=((xd()-yd)/10|0)+2}function Nf(a,b){if(0!==lc){if(b>lc)return;null!==mc&&Zg(mc)}lc=b;a=xd()-yd;mc=$g(ah,{timeout:10*(b-2)-a})}function pb(){if(O)return qb;nc();if(0===D||1073741823===D)kc(),qb=ba;return qb}function nc(){var a=0,b=null;if(null!==A)for(var c=A,d=Q;null!==d;){var e=d.expirationTime;if(0===e){null===c||null===A?m("244"):void 0;if(d===d.nextScheduledRoot){Q=A=d.nextScheduledRoot=null;break}else if(d===Q)Q=e=d.nextScheduledRoot,A.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===A){A=c;A.nextScheduledRoot=Q;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{if(0===a||e<a)a=e,b=d;if(d===A)break;if(1===a)break;c=d;d=d.nextScheduledRoot}}R=b;D=a}function ah(a){if(a.didTimeout&&null!==Q){kc();var b=Q;do{var c=b.expirationTime;0!==c&&ba>=c&&(b.nextExpirationTimeToWorkOn=ba);b=b.nextScheduledRoot}while(b!==Q)}aa(0,a)}function aa(a,b){ua=b;nc();if(null!==ua)for(kc(),qb=ba;null!==R&&0!==D&&(0===a||a>=D)&&(!oc||ba>=D);)jc(R,D,ba>=D),nc(),kc(),qb=ba;else for(;null!==R&&0!==D&&(0===a||a>=D);)jc(R,D,!0),nc();null!==ua&&(lc=0,mc=null);0!==D&&Nf(R,D);ua=null;oc=!1;ob=0;zd=null;if(null!==Pa)for(a=Pa,Pa=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){Qa||(Qa=!0,pc=d)}}if(Qa)throw a=pc,pc=null,Qa=!1,a}function jc(a,b,c){O?m("245"):void 0;O=!0;if(null===ua||c){var d=a.finishedWork;null!==d?qc(a,d,b):(a.finishedWork=null,Lf(a,!1,c),d=a.finishedWork,null!==d&&qc(a,d,b))}else d=a.finishedWork,null!==d?qc(a,d,b):(a.finishedWork=null,Lf(a,!0,c),d=a.finishedWork,null!==d&&(Mf()?a.finishedWork=d:qc(a,d,b)));O=!1}function qc(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime<=c&&(null===Pa?Pa=[d]:Pa.push(d),d._defer)){a.finishedWork=b;a.expirationTime=0;return}a.finishedWork=null;a===zd?ob++:(zd=a,ob=0);mb=Y=!0;a.current===b?m("177"):void 0;c=a.pendingCommitExpirationTime;0===c?m("261"):void 0;a.pendingCommitExpirationTime=0;d=b.expirationTime;var e=b.childExpirationTime;d=0===d||0!==e&&e<d?e:d;a.didError=!1;0===d?(a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0):(e=a.latestPendingTime,0!==e&&(e<d?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime<d&&(a.earliestPendingTime=a.latestPendingTime)),e=a.earliestSuspendedTime,0===e?Ub(a,d):d>a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,Ub(a,d)):d<e&&Ub(a,d));hd(0,a);gc.current=null;1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect;Ad=Nb;e=Oe();if(Qc(e)){if("selectionStart"in e)var f={start:e.selectionStart,end:e.selectionEnd};else a:{f=(f=e.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&0!==g.rangeCount){f=g.anchorNode;var h=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{f.nodeType,k.nodeType}catch(Ra){f=null;break a}var l=0,n=-1,u=-1,D=0,E=0,v=e,C=null;b:for(;;){for(var w;;){v!==f||0!==h&&3!==v.nodeType||(n=l+h);v!==k||0!==g&&3!==v.nodeType||(u=l+g);3===v.nodeType&&(l+=v.nodeValue.length);if(null===(w=v.firstChild))break;C=v;v=w}for(;;){if(v===e)break b;C===f&&++D===h&&(n=l);C===k&&++E===g&&(u=l);if(null!==(w=v.nextSibling))break;v=C;C=v.parentNode}v=w}f=-1===n||-1===u?null:{start:n,end:u}}else f=null}f=f||{start:0,end:0}}else f=null;Bd={focusedElem:e,selectionRange:f};Nb=!1;for(p=d;null!==p;){e=!1;f=void 0;try{for(;null!==p;){if(p.effectTag&256){var r=p.alternate;a:switch(h=p,h.tag){case 2:case 3:if(h.effectTag&256&&null!==r){var t=r.memoizedProps,z=r.memoizedState,x=h.stateNode;x.props=h.memoizedProps;x.state=h.memoizedState;var H=x.getSnapshotBeforeUpdate(t,z);x.__reactInternalSnapshotBeforeUpdate=H}break a;case 5:case 7:case 8:case 6:break a;default:m("163")}}p=p.nextEffect}}catch(Ra){e=!0,f=Ra}e&&(null===p?m("178"):void 0,kb(p,f),null!==p&&(p=p.nextEffect))}for(p=d;null!==p;){r=!1;t=void 0;try{for(;null!==p;){var y=p.effectTag;y&16&&lb(p.stateNode,"");if(y&128){var B=p.alternate;if(null!==B){var q=B.ref;null!==q&&("function"===typeof q?q(null):q.current=null)}}switch(y&14){case 2:Cf(p);p.effectTag&=-3;break;case 6:Cf(p);p.effectTag&=-3;Df(p.alternate,p);break;case 4:Df(p.alternate,p);break;case 8:z=p,Af(z),z.return=null,z.child=null,z.alternate&&(z.alternate.child=null,z.alternate.return=null)}p=p.nextEffect}}catch(Ra){r=!0,t=Ra}r&&(null===p?m("178"):void 0,kb(p,t),null!==p&&(p=p.nextEffect))}q=Bd;B=Oe();y=q.focusedElem;t=q.selectionRange;if(B!==y&&y&&y.ownerDocument&&Ne(y.ownerDocument.documentElement,y)){null!==t&&Qc(y)&&(B=t.start,q=t.end,void 0===q&&(q=B),"selectionStart"in y?(y.selectionStart=B,y.selectionEnd=Math.min(q,y.value.length)):(r=y.ownerDocument||document,B=(r&&r.defaultView||window).getSelection(),z=y.textContent.length,q=Math.min(t.start,z),t=void 0===t.end?q:Math.min(t.end,z),!B.extend&&q>t&&(z=t,t=q,q=z),z=Me(y,q),x=Me(y,t),z&&x&&(1!==B.rangeCount||B.anchorNode!==z.node||B.anchorOffset!==z.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(z.node,z.offset),B.removeAllRanges(),q>t?(B.addRange(r),B.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),B.addRange(r)))));B=[];for(q=y;q=q.parentNode;)1===q.nodeType&&B.push({element:q,left:q.scrollLeft,top:q.scrollTop});"function"===typeof y.focus&&y.focus();for(y=0;y<B.length;y++)q=B[y],q.element.scrollLeft=q.left,q.element.scrollTop=q.top}Bd=null;Nb=!!Ad;Ad=null;a.current=b;for(p=d;null!==p;){d=!1;y=void 0;try{for(B=c;null!==p;){var F=p.effectTag;if(F&36){var G=p.alternate;q=p;r=B;switch(q.tag){case 2:case 3:var A=q.stateNode;if(q.effectTag&4)if(null===G)A.props=q.memoizedProps,A.state=q.memoizedState,A.componentDidMount();else{var L=G.memoizedProps,M=G.memoizedState;A.props=q.memoizedProps;A.state=q.memoizedState;A.componentDidUpdate(L,M,A.__reactInternalSnapshotBeforeUpdate)}var J=q.updateQueue;null!==J&&(A.props=q.memoizedProps,A.state=q.memoizedState,df(q,J,A,r));break;case 5:var K=q.updateQueue;if(null!==K){t=null;if(null!==q.child)switch(q.child.tag){case 7:t=q.child.stateNode;break;case 2:case 3:t=q.child.stateNode}df(q,K,t,r)}break;case 7:var N=q.stateNode;null===G&&q.effectTag&4&&Ve(q.type,q.memoizedProps)&&N.focus();break;case 8:break;case 6:break;case 15:break;case 16:break;default:m("163")}}if(F&128){var I=p.ref;if(null!==I){var O=p.stateNode;switch(p.tag){case 7:var P=O;break;default:P=O}"function"===typeof I?I(P):I.current=P}}var Q=p.nextEffect;p.nextEffect=null;p=Q}}catch(Ra){d=!0,y=Ra}d&&(null===p?m("178"):void 0,kb(p,y),null!==p&&(p=p.nextEffect))}Y=mb=!1;"function"===typeof cd&&cd(b.stateNode);F=b.expirationTime;b=b.childExpirationTime;b=0===F||0!==b&&b<F?b:F;0===b&&(la=null);a.expirationTime=b;a.finishedWork=null}function Mf(){return oc?!0:null===ua||ua.timeRemaining()>bh?!1:oc=!0}function ud(a){null===R?m("246"):void 0;R.expirationTime=0;Qa||(Qa=!0,pc=a)}function Pf(a,b){var c=x;x=!0;try{return a(b)}finally{(x=c)||O||aa(1,null)}}function Qf(a,b){if(x&&!ic){ic=!0;try{return a(b)}finally{ic=!1}}return a(b)}function Rf(a,b,c){if(Oa)return a(b,c);x||O||0===Z||(aa(Z,null),Z=0);var d=Oa,e=x;x=Oa=!0;try{return a(b,c)}finally{Oa=d,(x=e)||O||aa(1,null)}}function ch(a){if(!a)return oa;a=a._reactInternalFiber;a:{2!==$a(a)||2!==a.tag&&3!==a.tag?m("170"):void 0;var b=a;do{switch(b.tag){case 5:b=b.stateNode.context;break a;case 2:if(v(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}break;case 3:if(v(b.type._reactResult)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);m("171");b=void 0}if(2===a.tag){var c=a.type;if(v(c))return bd(a,c,b)}else if(3===a.tag&&(c=a.type._reactResult,v(c)))return bd(a,c,b);return b}function Sf(a,b,c,d,e){var f=b.current;c=ch(c);null===b.context?b.context=c:b.pendingContext=c;b=e;e=qa(d);e.payload={element:a};b=void 0===b?null:b;null!==b&&(e.callback=b);ja(f,e);ta(f,d);return d}function Cd(a,b,c,d){var e=b.current,f=pb();e=hc(f,e);return Sf(a,b,c,e,d)}function Dd(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 7:return a.child.stateNode;default:return a.child.stateNode}}function dh(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ea,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function rb(a){var b=2+25*(((pb()-2+500)/25|0)+1);b<=Ed&&(b=Ed+1);this._expirationTime=Ed=b;this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}function Sa(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}function Ta(a,b,c){b=new ia(5,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=b.stateNode=a}function rc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function eh(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Ta(a,!1,b)}function sc(a,b,c,d,e){rc(c)?void 0:m("200");var f=c._reactRootContainer;if(f){if("function"===typeof e){var g=e;e=function(){var a=Dd(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=eh(c,d);if("function"===typeof e){var h=e;e=function(){var a=Dd(f._internalRoot);h.call(a)}}Qf(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return Dd(f._internalRoot)}function Tf(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;rc(b)?void 0:m("200");return dh(a,b,null,c)}T?void 0:m("227");var kg=function(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}},Va=!1,wb=null,xb=!1,uc=null,lg={onError:function(a){Va=!0;wb=a}},yb=null,va={},zb=[],vc={},wa={},wc={},xc=null,$d=null,Nd=null,Wa=null,Uf=function(a,b){if(a){var c=a._dispatchListeners,d=a._dispatchInstances;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)Md(a,b,c[e],d[e]);else c&&Md(a,b,c,d);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}},ng=function(a){return Uf(a,!0)},og=function(a){return Uf(a,!1)},Fd={injectEventPluginOrder:function(a){yb?m("101"):void 0;yb=Array.prototype.slice.call(a);Kd()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];va.hasOwnProperty(c)&&va[c]===d||(va[c]?m("102",c):void 0,va[c]=d,b=!0)}b&&Kd()}},Vf=Math.random().toString(36).slice(2),U="__reactInternalInstance$"+Vf,Cb="__reactEventHandlers$"+Vf,ea=!("undefined"===typeof window||!window.document||!window.document.createElement),za={animationend:Db("Animation","AnimationEnd"),animationiteration:Db("Animation","AnimationIteration"),animationstart:Db("Animation","AnimationStart"),transitionend:Db("Transition","TransitionEnd")},Bc={},Rd={};ea&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);var Wf=Eb("animationend"),Xf=Eb("animationiteration"),Yf=Eb("animationstart"),Zf=Eb("transitionend"),cb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),da=null,Cc=null,Fb=null,H=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign;H(L.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=Gb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=Gb)},persist:function(){this.isPersistent=Gb},isPersistent:Hb,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=Hb;this._dispatchInstances=this._dispatchListeners=null}});L.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};L.extend=function(a){function b(){return c.apply(this,arguments)}var c=this,d=function(){};d.prototype=c.prototype;d=new d;H(d,b.prototype);b.prototype=d;b.prototype.constructor=b;b.Interface=H({},c.Interface,a);b.extend=c.extend;Td(b);return b};Td(L);var fh=L.extend({data:null}),gh=L.extend({data:null}),tg=[9,13,27,32],Dc=ea&&"CompositionEvent"in window,sb=null;ea&&"documentMode"in document&&(sb=document.documentMode);var hh=ea&&"TextEvent"in window&&!sb,Yd=ea&&(!Dc||sb&&8<sb&&11>=sb),Xd=String.fromCharCode(32),ca={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Wd=!1,Aa=!1,ih={eventTypes:ca,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(Dc)b:{switch(a){case"compositionstart":e=ca.compositionStart;break b;case"compositionend":e=ca.compositionEnd;break b;case"compositionupdate":e=ca.compositionUpdate;break b}e=void 0}else Aa?Ud(a,c)&&(e=ca.compositionEnd):"keydown"===a&&229===c.keyCode&&(e=ca.compositionStart);e?(Yd&&"ko"!==c.locale&&(Aa||e!==ca.compositionStart?e===ca.compositionEnd&&Aa&&(f=Sd()):(da=d,Cc="value"in da?da.value:da.textContent,Aa=!0)),e=fh.getPooled(e,b,c,d),f?e.data=f:(f=Vd(c),null!==f&&(e.data=f)),ya(e),f=e):f=null;(a=hh?ug(a,c):vg(a,c))?(b=gh.getPooled(ca.beforeInput,b,c,d),b.data=a,ya(b)):b=null;return null===f?b:null===b?f:[f,b]}},Ec=null,Ba=null,Ca=null,de=function(a,b){return a(b)},Ie=function(a,b,c){return a(b,c)},ee=function(){},Fc=!1,wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},$f=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yg=/^(.*)[\\\/]/,S="function"===typeof Symbol&&Symbol.for,dc=S?Symbol.for("react.element"):60103,Ea=S?Symbol.for("react.portal"):60106,fa=S?Symbol.for("react.fragment"):60107,le=S?Symbol.for("react.strict_mode"):60108,Hc=S?Symbol.for("react.profiler"):60114,oe=S?Symbol.for("react.provider"):60109,ne=S?Symbol.for("react.context"):60110,ke=S?Symbol.for("react.async_mode"):60111,pe=S?Symbol.for("react.forward_ref"):60112,me=S?Symbol.for("react.placeholder"):60113,je="function"===typeof Symbol&&Symbol.iterator,Ag=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,re=Object.prototype.hasOwnProperty,te={},se={},E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new M(a,0,!1,a,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];E[b]=new M(b,1,!1,a[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new M(a,2,!1,a.toLowerCase(),null)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new M(a,2,!1,a,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new M(a,3,!1,a.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(a){E[a]=new M(a,3,!0,a,null)});["capture","download"].forEach(function(a){E[a]=new M(a,4,!1,a,null)});["cols","rows","size","span"].forEach(function(a){E[a]=new M(a,6,!1,a,null)});["rowSpan","start"].forEach(function(a){E[a]=new M(a,5,!1,a.toLowerCase(),null)});var Gd=/[\-:]([a-z])/g,Hd=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(Gd,Hd);E[b]=new M(b,1,!1,a,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(Gd,Hd);E[b]=new M(b,1,!1,a,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(Gd,Hd);E[b]=new M(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")});E.tabIndex=new M("tabIndex",1,!1,"tabindex",null);var ye={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Ya=null,Za=null,Id=!1;ea&&(Id=ge("input")&&(!document.documentMode||9<document.documentMode));var jh={eventTypes:ye,_isInputEventSupported:Id,extractEvents:function(a,b,c,d){var e=b?na(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();"select"===h||"input"===h&&"file"===e.type?f=Eg:fe(e)?Id?f=Ig:(f=Gg,g=Fg):(h=e.nodeName)&&"input"===h.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(f=Hg);if(f&&(f=f(a,b)))return xe(f,c,d);g&&g(a,e,b);"blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&Lc(e,"number",e.value)}},tb=L.extend({view:null,detail:null}),Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ag=0,bg=0,cg=!1,dg=!1,ub=tb.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=ag;ag=a.screenX;return cg?"mousemove"===a.type?a.screenX-b:0:(cg=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=bg;bg=a.screenY;return dg?"mousemove"===a.type?a.screenY-b:0:(dg=!0,0)}}),eg=ub.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),vb={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},kh={eventTypes:vb,extractEvents:function(a,b,c,d){var e="mouseover"===a||"pointerover"===a,f="mouseout"===a||"pointerout"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;f?(f=b,b=(b=c.relatedTarget||c.toElement)?Bb(b):null):f=null;if(f===b)return null;var g=void 0,h=void 0,k=void 0,l=void 0;if("mouseout"===a||"mouseover"===a)g=ub,h=vb.mouseLeave,k=vb.mouseEnter,l="mouse";else if("pointerout"===a||"pointerover"===a)g=eg,h=vb.pointerLeave,k=vb.pointerEnter,l="pointer";var m=null==f?e:na(f);e=null==b?e:na(b);a=g.getPooled(h,f,c,d);a.type=l+"leave";a.target=m;a.relatedTarget=e;c=g.getPooled(k,b,c,d);c.type=l+"enter";c.target=e;c.relatedTarget=m;d=b;if(f&&d)a:{b=f;e=d;l=0;for(g=b;g;g=V(g))l++;g=0;for(k=e;k;k=V(k))g++;for(;0<l-g;)b=V(b),l--;for(;0<g-l;)e=V(e),g--;for(;l--;){if(b===e||b===e.alternate)break a;b=V(b);e=V(e)}b=null}else b=null;e=b;for(b=[];f&&f!==e;){l=f.alternate;if(null!==l&&l===e)break;b.push(f);f=V(f)}for(f=[];d&&d!==e;){l=d.alternate;if(null!==l&&l===e)break;f.push(d);d=V(d)}for(d=0;d<b.length;d++)Ac(b[d],"bubbled",a);for(d=f.length;0<d--;)Ac(f[d],"captured",c);return[a,c]}},Lg=Object.prototype.hasOwnProperty,lh=L.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mh=L.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),nh=tb.extend({relatedTarget:null}),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh=tb.extend({key:function(a){if(a.key){var b=oh[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=Kb(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?ph[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mc,charCode:function(a){return"keypress"===a.type?Kb(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?Kb(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),rh=ub.extend({dataTransfer:null}),sh=tb.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mc}),th=L.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),uh=ub.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),vh=[["abort","abort"],[Wf,"animationEnd"],[Xf,"animationIteration"],[Yf,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[Zf,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Fe={},Oc={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(a){Ee(a,!0)});vh.forEach(function(a){Ee(a,!1)});var fg={eventTypes:Fe,isInteractiveTopLevelEventType:function(a){a=Oc[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=Oc[a];if(!e)return null;switch(a){case"keypress":if(0===Kb(c))return null;case"keydown":case"keyup":a=qh;break;case"blur":case"focus":a=nh;break;case"click":if(2===c.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=sh;break;case Wf:case Xf:case Yf:a=lh;break;case Zf:a=th;break;case"scroll":a=tb;break;case"wheel":a=uh;break;case"copy":case"cut":case"paste":a=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=eg;break;default:a=L}b=a.getPooled(e,b,c,d);ya(b);return b}},Ge=fg.isInteractiveTopLevelEventType,Ob=[],Nb=!0,Ke={},Og=0,Pb="_reactListenersID"+(""+Math.random()).slice(2),wh=ea&&"documentMode"in document&&11>=document.documentMode,Qe={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Fa=null,Sc=null,ab=null,Rc=!1,xh={eventTypes:Qe,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=Je(e);f=wc.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?na(b):window;switch(a){case"focus":if(fe(e)||"true"===e.contentEditable)Fa=e,Sc=b,ab=null;break;case"blur":ab=Sc=Fa=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":return Rc=!1,Pe(c,d);case"selectionchange":if(wh)break;case"keydown":case"keyup":return Pe(c,d)}return null}};Fd.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));(function(a,b,c){xc=a;$d=b;Nd=c})(zc,Pd,na);Fd.injectEventPluginsByName({SimpleEventPlugin:fg,EnterLeaveEventPlugin:kh,ChangeEventPlugin:jh,SelectEventPlugin:xh,BeforeInputEventPlugin:ih});var tc=void 0,Ef=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{tc=tc||document.createElement("div");tc.innerHTML="<svg>"+b+"</svg>";for(b=tc.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),lb=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b},bb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yh=["Webkit","ms","Moz","O"];Object.keys(bb).forEach(function(a){yh.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);bb[b]=bb[a]})});var Qg=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Jd=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Schedule,Zg=Jd.unstable_cancelScheduledWork,xd=Jd.unstable_now,$g=Jd.unstable_scheduleWork,Ad=null,Bd=null;new Set;var $c=[],Ha=-1,oa={},G={current:oa},K={current:!1},pa=oa,cd=null,dd=null,ka=!1,jd={current:null},Zb=null,La=null,$b=null,eb={},P={current:eb},gb={current:eb},fb={current:eb},mf=(new T.Component).refs,bc={isMounted:function(a){return(a=a._reactInternalFiber)?2===$a(a):!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=pb();d=hc(d,a);var e=qa(d);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);ja(a,e);ta(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=pb();d=hc(d,a);var e=qa(d);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);ja(a,e);ta(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=pb();c=hc(c,a);var d=qa(c);d.tag=2;void 0!==b&&null!==b&&(d.callback=b);ja(a,d);ta(a,c)}},ec=Array.isArray,tf=nf(!0),sf=nf(!1),X=null,Na=null,sa=!1,Tg=$f.ReactCurrentOwner,wd=void 0,If=void 0,Jf=void 0;wd=function(a){};If=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;ra(P.current);a=null;switch(c){case"input":f=Jc(g,f);d=Jc(g,d);a=[];break;case"option":f=Tc(g,f);d=Tc(g,d);a=[];break;case"select":f=H({},f,{value:void 0});d=H({},d,{value:void 0});a=[];break;case"textarea":f=Uc(g,f);d=Uc(g,d);a=[];break;default:"function"!==typeof f.onClick&&"function"===typeof d.onClick&&(g.onclick=Qb)}Wc(c,d);g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if("style"===c){var k=f[c];for(g in k)k.hasOwnProperty(g)&&(h||(h={}),h[g]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(wa.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var l=d[c];k=null!=f?f[c]:void 0;if(d.hasOwnProperty(c)&&l!==k&&(null!=l||null!=k))if("style"===c)if(k){for(g in k)!k.hasOwnProperty(g)||l&&l.hasOwnProperty(g)||(h||(h={}),h[g]="");for(g in l)l.hasOwnProperty(g)&&k[g]!==l[g]&&(h||(h={}),h[g]=l[g])}else h||(a||(a=[]),a.push(c,h)),h=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,k=k?k.__html:void 0,null!=l&&k!==l&&(a=a||[]).push(c,""+l)):"children"===c?k===l||"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(wa.hasOwnProperty(c)?(null!=l&&W(e,c),a||k===l||(a=[])):(a=a||[]).push(c,l))}h&&(a=a||[]).push("style",h);e=a;(b.updateQueue=e)&&jb(b)}};Jf=function(a,b,c,d){c!==d&&jb(b)};var Xg={readContext:gf},gc=$f.ReactCurrentOwner,Ed=0,nb=0,Y=!1,C=null,ma=null,I=0,vd=!1,p=null,mb=!1,la=null,Q=null,A=null,lc=0,mc=void 0,O=!1,R=null,D=0,Z=0,oc=!1,Qa=!1,pc=null,ua=null,x=!1,ic=!1,Oa=!1,Pa=null,yd=xd(),ba=(yd/10|0)+2,qb=ba,Yg=50,ob=0,zd=null,bh=1;Ec=function(a,b,c){switch(b){case"input":Kc(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=zc(d);e?void 0:m("90");ie(d);Kc(d,e)}}}break;case"textarea":Se(a,c);break;case"select":b=c.value,null!=b&&Ga(a,!!c.multiple,b,!1)}};rb.prototype.render=function(a){this._defer?void 0:m("250");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new Sa;Sf(a,b,null,c,d._onCommit);return d};rb.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};rb.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:m("251");if(this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?m("251"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;b=c;O?m("253"):void 0;R=a;D=b;jc(a,b,!0);aa(1,null);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1};rb.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}};Sa.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};Sa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!==typeof c?m("191",c):void 0;c()}}};Ta.prototype.render=function(a,b){var c=this._internalRoot,d=new Sa;b=void 0===b?null:b;null!==b&&d.then(b);Cd(a,c,null,d._onCommit);return d};Ta.prototype.unmount=function(a){var b=this._internalRoot,c=new Sa;a=void 0===a?null:a;null!==a&&c.then(a);Cd(null,b,null,c._onCommit);return c};Ta.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new Sa;c=void 0===c?null:c;null!==c&&e.then(c);Cd(b,d,a,e._onCommit);return e};Ta.prototype.createBatch=function(){var a=new rb(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime<=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};(function(a,b,c){de=a;Ie=b;ee=c})(Pf,Rf,function(){O||0===Z||(aa(Z,null),Z=0)});var gg={createPortal:Tf,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;void 0===b&&("function"===typeof a.render?m("188"):m("268",Object.keys(a)));a=De(b);a=null===a?null:a.stateNode;return a},hydrate:function(a,b,c){return sc(null,a,b,!0,c)},render:function(a,b,c){return sc(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){null==a||void 0===a._reactInternalFiber?m("38"):void 0;return sc(a,b,c,!1,d)},unmountComponentAtNode:function(a){rc(a)?void 0:m("40");return a._reactRootContainer?(Qf(function(){sc(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return Tf.apply(void 0,arguments)},unstable_batchedUpdates:Pf,unstable_interactiveUpdates:Rf,flushSync:function(a,b){O?m("187"):void 0;var c=x;x=!0;try{return Of(a,b)}finally{x=c,aa(1,null)}},unstable_flushControlled:function(a){var b=x;x=!0;try{Of(a)}finally{(x=b)||O||aa(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Pd,na,zc,Fd.injectEventPluginsByName,vc,ya,function(a){Ab(a,qg)},ae,be,Lb,yc]},unstable_createRoot:function(a,b){rc(a)?void 0:m("278");return new Ta(a,!0,null!=b&&!0===b.hydrate)}};(function(a){var b=a.findFiberByHostInstance;return Rg(H({},a,{findHostInstanceByFiber:function(a){a=De(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))})({findFiberByHostInstance:Bb,bundleType:0,version:"16.5.2",rendererPackageName:"react-dom"});var hg={default:gg},ig=hg&&gg||hg;return ig.default||ig});;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.SharedWidgets=t(require("react"),require("react-dom")):e.SharedWidgets=t(e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=44)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]]);return n}function r(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,o){t(n,o,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})}function d(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){l.label=n[1];break}if(6===n[0]&&l.label<a[1]){l.label=a[1],a=n;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(n);break}a[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,r,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function c(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function f(e,t,n){function o(e){c[e]&&(d[e]=function(t){return new Promise(function(n,o){p.push([e,t,n,o])>1||i(e,t)})})}function i(e,t){try{r(c[e](t))}catch(e){l(p[0][3],e)}}function r(e){e.value instanceof g?Promise.resolve(e.value.v).then(a,s):l(p[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function l(e,t){e(t),p.shift(),p.length&&i(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,c=n.apply(e,t||[]),p=[];return d={},o("next"),o("throw"),o("return"),d[Symbol.asyncIterator]=function(){return this},d}function m(e){function t(t,i){n[t]=e[t]?function(n){return(o=!o)?{value:g(e[t](n)),done:"return"===t}:i?i(n):n}:i}var n,o;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function y(e){function t(t){o[t]=e[t]&&function(o){return new Promise(function(i,r){o=e[t](o),n(i,r,o.done,o.value)})}}function n(e,t,n,o){Promise.resolve(o).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof p?p(e):e[Symbol.iterator](),o={},t("next"),t("throw"),t("return"),o[Symbol.asyncIterator]=function(){return this},o)}function v(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=o,n.d(t,"__assign",function(){return D}),t.__rest=i,t.__decorate=r,t.__param=a,t.__metadata=s,t.__awaiter=l,t.__generator=d,t.__exportStar=c,t.__values=p,t.__read=u,t.__spread=h,t.__await=g,t.__asyncGenerator=f,t.__asyncDelegator=m,t.__asyncValues=y,t.__makeTemplateObject=v,t.__importStar=b,t.__importDefault=S;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},D=function(){return D=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},D.apply(this,arguments)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=["#000000","#1B1B1B","#333333","#555555","#666666","#898989","#FFFFFF","#F5F5F5","#E6E6E6","#D4D4D4","#C0C0C0","#B4B4B4"],r=["#F28E2B","#F9A655","#FFBE7D","#B07AA1","#C290B4","#D4A6C8","#B6992D","#D3B348","#F1CE63","#D37295","#E799B3","#FABFD2","#59A14F","#72B966","#8CD17D","#E15759","#F17B79","#FF9D9A","#499894","#69AAA5","#86BCB6","#9D7660","#BA9582","#D7B5A6","#4E79A7","#75A1C7","#A0CBE8","#79706E","#998F8C","#BAB0AC","#606B76","#818B91","#A7ACAD","#76B7B2","#FF9DA7","#EDC948"],a=["#EFEBE8","#F5F1F0","#F9F8F7","#F0EAE8","#F5F0EF","#FAF5F4","#F5EDDC","#FAF4E7","#FEFAF1","#E9EBE0","#F0F1E8","#F7F7F0","#EBEBEB","#F2F2F2","#F9F9F9","#DFE7E8","#E9F0F1","#F2F9F9","#F3EBF3","#F7F1F6","#FBF7FB","#E2E6F0","#E9EDF5","#F0F3FA","#E6ECF0","#EEF1F3","#F2F6F7","#DDEBF0","#E7F1F5","#F0F7FA","#DFEDEB","#E9F3F2","#F3FAF9","#E8EDDA","#EFF3E3","#F7FAF0","#F5EAD7","#F6EEE3","#FAF5F0","#F9E9E0","#F9EEE8","#F9F3EF"],s=["#4F6980","#3D7FA6","#8BC2CA","#499893","#62AEA1","#7DC4AE","#638B66","#86AF6A","#C3BB3D","#EFC637","#F6A035","#F37941","#F59A9A","#CD677F","#C497B7","#845578","#B9AA98","#7E756D","#9EB0A5","#B56252"],l={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},d={PrimaryDark:"rgba(0, 0, 0, 0.9)",Primary:"rgba(0, 0, 0, 0.8)",PrimaryMedium:"rgba(0, 0, 0, 0.7)",PrimaryLight:"rgba(0, 0, 0, 0.6)",Secondary:"rgba(0, 0, 0, 0.56)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgb(255, 255, 255)",InvertedSecondary:"rgba(255, 255, 255, 0.56)",InvertedDisabled:"rgba(255, 255, 255, 0.35)"},c={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.2)"},p={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",WhiteTransparentLine:"rgba(255, 255, 255, 0.5)",WhiteTransparentLineHover:"rgba(255, 255, 255, 0.8)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",ApplicationBlue:"rgb(34, 38, 54)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",OpaqueGlass:c.Grey245,Focus:"rgb(52, 152, 219)",L1:c.Grey250,L2:c.Grey245,L2_5:c.Grey235,L3:c.Grey230,L4:c.Grey225,L5:c.Grey212,L6:c.Grey203,L7:c.Grey180,L8:c.Grey102,L9:c.Grey51,L9Disabled:c.Grey51Disabled,F1:c.Grey250,F2:c.Grey245,F2_5:c.Grey235,F3:c.Grey230,F4:c.Grey225,F5:c.Grey212,F6:c.Grey203,F7:c.Grey180,F7Disabled:c.Grey180Disabled,F8:c.Grey102,F9:c.Grey51},u={Colors:p,Shadow:{Standard:"1px 1px 2px 0px rgba(0, 0, 0, 0.15)"},Spacing:{SmallSpace:3,DefaultSpace:6,MediumSpace:12,LargeSpace:18,ExtraLargeSpace:24},Sizing:{BaseUnit:6,RowHeight:24,ButtonMinWidth:90,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:3,ListRowHeight:20},Typography:{FontFamily:"Benton Sans, Arial, Helvetica, sans-serif",Sizing:l,Color:d},Opacity:{ClearGlass:.01,Disabled:.35,OpaqueGlass:.33},ColorPickerPresets:{Dark:i.concat(r),Light:i.concat(a),MaestroFlowColors:s}};t.TabStyles=u;var h=function(e){u.Colors=o.__assign({},u.Colors,e.Colors),u.Opacity=o.__assign({},u.Opacity,e.Opacity),u.Shadow=o.__assign({},u.Shadow,e.Shadow),u.Sizing=o.__assign({},u.Sizing,e.Sizing),u.Spacing=o.__assign({},u.Spacing,e.Spacing),e.Typography&&(u.Typography.FontFamily=e.Typography.FontFamily?e.Typography.FontFamily:u.Typography.FontFamily,u.Typography.Color=o.__assign({},u.Typography.Color,e.Typography.Color),u.Typography.Sizing=o.__assign({},u.Typography.Sizing,e.Typography.Sizing))};t.overrideTabStyles=h},function(e,t,n){"use strict";function o(e,t){return e?t:void 0}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("-")}function r(e){return e&&/^[a-z0-9]$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.conditional=o,t.testId=i,t.isAlphabeticChar=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(12),s={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"};t.BlockStyle=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("div",o.__assign({},this.props,{style:o.__assign({},s,this.props.style)}))},t}(i.Component);t.Block=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("div",o.__assign({},this.props,{style:o.__assign({},s,{display:"inline-block"},this.props.style)}))},t}(i.Component);t.InlineBlock=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("img",o.__assign({},this.props,{role:this.props.role||"presentation",style:o.__assign({},o.__assign({},a.PreventUserSelect,{cursor:void 0}),{flexShrink:0},this.props.style)}))},t}(i.Component);t.Img=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(47),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},t.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},t}(i.Component);t.DynamicThemeComponent=a},function(e,t,n){"use strict";function o(e){return T.test(e)?e:"data:image/svg+xml;base64,"+btoa(e)}function i(e,t){void 0===t&&(t={});var n=Object.keys(t).filter(function(e){return!!t[e]}).join(" ");return o(e.replace("$state$",n))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(95),s=n(96),l=n(97),d=n(98),c=n(99),p=n(100),u=n(101),h=n(102),g=n(103),f=n(104),m=n(105),y=n(106),v=n(107),b=n(108),S=n(109),C=n(110),D=n(111),I=n(112),w=n(113),T=/^data\:image\/svg\+xml/;t.encodeSvg=o,t.CloseButtonIcon={height:14,width:14,icon:function(e){return i(d.CloseButtonSvg,e)}},t.CheckBoxIcon={height:16,width:16,padding:1,icon:function(e){return i(a.CheckBoxSvg,e)}},t.CheckBoxMixedIcon={height:16,width:16,padding:1,icon:function(e){return i(s.CheckBoxMixedSvg,e)}},t.OutlineDropdownArrowIcon={height:18,width:18,icon:function(e){return i(f.OutlineDropdownArrowSvg,e)}},t.LineAndTextDropdownArrowIcon={height:20,width:16,icon:function(e){return i(g.LineAndTextDropdownArrowSvg,e)}},t.IconDropdownArrowIcon={height:5,width:7,icon:function(e){return i(p.IconDropdownArrowSvg,e)}},t.MenuItemArrowIcon={height:18,width:18,icon:function(e){return i(u.MenuItemArrowSvg,e)}},t.MenuItemCheckIcon={width:10,height:10,icon:function(e){return i(h.MenuItemCheckSvg,e)},checkedItemPaddingLeft:2*r.TabStyles.Spacing.DefaultSpace+10},t.RadioButtonIcon={height:16,width:16,padding:1,icon:function(e){return i(m.RadioButtonSvg,e)}},t.StepperUpIcon={height:11,width:18,icon:function(e){return i(D.StepperUpSvg,e)}},t.StepperDownIcon={height:11,width:18,icon:function(e){return i(C.StepperDownSvg,e)}},t.TextFieldClearIcon={height:12,width:12,icon:function(e){return i(l.ClearSvg,e)}},t.SearchIcon={height:12,width:12,icon:function(e){return i(y.SearchSvg,e)}},t.SliderHandleIcon={height:20,width:20,icon:function(e){return i(v.SliderHandleSvg,e)}},t.SliderLeftHandleIcon={height:20,width:20,icon:function(e){return i(b.SliderLeftHandleSvg,e)},artworkOffsetFromRightSide:4},t.SliderRightHandleIcon={height:20,width:20,icon:function(e){return i(S.SliderRightHandleSvg,e)},artworkOffsetFromLeftSide:2},t.ExpandoIcon={height:13,width:13,icon:function(e){return i(c.ExpandoSvg,e)}},t.ToastCloseButtonIcon={height:14,width:14,icon:function(e){var t={};return t[e]=!0,i(d.CloseButtonSvg,t)}},t.StepperLeftIcon={height:22,width:18,icon:function(e){return i(I.StepperLeftSvg,e)}},t.StepperRightIcon={height:22,width:18,icon:function(e){return i(w.StepperRightSvg,e)}}},function(e,t,n){"use strict";function o(e,t){var n=t.props,o=n.disabled,i=n.interactiveStyles;return i?r.__assign({},e,t.state.hover&&!o&&i.hover,t.state.focus&&!o&&i.focus,t.state.active&&!o&&i.active,o&&i.disabled):e}function i(e,t){var n=e.props,i=n.disabled,d=n.pointerDown,p=i?{}:{pointerDown:l.mergeEventHandlers(d,function(){e.interactiveIsMounted&&(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0),e.removePointerUpListener||c(e))})},u=t.props,h=u.onMouseOver,g=u.onMouseOut,f=u.onKeyDown,m=u.onKeyUp,y=u.onFocus,v=u.onBlur,b=i?{}:{onMouseOver:l.mergeEventHandlers(h,function(){e.interactiveIsMounted&&(e.setState({hover:!0}),e.props.handleHover&&e.props.handleHover(!0))}),onMouseOut:l.mergeEventHandlers(g,function(){e.interactiveIsMounted&&(e.setState({hover:!1}),e.props.handleHover&&e.props.handleHover(!1))}),onKeyDown:l.mergeEventHandlers(f,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0)))}),onKeyUp:l.mergeEventHandlers(m,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1)))}),onFocus:l.mergeEventHandlers(y,function(){e.interactiveIsMounted&&(e.setState({focus:!0}),e.props.handleFocus&&e.props.handleFocus(!0))}),onBlur:l.mergeEventHandlers(v,function(){e.interactiveIsMounted&&(e.setState({focus:!1}),e.props.handleFocus&&e.props.handleFocus(!1))})},S=o(t.props.style,e),C=r.__assign({style:S,disabled:i},b),D=r.__assign({},e.props,p);return a.createElement(s.PointerEventWrapper,r.__assign({},D),a.cloneElement(t,C))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),s=n(13),l=n(27),d=n(80),c=function(e){var t=function(){e.interactiveIsMounted&&(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1),e.removePointerUpListener(),e.removePointerUpListener=void 0)};e.removePointerUpListener=d.GlobalPointerUpListener.subscribe(t)},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state=r.__assign({},n.state,{hover:!1,active:!1,focus:!1}),n.interactiveIsMounted=!0,n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.disabled&&e.disabled!==this.props.disabled&&this.setState({active:!1,focus:!1,hover:!1})},t.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){return i(this,a.Children.only(this.props.children))},t}(a.Component);t.InteractiveDomWrapper=p;var u=function(e){var t,n=l.convertToStatefulComponentClass(e);return t=function(e){function t(t){var n=e.call(this,t)||this;return n.state=r.__assign({},n.state,{hover:!1,active:!1,focus:!1}),n.interactiveIsMounted=!0,n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.disabled&&e.disabled!==this.props.disabled&&this.setState({active:!1,focus:!1,hover:!1})},t.prototype.callComponentClassWillUnmount=function(){var e=n.prototype.componentWillUnmount;e&&e.apply(this)},t.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){return i(this,e.prototype.render.call(this))},t}(n),t.displayName="InteractiveDom("+l.getComponentName(e)+")",t};t.InteractiveDomHoC=u;var h=u;t.InteractiveDomHoCDecorator=h},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(){return"tab-shared-widget-"+p++}function i(e){window.setTimeout(function(){e&&window.document.body.contains(e)&&e.focus()})}function r(){var e=document.createElement("div");e.className="scrollbarMeasurement",d.__assign(e.style,{width:"100px",height:"100px",overflowY:"scroll",position:"absolute",visibility:"hidden",border:"none"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function a(e){return e.clientWidth<e.scrollWidth}function s(e,t){if(e.closest)return e.closest(t);var n=Element.prototype.matches||Element.prototype.msMatchesSelector;if(!n)return null;for(var o=e;o;){if(n.call(o,t))return o;o=o.parentElement}return null}function l(e){return c.isIE?e.relatedTarget||document.activeElement:e.relatedTarget}Object.defineProperty(t,"__esModule",{value:!0});var d=n(1),c=n(18),p=0;t.generateId=o,t.timeoutFocus=i,t.detectScrollbarWidth=r,t.isElementOverflownX=a,t.closest=s,t.findBlurRelatedTarget=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(8),s=n(49),l=n(19),d=n(35),c=n(46),p=n(28),u=100;!function(e){e[e.top=0]="top",e[e.centerY=1]="centerY",e[e.bottom=2]="bottom"}(o||(o={})),t.VerticalOriginOption=o;var h;!function(e){e[e.left=0]="left",e[e.centerX=1]="centerX",e[e.right=2]="right"}(h||(h={})),t.HorizontalOriginOption=h;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResize=s(function(){return t.setPlacement()},u),t.setStackingWrapper=function(e){t.stackingWrapper=e,t.setPlacement()},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){if(this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize),this.props.autoFocus&&this.stackingWrapper){var e=a.findDOMNode(this.stackingWrapper),t=e.querySelector('[tabindex="0"]')||e.querySelector("[tabindex]");t&&t.focus()}},t.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(e){this.resetScrollingRootBehaviorIfNeeded(e),this.setPlacement()},t.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},t.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},t.prototype.resetScrollingRootBehaviorIfNeeded=function(e){e.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&e.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},t.prototype.setOnScroll=function(){var e=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var t=function(){e.props.shouldAutoPositionOnScrollingRootScroll&&e.setPlacement(),e.props.handleScrollOnScrollingRoot&&e.props.handleScrollOnScrollingRoot()};this.onScroll=s(t,15)}else this.onScroll=null},t.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):c.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},t.prototype.getAnchorPosition=function(){var e=void 0;if(this.props.getAnchorClientRect&&(e=this.props.getAnchorClientRect()),void 0===e){e=(this.props.anchorEl||a.findDOMNode(this)).getBoundingClientRect()}var t=e.left,n=e.top,o=e.right,i=e.bottom;return{top:n,centerY:n+(i-n)/2,bottom:i,left:t,centerX:t+(o-t)/2,right:o}},t.prototype.getStackedElCurrentShapeInPositionCoords=function(){var e=this.getStackedEl();return{top:0,centerY:e.offsetHeight/2,bottom:e.offsetHeight,left:0,centerX:e.offsetWidth/2,right:e.offsetWidth}},t.prototype.getContainerRect=function(){var e=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):d.StackingRootConfig.getDefaultRootContainer();if(!e)throw Error("Could not find stacking root.");return e.getBoundingClientRect()},t.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var e=this.getStackedElAdjustedPosition(),t=this.getStackedEl();t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.position="absolute",this.props.disablePointerEvents&&(t.style.pointerEvents="none")}},t.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},t.prototype.getStackedElAdjustedPosition=function(){var e=this.getDefaultStackedElViewportPosition();return this.props.allowAutoPosition&&(e=this.getAutoPositionIfNeeded(e)),this.getAdjustStackedElPositionForContainer(e)},t.prototype.getDefaultStackedElViewportPosition=function(){var e=this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin);return this.props.getAnchorClientRect||(e.top+=this.props.topFromOverlaidPosition||0,e.left+=this.props.leftFromOverlaidPosition||0),e},t.prototype.getAdjustStackedElPositionForContainer=function(e){var t=this.getContainerRect();return{top:e.top-t.top,left:e.left-t.left}},t.prototype.getStackedElViewportPosition=function(e,t){var n=this.getAnchorPosition(),i=this.getStackedElCurrentShapeInPositionCoords(),r=o[e.vertical],a=h[e.horizontal],s=o[t.vertical],l=h[t.horizontal],d=n[r],c=n[a];return{top:d-i[s],left:c-i[l]}},t.prototype.getAutoPositionIfNeeded=function(e){var t=this.getStackedElCurrentShapeInPositionCoords(),n=this.getOppositeOriginPosition(),o=p.getLayoutViewportSize(),i=e.top<0||e.top+t.bottom>o.height,r=e.left<0||e.left+t.right>o.width;return i&&(n.top+t.bottom<=o.height?e.top=Math.max(0,n.top):t.bottom<=o.height&&(e.top=Math.max(0,o.height-t.bottom))),r&&(n.left+t.right<=o.width?e.left=Math.max(0,n.left):t.right<=o.width&&(e.left=Math.max(0,o.width-t.right))),e},t.prototype.getOppositeOriginPosition=function(){var e=this.getOppositeOriginsOptions(this.props.anchorOrigin),t=this.getOppositeOriginsOptions(this.props.stackedOrigin),n=this.getStackedElViewportPosition(e,t);return this.props.getAnchorClientRect||(n.top-=this.props.topFromOverlaidPosition||0,n.left-=this.props.leftFromOverlaidPosition||0),n},t.prototype.getOppositeOriginsOptions=function(e){return{horizontal:this.getOppositeHorizontalOption(e.horizontal),vertical:this.getOppositeVerticalOption(e.vertical)}},t.prototype.getOppositeVerticalOption=function(e){return e===o.centerY?o.centerY:e===o.top?o.bottom:o.top},t.prototype.getOppositeHorizontalOption=function(e){return e===h.centerX?h.centerX:e===h.left?h.right:h.left},t.prototype.render=function(){var e=this.props.stackingRootId?this.props.stackingRootId+"-":"";return e=this.props.scrollingRootId?""+e+this.props.scrollingRootId+"-":e,r.createElement("div",{style:{display:"none"}},r.createElement(l.StackingComponentWrapper,{portalEventTrapOverrides:this.props.portalEventTrapOverrides,ref:this.setStackingWrapper,stackingRootId:this.props.stackingRootId,wrapperTestId:e+"Overlay",zIndex:this.props.zIndex},this.props.children))},t.defaultProps={anchorOrigin:{vertical:o.top,horizontal:h.left},stackedOrigin:{vertical:o.top,horizontal:h.left}},t}(r.Component);t.Overlay=g},function(e,t,n){"use strict";function o(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}function i(){var e=o();if(void 0===e.format)throw Error("The formatters-and-parsers.<locale>.js file has not been loaded");return e.format}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleData={get:function(){return i().localeData}};var r=function(e,t){return o().msg.formatMessage(e,t)};t.Messages={close:function(){return r("@tableau__widgets/close")},closeDialog:function(){return r("@tableau__widgets/closeDialog")},customColor:function(){return r("@tableau__widgets/customColor")},increment:function(){return r("@tableau__widgets/increment")},decrement:function(){return r("@tableau__widgets/decrement")},waitIndicatorLabel:function(){return r("@tableau__widgets/waitIndicatorLabel")},enterValidDate:function(){return r("@tableau__widgets/enterValidDate")},previousMonth:function(){return r("@tableau__widgets/previousMonth")},nextMonth:function(){return r("@tableau__widgets/nextMonth")},weekNumber:function(e){return r("@tableau__widgets/weekNumber",e)},noMatches:function(){return r("@tableau__widgets/noMatches")}},t.Formatters={formatFullMonthAndFullYear:function(e){return i().formatDate(e,{skeleton:"yyyyMMMM"})},formatNarrowDayOfWeek:function(e){return i().formatDate(e,{skeleton:"EEEEE"})},formatShortDate:function(e){return i().formatDate(e,{date:"short"})},formatMediumDate:function(e){return i().formatDate(e,{date:"medium"})},formatLongDate:function(e){return i().formatDate(e,{date:"long"})},formatFullDate:function(e){return i().formatDate(e,{date:"full"})},formatShortDateTime:function(e){return i().formatDate(e,{datetime:"short"})},formatMediumDateTime:function(e){return i().formatDate(e,{datetime:"medium"})},formatLongDateTime:function(e){return i().formatDate(e,{datetime:"long"})},formatFullDateTime:function(e){return i().formatDate(e,{datetime:"full"})},formatShortDateWithFullYear:function(e){return i().formatDate(e,{skeleton:"yyyyMd"})},formatShortDateTimeWithFullYear:function(e){return i().formatDate(e,{skeleton:"yyyyMdhm"})},formatShortDateTimeWithFullYear24Hour:function(e){return i().formatDate(e,{skeleton:"yyyyMdHm"})},formatShortDateMediumTimeWithFullYear:function(e){return i().formatDate(e,{skeleton:"yyyyMdhms"})},formatShortDateMediumTimeWithFullYear24Hour:function(e){return i().formatDate(e,{skeleton:"yyyyMdHms"})}},t.Parsers={parseShortDate:function(e){return i().parseDate(e,{date:"short"})},parseMediumDate:function(e){return i().parseDate(e,{date:"medium"})},parseLongDate:function(e){return i().parseDate(e,{date:"long"})},parseFullDate:function(e){return i().parseDate(e,{date:"full"})},parseShortDateTime:function(e){return i().parseDate(e,{datetime:"short"})},parseMediumDateTime:function(e){return i().parseDate(e,{datetime:"medium"})},parseLongDateTime:function(e){return i().parseDate(e,{datetime:"long"})},parseFullDateTime:function(e){return i().parseDate(e,{datetime:"full"})},parseShortDateWithFullYear:function(e){return i().parseDate(e,{skeleton:"yyyyMd"})},parseShortDateTimeWithFullYear:function(e){return i().parseDate(e,{skeleton:"yyyyMdhm"})},parseShortDateTimeWithFullYear24Hour:function(e){return i().parseDate(e,{skeleton:"yyyyMdHm"})},parseShortDateMediumTimeWithFullYear:function(e){return i().parseDate(e,{skeleton:"yyyyMdhms"})},parseShortDateMediumTimeWithFullYear24Hour:function(e){return i().parseDate(e,{skeleton:"yyyyMdHms"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventUserSelect={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",cursor:"default"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(48),s=n(27),l=function(e){function t(t){var n=e.call(this,t)||this;return n.pointerEventAdapter=a.PointerEventAdapterManager.adapterFactory(),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var e=r.findDOMNode(this);this.pointerEventAdapter.didMount(e,this.props)}},t.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},t.prototype.render=function(){var e=this.pointerEventAdapter.getHtmlAttributes(this.props),t=i.Children.only(this.props.children),n={};return Object.keys(e).forEach(function(o){n[o]=s.mergeEventHandlers(e[o],t.props[o])}),i.cloneElement(t,n,t.props.children)},t}(i.PureComponent);t.PointerEventWrapper=l;var d=function(e){var t=s.convertToStatefulComponentClass(e),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(l,this.props,e.prototype.render.call(this))},t}(t);return n.displayName="PointerEventHoC("+s.getComponentName(e)+")",n};t.PointerEventHoC=d;var c=d;t.PointerEventHoCDecorator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(50),s=n(51),l=n(5),d=n(3);!function(e){e[e.Attention=0]="Attention",e[e.Grey=1]="Grey",e[e.Go=2]="Go",e[e.Outline=3]="Outline",e[e.LightOutline=4]="LightOutline",e[e.OutlineGo=5]="OutlineGo",e[e.OutlineAttention=6]="OutlineAttention",e[e.Text=7]="Text",e[e.DarkText=8]="DarkText",e[e.DarkBoldText=9]="DarkBoldText",e[e.Icon=10]="Icon",e[e.IconOutline=11]="IconOutline"}(o||(o={})),t.ButtonType=o;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleActive=function(e){n.props.getContent&&e!==n.state.active&&n.setState({active:e})},n.handleFocus=function(e){n.props.getContent&&e!==n.state.focus&&n.setState({focus:e})},n.handleHover=function(e){n.props.getContent&&e!==n.state.hover&&n.setState({hover:e})},n.state={active:!1,disabled:t.disabled,focus:!1,hover:!1,selected:t.selected},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t={};e.disabled!==this.props.disabled&&(t=e.disabled?{active:!1,disabled:e.disabled,focus:!1,hover:!1}:{disabled:e.disabled}),e.selected!==this.props.selected&&(t.selected=e.selected),this.setState(t)},t.prototype.render=function(){var e=a.getButtonStyle(this.props.buttonType),t={disabled:this.props.disabled,disableTabAccessibility:this.props.disableTabAccessibility,handleClick:this.props.handleClick,interactiveStyle:e.interactive,onActive:this.handleActive,onFocus:this.handleFocus,onHover:this.handleHover,role:this.props.role,selected:this.props.selected,style:i.__assign({},e.base,this.props.style),testId:d.testId(this.props.testId,"Button"),title:this.props.title};return r.createElement(s.ButtonBase,i.__assign({},t),this.props.getContent?this.props.getContent(this.state):this.props.children)},t}(l.DynamicThemeComponent);t.ButtonWidget=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n,o){void 0===n&&(n=0);for(var i=n;i<e.length+n;i++){var r=i%e.length;if(t.call(o,e[r],r))return r}return-1};t.findIndex=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};t.TextEllipsis=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(5),r=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value},e.Text=new e("text"),e.Password=new e("password"),e}();t.TextInputType=r;var a=function(e){function t(t){var n=e.call(this,t)||this;return n.handleInputActive=function(e){n.props.disabled||n.setState({inputActive:e})},n.handleInputFocus=function(e){n.props.disabled||n.setState({inputFocus:e})},n.handleBlur=function(){n.props.disabled||n.props.handleBlur&&n.props.handleBlur()},n.handleInputHover=function(e){n.props.disabled||n.setState({inputHover:e})},n.state=o.__assign({},n.state,{inputFocus:!1,inputActive:!1,inputHover:!1}),n}return o.__extends(t,e),t.prototype.isInputActiveOrHasFocus=function(){return this.state.inputActive||this.state.inputFocus},t.prototype.isPlaceholderShowing=function(){return!this.props.text},t.defaultProps={shouldSelectTextOnFocus:!0},t}(i.DynamicThemeComponent);t.TextFieldBase=a},function(e,t,n){"use strict";function o(e){return!!navigator&&e.test(navigator.userAgent)}function i(e){return t.isMac?e.metaKey||e.ctrlKey:e.ctrlKey}Object.defineProperty(t,"__esModule",{value:!0}),t.isIE=o(/Trident/),t.isEdge=o(/Edge\//),t.isMac=o(/Mac/),t.isCtrl=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(35),s=n(3),l=n(27),d=n(89),c=function(e){function t(t){var n=e.call(this,t)||this;if(n.stackingRoot=n.props.stackingRootId?document.getElementById(n.props.stackingRootId):a.StackingRootConfig.getDefaultRootContainer(),!n.stackingRoot)throw Error("Could not find stacking root.");return n.warnIfRootIsNotPositioned(),n.createMountPoint(),n}return o.__extends(t,e),t.prototype.warnIfRootIsNotPositioned=function(){if(this.stackingRoot!==document.body){var e=window.getComputedStyle(this.stackingRoot).position;if("relative"!==e&&"absolute"!==e)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")}},t.prototype.componentDidMount=function(){this.stackingRoot.appendChild(this.mountPoint)},t.prototype.componentWillUnmount=function(){this.stackingRoot.removeChild(this.mountPoint)},t.prototype.getMountPoint=function(){return this.mountPoint},t.prototype.createMountPoint=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.mountPoint.setAttribute("data-tb-test-id",s.testId(this.props.wrapperTestId,"Root")))},t.prototype.render=function(){return r.createPortal(d.PortalEventTrap(i.Children.only(this.props.children),this.props.portalEventTrapOverrides),this.mountPoint)},t}(i.Component);t.StackingComponentWrapper=c,t.StackingComponentHOC=function(e){var t=l.convertToStatefulComponentClass(e),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(c,this.props,e.prototype.render.call(this))},t}(t);return n.displayName="StackingComponentHOC("+l.getComponentName(e)+")",n}},function(e,t,n){"use strict";function o(e){return{top:e.top+e.height/2,left:e.left+e.width/2}}function i(e,t){return{top:e.top-t.top,left:e.left-t.left}}function r(e,t){return{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}}function a(e,t){var n=o(t);return{top:n.top-e.height/2,left:n.left-e.width/2}}function s(e,t){var n=t.top+t.height,o=t.left+t.width;return{top:Math.max(t.top,Math.min(e.top,n-e.height)),left:Math.max(t.left,Math.min(e.left,o-e.width))}}function l(e,t){return{top:e.top,left:e.left,bottom:e.top+t.height,right:e.left+t.width,width:t.width,height:t.height}}function d(e,t){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height}function c(e,t){return l({left:e.left+t,top:e.top},{width:e.width-t,height:e.height})}function p(e,t){return l({left:isNaN(t)?NaN:e.left,top:e.top},{width:e.width+t,height:e.height})}Object.defineProperty(t,"__esModule",{value:!0}),t.computeCenter=o,t.subtractPositions=i,t.getMaxWidthAndHeight=r,t.computePositionToCenterAreaInBounds=a,t.computePositionToContainBounds=s,t.makeClientRect=l,t.doesRectangleContainPoint=d,t.addClientRectLeft=c,t.addClientRectRight=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(130);t.getTextOutlineStyles=r.getStyles;var a=n(3),s=n(38),l=n(4),d=n(17);t.TextInputType=d.TextInputType;var c=n(32),p=n(60),u=n(9),h=function(e){function t(t){var n=e.call(this,t)||this;return n.inputId=u.generateId(),n.errorLabelId=u.generateId(),n.handleClearHover=function(e){n.props.disabled||n.setState({clearHover:e})},n.state=o.__assign({},n.state,{clearHover:!1}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||this.setState({clearHover:!1})},t.prototype.render=function(){var e=this.props,t=(e.children,e.containerStyle),n=e.displayErrorTextSection,d=e.errorText,u=e.handleClearText,h=e.hasError,g=e.onDarkBackground,f=o.__rest(e,["children","containerStyle","displayErrorTextSection","errorText","handleClearText","hasError","onDarkBackground"]),m=r.getStyles({onDarkBackground:g}),y=o.__assign({},m.placeholder.base,this.props.placeholderStyle,this.props.disabled&&m.placeholder.disabled),v=o.__assign({},m.input.base,!u&&m.input.noClearIconButton,this.state.clearHover&&m.input.interactive.hover,h&&m.errorInput,this.props.inputStyle),b=o.__assign({},f,{"aria-errormessage":a.conditional(n,this.errorLabelId),"aria-invalid":h,"aria-label":this.props["aria-label"]||this.props.placeholder,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,id:this.inputId,inputStyle:v,interactiveStyles:a.conditional(!h,m.input.interactive)}),S={active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled,handleHover:this.handleClearHover,onDarkBackground:g,pointerClick:u,testId:this.props.testId},C=u?i.createElement(p.TextFieldWithClearIcon,{handleClearText:u,textFieldInputProps:b,textFieldClearButtonProps:S}):i.createElement(c.TextFieldInputWidget,o.__assign({},b)),D={"data-tb-test-id":a.testId(this.props.testId,"Placeholder"),htmlFor:this.inputId,style:y},I={"aria-live":"polite","data-tb-test-id":a.testId(this.props.testId,"ErrorLabel"),id:this.errorLabelId,style:m.errorLabel};return i.createElement(l.Block,{style:t},i.createElement(l.Block,null,this.isPlaceholderShowing()&&i.createElement("label",o.__assign({},D),this.props.placeholder),C),n&&i.createElement(l.Block,{style:m.errorContainer},i.createElement("div",o.__assign({},I),h?d:s.Unicode.NonBreakingSpace)))},t}(d.TextFieldBase);t.OutlineTextFieldWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),r=n(6),a={w:Math.ceil(r.SliderHandleIcon.width/2),h:Math.ceil(r.SliderHandleIcon.height/2)},s={w:40,h:40},l={w:s.w/2,h:s.h/2};t.getSliderTrackStyles=function(){var e={Track:{position:"absolute",left:a.w,right:a.w,backgroundColor:i.TabStyles.Colors.L3,height:4,top:18},RangeIndicatorBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.L7},DataBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.L8}};return o.__assign({},e,{RangeIndicatorBarDarkened:o.__assign({},e.RangeIndicatorBar,{backgroundColor:i.TabStyles.Colors.L8}),RangeIndicatorBarFocused:o.__assign({},e.RangeIndicatorBar,{backgroundColor:i.TabStyles.Colors.Focus}),DataBarDarkened:o.__assign({},e.DataBar,{backgroundColor:i.TabStyles.Colors.L9}),DataBarFocused:o.__assign({},e.DataBar,{backgroundColor:"rgb(24, 71, 102)"})})},t.getSliderTickBarStyles=function(){return{Bar:{position:"absolute",left:a.w,right:a.w+1,height:4,top:3},Tick:{position:"absolute",borderLeft:"solid 1px "+i.TabStyles.Colors.L6,height:4,width:0}}},t.getSliderHandleStyles=function(){var e={PositioningContainer:{position:"absolute"},PressIndicationBar:{position:"absolute",borderLeft:"solid 2px "+i.TabStyles.Colors.L9,marginLeft:-1,width:0,height:16,top:-3},HandleInteractiveArea:{position:"absolute",touchAction:"none",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,boxSizing:"content-box",paddingTop:l.h-a.h,paddingBottom:l.h-a.h,paddingLeft:l.w-a.w,paddingRight:l.w-a.w,marginLeft:-1*l.w,WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},HandleIcon:{position:"absolute",touchAction:"none",cursor:"pointer",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,marginLeft:-1*a.w,marginTop:l.h-a.h,outline:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"}};return o.__assign({},e,{HandleInteractiveAreaLeft:o.__assign({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft-5,paddingRight:e.HandleInteractiveArea.paddingRight+5}),HandleInteractiveAreaRight:o.__assign({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft+6,paddingRight:e.HandleInteractiveArea.paddingRight-4}),HandleIconLeft:o.__assign({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft-5}),HandleIconRight:o.__assign({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft+6}),DisabledHandleMixin:{touchAction:void 0},DisabledHandleInnerFocusAreaMixin:{touchAction:void 0,cursor:void 0}})},t.getSliderHandleContainerStyles=function(){return{Container:{position:"absolute",top:0,bottom:0,left:0,right:0,marginLeft:a.w+1,marginRight:a.w},RangeHandleArea:{position:"absolute",cursor:"pointer",height:r.SliderHandleIcon.height,outline:"none",top:l.h-a.h}}},t.getSliderStyles=function(){return{OuterContainer:{paddingLeft:14,paddingRight:14,WebkitTapHighlightColor:"transparent",TapHighlightColor:"transparent"},TrackAndHandleContainer:{position:"relative",height:40}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),r=n(12),a=i.TabStyles.Colors,s=i.TabStyles.Typography,l=i.TabStyles.Sizing,d=i.TabStyles.Spacing;t.datePickerWidgetStyle=o.__assign({backgroundColor:"white",borderColor:a.L5,borderRadius:l.BorderRadius,borderStyle:"solid",borderWidth:l.BorderWidth,boxSizing:"border-box",color:s.Color.Primary,display:"inline-block",fontFamily:s.FontFamily,fontSize:s.Sizing.Default,lineHeight:"normal",padding:d.DefaultSpace},r.PreventUserSelect),t.datePickerHeaderStyle={borderBottom:"1px solid "+a.F4,paddingBottom:d.DefaultSpace},t.datePickerBodyStyle={marginTop:d.DefaultSpace,marginBottom:d.DefaultSpace},t.datePickerDayOfWeekHeaderStyle={marginTop:d.DefaultSpace},t.datePickerButtonStyle={marginBottom:d.DefaultSpace};var c={alignItems:"center",boxSizing:"border-box",color:s.Color.Primary,display:"inline-flex",height:"30px",justifyContent:"center",width:"30px"};t.datePickerCellStyles={dayOfWeekColHeader:o.__assign({},c,{fontWeight:"bold"}),default:o.__assign({},c),disabled:{textDecoration:"line-through"},inOtherMonths:o.__assign({},c,{color:s.Color.Disabled}),isoWeekNum:o.__assign({},c,{fontWeight:"bold",marginRight:d.DefaultSpace}),isoWeekNumColHeader:o.__assign({},c,{fontWeight:"bold",marginRight:d.DefaultSpace}),selected:o.__assign({},c,{backgroundColor:a.F4}),today:o.__assign({},c,{borderColor:a.GoLight,borderRadius:l.BorderRadius,borderStyle:"solid",borderWidth:l.BorderWidth}),todaySelected:o.__assign({},c,{backgroundColor:a.F8,color:a.White})}},function(e,t,n){"use strict";function o(e){switch(e){case"sun":return D.Sun;case"mon":return D.Mon;case"tue":return D.Tue;case"wed":return D.Wed;case"thu":return D.Thu;case"fri":return D.Fri;case"sat":return D.Sat;default:throw new Error("invalid DayOfWeekNames "+e)}}function i(e,t){var n=new Date(e.getTime());return n.setDate(e.getDate()+t),n}function r(e,t){var n=new Date(e.getTime()),o=e.getMonth()+t;return n.setMonth(o),n.getDate()!==e.getDate()&&n.setDate(0),n}function a(e,t){var n=new Date(e.getTime()),o=e.getFullYear()+t;return n.setFullYear(o),n.getMonth()!==e.getMonth()&&n.setDate(0),n}function s(e,t){var n=new Date(e.getTime());return n.setDate(1),n.getDay()<t?n.setDate(n.getDate()-n.getDay()-7+t):n.setDate(n.getDate()-n.getDay()+t),n}function l(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function d(e){return new Date(e.getFullYear(),e.getMonth(),1)}function c(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function p(e,t){var n=new Date(e.getTime());return n.getDay()<t?n.setDate(n.getDate()-n.getDay()-7+t):n.setDate(n.getDate()-n.getDay()+t),n}function u(e,t){var n=new Date(e.getTime());return n.setDate(p(e,t).getDate()+6),n}function h(e){var t=new Date(2018,6,8);t.setDate(t.getDate()+e);for(var n=[],o=0;o<7;o++)n.push(S.Formatters.formatNarrowDayOfWeek(i(t,o)));return n}function g(e){switch(e){case C.DateFormat.ShortDateTime:return S.Formatters.formatShortDateTime;case C.DateFormat.MediumDateTime:return S.Formatters.formatMediumDateTime;case C.DateFormat.LongDateTime:return S.Formatters.formatLongDateTime;case C.DateFormat.FullDateTime:return S.Formatters.formatFullDateTime;case C.DateFormat.ShortDate:return S.Formatters.formatShortDate;case C.DateFormat.MediumDate:return S.Formatters.formatMediumDate;case C.DateFormat.LongDate:return S.Formatters.formatLongDate;case C.DateFormat.FullDate:return S.Formatters.formatFullDate;case C.DateFormat.ShortDateWithFullYear:return S.Formatters.formatShortDateWithFullYear;case C.DateFormat.ShortDateTimeWithFullYear:return S.Formatters.formatShortDateTimeWithFullYear;case C.DateFormat.ShortDateTimeWithFullYear24Hour:return S.Formatters.formatShortDateTimeWithFullYear24Hour;case C.DateFormat.ShortDateMediumTimeWithFullYear:return S.Formatters.formatShortDateMediumTimeWithFullYear;case C.DateFormat.ShortDateMediumTimeWithFullYear24Hour:return S.Formatters.formatShortDateMediumTimeWithFullYear24Hour;default:throw new Error("Unsupported DateFormat: "+e)}}function f(e,n){for(var o=null,i=null,r=0;r<t.dateParsingFunctions.length;r++){var a=t.dateParsingFunctions[r];if(i=a(e)){o=a;break}}return i&&!isNaN(i.getTime())?m(i,o,n):null}function m(e,t,n){var o=new Date(e.getTime());switch(t){case S.Parsers.parseShortDate:case S.Parsers.parseMediumDate:case S.Parsers.parseLongDate:case S.Parsers.parseFullDate:case S.Parsers.parseShortDateWithFullYear:return n===b.End?o.setHours(24,0,0,-1):o.setHours(0,0,0,0),o;case S.Parsers.parseShortDateTimeWithFullYear:case S.Parsers.parseShortDateTimeWithFullYear24Hour:return n===b.End?o.setSeconds(60,-1):o.setSeconds(0,0),o;default:return o}}function y(e){e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.valueOf()-t.valueOf())/864e5+1)/7)}function v(e){return e?D.Mon:o(S.LocaleData.get().firstDayOfWeek)}Object.defineProperty(t,"__esModule",{value:!0});var b,S=n(11),C=n(70);!function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(b=t.DateTerminus||(t.DateTerminus={}));var D;!function(e){e[e.Sun=0]="Sun",e[e.Mon=1]="Mon",e[e.Tue=2]="Tue",e[e.Wed=3]="Wed",e[e.Thu=4]="Thu",e[e.Fri=5]="Fri",e[e.Sat=6]="Sat"}(D=t.DayOfWeek||(t.DayOfWeek={})),t.getDayOfWeekEnum=o,t.getDateWithDayOffset=i,t.getDateWithMonthOffset=r,t.getDateWithYearOffset=a,t.getFirstDisplayedDate=s,t.areSameDates=l,t.getFirstDayOfMonth=d,t.getLastDayOfMonth=c,t.getFirstDayOfWeek=p,t.getLastDayOfWeek=u,t.getLocalizedDaysOfWeek=h,t.dateParsingFunctions=[S.Parsers.parseShortDateTimeWithFullYear,S.Parsers.parseShortDateTimeWithFullYear24Hour,S.Parsers.parseShortDateMediumTimeWithFullYear,S.Parsers.parseShortDateMediumTimeWithFullYear24Hour,S.Parsers.parseShortDateTime,S.Parsers.parseMediumDateTime,S.Parsers.parseLongDateTime,S.Parsers.parseFullDateTime,S.Parsers.parseShortDate,S.Parsers.parseMediumDate,S.Parsers.parseLongDate,S.Parsers.parseFullDate,S.Parsers.parseShortDateWithFullYear],t.getDateFormatter=g,t.getParsedDate=f,t.getDateWithTerminus=m,t.getISOWeekNum=y,t.getStartDayOfWeek=v},function(e,t,n){"use strict";function o(e,t,n,o){for(var i=n+o;i>=0&&i<e.length;i+=o)if(t(e[i]))return i;return n}function i(e,t,n){return o(e,s,t,n)}function r(e,t,n){return o(e,l,t,n)}function a(e,t){return o(e,function(e){return t&&e.value===t},0,1)}function s(e){return e&&!e.separator}function l(e){return s(e)&&e&&!e.disabled}function d(e,t){return e.filter(function(e){return e.separator||e.value&&e.value.toLowerCase().indexOf(t.toLowerCase())>=0}).filter(function(e,t,n){return!(e.separator&&t>0&&n[t-1].separator)}).filter(function(e,t,n){return!(e.separator&&(0===t||t===n.length-1))})}Object.defineProperty(t,"__esModule",{value:!0}),t.findFocusableItemIndex=i,t.findSelectableItemIndex=r,t.findItemWithValue=a,t.isFocusableItem=s,t.isSelectableItem=l,t.defaultItemFilter=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.suppressionClassName=void 0,e}();t.ClickBustingConfig=o},function(e,t,n){"use strict";function o(e){return!e.prototype.render}function i(e){var t;if(o(e)){var n=e;return t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){return n(this.props)},t}(l.Component),t.displayName=a(n),t}return e}function r(e,t){return e&&t&&function(n){e(n),t(n)}||e||t}function a(e){return e.displayName||e.name||"AnonymousComponent"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0);t.convertToStatefulComponentClass=i,t.mergeEventHandlers=r,t.getComponentName=a},function(e,t,n){"use strict";function o(e){return e.getBoundingClientRect()}function i(){var e=document.documentElement.getBoundingClientRect();return{top:-e.top,left:-e.left}}function r(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}function a(){var e=s(),t={left:e.offsetLeft,top:e.offsetTop},n={width:e.width,height:e.height};return l.makeClientRect(t,n)}function s(){return"visualViewport"in window?window.visualViewport:new d}Object.defineProperty(t,"__esModule",{value:!0});var l=n(20);t.getElementPositionRelativeToLayoutViewport=o,t.getLayoutViewportPositionRelativeToPage=i,t.getLayoutViewportSize=r,t.getVisualViewportRectRelativeToLayoutViewport=a;var d=function(){function e(){}return Object.defineProperty(e.prototype,"offsetLeft",{get:function(){var e=i();return window.pageXOffset-e.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetTop",{get:function(){var e=i();return window.pageYOffset-e.top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageLeft",{get:function(){return window.pageXOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageTop",{get:function(){return window.pageYOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return window.innerWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return window.innerHeight},enumerable:!0,configurable:!0}),e}();t.getVisualViewport=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(3),a=n(2),s=n(7),l=n(5),d=a.TabStyles.Typography,c=function(){return{base:{fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,lineHeight:"normal",cursor:"default"},disabled:{color:d.Color.Disabled}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=c(),t=o.__assign({},e.base,this.props.style,r.conditional(this.props.disabled,e.disabled));return i.createElement("label",{style:t,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},t=o.__decorate([s.InteractiveDomHoCDecorator],t)}(l.DynamicThemeComponent);t.InputLabelWidget=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(49),a=n(0),s=n(8),l=n(2),d=n(3),c=n(20),p=n(115),u=n(10),h=n(116),g=n(28),f=n(117),m=n(5),y=n(118),v=n(119);!function(e){e[e.Centered=0]="Centered",e[e.Maximized=1]="Maximized",e[e.Draggable=2]="Draggable",e[e.Anchored=3]="Anchored"}(o=t.DialogPositioningBehavior||(t.DialogPositioningBehavior={}));!function(e){e[e.NormalWithTitleBar=0]="NormalWithTitleBar",e[e.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",e[e.Uber=2]="Uber",e[e.LightweightTitleBar=3]="LightweightTitleBar"}(t.DialogType||(t.DialogType={})),t.SharedWidgetsDialogLabel="SharedWidgetsDialogLabel";var b=500,S=100,C=0,D=function(){return{Dialog:{borderWidth:l.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:l.TabStyles.Colors.L5,borderRadius:l.TabStyles.Sizing.BorderRadius,backgroundColor:l.TabStyles.Colors.White,cursor:"default",boxShadow:l.TabStyles.Shadow.Standard,display:"flex",flexDirection:"column"}}},I=function(e){function n(t){var n=e.call(this,t)||this;return n.throttledHandleAdjustPositionOnResize=r(function(){return n.handleAdjustPositionOnResize()},S),n.handleAdjustPositionOnResize=function(){n.props.shouldAdjustPositionOnWindowResize&&(n.sizingWrapper&&n.sizingWrapper.updateSize(),n.repositionDialog())},n.handleFloaterWidgetRef=function(e){n.floaterWidget=e},n.handleOverlayRef=function(e){n.overlay=e},n.handleSizingWrapperRef=function(e){n.sizingWrapper=e},n.getDialogFloaterClientRect=function(){return n.floaterWidget?n.floaterWidget.getFloaterClientRect():null},n.dragBoundedDialogFloaterPosition=function(e){n.state.hasBeenDragged||n.setState({hasBeenDragged:!0}),n.floaterWidget&&n.floaterWidget.setPosition(n.getBoundedFloaterPos(e))},n.handleOrientationChange=function(){if(n.resizeAndRepositionTimeoutId)return clearTimeout(n.resizeAndRepositionTimeoutId),void(n.resizeAndRepositionTimeoutId=window.setTimeout(n.resizeAndRepositionCallback,b));n.hideDialogAndThen(function(e){n.forceRepaintHack(),n.resizeAndRepositionCallback=function(){n.resizeAndRepositionTimeoutId=null,n.resizeAndRepositionCallback=null,n.sizingWrapper.updateSize(),e&&e(),n.repositionDialog()},n.resizeAndRepositionTimeoutId=window.setTimeout(n.resizeAndRepositionCallback,b)})},n.getAnchorClientRect=function(){return n.props.getAnchorClientRect?n.props.getAnchorClientRect():n.props.anchorEl?n.props.anchorEl.getBoundingClientRect():void 0},n.handleGlassEscape=function(){n.props.onCloseRequest()},n.instanceId=C++,n.state={hasBeenDragged:!1},n}return i.__extends(n,e),n.prototype.addResizeEventListener=function(){window.addEventListener("resize",this.throttledHandleAdjustPositionOnResize)},n.prototype.removeResizeEventListener=function(){window.removeEventListener("resize",this.throttledHandleAdjustPositionOnResize)},n.prototype.repositionDialog=function(){switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.centerInVisualViewport();break;case o.Draggable:this.state.hasBeenDragged?this.repositionDraggedDialog():this.floaterWidget.centerInVisualViewport();break;case o.Anchored:this.overlay&&this.overlay.setPlacement();break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},n.prototype.saveDraggedDialogPositionBeforeHide=function(){this.dragPositionBeforeHide=this.getDialogFloaterClientRect()},n.prototype.repositionDraggedDialog=function(){var e;this.dragPositionBeforeHide?(e=this.dragPositionBeforeHide,this.dragPositionBeforeHide=void 0):e=this.getDialogFloaterClientRect(),this.floaterWidget.setPosition(this.getBoundedFloaterPos(e))},n.prototype.hideDialogAndThen=function(e){var t;switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case o.Draggable:this.saveDraggedDialogPositionBeforeHide(),this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case o.Anchored:var n=s.findDOMNode(this.sizingWrapper),i=n.style.display;n.style.display="none",t=function(){n.style.display=i};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}e(t)},n.prototype.forceRepaintHack=function(){var e=s.findDOMNode(this),t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},n.prototype.getBoundedFloaterPos=function(e){var t=this.floaterWidget.getFloaterClientRect(),n={top:e.top,left:e.left,width:t.width,height:t.height},o=g.getVisualViewport(),i={top:0,left:0,width:o.width,height:o.height};return c.computePositionToContainBounds(n,i)},n.prototype.getPositionedDialogElem=function(e){switch(this.props.positioningBehavior){case o.Centered:case o.Draggable:case o.Maximized:var t=d.testId(this.props.testId,"Dialog");return a.createElement(f.FloaterWidget,{portalEventTrapOverrides:this.props.portalEventTrapOverrides,testId:t,stackingRootId:this.props.stackingRootId,ref:this.handleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged,wrapperTestId:d.testId(t,"Floater")},e);case o.Anchored:var n={portalEventTrapOverrides:this.props.portalEventTrapOverrides,getAnchorClientRect:this.getAnchorClientRect,anchorOrigin:this.props.anchorOrigin||{vertical:u.VerticalOriginOption.bottom,horizontal:u.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:u.VerticalOriginOption.top,horizontal:u.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.dialogStyle?parseFloat(this.props.dialogStyle.left)||0:void 0,topFromOverlaidPosition:this.props.dialogStyle?parseFloat(this.props.dialogStyle.top)||0:void 0};return a.createElement(u.Overlay,i.__assign({},n,{ref:this.handleOverlayRef}),e);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},n.prototype.getGlassElem=function(){var e=d.testId(this.props.testId,"Dialog");return a.createElement(y.GlassWidget,{testId:e,handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,handleEscape:this.handleGlassEscape,wrapperTestId:d.testId(e,"Glass")})},n.prototype.componentDidMount=function(){p.OrientationChange.addListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()},n.prototype.componentDidUpdate=function(e){this.props.shouldAdjustPositionOnWindowResize!==e.shouldAdjustPositionOnWindowResize&&(this.props.shouldAdjustPositionOnWindowResize?this.addResizeEventListener():this.removeResizeEventListener())},n.prototype.componentWillUnmount=function(){p.OrientationChange.removeListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.removeResizeEventListener()},n.prototype.render=function(){void 0===this.props.title&&console.warn("DialogWidget: 'title' prop should be defined");var e=i.__assign({},this.props,{id:""+t.SharedWidgetsDialogLabel+this.instanceId,getDraggableDialogClientRect:this.getDialogFloaterClientRect,setDraggableDialogPosition:this.dragBoundedDialogFloaterPosition,testId:d.testId(this.props.testId,"Dialog")}),n={isMaximized:this.props.positioningBehavior===o.Maximized,horizontalMargins:40,verticalMargins:40,style:i.__assign({},D().Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.handleSizingWrapperRef,testId:d.conditional(this.props.positioningBehavior===o.Anchored,d.testId(this.props.testId,"Dialog"))},r=a.createElement(h.ViewportConstrainedDomWrapper,n,a.createElement(v.DialogContent,e));return a.createElement("div",{style:{display:"none"}},d.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(r))},n}(m.DynamicThemeComponent);t.DialogWidget=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(2),s=n(9),l=n(58),d=n(10),c=n(4),p=n(5),u=n(59),h=n(42),g={vertical:d.VerticalOriginOption.bottom,horizontal:d.HorizontalOriginOption.left},f=a.TabStyles.Spacing,m=a.TabStyles.Sizing,y=a.TabStyles.Colors,v=a.TabStyles.Shadow,b=function(){return{backgroundColor:"white",borderWidth:m.BorderWidth,borderRadius:m.BorderRadius,borderColor:y.L6,borderStyle:"solid",boxShadow:v.Standard}},S=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSearchEscape=function(){n.state.searchString?n.setState({searchString:""}):n.onRequestClose()},n.handleCancelSearch=function(){n.setState({searchString:void 0})},n.handleSearchChanged=function(e){n.setState({searchString:e})},n.handleSearchEnter=function(){n.listWidgetInstance&&n.listWidgetInstance.selectActive()},n.getFilteredMenuItems=function(){return n.state.searchString?n.props.menuItemInfos.filter(function(e){return e.isDivider||e.keyboardAccessibleValue&&e.keyboardAccessibleValue.toUpperCase().indexOf(n.state.searchString.toUpperCase())>=0}).filter(function(e,t,n){return!(e.isDivider&&t>0&&n[t-1].isDivider)}).filter(function(e,t,n){return!(e.isDivider&&(0===t||t===n.length-1))}):n.props.menuItemInfos},n.onRequestClose=function(){n.props.requestCloseAll()},n.handleKeyDown=function(e){switch(e.key){case"ArrowUp":case"ArrowDown":if(!("search"===n.state.focusLocation&&n.getFilteredMenuItems().length>0))return;n.setState({focusLocation:"list"});break;case"Tab":"search"===n.state.focusLocation?n.getFilteredMenuItems().length>0&&n.setState({focusLocation:"list"}):n.props.__UNSUPPORTED__showSearchField&&n.setState({focusLocation:"search"});break;default:return}e.preventDefault(),e.stopPropagation()},n.setSearchDomNode=function(e){n.searchDomNode=e},n.handleListRef=function(e){n.listWidgetInstance=e},n.setFlyoutDomNode=function(e){n.flyoutDomNode=r.findDOMNode(e)},n.handleFocus=function(e){var t=e.target,o=n.getListDomNode(),i=n.state.focusLocation;n.searchDomNode&&n.searchDomNode.contains(t)?i="search":o&&o.contains(t)&&(i="list"),n.state.focusLocation!==i&&n.setState({focusLocation:i})},n.getAnchorClientRect=function(){return n.props.getAnchorClientRect?n.props.getAnchorClientRect():n.props.anchorEl?n.props.anchorEl.getBoundingClientRect():void 0},n.state={searchString:"",focusLocation:n.props.__UNSUPPORTED__showSearchField?"search":"list"},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.flyoutDomNode&&(this.pointerDownOutsideFlyoutListenerUnsubscribe=l.GlobalPointerDownOutsideListener.subscribe(this.flyoutDomNode,this.onRequestClose)),this.props.toggleEl&&(this.pointerDownOutsideToggleElListenerUnsubscribe=l.GlobalPointerDownOutsideListener.subscribe(this.props.toggleEl,this.onRequestClose)),this.syncFocus()},t.prototype.componentDidUpdate=function(){this.syncFocus()},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideFlyoutListenerUnsubscribe&&this.pointerDownOutsideFlyoutListenerUnsubscribe(),this.pointerDownOutsideToggleElListenerUnsubscribe&&this.pointerDownOutsideToggleElListenerUnsubscribe(),this.props.toggleEl&&this.props.shouldReturnFocusToToggleEl&&s.timeoutFocus(this.props.toggleEl)},t.prototype.syncFocus=function(){if("list"===this.state.focusLocation){var e=this.getListDomNode();e&&e.focus()}else"search"===this.state.focusLocation&&this.searchDomNode&&this.searchDomNode.focus()},t.prototype.getListDomNode=function(){return r.findDOMNode(this.listWidgetInstance)},t.prototype.renderSearchField=function(){if(this.props.__UNSUPPORTED__showSearchField)return i.createElement(h.SearchFieldWidget,{containerStyle:{margin:f.SmallSpace,marginBottom:f.DefaultSpace},handleCancelSearch:this.handleCancelSearch,handleChange:this.handleSearchChanged,handleEnter:this.handleSearchEnter,handleEscape:this.handleSearchEscape,inputRef:this.setSearchDomNode,placeholder:this.props.__UNSUPPORTED__searchDefaultText,shouldSelectTextOnFocus:!1,testId:"flyout-search",text:this.state.searchString})},t.prototype.render=function(){var e={allowAutoPosition:this.props.allowAutoPosition,anchorOrigin:this.props.anchorOrigin||g,getAnchorClientRect:this.getAnchorClientRect,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,leftFromOverlaidPosition:this.props.leftFromOverlaidPosition,scrollingRootId:this.props.scrollingRootId,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,stackedOrigin:this.props.stackedOrigin,stackingRootId:this.props.stackingRootId,topFromOverlaidPosition:this.props.topFromOverlaidPosition,zIndex:this.props.zIndex},t={onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,ref:this.setFlyoutDomNode,style:o.__assign({},b(),this.props.menuStyle)},n={__INTERNAL__isListbox:this.props.__INTERNAL__isListbox,__INTERNAL__focusIndex:this.props.__INTERNAL__focusIndex,focusDisabled:"search"===this.state.focusLocation,id:this.props.id,letterSearchDisabled:this.props.__UNSUPPORTED__showSearchField,maxHeight:this.props.maxHeight,menuItemInfos:this.getFilteredMenuItems(),onEscapeKeyUp:this.props.onEscapeKeyUp,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onMouseEnter:this.props.onMouseEnter,onSelect:this.props.onSelect,requestCloseAll:this.onRequestClose,scrollingRootId:this.props.scrollingRootId,stackingRootId:this.props.stackingRootId,subMenuAllowAutoPosition:this.props.allowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,testId:this.props.testId,zIndex:this.props.zIndex};return i.createElement(d.Overlay,o.__assign({},e),i.createElement(c.Block,o.__assign({},t),this.renderSearchField(),i.createElement(u.ListMenuWidget,o.__assign({},n,{ref:this.handleListRef}))))},t.defaultProps={shouldReturnFocusToToggleEl:!0},t}(p.DynamicThemeComponent);t.GenericFlyoutListMenuWidget=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),a=n(18),s=n(7),l=n(37),d=n(17),c=a.isIE||a.isEdge,p=c?"shared-widgets-text-input-ie-fix":"";c&&(l.SingletonStyleSheet.addRawSelector("."+p+":focus",{"background-color":r.TabStyles.Colors.Transparent}),l.SingletonStyleSheet.addRawSelector("."+p+"::-ms-clear",{display:"none"}));var u={input:{width:"100%",boxSizing:"border-box",WebkitAppearance:"none"}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleComposition=function(e){"compositionend"===e.type?(t.isComposing=!1,t.handleInputChange(e)):t.isComposing=!0},t.handleInputRef=function(e){t.props.inputRef&&t.props.inputRef(e)},t.handleInputChange=function(e){!t.props.disabled&&t.props.handleChange&&t.props.handleChange(e.target.value,t.isComposing)},t.handleInputFocus=function(e){if(t.props.shouldSelectTextOnFocus&&!t.shouldIgnoreFocusEvent(e)){var n=e.target;window.setTimeout(function(){try{n.value&&n.setSelectionRange(0,n.value.length)}catch(e){n.select()}})}},t.handleKeyDown=function(e){t.props.disabled||t.isComposing||t.props.onKeyDown&&t.props.onKeyDown(e)},t.handleKeyUp=function(e){t.props.disabled||t.isComposing||("Enter"===e.key&&t.props.handleEnter&&t.props.handleEnter(),"Escape"===e.key&&t.props.handleEscape&&t.props.handleEscape())},t}return o.__extends(t,e),t.prototype.shouldIgnoreFocusEvent=function(e){var t=e.target,n=e.relatedTarget;return!!(t.lastFocusEventMs&&e.timeStamp<t.lastFocusEventMs+100)||(t.lastFocusEventMs=e.timeStamp,n&&(n.lastFocusEventMs=e.timeStamp),!1)},t.prototype.render=function(){var e=this.props,t=(e.containerStyle,e.handleActive,e.handleBlur),n=(e.handleChange,e.handleEnter,e.handleEscape,e.handleFocus,e.handleHover,e.inputRef,e.inputStyle),r=(e.interactiveStyles,e.onDarkBackground,e.placeholder,e.placeholderStyle,e.pointerClick,e.pointerDoubleClick,e.pointerDown,e.pointerUp,e.shouldSelectTextOnFocus,e.testId),a=e.text,s=e.type,l=o.__rest(e,["containerStyle","handleActive","handleBlur","handleChange","handleEnter","handleEscape","handleFocus","handleHover","inputRef","inputStyle","interactiveStyles","onDarkBackground","placeholder","placeholderStyle","pointerClick","pointerDoubleClick","pointerDown","pointerUp","shouldSelectTextOnFocus","testId","text","type"]);return i.createElement("input",o.__assign({},l,{className:p,"data-tb-test-id":r+"-TextInput",onBlur:t,onChange:this.handleInputChange,onCompositionEnd:this.handleComposition,onCompositionStart:this.handleComposition,onCompositionUpdate:this.handleComposition,onFocus:this.handleInputFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.handleInputRef,style:o.__assign({},u.input,n),type:s.toString(),value:a}))},t.defaultProps={shouldSelectTextOnFocus:!0,text:"",type:d.TextInputType.Text},t=o.__decorate([s.InteractiveDomHoCDecorator],t)}(i.Component);t.TextFieldInputWidget=h},function(e,t,n){"use strict";function o(e,t,n){return n<t?NaN:Math.min(Math.max(e,t),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(64),s=n(149),l=n(153),d=n(154),c=n(65),p=n(22);!function(e){e.Both="both",e.Left="left",e.Right="right"}(o=t.HandleType||(t.HandleType={}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.getTickCount=function(){return n.props.isDiscrete?Math.floor(n.props.max)-Math.ceil(n.props.min)+1:0},n.getIndicatorAndDataBarPositions=function(e,t){if(h(n.props.value)&&!n.props.isDiscrete){if(n.props.openEndedAt===a.OpenEndedAt.Min)return{indicatorBarPosition:{start:0,end:e}};if(n.props.openEndedAt===a.OpenEndedAt.Max)return{indicatorBarPosition:{start:e,end:1}}}else if(!h(n.props.value)){var o=void 0;if(n.props.trackBarDataRange){var i=n.sliderValueLogic.calculateSliderPositionAsProportion(n.props.trackBarDataRange.from),r=n.sliderValueLogic.calculateSliderPositionAsProportion(n.props.trackBarDataRange.to);o={start:Math.max(e,i),end:Math.min(t,r)}}return{indicatorBarPosition:{start:e,end:t},dataBarPosition:o}}return{}},n.fireOnChangeForSingleValue=function(e,t){n.props.onChange&&(h(n.props.value)?t!==n.props.value&&n.props.onChange(t):e===o.Left&&t!==n.props.value.from?n.props.onChange({from:Math.min(t,n.props.value.to),to:n.props.value.to}):e===o.Right&&t!==n.props.value.to&&n.props.onChange({from:n.props.value.from,to:Math.max(t,n.props.value.from)}))},n.fireOnChangeForTwoValues=function(e,t){!n.props.onChange||h(n.props.value)||e>t||n.props.onChange({from:e,to:t})},n.onHandleDragStart=function(e,t){n.setState({areHandlesBeingDragged:!0});var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForSingleValue(e,o)},n.onHandleDragMove=function(e,t){var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForSingleValue(e,o)},n.onHandleDragEnd=function(){n.setState({areHandlesBeingDragged:!1})},n.onBothHandleDragStart=function(){n.setState({areHandlesBeingDragged:!0})},n.onBothHandleDragMove=function(e,t){var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(e),i=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForTwoValues(o,i)},n.onBothHandleDragEnd=function(){n.setState({areHandlesBeingDragged:!1})},n.onHandleKeyDown=function(e,t){if(e!==o.Both){var i;i=h(n.props.value)?n.props.value:e===o.Left?n.props.value.from:n.props.value.to;var r=n.sliderValueLogic.calculateNewSliderValueForKey(t,i);void 0!==r&&n.fireOnChangeForSingleValue(e,r)}else if(!h(n.props.value)){var a=n.sliderValueLogic.calculateNewSliderRangeValueForKey(t,n.props.value);n.fireOnChangeForTwoValues(a.from,a.to)}},n.handleRangeHandleFocus=function(e){n.setState({isRangeHandleFocused:e})},n.state={areHandlesBeingDragged:!1,isRangeHandleFocused:!1},n.sliderValueLogic=new c.SliderValueLogic(n.props.min,n.props.max,!!n.props.isDiscrete),n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.isDiscrete===e.isDiscrete&&this.props.min===e.min&&this.props.max===e.max||(this.sliderValueLogic=new c.SliderValueLogic(e.min,e.max,!!e.isDiscrete))},t.prototype.getSliderHandleAriaAttributes=function(e){return{"aria-label":this.props.ariaLabel,"aria-valuemax":this.props.isDiscrete?Math.floor(this.props.max):this.props.max,"aria-valuemin":this.props.isDiscrete?Math.ceil(this.props.min):this.props.min,"aria-valuenow":e}},t.prototype.render=function(){var e=p.getSliderStyles(),t=void 0,n=void 0,o=void 0,a=void 0;h(this.props.value)?(t=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value),o=this.getSliderHandleAriaAttributes(this.props.value)):(t=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.from),n=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.to),o=this.getSliderHandleAriaAttributes(this.props.value.from),a=this.getSliderHandleAriaAttributes(this.props.value.to));var c=this.getTickCount(),u=this.getIndicatorAndDataBarPositions(t,n);return r.createElement("div",{style:i.__assign({},e.OuterContainer,this.props.style||{}),"data-tb-test-id":this.props.testId},r.createElement("div",{style:e.TrackAndHandleContainer},c>1&&r.createElement(l.SliderTickBarWidget,{testId:this.props.testId,tickCount:c}),r.createElement(d.SliderTrackWidget,{rangeIndicatorBarPosition:u.indicatorBarPosition,dataBarPosition:u.dataBarPosition,handleIsBeingDragged:this.state.areHandlesBeingDragged,isRangeHandleFocused:this.state.isRangeHandleFocused,testId:this.props.testId}),r.createElement(s.SliderHandleContainer,{onHandleDragStart:this.onHandleDragStart,onHandleDragMove:this.onHandleDragMove,onHandleDragEnd:this.onHandleDragEnd,onHandleKeyDown:this.onHandleKeyDown,onBothHandleDragStart:this.onBothHandleDragStart,onBothHandleDragMove:this.onBothHandleDragMove,onBothHandleDragEnd:this.onBothHandleDragEnd,onRangeHandleFocus:this.handleRangeHandleFocus,handles:{leftHandlePosition:t,rightHandlePosition:n},handlesAriaAttributes:{leftHandleAriaAttributes:o,rightHandleAriaAttributes:a},disabled:this.props.disabled,testId:this.props.testId})))},t}(r.Component);t.SliderBaseWidget=u;var h=function(e){return"number"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultStackingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultStackingRootId?document.getElementById(e.defaultStackingRootId):document.body;if(!t)throw Error("Could not find stacking root.");return t},e}();t.StackingRootConfig=o},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document&&this.initializeStyleSheet(e)}return e.prototype.addRawSelector=function(e,t){var n=this.toRuleBody(t);if(e in this.rawSelectorLookup)throw new Error(e+" has already been defined.");this.rawSelectorLookup[e]=!0,this.addRule(e+" {"+n+"}")},e.prototype.addClass=function(e,t){var n=this.toRuleBody(e),o=this.classNameLookup[n];if(o){if(t&&t!==o)throw new Error("Attempting to define css rule using class name '"+t+"', but a class with the given\n           rule body already exists under class name '"+o+"'. Rule body: "+n+".");return o}return t||(t="shared-widgets_"+this.idCounter++),this.classNameLookup[n]=t,this.addRule("."+t+" {"+n+"}"),t},e.prototype.addAnimation=function(e,t){var n=e.options,o=JSON.stringify(e),i=this.classNameLookup[o];if(i){if(t&&t!==i)throw new Error("Attempting to define css animation using class name '"+t+"', but a css rule with that\n           definition already exists under class name '"+i+"'. Definition: "+e);return i}var r=this.addKeyframes(e.keyframes),a=this.addClass({"animation-duration":n.durationMs/1e3+"s","animation-timing-function":n.timingFunction,"animation-iteration-count":""+(n.count===1/0?"infinite":n.count),"animation-direction":n.direction,"animation-name":r},t);return this.classNameLookup[o]=a,a},e.prototype.dispose=function(){var e=this.styleSheet.ownerNode;e.parentElement.removeChild(e)},e.prototype.addKeyframes=function(e){var t=this,n=e.fromCSSLines,o=e.toCSSLines,i=e.tweenFrames,r="shared-widgets_"+this.idCounter++,a=[{percent:0,cssLines:n},{percent:100,cssLines:o}].concat(i),s=a.map(function(e){return e?e.percent+"% { "+t.toRuleBody(e.cssLines)+" }":""});return this.addRule("@keyframes "+r+" { "+s.join(" ")+"}"),r},e.prototype.toRuleBody=function(e){return Object.keys(e).map(function(t){if(t.toLowerCase()!==t)throw new Error("The CSS prop '"+t+"' should be written kebab-case, not camelCase");return t+": "+e[t]+";"}).join("")},e.prototype.addRule=function(e){try{this.styleSheet.insertRule(e,this.styleSheet.cssRules.length)}catch(t){throw new Error(t+". Stylesheet injection of "+e+" failed.  This browser may not support the given CSS rule or selector")}},e.prototype.initializeStyleSheet=function(e){var t="tableau-widgets-appendedCustomStyle-"+e,n=document.createElement("style");n.setAttribute("type","text/css"),n.id=t,n.appendChild(document.createTextNode("")),document.head.appendChild(n),this.styleSheet=document.getElementById(t).sheet},e}();t.StyleSheet=o;var i=new o("singleton");t.SingletonStyleSheet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={NonBreakingSpace:" "};t.Unicode=o},function(e,t,n){"use strict";function o(e){return"number"==typeof e.clientX}function i(e){return!!e.touches}function r(e){if(o(e))return{x:e.clientX,y:e.clientY};if(i(e))return{x:e.touches[0].clientX,y:e.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMouseEvent=o,t.isTouchEvent=i,t.getClientPosition=r},function(e,t,n){"use strict";function o(e){throw new Error("Unexpected object: "+e)}function i(e){return"Left"===e||"Right"===e}function r(e){return!i(e)}function a(e){switch(e){case"Top":return"Right";case"Right":return"Bottom";case"Bottom":return"Left";case"Left":return"Top";default:return o(e)}}function s(e){switch(e){case"Top":return"Left";case"Left":return"Bottom";case"Bottom":return"Right";case"Right":return"Top";default:return o(e)}}function l(e,t){var n=d(e),o=d(t);return n.containsRectangle(o)}function d(e){var t=e.left,n=e.right,o=e.top,i=e.bottom;return new f(t,n,o,i)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1);t.assertNever=o,t.NumberOfSides=4,t.isHorizontalSide=i,t.isVerticalSide=r,t.getNextSideClockwise=a,t.getNextSideCounterClockwise=s;var p=function(){function e(e,t){if(this.min=e,this.max=t,t<e)throw new Error("max less than min")}return e.prototype.equals=function(e){return this.containsInterval(e)&&e.containsInterval(this)},e}();t.Interval=p;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype.containsNumber=function(e){return this.min<=e&&e<=this.max},t.prototype.containsInterval=function(e){return this.min<=e.min&&e.max<=this.max},t}(p);t.ClosedInterval=u;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype.containsNumber=function(e){return this.min<e&&e<this.max},t.prototype.containsInterval=function(e){var t=e.containsNumber(e.min)?this.min<e.min:this.min<=e.min,n=e.containsNumber(e.max)?e.max<this.max:e.max<=this.max;return t&&n},t}(p);t.OpenInterval=h;var g=function(){function e(){}return e.prototype.containsPoint=function(e,t){return this.xInterval.containsNumber(e)&&this.yInterval.containsNumber(t)},e.prototype.containsRectangle=function(e){return this.xInterval.containsInterval(e.xInterval)&&this.yInterval.containsInterval(e.yInterval)},e.prototype.equals=function(e){return this.containsRectangle(e)&&e.containsRectangle(this)},e}();t.Rectangle=g;var f=function(e){function t(t,n,o,i){var r=e.call(this)||this;return r.xInterval=new u(t,n),r.yInterval=new u(o,i),r}return c.__extends(t,e),t}(g);t.ClosedRectangle=f,t.containsClientRect=l},function(e,t,n){"use strict";function o(e){return{container:{},button:{base:l.__assign({borderWidth:T.BorderWidth,borderRadius:T.BorderRadius,borderColor:e.primaryLineColors.normal,borderStyle:"solid",backgroundColor:k.Transparent,height:T.RowHeight,paddingLeft:_.DefaultSpace,paddingRight:_.LargeSpace+_.DefaultSpace,outline:"none",fontSize:x.Sizing.Default,fontFamily:x.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal},f.TextEllipsis,m.PreventUserSelect),interactive:{hover:{borderColor:e.primaryLineColors.hover},active:{borderColor:e.primaryLineColors.active},focus:{borderColor:e.primaryLineColors.focus},disabled:{borderColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:0,height:e.innerRowHeight,borderWidth:T.BorderWidth,borderColor:e.secondaryLineColors.normal,borderStyle:"none none none solid"},icon:{marginTop:(e.innerRowHeight-S.OutlineDropdownArrowIcon.height)/2}}}function i(e){return{container:{},button:{base:l.__assign({borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:T.BorderWidth,borderBottomColor:e.primaryLineColors.normal,borderBottomStyle:"solid",backgroundColor:k.Transparent,height:T.RowHeight,paddingRight:_.LargeSpace+_.DefaultSpace,outline:"none",fontSize:x.Sizing.Default,fontFamily:x.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal},f.TextEllipsis,m.PreventUserSelect),interactive:{hover:{borderBottomColor:e.primaryLineColors.hover},active:{borderBottomColor:e.primaryLineColors.active},focus:{borderBottomColor:e.primaryLineColors.focus},disabled:{borderBottomColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{top:T.BorderWidth,lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:0,border:"none"},icon:{marginTop:(e.innerRowHeight-S.LineAndTextDropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:x.Sizing.Tiny,fontFamily:x.FontFamily,fontWeight:"normal",color:e.secondaryTextColors.normal,lineHeight:"19px"}}}function r(e){return{container:{display:"inline-block",width:"auto"},button:{base:l.__assign({border:"none",backgroundColor:k.Transparent,height:T.RowHeight,outline:"none",fontSize:x.Sizing.Default,fontFamily:x.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,lineHeight:T.RowHeight+"px",display:"inline-block",paddingRight:S.LineAndTextDropdownArrowIcon.width},m.PreventUserSelect),interactive:{active:{color:e.primaryTextColors.active},disabled:{color:e.primaryTextColors.disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(T.RowHeight-S.LineAndTextDropdownArrowIcon.height)/2}}}function a(e,t){var n=E();switch(e){case s.Outline:return t?n.OutlineDropdownDarkBackgroundStyle:n.OutlineDropdownStyle;case s.Line:return t?n.LineDropdownDarkBackgroundStyle:n.LineDropdownStyle;case s.Text:return t?n.TextDropdownDarkBackgroundStyle:n.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+e)}}Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(1),d=n(0),c=n(0),p=n(8),u=n(3),h=n(15),g=n(3),f=n(16),m=n(12),y=n(2),v=n(7),b=n(4),S=n(6),C=n(31),D=n(10),I=n(5),w=n(9),T=y.TabStyles.Sizing,k=y.TabStyles.Colors,_=y.TabStyles.Spacing,x=y.TabStyles.Typography;!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text"}(s||(s={})),t.DropdownType=s;var E=function(){var e=T.RowHeight-2*T.BorderWidth,t={normal:k.L6,hover:k.L8,active:k.L9,focus:k.L8,disabled:k.L9Disabled},n={normal:k.L3,hover:k.L3,active:k.L3,focus:k.L3,disabled:k.L3},a={normal:x.Color.Primary,disabled:x.Color.Disabled,active:k.Black},s={normal:x.Color.Secondary,disabled:x.Color.Disabled,active:k.Black},l={normal:k.WhiteTransparentLine,hover:k.WhiteTransparentLineHover,active:k.White,focus:k.WhiteTransparentLineHover,disabled:k.WhiteDisabled},d={normal:k.WhiteTransparentLine,hover:k.WhiteTransparentLine,active:k.WhiteTransparentLine,focus:k.WhiteTransparentLine,disabled:k.WhiteTransparentLine},c={normal:x.Color.InvertedPrimary,disabled:x.Color.InvertedDisabled,active:k.White},p={normal:x.Color.InvertedSecondary,disabled:x.Color.InvertedDisabled,active:k.White},u={innerRowHeight:e,primaryLineColors:t,secondaryLineColors:n,primaryTextColors:a,secondaryTextColors:s},h={innerRowHeight:e,primaryLineColors:l,secondaryLineColors:d,primaryTextColors:c,secondaryTextColors:p};return{OutlineDropdownStyle:o(u),OutlineDropdownDarkBackgroundStyle:o(h),LineDropdownStyle:i(u),LineDropdownDarkBackgroundStyle:i(h),TextDropdownStyle:r(u),TextDropdownDarkBackgroundStyle:r(h)}};t.getDropdownStylesByType=a;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState({active:!1})},t.prototype.getDropdownIcon=function(){var e={active:this.state.active||this.props.dropdownOpen,disabled:this.props.disabled,hover:this.state.hover,onDarkBackground:this.props.onDarkBackground};return this.props.dropdownType===s.Outline?S.OutlineDropdownArrowIcon.icon(e):S.LineAndTextDropdownArrowIcon.icon(e)},t.prototype.render=function(){var e=a(this.props.dropdownType,this.props.onDarkBackground),t=l.__assign({},e.button.base,g.conditional(this.props.dropdownOpen,e.button.interactive.active)),n={disabled:this.props.disabled,style:t,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"combobox","aria-owns":this.props.dropdownId,"aria-haspopup":"listbox","aria-expanded":this.props.dropdownOpen,"aria-labelledby":this.props.labelledById,"data-tb-test-id":this.props.testId,title:this.props.title},o={style:e.value,title:g.conditional("string"==typeof this.props.children,this.props.children)};return c.createElement(b.Block,n,c.createElement("span",o,this.props.children),c.createElement(b.InlineBlock,{style:e.iconContainer},c.createElement(b.Img,{style:e.icon,src:this.getDropdownIcon()})))},t=l.__decorate([v.InteractiveDomHoCDecorator],t)}(d.Component);t.DropdownButtonWidget=P;var B=function(e){function t(t){var n=e.call(this,t)||this;if(n.labelId=w.generateId(),n.dropdownId=w.generateId(),n.toggleMenu=function(){n.props.disabled||n.setState(function(e,t){var n=!e.isOpen;return n?t.onOpen&&t.onOpen():t.onClose&&t.onClose(),{isOpen:n}})},n.handleSelect=function(e){n.props.onSelect(e,n.state.isOpen),n.onRequestClose()},n.handleKeyDown=function(e){if(!(n.props.disabled||n.state.isOpen||e.ctrlKey||e.altKey||e.metaKey)){var t=n.getIndexOfSelectedItem();if(g.isAlphabeticChar(e.key)){var o=h.findIndex(n.enabledItems,function(t){return!!t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()},t+1,n);o>-1&&n.props.onSelect(n.enabledItems[o].value,n.state.isOpen)}else{var i=null;switch(e.key){case" ":case"Enter":n.toggleMenu();break;case"ArrowUp":t>0&&(i=n.enabledItems[t-1].value);break;case"ArrowDown":t<n.enabledItems.length-1&&(i=n.enabledItems[t+1].value);break;case"Home":i=n.enabledItems[0].value;break;case"End":i=n.enabledItems[n.enabledItems.length-1].value;break;default:return}i&&n.props.onSelect(i,n.state.isOpen),e.preventDefault(),e.stopPropagation()}}},n.onRequestClose=function(){n.toggleMenu()},n.setButtonElement=function(e){n.buttonEl=p.findDOMNode(e)},n.getAnchorClientRect=function(){return n.buttonEl?n.buttonEl.getBoundingClientRect():void 0},t.menuItemInfos.filter(function(e){return!!e.menuItemInfos}).length>0)throw Error("Dropdowns may not contain submenus");return n.setEnabledItems(n.props),n.state={isOpen:!1},n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.setEnabledItems(e)},t.prototype.getMenuWidth=function(){var e=void 0;if(this.props.flyoutStyle){var t=this.props.flyoutStyle.width;if("auto"===t)return t;e=parseInt(t,10)}else this.props.containerStyle&&(e=parseInt(this.props.containerStyle.width,10));if(this.buttonEl){var n=this.buttonEl.getBoundingClientRect().width;e=Math.max(n,e||0)}return e},t.prototype.getIndexOfSelectedItem=function(){var e=this;return h.findIndex(this.enabledItems,function(t){return t.value===e.props.selectedValue},0,this)},t.prototype.setEnabledItems=function(e){e.menuItemInfos?this.enabledItems=e.menuItemInfos.filter(function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}):this.enabledItems=[]},t.prototype.getButtonDisplayValue=function(){var e=this.getIndexOfSelectedItem();return e>-1?this.enabledItems[e].textForDropdownButton||"":this.props.placeholder||""},t.prototype.render=function(){var e=this,t=a(this.props.dropdownType,this.props.onDarkBackground),n=this.props.dropdownType===s.Line&&!!this.props.label,o=l.__assign({},this.props.containerStyle,t.container),i=this.getMenuWidth(),r=l.__assign({},this.props.flyoutStyle,{width:i}),d=this.state.isOpen&&this.props.selectedValue?h.findIndex(this.props.menuItemInfos,function(t){return t.value===e.props.selectedValue}):0;return c.createElement(b.Block,{style:o,"data-tb-test-id":u.testId(this.props.testId,"Dropdown")},g.conditional(n,c.createElement("label",{style:t.label,id:this.labelId},this.props.label)),c.createElement(b.Block,{},c.createElement(P,{disabled:this.props.disabled,dropdownId:this.dropdownId,dropdownOpen:this.state.isOpen,dropdownType:this.props.dropdownType,onDarkBackground:this.props.onDarkBackground,interactiveStyles:t.button.interactive,onKeyDown:this.handleKeyDown,pointerClick:this.toggleMenu,labelledById:g.conditional(n,this.labelId),ref:this.setButtonElement,testId:u.testId(this.props.testId,"DropdownButton"),title:this.props.title},this.getButtonDisplayValue())),g.conditional(this.state.isOpen,c.createElement(C.GenericFlyoutListMenuWidget,{toggleEl:this.buttonEl,getAnchorClientRect:this.getAnchorClientRect,stackingRootId:this.props.stackingRootId,shouldReturnFocusToToggleEl:this.props.shouldReturnFocusOnClose,anchorOrigin:{vertical:D.VerticalOriginOption.bottom,horizontal:D.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.toggleMenu,onSelect:this.handleSelect,id:this.dropdownId,__INTERNAL__focusIndex:d,__INTERNAL__isListbox:!0,maxHeight:this.props.maxHeight,menuStyle:r,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.onRequestClose,zIndex:this.props.zIndex,testId:this.props.testId,__UNSUPPORTED__showSearchField:this.props.__UNSUPPORTED__showSearchField,__UNSUPPORTED__searchDefaultText:this.props.__UNSUPPORTED__searchDefaultText})))},t.defaultProps={shouldReturnFocusOnClose:!0},t}(I.DynamicThemeComponent);t.GenericDropdownWidget=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(6),a=n(2),s=n(3),l=n(4),d=n(21);t.TextInputType=d.TextInputType;var c=n(17),p=n(60),u=a.TabStyles.Sizing,h=a.TabStyles.Spacing,g=function(){return{iconPadding:{paddingRight:r.SearchIcon.width+2*h.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:h.DefaultSpace,paddingLeft:h.DefaultSpace,marginTop:(u.RowHeight-r.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCancelHover=function(e){n.props.disabled||n.setState({cancelHover:e})},n.state=o.__assign({},n.state,{cancelHover:!1}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||this.setState({cancelHover:!1})},t.prototype.getIcon=function(){var e=!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover);return r.SearchIcon.icon({active:e,onDarkBackground:this.props.onDarkBackground})},t.prototype.render=function(){var e=this.props,t=(e.children,e.containerStyle),n=e.handleCancelSearch,r=e.onDarkBackground,a=o.__rest(e,["children","containerStyle","handleCancelSearch","onDarkBackground"]),c=this.isPlaceholderShowing(),u=g(),h=d.getTextOutlineStyles({onDarkBackground:r}),f=o.__assign({},h.placeholder.base,this.props.placeholderStyle,this.props.disabled&&h.placeholder.disabled,{maxWidth:"calc(100% - "+u.iconPadding.paddingRight+"px)"}),m=o.__assign({},h.input.base,u.iconPadding,this.state.cancelHover&&h.input.interactive.hover,this.props.inputStyle),y=o.__assign({},a,{"aria-label":this.props["aria-label"]||this.props.placeholder,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,handleHover:this.handleInputHover,inputStyle:m,interactiveStyles:h.input.interactive}),v={active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled,handleHover:this.handleCancelHover,onDarkBackground:r,pointerClick:n,testId:this.props.testId};return i.createElement(l.Block,{style:t},!this.props.text&&i.createElement(l.Img,{src:this.getIcon(),style:u.icon,"data-tb-test-id":s.testId(this.props.testId,"SearchIcon")}),c&&i.createElement("label",{"data-tb-test-id":s.testId(this.props.testId,"Placeholder"),style:f},this.props.placeholder),i.createElement(p.TextFieldWithClearIcon,{handleClearText:n,textFieldInputProps:y,textFieldClearButtonProps:v}))},t}(c.TextFieldBase);t.SearchFieldWidget=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),a=n(3),s=n(0),l=n(7),d=n(2),c={border:"1px solid white"},p=function(e){return{base:{width:e.size,height:e.size,backgroundColor:e.color.toLowerCase(),boxSizing:"border-box"},interactive:{hover:o.__assign({},c,{cursor:e.disabled?"normal":"pointer"}),active:c}}},u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleHover=function(e){n.setState({hover:e})},n.handleActive=function(e){n.setState({active:e})},n.handleClick=function(){n.props.disabled||n.props.handleClick(n.props.color.toLowerCase())},n.state={hover:!1,active:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=p(this.props),t={interactiveStyles:e.interactive,handleHover:this.handleHover,handleActive:this.handleActive,pointerClick:this.handleClick,disabled:this.props.disabled};return s.createElement(l.InteractiveDomWrapper,t,s.createElement("div",{style:o.__assign({},e.base,a.conditional(this.props.selected,c)),"aria-selected":this.props.selected,"data-tb-test-id":a.testId(this.props.testId,"ColorSwatch",this.props.color.toLowerCase())},a.conditional(!this.props.disabled,s.createElement("div",{style:this.getInnerBorderStyle()}))))},t.prototype.getInnerBorderStyle=function(){return{borderWidth:1,borderStyle:"solid",borderColor:(this.props.selected||this.state.hover||this.state.active)&&d.TabStyles.Colors?d.TabStyles.Colors.F9:"transparent",width:"100%",height:"100%",boxSizing:"border-box"}},t}(i.Component);t.ColorSwatchWidget=u;var h;!function(e){e[e.Default=0]="Default",e[e.Minimal=1]="Minimal"}(h||(h={})),t.ColorGridType=h;var g;!function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light",e[e.MaestroFlowColors=2]="MaestroFlowColors"}(g||(g={})),t.ColorGridPreset=g;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSwatchClicked=function(e){n.props.disabled||n.props.handleSwatchClicked(e.toLowerCase())},n.getColorSwatchGridBuilder=function(e){switch(e){default:case h.Default:return n.buildDefaultColorSwatchGrid();case h.Minimal:return n.buildMinimalColorSwatchGrid()}},n.preset=n.props.colorsPreset||g.Dark,n}return o.__extends(t,e),t.prototype.render=function(){return this.props.colorsPreset&&this.props.colorsPreset!==this.preset&&(this.preset=this.props.colorsPreset),s.createElement(r.Block,{"data-tb-test-id":a.testId(this.props.testId,"ColorGrid"),tabIndex:0},s.createElement(l.InteractiveDomWrapper,{interactiveStyles:{focus:{outline:"none"}}},this.getColorSwatchGridBuilder(this.props.gridType)))},t.prototype.getColorPreset=function(){switch(this.preset){default:case g.Dark:return d.TabStyles.ColorPickerPresets.Dark;case g.Light:return d.TabStyles.ColorPickerPresets.Light;case g.MaestroFlowColors:return d.TabStyles.ColorPickerPresets.MaestroFlowColors}},t.prototype.buildMinimalColorSwatchGrid=function(){this.colorsPerColumn=4;for(var e=[],n=this.getColorPreset(),o=[],i=[],r=0,a=0;a<n.length;a++){var l=n[a].toLowerCase(),c={color:l,handleClick:this.handleSwatchClicked,key:"swatch-"+l,size:15,selected:this.props.selectedColor===l,disabled:this.props.disabled,testId:this.props.testId};i.push(s.createElement(u,c)),r+=1,r===this.colorsPerColumn&&(o.push(s.createElement("div",{style:{border:"1px solid "+d.TabStyles.Colors.L6},key:"group-"+a},i)),r===this.colorsPerColumn&&(e.push(s.createElement("div",{key:"column-"+a,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?t.groupSpacingPx:0}},o)),o=[],r=0),i=[])}return s.createElement("div",{style:{display:"flex"},tabIndex:0},e)},t.prototype.buildDefaultColorSwatchGrid=function(){this.colorsPerColumn=6;for(var e=[],n=this.getColorPreset(),o=[],i=[],r=0,a=0;a<n.length;a++){var l=n[a].toLowerCase(),c={color:l,handleClick:this.handleSwatchClicked,key:"swatch-"+l,size:15,selected:this.props.selectedColor===l,disabled:this.props.disabled,testId:this.props.testId};i.push(s.createElement(u,c)),r+=1;var p=1===r&&e.length<2||3===r&&e.length>=2;(r===this.colorsPerColumn||p)&&(o.push(s.createElement("div",{style:{border:"1px solid "+d.TabStyles.Colors.L6},key:"group-"+a},i)),p&&o.push(s.createElement("div",{style:{width:15,height:t.dividerHeightPx},key:"divider-"+a})),r===this.colorsPerColumn&&(e.push(s.createElement("div",{key:"column-"+a,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?t.groupSpacingPx:0}},o)),o=[],r=0),i=[])}return s.createElement("div",{style:{display:"flex"},tabIndex:0},e)},t.groupSpacingPx=4,t.dividerHeightPx=5,t}(i.Component);t.ColorGridWidget=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45);t.setConfig=o.setConfig;var i=n(2);t.TabStyles=i.TabStyles;var r=n(3);t.conditional=r.conditional,t.testId=r.testId,t.isAlphabeticChar=r.isAlphabeticChar;var a=n(9);t.detectScrollbarWidth=a.detectScrollbarWidth,t.timeoutFocus=a.timeoutFocus;var s=n(7);t.InteractiveDomHoC=s.InteractiveDomHoC,t.InteractiveDomHoCDecorator=s.InteractiveDomHoCDecorator,t.InteractiveDomWrapper=s.InteractiveDomWrapper;var l=n(10);t.VerticalOriginOption=l.VerticalOriginOption,t.HorizontalOriginOption=l.HorizontalOriginOption,t.Overlay=l.Overlay;var d=n(48);t.PointerEventAdapterManager=d.PointerEventAdapterManager;var c=n(13);t.PointerEventWrapper=c.PointerEventWrapper,t.PointerEventHoC=c.PointerEventHoC,t.PointerEventHoCDecorator=c.PointerEventHoCDecorator;var p=n(27);t.mergeEventHandlers=p.mergeEventHandlers,t.convertToStatefulComponentClass=p.convertToStatefulComponentClass,t.getComponentName=p.getComponentName;var u=n(19);t.StackingComponentHOC=u.StackingComponentHOC,t.StackingComponentWrapper=u.StackingComponentWrapper;var h=n(90);t.HostedStackedElementContainer=h.HostedStackedElementContainer;var g=n(37);t.SingletonStyleSheet=g.SingletonStyleSheet,t.StyleSheet=g.StyleSheet;var f=n(38);t.Unicode=f.Unicode;var m=n(39);t.isMouseEvent=m.isMouseEvent,t.isTouchEvent=m.isTouchEvent,t.getClientPosition=m.getClientPosition;var y=n(14);t.ButtonType=y.ButtonType,t.ButtonWidget=y.ButtonWidget;var v=n(91);t.AutoResetButton=v.AutoResetButton;var b=n(92);t.SelectableButtonGroupSelectionBehavior=b.SelectableButtonGroupSelectionBehavior,t.SelectableButtonGroupWidget=b.SelectableButtonGroupWidget;var S=n(93);t.ChromeTooltipWidget=S.ChromeTooltipWidget;var C=n(54);t.CheckBoxWidget=C.CheckBoxWidget;var D=n(114);t.CheckBoxWithLabelGroupWidget=D.CheckBoxWithLabelGroupWidget;var I=n(55);t.CheckBoxWithLabelWidget=I.CheckBoxWithLabelWidget;var w=n(30);t.DialogPositioningBehavior=w.DialogPositioningBehavior,t.DialogType=w.DialogType,t.DialogWidget=w.DialogWidget;var T=n(124);t.DialogFooterButtonsWidget=T.DialogFooterButtonsWidget;var k=n(125);t.DiscreteProgressBarWidget_UNFINISHED=k.DiscreteProgressBarWidget_UNFINISHED;var _=n(4);t.Block=_.Block,t.InlineBlock=_.InlineBlock,t.Img=_.Img;var x=n(127);t.DropdownWidget=x.DropdownWidget;var E=n(41);t.DropdownType=E.DropdownType,t.GenericDropdownWidget=E.GenericDropdownWidget;var P=n(5);t.DynamicThemeComponent=P.DynamicThemeComponent;var B=n(132);t.ExpandoDirection=B.ExpandoDirection,t.ExpandoWidget=B.ExpandoWidget;var O=n(133);t.FlyoutListMenuWidget=O.FlyoutListMenuWidget;var F=n(31);t.GenericFlyoutListMenuWidget=F.GenericFlyoutListMenuWidget;var R=n(29);t.InputLabelWidget=R.InputLabelWidget;var L=n(134);t.IntegerStepperWidget=L.IntegerStepperWidget;var H=n(63);t.LineTextFieldWidget=H.LineTextFieldWidget;var M=n(62);t.TextMenuDisplayFormatter=M.TextMenuDisplayFormatter;var W=n(21);t.OutlineTextFieldWidget=W.OutlineTextFieldWidget;var A=n(138);t.RadioLayoutType=A.RadioLayoutType,t.RadioButtonWithLabelGroupWidget=A.RadioButtonWithLabelGroupWidget;var z=n(42);t.SearchFieldWidget=z.SearchFieldWidget;var U=n(17);t.TextInputType=U.TextInputType;var N=n(141);t.ToggleTextWidget=N.ToggleTextWidget,t.SelectedToggle=N.SelectedToggle;var j=n(143);t.TooltipPosition=j.TooltipPosition,t.Tooltip=j.Tooltip;var V=n(43);t.ColorGridWidget=V.ColorGridWidget,t.ColorGridPreset=V.ColorGridPreset,t.ColorGridType=V.ColorGridType;var K=n(145);t.ColorPickerWidget=K.ColorPickerWidget;var G=n(148);t.ActivitySpinnerSize=G.ActivitySpinnerSize,t.ActivitySpinnerWidget=G.ActivitySpinnerWidget;var Y=n(64);t.OpenEndedAt=Y.OpenEndedAt,t.SliderWidget=Y.SliderWidget;var $=n(155);t.RangeSliderWidget=$.RangeSliderWidget;var q=n(66);t.TabActivationMode=q.TabActivationMode,t.TabListAlignment=q.TabListAlignment,t.TabsWidget=q.TabsWidget;var Q=n(161);t.ToastType=Q.ToastType,t.ToastWidget=Q.ToastWidget;var X=n(69);t.InteractiveLinkWidget=X.InteractiveLinkWidget;var J=n(70);t.DateInputFieldType=J.DateInputFieldType,t.DateInputField=J.DateInputField;var Z=n(71);t.DropdownButton=Z.DropdownButton,t.DropdownButtonType=Z.DropdownButtonType;var ee=n(169);t.SingleSelectDropdown=ee.SingleSelectDropdown;var te=n(73);t.List=te.List;var ne=n(78);t.FilteringList=ne.FilteringList;var oe=n(174);t.LocallyFilteringList=oe.LocallyFilteringList;var ie=n(25);t.findFocusableItemIndex=ie.findFocusableItemIndex,t.findSelectableItemIndex=ie.findSelectableItemIndex,t.findItemWithValue=ie.findItemWithValue,t.isFocusableItem=ie.isFocusableItem,t.isSelectableItem=ie.isSelectableItem;var re=n(72);t.FocusTrap=re.FocusTrap},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(26),r=n(46),a=n(35),s=n(79),l=n(47),d=function(e){e.styleMediaQueries&&s.StyleMediaQueryManager.setMediaStyleQueries(e.styleMediaQueries)},c=function(e){e.styles&&(o.overrideTabStyles(e.styles),l.WidgetManager.rerenderWidgets())},p=function(e){e.defaultStackingRootId&&a.StackingRootConfig.setDefaultRootContainerId(e.defaultStackingRootId)},u=function(e){e.defaultScrollingRootId&&r.ScrollingRootConfig.setDefaultRootContainerId(e.defaultScrollingRootId)},h=function(e){e.suppressClickBustingClassName&&(i.ClickBustingConfig.suppressionClassName=e.suppressClickBustingClassName)},g=function(e){c(e),p(e),u(e),d(e),h(e)};t.setConfig=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultScrollingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultScrollingRootId?document.getElementById(e.defaultScrollingRootId):document.body;if(!t)throw Error("Could not find scrolling root with the id scrollingRootId.");return t},e}();t.ScrollingRootConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.registerWidget=function(t){e.widgets.push(t)},e.unregisterWidget=function(t){e.widgets=e.widgets.filter(function(e){return e!==t})},e.rerenderWidgets=function(){for(var t=0;t<e.widgets.length;t++)e.widgets[t].forceUpdate()},e.widgets=[],e}();t.WidgetManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getHtmlAttributes=function(e){return{onDoubleClick:e.pointerDoubleClick?function(t){e.disabled||e.pointerDoubleClick(t)}:void 0,onMouseDown:e.pointerDown?function(t){e.disabled||e.pointerDown(t)}:void 0,onMouseUp:e.pointerUp?function(t){e.disabled||e.pointerUp(t)}:void 0,onClick:e.pointerClick?function(t){e.disabled||e.pointerClick(t)}:void 0}},e}(),i=function(){function e(){}return e.adapterFactory=function(){return new o},e}();t.PointerEventAdapterManager=i},function(e,t,n){function o(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:o,maxWait:t,trailing:s})}var i=n(81),r=n(36),a="Expected a function";e.exports=o},function(e,t,n){"use strict";function o(){return _.RowHeight}function i(){return x.DefaultSpace}function r(){return{backgroundColor:T.F7Disabled,borderColor:T.Transparent,color:E.Color.Disabled}}function a(){return C.__assign({fontSize:E.Sizing.Default,fontFamily:E.FontFamily,fontWeight:"normal",color:E.Color.Primary,display:"inline-block",paddingLeft:o(),paddingRight:o(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:_.BorderWidth,borderRadius:_.BorderRadius,height:_.RowHeight,lineHeight:_.RowHeight-2*_.BorderWidth+"px",minWidth:_.ButtonMinWidth,boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"},I.PreventUserSelect)}function s(){return{base:C.__assign({},a(),{backgroundColor:T.AttentionLight,borderColor:T.AttentionLight,color:E.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:T.AttentionLight,borderColor:T.L8,color:E.Color.InvertedPrimary},focus:{backgroundColor:T.AttentionLight,borderColor:T.L8,color:E.Color.InvertedPrimary},active:{backgroundColor:T.AttentionDark,borderColor:T.AttentionDark,color:E.Color.InvertedPrimary},disabled:r()}}}function l(){return{base:C.__assign({},a(),{backgroundColor:T.F5,borderColor:T.L5,color:E.Color.Primary}),interactive:{hover:{backgroundColor:T.F5,borderColor:T.L8,color:E.Color.Primary},focus:{backgroundColor:T.F5,borderColor:T.L8,color:E.Color.Primary},active:{backgroundColor:T.F8,borderColor:T.L8,color:E.Color.InvertedPrimary},disabled:r()}}}function d(){return{base:C.__assign({},a(),{backgroundColor:T.GoLight,borderColor:T.GoLight,color:E.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:T.GoLight,borderColor:T.L8,color:E.Color.InvertedPrimary},focus:{backgroundColor:T.GoLight,borderColor:T.L8,color:E.Color.InvertedPrimary},active:{backgroundColor:T.GoDark,borderColor:T.GoDark,color:E.Color.InvertedPrimary},disabled:r()}}}function c(){return{base:C.__assign({},a(),{backgroundColor:T.White,borderColor:T.L6,color:E.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:T.White,borderColor:T.L8,color:E.Color.Primary},focus:{backgroundColor:T.White,borderColor:T.L8,color:E.Color.PrimaryMedium},active:{backgroundColor:T.F2,borderColor:T.L9,color:E.Color.Primary},disabled:C.__assign({},r(),{backgroundColor:T.White,borderColor:T.L9Disabled,color:E.Color.Disabled})}}}function p(){return{base:C.__assign({},a(),{backgroundColor:T.Transparent,borderColor:T.L6,color:E.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:T.Transparent,borderColor:T.White,color:E.Color.InvertedPrimary},focus:{backgroundColor:T.Transparent,borderColor:T.White,color:E.Color.InvertedPrimary},active:{backgroundColor:T.WhiteTransparent,borderColor:T.White,color:E.Color.InvertedPrimary},disabled:C.__assign({},r(),{borderColor:T.WhiteDisabled,backgroundColor:T.Transparent,color:E.Color.InvertedDisabled})}}}function u(){return{base:C.__assign({},a(),{backgroundColor:T.White,borderColor:T.GoLight,color:E.Color.PrimaryDark,borderWidth:_.ButtonBorderWidth,lineHeight:_.RowHeight-2*_.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:T.White,borderColor:T.GoDark,color:T.Black},focus:{backgroundColor:T.White,borderColor:T.L8,color:T.Black},active:{backgroundColor:T.F2,borderColor:T.GoDark,color:T.Black},disabled:C.__assign({},r(),{backgroundColor:T.White,borderColor:T.GoDarkDisabled,color:E.Color.Disabled})}}}function h(){return{base:C.__assign({},a(),{backgroundColor:T.White,borderColor:T.AttentionLight,color:E.Color.PrimaryDark,borderWidth:_.ButtonBorderWidth,lineHeight:_.RowHeight-2*_.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:T.White,borderColor:T.AttentionDark,color:T.Black},focus:{backgroundColor:T.White,borderColor:T.L8,color:T.Black},active:{backgroundColor:T.F2,borderColor:T.AttentionDark,color:T.Black},disabled:C.__assign({},r(),{backgroundColor:T.White,borderColor:T.AttentionDarkDisabled,color:E.Color.Disabled})}}}function g(){return{base:C.__assign({},a(),{fontWeight:"bold",backgroundColor:T.Transparent,borderColor:T.Transparent,color:T.GoLight}),interactive:{hover:{backgroundColor:T.F2,borderColor:T.F2,color:T.GoLight},focus:{backgroundColor:T.F2,borderColor:T.F2,color:T.GoLight},active:{backgroundColor:T.F2,borderColor:T.F2,color:T.GoDark},disabled:C.__assign({},r(),{backgroundColor:T.Transparent,borderColor:T.Transparent,color:T.GoDarkDisabled})}}}function f(){return{base:C.__assign({},a(),{backgroundColor:T.Transparent,borderColor:T.Transparent,color:E.Color.Primary}),interactive:{hover:{backgroundColor:T.F2,borderColor:T.F2,color:E.Color.Primary},focus:{backgroundColor:T.F2,borderColor:T.F2,color:E.Color.Primary},active:{backgroundColor:T.F2_5,borderColor:T.F2_5,color:T.Black},disabled:C.__assign({},r(),{backgroundColor:T.Transparent,borderColor:T.Transparent,color:E.Color.Disabled})}}}function m(){return{base:C.__assign({},a(),{fontWeight:"bold",backgroundColor:T.Transparent,borderColor:T.Transparent,color:E.Color.Primary}),interactive:{hover:{backgroundColor:T.F2,borderColor:T.F2,color:E.Color.Primary},focus:{backgroundColor:T.F2,borderColor:T.F2,color:E.Color.Primary},active:{backgroundColor:T.F2_5,borderColor:T.F2_5,color:T.Black},disabled:C.__assign({},r(),{backgroundColor:T.Transparent,borderColor:T.Transparent,color:E.Color.Disabled})}}}function y(){return C.__assign({alignItems:"center",display:"inline-flex",justifyContent:"center",minHeight:20,minWidth:20,outline:"none"},I.PreventUserSelect)}function v(){return{base:C.__assign({},y(),{backgroundColor:T.Transparent,color:E.Color.PrimaryLight,fontFamily:E.FontFamily,fontSize:E.Sizing.Default,fontWeight:"normal",whiteSpace:"nowrap"}),interactive:{hover:{backgroundColor:T.F3,color:E.Color.Primary},focus:{backgroundColor:T.F3,color:E.Color.Primary},active:{backgroundColor:T.F5,color:E.Color.Primary},disabled:{color:E.Color.Disabled,opacity:k.Disabled}}}}function b(){return{base:C.__assign({},y()),interactive:{disabled:{opacity:k.Disabled}}}}function S(e){var t;switch(e){case D.ButtonType.Attention:t=s();break;case D.ButtonType.Grey:t=l();break;case D.ButtonType.Go:t=d();break;case D.ButtonType.Outline:t=c();break;case D.ButtonType.LightOutline:t=p();break;case D.ButtonType.OutlineGo:t=u();break;case D.ButtonType.OutlineAttention:t=h();break;case D.ButtonType.Text:t=g();break;case D.ButtonType.DarkText:t=f();break;case D.ButtonType.DarkBoldText:t=m();break;case D.ButtonType.Icon:t=v();break;case D.ButtonType.IconOutline:t=b();break;default:throw new Error("Attempted to retrieve style for unsupported ButtonType: "+e)}return t}Object.defineProperty(t,"__esModule",{value:!0});var C=n(1),D=n(14),I=n(12),w=n(2),T=w.TabStyles.Colors,k=w.TabStyles.Opacity,_=w.TabStyles.Sizing,x=w.TabStyles.Spacing,E=w.TabStyles.Typography;t.getDefaultSpacing=i,t.getButtonStyle=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),a=n(5),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isKeyboardPressed=!1,t.handleActive=function(e){t.props.onActive&&t.props.onActive(e)},t.handleFocus=function(e){t.props.onFocus&&t.props.onFocus(e)},t.handleHover=function(e){t.props.onHover&&t.props.onHover(e)},t.handleClick=function(e){!t.props.disabled&&t.props.handleClick&&t.props.handleClick(e)},t.handleKeyUp=function(e){t.props.disabled||t.props.disableTabAccessibility||(!t.isKeyboardPressed||" "!==e.key&&"Enter"!==e.key?t.props.onKeyUp&&t.props.onKeyUp(e):(t.props.handleClick&&t.props.handleClick(e),t.isKeyboardPressed=!1))},t.handleKeyDown=function(e){t.props.disabled||t.props.disableTabAccessibility||(" "!==e.key&&"Enter"!==e.key||(t.isKeyboardPressed=!0,e.preventDefault()),t.props.onKeyDown&&t.props.onKeyDown(e))},t.handleBlur=function(){t.isKeyboardPressed=!1,t.props.onBlur&&t.props.onBlur()},t}return o.__extends(t,e),t.prototype.render=function(){var e={disabled:this.props.disabled,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,interactiveStyles:this.props.interactiveStyle,pointerClick:this.handleClick},t={"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,role:this.props.role,style:this.props.style,tabIndex:this.props.disabled?void 0:this.props.disableTabAccessibility?-1:0,title:this.props.title};return t["radio"===this.props.role?"aria-checked":"aria-pressed"]=this.props.selected,i.createElement(r.InteractiveDomWrapper,o.__assign({},e),i.createElement("div",o.__assign({},t),this.props.children))},t.defaultProps={role:"button"},t}(a.DynamicThemeComponent);t.ButtonBase=s},function(e,t,n){"use strict";function o(e){return a.createElement("div",{style:l},a.createElement("div",{style:i(e.width)},e.content))}function i(e){return r.__assign({},d,{width:e})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),s=n(2);t.Padding=8,t.BorderWidth=s.TabStyles.Sizing.BorderWidth,t.OuterMaxWidth=250,t.OuterMaxHeight=250,t.InnerMaxWidth=t.OuterMaxWidth-2*(t.Padding+t.BorderWidth),t.InnerMaxHeight=t.OuterMaxHeight-2*(t.Padding+t.BorderWidth);var l={flexGrow:0,padding:t.Padding,borderWidth:t.BorderWidth,borderStyle:"solid",borderColor:s.TabStyles.Colors?s.TabStyles.Colors.L5:null,borderRadius:s.TabStyles.Sizing?s.TabStyles.Sizing.BorderRadius:null,boxShadow:s.TabStyles.Shadow.Standard,backgroundColor:s.TabStyles.Colors?s.TabStyles.Colors.White:null},d={maxWidth:t.InnerMaxWidth,maxHeight:t.InnerMaxHeight,overflowY:"auto"};t.ChromeTooltipBox=o},function(e,t,n){"use strict";function o(e){var t=e.direction,n=e.style,o=a(t).map(function(e){return e.x+","+e.y}).join(" ");return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:n,height:i(t),width:r(t)},s.createElement("polyline",{points:o,fill:p,stroke:c,strokeWidth:u}))}function i(e){return"Left"===e||"Right"===e?t.Height:t.Width}function r(e){return"Left"===e||"Right"===e?t.Width:t.Height}function a(e){switch(e){case"Up":return[{x:0,y:t.Width},{x:t.Height/2,y:0},{x:t.Height,y:t.Width}];case"Down":return[{x:0,y:0},{x:t.Height/2,y:t.Width},{x:t.Height,y:0}];case"Left":return[{x:t.Width,y:0},{x:0,y:t.Height/2},{x:t.Width,y:t.Height}];case"Right":return[{x:0,y:0},{x:t.Width,y:t.Height/2},{x:0,y:t.Height}];default:return d.assertNever(e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=n(2),d=n(40);t.Height=12,t.Width=6;var c=l.TabStyles.Colors.L5,p=l.TabStyles.Colors.White,u=l.TabStyles.Sizing.BorderWidth;t.ChromeTooltipArrow=o},function(e,t,n){"use strict";function o(e,t){var n={checked:e.checked,disabled:e.disabled,focus:t.focus,hover:e.hover||t.hover};return e.indeterminate?d.CheckBoxMixedIcon.icon(n):d.CheckBoxIcon.icon(n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),a=n(3),s=n(4),l=n(7),d=n(6),c=n(5),p=n(2),u=function(){return{baseDiv:{flexShrink:0,height:d.CheckBoxIcon.height,marginLeft:p.TabStyles.Spacing.DefaultSpace-d.CheckBoxIcon.padding,marginRight:p.TabStyles.Spacing.DefaultSpace-d.CheckBoxIcon.padding,minWidth:d.CheckBoxIcon.width,verticalAlign:"middle",width:d.CheckBoxIcon.width},checkbox:{cursor:"default",height:d.CheckBoxIcon.height,margin:0,opacity:0,verticalAlign:"top",width:d.CheckBoxIcon.width},fakeCheckBox:{height:d.CheckBoxIcon.height,position:"absolute",verticalAlign:"top",width:d.CheckBoxIcon.width},noLeftMargin:{marginLeft:-d.CheckBoxIcon.padding}}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleFormChange=function(e){!t.props.disabled&&t.props.handleChange&&t.props.handleChange(e.target.checked)},t.handleInputRef=function(e){t.inputElement=e,t.setInputElementsIndeterminateProp()},t.handleActive=function(e){t.setState({active:e})},t.handleFocus=function(e){t.setState({focus:!t.state.active&&e})},t.handleHover=function(e){t.setState({hover:e})},t}return i.__extends(t,e),t.prototype.componentDidUpdate=function(){this.setInputElementsIndeterminateProp()},t.prototype.setInputElementsIndeterminateProp=function(){this.inputElement&&(this.inputElement.indeterminate=this.props.indeterminate)},t.prototype.render=function(){var e=u(),t={"data-tb-test-id":a.testId(this.props.testId,"CheckBox"),checked:this.props.checked,disabled:this.props.disabled,id:this.props.id,name:this.props.name,onChange:this.handleFormChange,ref:this.handleInputRef,style:e.checkbox,type:"checkbox"};return r.createElement(l.InteractiveDomWrapper,{handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover},r.createElement(s.InlineBlock,{style:i.__assign({},e.baseDiv,a.conditional(this.props.removeLeftMargin,e.noLeftMargin))},r.createElement(s.Img,{src:o(this.props,this.state),style:e.fakeCheckBox}),r.createElement("input",i.__assign({},t))))},t}(c.DynamicThemeComponent);t.CheckBoxWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(54),a=n(4),s=n(26),l=n(5),d=n(7),c=n(29),p=n(2),u=function(){return{label:{display:"flex",minHeight:p.TabStyles.Sizing.ListRowHeight},text:{overflow:"hidden",paddingTop:"1px",textOverflow:"ellipsis",width:"100%"}}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=u();return i.createElement(a.Block,{className:s.ClickBustingConfig.suppressionClassName,style:this.props.containerStyle},i.createElement(c.InputLabelWidget,{disabled:this.props.disabled,style:e.label,testId:this.props.testId},i.createElement(r.CheckBoxWidget,o.__assign({},this.props,{hover:this.state.hover})),i.createElement(a.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t=o.__decorate([d.InteractiveDomHoCDecorator],t)}(l.DynamicThemeComponent);t.CheckBoxWithLabelWidget=h},function(e,t){function n(e,t){t=t||{};var n=e.ownerDocument||e,i=[],r=[],a=new y(n),d=e.querySelectorAll(b);t.includeContainer&&S.call(e,b)&&(d=Array.prototype.slice.apply(d),d.unshift(e));var c,p,u;for(c=0;c<d.length;c++)p=d[c],o(p,a)&&(u=s(p),0===u?i.push(p):r.push({documentOrder:c,tabIndex:u,node:p}));return r.sort(l).map(function(e){return e.node}).concat(i)}function o(e,t){return!(!r(e,t)||g(e)||s(e)<0)}function i(e,t){if(!e)throw new Error("No node provided");return!1!==S.call(e,b)&&o(e,t)}function r(e,t){return t=t||new y(e.ownerDocument||e),!(e.disabled||u(e)||t.isUntouchable(e))}function a(e,t){if(!e)throw new Error("No node provided");return!1!==S.call(e,C)&&r(e,t)}function s(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?c(e)?0:e.tabIndex:t}function l(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return e[n]}function c(e){return"true"===e.contentEditable}function p(e){return"INPUT"===e.tagName}function u(e){return p(e)&&"hidden"===e.type}function h(e){return p(e)&&"radio"===e.type}function g(e){return h(e)&&!m(e)}function f(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}function m(e){if(!e.name)return!0;var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),n=f(t);return!n||n===e}function y(e){this.doc=e,this.cache=[]}var v=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],b=v.join(","),S="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;n.isTabbable=i,n.isFocusable=a;var C=v.concat("iframe").join(",");y.prototype.hasDisplayNone=function(e,t){if(e===this.doc.documentElement)return!1;var n=d(this.cache,function(t){return t===e});if(n)return n[1];t=t||this.doc.defaultView.getComputedStyle(e);var o=!1;return"none"===t.display?o=!0:e.parentNode&&(o=this.hasDisplayNone(e.parentNode)),this.cache.push([e,o]),o},y.prototype.isUntouchable=function(e){if(e===this.doc.documentElement)return!1;var t=this.doc.defaultView.getComputedStyle(e);return!!this.hasDisplayNone(e,t)||"hidden"===t.visibility},e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.listenersAdded=!1,this.elementRef=e,this.onPointerMove=t,this.onPointerUp=n}return e.prototype.addListeners=function(){this.listenersAdded||(window.addEventListener("touchend",this.onPointerUp,!0),window.addEventListener("mouseup",this.onPointerUp,!0),window.addEventListener("touchmove",this.onPointerMove,{capture:!0,passive:!1}),window.addEventListener("mousemove",this.onPointerMove,{capture:!0,passive:!1}),this.elementRef.setCapture&&this.elementRef.setCapture(),this.listenersAdded=!0)},e.prototype.removeListeners=function(){this.listenersAdded&&(window.removeEventListener("touchend",this.onPointerUp,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),window.removeEventListener("touchmove",this.onPointerMove,{capture:!0}),window.removeEventListener("mousemove",this.onPointerMove,{capture:!0}),this.elementRef.releaseCapture&&this.elementRef.releaseCapture(),this.listenersAdded=!1)},e}();t.GlobalPointerEventCapturer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeDocument=function(t,n){n?(t.addEventListener("mousedown",this.handleClickAway.bind(this),!0),t.addEventListener("touchstart",this.handleClickAway.bind(this),!0)):(t.removeEventListener("mousedown",this.handleClickAway.bind(this),!0),t.removeEventListener("touchstart",this.handleClickAway.bind(this),!0));for(var o=t.getElementsByTagName("iframe"),i=0;i<o.length;i++)e.trySubscribeOrUnscribeDocument(o[i].contentDocument,n)},e.trySubscribeOrUnscribeDocument=function(t,n){try{e.subscribeOrUnsubscribeDocument(t,n)}catch(e){}},e.subscribe=function(t,n){return!this.callback&&n&&(this.callback=n),0===this.domNodes.length&&e.trySubscribeOrUnscribeDocument(document,!0),this.domNodes.push(t),function(){e.unsubscribe(t)}},e.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,e.trySubscribeOrUnscribeDocument(document,!1))},e.handleClickAway=function(e){if(this.callback){for(var t=e.target,n=0,o=this.domNodes;n<o.length;n++){if(o[n].contains(t))return}this.callback()}},e.domNodes=[],e}();t.GlobalPointerDownOutsideListener=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(8),r=n(0),a=n(4),s=n(3),l=n(15),d=n(2),c=n(128),p=n(5),u=n(129),h=d.TabStyles.Colors,g=d.TabStyles.Spacing,f=d.TabStyles.Typography,m=function(){return{backgroundColor:h.White,padding:g.DefaultSpace,outline:"none",fontSize:f.Sizing.Default,fontFamily:f.FontFamily,fontWeight:"normal",color:f.Color.Primary}},y=function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable},v=function(e){function t(t){var n=e.call(this,t)||this;return n.stopPropagation=function(e){e.stopPropagation()},n.handleKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){if(s.isAlphabeticChar(e.key)&&!n.props.letterSearchDisabled){var t=n.findNextMenuItemStartingWithLetter(e.key);return t>-1&&n.setActiveItemState(function(){return t},!0),e.stopPropagation(),void e.preventDefault()}var o=n.props.menuItemInfos.length;switch(e.key){case"ArrowUp":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(n.state.activeItemIndex,-1)},!0);break;case"ArrowDown":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(n.state.activeItemIndex,1)},!0);break;case"ArrowLeft":n.props.onLeftArrowKeyDown&&n.props.onLeftArrowKeyDown();break;case"Home":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(-1,1)},!0);break;case"End":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(o,-1)},!0);break;case" ":case"Enter":n.selectActive();break;case"Escape":break;default:return}e.preventDefault(),e.stopPropagation()}},n.handleKeyUp=function(e){"Escape"===e.key&&(n.props.onEscapeKeyUp?n.props.onEscapeKeyUp():n.props.requestCloseAll(),e.preventDefault(),e.stopPropagation())},n.handleItemHover=function(e){var t=n.state.activeItemIndex,o=t===n.displayedSubmenuItemIndex,i=e-t==1;o&&i?(clearTimeout(n.submenuTimeoutId),n.submenuTimeoutId=window.setTimeout(function(){return n.setActiveItemState(function(){return e},!1)},250)):n.setActiveItemState(function(){return e},!1)},n.handleItemSelect=function(e){n.props.onSelect(e)},n.handleSubmenuShown=function(e){n.displayedSubmenuItemIndex=e},n.state={activeItemIndex:n.props.__INTERNAL__focusIndex||0,keyboardFocused:!0},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.domNode=i.findDOMNode(this),this.addStopPropogationListeners()},t.prototype.componentWillReceiveProps=function(e){if(this.props.menuItemInfos!==e.menuItemInfos){var t=void 0;this.state.activeItemIndex>-1&&this.state.activeItemIndex<this.props.menuItemInfos.length&&(t=this.props.menuItemInfos[this.state.activeItemIndex].keyboardAccessibleValue);var n=Math.max(0,l.findIndex(e.menuItemInfos,function(e){return y(e)&&e.keyboardAccessibleValue===t},0,this));this.state.activeItemIndex!==n&&this.setState({activeItemIndex:n})}},t.prototype.componentWillUnmount=function(){this.removeStopPropogationListeners()},t.prototype.selectActive=function(){if(this.state.activeItemIndex<0||this.state.activeItemIndex>=this.props.menuItemInfos.length)return void console.warn("Tried to select a invalid index: "+this.state.activeItemIndex);var e=this.props.menuItemInfos[this.state.activeItemIndex];y(e)&&this.props.onSelect(e.value)},t.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},t.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},t.prototype.findNextEnabledItemIndex=function(e,t){for(var n=this.props.menuItemInfos.length,o=e+t;o!==e;o+=t)if(o>=n?o=0:o<0&&(o=n-1),y(this.props.menuItemInfos[o]))return o;return e},t.prototype.findNextMenuItemStartingWithLetter=function(e){return l.findIndex(this.props.menuItemInfos,function(t){return y(t)&&t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.charAt(0).toUpperCase()},this.state.activeItemIndex+1,this)},t.prototype.setActiveItemState=function(e,t){var n=this;clearTimeout(this.submenuTimeoutId),this.setState(function(n,o){return{activeItemIndex:e(),keyboardFocused:t}},function(){n.displayedSubmenuItemIndex=void 0,n.state.keyboardFocused||n.props.letterSearchDisabled||n.domNode.focus()})},t.prototype.shouldShowCheckGutter=function(){for(var e=0;e<this.props.menuItemInfos.length;e++)if(void 0!==this.props.menuItemInfos[e].checked)return!0;return!1},t.prototype.buildMenuFromMenuItemInfos=function(){var e,t=this,n=this.shouldShowCheckGutter();return this.props.menuItemInfos.map(function(o,i){if(o.isDivider)e=r.createElement(u.DividerWidget,{key:i});else{if(!o.value)throw new Error("Each non-divider menu item requires a value");e=r.createElement(c.MenuItemWidget,{value:o.value,key:i,itemIndex:i,isHighlighted:!o.disabled&&!o.isUnselectable&&t.state.activeItemIndex===i,onHover:o.disabled||o.isUnselectable?null:t.handleItemHover,onSelect:t.handleItemSelect,onSubmenuShown:t.handleSubmenuShown,keyboardFocused:t.state.keyboardFocused&&!t.props.focusDisabled,checked:o.checked,showCheckGutter:n,role:s.conditional(t.props.__INTERNAL__isListbox,"option"),disabled:o.disabled,isUnselectable:o.isUnselectable,menuItemInfos:o.menuItemInfos,subMenuStyle:o.subMenuStyle,subMenuMaxHeight:o.subMenuMaxHeight,subMenuAllowAutoPosition:t.props.subMenuAllowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:t.props.subMenuShouldAutoPositionOnScrollingRootScroll,stackingRootId:t.props.stackingRootId,scrollingRootId:t.props.scrollingRootId,requestCloseAll:t.props.requestCloseAll,displayFormatterBoundWithData:o.displayFormatterBoundWithData,zIndex:t.props.zIndex,testId:t.props.testId})}return e})},t.subMenuMarginTop=function(){var e=m();return-(parseFloat(e.paddingTop||e.padding||"0")+parseFloat(e.borderTopWidth||e.borderTop||e.borderWidth||e.border||"0"))},t.prototype.render=function(){var e=o.__assign({},m(),this.props.menuStyle,s.conditional(!!this.props.maxHeight,{maxHeight:this.props.maxHeight,overflowY:"auto",WebkitOverflowScrolling:"touch"}));return r.createElement(a.Block,{id:this.props.id,style:e,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseEnter:this.props.onMouseEnter,tabIndex:-1,role:this.props.__INTERNAL__isListbox?"listbox":"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},t}(p.DynamicThemeComponent);t.ListMenuWidget=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(32),s=n(131),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasClearTextFired=!1,t.handleInputRef=function(e){t.props.textFieldInputProps.inputRef&&t.props.textFieldInputProps.inputRef(e),t.inputElement=e},t.handleClearTextWrapper=function(){t.props.textFieldInputProps.disabled||(t.wasClearTextFired=!0,t.props.handleClearText(),t.inputElement.focus(),window.setTimeout(function(){t.resetWasClearTextFired()},50))},t.handleBlur=function(){window.setTimeout(function(){if(t.wasClearTextFired||t.isTextFieldClearButtonActiveElement())return void t.resetWasClearTextFired();t.props.textFieldInputProps.handleBlur&&t.props.textFieldInputProps.handleBlur()},0)},t.handleTextFieldClearButtonRef=function(e){t.textFieldClearButton=e},t}return o.__extends(t,e),t.prototype.isTextFieldClearButtonActiveElement=function(){return!!this.textFieldClearButton&&document.activeElement===r.findDOMNode(this.textFieldClearButton)},t.prototype.resetWasClearTextFired=function(){this.wasClearTextFired=!1},t.prototype.render=function(){var e={inputRef:this.handleInputRef,handleBlur:this.handleBlur},t=o.__assign({},this.props.textFieldInputProps,e),n={ref:this.handleTextFieldClearButtonRef,pointerClick:this.handleClearTextWrapper},r=o.__assign({},this.props.textFieldClearButtonProps,n),l=this.props.textFieldInputProps.text&&!this.props.textFieldInputProps.disabled?i.createElement(s.TextFieldClearButton,o.__assign({},r)):void 0;return i.createElement("span",{style:{lineHeight:"normal",position:"relative"}},i.createElement(a.TextFieldInputWidget,o.__assign({},t)),l)},t}(i.Component);t.TextFieldWithClearIcon=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),i=function(e){var t=[];return e.forEach(function(e){t.push({menuItemInfos:e.menuItemInfos?i(e.menuItemInfos):void 0,displayFormatterBoundWithData:o.TextMenuDisplayFormatter(e.displayValue,e.title),keyboardAccessibleValue:e.displayValue,textForDropdownButton:e.displayValue,value:e.value,disabled:e.disabled,isDivider:e.isDivider,subMenuStyle:e.subMenuStyle,isUnselectable:!1,checked:e.checked,subMenuMaxHeight:e.subMenuMaxHeight})}),t};t.convertMenuItemInfoToGeneric=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(3),a=n(9),s=n(4),l=n(16),d=n(12),c=n(2),p=n(6),u=c.TabStyles.Sizing,h=c.TabStyles.Colors,g=c.TabStyles.Spacing,f=c.TabStyles.Typography,m=function(){return{MenuItem:o.__assign({height:u.ListRowHeight,paddingLeft:g.DefaultSpace,paddingRight:g.DefaultSpace,lineHeight:u.ListRowHeight+"px",position:"relative"},l.TextEllipsis,d.PreventUserSelect),Highlighted:{backgroundColor:h.F2_5},Active:{backgroundColor:h.F3},WithCheckGutter:{paddingLeft:p.MenuItemCheckIcon.checkedItemPaddingLeft},WithSubMenu:{paddingRight:p.MenuItemArrowIcon.width},Disabled:{color:f.Color.Disabled},ArrowIcon:{position:"absolute",right:0}}},y=function(e,t){return function(n){function l(o){var i=n.call(this,o)||this;return i.handleRef=function(e){i.renderedTextFormatter=e},i.handleMouseOver=function(n){t||i.setState({title:a.isElementOverflownX(i.renderedTextFormatter)?e:void 0})},i.state={title:t},i}return o.__extends(l,n),l.prototype.getSubMenuIcon=function(){if(this.props.hasSubMenu){var e=m(),t=p.MenuItemArrowIcon.icon({disabled:this.props.disabled});return i.createElement(s.Img,{style:e.ArrowIcon,src:t,"aria-hidden":!0})}return null},l.prototype.getCheckedStyles=function(){return{backgroundImage:"url('"+p.MenuItemCheckIcon.icon({active:this.props.active||this.props.isHighlighted,disabled:this.props.disabled})+"')",backgroundRepeat:"no-repeat",backgroundPosition:g.DefaultSpace+"px center"}},l.prototype.render=function(){var t=m(),n=o.__assign({},t.MenuItem,r.conditional(this.props.hasSubMenu,t.WithSubMenu),r.conditional(this.props.isHighlighted,t.Highlighted),r.conditional(this.props.active,t.Active),r.conditional(this.props.disabled,t.Disabled),r.conditional(this.props.showCheckGutter,t.WithCheckGutter),r.conditional(this.props.checked,this.getCheckedStyles())),a={style:n,title:this.state.title,ref:this.handleRef,onMouseOver:this.handleMouseOver,"data-tb-test-id":r.testId(this.props.testId,"TextMenuItem")};return i.createElement("div",o.__assign({},a),e,this.getSubMenuIcon())},l}(i.Component)};t.TextMenuDisplayFormatter=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(137),a=n(3),s=n(9),l=n(38),d=n(4),c=n(17);t.TextInputType=c.TextInputType;var p=n(32),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputId=s.generateId(),t.errorLabelId=s.generateId(),t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.children,e.containerStyle),n=e.hideErrorDiv,s=e.errorText,c=e.floatingLabel,u=e.floatingLabelStyle,h=e.onDarkBackground,g=o.__rest(e,["children","containerStyle","hideErrorDiv","errorText","floatingLabel","floatingLabelStyle","onDarkBackground"]),f=!n&&!!s,m=this.isPlaceholderShowing();c&&(m=m&&(this.props.disabled||!this.isInputActiveOrHasFocus()));var y=r.getStyles({onDarkBackground:h}),v=o.__assign({},y.placeholder.base,this.props.placeholderStyle,this.props.disabled&&y.placeholder.disabled),b=o.__assign({},y.input.base,f&&y.errorInput,this.props.inputStyle),S=o.__assign({},g,{"aria-errormessage":a.conditional(f,this.errorLabelId),"aria-invalid":!!this.props.errorText,"aria-label":this.props["aria-label"]||this.props.floatingLabel||this.props.placeholder,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,id:this.inputId,inputStyle:b,interactiveStyles:a.conditional(!f,y.input.interactive)}),C={"data-tb-test-id":a.testId(this.props.testId,"FloatingLabel"),htmlFor:this.inputId,style:o.__assign({},y.floatingLabel,u)},D={"aria-live":"polite","data-tb-test-id":a.testId(this.props.testId,"ErrorLabel"),id:this.errorLabelId,style:y.errorLabel};return i.createElement(d.Block,{style:t},!!this.props.floatingLabel&&i.createElement(d.Block,null,i.createElement("label",o.__assign({},C),m?l.Unicode.NonBreakingSpace:this.props.floatingLabel)),i.createElement(d.Block,null,m&&i.createElement("div",{style:v,"data-tb-test-id":a.testId(this.props.testId,"Placeholder")},this.props.placeholder||this.props.floatingLabel),i.createElement(p.TextFieldInputWidget,o.__assign({},S))),!this.props.hideErrorDiv&&i.createElement(d.Block,null,i.createElement("div",o.__assign({},D),this.props.errorText||l.Unicode.NonBreakingSpace)))},t}(c.TextFieldBase);t.LineTextFieldWidget=u},function(e,t,n){"use strict";function o(e){var t=i.__assign({},e,{testId:a.testId(e.testId,"Slider")});return r.createElement(s.SliderBaseWidget,i.__assign({},t))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),a=n(3),s=n(34);!function(e){e[e.Min=0]="Min",e[e.Max=1]="Max"}(t.OpenEndedAt||(t.OpenEndedAt={})),t.SliderWidget=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),i=function(){function e(e,t,n){this.min=n?Math.ceil(e):e,this.max=n?Math.floor(t):t,this.roundToIntegers=n}return e.prototype.calculateSliderPositionAsProportion=function(e){if(this.min>this.max)return NaN;var t=this.roundToIntegers?Math.round(e):e,n=(t-this.min)/(this.max-this.min);return o.clamp(n,0,1)},e.prototype.calculateNewSliderValueFromProportion=function(e){if(this.min>this.max)return NaN;if(e<0)return this.min;if(e>1)return this.max;var t=this.roundToIntegers?Math.round(e*(this.max-this.min))+this.min:e*(this.max-this.min)+this.min;return o.clamp(t,this.min,this.max)},e.prototype.calculateNewSliderValueForKey=function(e,t){var n=this.roundToIntegers?Math.round(t):t,i=(this.max-this.min)/100,r=(this.max-this.min)/10,a=this.roundToIntegers?1:i,s=this.roundToIntegers?Math.max(Math.round(r),1):r,l=n;switch(e){case"ArrowLeft":case"ArrowDown":l=n-a;break;case"ArrowUp":case"ArrowRight":l=n+a;break;case"PageDown":l=n-s;break;case"PageUp":l=n+s;break;case"Home":l=this.min;break;case"End":l=this.max;break;default:return}return o.clamp(l,this.min,this.max)},e.prototype.calculateNewSliderRangeValueForKey=function(e,t){var n=Math.max(t.to-t.from,0),i=(this.max-this.min)/100,r=(this.max-this.min)/10,a=t;switch(e){case"ArrowDown":case"ArrowLeft":if(t.from>this.min){var s=Math.max(t.from-i,this.min);a={from:s,to:s+n}}break;case"ArrowUp":case"ArrowRight":if(t.to<this.max){var l=Math.min(t.to+i,this.max);a={from:l-n,to:l}}break;case"PageDown":if(t.from>this.min){var s=Math.max(t.from-r,this.min);a={from:s,to:s+n}}break;case"PageUp":if(t.to<this.max){var l=Math.min(t.to+r,this.max);a={from:l-n,to:l}}break;case"Home":a={from:this.min,to:this.min+n};break;case"End":a={from:this.max-n,to:this.max};break;default:return}return{from:o.clamp(a.from,this.min,this.max),to:o.clamp(a.to,this.min,this.max)}},e.KeysRelevantForManipulatingSlider={ArrowLeft:!0,ArrowRight:!0,ArrowUp:!0,ArrowDown:!0,PageUp:!0,PageDown:!0,Home:!0,End:!0},e}();t.SliderValueLogic=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(67),a=n(33),s=n(3),l=n(156),d=n(159),c=n(160);!function(e){e[e.Automatic=0]="Automatic",e[e.Manual=1]="Manual"}(t.TabActivationMode||(t.TabActivationMode={}));var p;!function(e){e[e.Left=0]="Left",e[e.Justified=1]="Justified"}(p=t.TabListAlignment||(t.TabListAlignment={}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.setActiveIndex=function(e){n.setState({activeIndex:n.state.activeIndex===e?n.state.activeIndex:e,focusedIndex:e})},n.setFocusedIndex=function(e){n.setState({focusedIndex:e})},n.validateProps(t),n.state={activeIndex:a.clamp(t.initialActiveIndex,0,t.tabs.length-1),focusedIndex:-1},n.activator=l.TabActivatorFactory.CreateInstance(n),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.validateProps(e)},t.prototype.componentDidUpdate=function(e,t){this.state.activeIndex!==t.activeIndex&&this.props.onActiveIndexChanged&&this.props.onActiveIndexChanged(this.state.activeIndex)},t.prototype.validateProps=function(e){if(0===e.tabs.length)throw Error("Invalid 'tabs' count: 1+ tabs are required")},t.prototype.buildTabId=function(e){return s.testId(this.props.testId,"tab"+(e+1))},t.prototype.buildTabPanelId=function(e){return s.testId(this.props.testId,"tabpanel"+(e+1))},t.prototype.renderTabList=function(e){var t=this;return this.props.tabs.map(function(e,n){var a={ariaControls:t.buildTabPanelId(n),id:t.buildTabId(n),index:n,isActive:t.isTabActive(n),isFocused:t.isTabFocused(n),onBlur:function(){return t.setFocusedIndex(-1)},onClick:t.setActiveIndex,onFocus:t.setFocusedIndex,onKeyDown:t.activator.handleKeyDown,tabContainerStyles:r.GetTabLabelContainerStyles(),tabContent:e.tabContent};return t.props.dimensionOverrides&&t.props.dimensionOverrides.tabHorizontalPadding&&(a.tabContainerStyles.paddingRight=t.props.dimensionOverrides.tabHorizontalPadding,a.tabContainerStyles.paddingLeft=t.props.dimensionOverrides.tabHorizontalPadding),void 0!==t.props.tabListAlignment&&t.props.tabListAlignment!==p.Justified||(a.flexPercent=100/t.props.tabs.length),i.createElement(d.TabWidget,o.__assign({key:n},a))})},t.prototype.isTabActive=function(e){return e===this.state.activeIndex},t.prototype.isTabFocused=function(e){return e===this.state.focusedIndex},t.prototype.isAnchorTabActive=function(){return this.isTabActive(this.props.anchorTabIndex)},t.prototype.renderTabPanel=function(e){var t={ariaLabelledBy:this.buildTabId(e),containerStyle:this.getTabPanelContainerStyle(e),content:this.props.tabs[e].panelContent,id:this.buildTabPanelId(e)};return i.createElement(c.TabPanel,o.__assign({},t))},t.prototype.getTabPanelContainerStyle=function(e){return e!==this.props.anchorTabIndex?r.NonAnchorTabPanelStyles:this.isAnchorTabActive()?r.ActiveTabVisibility:r.InactiveTabVisibility},t.prototype.isAnIconDefinedInTabs=function(){for(var e=0;e<this.props.tabs.length;e++)if(this.props.tabs[e].tabContent.icon)return!0;return!1},t.prototype.render=function(){var e=this.isAnIconDefinedInTabs(),t={"aria-label":this.props.ariaLabel,"data-tb-test-id":s.testId(this.props.testId,"tablist"),role:"tablist",style:r.GetTabListStyles(e)};this.props.dimensionOverrides&&this.props.dimensionOverrides.tabHeight&&(t.style.height=this.props.dimensionOverrides.tabHeight);var n={"data-tb-test-id":s.testId(this.props.testId,"tabpanel-scroll-container"),style:o.__assign({},r.TabPanelScrollContainerStyles)};this.props.dimensionOverrides&&this.props.dimensionOverrides.tabPanelPadding&&(n.style.padding=this.props.dimensionOverrides.tabPanelPadding);var a={"data-tb-test-id":s.testId(this.props.testId,"tabpanel-container"),style:r.TabPanelContainerStyles};return i.createElement("div",null,i.createElement("div",o.__assign({},t),this.renderTabList(e)),i.createElement("div",o.__assign({},n),i.createElement("div",o.__assign({},a),this.renderTabPanel(this.props.anchorTabIndex),s.conditional(!this.isAnchorTabActive(),this.renderTabPanel(this.state.activeIndex)))))},t}(i.PureComponent);t.TabsWidget=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),r=n(16),a=n(12),s=i.TabStyles.Spacing,l=i.TabStyles.Colors,d=i.TabStyles.Typography.Color;t.ActiveTabVisibility={visibility:"visible"},t.InactiveTabVisibility={visibility:"hidden"},t.TabsWidgetDimensions={tabLabelPadding:s.ExtraLargeSpace,textOnlyTabListHeight:42,iconAndTextTabListHeight:54,tabIndicatorHeight:3},t.NonAnchorTabPanelStyles={position:"absolute",width:"100%",left:"0",top:"0"},t.TabPanelScrollContainerStyles={overflowY:"auto",padding:s.LargeSpace,position:"relative",WebkitOverflowScrolling:"touch"},t.TabPanelContainerStyles={position:"relative"},t.GetTabListStyles=function(e){return o.__assign({display:"flex",backgroundColor:l.F2,fontFamily:i.TabStyles.Typography.FontFamily,fontSize:e?i.TabStyles.Typography.Sizing.Tiny:i.TabStyles.Typography.Sizing.Default,height:e?t.TabsWidgetDimensions.iconAndTextTabListHeight:t.TabsWidgetDimensions.textOnlyTabListHeight},a.PreventUserSelect)},t.GetSingleTabStyles=function(e){var t={display:"inline-block",height:"100%",outline:"none",overflow:"hidden",position:"relative"};return e&&(t.flex="1 0 "+e+"%"),t},t.GetTabLabelContainerStyles=function(){return{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingRight:t.TabsWidgetDimensions.tabLabelPadding,paddingLeft:t.TabsWidgetDimensions.tabLabelPadding}},t.DefaultTabLabelStyles=o.__assign({color:d.PrimaryLight},r.TextEllipsis),t.TabContentStyle={alignItems:"center",display:"flex",justifyContent:"center"},t.LabelStyle=o.__assign({display:"block"},r.TextEllipsis),t.BaseTabIndicatorStyles={backgroundColor:"transparent",height:t.TabsWidgetDimensions.tabIndicatorHeight,position:"absolute",bottom:0,width:"100%"},t.FocusedTabIndicatorStyles={backgroundColor:l.Focus},t.HoveredTabIndicatorStyles={backgroundColor:l.L5},t.ActiveTabIndicatorStyles={backgroundColor:l.L8},t.PressedTabIndicatorStyles={backgroundColor:l.L9}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.tabsWidget=e,this.handleKeyDown=this.handleKeyDown.bind(this)}return e.prototype.tabIndexFromKeyDown=function(e,t){var n=this.tabsWidget.props.tabs.length;switch(t){case"ArrowRight":return(e+1)%n;case"ArrowLeft":return(n+e-1)%n;case"Home":return 0;case"End":return n-1;default:return-1}},e.preventDefaultAndStopPropagation=function(e){e.preventDefault(),e.stopPropagation()},e}();t.BaseTabActivator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(3),a=n(7),s={textDecoration:"underline"},l={active:s,focus:s,hover:s},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.onClick&&t.props.onClick()},t}return o.__extends(t,e),t.prototype.render=function(){var e={"data-tb-test-id":r.testId(this.props.testId,"InteractiveLink"),href:this.props.href||"#",onClick:this.handleClick,style:o.__assign({},this.props.style,{textDecoration:"none"})};return i.createElement(a.InteractiveDomWrapper,{interactiveStyles:l},i.createElement("a",o.__assign({},e),this.props.text))},t}(i.PureComponent);t.InteractiveLinkWidget=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(8),s=n(162),l=n(24),d=n(63),c=n(21),p=n(10),u=n(2),h=n(6),g=n(4),f=n(14),m=n(11),y=n(9);!function(e){e[e.ShortDateTime=0]="ShortDateTime",e[e.MediumDateTime=1]="MediumDateTime",e[e.LongDateTime=2]="LongDateTime",e[e.FullDateTime=3]="FullDateTime",e[e.ShortDate=4]="ShortDate",e[e.MediumDate=5]="MediumDate",e[e.LongDate=6]="LongDate",e[e.FullDate=7]="FullDate",e[e.ShortDateWithFullYear=8]="ShortDateWithFullYear",e[e.ShortDateTimeWithFullYear=9]="ShortDateTimeWithFullYear",e[e.ShortDateTimeWithFullYear24Hour=10]="ShortDateTimeWithFullYear24Hour",e[e.ShortDateMediumTimeWithFullYear=11]="ShortDateMediumTimeWithFullYear",e[e.ShortDateMediumTimeWithFullYear24Hour=12]="ShortDateMediumTimeWithFullYear24Hour"}(o=t.DateFormat||(t.DateFormat={}));var v;!function(e){e[e.Line=0]="Line",e[e.Outline=1]="Outline"}(v=t.DateInputFieldType||(t.DateInputFieldType={}));var b=u.TabStyles.Shadow,S=u.TabStyles.Colors,C=u.TabStyles.Sizing,D=function(e){function t(t){var n=e.call(this,t)||this;n.datePickerId=y.generateId(),n.handleInputRef=function(e){n.inputElement=e},n.handleDropdownButtonRef=function(e){n.dropdownButtonElement=a.findDOMNode(e)},n.handleOverlayRef=function(e){n.overlayElement=e},n.handleButtonClick=function(e){n.toggleDatePicker()},n.handleChange=function(e){n.setState({inputText:e});var t=l.getParsedDate(e,n.props.terminus);t?n.triggerOnChange(t):n.close()},n.handleInputKeyDown=function(e){if(n.props.hasDatePicker){switch(e.key){case" ":if(0===n.inputElement.selectionStart&&n.inputElement.selectionEnd===n.inputElement.value.length){n.open();break}return;case"ArrowDown":n.open();break;case"ArrowUp":n.close();break;default:return}e.preventDefault(),e.stopPropagation()}},n.handleInputEnter=function(){var e=l.getParsedDate(n.state.inputText,n.props.terminus);e&&n.confirmDate(e,!1)},n.handleOverlayKeyUp=function(e){"Escape"===e.key&&(n.handleEscape(),e.preventDefault()),e.stopPropagation()},n.handleBlur=function(e){var t=y.findBlurRelatedTarget(e);if(!(n.props.hasDatePicker&&(n.overlayElement&&n.overlayElement.contains(t)||n.inputElement.contains(t)||n.dropdownButtonElement.contains(t)))){var o=l.getParsedDate(n.state.inputText,n.props.terminus);o&&!n.props.errorText?n.confirmDate(o,!1):n.confirmDate(n.props.selectedDate,!0)}},n.handlePickerBlur=function(e){var t=y.findBlurRelatedTarget(e);e.currentTarget!==e.target&&e.currentTarget.contains(t)||n.handleBlur(e)},n.handleEscape=function(){n.confirmDate(n.props.selectedDate,!0)},n.handlePickerChange=function(e){var t=l.getDateWithTerminus(e,m.Parsers.parseShortDate,n.props.terminus),o=n.getFormattedDate(t);n.handleChange(o)},n.handlePickerConfirm=function(e){n.confirmDate(e,!0)},n.renderDatePicker=function(){var e={autofocus:!0,isDateDisabled:n.props.isDatePickerDateDisabled,onChange:n.handlePickerChange,onConfirm:n.handlePickerConfirm,selectedDate:n.props.selectedDate,showWeekNumbers:n.props.showDatePickerWeekNumbers,testId:n.props.testId+"-date-picker"};return r.createElement(s.DatePickerWidget,i.__assign({},e))};var o=t.selectedDate,d=l.getDateFormatter(n.props.displayFormat)(o);return n.state={inputText:d},n}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){t.isDatePickerOpen&&!this.state.isDatePickerOpen?this.onClosed():e.displayFormat!==this.props.displayFormat?this.setState({inputText:l.getDateFormatter(this.props.displayFormat)(this.props.selectedDate)}):!e.errorText&&this.props.errorText&&this.close()},t.prototype.onClosed=function(){this.inputElement&&window.document.body.contains(this.inputElement)&&this.inputElement.focus()},t.prototype.open=function(){this.toggleDatePicker(!0)},t.prototype.close=function(){this.toggleDatePicker(!1)},t.prototype.toggleDatePicker=function(e){void 0===e&&(e=!this.state.isDatePickerOpen),this.props.hasDatePicker&&e!==this.state.isDatePickerOpen&&this.setState({isDatePickerOpen:e})},t.prototype.confirmDate=function(e,t){t&&this.setState({inputText:this.getFormattedDate(e)}),this.triggerOnConfirm(e),this.close()},t.prototype.triggerOnConfirm=function(e){this.props.onConfirm&&this.props.onConfirm(e)},t.prototype.triggerOnChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.getFormattedDate=function(e){return l.getDateFormatter(this.props.displayFormat)(e)},t.prototype.isOutlineTextField=function(){return this.props.dateInputFieldType===v.Outline},t.prototype.renderOutlineTextField=function(e){return r.createElement(r.Fragment,null,r.createElement(c.OutlineTextFieldWidget,i.__assign({},e)),this.renderIcon())},t.prototype.renderLineTextField=function(e){return r.createElement(r.Fragment,null,r.createElement(d.LineTextFieldWidget,i.__assign({},e)),this.renderIcon())},t.prototype.renderTextField=function(){var e=m.Messages.enterValidDate(),t=l.getParsedDate(this.state.inputText,this.props.terminus),n=t?this.props.errorText:e,o=!(t&&!this.props.errorText),a=i.__assign({},this.props.style,{maxWidth:210+2*u.TabStyles.Spacing.DefaultSpace+2*u.TabStyles.Sizing.BorderWidth,position:"relative"}),s={paddingRight:24},d={containerStyle:a,disabled:this.props.disabled,handleChange:this.handleChange,handleEnter:this.handleInputEnter,handleEscape:this.handleEscape,inputRef:this.handleInputRef,inputStyle:this.props.hasDatePicker?s:null,testId:this.props.testId+"-text-field",text:this.state.inputText},c=i.__assign({},d,{displayErrorTextSection:!0,errorText:n,hasError:o}),p=i.__assign({},d,{errorText:n}),h=this.props.hasDatePicker?{"aria-expanded":!!this.state.isDatePickerOpen,"aria-haspopup":"dialog","aria-owns":this.datePickerId,role:"combobox"}:void 0;return r.createElement("div",i.__assign({onBlur:this.handleBlur,onKeyDown:this.handleInputKeyDown,style:a},h),this.isOutlineTextField()?this.renderOutlineTextField(c):this.renderLineTextField(p))},t.prototype.renderIcon=function(){if(!this.props.hasDatePicker)return null;var e={display:"inline-flex",height:C.RowHeight-2*C.BorderWidth,position:"absolute",top:C.BorderWidth},t=i.__assign({},e,{right:0}),n=i.__assign({},e,{borderLeft:"1px solid "+S.L3,boxSizing:"border-box",right:2*C.BorderWidth}),o=function(e){return function(t){var n={draggable:!1,src:h.encodeSvg(e.icon(t))};return r.createElement(g.Img,i.__assign({},n))}},a={buttonType:f.ButtonType.IconOutline,disabled:this.props.disabled,disableTabAccessibility:!0,getContent:o(this.isOutlineTextField()?h.OutlineDropdownArrowIcon:h.LineAndTextDropdownArrowIcon),handleClick:this.handleButtonClick,style:this.isOutlineTextField()?n:t,testId:this.props.testId+"-button"};return r.createElement(f.ButtonWidget,i.__assign({},a,{ref:this.handleDropdownButtonRef}))},t.prototype.renderOverlay=function(){var e=this.state.isDatePickerOpen&&this.props.hasDatePicker&&this.renderDatePicker();if(!e||!this.inputElement)return null;var t={boxShadow:b.Standard,lineHeight:"normal",outline:"none"},n={id:this.datePickerId,role:"dialog"};return r.createElement(p.Overlay,{allowAutoPosition:!0,anchorEl:this.inputElement,anchorOrigin:{vertical:p.VerticalOriginOption.bottom,horizontal:p.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,portalEventTrapOverrides:{onKeyUp:this.handleOverlayKeyUp},zIndex:this.props.zIndex},r.createElement("div",i.__assign({onBlur:this.handlePickerBlur,ref:this.handleOverlayRef,style:t,tabIndex:-1},n),e))},t.prototype.render=function(){return r.createElement("div",{"data-tb-test-id":this.props.testId},this.renderTextField(),this.renderOverlay())},t.defaultProps={displayFormat:o.ShortDateWithFullYear,hasDatePicker:!0,selectedDate:new Date,showDatePickerWeekNumbers:!1},t}(r.Component);t.DateInputField=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(6),s=n(168),l=n(12),d=n(2),c=n(3),p=n(9),u=n(72),h=n(10),g=n(13),f=n(4),m=d.TabStyles.Shadow,y=d.TabStyles.Typography,v=d.TabStyles.Colors,b=v.L3,S=v.L6,C=v.WhiteTransparentLine,D=d.TabStyles.Sizing,I=D.BorderWidth,w=D.RowHeight;!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text",e[e.Icon=3]="Icon"}(o=t.DropdownButtonType||(t.DropdownButtonType={}));var T=[a.OutlineDropdownArrowIcon,a.LineAndTextDropdownArrowIcon,a.LineAndTextDropdownArrowIcon,a.IconDropdownArrowIcon],k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1},t.overlayId=p.generateId(),t.handleDocumentMousedown=function(e){var n=e.target;document.getElementById(t.overlayId).contains(n)||t.dropdownButtonElement.contains(n)||t.close()},t.handleClick=function(e){t.toggle()},t.handleFocusBlur=function(e){t.setState({focus:"focus"===e.type})},t.handleHover=function(e){t.setState({hover:"mouseover"===e.type})},t.handleKeyDown=function(e){switch(e.key){case" ":e.repeat||t.toggle();break;case"Escape":e.repeat||t.close();break;default:return void(t.props.onKeyDown&&t.props.onKeyDown(e))}e.preventDefault(),e.stopPropagation()},t.handlePortalKeyDown=function(e){"Escape"===e.key&&t.handleKeyDown(e),e.stopPropagation()},t.handleButtonRef=function(e){t.dropdownButtonElement=e},t.close=function(){t.toggle(!1)},t.onOpened=function(){if(document.addEventListener("mousedown",t.handleDocumentMousedown,{capture:!0}),t.props.onOpen){var e=t.dropdownButtonElement.getBoundingClientRect();t.props.onOpen(t.close,e)}},t.onClosed=function(){t.removeDocumentMousedownListener(),t.props.focusOnClose&&p.timeoutFocus(t.dropdownButtonElement),t.props.onClose&&t.props.onClose()},t}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.disabled&&this.state.isOpen?this.close():!t.isOpen&&this.state.isOpen?this.onOpened():t.isOpen&&!this.state.isOpen&&this.onClosed()},t.prototype.componentWillUnmount=function(){this.removeDocumentMousedownListener()},t.prototype.isOutlineType=function(){return this.props.type===o.Outline},t.prototype.toggle=function(e){void 0===e&&(e=!this.state.isOpen),this.props.disabled&&e||e!==this.state.isOpen&&this.setState({isOpen:e})},t.prototype.removeDocumentMousedownListener=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown,{capture:!0})},t.prototype.getStyle=function(){var e=this.props,t=e.disabled,n=e.useDarkStyling,r=this.props.type===o.Line||this.props.type===o.Outline,a=r?s.getBorderColor(i.__assign({},this.state,{disabled:t}),n):"transparent",d=i.__assign({display:"flex"},this.props.style,{alignItems:"center",borderColor:a,borderWidth:I,boxSizing:"border-box",color:s.getFontColor(t,n),fontFamily:y.FontFamily,fontSize:y.Sizing.Default,lineHeight:"normal",outline:"none",position:"relative"},l.PreventUserSelect);return this.isOutlineType()?(d.borderRadius=1,d.borderStyle="solid"):d.borderBottomStyle="solid",d},t.prototype.render=function(){var e={"aria-disabled":this.props.disabled,"aria-expanded":!!this.state.isOpen,"aria-haspopup":this.props["aria-haspopup"]||!0,"aria-owns":this.overlayId,"data-tb-test-id":this.props.testId,onBlur:this.handleFocusBlur,onFocus:this.handleFocusBlur,onKeyDown:this.handleKeyDown,onKeyPress:this.props.onKeyPress,onMouseOver:this.handleHover,onMouseOut:this.handleHover,ref:this.handleButtonRef,role:"button",tabIndex:0};return r.createElement(g.PointerEventWrapper,{pointerClick:this.handleClick},r.createElement("div",i.__assign({},e,{style:this.getStyle()}),this.renderChildren(),this.renderIcon(),this.renderOverlay()))},t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.useDarkStyling;if(!t)return null;var a=i.__assign({alignItems:"center",alignSelf:"stretch",display:"inline-flex",flexGrow:this.props.type===o.Icon?0:1,minHeight:w-2*I,overflow:"hidden"},c.conditional(this.isOutlineType(),{borderRight:"1px solid "+(n?C:b),padding:"0 6px"}));return r.createElement("span",{style:a},t)},t.prototype.renderIcon=function(){var e=T[this.props.type],t=e.icon({active:this.state.active||this.state.isOpen,disabled:this.props.disabled,hover:this.state.hover,onDarkBackground:this.props.useDarkStyling});return r.createElement(f.Img,{src:t,style:{margin:this.props.children?void 0:"0 auto"}})},t.prototype.renderOverlay=function(){var e=this.state.isOpen&&!!this.props.renderPopupContent&&this.props.renderPopupContent();if(!e||!this.dropdownButtonElement)return null;var t=this.dropdownButtonElement.getBoundingClientRect().width,n={background:"white",border:"1px solid "+S,boxSizing:"border-box",boxShadow:m.Standard,lineHeight:"normal",minWidth:t};return r.createElement(h.Overlay,{allowAutoPosition:!0,anchorEl:this.dropdownButtonElement,anchorOrigin:{vertical:h.VerticalOriginOption.bottom,horizontal:h.HorizontalOriginOption.left},autoFocus:!0,portalEventTrapOverrides:{onKeyDown:this.handlePortalKeyDown},stackingRootId:this.props.stackingRootId,topFromOverlaidPosition:-1,zIndex:this.props.zIndex},r.createElement(u.FocusTrap,null,r.createElement("div",{id:this.overlayId,style:n},e)))},t.defaultProps={focusOnClose:!0},t}(r.Component);t.DropdownButton=k},function(e,t,n){"use strict";function o(e){e.stopPropagation()}function i(e){var t=e.relatedTarget||document.activeElement;t&&!e.currentTarget.contains(t)&&(e.target.focus(),e.stopPropagation())}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.FocusTrap=function(e){return r.createElement("div",{onBlur:i,onFocus:o},e.children)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(9),s=n(15),l=n(13),d=n(74),c=n(25),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listElement=null,t.itemTextContent=[],t.typeAheadQuery="",t.typeAheadTimeoutHandle=0,t.state={activeItemIndex:c.findItemWithValue(t.props.items,t.props.selectedValue)},t.handleFocus=function(e){if(e.target!==e.currentTarget){var n=a.closest(e.target,'[role="option"]');if(!n)return;var o=parseInt(n.getAttribute("data-itemindex"),10);isNaN(o)||o===t.state.activeItemIndex||t.setState({activeItemIndex:o})}},t.handleClick=function(e){t.handleItemSelection(e.target)},t.handleKeyDown=function(e){var n=t.props.items,o=t.state.activeItemIndex;switch(e.key){case"ArrowUp":o=c.findFocusableItemIndex(n,o,-1);break;case"ArrowDown":o=c.findFocusableItemIndex(n,o,1);break;case"Home":o=c.findFocusableItemIndex(n,-1,1);break;case"End":o=c.findFocusableItemIndex(n,n.length,-1);break;case" ":t.handleItemSelection(e.target);break;case"Enter":if(t.props.selectOnEnterKey){t.handleItemSelection(e.target);break}return;default:return}e.stopPropagation(),e.preventDefault(),o!==t.state.activeItemIndex&&t.setState({activeItemIndex:o})},t.handleKeyPress=function(e){if(" "!==e.key){window.clearTimeout(t.typeAheadTimeoutHandle),t.typeAheadTimeoutHandle=window.setTimeout(t.resetQuery,500),t.typeAheadQuery+=e.key;var n=t.typeAheadQuery.toLowerCase(),o=s.findIndex(t.itemTextContent,function(e,o){return c.isFocusableItem(t.props.items[o])&&0===e.toLowerCase().indexOf(n)},t.state.activeItemIndex+(1===n.length?1:0));o>=0&&t.setState({activeItemIndex:o})}},t.handleListRef=function(e){t.listElement=e},t.resetQuery=function(){t.typeAheadQuery=""},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.memoizeItemTextContent()},t.prototype.componentDidUpdate=function(e,t){e.items!==this.props.items&&this.memoizeItemTextContent(),t.activeItemIndex!==this.state.activeItemIndex&&this.syncFocus()},t.prototype.handleItemSelection=function(e){var t=a.closest(e,'[role="option"]:not([aria-disabled="true"])');if(this.props.onSelect&&t){var n=t.getAttribute("data-itemvalue");this.props.onSelect(n)}},t.prototype.memoizeItemTextContent=function(){this.itemTextContent=[];var e=r.findDOMNode(this);if(e)for(var t,n=0,o=e.children;n<o.length;n++)t=o[n],this.itemTextContent.push(t.textContent)},t.prototype.syncFocus=function(){if(this.listElement&&this.listElement.contains(document.activeElement)){var e=this.listElement.querySelector('[data-itemindex="'+this.state.activeItemIndex+'"]');e&&e.focus()}},t.prototype.renderItems=function(e,t,n){if(!e)return null;for(var o=e.filter(function(e){return!e.separator}).length,r=[],a=0,s=0;a<e.length;a++){var l=e[a];l.separator?r.push(i.createElement("div",{className:d.separatorStyleClass,"data-tb-test-id":l.testId,key:a,role:"separator"})):(s++,r.push(i.createElement("div",{"aria-disabled":l.disabled,"aria-posinset":s,"aria-selected":t&&l.value===t,"aria-setsize":o,className:d.listItemStyleClass,"data-itemindex":a,"data-itemvalue":l.value,"data-tb-test-id":l.testId,key:a,id:this.props.id?this.props.id+"-"+l.value:void 0,role:"option",tabIndex:a===n?0:-1,title:l.tooltip},i.createElement("span",{className:d.ellipsedStyleClass},l.content||l.value))))}return r},t.prototype.render=function(){var e=this.props,t=e.disableTabAccessibility,n=e.items,r=(e.onSelect,e.selectedValue),a=(e.selectOnEnterKey,e.testId),s=o.__rest(e,["disableTabAccessibility","items","onSelect","selectedValue","selectOnEnterKey","testId"]);return i.createElement(l.PointerEventWrapper,{pointerClick:this.handleClick},i.createElement("div",o.__assign({},s,{className:d.listStyleClass,"data-tb-test-id":a,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,ref:this.handleListRef,role:"listbox"}),this.renderItems(n,r,t?void 0:this.state.activeItemIndex)))},t}(i.Component);t.List=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),i=n(2),r=n(12),a=n(16),s=i.TabStyles.Opacity,l=i.TabStyles.Sizing,d=i.TabStyles.Spacing,c=i.TabStyles.Typography,p=i.TabStyles.Colors,u=p.F2_5,h=p.F3;t.listStyleClass=o.style(r.PreventUserSelect,{color:c.Color.Primary,fontFamily:c.FontFamily,fontSize:c.Sizing.Default,lineHeight:"normal",overflowY:"auto",padding:d.DefaultSpace,"-webkit-overflow-scrolling":"touch"}),t.filteringListClass=o.style({display:"flex",flexDirection:"column",lineHeight:"normal",$nest:{"&.reverse":{flexDirection:"column-reverse"}}}),t.listItemStyleClass=o.style(r.PreventUserSelect,{alignItems:"center",display:"flex",minHeight:l.ListRowHeight,paddingLeft:d.DefaultSpace,paddingRight:d.DefaultSpace,$nest:{'&:hover, &[aria-selected="true"]':{backgroundColor:u},"&:focus":{},"&:active":{backgroundColor:h},'&[aria-disabled="true"]':{backgroundColor:"transparent",opacity:s.Disabled}}}),t.ellipsedStyleClass=o.style({flexGrow:1},a.TextEllipsis),t.separatorStyleClass=o.style({background:h,height:1,margin:"9.5px 0"})},function(e,t,n){"use strict";function o(e){var t=new i.a({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"setStylesTarget",function(){return l}),n.d(t,"cssRaw",function(){return d}),n.d(t,"cssRule",function(){return c}),n.d(t,"forceRenderStyles",function(){return p}),n.d(t,"fontFace",function(){return u}),n.d(t,"getStyles",function(){return h}),n.d(t,"keyframes",function(){return g}),n.d(t,"reinit",function(){return f}),n.d(t,"style",function(){return m}),n.d(t,"stylesheet",function(){return y}),t.createTypeStyle=o;var i=n(170);n.d(t,"TypeStyle",function(){return i.a});var r=n(173);n.n(r);n.d(t,"types",function(){return r});var a=n(77);n.d(t,"extend",function(){return a.b}),n.d(t,"classes",function(){return a.a}),n.d(t,"media",function(){return a.c});var s=new i.a({autoGenerateTag:!0}),l=s.setStylesTarget,d=s.cssRaw,c=s.cssRule,p=s.forceRenderStyles,u=s.fontFace,h=s.getStyles,g=s.keyframes,f=s.reinit,m=s.style,y=s.stylesheet},function(e,t,n){"use strict";(function(e){function n(e){return e.replace(f,b).replace(m,"-ms-")}function o(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function i(e,t){return"number"!=typeof t||0===t||C[e]?e+":"+t:e+":"+t+"px"}function r(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function a(e,o){for(var i=[],a=[],l=!1,d=0,c=Object.keys(e);d<c.length;d++){var p=c[d],u=e[p];null!==u&&void 0!==u&&(p===t.IS_UNIQUE?l=!0:"object"!=typeof u||Array.isArray(u)?i.push([n(p.trim()),u]):a.push([p.trim(),u]))}return{styleString:s(r(i)),nestedStyles:o?a:r(a),isUnique:l}}function s(e){return e.map(function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map(function(e){return i(t,e)}).join(";"):i(t,n)}).join(";")}function l(e,t){return e.indexOf("&")>-1?e.replace(y,t):t+" "+e}function d(e,t,n,o,i){var r=a(n,!!t),s=r.styleString,c=r.nestedStyles,p=r.isUnique,u=s;if(64===t.charCodeAt(0)){var h=e.add(new O(t,i?void 0:s,e.hash));if(s&&i){var f=h.add(new B(s,h.hash,p?"u"+(++g).toString(36):void 0));o.push([i,f])}for(var m=0,y=c;m<y.length;m++){var v=y[m],b=v[0],S=v[1];u+=b+d(h,b,S,o,i)}}else{var C=i?l(t,i):t;if(s){var f=e.add(new B(s,e.hash,p?"u"+(++g).toString(36):void 0));o.push([C,f])}for(var D=0,I=c;D<I.length;D++){var w=I[D],b=w[0],S=w[1];u+=b+d(e,b,S,o,C)}}return u}function c(e,n,o,i,r){for(var a=new E(e.hash),s=[],c=d(a,n,o,s),p="f"+a.hash(c),u=r?r+"_"+p:p,h=0,g=s;h<g.length;h++){var f=g[h],m=f[0],y=f[1],v=i?l(m,"."+t.escape(u)):m;y.add(new P(v,y.hash,void 0,c))}return{cache:a,pid:c,id:u}}function p(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}function u(e,t,n){return new F(e,t,void 0,n)}var h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var g=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var f=/[A-Z]/g,m=/^ms-/,y=/&/g,v=/[ !#$%&()*+,.\/;<=>?@[\]^`{|}~"'\\]/g,b=function(e){return"-"+e.toLowerCase()},S=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],C=Object.create(null),D=0,I=["-webkit-","-ms-","-moz-","-o-",""];D<I.length;D++)for(var w=I[D],T=0,k=S;T<k.length;T++){var _=k[T];C[w+_]=!0}t.escape=function(e){return e.replace(v,"\\$&")},t.hyphenate=n,t.stringHash=o;var x={add:function(){},change:function(){},remove:function(){}},E=function(){function e(e,t){void 0===e&&(e=o),void 0===t&&(t=x),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,o=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[o.id]=o,this._keys.push(o.id),this.sheet.push(o.getStyles()),this.changeId++,this.changes.add(o,this._keys.length-1);else{if(o.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+o.getStyles());var i=this._keys.indexOf(t.id),r=this._keys.length-1,a=this.changeId;if(i!==r&&(this._keys.splice(i,1),this._keys.push(t.id),this.changeId++),o instanceof e&&t instanceof e){var s=o.changeId;o.merge(t),o.changeId!==s&&this.changeId++}this.changeId!==a&&(i===r?this.sheet.splice(i,1,o.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(r,0,o.getStyles())),this.changes.change(o,i,r))}return o},e.prototype.remove=function(t){var n=this._counters[t.id];if(n>0){this._counters[t.id]=n-1;var o=this._children[t.id],i=this._keys.indexOf(o.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(o,i);else if(o instanceof e&&t instanceof e){var r=o.changeId;o.unmerge(t),o.changeId!==r&&(this.sheet.splice(i,1,o.getStyles()),this.changeId++,this.changes.change(o,i,i))}}},e.prototype.merge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var o=n[t];this.add(e._children[o])}return this},e.prototype.unmerge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var o=n[t];this.remove(e._children[o])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();t.Cache=E;var P=function(){function e(e,t,n,o){void 0===n&&(n="s"+t(e)),void 0===o&&(o=""),this.selector=e,this.hash=t,this.id=n,this.pid=o}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();t.Selector=P;var B=function(e){function t(t,n,o){void 0===o&&(o="c"+n(t));var i=e.call(this,n)||this;return i.style=t,i.hash=n,i.id=o,i}return h(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(E);t.Style=B;var O=function(e){function t(t,n,o,i,r){void 0===n&&(n=""),void 0===i&&(i="a"+o(t+"."+n)),void 0===r&&(r="");var a=e.call(this,o)||this;return a.rule=t,a.style=n,a.hash=o,a.id=i,a.pid=r,a}return h(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+p(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(E);t.Rule=O;var F=function(n){function i(t,i,r,a){void 0===t&&(t=o),void 0===i&&(i=void 0!==e&&!1),void 0===r&&(r="f"+(++g).toString(36));var s=n.call(this,t,a)||this;return s.hash=t,s.debug=i,s.id=r,s}return h(i,n),i.prototype.registerStyle=function(e,t){var n=this.debug?t:void 0,o=c(this,"&",e,!0,n),i=o.cache,r=o.id;return this.merge(i),r},i.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},i.prototype.registerHashRule=function(e,n,o){var i=this.debug?o:void 0,r=c(this,"",n,!1,i),a=r.cache,s=r.pid,l=r.id,d=new O(e+" "+t.escape(l),void 0,this.hash,void 0,s);return this.add(d.merge(a)),l},i.prototype.registerRule=function(e,t){this.merge(c(this,e,t,!1).cache)},i.prototype.registerCss=function(e){this.merge(c(this,"",e,!1).cache)},i.prototype.getStyles=function(){return p(this.sheet)},i.prototype.getIdentifier=function(){return this.id},i.prototype.clone=function(){return new i(this.hash,this.debug,this.id,this.changes).merge(this)},i}(E);t.FreeStyle=F,t.create=u}).call(t,n(171))},function(e,t,n){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return!!e}).join(" ")}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=0,r=e;o<r.length;o++){var a=r[o];if(null!=a&&!1!==a)for(var s in a){var l=a[s];(l||0===l)&&("$nest"===s&&l?n[s]=n.$nest?i(n.$nest,l):l:-1!==s.indexOf("&")||0===s.indexOf("@media")?n[s]=n[s]?i(n[s],l):l:n[s]=l)}}return n}n.d(t,"d",function(){return r}),t.a=o,t.b=i,n.d(t,"c",function(){return a});var r="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=[];e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+s(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+s(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+s(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+s(e.maxHeight)+")");var r="@media "+o.join(" and ");return{$nest:(a={},a[r]=i.apply(void 0,t),a)};var a},s=function(e){return"string"==typeof e?e:e+"px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(75),a=n(2),s=n(9),l=n(15),d=n(42),c=n(73),p=n(25),u=n(74),h={margin:a.TabStyles.Spacing.SmallSpace},g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listId=s.generateId(),t.state={},t.handleFocusCapture=function(e){t.inputElement&&e.target!==t.inputElement&&t.inputElement.focus()},t.clearInput=function(){t.props.onFilterChange&&(t.setState({selectedItem:void 0}),t.props.onFilterChange(""))},t.handleKeyDown=function(e){var n=t.props.items,o=n.indexOf(t.state.selectedItem);switch(e.key){case"Home":t.setState({selectedItem:n[p.findSelectableItemIndex(n,-1,1)]});break;case"End":t.setState({selectedItem:n[p.findSelectableItemIndex(n,n.length,-1)]});break;case"ArrowUp":t.setState({selectedItem:n[p.findSelectableItemIndex(n,o,-1)]});break;case"ArrowDown":t.setState({selectedItem:n[p.findSelectableItemIndex(n,o,1)]});break;case"ArrowLeft":case"ArrowRight":if(t.inputElement&&e.target!==t.inputElement){t.inputElement.focus();break}return;case"Enter":if(t.props.onSelect&&t.state.selectedItem){t.props.onSelect(t.state.selectedItem.value);break}return;case"Escape":if(t.props.searchText)break;return;default:return}e.stopPropagation(),e.preventDefault()},t.handleDivRef=function(e){e?window.setTimeout(function(){document.contains(e)&&t.setState({width:Math.ceil(e.getBoundingClientRect().width)})}):t.setState({width:void 0})},t.updateInputRef=function(e){t.inputElement=e},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){if(e.items!==this.props.items)if(this.props.preserveSelection&&this.state.selectedItem&&this.state.selectedItem===t.selectedItem){var n=this.props.items,o=this.state.selectedItem.value,i=l.findIndex(n,function(e){return p.isSelectableItem(e)&&e.value===o});this.setState({selectedItem:n[i]})}else this.setState({selectedItem:void 0});if(this.state.selectedItem&&(t.selectedItem!==this.state.selectedItem||e.items!==this.props.items)){var r=document.getElementById(this.listId+"-"+this.state.selectedItem.value);r&&r.scrollIntoView({block:"nearest",behavior:"auto"})}},t.prototype.componentDidMount=function(){this.props.autoFocus&&s.timeoutFocus(this.inputElement)},t.prototype.render=function(){var e=this.props,t=(e.autoFocus,e.children),n=e.listTestId,a=e.id,s=e.inputTestId,l=(e.onFilterChange,e.preserveSelection,e.reverse),p=e.searchPlaceholder,g=e.searchText,f=e.style,m=o.__rest(e,["autoFocus","children","listTestId","id","inputTestId","onFilterChange","preserveSelection","reverse","searchPlaceholder","searchText","style"]),y=this.state.selectedItem&&this.state.selectedItem.value;return i.createElement("div",{"aria-expanded":!0,"aria-owns":this.listId,className:r.classes(u.filteringListClass,l&&"reverse"),"data-tb-test-id":this.props.testId,id:a,onFocusCapture:this.handleFocusCapture,onKeyDown:this.handleKeyDown,ref:this.handleDivRef,role:"combobox",style:o.__assign({width:this.state.width},f)},i.createElement(d.SearchFieldWidget,{"aria-activedescendant":y?this.listId+"-"+y:void 0,"aria-controls":this.listId,containerStyle:h,inputRef:this.updateInputRef,handleChange:this.props.onFilterChange,handleCancelSearch:this.clearInput,handleEscape:this.clearInput,placeholder:p,text:g,testId:s}),t,i.createElement(c.List,o.__assign({},m,{disableTabAccessibility:!0,id:this.listId,selectedValue:y,selectOnEnterKey:!1,testId:n})))},t.defaultProps={preserveSelection:!0},t}(i.Component);t.FilteringList=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=function(){function e(){}return e.setMediaStyleQueries=function(t){e.mediaQueryLists={};for(var n=0;n<t.length;n++){var o=t[n],i=e.registerMediaQuery(o),r=e.getMediaQueryListListener(o);r(i),i.addListener(r)}},e.registerMediaQuery=function(t){var n=t.mediaQuery;return n in e.mediaQueryLists||(e.mediaQueryLists[n]=window.matchMedia(n)),e.mediaQueryLists[n]},e.getMediaQueryListListener=function(e){return function(t){t.matches?o.setConfig({styles:e.matchingStyle}):o.setConfig({styles:e.nonMatchingStyle})}},e}();t.StyleMediaQueryManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeWindows=function(t,n,o){n?(t.addEventListener("mouseup",o,!0),t.addEventListener("touchend",o,!0)):(t.removeEventListener("mouseup",o,!0),t.removeEventListener("touchend",o,!0));for(var i=t.document.getElementsByTagName("iframe"),r=0;r<i.length;r++)e.trySubscribeOrUnscribeWindows(i[r].contentWindow,n,o)},e.trySubscribeOrUnscribeWindows=function(t,n,o){try{e.subscribeOrUnsubscribeWindows(t,n,o)}catch(e){}},e.subscribe=function(t){return e.trySubscribeOrUnscribeWindows(window,!0,t),function(){e.trySubscribeOrUnscribeWindows(window,!1,t)}},e}();t.GlobalPointerUpListener=o},function(e,t,n){function o(e,t,n){function o(t){var n=v,o=b;return v=b=void 0,w=t,C=e.apply(o,n)}function c(e){return w=e,D=setTimeout(h,t),T?o(e):C}function p(e){var n=e-I,o=e-w,i=t-n;return k?d(i,S-o):i}function u(e){var n=e-I,o=e-w;return void 0===I||n>=t||n<0||k&&o>=S}function h(){var e=r();if(u(e))return g(e);D=setTimeout(h,p(e))}function g(e){return D=void 0,_&&v?o(e):(v=b=void 0,C)}function f(){void 0!==D&&clearTimeout(D),w=0,v=I=b=D=void 0}function m(){return void 0===D?C:g(r())}function y(){var e=r(),n=u(e);if(v=arguments,b=this,I=e,n){if(void 0===D)return c(I);if(k)return D=setTimeout(h,t),o(I)}return void 0===D&&(D=setTimeout(h,t)),C}var v,b,S,C,D,I,w=0,T=!1,k=!1,_=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,i(n)&&(T=!!n.leading,k="maxWait"in n,S=k?l(a(n.maxWait)||0,t):S,_="trailing"in n?!!n.trailing:_),y.cancel=f,y.flush=m,y}var i=n(36),r=n(82),a=n(86),s="Expected a function",l=Math.max,d=Math.min;e.exports=o},function(e,t,n){var o=n(83),i=function(){return o.Date.now()};e.exports=i},function(e,t,n){var o=n(84),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(85))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function o(e){if("number"==typeof e)return e;if(r(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=d.test(e);return n||c.test(e)?p(e.slice(2),n?2:8):l.test(e)?a:+e}var i=n(36),r=n(87),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt;e.exports=o},function(e,t,n){function o(e){return"symbol"==typeof e||i(e)&&s.call(e)==r}var i=n(88),r="[object Symbol]",a=Object.prototype,s=a.toString;e.exports=o},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function o(e,t){var n=i.__assign({},s,t);return r.createElement("div",i.__assign({},n),e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),a=function(e){return e.stopPropagation()},s={onCopy:a,onCut:a,onPaste:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onSelect:a,onClick:a,onContextMenu:a,onDoubleClick:a,onDrag:a,onDragEnd:a,onDragEnter:a,onDragExit:a,onDragLeave:a,onDragOver:a,onDragStart:a,onDrop:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:a,onMouseOut:a,onMouseOver:a,onMouseUp:a,onKeyDown:a,onKeyPress:a,onKeyUp:a,onTouchCancel:a,onTouchEnd:a,onTouchMove:a,onTouchStart:a,onPointerDown:a,onPointerMove:a,onPointerUp:a,onPointerCancel:a,onPointerEnter:a,onPointerLeave:a,onPointerOver:a,onPointerOut:a,onBlur:a,onChange:a,onInput:a,onReset:a,onSubmit:a,onWheel:a,onAnimationStart:a,onAnimationEnd:a,onAnimationIteration:a,onTransitionEnd:a};t.PortalEventTrap=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=function(){function e(){var e=this;this.internalEncapsulatedIsShown=!1,this.render=function(t){if(e.internalEncapsulatedIsShown)throw new Error("Cannot render the element; it is already shown");e.anchor=document.createElement("div"),o.render(t,e.anchor),e.internalEncapsulatedIsShown=!0},this.remove=function(){e.internalEncapsulatedIsShown&&(o.unmountComponentAtNode(e.anchor),e.anchor=null),e.internalEncapsulatedIsShown=!1},this.isShown=function(){return e.internalEncapsulatedIsShown}}return e}();t.HostedStackedElementContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(50),a=n(51),s=n(5),l=n(2),d=n(3),c={backgroundColor:l.TabStyles.Colors.L8,borderColor:l.TabStyles.Colors.L8,color:l.TabStyles.Colors.White},p=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){n.state.label||(n.setState({label:n.props.delayLabel}),window.setTimeout(n.handleReset,n.getDelayOrDefault()),n.props.handleClick(e))},n.handleReset=function(){n.setState({label:void 0}),n.props.handleReset()},n.state={label:void 0},n}return o.__extends(t,e),t.prototype.getDelayOrDefault=function(){return void 0!==this.props.delay?this.props.delay:5e3},t.prototype.render=function(){var e=r.getButtonStyle(this.props.buttonType);this.state.label&&(e.base=o.__assign({},e.base,c),e.interactive.disabled=o.__assign({},e.interactive.disabled,c));var t={disabled:this.props.disabled||!!this.state.label,handleClick:this.handleClick,interactiveStyle:e.interactive,style:o.__assign({},e.base,this.props.style),testId:d.testId(this.props.testId,"Button"),title:this.props.title};return i.createElement(a.ButtonBase,o.__assign({},t),this.state.label||this.props.label,this.props.children)},t}(s.DynamicThemeComponent);t.AutoResetButton=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(8),s=n(3),l=n(14),d=n(15);!function(e){e.Multiple="Multiple",e.Single="Single"}(o||(o={})),t.SelectableButtonGroupSelectionBehavior=o;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.childButtons=[],n.buttonElements=[],n.handleButtonRefs=[],n.handleButtonRefWrapper=function(e){return void 0===n.handleButtonRefs[e]&&(n.handleButtonRefs[e]=function(t){n.buttonElements[e]=a.findDOMNode(t)}),n.handleButtonRefs[e]},n.handleClick=function(e){var t=e.currentTarget,i=d.findIndex(n.childButtons,function(e,o){return t===n.buttonElements[o]}),r=n.childButtons[i].props.selected;n.props.selectionBehavior===o.Single&&r||n.props.onChange&&n.props.onChange(i,!r)},n.handleFocus=function(e){var t=e.target,o=d.findIndex(n.childButtons,function(e,o){return t===n.buttonElements[o]&&!e.props.disabled});o>=0&&o!==n.state.focusIndex&&n.setState({focusIndex:o})},n.handleKeyDown=function(e){var t=n.childButtons.length,i=0,r=n.state.focusIndex;if("ArrowLeft"===e.key||"ArrowUp"===e.key)i=-1;else if("ArrowDown"===e.key||"ArrowRight"===e.key)i=1;else if("Home"===e.key)r=-1,i=1;else{if("End"!==e.key)return;r=t,i=-1}e.preventDefault(),e.stopPropagation();do if((r=(r+i+t)%t)===n.state.focusIndex)return;while(n.childButtons[r].props.disabled);n.props.selectionBehavior===o.Single&&!n.isButtonSelected(r)&&n.props.onChange&&n.props.onChange(r,!0),r!==n.state.focusIndex&&n.setState({focusIndex:r},function(){void 0!==n.buttonElements[n.state.focusIndex]&&n.buttonElements[n.state.focusIndex].focus()})},n.updateChildButtons(),n.state={focusIndex:n.getInitialFocusIndex()},n}return i.__extends(t,e),t.prototype.updateChildButtons=function(){var e=[],t=0;if(r.Children.map(this.props.children,function(n){n.type===l.ButtonWidget&&(e.push(n),n.props.selected&&t++)}),e.length<2)throw Error("Invalid 'ButtonWidget' count: 2+ are required");if(this.props.selectionBehavior===o.Single&&t>1)throw Error("Invalid selected 'ButtonWidget' count: SelectableButtonGroupSelectionBehavior.Single requires one or zero buttons to be selected. "+t+" are selected");this.childButtons=e},t.prototype.getInitialFocusIndex=function(){var e=d.findIndex(this.childButtons,function(e){return e.props.selected&&!e.props.disabled});return e<0&&(e=d.findIndex(this.childButtons,function(e){return!e.props.disabled})),e},t.prototype.isButtonSelected=function(e){return this.childButtons[e].props.selected},t.prototype.renderChildren=function(){var e=this,t=0;return r.Children.map(this.props.children,function(n){if(n.type!==l.ButtonWidget)return n;var i={disableTabAccessibility:e.state.focusIndex!==t,handleClick:e.handleClick,key:t,ref:e.handleButtonRefWrapper(t),role:e.props.selectionBehavior===o.Single?"radio":"button",selected:!!n.props.selected};return t++,r.cloneElement(n,i)})},t.prototype.render=function(){this.updateChildButtons();var e=this.props.selectionBehavior===o.Single,t=i.__assign({"data-tb-test-id":s.testId(this.props.testId,"SelectableButtonGroup"),onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,role:e?"radiogroup":void 0,style:this.props.style,title:this.props.title},s.conditional(!e,{"aria-multiselectable":!0}));return r.createElement("div",i.__assign({},t),this.renderChildren())},t}(r.Component);t.SelectableButtonGroupWidget=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(40),a=n(94),s=n(52),l=n(53),d=n(44),c=1;t.DefaultOffset=s.BorderWidth+s.Padding+l.Height/2;var p="Right",u={position:"relative",display:"inline-block"},h=function(e){function n(n){var i=e.call(this,n)||this;return i.setContent=function(e){i.canceled||i.setState(function(t){return t.content?t:o.__assign({},t,{content:e})})},i.open=function(){i.props.getContent().then(i.setContent)},i.close=function(){i.setState({content:null,positioned:!1})},i.handleClick=function(e){i.state.content?i.close():i.open(),e.preventDefault()},i.handleMouseEnter=function(e){i.state.content||(i.canceled=!1,i.open())},i.handleMouseLeave=function(e){var t=e.clientX,n=e.clientY;if(i.state.content||(i.canceled=!0),i.tooltipElement){var o=i.tooltipElement.getBoundingClientRect(),a=o.left,s=o.right,l=o.top,d=o.bottom;switch(i.state.side){case"Top":d+=c;break;case"Bottom":l-=c;break;case"Left":s+=c;break;case"Right":a-=c;break;default:r.assertNever(i.state.side)}new r.ClosedRectangle(a,s,l,d).containsPoint(t,n)||i.close()}},i.updateTargetRef=function(e){i.targetElement=e},i.updateTooltipRef=function(e){i.tooltipElement=e},i.state={content:null,positioned:!1,side:n.defaultSide||p,offset:t.DefaultOffset},i}return o.__extends(n,e),n.prototype.componentDidUpdate=function(){if(this.state.content&&!this.state.positioned){if(!this.targetElement||!this.tooltipElement)throw new Error("reference to target or tooltip isn't set!");for(var e=(this.props.boundaryElement||document.body).getBoundingClientRect(),t=this.targetElement.getBoundingClientRect(),o=this.tooltipElement.getBoundingClientRect(),i=o.width,a=o.height,s=this.props.defaultSide||p,l=this.state.offset,d=0,c=n.computeTooltipRectangle(t,i,a,s,l);d<r.NumberOfSides&&!r.containsClientRect(e,c);)d++,s=r.getNextSideClockwise(s),c=n.computeTooltipRectangle(t,i,a,s,l);this.setState({positioned:!0,side:s})}},n.prototype.componentDidMount=function(){this.canceled=!1},n.prototype.componentWillUnmount=function(){this.canceled=!0},n.prototype.render=function(){return i.createElement(d.PointerEventWrapper,{pointerClick:this.handleClick},i.createElement("div",{ref:this.updateTargetRef,style:u,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.children,this.renderTooltip()))},n.prototype.renderTooltip=function(){return this.state.content&&this.targetElement?i.createElement(a.ChromeTooltipDisplay,{content:this.state.content,width:this.props.width,targetElement:this.targetElement,handleRef:this.updateTooltipRef,close:this.close,positioned:this.state.positioned,side:this.state.side,offset:this.state.offset,zIndex:this.props.zIndex}):null},n.computeTooltipRectangle=function(e,t,n,o,i){var a,s;return r.isHorizontalSide(o)?(a=e.top+e.height/2-i,s="Left"===o?e.left-t:e.right):(s=e.left+e.width/2-i,a="Top"===o?e.top-n:e.bottom),{top:a,bottom:a+n,left:s,right:s+t,width:t,height:n}},n}(i.Component);t.ChromeTooltipWidget=h},function(e,t,n){"use strict";function o(e){var t=function(){var t=e.targetElement.getBoundingClientRect(),n=a(e.side,e.offset),o=s(e.side,e.offset);return{top:t.top+n,bottom:t.bottom+n,left:t.left+o,right:t.right+o}};return u.createElement(h.Overlay,{getAnchorClientRect:t,zIndex:e.zIndex,anchorOrigin:i(e.side),stackedOrigin:r(e.side)},u.createElement("div",{ref:e.handleRef,onMouseLeave:e.close},u.createElement("div",{style:l(e.positioned,e.side)},u.createElement(f.ChromeTooltipBox,{content:e.content,width:e.width}),u.createElement(m.ChromeTooltipArrow,{direction:c(e.side),style:p(e.side,e.offset)}))))}function i(e){switch(e){case"Top":return{horizontal:h.HorizontalOriginOption.centerX,vertical:h.VerticalOriginOption.top};case"Bottom":return{horizontal:h.HorizontalOriginOption.centerX,vertical:h.VerticalOriginOption.bottom};case"Left":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.centerY};case"Right":return{horizontal:h.HorizontalOriginOption.right,vertical:h.VerticalOriginOption.centerY};default:return g.assertNever(e)}}function r(e){switch(e){case"Top":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.bottom};case"Bottom":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.top};case"Left":return{horizontal:h.HorizontalOriginOption.right,vertical:h.VerticalOriginOption.top};case"Right":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.top};default:return g.assertNever(e)}}function a(e,t){return g.isHorizontalSide(e)?-1*t:0}function s(e,t){return g.isVerticalSide(e)?-1*t:0}function l(e,t){return{visibility:e?"visible":"hidden",display:"flex",flexDirection:d(t),flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center"}}function d(e){switch(e){case"Top":return"column";case"Bottom":return"column-reverse";case"Left":return"row";case"Right":return"row-reverse";default:return g.assertNever(e)}}function c(e){switch(e){case"Top":return"Down";case"Bottom":return"Up";case"Left":return"Right";case"Right":return"Left";default:return g.assertNever(e)}}function p(e,t){var n=t-m.Height/2,o={alignSelf:"flex-start"};switch(e){case"Top":o.marginTop=-1.2,o.marginLeft=n;break;case"Bottom":o.marginBottom=-1.2,o.marginLeft=n;break;case"Left":o.marginLeft=-1.2,o.marginTop=n;break;case"Right":o.marginRight=-1.2,o.marginTop=n;break;default:g.assertNever(e)}return o}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),h=n(10),g=n(40),f=n(52),m=n(53);t.ChromeTooltipDisplay=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="16" height="16">\n  <style>\n    .disabled{opacity:0.35}\n    .focus .outline{fill:#3498db}\n    .hover .outline,.active .outline{fill:#333}\n    .outline,.disabled .outline{fill:#666}\n    .check{fill:transparent}\n    .hover.checked .check,.active.checked .check{fill:#333}\n    .checked .check,.disabled.checked .check{fill:#666}\n  </style>\n  <path fill="#fff" d="M2 2h12v12H2z"/>\n  <path class="outline" d="M14 2v12H2V2h12m0-1H2c-.5 0-1 .4-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1z"/>\n  <path class="check" d="M7.2 12.3c-.2 0-.4-.1-.5-.2l-3-3L4.8 8l2.3 2.3 4-6.7 1.3.8L7.9 12c-.2.2-.4.3-.7.3z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxMixedSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="16" height="16">\n  <style>\n    .disabled{opacity:0.35}\n    .focus .outline{fill:#3498db}\n    .hover .outline,.active .outline,.hover .check,.active .check{fill:#333}\n    .outline,.disabled .outline,.check,.disabled .check{fill:#666}\n  </style>\n  <path fill="#fff" d="M2 2h12v12H2z"/>\n  <path class="outline" d="M14 2v12H2V2h12m0-1H2c-.5 0-1 .4-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1z"/>\n  <path class="check" d="M4 4h8v8H4z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="12" height="12">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active{opacity:1}\n    path{fill:#666}\n    .active path{fill:#333}\n    .onDarkBackground path{fill:#fff}\n  </style>\n  <path d="M8.9,2.9L3,8.9c-0.2,0.2-0.6,0.2-0.8,0l0,0C2,8.7,2,8.3,2.2,8.1l5.9-5.9C8.3,2,8.7,2,8.9,2.2l0,0 C9.1,2.4,9.1,2.7,8.9,2.9z"/>\n  <path d="M3,2.2l5.9,5.9c0.2,0.2,0.2,0.6,0,0.8l0,0c-0.2,0.2-0.6,0.2-0.8,0L2.2,3C2,2.8,2,2.4,2.2,2.2l0,0 C2.5,2,2.8,2,3,2.2z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseButtonSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="14" height="14">\n  <style>\n    path{fill:#666}\n    .info path{fill:#0f445e}\n    .warning path{fill:#c64c30}\n    .error path{fill:#9b2f3c}\n    .success path{fill:#003f33}\n    .active path{fill:#333}\n  </style>\n  <path d="M7.7 7l4.7-4.7c.2-.2.2-.5 0-.7s-.5-.2-.7 0L7 6.3 2.3 1.6c-.2-.2-.5-.2-.7 0s-.2.5 0 .7L6.3 7l-4.7 4.7c-.2.2-.2.5 0 .7s.5.2.7 0L7 7.7l4.7 4.7c.2.2.5.2.7 0s.2-.5 0-.7L7.7 7z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandoSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="13" height="13">\n  <style>\n    path{fill:#666}\n    .active path{fill:#333}\n  </style>\n  <path d="M2.8,9.2l3.7-3.6l3.7,3.6c0.2,0.2,0.6,0.2,0.8,0s0.2-0.7,0-0.8L6.5,3.8L2,8.4\tC1.8,8.6,1.8,8.9,2,9.2C2.2,9.4,2.6,9.4,2.8,9.2z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconDropdownArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="7" height="5">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active,.onDarkBackground.hover{opacity:1}\n    .disabled{opacity:0.35!important}\n    .active path,.hover path{fill:#333}\n    path,.disabled path{fill:#666}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M5.8,1H1.2C1.1,1,1,1.1,1.1,1.2l2.3,2.7C3.4,4,3.6,4,3.6,3.9l2.3-2.7 C6,1.1,5.9,1,5.8,1z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="18">\n  <style>\n    .disabled{opacity:0.35}\n    .active path{fill:#333}\n    path,.disabled path{fill:#666}\n  </style>\n  <path d="M7.3,13.2l4.6-3.5c0.1-0.1,0.1-0.2,0-0.3L7.3,5.8C7.1,5.7,7,5.8,7,6v7C7,13.2,7.1,13.3,7.3,13.2z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemCheckSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="10" height="10">\n  <style>\n    .disabled{opacity:0.35}\n    .active path{fill:#333}\n    path,.disabled path{fill:#666}\n  </style>\n  <path d="M4.2 9.3C4 9.3 3.8 9.2 3.7 9.1l-3-3L1.8 5l2.3 2.3 4-6.7 1.3 0.8L4.9 9C4.7 9.2 4.5 9.3 4.2 9.3L4.2 9.3z" />\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineAndTextDropdownArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="16" height="20">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active,.onDarkBackground.hover{opacity:1}\n    .disabled{opacity:0.35!important}\n    .active path,.hover path{fill:#333}\n    path,.disabled path{fill:#666}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M6.3,7h8.5C15,7,15.1,7.3,15,7.4l-4.2,5.3c-0.1,0.2-0.4,0.2-0.5,0L6,7.4C5.9,7.3,6,7,6.3,7z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineDropdownArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="18">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active,.onDarkBackground.hover{opacity:1}\n    .disabled{opacity:0.35!important}\n    .active path,.hover path{fill:#333}\n    path,.disabled path{fill:#666}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M5.8,7.3l3.5,4.6c0.1,0.1,0.2,0.1,0.3,0l3.6-4.6C13.3,7.1,13.2,7,13,7H6C5.8,7,5.7,7.1,5.8,7.3z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="16" height="16">\n  <style>\n    .hover .outline,.active .outline,.hover.checked .check,.active.checked .check{fill:#333}\n    .focus .outline{fill:#3498db}\n    .outline,.disabled .outline,.disabled.checked .check{fill:#666}\n    .disabled{opacity:0.35}\n    .check{fill:transparent}\n    .checked .check{fill:#666}\n  </style>\n  <circle fill="#fff" cx="8" cy="8" r="6"/>\n  <path class="outline" d="M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7z"/>\n  <circle class="check" cx="8" cy="8" r="3"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="12" height="12">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .active.onDarkBackground{opacity:1}\n    path{fill:#666}\n    .active path{fill:#333}\n    .onDarkBackground path{fill:#fff}\n  </style>\n  <path d="M7.5 0C5.015 0 3 2.015 3 4.5S5.015 9 7.5 9 12 6.985 12 4.5 9.985 0 7.5 0zm0 8C5.567 8 4 6.433 4 4.5S5.567 1 7.5 1 11 2.567 11 4.5 9.433 8 7.5 8z"/><path d="M5.026 7.858l-3.96 3.96c-.243.243-.641.243-.884 0s-.243-.641 0-.884l3.96-3.96c.243-.243.641-.243.884 0s.243.641 0 .884z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderHandleSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="20" height="20">\n  <style>\n    .bg{fill:#fff}\n    .outline{fill:#666}\n    .focus .outline{fill:#3498db}\n    .active .outline{fill:#333}\n    .disabled .bg{fill:#ebebeb}\n    .disabled .outline{fill:#b4b4b4}\n  </style>\n  <circle class="bg" cx="10" cy="10" r="7.5"/>\n  <path class="outline" d="M10,3c3.8,0,7,3.2,7,7s-3.2,7-7,7s-7-3.2-7-7S6.2,3,10,3 M10,2c-4.4,0-8,3.6-8,8\ts3.6,8,8,8s8-3.6,8-8S14.4,2,10,2L10,2z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderLeftHandleSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="20" height="20">\n  <style>\n    .bg{fill:#fff}\n    .outline{fill:#666}\n    .focus .outline{fill:#3498db}\n    .active .outline{fill:#333}\n    .disabled .bg{fill:#ebebeb}\n    .disabled .outline{fill:#b4b4b4}\n  </style>\n  <path class="bg" d="M11.2,2.5c-4.3,0-7.7,3.3-7.7,7.5s3.5,7.5,7.8,7.5h4.3v-15H11.2z"/>\n  <path class="outline" d="M15,3v14h-3.6C7.3,17,4,13.9,4,10s3.3-7,7.4-7H15 M16,2h-4.6C6.7,2,3,5.6,3,10s3.7,8,8.4,8H16V2 L16,2z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderRightHandleSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="20" height="20">\n  <style>\n    .bg{fill:#fff}\n    .outline{fill:#666}\n    .focus .outline{fill:#3498db}\n    .active .outline{fill:#333}\n    .disabled .bg{fill:#ebebeb}\n    .disabled .outline{fill:#b4b4b4}\n  </style>\n  <path class="bg" d="M7.8,2.6c4.3,0,7.8,3.3,7.8,7.4s-3.5,7.4-7.8,7.4H3.5V2.6H7.8z"/>\n  <path class="outline" d="M4,3h3.6c4.1,0,7.4,3.1,7.4,7s-3.3,7-7.4,7H4V3 M3,2v16h4.6\tc4.6,0,8.4-3.6,8.4-8s-3.7-8-8.4-8H3L3,2z"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepperDownSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="11">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active{opacity:1}\n    .disabled{opacity:0.35!important}\n    path,.disabled path{fill:#666}\n    .active path{fill:#333}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M12 3.3L9.1 7h-.2L6 3.3c0-.1 0-.3.2-.3h5.7c.1 0 .1.2.1.3z" />\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepperUpSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="11">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active{opacity:1}\n    .disabled{opacity:0.35!important}\n    path,.disabled path{fill:#666}\n    .active path{fill:#333}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M6 7.7L8.8 4c.1 0 .3 0 .3.1L12 7.7c0 .1 0 .3-.2.3H6.2C6 8 6 7.8 6 7.7z" />\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepperLeftSvg='\n<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="22">\n  <style>\n    path{fill:#666}\n    .active path,.hover path{fill:#333}\n    .disabled{opacity:0.35!important}\n  </style>\n  <path d="M10.7,14l-4.4-3.3c-0.1-0.1-0.1-0.2,0-0.3L10.7,7C10.8,7,11,7,11,7.2v6.7C11,14,10.8,14,10.7,14z"></path>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepperRightSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="22">\n  <style>\n    path{fill:#666}\n    .active path,.hover path{fill:#333}\n    .disabled{opacity:0.35!important}\n  </style>\n  <path d="M7,13.9V7.2C7,7,7.2,7,7.3,7l4.4,3.4c0.1,0.1,0.1,0.2,0,0.3L7.3,14C7.2,14,7,14,7,13.9z" />\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(55),a=n(4),s=n(5),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getContainerStyleOfIndex=function(e){return{}},t.prototype.render=function(){var e=this;return i.createElement(a.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(t,n){var a=o.__assign({},t.containerStyle,e.getContainerStyleOfIndex(n)),s=o.__assign({},t,{containerStyle:a,key:n});return i.createElement(r.CheckBoxWithLabelWidget,s)}))},t}(s.DynamicThemeComponent);t.CheckBoxWithLabelGroupWidget=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PendingOrientationChangeTimeoutMs=250;t.PendingResizeTimeoutMs=200;var o=function(){function e(){}return e.init=function(){window.addEventListener("orientationchange",e.handleOrientationChange),window.addEventListener("resize",e.handleResize)},e.handleOrientationChange=function(){null!==e.latestPendingResizeTimestamp&&Date.now()-e.latestPendingResizeTimestamp<=200?e.fireOrientationChange():e.latestPendingOrientationChangeTimestamp=Date.now()},e.handleResize=function(){null!==e.latestPendingOrientationChangeTimestamp&&Date.now()-e.latestPendingOrientationChangeTimestamp<=250?e.fireOrientationChange():e.latestPendingResizeTimestamp=Date.now()},e.fireOrientationChange=function(){e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners.forEach(function(e){e()})},e.addListener=function(t){t&&e.listeners.push(t)},e.removeListener=function(t){e.listeners=e.listeners.filter(function(e){return e!==t})},e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners=[],e}();t.OrientationChange=o,o.init()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(3),s=n(28),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getStateForCurrentViewport(),n}return o.__extends(t,e),t.prototype.getStateForCurrentViewport=function(){var e=s.getVisualViewport();return{visualViewportSize:{width:e.width,height:e.height},layoutViewportSize:s.getLayoutViewportSize()}},t.prototype.getMaxSize=function(){var e={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&this.props.style.minWidth||(e.width=Math.max(e.width,this.state.layoutViewportSize.width)),this.props.style&&this.props.style.minHeight||(e.height=Math.max(e.height,this.state.layoutViewportSize.height)),this.props.horizontalMargins&&(e.width-=this.props.horizontalMargins),this.props.verticalMargins&&(e.height-=this.props.verticalMargins),e},t.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},t.prototype.render=function(){var e=this.getMaxSize(),t={style:o.__assign({maxWidth:e.width,maxHeight:e.height},this.props.style,a.conditional(this.props.isMaximized,{width:e.width,height:e.height})),"data-tb-test-id":this.props.testId};return r.createElement("div",t,this.props.children)},t}(i.Component);t.ViewportConstrainedDomWrapper=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(0),s=n(4),l=n(3),d=n(20),c=n(19),p=n(28),u={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.floaterRefHandler=function(e){t.floater=r.findDOMNode(e),t.props.handleFloaterRef&&t.props.handleFloaterRef(e)},t}return o.__extends(t,e),t.prototype.getCenteredFloaterRectInLayoutCoords=function(){var e=p.getVisualViewportRectRelativeToLayoutViewport(),t={width:this.floater.offsetWidth,height:this.floater.offsetHeight},n=d.computePositionToCenterAreaInBounds(t,e);return d.makeClientRect(n,t)},t.prototype.getMinimumPageRectInLayoutCoords=function(){var e=p.getElementPositionRelativeToLayoutViewport(document.documentElement),t=p.getLayoutViewportSize(),n=p.getVisualViewportRectRelativeToLayoutViewport(),o={width:n.right-e.left,height:n.bottom-e.top},i=d.getMaxWidthAndHeight(t,o);return d.makeClientRect(e,i)},t.prototype.centerInVisualViewport=function(){var e=this.getCenteredFloaterRectInLayoutCoords(),t=this.getMinimumPageRectInLayoutCoords(),n=d.computePositionToContainBounds(e,t);this.setPosition(n)},t.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},t.prototype.setPosition=function(e){var t=this.floater.offsetParent||document.documentElement,n=p.getElementPositionRelativeToLayoutViewport(t),o=d.subtractPositions(e,n);this.floater.style.top=o.top+"px",this.floater.style.left=o.left+"px"},t.prototype.componentDidMount=function(){this.centerInVisualViewport()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.shouldRecenterOnUpdate&&(this.clearDeferredCentering(),this.centerTimeoutHandle=window.setTimeout(function(){t.centerInVisualViewport()},0))},t.prototype.clearDeferredCentering=function(){this.centerTimeoutHandle&&(clearTimeout(this.centerTimeoutHandle),this.centerTimeoutHandle=null)},t.prototype.componentWillUnmount=function(){this.clearDeferredCentering()},t.prototype.render=function(){var e={"data-tb-test-id":l.testId(this.props.testId,"Floater"),style:o.__assign({},u.Floater,this.props.customFloaterStyle),ref:this.floaterRefHandler};return a.createElement(s.Block,e,this.props.children)},t}(i.Component);t.FloaterWidgetDefault=h;var g=c.StackingComponentHOC(h);t.FloaterWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),a=n(3),s=n(2),l=n(7),d=n(5),c=n(19),p=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:s.TabStyles.Colors.White,opacity:s.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:s.TabStyles.Colors.OpaqueGlass,opacity:s.TabStyles.Opacity.OpaqueGlass}}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){("Tab"===e.key&&e.shiftKey||"Escape"===e.key&&t.props.handleEscape)&&(e.preventDefault(),e.stopPropagation())},t.handleKeyUp=function(e){t.props.handleEscape&&"Escape"===e.key&&(t.props.handleEscape(),e.preventDefault(),e.stopPropagation())},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=p(),n=o.__assign({},t.Glass,this.props.isTransparent?t.Clear:t.Opaque);return i.createElement(l.InteractiveDomWrapper,{pointerClick:function(t){t.preventDefault(),e.props.handleClick&&e.props.handleClick()}},i.createElement(r.Block,{style:n,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:0,"data-tb-test-id":a.testId(this.props.testId,"Glass")}))},t}(d.DynamicThemeComponent);t.GlassWidgetBase=u;var h=c.StackingComponentHOC(u);t.GlassWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(8),s=n(56),l=n(3),d=n(120),c=n(121),p=n(122),u=n(30),h=n(4),g=n(9),f=function(){return{DialogContent:{outline:"none",display:"flex",flexDirection:"column",overflow:"hidden"}}},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDialogHeaderRef=function(e){t.dialogHeader=a.findDOMNode(e)},t.handleDialogKeyUp=function(e){"Escape"===e.key&&t.props.onCloseRequest()},t.handleDialogKeyDown=function(e){if("Escape"===e.key)return e.preventDefault(),void e.stopPropagation();if("Tab"===e.key){var n=s(t.dialog),o=n.length>0?n[0]:null,i=n.length>0?n[n.length-1]:null;e.target!==i||e.shiftKey?e.target===o&&e.shiftKey&&(e.preventDefault(),i.focus()):(e.preventDefault(),o.focus())}},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=a.findDOMNode(this),this.props.disableAutoFocus||this.initializeFocusOnMount(),this.setFocusEventListener(),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},t.prototype.initializeFocusOnMount=function(){var e=s(this.dialog);if(0===e.length)throw Error("Something within the dialog must be focusable as to dismiss it");var t=0;if(this.dialogHeader)for(var n=0;n<e.length;n++)if(!this.dialogHeader.contains(e[n])){t=n;break}var o=e[t];g.timeoutFocus(o)},t.prototype.setFocusEventListener=function(){var e=this;this.focusEventListener=function(t){if(!e.props.isModal){var n=t.target;e.dialog.contains(n)||(e.elementToReturnFocus=n)}}},t.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},t.prototype.returnFocusToElement=function(){g.timeoutFocus(this.elementToReturnFocus)},t.prototype.render=function(){var e=o.__assign({},this.props,{ref:this.handleDialogHeaderRef}),t=this.props.type!==u.DialogType.Uber;return r.createElement(h.Block,{"aria-label":l.conditional(!t,this.props.title),"aria-labelledby":l.conditional(t&&!!this.props.title,this.props.id),"aria-modal":this.props.isModal,"data-tb-test-id":l.testId(this.props.testId,"Content"),onKeyDown:this.handleDialogKeyDown,onKeyUp:this.handleDialogKeyUp,role:"dialog",style:o.__assign({},f().DialogContent,this.props.dialogContentStyle),tabIndex:-1},l.conditional(t,r.createElement(p.DialogHeader,e)),r.createElement(d.DialogBody,this.props),l.conditional(this.props.showFooter,r.createElement(c.DialogFooter,this.props)))},t}(i.Component);t.DialogContent=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(3),s=n(30),l=n(4),d=n(2),c=function(){return{Body:{outline:"none",overflow:"auto",WebkitOverflowScrolling:"touch"}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getPaddingStyle=function(){var e={paddingTop:0,paddingRight:d.TabStyles.Spacing.LargeSpace,paddingBottom:d.TabStyles.Spacing.LargeSpace,paddingLeft:d.TabStyles.Spacing.LargeSpace};switch(this.props.type){case s.DialogType.NormalWithTitleBar:e.paddingTop=d.TabStyles.Spacing.LargeSpace;break;case s.DialogType.LightweightTitleBar:e.paddingLeft=d.TabStyles.Spacing.ExtraLargeSpace-d.TabStyles.Sizing.BorderWidth,e.paddingRight=e.paddingLeft;break;case s.DialogType.Uber:e.paddingTop=d.TabStyles.Spacing.MediumSpace}return this.props.showFooter&&(e.paddingBottom=0),e},t.prototype.render=function(){var e=c(),t=o.__assign({},e.Body,this.getPaddingStyle(),this.props.dialogBodyStyle);return r.createElement(l.Block,{"data-tb-test-id":a.testId(this.props.testId,"Body"),style:t,id:a.testId(this.props.testId,"Body-Id")},this.props.children)},t}(i.Component);t.DialogBody=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),r=n(4),a=n(2),s=8*a.TabStyles.Sizing.BaseUnit,l=function(){return{Footer:{paddingLeft:a.TabStyles.Spacing.LargeSpace,paddingRight:a.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:s,flexShrink:0},FooterContent:{height:"100%"}}},d=function(e){var t=l();return o.createElement(r.Block,{"data-tb-test-id":i.testId(e.testId,"Footer"),style:t.Footer},i.conditional(!!e.footerContent,o.createElement(r.Block,{style:t.FooterContent},e.footerContent)))};t.DialogFooter=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(8),s=n(123),l=n(3),d=n(30),c=n(4),p=n(13),u=n(2),h=n(16),g=n(39),f=n(11),m=n(12),y=n(57),v=function(){return{DraggableHeader:{cursor:"move"},Header:o.__assign({},m.PreventUserSelect,{fontFamily:u.TabStyles.Typography.FontFamily,flexShrink:0,minHeight:5*u.TabStyles.Sizing.BaseUnit}),TitleBar:o.__assign({fontSize:u.TabStyles.Typography.Sizing.Default,color:u.TabStyles.Typography.Color.Primary,backgroundColor:u.TabStyles.Colors.F2,height:"100%",minHeight:"inherit",paddingRight:u.TabStyles.Spacing.LargeSpace,paddingLeft:u.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"},h.TextEllipsis),TitleBarWithCloseButton:{paddingRight:0},LightweightTitleBar:{fontSize:20,height:"100%",minHeight:"inherit",paddingTop:20,paddingLeft:u.TabStyles.Spacing.ExtraLargeSpace-u.TabStyles.Sizing.BorderWidth,paddingRight:u.TabStyles.Spacing.ExtraLargeSpace-u.TabStyles.Sizing.BorderWidth,paddingBottom:u.TabStyles.Spacing.DefaultSpace,display:"flex",alignItems:"center",lineHeight:"normal"},LighweightTitleBarCloseButton:{top:10,right:10,position:"absolute"},Title:o.__assign({flexGrow:1},h.TextEllipsis)}},b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleStart=function(e){if(!t.isEventWithinCloseButton(e)&&t.props.positioningBehavior===d.DialogPositioningBehavior.Draggable){e.preventDefault();var n=g.getClientPosition(e),o=t.props.getDraggableDialogClientRect();t.startXPosition=n.x-o.left,t.startYPosition=n.y-o.top,t.addMouseEventListeners()}},t.handleMove=function(e){e.preventDefault();var n=g.getClientPosition(e);t.props.setDraggableDialogPosition({top:n.y-t.startYPosition,left:n.x-t.startXPosition})},t.handleStop=function(e){t.removeMouseEventListeners()},t.handleCloseButtonRef=function(e){t.closeButton=a.findDOMNode(e)},t.handleRef=function(e){t.globalPointerEventCapturer&&t.removeMouseEventListeners(),e&&(t.globalPointerEventCapturer=new y.GlobalPointerEventCapturer(a.findDOMNode(e),t.handleMove,t.handleStop))},t}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.removeMouseEventListeners()},t.prototype.addMouseEventListeners=function(){this.globalPointerEventCapturer.addListeners()},t.prototype.removeMouseEventListeners=function(){this.globalPointerEventCapturer.removeListeners()},t.prototype.isEventWithinCloseButton=function(e){var t=e.target;return!!this.closeButton&&this.closeButton.contains(t)},t.prototype.render=function(){var e=v(),t=o.__assign({},e.Header,l.conditional(this.props.positioningBehavior===d.DialogPositioningBehavior.Draggable,e.DraggableHeader)),n=!1,i={},a={};this.props.type===d.DialogType.NormalWithTitleBar?(n=!0,i=o.__assign({},e.TitleBar,l.conditional(this.props.showCloseButton,e.TitleBarWithCloseButton))):this.props.type===d.DialogType.LightweightTitleBar&&(n=!0,i=o.__assign({},e.LightweightTitleBar),a=o.__assign({},e.LighweightTitleBarCloseButton));var u={testId:this.props.testId,tooltip:f.Messages.closeDialog(),requestClose:this.props.onCloseRequest,ref:this.handleCloseButtonRef};return r.createElement(p.PointerEventWrapper,{pointerDown:this.handleStart},r.createElement(c.Block,{ref:this.handleRef,"data-tb-test-id":l.testId(this.props.testId,"Header"),style:t},l.conditional(n,r.createElement(c.Block,{"data-tb-test-id":l.testId(this.props.testId,"TitleBar"),style:i},l.conditional(!!this.props.title,r.createElement(c.Block,{style:e.Title,id:this.props.id},this.props.title)),l.conditional(this.props.showCloseButton,r.createElement(c.InlineBlock,{style:a},r.createElement(s.CloseButtonWidget,u)))))))},t}(i.Component);t.DialogHeader=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),a=n(7),s=n(3),l=n(4),d=n(6),c=n(5),p=n(11),u=function(){return{containerBase:{width:5*r.TabStyles.Sizing.BaseUnit,height:5*r.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none",flexShrink:0},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*r.TabStyles.Sizing.BaseUnit,height:3*r.TabStyles.Sizing.BaseUnit}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.handleHover=function(e){n.setState({hover:e})},n.handleFocus=function(e){n.setState({focus:e})},n.handleActive=function(e){n.setState({active:e})},n.handleKeyDown=function(e){"Enter"!==e.key&&" "!==e.key||n.props.requestClose()},n.state={hover:!1,active:!1,focus:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e,t,n=u();return this.state.hover||this.state.focus||this.state.active?(e=d.CloseButtonIcon.icon({active:!0}),t=o.__assign({},n.imageContainer,{backgroundColor:r.TabStyles.Colors.F3})):(e=d.CloseButtonIcon.icon(),t=n.imageContainer),i.createElement(a.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.handleHover,handleActive:this.handleActive,handleFocus:this.handleFocus},i.createElement(l.Block,{style:n.containerBase,tabIndex:0,onKeyDown:this.handleKeyDown,role:"button",title:this.props.tooltip||p.Messages.close(),"data-tb-test-id":s.testId(this.props.testId,"CloseButton")},i.createElement(l.Block,{style:t},i.createElement(l.Img,{src:e,draggable:!1,style:{width:d.CloseButtonIcon.width,height:d.CloseButtonIcon.height}}))))},t}(c.DynamicThemeComponent);t.CloseButtonWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(14),a=n(3),s=n(4),l=n(2),d=function(){return{ButtonsContainer:{alignItems:"center",display:"flex",height:"100%",justifyContent:"flex-end"},FooterButton:{paddingLeft:l.TabStyles.Spacing.MediumSpace}}},c=function(e){return e.buttons.map(function(e,t){return i.createElement(s.InlineBlock,{style:a.conditional(0!==t,d().FooterButton),key:t},i.createElement(r.ButtonWidget,o.__assign({},e)))})},p=function(e){var t={"data-tb-test-id":a.testId(e.testId,"Confirm-Cancel-Footer"),style:d().ButtonsContainer};return i.createElement(s.Block,o.__assign({},t),c(e))};t.DialogFooterButtonsWidget=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(126),a=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.currentStep/this.props.totalSteps;return i.createElement(r.ProgressBarContainer,{width:this.props.width},i.createElement(r.ProgressCompleteBar,{fractionComplete:e},1===e?null:i.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*e})))},t}(a.DynamicThemeComponent);t.DiscreteProgressBarWidget_UNFINISHED=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(37),a=n(2),s=n(4),l=function(){return{backgroundColor:a.TabStyles.Colors.F3,borderRadius:a.TabStyles.Sizing.BorderRadius,height:a.TabStyles.Sizing.BaseUnit}},d=function(e){var t=o.__assign({},l(),{width:e.width});return i.createElement(s.Block,{style:t},e.children)};t.ProgressBarContainer=d;var c=function(){return{backgroundColor:a.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},p=function(e){var t=o.__assign({},c(),{width:100*e.fractionComplete+"%"});return i.createElement(s.Block,{style:t},e.children)};t.ProgressCompleteBar=p;var u=function(){return a.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:u(),height:"100%",backgroundColor:a.TabStyles.Colors.GoDark}},g=function(e){var t=e.containerWidth,n=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(t-u())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return i.createElement(s.Block,{style:h(),className:n})};t.ProgressBarAnimation=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(41),a=n(61),s=function(e){var t=o.__assign({},e,{menuItemInfos:a.convertMenuItemInfoToGeneric(e.menuItemInfos)});return i.createElement(r.GenericDropdownWidget,t)};t.DropdownWidget=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(3),s=n(10),l=n(7),d=n(5),c=n(31),p=n(59),u=n(9),h=150,g=function(e){function t(t){var n=e.call(this,t)||this;return n.handleKeyDown=function(e){switch(e.key){case" ":case"Enter":n.onSelect();break;case"ArrowRight":n.hasSubMenu&&n.onSelect();break;default:return}e.preventDefault(),e.stopPropagation()},n.onSelect=function(){n.props.disabled||n.props.isUnselectable||(clearTimeout(n.subMenuTimeoutId),n.hasSubMenu?n.setState({menuItemActive:!0}):n.props.onSelect(n.props.value))},n.onHover=function(e){if(!e)return void clearTimeout(n.subMenuTimeoutId);n.props.onHover&&n.props.onHover(n.props.itemIndex),n.hasSubMenu&&(n.subMenuTimeoutId=window.setTimeout(function(){return n.setState({menuItemActive:!0})},h))},n.onActive=function(e){n.hasSubMenu||n.setState({menuItemActive:e})},n.setDomNode=function(e){n.domNode=e},n.requestClose=function(){n.setState({menuItemActive:!1})},n.handleSubmenuMouseEnter=function(){n.props.onHover(n.props.itemIndex)},n.getAnchorClientRect=function(){return n.domNode?n.domNode.getBoundingClientRect():void 0},n.hasSubMenu=!!n.props.menuItemInfos,n.state={menuItemActive:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.updateFocus()},t.prototype.componentWillReceiveProps=function(e){this.hasSubMenu=!!e.menuItemInfos},t.prototype.componentDidUpdate=function(e,t){e.isHighlighted&&!this.props.isHighlighted&&this.state.menuItemActive&&this.setState({menuItemActive:!1}),this.updateFocus()},t.prototype.updateFocus=function(){if(this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused){var e=r.findDOMNode(this);u.timeoutFocus(e)}},t.prototype.getDisplayElement=function(){var e={disabled:this.props.disabled,active:this.state.menuItemActive&&this.props.isHighlighted,isHighlighted:this.props.isHighlighted,checked:this.props.checked,showCheckGutter:this.props.showCheckGutter,hasSubMenu:this.hasSubMenu,testId:this.props.testId};return i.createElement(this.props.displayFormatterBoundWithData,e)},t.prototype.shouldShowOverlay=function(){return this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&!this.props.isUnselectable&&this.hasSubMenu},t.prototype.render=function(){var e=this.shouldShowOverlay(),t=this.getDisplayElement(),n=o.__assign({},this.props.subMenuStyle,a.conditional(this.hasSubMenu,{marginTop:p.ListMenuWidget.subMenuMarginTop()}));return e&&this.props.onSubmenuShown(this.props.itemIndex),i.createElement(l.InteractiveDomWrapper,{pointerClick:this.onSelect,handleHover:this.onHover,handleActive:this.onActive,disabled:this.props.disabled},i.createElement("div",{style:{outline:"none"},onKeyDown:this.handleKeyDown,tabIndex:this.props.disabled?null:-1,ref:this.setDomNode,role:this.props.role||(void 0===this.props.checked?"menuitem":"menuitemcheckbox"),"aria-checked":this.props.checked,"aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},t,a.conditional(e,i.createElement(c.GenericFlyoutListMenuWidget,{getAnchorClientRect:this.getAnchorClientRect,stackingRootId:this.props.stackingRootId,scrollingRootId:this.props.scrollingRootId,anchorOrigin:{vertical:s.VerticalOriginOption.top,horizontal:s.HorizontalOriginOption.right},stackedOrigin:{vertical:s.VerticalOriginOption.top,horizontal:s.HorizontalOriginOption.left},allowAutoPosition:this.props.subMenuAllowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.subMenuShouldAutoPositionOnScrollingRootScroll,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:n,onLeftArrowKeyDown:this.requestClose,onEscapeKeyUp:this.requestClose,onMouseEnter:this.handleSubmenuMouseEnter,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},t}(d.DynamicThemeComponent);t.MenuItemWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(2),r=i.TabStyles.Sizing,a=i.TabStyles.Colors,s=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,border:"none",borderTop:r.BorderWidth+"px solid "+a.L3}},l=function(e){return o.createElement("hr",{style:s(),role:"separator","aria-orientation":"horizontal"})};t.DividerWidget=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(6),r=n(2),a=n(16),s=r.TabStyles.Colors,l=r.TabStyles.Sizing,d=r.TabStyles.Spacing,c=r.TabStyles.Typography;t.getStyles=function(e){return{input:{base:{borderWidth:l.BorderWidth,borderRadius:l.BorderRadius,borderColor:e.onDarkBackground?s.WhiteTransparentLine:s.L6,borderStyle:"solid",height:l.RowHeight,paddingLeft:d.DefaultSpace,paddingRight:i.TextFieldClearIcon.width+2*d.DefaultSpace,outline:"none",backgroundColor:s.Transparent,fontSize:c.Sizing.Default,fontFamily:c.FontFamily,color:e.onDarkBackground?c.Color.InvertedPrimary:c.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderColor:e.onDarkBackground?s.WhiteTransparentLineHover:s.L8},active:{borderColor:e.onDarkBackground?s.WhiteTransparentLineHover:s.L8},focus:{borderColor:e.onDarkBackground?s.WhiteTransparentLineHover:s.L8},disabled:{borderColor:e.onDarkBackground?s.WhiteDisabled:s.L9Disabled,color:e.onDarkBackground?c.Color.InvertedDisabled:c.Color.Disabled}},noClearIconButton:{paddingRight:d.DefaultSpace}},errorInput:{borderColor:s.AttentionLight},errorLabel:{fontSize:c.Sizing.Tiny,fontFamily:c.FontFamily,fontWeight:"normal",color:s.AttentionLight,lineHeight:"normal"},errorContainer:{paddingTop:d.SmallSpace},placeholder:{base:o.__assign({fontSize:c.Sizing.Default,fontFamily:c.FontFamily,fontWeight:"normal",color:e.onDarkBackground?c.Color.InvertedSecondary:c.Color.Secondary,position:"absolute",left:d.DefaultSpace+l.BorderWidth,textAlign:"start",lineHeight:l.RowHeight+"px",maxWidth:"calc(100% - "+2*d.DefaultSpace+"px)"},a.TextEllipsis),disabled:{color:e.onDarkBackground?c.Color.InvertedDisabled:c.Color.Disabled}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(4),s=n(2),l=n(7),d=n(3),c=n(6),p=s.TabStyles.Spacing,u=function(){return{position:"absolute",right:0,top:0,bottom:0,margin:"auto",paddingRight:p.DefaultSpace,paddingLeft:p.DefaultSpace,paddingTop:3}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePointerClick=function(e){e.stopPropagation(),n.props.pointerClick&&n.props.pointerClick(e)},n.handleHover=function(e){n.setState({hover:e}),n.props.handleHover&&n.props.handleHover(e)},n.handleActive=function(e){n.setState({active:e}),n.props.handleActive&&n.props.handleActive(e)},n.handleFocus=function(e){n.setState({focus:e}),n.props.handleFocus&&n.props.handleFocus(e)},n.state={active:!1,hover:!1,focus:!1},n}return o.__extends(t,e),t.prototype.getIcon=function(e,t){var n={active:!e.disabled&&e.active||t.active||t.focus||t.hover,onDarkBackground:e.onDarkBackground};return c.TextFieldClearIcon.icon(n)},t.prototype.render=function(){var e={pointerClick:this.handlePointerClick,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,disabled:this.props.disabled},t=o.__assign({},this.props,e);return r.createElement(l.InteractiveDomWrapper,t,r.createElement(a.Img,{style:u(),tabIndex:-1,src:this.getIcon(this.props,this.state),"data-tb-test-id":d.testId(this.props.testId,"ClearIcon")}))},t}(i.Component);t.TextFieldClearButton=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(3),s=n(4),l=n(5),d=n(2),c=n(7),p=n(6),u=d.TabStyles.Spacing;!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(o||(o={})),t.ExpandoDirection=o;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.expandoBaseTestId="Expando",n.mapExpandoDirectionToFlexDirection={0:"column-reverse",1:"column",2:"row-reverse",3:"row"},n.handleClick=function(e){n.handleExpandOrCollapse()},n.handleKey=function(e){" "!==e.key&&"Enter"!==e.key||(e.stopPropagation(),e.preventDefault(),"keyup"===e.type&&n.handleExpandOrCollapse())},n.handleHover=function(e){n.setState({hoveringOnExpandoButton:e})},n.getExpandoIconDirection=function(){if(n.props.isExpanded)switch(n.props.direction){case o.Up:return o.Down;case o.Down:return o.Up;case o.Left:return o.Right;case o.Right:return o.Left}return n.props.direction},n.getExpandoIconTransform=function(){var e=n.getExpandoIconDirection();switch(e){case o.Up:return"rotate(0deg)";case o.Right:return"rotate(90deg)";case o.Down:return"rotate(180deg)";case o.Left:return"rotate(270deg)"}throw Error("Unknown direction '"+e+"'")},n.state={hoveringOnExpandoButton:!1},n}return i.__extends(t,e),t.prototype.shouldShowLabel=function(){return this.props.label&&this.props.label.length>0},t.prototype.handleExpandOrCollapse=function(){this.props.isExpanded?this.props.onCollapse():this.props.onExpand()},t.prototype.updateHeightOrWidth=function(){this.isVertical()?this.props.isExpanded?this.contentRef.style.height=this.contentRef.scrollHeight+"px":this.contentRef.style.height="0px":this.props.isExpanded?this.contentRef.style.width=this.contentRef.scrollWidth+"px":this.contentRef.style.width="0px"},t.prototype.isVertical=function(){return this.props.direction===o.Up||this.props.direction===o.Down},t.prototype.componentDidUpdate=function(){this.updateHeightOrWidth()},t.prototype.componentDidMount=function(){this.updateHeightOrWidth()},t.prototype.render=function(){var e=this,t={display:"flex",flexDirection:this.mapExpandoDirectionToFlexDirection[this.props.direction],alignItems:"flex-start"},n={style:t,"data-tb-test-id":a.testId(this.props.testId,this.expandoBaseTestId)},o={handleHover:this.handleHover,pointerClick:this.handleClick,key:"expandoInteractiveDom"},l={display:"flex",alignItems:"center",cursor:"default"},d={onKeyDown:this.handleKey,onKeyUp:this.handleKey,style:l,tabIndex:0,"aria-expanded":this.props.isExpanded,role:"button","data-tb-test-id":a.testId(this.props.testId,this.expandoBaseTestId,"Button")},h=this.getExpandoIconTransform(),g={height:p.ExpandoIcon.height,width:p.ExpandoIcon.width,transform:h,margin:"auto",marginLeft:0,marginRight:this.props.label?u.DefaultSpace:0},f=p.ExpandoIcon.icon({active:this.state.hoveringOnExpandoButton}),m={style:g,src:f,"data-tb-test-id":a.testId(this.props.testId,this.expandoBaseTestId,"Icon"),key:"expandoIcon"},y={"data-tb-test-id":a.testId(this.props.testId,this.expandoBaseTestId,"Label"),key:"expandoLabel"},v=i.__assign({},s.BlockStyle,{overflow:"hidden",transition:this.isVertical()?"height 0.2s ease-out":"width 0.2s ease-out"}),b={style:v,"data-tb-test-id":a.testId(this.props.testId,this.expandoBaseTestId,"Content"),ref:function(t){return e.contentRef=t},key:"expandoContent"},S=this.shouldShowLabel();return r.createElement(s.Block,n,r.createElement(c.InteractiveDomWrapper,o,r.createElement(s.Block,d,r.createElement(s.Img,m),a.conditional(S,r.createElement(s.InlineBlock,y,this.props.label)))),r.createElement("div",b,this.props.children))},t}(l.DynamicThemeComponent);t.ExpandoWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(61),a=n(31),s=function(e){var t=o.__assign({},e,{menuItemInfos:r.convertMenuItemInfoToGeneric(e.menuItemInfos)});return i.createElement(a.GenericFlyoutListMenuWidget,t)};t.FlyoutListMenuWidget=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),a=n(33),s=n(21),l=n(6),d=n(2),c=n(3),p=n(17),u=n(32),h=n(135),g=d.TabStyles.Spacing,f=d.TabStyles.Sizing,m=d.TabStyles.Typography,y=function(){return{verticalIconPadding:{paddingRight:l.StepperDownIcon.width+g.DefaultSpace},label:{fontSize:m.Sizing.Default,fontFamily:m.FontFamily,fontWeight:"normal",color:m.Color.Primary,lineHeight:f.RowHeight+"px",paddingRight:g.DefaultSpace}}},v=function(e){function t(n){var o=e.call(this,n)||this;return o.validateProps=function(e){if(!e.disabled){if(!o.isInteger(e.delta))throw Error("'delta' must be an integer");if(e.delta<1)throw Error("'delta' must a positive integer");if(!o.isInteger(e.pageDelta))throw Error("'pageDelta' must be an integer");if(e.pageDelta<1)throw Error("'pageDelta' must a positive integer");if(!o.isInteger(e.min))throw Error("'min' must be an integer");if(!o.isInteger(e.max))throw Error("'max' must be an integer");if(!o.isInteger(e.start))throw Error("'start' must be an integer");if(e.min>e.max)throw Error("'min' must be less than 'max'");if(e.start<e.min||e.start>e.max)throw Error("'start' is outside the valid range: ["+e.min+","+e.max+"]");if(e.delta>e.max-e.min)throw Error("'delta' is greater than range: "+e.max+" - "+e.min+" = "+(e.max-e.min));if(e.pageDelta>e.max-e.min)throw Error("'pageDelta' is greater than range: "+e.max+" - "+e.min+" = "+(e.max-e.min))}},o.isInteger=function(e){return e%1==0},o.handleIncrement=function(e){o.props.disabled||o.state.isIncrementDisabled||o.clampAndCommit(o.state.lastValidValue+e)},o.handleDecrement=function(e){o.props.disabled||o.state.isDecrementDisabled||o.clampAndCommit(o.state.lastValidValue-e)},o.handleInputChange=function(e){/^-?[0-9]*$/.test(e)&&o.updateState(e)},o.handleBlur=function(){o.confirmInput(),o.props.handleBlur&&o.props.handleBlur()},o.handleEnter=function(){o.confirmInput()},o.handleEscape=function(){o.revert()},o.handleKeyDown=function(e){if(!o.props.disabled&&!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){switch(e.key){case"ArrowUp":o.confirmInput(function(){return o.handleIncrement(o.props.delta)});break;case"ArrowDown":o.confirmInput(function(){return o.handleDecrement(o.props.delta)});break;case"Home":o.clampAndCommit(o.props.min);break;case"PageUp":o.confirmInput(function(){return o.handleIncrement(o.props.pageDelta)});break;case"PageDown":o.confirmInput(function(){return o.handleDecrement(o.props.pageDelta)});break;case"End":o.clampAndCommit(o.props.max);break;default:return}e.preventDefault(),e.stopPropagation()}},o.handleArrowHover=function(e){o.props.disabled||o.setState({arrowHover:e})},o.validateProps(n),o.state=t.getNextStateFromProps(n,{}),o}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.validateProps(e),this.setState(t.getNextStateFromProps(e,this.state))},t.getNextStateFromProps=function(e,t){return o.__assign({},t,{isIncrementDisabled:e.start===e.max,isDecrementDisabled:e.start===e.min,inputValue:String(e.start),lastValidValue:e.start,arrowHover:t.arrowHover||!1})},t.prototype.getInputStyle=function(){var e=s.getTextOutlineStyles({onDarkBackground:this.props.onDarkBackground}),t=y(),n=parseInt(t.verticalIconPadding.paddingRight,10),i=g.DefaultSpace;return o.__assign({},e.input.base,this.props.inputStyle,c.conditional(this.state.arrowHover,e.input.interactive.hover),t.verticalIconPadding,{minWidth:27+i+n+"px"})},t.prototype.updateState=function(e,t,n){var i=void 0!==t,r=i&&t!==this.state.lastValidValue,a=parseInt(e,10);this.setState(o.__assign({inputValue:e},c.conditional(i,{lastValidValue:t}),{isIncrementDisabled:a>=this.props.max,isDecrementDisabled:a<=this.props.min}),n),r&&this.props.onValueUpdated&&this.props.onValueUpdated(t)},t.prototype.confirmInput=function(e){var t=parseInt(this.state.inputValue,10);isNaN(t)?this.revert():this.clampAndCommit(t,e)},t.prototype.clampAndCommit=function(e,t){var n=a.clamp(e,this.props.min,this.props.max);this.updateState(n.toString(),n,t)},t.prototype.revert=function(){this.updateState(this.state.lastValidValue.toString())},t.prototype.renderStepperLabel=function(){if(this.props.label){var e=o.__assign({},y().label,this.props.labelStyle,c.conditional(this.props.onDarkBackground,{color:m.Color.InvertedPrimary}));return i.createElement(r.InlineBlock,null,i.createElement("label",{"data-tb-test-id":c.testId(this.props.testId,"IntegerStepperWidget","OptionalLabel"),style:e},this.props.label))}},t.prototype.render=function(){var e=this,t={testId:c.testId(this.props.testId,"IntegerStepperWidget"),isIncrementDisabled:this.state.isIncrementDisabled,isDecrementDisabled:this.state.isDecrementDisabled,disabled:this.props.disabled,handleIncrement:function(){return e.handleIncrement(e.props.delta)},handleDecrement:function(){return e.handleDecrement(e.props.delta)},handleHover:this.handleArrowHover,onDarkBackground:this.props.onDarkBackground},n={"aria-label":this.props.label,"aria-valuemax":this.props.max,"aria-valuemin":this.props.min,"aria-valuenow":parseInt(this.state.inputValue,10),inputStyle:this.getInputStyle(),interactiveStyles:s.getTextOutlineStyles({onDarkBackground:this.props.onDarkBackground}).input.interactive,text:this.state.inputValue,testId:c.testId(this.props.testId,"IntegerStepperWidget"),handleChange:this.handleInputChange,handleEnter:this.handleEnter,handleEscape:this.handleEscape,disabled:this.props.disabled,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,handleHover:this.handleInputHover,handleBlur:this.handleBlur,onKeyDown:this.handleKeyDown,inputRef:this.props.inputRef,name:this.props.name,onDarkBackground:this.props.onDarkBackground,role:"spinbutton",shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus};return i.createElement(r.Block,{id:this.props.testId,style:this.props.containerStyle},this.renderStepperLabel(),i.createElement(r.InlineBlock,null,i.createElement(u.TextFieldInputWidget,o.__assign({},n)),i.createElement(h.VerticalStepperArrowGroup,o.__assign({},t))))},t.defaultProps={delta:1,pageDelta:1},t}(p.TextFieldBase);t.IntegerStepperWidget=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),a=n(14),s=n(7),l=n(11),d=n(136),c=n(6),p=n(2),u=n(3),h=p.TabStyles.Colors,g=p.TabStyles.Sizing,f=function(e){var t={display:"flex",minWidth:void 0,minHeight:void 0,height:c.StepperDownIcon.height,width:c.StepperDownIcon.width};return{arrowLayout:{borderLeft:g.BorderWidth+"px solid "+(e?h.WhiteTransparentLine:h.L3),bottom:0,boxSizing:"border-box",margin:g.BorderWidth,overflow:"hidden",position:"absolute",right:0,top:0,width:18},incrementButtonStyle:o.__assign({},t,{borderBottom:"1px solid "+(e?h.WhiteTransparentLine:h.L3)}),decrementButtonStyle:o.__assign({},t)}},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getContentWrapper=function(e){var t=this;return function(n){var a={draggable:!1,height:e.height,src:e.icon(o.__assign({},n,{disabled:!1,onDarkBackground:t.props.onDarkBackground})),width:e.width};return i.createElement(r.Img,o.__assign({},a))}},t.prototype.renderButton=function(e){var t=f(this.props.onDarkBackground);return i.createElement(a.ButtonWidget,{buttonType:a.ButtonType.IconOutline,disabled:this.props.disabled||(e?this.props.isDecrementDisabled:this.props.isIncrementDisabled),disableTabAccessibility:!0,getContent:this.getContentWrapper(e?c.StepperDownIcon:c.StepperUpIcon),handleClick:e?this.handleDecrementWrapper:this.handleIncrementWrapper,style:e?t.decrementButtonStyle:t.incrementButtonStyle,testId:u.testId(this.props.testId,"VerticalStepperArrowGroup",e?"DecrementIcon":"IncrementIcon"),title:e?l.Messages.decrement():l.Messages.increment()})},t.prototype.render=function(){var e=f(this.props.onDarkBackground);return i.createElement(r.Block,{style:e.arrowLayout},this.renderButton(!1),this.renderButton(!0))},t=o.__decorate([s.InteractiveDomHoCDecorator],t)}(d.StepperArrowGroup);t.VerticalStepperArrowGroup=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleIncrementWrapper=function(){t.props.disabled||t.props.handleIncrement()},t.handleDecrementWrapper=function(){t.props.disabled||t.props.handleDecrement()},t.handleHoverWrapper=function(e){t.props.disabled||t.props.handleHover(e)},t}return o.__extends(t,e),t}(i.Component);t.StepperArrowGroup=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=o.TabStyles.Colors,r=o.TabStyles.Sizing,a=o.TabStyles.Spacing,s=o.TabStyles.Typography;t.getStyles=function(e){return{input:{base:{border:"none",borderRadius:0,borderBottomWidth:r.BorderWidth,borderBottomColor:e.onDarkBackground?i.WhiteTransparentLine:i.L6,borderBottomStyle:"solid",height:r.RowHeight,outline:"none",backgroundColor:i.Transparent,fontSize:s.Sizing.Default,fontFamily:s.FontFamily,fontWeight:"normal",color:e.onDarkBackground?s.Color.InvertedPrimary:s.Color.Primary,position:"relative",paddingBottom:0,marginBottom:a.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:e.onDarkBackground?i.WhiteTransparentLineHover:i.L8},active:{borderBottomColor:e.onDarkBackground?i.WhiteTransparentLineHover:i.GoLight},focus:{borderBottomColor:e.onDarkBackground?i.WhiteTransparentLineHover:i.GoLight},disabled:{borderBottomColor:e.onDarkBackground?i.WhiteDisabled:i.L9Disabled,color:e.onDarkBackground?s.Color.InvertedDisabled:s.Color.Disabled}}},errorInput:{borderBottomColor:i.AttentionLight},placeholder:{base:{fontSize:s.Sizing.Default,fontFamily:s.FontFamily,fontWeight:"normal",color:e.onDarkBackground?s.Color.InvertedSecondary:s.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:r.RowHeight+"px",bottom:a.DefaultSpace},disabled:{color:e.onDarkBackground?s.Color.InvertedDisabled:s.Color.Disabled}},errorLabel:{fontSize:s.Sizing.Tiny,fontFamily:s.FontFamily,fontWeight:"normal",color:i.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:s.Sizing.Tiny,fontFamily:s.FontFamily,fontWeight:"normal",color:e.onDarkBackground?s.Color.InvertedSecondary:s.Color.Secondary,lineHeight:"19px"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(0),s=n(4),l=n(2),d=n(139);!function(e){e[e.Veritical=0]="Veritical",e[e.Horizontal=1]="Horizontal"}(o||(o={})),t.RadioLayoutType=o;var c=function(e){function t(n){var o=e.call(this,n)||this;return o.groupId=t.groupIdIncrementor++,o}return i.__extends(t,e),t.prototype.getContainerStyleOfIndex=function(e){return e!==this.props.buttonList.length-1&&this.props.layout===o.Horizontal?{paddingRight:l.TabStyles.Spacing.ExtraLargeSpace}:{}},t.prototype.getContainerStyle=function(){var e={};return this.props.layout===o.Horizontal&&(e.display="flex",e.flexWrap="wrap",this.props.justifyHorizontalItems&&(e.justifyContent="space-between")),e},t.prototype.render=function(){var e=this,t=this.props.buttonList.map(function(t,n){var o=e.getContainerStyleOfIndex(n);return a.createElement(d.RadioButtonWithLabelWidget,{index:n,groupName:e.props.name||"RadioButtonWithLabelGroup"+e.groupId.toString(),value:t.value,testId:t.testId,checked:n===e.props.checkedIndex,disabled:t.disabled,handleChange:e.props.handleChange,label:t.label,containerStyle:o,removeLeftMargin:e.props.removeLeftMargin,key:n})});return a.createElement(s.Block,{role:"radiogroup","aria-label":this.props.ariaLabel,style:this.getContainerStyle(),"data-tb-test-id":"RadioButtonWithLabelGroupWidget-"+this.props.testId},t)},t.groupIdIncrementor=0,t}(r.Component);t.RadioButtonWithLabelGroupWidget=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(140),a=n(4),s=n(26),l=n(7),d=n(29),c=n(2),p=n(5),u=function(){return{label:{display:"flex",minHeight:c.TabStyles.Sizing.ListRowHeight},text:{width:"100%"}}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=u();return i.createElement(a.Block,{className:s.ClickBustingConfig.suppressionClassName,role:"radio","aria-checked":this.props.checked},i.createElement(d.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:o.__assign({},e.label,this.props.containerStyle)},i.createElement(r.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,removeLeftMargin:this.props.removeLeftMargin,value:this.props.value,index:this.props.index}),i.createElement(a.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t=o.__decorate([l.InteractiveDomHoCDecorator],t)}(p.DynamicThemeComponent);t.RadioButtonWithLabelWidget=h},function(e,t,n){"use strict";function o(e,t){var n={disabled:e.disabled,checked:e.checked,hover:e.hover||t.hover,focus:t.focus};return d.RadioButtonIcon.icon(n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),a=n(3),s=n(4),l=n(7),d=n(6),c=n(2),p=n(5),u=function(){return{baseDiv:{marginLeft:c.TabStyles.Spacing.DefaultSpace-d.RadioButtonIcon.padding,marginRight:c.TabStyles.Spacing.DefaultSpace-d.RadioButtonIcon.padding,height:d.RadioButtonIcon.height,width:d.RadioButtonIcon.width,minWidth:d.RadioButtonIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-d.RadioButtonIcon.padding},radioButton:{opacity:0,height:d.RadioButtonIcon.height,width:d.RadioButtonIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeRadioButton:{height:d.RadioButtonIcon.height,width:d.RadioButtonIcon.width,position:"absolute",verticalAlign:"top"}}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleFormChange=function(e){!t.props.disabled&&t.props.handleChange&&(t.props.checked||t.props.handleChange(t.props.value,t.props.index))},t.handleActive=function(e){t.setState({active:e})},t.handleFocus=function(e){t.setState({focus:!t.state.active&&e})},t.handleHover=function(e){t.setState({hover:e})},t}return i.__extends(t,e),t.prototype.render=function(){var e=o(this.props,this.state),t=u(),n=i.__assign({},t.baseDiv,a.conditional(this.props.removeLeftMargin,t.noLeftMargin));return r.createElement(l.InteractiveDomWrapper,{handleHover:this.handleHover,handleFocus:this.handleFocus,handleActive:this.handleActive},r.createElement(s.InlineBlock,{style:n},r.createElement(s.Img,{style:t.fakeRadioButton,src:e}),r.createElement("input",{style:t.radioButton,type:"radio",name:this.props.groupName,onChange:this.handleFormChange,checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id,value:this.props.value})))},t}(p.DynamicThemeComponent);t.RadioButtonWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(5),s=n(12),l=n(2),d=n(142);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(o||(o={})),t.SelectedToggle=o;var c="0 0 0 1px "+l.TabStyles.Colors.Focus+" inset",p=function(){return{container:{display:"flex"},toggleBase:i.__assign({flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:l.TabStyles.Spacing.MediumSpace,paddingRight:l.TabStyles.Spacing.MediumSpace,borderWidth:l.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:l.TabStyles.Sizing.RowHeight-2*l.TabStyles.Sizing.BorderWidth+"px"},s.PreventUserSelect),selectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:l.TabStyles.Colors.F1,color:l.TabStyles.Typography.Color.Primary,borderColor:l.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:l.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:l.TabStyles.Colors.L9},focusSelectedToggle:{boxShadow:c},focusUnselectedToggle:{boxShadow:c},activeSelectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.L9},inactiveToggle:{backgroundColor:l.TabStyles.Colors.F1,color:l.TabStyles.Typography.Color.Primary,borderColor:l.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:l.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:l.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:l.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:l.TabStyles.Sizing.BorderRadius}}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){1===e?t.props.handleRightToggleSelected():t.props.handleLeftToggleSelected()},t}return i.__extends(t,e),t.prototype.render=function(){var e=p();return e.container=i.__assign({},e.container,this.props.containerStyle),r.createElement(d.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===o.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.handleChange,style:e,testId:this.props.testId,name:this.props.name,ariaLabel:this.props.ariaLabel})},t}(a.DynamicThemeComponent);t.ToggleTextWidget=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),a=n(3),s=n(4),l=n(26),d=n(3),c=n(29),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.checked||t.props.handleChange(t.props.idx)},t.handleActive=function(e){t.props.handleActive(e?t.props.idx:-1)},t}return o.__extends(t,e),t.prototype.render=function(){return r.createElement(c.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.handleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.handleChange,type:"radio",checked:this.props.checked,name:this.props.groupName,"data-tb-test-id":d.testId(this.props.testId,"input")}),this.props.children)},t}(i.Component),u=function(e){function t(n){var o=e.call(this,n)||this;return o.handleActive=function(e){l.ClickBustingConfig.suppressionClassName&&l.ClickBustingConfig.suppressionClassName.length||o.setState({activerSwitcherIdx:e})},o.groupId=t.groupIdIncrementor++,o.state={activerSwitcherIdx:-1},o}return o.__extends(t,e),t.prototype.getToggleStyling=function(e){var t=this.state.activerSwitcherIdx>=0,n=0===e,i=e===this.props.toggleTexts.length-1,r=this.state.activerSwitcherIdx!==e,s=this.props.checkedIndex===e;return o.__assign({},this.props.style.toggleBase,a.conditional(n,this.props.style.firstToggle),a.conditional(i,this.props.style.lastToggle),t?r?this.props.style.inactiveToggle:s?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle:s?this.props.style.selectedToggle:this.props.style.unselectedToggle)},t.prototype.render=function(){var e=this,t="SwitcherTextGroup"+String(this.groupId),n=this.props.toggleTexts.map(function(n,o){var i=e.getToggleStyling(o),a=e.props.checkedIndex===o?e.props.style.hoverSelectedToggle:e.props.style.hoverUnselectedToggle,s=e.props.checkedIndex===o?e.props.style.focusSelectedToggle:e.props.style.focusUnselectedToggle;return r.createElement(p,{groupName:e.props.name||t,handleChange:e.props.handleChange,checked:e.props.checkedIndex===o,testId:d.testId(e.props.testId,n),idx:o,style:i,hoverStyle:a,focusStyle:s,key:o,handleActive:e.handleActive},n)});return r.createElement(s.Block,{style:this.props.style.container,className:l.ClickBustingConfig.suppressionClassName,role:"radiogroup","aria-label":this.props.ariaLabel},n)},t.groupIdIncrementor=0,t}(i.Component);t.SwitcherTextBase=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(56),a=n(9),s=n(10),l=n(13),d=n(144);t.TooltipPosition=d.TooltipPosition;var c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.id=a.generateId(),n.waitingOnGetContent=!1,n.state={},n.handleWrappedChildrenRef=function(e){n.wrappedChildrenElement=e},n.handleTooltipOverlayContentRef=function(e){n.tooltipContentElement=e?e.firstElementChild:null},n.handleClick=function(e){n.state.content&&n.state.anchorClientRect?n.dismissTooltipOverlay():n.showTooltipOverlay(e)},n.handleKeyUp=function(e){n.state.content&&n.state.anchorClientRect&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),n.dismissTooltipOverlay())},n.handleMouseMove=function(e){n.state.content&&n.state.anchorClientRect&&!n.props.followCursor||n.showTooltipOverlay(e)},n.showTooltipOverlay=function(e){if(n.setState({anchorClientRect:n.getAnchorClientRectFromEvent(e)}),!n.state.content&&!n.waitingOnGetContent){n.waitingOnGetContent=!0;var o=function(e){n.waitingOnGetContent&&(t.dismissDisplayedTooltip(),t.displayedTooltip={dismiss:n.dismissTooltipOverlay,id:n.id},n.setState({content:e},function(){n.waitingOnGetContent=!1}))},i=n.props.getContent();Promise.resolve(i)===i?i.then(o).catch(function(e){console.warn({message:"'getContent' promise rejected",error:e}),n.setState({anchorClientRect:void 0},function(){n.waitingOnGetContent=!1})}):o(i)}},n.dismissTooltipOverlay=function(){t.displayedTooltip&&n.id===t.displayedTooltip.id&&(t.displayedTooltip=void 0),n.waitingOnGetContent=!1,n.setState({anchorClientRect:void 0,content:void 0,width:void 0})},n.getAnchorClientRect=function(){return n.state.anchorClientRect},n}return o.__extends(t,e),t.dismissDisplayedTooltip=function(){if(t.displayedTooltip){var e=o.__assign({},t.displayedTooltip);t.displayedTooltip=void 0;try{e.dismiss()}catch(e){console.warn({message:"failed to dismiss displayed tooltip",error:e})}}},t.prototype.componentDidMount=function(){this.maybeUpdateStateForRenderedChildrenAndTooltip()},t.prototype.componentDidUpdate=function(){this.maybeUpdateStateForRenderedChildrenAndTooltip()},t.prototype.componentWillUnmount=function(){this.dismissTooltipOverlay()},t.prototype.maybeUpdateStateForRenderedChildrenAndTooltip=function(){var e={},t=!!this.wrappedChildrenElement&&r(this.wrappedChildrenElement).length>0;t!==this.state.containsTabbableChildren&&(e.containsTabbableChildren=t),this.state.content&&this.state.anchorClientRect&&this.tooltipContentElement&&void 0===this.state.width&&(e.width=this.tooltipContentElement.getBoundingClientRect().width+d.AggregateTooltipPadding),Object.keys(e).length>0&&this.setState(e)},t.prototype.getAnchorClientRectFromEvent=function(e){var t="focus"===e.type;return t&&this.state.anchorClientRect?this.state.anchorClientRect:this.wrappedChildrenElement?t||!this.props.followCursor?this.adjustClientRectForOffset(this.wrappedChildrenElement.getBoundingClientRect()):(e=e,this.adjustClientRectForOffset({bottom:e.clientY,height:0,left:e.clientX,right:e.clientX,top:e.clientY,width:0})):void 0},t.prototype.adjustClientRectForOffset=function(e){return{bottom:e.bottom+d.AnchorClientRectPadding,height:e.height+2*d.AnchorClientRectPadding,left:e.left-d.AnchorClientRectPadding,right:e.right+d.AnchorClientRectPadding,top:e.top-d.AnchorClientRectPadding,width:e.width+2*d.AnchorClientRectPadding}},t.prototype.renderWrappedChildren=function(){return i.createElement(l.PointerEventWrapper,{pointerClick:this.handleClick},i.createElement("div",{onBlur:this.dismissTooltipOverlay,onFocus:this.showTooltipOverlay,onKeyUp:this.handleKeyUp,onMouseEnter:this.showTooltipOverlay,onMouseLeave:this.dismissTooltipOverlay,onMouseMove:this.handleMouseMove,ref:this.handleWrappedChildrenRef,style:{display:"inline-flex"},tabIndex:this.state.containsTabbableChildren?void 0:0},this.props.children))},t.prototype.renderTooltipOverlay=function(){if(this.state.content&&this.state.anchorClientRect){var e=d.TooltipPositionInfoMap[this.props.position],t=o.__assign({},d.ContentWrapperStyle,{maxWidth:this.props.maxWidth,visibility:void 0===this.state.width?"hidden":"visible",width:Math.ceil(this.state.width||this.props.maxWidth)});return i.createElement(s.Overlay,{allowAutoPosition:!0,anchorOrigin:e.anchorOrigin,disablePointerEvents:!0,getAnchorClientRect:this.getAnchorClientRect,shouldAutoPositionOnScrollingRootScroll:this.props.followCursor,stackedOrigin:e.stackedOrigin,zIndex:this.props.zIndex},i.createElement("div",{"data-tb-test-id":this.props.testId,ref:this.handleTooltipOverlayContentRef,role:"tooltip",style:t},this.state.content))}},t.prototype.render=function(){return i.createElement(i.Fragment,null,this.renderWrappedChildren(),this.renderTooltipOverlay())},t.defaultProps={maxWidth:d.DefaultMaxWidth,position:d.TooltipPosition.Right},t}(i.Component);t.Tooltip=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),r=n(10);t.DefaultMaxWidth=300,t.AnchorClientRectPadding=6,t.BorderWidth=i.TabStyles.Sizing.BorderWidth,t.Padding=12,t.AggregateTooltipPadding=2*(t.BorderWidth+t.Padding),t.ContentWrapperStyle={backgroundColor:i.TabStyles.Colors.White,borderColor:i.TabStyles.Colors.L5,borderRadius:i.TabStyles.Sizing.BorderRadius,borderStyle:"solid",borderWidth:t.BorderWidth,boxShadow:i.TabStyles.Shadow.Standard,boxSizing:"border-box",display:"block",fontSize:i.TabStyles.Typography.Sizing.Default,lineHeight:"normal",padding:t.Padding};var a;!function(e){e.TopLeftCorner="TopLeftCorner",e.Top="Top",e.TopRightCorner="TopRightCorner",e.Right="Right",e.BottomRightCorner="BottomRightCorner",e.Bottom="Bottom",e.BottomLeftCorner="BottomLeftCorner",e.Left="Left"}(a=t.TooltipPosition||(t.TooltipPosition={})),t.TooltipPositionInfoMap=(o={},o[a.TopLeftCorner]={anchorOrigin:{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.top},stackedOrigin:{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.bottom}},o[a.Top]={anchorOrigin:{horizontal:r.HorizontalOriginOption.centerX,vertical:r.VerticalOriginOption.top},stackedOrigin:{horizontal:r.HorizontalOriginOption.centerX,vertical:r.VerticalOriginOption.bottom}},o[a.TopRightCorner]={anchorOrigin:{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.top},stackedOrigin:{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.bottom}},o[a.Right]={anchorOrigin:{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.centerY},stackedOrigin:{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.centerY}},o[a.BottomRightCorner]={anchorOrigin:{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.bottom},stackedOrigin:{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.top}},o[a.Bottom]={anchorOrigin:{horizontal:r.HorizontalOriginOption.centerX,vertical:r.VerticalOriginOption.bottom},stackedOrigin:{horizontal:r.HorizontalOriginOption.centerX,vertical:r.VerticalOriginOption.top}},o[a.BottomLeftCorner]={anchorOrigin:{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.bottom},stackedOrigin:{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.top}},o[a.Left]={anchorOrigin:{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.centerY},stackedOrigin:{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.centerY}},o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(43),s=n(3),l=n(0),d=n(41),c=n(2),p=n(58),u=n(146),h=n(10),g=function(e){var t=c.TabStyles.Sizing.RowHeight,n=.5*t;return{display:"inline-block",width:e.colorLabelWidth||40,height:n,boxSizing:"border-box",backgroundColor:(e.color||"").toLowerCase(),marginTop:(t-(n+2*c.TabStyles.Sizing.BorderWidth))/2}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e={dropdownType:d.DropdownType.Outline,dropdownId:null,pointerClick:this.props.handleClick,onKeyDown:this.props.onKeyDown,dropdownOpen:this.props.isPickerOpen,disabled:this.props.disabled,interactiveStyles:d.getDropdownStylesByType(d.DropdownType.Outline).button.interactive,testId:s.testId(this.props.testId,"ColorPickerButton"),title:this.props.title};return l.createElement(d.DropdownButtonWidget,e,l.createElement("div",{style:g(this.props)}))},t}(i.Component);t.ColorPickerButton=f;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.setColorPickerButton=function(e){n.buttonElement=r.findDOMNode(e)},n.unsubscribeOutsideClickListeners=function(){n.outsideClickListenersUnsubscribe.forEach(function(e){return e()}),n.outsideClickListenersUnsubscribe=[]},n.getAnchorClientRect=function(){return n.buttonElement?n.buttonElement.getBoundingClientRect():void 0},n.onColorSelected=function(e){n.togglePicker(),n.props.handleColorSelected(e.toLowerCase())},n.togglePicker=function(){n.props.disabled||n.setState({isPickerVisible:!n.state.isPickerVisible})},n.togglePickerOnKeyEvent=function(e){n.togglePicker(),e.preventDefault(),e.stopPropagation()},n.handleKeyDown=function(e){" "!==e.key&&"Enter"!==e.key||n.togglePickerOnKeyEvent(e)},n.handleGridKeyUp=function(e){"Escape"===e.key&&n.state.isPickerVisible&&n.togglePickerOnKeyEvent(e)},n.state={isPickerVisible:!1,customColorText:""},n.outsideClickListenersUnsubscribe=[],n.colorGrid=null,n}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this;this.state.isPickerVisible&&!t.isPickerVisible&&this.colorGrid?(this.outsideClickListenersUnsubscribe=[this.colorGrid.parentElement,r.findDOMNode(this)].map(function(e){return p.GlobalPointerDownOutsideListener.subscribe(e,n.togglePicker)}),this.colorGrid.focus(),this.state.customColorWidgetWidth!==this.colorGrid.clientWidth&&this.setState({customColorWidgetWidth:this.colorGrid.clientWidth})):!this.state.isPickerVisible&&t.isPickerVisible&&this.unsubscribeOutsideClickListeners()},t.prototype.componentWillUnmount=function(){this.unsubscribeOutsideClickListeners()},t.prototype.render=function(){var e={handleClick:this.togglePicker,color:this.props.selectedColor,disabled:this.props.disabled,isPickerOpen:this.state.isPickerVisible,colorLabelWidth:this.props.colorLabelWidth,onKeyDown:this.handleKeyDown,testId:this.props.testId,title:this.props.title,ref:this.setColorPickerButton};return l.createElement("div",{style:{display:"inline-block"},"data-tb-test-id":s.testId(this.props.testId,"ColorPicker")},l.createElement(f,e),s.conditional(this.state.isPickerVisible,this.buildColorGridWidget()))},t.prototype.buildColorGridWidget=function(){var e=this,t={handleSwatchClicked:this.onColorSelected,selectedColor:(this.props.selectedColor||"").toLowerCase(),colorsPreset:this.props.colorsPreset,testId:"colorgrid",ref:function(t){return e.colorGrid=r.findDOMNode(t)}},n={onColorSelected:this.onColorSelected,color:this.getCustomColorInput(),testId:this.props.testId,width:this.state.customColorWidgetWidth||100},o={allowAutoPosition:!0,anchorOrigin:{vertical:h.VerticalOriginOption.bottom,horizontal:h.HorizontalOriginOption.left},getAnchorClientRect:this.getAnchorClientRect,zIndex:this.props.dropdownZIndex},i={style:{backgroundColor:c.TabStyles.Colors.White,zIndex:this.props.dropdownZIndex,position:"absolute",padding:c.TabStyles.Spacing.LargeSpace,borderWidth:c.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:c.TabStyles.Colors.L5,borderRadius:c.TabStyles.Sizing.BorderRadius},onKeyUp:this.handleGridKeyUp,"data-tb-test-id":s.testId(this.props.testId,"ColorGridWrapper")};return l.createElement(h.Overlay,o,l.createElement("div",i,l.createElement(a.ColorGridWidget,t),s.conditional(this.props.showCustomColorInput,l.createElement("div",{},l.createElement("hr",{style:{marginTop:c.TabStyles.Spacing.LargeSpace}}),l.createElement(u.CustomColorInput,n)))))},t.prototype.getCustomColorInput=function(){var e=this.props.colorsPreset===a.ColorGridPreset.Light?c.TabStyles.ColorPickerPresets.Light:c.TabStyles.ColorPickerPresets.Dark;return this.isSelectedColorCustom(e)?this.props.selectedColor:""},t.prototype.isSelectedColorCustom=function(e){if(!this.props.selectedColor)return!1;for(var t=0,n=e;t<n.length;t++){if(n[t].toLowerCase()===this.props.selectedColor.toLowerCase())return!1}return!0},t.defaultProps={shouldReturnFocusOnClose:!0},t}(i.Component);t.ColorPickerWidget=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(147),a=n(3),s=n(0),l=n(2),d=n(11),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e={display:"flex",flexDirection:"column",textAlign:"center",width:this.props.width,fontFamily:l.TabStyles.Typography.FontFamily,fontSize:"small"},t={onColorSelected:this.props.onColorSelected,testId:this.props.testId,selectedColor:this.props.color,containerWidth:this.props.width};return s.createElement("div",{style:e,"data-tb-test-id":a.testId(this.props.testId,"CustomColorInput")},d.Messages.customColor(),s.createElement(r.HexColorInput,t))},t}(i.Component);t.CustomColorInput=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(21),a=n(3),s=n(0),l=n(2),d=n(43),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hexColorRegExp=/^#?[0-9A-Fa-f]{6}$/,n.onHandleClearText=function(){n.setState({hexColorText:"#"})},n.onHexColorInput=function(e){n.setState({hexColorText:e})},n.onColorInputEnter=function(){n.isAHexColor(n.state.hexColorText)&&n.props.onColorSelected(n.prependHash(n.state.hexColorText))},n.handleSwatchClicked=function(e){n.isAHexColor(n.state.hexColorText)&&n.props.onColorSelected(n.prependHash(e.toLowerCase()))},n.isAHexColor=function(e){return n.hexColorRegExp.test(e)},n.removeHash=function(e){return null!==e&&"#"===e.charAt(0)&&(e=e.slice(1)),e},n.prependHash=function(e){return null!==e&&"#"!==e.charAt(0)&&(e="#"+e),e},n.state={hexColorText:n.shouldDisplayCustomColor()?n.removeHash(t.selectedColor.toUpperCase()):"#"},n}return o.__extends(t,e),t.prototype.render=function(){var e={handleEnter:this.onColorInputEnter,handleChange:this.onHexColorInput,handleClearText:this.onHandleClearText,placeholder:"#",text:this.state.hexColorText||"#",hasError:"#"!==this.state.hexColorText&&!this.isAHexColor(this.state.hexColorText),containerStyle:{display:"inline-flex",paddingLeft:l.TabStyles.Spacing.DefaultSpace,flexGrow:1,width:"100%"},testId:this.props.testId},t={height:l.TabStyles.Sizing.RowHeight,width:l.TabStyles.Sizing.RowHeight,minHeight:l.TabStyles.Sizing.RowHeight,minWidth:l.TabStyles.Sizing.RowHeight,borderWidth:l.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:l.TabStyles.Colors.L6,boxSizing:"border-box",marginRight:6},n={color:this.getCustomColor()||"transparent",handleClick:this.handleSwatchClicked,size:l.TabStyles.Sizing.RowHeight-2*l.TabStyles.Sizing.BorderWidth,selected:this.shouldSwatchBeSelected(),disabled:!this.getCustomColor(),testId:this.props.testId};return s.createElement("div",{style:{display:"flex",flexGrow:1,paddingTop:l.TabStyles.Spacing.DefaultSpace},"data-tb-test-id":a.testId(this.props.testId,"HexInput")},s.createElement("div",{style:t},s.createElement(d.ColorSwatchWidget,n)),s.createElement(r.OutlineTextFieldWidget,e))},t.prototype.getCustomColor=function(){return"#"!==this.state.hexColorText&&this.isAHexColor(this.state.hexColorText)?this.prependHash(this.state.hexColorText):null},t.prototype.shouldDisplayCustomColor=function(){return 0!==this.props.selectedColor.length},t.prototype.shouldSwatchBeSelected=function(){return this.shouldDisplayCustomColor()&&this.prependHash(this.state.hexColorText.toLowerCase())===this.props.selectedColor},t}(i.Component);t.HexColorInput=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(0),s=n(4),l=n(6),d=n(3),c=n(18),p=n(11);!function(e){e[e.Large=50]="Large",e[e.Small=14]="Small"}(o=t.ActivitySpinnerSize||(t.ActivitySpinnerSize={}));var u=function(e){return{underlay:{background:"rgba(255,255,255,.6)",borderRadius:10,textAlign:"center",width:65,height:65},spinnerWithUnderlay:{width:e,height:"100%"},spinner:{width:e,height:e}}},h=function(e){return'\n  <svg viewBox="0 0 50 50" style="cursor:wait;overflow:hidden;-webkit-animation:svg-spinner-animation 1s linear infinite;animation:svg-spinner-animation 1s linear infinite;transform-origin:center;" xmlns="http://www.w3.org/2000/svg">\n    <style>\n      @-webkit-keyframes svg-spinner-animation{100%{-webkit-transform:rotate(360deg);}}\n      @keyframes svg-spinner-animation{100%{transform:rotate(360deg);}}\n      #tail { fill: url(#fade) }\n      #head { fill: '+e+" }\n      stop { stop-color: "+e+' }\n    </style>\n    <linearGradient id="fade" x2="50" y1="25" y2="25" gradientUnits="userSpaceOnUse">\n      <stop offset="0" stop-opacity="0"/>\n      <stop offset=".15" stop-opacity=".04"/>\n      <stop offset=".3" stop-opacity=".16"/>\n      <stop offset=".45" stop-opacity=".36"/>\n      <stop offset=".61" stop-opacity=".64"/>\n      <stop offset=".76"/>\n    </linearGradient>\n    <path id="head" d="M0 25a25 25 0 1 0 50 0h-3.9a21.1 21.1 0 1 1-42.2 0" />\n    <path id="tail" d="M50 25a25 25 0 0 0-50 0h3.9a21.1 21.1 0 1 1 42.2 0" />\n  </svg>\n'},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){if(this.props.spinnerSize!==o.Large&&this.props.shouldShowUnderlay)throw new Error("Underlay is only supported for Large size.");var e={style:u(this.props.spinnerSize).underlay,"data-tb-test-id":d.testId(this.props.testId,"Spinner-Underlay")};return this.props.shouldShowUnderlay?a.createElement(s.InlineBlock,e,this.getSpinnerElement()):this.getSpinnerElement()},t.prototype.getSpinnerElement=function(){var e=u(this.props.spinnerSize),t=this.props.onDarkBackground?"rgba(255, 255, 255, 0.8)":"rgb(97, 101, 112)";return c.isEdge?a.createElement("iframe",{"aria-label":p.Messages.waitIndicatorLabel(),"data-tb-test-id":d.testId(this.props.testId,"Spinner"),frameBorder:"0",role:"img",scrolling:"no",src:l.encodeSvg(h(t)),style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,type:"image/svg+xml"}):a.createElement("object",{"aria-label":p.Messages.waitIndicatorLabel(),data:l.encodeSvg(h(t)),"data-tb-test-id":d.testId(this.props.testId,"Spinner"),role:"img",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,type:"image/svg+xml"})},t.defaultProps={spinnerSize:o.Large},t}(r.Component);t.ActivitySpinnerWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(18),a=n(13),s=n(39),l=n(57),d=n(3),c=n(22),p=n(34),u=n(150),h=n(65),g=n(151),f=n(152),m=function(e){function t(t){var n=e.call(this,t)||this;return n.getHandleCount=function(){return void 0===n.props.handles.rightHandlePosition?1:2},n.isSingleHandleBeingDragged=function(e){return e===p.HandleType.Left||e===p.HandleType.Right},n.determineSingleHandleDragOffsetIfNeeded=function(e,t,o){if(t){var i;return e===p.HandleType.Left?i=n.props.handles.leftHandlePosition:e===p.HandleType.Right&&(i=n.props.handles.rightHandlePosition),i?i-o:void 0}},n.determineWhichHandleShouldBeDraggedForEvent=function(e,t){return e?1===n.getHandleCount()?g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndOneHandle(t,n.leftHandleWidgetRef.getBoundingClientRectForInteractiveArea()):g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles(t,n.leftHandleWidgetRef.getBoundingClientRectForInteractiveArea(),n.rightHandleWidgetRef.getBoundingClientRectForInteractiveArea(),n.rangeHandleRef.getBoundingClientRect()):1===n.getHandleCount()?g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndOneHandle(t,n.leftHandleWidgetRef.getBoundingClientRectForIcon()):g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles(t,n.leftHandleWidgetRef.getBoundingClientRectForIcon(),n.rightHandleWidgetRef.getBoundingClientRectForIcon())},n.fireHandleDragStartEvents=function(e,t,o){if(n.isSingleHandleBeingDragged(e)){if(n.props.onHandleDragStart&&!isNaN(t)){var i=t+(o||0);n.props.onHandleDragStart(e,i)}}else n.props.onBothHandleDragStart&&n.props.onBothHandleDragStart()},n.fireHandleDragMoveEvents=function(e,t){n.isSingleHandleBeingDragged(n.state.handleBeingDragged)?n.props.onHandleDragMove&&!isNaN(e)&&n.props.onHandleDragMove(n.state.handleBeingDragged,e):!n.props.onBothHandleDragMove||void 0===t||isNaN(e)||isNaN(t)||n.props.onBothHandleDragMove(e,t)},n.fireHandleDragEndEvents=function(e){var t=n.isSingleHandleBeingDragged(e);t&&n.props.onHandleDragEnd?n.props.onHandleDragEnd(e):!t&&n.props.onBothHandleDragEnd&&n.props.onBothHandleDragEnd()},n.setKeyboardFocusOnHandle=function(e){var t;e===p.HandleType.Left?t=n.leftHandleWidgetRef:e===p.HandleType.Right?t=n.rightHandleWidgetRef:e===p.HandleType.Both&&(t=n.rangeHandleRef),t&&t.focus()},n.dragStart=function(e,t,o,i){if(n.containerElementRef){var r=f.SliderHandleContainerCoordinateLogic.convertClientCoordinateIntoProportionOfContainer(t.x,n.containerElementRef.getBoundingClientRect());n.globalPointerEventCapturer&&n.globalPointerEventCapturer.addListeners();var a=n.determineSingleHandleDragOffsetIfNeeded(e,o,r),s={leftHandlePosition:e===p.HandleType.Left?r:n.props.handles.leftHandlePosition,rightHandlePosition:e===p.HandleType.Right?r:n.props.handles.rightHandlePosition};n.setState({handleBeingTouched:i?e:void 0,handleBeingDragged:e,dragOriginInClientCoordinates:t,handlePositionsAtDragStart:s,singleHandleDragOffsetAsProportion:a}),n.fireHandleDragStartEvents(e,r,a),n.setKeyboardFocusOnHandle(e)}},n.dragMove=function(e){if(n.containerElementRef){var t=n.isSingleHandleBeingDragged(n.state.handleBeingDragged);if(t&&n.props.onHandleDragMove){var o=n.state.handleBeingDragged===p.HandleType.Left?n.state.handlePositionsAtDragStart.leftHandlePosition:n.state.handlePositionsAtDragStart.rightHandlePosition,i=f.SliderHandleContainerCoordinateLogic.calculateProportionalPositionWhenDraggingSingleHandle(n.state.dragOriginInClientCoordinates.x,o,e.x,n.containerElementRef.getBoundingClientRect());n.fireHandleDragMoveEvents(i)}else if(!t&&n.props.onBothHandleDragMove){var r=f.SliderHandleContainerCoordinateLogic.calculateProportionalPositionsWhenDraggingBothHandles(n.state.dragOriginInClientCoordinates.x,n.state.handlePositionsAtDragStart.leftHandlePosition,n.state.handlePositionsAtDragStart.rightHandlePosition,e.x,n.containerElementRef.getBoundingClientRect());n.fireHandleDragMoveEvents(r.leftHandlePosition,r.rightHandlePosition)}}},n.dragEnd=function(){if(void 0!==n.state.handleBeingDragged){n.globalPointerEventCapturer&&n.globalPointerEventCapturer.removeListeners();var e=n.state.handleBeingDragged;n.setState({handleBeingTouched:void 0,handleBeingDragged:void 0,dragOriginInClientCoordinates:void 0,handlePositionsAtDragStart:void 0}),n.fireHandleDragEndEvents(e)}},n.setContainerRef=function(e){n.containerElementRef=e,n.globalPointerEventCapturer=new l.GlobalPointerEventCapturer(n.containerElementRef,n.onPointerMove,n.onPointerUp)},n.setLeftHandleWidgetRef=function(e){n.leftHandleWidgetRef=e},n.setRightHandleWidgetRef=function(e){n.rightHandleWidgetRef=e},n.setRangeHandleRef=function(e){n.rangeHandleRef=e},n.onPointerDown=function(e){if(!n.props.disabled&&n.leftHandleWidgetRef&&(2!==n.getHandleCount()||n.rightHandleWidgetRef)){var t=e,o=s.getClientPosition(t),i=n.determineWhichHandleShouldBeDraggedForEvent(s.isTouchEvent(t),o);i&&(e.preventDefault(),e.stopPropagation(),n.dragStart(i.handleType,o,i.directlyOnIcon,s.isTouchEvent(t)))}},n.onPointerMove=function(e){!n.props.disabled&&n.containerElementRef&&(e.preventDefault(),e.stopPropagation(),n.dragMove(s.getClientPosition(e)))},n.onPointerUp=function(e){n.dragEnd(),n.props.disabled||(e.preventDefault(),e.stopPropagation())},n.onHandleKeyDown=function(e){return function(t){n.props.disabled||n.props.onHandleKeyDown&&h.SliderValueLogic.KeysRelevantForManipulatingSlider[t.key]&&(n.props.onHandleKeyDown(e,t.key),t.preventDefault(),t.stopPropagation())}},n.renderLeftHandle=function(){if(isNaN(n.props.handles.leftHandlePosition))return null;var e=n.state.handleBeingDragged===p.HandleType.Left||n.state.handleBeingDragged===p.HandleType.Both,t=n.state.handleBeingTouched===p.HandleType.Left||n.state.handleBeingTouched===p.HandleType.Both,o=1===n.getHandleCount()?u.SliderHandleIconType.Normal:u.SliderHandleIconType.Left;return i.createElement(u.SliderHandleWidget,{ariaAttributes:n.props.handlesAriaAttributes.leftHandleAriaAttributes,ref:n.setLeftHandleWidgetRef,disabled:n.props.disabled,position:n.props.handles.leftHandlePosition,iconType:o,isBeingDragged:e,onKeyDown:n.onHandleKeyDown(p.HandleType.Left),testId:n.props.testId,isBeingTouched:t})},n.renderRightHandle=function(){if(1===n.getHandleCount()||void 0===n.props.handles.rightHandlePosition||isNaN(n.props.handles.rightHandlePosition))return null;var e=n.state.handleBeingDragged===p.HandleType.Right||n.state.handleBeingDragged===p.HandleType.Both,t=n.state.handleBeingTouched===p.HandleType.Right||n.state.handleBeingTouched===p.HandleType.Both;return i.createElement(u.SliderHandleWidget,{ariaAttributes:n.props.handlesAriaAttributes.rightHandleAriaAttributes,ref:n.setRightHandleWidgetRef,disabled:n.props.disabled,iconType:u.SliderHandleIconType.Right,position:n.props.handles.rightHandlePosition,isBeingDragged:e,onKeyDown:n.onHandleKeyDown(p.HandleType.Right),testId:n.props.testId,isBeingTouched:t})},n.handleRangeHandleFocusBlur=function(e){n.props.onRangeHandleFocus&&n.props.onRangeHandleFocus("focus"===e.type)},n.state={},n}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.globalPointerEventCapturer&&this.globalPointerEventCapturer.removeListeners()},t.prototype.renderRangeHandle=function(e){if(this.props.disabled||isNaN(this.props.handles.leftHandlePosition)||1===this.getHandleCount()||!this.props.handles.rightHandlePosition||isNaN(this.props.handles.rightHandlePosition))return null;var t=100*this.props.handles.leftHandlePosition,n=100-100*this.props.handles.rightHandlePosition;return i.createElement("span",{"data-tb-test-id":d.testId(this.props.testId,"RangeHandle"),onBlur:this.handleRangeHandleFocusBlur,onFocus:this.handleRangeHandleFocusBlur,onKeyDown:this.onHandleKeyDown(p.HandleType.Both),ref:this.setRangeHandleRef,style:o.__assign({},e,{left:t+"%",right:n+"%"}),tabIndex:0})},t.prototype.render=function(){var e=d.testId(this.props.testId,"SliderHandleContainer"),t=c.getSliderHandleContainerStyles(),n=t.Container;return r.isEdge&&(n.touchAction="none"),i.createElement(a.PointerEventWrapper,{pointerDown:this.onPointerDown,disabled:this.props.disabled},i.createElement("div",{style:n,onTouchStart:this.onPointerDown,ref:this.setContainerRef,"data-tb-test-id":e},this.renderLeftHandle(),this.renderRangeHandle(t.RangeHandleArea),this.renderRightHandle()))},t}(i.Component);t.SliderHandleContainer=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(7),s=n(6),l=n(3),d=n(20),c=n(22);!function(e){e.Normal="normal",e.Left="left",e.Right="right"}(o=t.SliderHandleIconType||(t.SliderHandleIconType={}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.chooseIconAndStylesForRender=function(){var e=c.getSliderHandleStyles(),t=void 0,r=void 0,a=void 0;switch(n.props.iconType){case o.Left:t=s.SliderLeftHandleIcon,r=e.HandleInteractiveAreaLeft,a=e.HandleIconLeft;break;case o.Right:t=s.SliderRightHandleIcon,r=e.HandleInteractiveAreaRight,a=e.HandleIconRight;break;default:t=s.SliderHandleIcon,r=e.HandleInteractiveArea,a=e.HandleIcon}n.props.disabled&&(r=i.__assign({},r,e.DisabledHandleMixin),a=i.__assign({},a,e.DisabledHandleInnerFocusAreaMixin));var l={active:n.state.isHovered||n.props.isBeingDragged,disabled:n.props.disabled,focus:n.state.isFocused},d=t.icon(l);return{positioningContainerStyle:e.PositioningContainer,pressIndicationBarStyle:e.PressIndicationBar,interactiveAreaStyle:r,imgStyle:a,iconImageDataUrl:d}},n.setImgRef=function(e){n.imgRef=e},n.setInteractiveAreaRef=function(e){n.interactiveAreaRef=e},n.onFocus=function(e){n.setState({isFocused:!n.props.disabled&&e})},n.onHover=function(e){n.props.disabled||n.setState({isHovered:e})},n.state={isHovered:!1,isFocused:!1},n}return i.__extends(t,e),t.prototype.focus=function(){this.imgRef&&this.imgRef.focus()},t.prototype.getBoundingClientRectForIcon=function(){if(this.imgRef){var e=this.imgRef.getBoundingClientRect();return this.props.iconType===o.Left?d.addClientRectRight(e,-1*s.SliderLeftHandleIcon.artworkOffsetFromRightSide):this.props.iconType===o.Right?d.addClientRectLeft(e,s.SliderRightHandleIcon.artworkOffsetFromLeftSide):e}},t.prototype.getBoundingClientRectForInteractiveArea=function(){if(this.interactiveAreaRef)return this.interactiveAreaRef.getBoundingClientRect()},t.prototype.render=function(){var e=l.testId(this.props.testId,"SliderHandle"),t=100*this.props.position,n=this.chooseIconAndStylesForRender(),o=n.positioningContainerStyle,s=n.pressIndicationBarStyle,d=n.interactiveAreaStyle,c=n.imgStyle,p=n.iconImageDataUrl,u=this.props.isBeingDragged&&this.props.isBeingTouched,h=i.__assign({},this.props.ariaAttributes,{"aria-orientation":"horizontal",role:"slider"});return r.createElement(a.InteractiveDomWrapper,{handleHover:this.onHover,handleFocus:this.onFocus},r.createElement("span",{style:i.__assign({},o,{left:t+"%"}),"data-tb-test-id":e},u&&r.createElement("span",{style:s,"data-tb-test-id":e+"-touch-drag-indicator"}),r.createElement("span",{style:d,ref:this.setInteractiveAreaRef}),r.createElement("img",i.__assign({},h,{style:c,src:p,tabIndex:this.props.disabled?void 0:0,onKeyDown:this.props.onKeyDown,ref:this.setImgRef,"data-tb-test-id":l.testId(this.props.testId,"SliderHandleIconArea")}))))},t}(r.Component);t.SliderHandleWidget=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n(34);!function(e){function t(e,t){var n={left:e.x,top:e.y},r=o.doesRectangleContainPoint(t,n);return{handleType:i.HandleType.Left,directlyOnIcon:r}}function n(e,t,n){var r={left:e.x,top:e.y};return o.doesRectangleContainPoint(t,r)?{handleType:i.HandleType.Left,directlyOnIcon:!0}:o.doesRectangleContainPoint(n,r)?{handleType:i.HandleType.Right,directlyOnIcon:!0}:e.x>=t.right&&e.x<=n.left?{handleType:i.HandleType.Both,directlyOnIcon:!1}:e.x<=t.right?{handleType:i.HandleType.Left,directlyOnIcon:!1}:{handleType:i.HandleType.Right,directlyOnIcon:!1}}function r(e,t){var n={left:e.x,top:e.y};if(o.doesRectangleContainPoint(t,n))return{handleType:i.HandleType.Left,directlyOnIcon:!0}}function a(e,t,n,r){var a={left:e.x,top:e.y},s=o.doesRectangleContainPoint(t,a),l=o.doesRectangleContainPoint(n,a),d=o.doesRectangleContainPoint(r,a);if(s&&l){return{handleType:Math.abs(a.left-t.left)<Math.abs(a.left-n.right)?i.HandleType.Left:i.HandleType.Right,directlyOnIcon:!0}}return s?{handleType:i.HandleType.Left,directlyOnIcon:!0}:l?{handleType:i.HandleType.Right,directlyOnIcon:!0}:d?{handleType:i.HandleType.Both,directlyOnIcon:!0}:void 0}e.determineWhichHandleShouldBeDraggedForMouseAndOneHandle=t,e.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles=n,e.determineWhichHandleShouldBeDraggedForTouchAndOneHandle=r,e.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles=a}(t.SliderHandleContainerDragHandleLogic||(t.SliderHandleContainerDragHandleLogic={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(33);!function(e){function t(e,t){var n=e-t.left,i=n/Math.max(1,t.width);return o.clamp(i,0,1)}function n(e,t,n,i){var r=n-e,a=r/i.width,s=t+a;return o.clamp(s,0,1)}function i(e,t,n,o,i){var r=o-e,a=r/i.width,s=t+a,l=n+a,d=n-t;return s<0?{leftHandlePosition:0,rightHandlePosition:d}:l>1?{leftHandlePosition:1-d,rightHandlePosition:1}:{leftHandlePosition:s,rightHandlePosition:l}}e.convertClientCoordinateIntoProportionOfContainer=t,e.calculateProportionalPositionWhenDraggingSingleHandle=n,e.calculateProportionalPositionsWhenDraggingBothHandles=i}(t.SliderHandleContainerCoordinateLogic||(t.SliderHandleContainerCoordinateLogic={}))},function(e,t,n){"use strict";function o(e){var t=[];if(1===e)t.push(.5);else if(e>1)for(var n=e-1,o=0;o<e;o++)t.push(o/n);return t}function i(e){var t=o(e.tickCount),n=t.map(function(e){return 100*e}),i=l.getSliderTickBarStyles();return a.createElement("div",{style:i.Bar,"data-tb-test-id":s.testId(e.testId,"SliderTickBar")},n.map(function(e,t){return a.createElement("span",{key:t,style:r.__assign({},i.Tick,{left:e+"%"})})}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),s=n(3),l=n(22);t.calculateTickProportionalPositions=o,t.SliderTickBarWidget=i},function(e,t,n){"use strict";function o(e){var t,n=s.getSliderTrackStyles();if(e.rangeIndicatorBarPosition){var o=100*e.rangeIndicatorBarPosition.start,l=100*(1-e.rangeIndicatorBarPosition.end),d=e.handleIsBeingDragged?n.RangeIndicatorBarDarkened:e.isRangeHandleFocused?n.RangeIndicatorBarFocused:n.RangeIndicatorBar;t=r.createElement("div",{style:i.__assign({},d,{left:o+"%",right:l+"%"})})}var c;if(e.dataBarPosition){var o=100*e.dataBarPosition.start,l=100*(1-e.dataBarPosition.end),d=e.handleIsBeingDragged?n.DataBarDarkened:e.isRangeHandleFocused?n.DataBarFocused:n.DataBar;c=r.createElement("div",{style:i.__assign({},d,{left:o+"%",right:l+"%"})})}return r.createElement("div",{style:n.Track,"data-tb-test-id":a.testId(e.testId,"SliderTrack")},t,c)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),a=n(3),s=n(22);t.SliderTrackWidget=o},function(e,t,n){"use strict";function o(e){var t=i.__assign({},e,{testId:a.testId(e.testId,"RangeSlider")});return r.createElement(s.SliderBaseWidget,i.__assign({},t))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),a=n(3),s=n(34);t.RangeSliderWidget=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(157),i=n(158),r=n(66),a=function(){function e(){}return e.CreateInstance=function(e){return e.props.activationMode===r.TabActivationMode.Manual?new i.ManualTabActivator(e):new o.AutomaticTabActivator(e)},e}();t.TabActivatorFactory=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(68),r=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.handleKeyDown=function(e,t){var n=this.tabIndexFromKeyDown(e,t.key);-1!==n&&(this.tabsWidget.setActiveIndex(n),i.BaseTabActivator.preventDefaultAndStopPropagation(t))},t}(i.BaseTabActivator);t.AutomaticTabActivator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(68),r=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.handleKeyDown=function(e,t){var n=this.tabIndexFromKeyDown(e,t.key);if(-1!==n)return this.tabsWidget.setFocusedIndex(n),void i.BaseTabActivator.preventDefaultAndStopPropagation(t);var o=this.tabIndexToActivate(t.key);-1!==o&&(this.tabsWidget.setActiveIndex(o),i.BaseTabActivator.preventDefaultAndStopPropagation(t))},t.prototype.tabIndexToActivate=function(e){switch(e){case"Enter":case" ":return this.tabsWidget.state.focusedIndex;default:return-1}},t}(i.BaseTabActivator);t.ManualTabActivator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),a=n(67),s=n(3),l=n(9),d=n(6);!function(e){e[e.none=0]="none",e[e.hovered=1]="hovered",e[e.pressed=2]="pressed"}(o=t.TabMouseInteraction||(t.TabMouseInteraction={}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleTabRef=function(e){n.tabRef=e},n.handleLabelRef=function(e){n.labelRef=e},n.handleMouseEnter=function(){var e=n.labelRef&&l.isElementOverflownX(n.labelRef)?n.props.tabContent.label:void 0;n.setState({mouseInteraction:o.hovered,title:e})},n.handleMouseDown=function(){n.setState({mouseInteraction:o.pressed})},n.handleMouseLeave=function(){n.setState({mouseInteraction:o.none})},n.handleClick=function(){n.setState({mouseInteraction:o.none}),n.props.onClick(n.props.index)},n.handleKeyDown=function(e){n.props.onKeyDown(n.props.index,e)},n.handleFocus=function(){n.props.onFocus(n.props.index)},n.state={mouseInteraction:o.none},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.applyFocus=e.isFocused&&!this.props.isFocused},t.prototype.componentDidUpdate=function(){this.applyFocus&&this.tabRef&&(this.tabRef.focus(),this.applyFocus=!1)},t.prototype.getTabIndicatorStyles=function(){return i.__assign({},a.BaseTabIndicatorStyles,s.conditional(this.isHovered(),a.HoveredTabIndicatorStyles),s.conditional(this.props.isActive,a.ActiveTabIndicatorStyles),s.conditional(this.props.isFocused,a.FocusedTabIndicatorStyles),s.conditional(this.isPressed(),a.PressedTabIndicatorStyles))},t.prototype.isHovered=function(){return this.state.mouseInteraction===o.hovered},t.prototype.isPressed=function(){return this.state.mouseInteraction===o.pressed},t.prototype.render=function(){var e={"aria-controls":this.props.ariaControls,"aria-label":this.props.tabContent.label,"aria-selected":this.props.isActive,id:this.props.id,onBlur:this.props.onBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchEnd:this.handleClick,ref:this.handleTabRef,role:"tab",style:a.GetSingleTabStyles(this.props.flexPercent),tabIndex:this.props.isActive||this.props.isFocused?0:-1,title:this.props.tabContent.title||this.state.title},t=i.__assign({},a.DefaultTabLabelStyles,s.conditional(this.props.isActive&&!!this.props.flexPercent,{fontWeight:"bold"}));return r.createElement("div",i.__assign({},e),r.createElement("div",{style:this.props.tabContainerStyles},r.createElement("div",{style:t},this.renderIcon(),this.renderLabel())),r.createElement("div",{style:this.getTabIndicatorStyles()}))},t.prototype.renderIcon=function(){var e=this.props.tabContent.icon;if(e){var t={"data-tb-test-id":s.testId(this.props.id,"icon"),style:a.TabContentStyle},n="string"==typeof e?r.createElement("img",{src:d.encodeSvg(e)}):e;return r.createElement("div",i.__assign({},t),n)}},t.prototype.renderLabel=function(){var e={"data-tb-test-id":s.testId(this.props.id,"label"),ref:this.handleLabelRef,style:a.LabelStyle};return r.createElement("div",{style:a.TabContentStyle},r.createElement("div",i.__assign({},e),this.props.tabContent.label))},t}(r.PureComponent);t.TabWidget=c},function(e,t,n){"use strict";function o(e){var t={"aria-labelledby":e.ariaLabelledBy,id:e.id,role:"tabpanel",style:e.containerStyle};return r.createElement("div",i.__assign({},t),e.content)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0);t.TabPanel=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i,r=n(1),a=n(0),s=n(19),l=n(3),d=n(2),c=n(4),p=n(14),u=n(69),h=n(6),g=n(11),f=n(3);!function(e){e.Error="error",e.Warning="warning",e.Success="success",e.Info="info"}(i||(i={})),t.ToastType=i;var m=(o={},o[i.Error]={color:"rgb(121,47,60)",backgroundColor:"rgb(248,199,203)"},o[i.Warning]={color:"rgb(198,76,48)",backgroundColor:"rgb(255,214,187)"},o[i.Info]={color:"rgb(15,68,94)",backgroundColor:"rgb(215,236,249)"},o[i.Success]={color:"rgb(3,66,53)",backgroundColor:"rgb(172,229,200)"},o),y=(36-h.ToastCloseButtonIcon.height)/2,v={positioningDiv:{display:"flex",justifyContent:"center",left:0,position:"fixed",right:0,top:0,visibility:"hidden"},toastDiv:{alignItems:"center",boxSizing:"border-box",display:"flex",flexDirection:"row",fontFamily:d.TabStyles.Typography.FontFamily,fontSize:d.TabStyles.Typography.Sizing.Default,minHeight:36,justifyContent:"center",padding:y,paddingLeft:d.TabStyles.Spacing.ExtraLargeSpace,paddingRight:d.TabStyles.Spacing.MediumSpace,position:"relative",transitionProperty:"opacity",visibility:"visible"},actionContainer:{alignItems:"center",display:"flex",flexShrink:0},actionLink:{padding:"0px",marginLeft:d.TabStyles.Spacing.MediumSpace,color:"inherit",fontWeight:"bold",cursor:"pointer",flexShrink:0},closeButton:{marginLeft:d.TabStyles.Spacing.MediumSpace,height:h.ToastCloseButtonIcon.height,minHeight:void 0,minWidth:void 0,width:h.ToastCloseButtonIcon.width,cursor:"pointer"}},b=function(e){function t(n){var o=e.call(this,n)||this;return o.autoDismissTimerId=-1,o.fadeOutTimerId=-1,o.fadeOut=function(){var e=o.shouldAutoDismiss()?t.AutodimissCloseFadeTransitionTimeMS:t.FadeTransitionTimeMS;o.setState({fadeOpacity:0,fadeTransitionTime:e}),o.fadeOutTimerId=window.setTimeout(o.onClose,t.FadeTransitionTimeMS)},o.handleMouseOver=function(){o.shouldAutoDismiss()&&(o.setState({fadeOpacity:1,fadeTransitionTime:t.HoverRestoreFadeTransitionTimeMS}),o.clearTimeouts())},o.handleMouseOut=function(){o.shouldAutoDismiss()&&1===o.state.fadeOpacity&&(o.autoDismissTimerId=window.setTimeout(o.fadeOut,o.props.autoDismissTimeMS))},o.onClose=function(){o.clearTimeouts(),o.props.onCloseRequest()},o.state={fadeOpacity:0,fadeTransitionTime:t.FadeTransitionTimeMS},o}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.setState({fadeOpacity:1,fadeTransitionTime:t.FadeTransitionTimeMS})},0),this.shouldAutoDismiss()&&(this.autoDismissTimerId=window.setTimeout(this.fadeOut,this.props.autoDismissTimeMS))},t.prototype.componentWillUnmount=function(){this.clearTimeouts()},t.prototype.shouldAutoDismiss=function(){return!(this.props.toastType===i.Error||this.props.toastType===i.Warning||this.props.actionMessage||this.props.onAction||this.props.fillFullWidth)&&this.props.autoDismiss},t.prototype.renderCloseButton=function(){var e=this,t=function(t){var n=t.active||t.focus||t.hover?"active":e.props.toastType,o=h.ToastCloseButtonIcon.icon(n);return a.createElement(c.Img,{src:o,draggable:!1})},n={buttonType:p.ButtonType.IconOutline,getContent:t,handleClick:this.fadeOut,style:v.closeButton,testId:"toast-close",title:g.Messages.close()};return a.createElement(p.ButtonWidget,r.__assign({},n))},t.prototype.renderInteractiveLink=function(){if(!this.props.actionMessage||0===this.props.actionMessage.length)return null;var e={onClick:this.props.onAction,style:v.actionLink,text:this.props.actionMessage,testId:this.props.testId};return a.createElement(u.InteractiveLinkWidget,r.__assign({},e))},t.prototype.fadeStyle=function(){return{opacity:this.state.fadeOpacity,transitionDuration:this.state.fadeTransitionTime+"ms",transitionTimingFunction:0===this.state.fadeOpacity?"linear":"ease-in"}},t.prototype.clearTimeouts=function(){clearTimeout(this.autoDismissTimerId),clearTimeout(this.fadeOutTimerId)},t.prototype.render=function(){var e=r.__assign({top:this.props.topLeftYPx},v.toastDiv,m[this.props.toastType],f.conditional(!this.props.fillFullWidth,{left:this.props.topLeftXPx}),this.fadeStyle()),n={"data-tb-test-id":l.testId(this.props.testId,t.ToastContentDivId),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,role:"alert",style:e},o={"data-tb-test-id":l.testId(this.props.testId,t.ToastLabelId)},i={wrapperTestId:this.props.testId,zIndex:this.props.zIndex},d=r.__assign({},v.positioningDiv,f.conditional(!this.props.fillFullWidth&&!!this.props.topLeftXPx,{justifyContent:void 0})),c=r.__assign({},this.props.fillFullWidth?{maxWidth:"100vw",width:"100%"}:{maxWidth:800});return a.createElement(s.StackingComponentWrapper,r.__assign({},i),a.createElement("div",{style:d},a.createElement("div",{style:c},a.createElement("div",r.__assign({},n),a.createElement("div",r.__assign({},o),this.props.message),a.createElement("div",{style:v.actionContainer},this.renderInteractiveLink(),this.renderCloseButton())))))},t.ToastContentDivId="toast-content",t.ToastLabelId="toast-label",t.FadeTransitionTimeMS=300,t.AutodimissCloseFadeTransitionTimeMS=1e3,t.HoverRestoreFadeTransitionTimeMS=30,t.DefaultAutoDissmissTimeMS=5e3,t.defaultProps={autoDismiss:!0,autoDismissTimeMS:t.DefaultAutoDissmissTimeMS},t}(a.Component);t.ToastWidget=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),a=n(163),s=n(23),l=n(166),d=n(24),c=n(11),p=n(167),u=n(9),h=function(e){function t(t){var n=e.call(this,t)||this;return n.headerId=u.generateId(),n.handleOnConfirm=function(e){n.props.onConfirm&&n.props.onConfirm(e)},n.handleOnChange=function(e){n.props.onChange&&e.getTime()!==n.props.selectedDate.getTime()&&n.props.onChange(e)},n.handleFocusedDateChange=function(e){e!==n.state.focusedDate&&n.setState({focusedDate:e})},n.handleClickPrevMonth=function(){n.handleFocusedDateChange(d.getDateWithMonthOffset(n.state.focusedDate,-1))},n.handleClickNextMonth=function(){n.handleFocusedDateChange(d.getDateWithMonthOffset(n.state.focusedDate,1))},n.isDateDisabled=function(e){return n.props.isDateDisabled&&n.props.isDateDisabled(e)},n.state={focusedDate:n.props.selectedDate},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.autofocus){var e=r.findDOMNode(this).querySelectorAll('[tabindex="0"]');e.length>0&&u.timeoutFocus(e[e.length-1])}},t.prototype.componentDidUpdate=function(e){e.selectedDate!==this.props.selectedDate&&this.setState({focusedDate:this.props.selectedDate})},t.prototype.getDisplayedMonthAndYear=function(){return c.Formatters.formatFullMonthAndFullYear(this.state.focusedDate)},t.prototype.render=function(){var e=this.getDisplayedMonthAndYear(),t={id:this.headerId,nextButtonTitle:c.Messages.nextMonth(),onNextClick:this.handleClickNextMonth,onPreviousClick:this.handleClickPrevMonth,prevButtonTitle:c.Messages.previousMonth(),role:"heading",style:s.datePickerHeaderStyle},n={focusedDate:this.state.focusedDate,isDateDisabled:this.isDateDisabled,onChange:this.handleOnChange,onConfirm:this.handleOnConfirm,onFocusedDateChange:this.handleFocusedDateChange,selectedDate:this.props.selectedDate,showWeekNumbers:this.props.showWeekNumbers};return i.createElement("div",{style:s.datePickerWidgetStyle,"data-tb-test-id":this.props.testId},i.createElement(p.CarouselWidget,o.__assign({},t),e),i.createElement("div",{"aria-labelledby":this.headerId,role:"grid","aria-rowcount":-1},i.createElement(l.DatePickerDayOfWeekHeader,{showWeekNumbers:this.props.showWeekNumbers}),i.createElement(a.DatePickerBody,o.__assign({},n))))},t.defaultProps={selectedDate:new Date},t}(i.Component);t.DatePickerWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(164),a=n(23),s=n(24),l=n(18),d=n(9),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasFocus:!1},t.handleRef=function(e){t.element=e},t.handleKeyDown=function(e){var n=s.getStartDayOfWeek(t.props.showWeekNumbers),o=e.key;if(l.isCtrl(e))switch(o){case"Home":t.handleFocusedDateChange(s.getFirstDayOfMonth(t.props.focusedDate));break;case"End":t.handleFocusedDateChange(s.getLastDayOfMonth(t.props.focusedDate));break;default:return}else if(e.altKey)switch(o){case"PageDown":t.handleFocusedDateChange(s.getDateWithYearOffset(t.props.focusedDate,1));break;case"PageUp":t.handleFocusedDateChange(s.getDateWithYearOffset(t.props.focusedDate,-1));break;default:return}else switch(o){case"ArrowRight":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,1));break;case"ArrowLeft":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,-1));break;case"ArrowUp":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,-7));break;case"ArrowDown":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,7));break;case"PageDown":t.handleFocusedDateChange(s.getDateWithMonthOffset(t.props.focusedDate,1));break;case"PageUp":t.handleFocusedDateChange(s.getDateWithMonthOffset(t.props.focusedDate,-1));break;case"Home":t.handleFocusedDateChange(s.getFirstDayOfWeek(t.props.focusedDate,n));break;case"End":t.handleFocusedDateChange(s.getLastDayOfWeek(t.props.focusedDate,n));break;default:return}e.preventDefault(),e.stopPropagation()},t.handleKeyUp=function(e){switch(e.key){case" ":t.props.isDateDisabled&&t.props.isDateDisabled(t.props.focusedDate)||t.props.onChange(t.props.focusedDate);break;case"Enter":t.props.isDateDisabled&&t.props.isDateDisabled(t.props.focusedDate)||t.props.onConfirm(t.props.focusedDate);break;default:return}e.preventDefault(),e.stopPropagation()},t.handleFocusedDateChange=function(e){t.state.hasFocus||t.setState({hasFocus:!0}),t.props.onFocusedDateChange(e)},t.handleBlur=function(e){var n=d.findBlurRelatedTarget(e);t.element&&!t.element.contains(n)&&t.state.hasFocus&&t.setState({hasFocus:!1})},t}return o.__extends(t,e),t.prototype.render=function(){for(var e=s.getStartDayOfWeek(this.props.showWeekNumbers),t=s.getFirstDisplayedDate(this.props.focusedDate,e),n=[],l=0;l<6;l++){var d={bodyHasFocus:this.state.hasFocus,focusedDate:this.props.focusedDate,isDateDisabled:this.props.isDateDisabled,onChange:this.props.onChange,onFocusedDateChange:this.handleFocusedDateChange,selectedDate:this.props.selectedDate,showWeekNumbers:this.props.showWeekNumbers,startDate:s.getDateWithDayOffset(t,7*l)};n.push(i.createElement(r.DatePickerRow,o.__assign({key:l},d)))}return i.createElement("div",{style:a.datePickerBodyStyle,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.handleRef},n)},t}(i.PureComponent);t.DatePickerBody=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(165),a=n(24),s=n(11),l=n(23),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getCell=function(e){var t=this,n=a.getDateWithDayOffset(this.props.startDate,e),l=this.props.isDateDisabled&&this.props.isDateDisabled(n),d=n.getMonth()===this.props.focusedDate.getMonth(),c=a.areSameDates(n,this.props.selectedDate),p=a.areSameDates(n,new Date),u=a.areSameDates(n,this.props.focusedDate),h=u&&this.props.bodyHasFocus,g=function(){return t.props.onFocusedDateChange(n)},f=function(){d||t.props.onFocusedDateChange(n),l||t.props.onChange(n)},m=s.Formatters.formatFullDate(n),y=this.props.showWeekNumbers?""+s.Messages.weekNumber({weekNum:a.getISOWeekNum(this.props.startDate).toString()}):"",v={"aria-label":(m+" "+y).trim(),isDisabled:l,isFocused:h,isInCurrMonth:d,isSelected:c,isTabbable:u,isToday:p,onClick:f,onFocus:g};return i.createElement(r.DatePickerCell,o.__assign({key:e},v),n.getDate())},t.prototype.render=function(){for(var e=[],t=0;t<7;t++)e.push(this.getCell(t));if(this.props.showWeekNumbers){var n=a.getISOWeekNum(this.props.startDate),r=s.Messages.weekNumber({weekNum:n.toString()}),d={style:l.datePickerCellStyles.isoWeekNum,"aria-label":r,role:"gridcell"};e.unshift(i.createElement("div",o.__assign({},d,{key:"iso-week"}),n))}return i.createElement("div",{style:{display:"flex"},role:"row"},e)},t}(i.PureComponent);t.DatePickerRow=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(23),a=n(13),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRef=function(e){t.element=e},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.syncFocus()},t.prototype.componentDidUpdate=function(){this.syncFocus()},t.prototype.syncFocus=function(){this.element&&this.props.isFocused&&this.element.focus()},t.prototype.getStyle=function(e,t,n,i){var a;return a=t?i&&n?r.datePickerCellStyles.todaySelected:i?r.datePickerCellStyles.today:n?r.datePickerCellStyles.selected:r.datePickerCellStyles.default:r.datePickerCellStyles.inOtherMonths,e&&(a=o.__assign({},a,r.datePickerCellStyles.disabled)),a},t.prototype.render=function(){var e=this.props,t=e.isInCurrMonth,n=e.isDisabled,r=e.isToday,s=e.isSelected,l=e.isTabbable,d=this.getStyle(n,t,s,r),c=t?l?0:-1:void 0,p={"aria-label":this.props["aria-label"],"aria-selected":s,onFocus:this.props.onFocus,role:"gridcell",style:d,tabIndex:c};return i.createElement(a.PointerEventWrapper,{pointerClick:this.props.onClick},i.createElement("div",o.__assign({},p,{ref:this.handleRef}),this.props.children))},t}(i.PureComponent);t.DatePickerCell=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(23),a=n(24),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getDayOfWeekHeader=function(){var e=a.getStartDayOfWeek(this.props.showWeekNumbers),t=a.getLocalizedDaysOfWeek(e);return this.props.showWeekNumbers&&t.unshift("#"),t},t.prototype.render=function(){var e=this,t=[];return this.getDayOfWeekHeader().forEach(function(n,o){var a=e.props.showWeekNumbers&&0===o?r.datePickerCellStyles.isoWeekNumColHeader:r.datePickerCellStyles.dayOfWeekColHeader;t.push(i.createElement("div",{key:o,style:a,role:"columnheader"},n))}),i.createElement("div",{style:r.datePickerDayOfWeekHeaderStyle,role:"rowheader"},t)},t}(i.Component);t.DatePickerDayOfWeekHeader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(6),a=n(4),s=n(14),l={alignItems:"center",display:"flex",justifyContent:"space-between"},d={height:30,width:30},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getContent=function(e){return function(t){var n={draggable:!1,height:e.height,src:r.encodeSvg(e.icon(t)),width:e.width};return i.createElement(i.Fragment,null,i.createElement(a.Img,o.__assign({},n)))}},t.prototype.render=function(){var e={buttonType:s.ButtonType.Icon,getContent:this.getContent(r.StepperLeftIcon),handleClick:this.props.onPreviousClick,style:d,testId:"stepper-left",title:this.props.prevButtonTitle},t={buttonType:s.ButtonType.Icon,getContent:this.getContent(r.StepperRightIcon),handleClick:this.props.onNextClick,style:d,testId:"stepper-right",title:this.props.nextButtonTitle};return i.createElement("div",{style:o.__assign({},l,this.props.style)},i.createElement(s.ButtonWidget,o.__assign({},e)),i.createElement("span",{id:this.props.id,role:this.props.role,"aria-live":"assertive","aria-atomic":"true"},this.props.children),i.createElement(s.ButtonWidget,o.__assign({},t)))},t}(i.PureComponent);t.CarouselWidget=c},function(e,t,n){"use strict";function o(e,t){return t?e.focus?a.Focus:e.disabled?a.WhiteDisabled:e.active?a.White:e.hover?a.WhiteTransparentLineHover:a.WhiteTransparentLine:e.focus?a.Focus:e.disabled?a.L9Disabled:e.active?a.L9:e.hover?a.L8:a.L6}function i(e,t){return e?t?s.InvertedDisabled:s.Disabled:t?s.InvertedPrimary:s.Primary}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=r.TabStyles.Colors,s=r.TabStyles.Typography.Color;t.getBorderColor=o,t.getFontColor=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(15),a=n(25),s=n(71);t.DropdownButtonType=s.DropdownButtonType;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.close=null,t.typeAheadQuery="",t.typeAheadTimeoutHandle=0,t.handleOpen=function(e){t.close=e},t.handleClose=function(){t.close=null},t.handleKeyDown=function(e){if(!t.props.disabled){var n=t.props.list.props.items,o=a.findItemWithValue(n,t.props.value);switch(e.key){case"Home":o=a.findSelectableItemIndex(n,-1,1);break;case"End":o=a.findSelectableItemIndex(n,n.length,-1);break;case"ArrowUp":o=a.findSelectableItemIndex(n,o,-1);break;case"ArrowDown":o=a.findSelectableItemIndex(n,o,1);break;default:return void(t.props.onKeyDown&&t.props.onKeyDown(e))}e.preventDefault(),e.stopPropagation();var i=n[o].value;i!==t.props.value&&t.handleSelect(i)}},t.handleKeyPress=function(e){function n(e){var t=i+(e.length>1?0:1);return r.findIndex(o,function(t){return a.isSelectableItem(t)&&0===t.value.toLowerCase().indexOf(e.toLowerCase())},t)}if(!t.props.disabled&&" "!==e.key){window.clearTimeout(t.typeAheadTimeoutHandle),t.typeAheadTimeoutHandle=window.setTimeout(t.resetQuery,500),t.typeAheadQuery+=e.key;var o=t.props.list.props.items,i=r.findIndex(o,function(e){return e.value===t.props.value}),s=n(t.typeAheadQuery);s<0&&(s=n(e.key)),s>=0&&i!==s&&(t.handleSelect(o[s].value),e.preventDefault(),e.stopPropagation())}},t.handleSelect=function(e){t.close&&(t.close(),t.handleClose()),t.props.onChange&&t.props.onChange(e)},t.resetQuery=function(){t.typeAheadQuery=""},t.renderPopupContent=function(){return i.cloneElement(t.props.list,{onSelect:t.handleSelect,selectOnEnterKey:!0})},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=(e.list,e.onChange,e.value),r=o.__rest(e,["children","list","onChange","value"]);return i.createElement(s.DropdownButton,o.__assign({onClose:this.handleClose,onOpen:this.handleOpen,renderPopupContent:this.renderPopupContent},r,{"aria-haspopup":"listbox",focusOnClose:!0,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress}),t||n)},t}(i.Component);t.SingleSelectDropdown=l},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(76),i=(n.n(o),n(172)),r=n(77),a=function(){return o.create(void 0,!0)},s=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var a=Object(i.a)(r.b.apply(void 0,t)).result;n._freeStyle.registerRule(e,a),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=n._freeStyle,i=0,r=e;i<r.length;i++){var a=r[i];o.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=Object(i.b)(e),o=t.keyframes,r=t.$debugName,a=n._freeStyle.registerKeyframes(o,r);return n._styleUpdated(),a},this.reinit=function(){var e=a();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t=Object.getOwnPropertyNames(e),o={},i=0,r=t;i<r.length;i++){var a=r[i],s=e[a];s&&(s.$debugName=a,o[a]=n.style(s))}return o};var o=a();this._autoGenerateTag=t,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;Object(r.d)(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e.prototype.style=function(){var e=this._freeStyle,t=Object(i.a)(r.b.apply(void 0,arguments)),n=t.result,o=t.debugName,a=o?e.registerStyle(n,o):e.registerStyle(n);return this._styleUpdated(),a},e}()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){f&&h&&(f=!1,h.length?g=h.concat(g):m=-1,g.length&&s())}function s(){if(!f){var e=i(a);f=!0;for(var t=g.length;t;){for(h=g,g=[];++m<t;)h&&h[m].run();m=-1,t=g.length}h=null,f=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var c,p,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var h,g=[],f=!1,m=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new l(e,t)),1!==g.length||f||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=d,u.addListener=d,u.once=d,u.off=d,u.removeListener=d,u.removeAllListeners=d,u.emit=d,u.prependListener=d,u.prependOnceListener=d,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){var t={},n="";for(var i in e){var a=e[i];if("$unique"===i)t[r.IS_UNIQUE]=a;else if("$nest"===i){var s=a;for(var l in s){var d=s[l];t[l]=o(d).result}}else"$debugName"===i?n=a:t[i]=a}return{result:t,debugName:n}}function i(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var o=e[n];"$debugName"===n?t.$debugName=o:t.keyframes[n]=o}return t}t.a=o,t.b=i;var r=n(76);n.n(r)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(11),a=n(78),s=n(25),l=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=t.defaultStateFor(n.props),n.handleFilterChange=function(e){var t=s.defaultItemFilter(n.props.items,e);0===t.length&&t.push({value:r.Messages.noMatches(),disabled:!0}),n.setState({searchText:e,filteredItems:t})},n}return o.__extends(t,e),t.defaultStateFor=function(e){return{filteredItems:e.items,searchText:""}},t.prototype.componentDidUpdate=function(e){e.items!==this.props.items&&this.handleFilterChange(this.state.searchText)},t.prototype.render=function(){return i.createElement(a.FilteringList,o.__assign({},this.props,{items:this.state.filteredItems,onFilterChange:this.handleFilterChange,searchText:this.state.searchText}))},t}(i.Component);t.LocallyFilteringList=l}])});!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("@tableau/widgets")):"function"==typeof define&&define.amd?define(["react","@tableau/widgets"],e):"object"==typeof exports?exports.Cancel=e(require("react"),require("@tableau/widgets")):t.Cancel=e(t.React,t.SharedWidgets)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.WaitingComponent=r.WaitingComponent},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3),s=n(8),a=n(9),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e}return r(e,t),e.prototype.render=function(){var t=this.props.title,e=this.props.message,n=void 0===this.props.showSpinner||this.props.showSpinner,r=void 0===this.props.showButton||this.props.showButton,c=void 0===this.props.buttonType?s.ButtonType.Text:this.props.buttonType,u=this.props.buttonLabel||a.Messages.cancel(),f={fontSize:"24px"};return o.createElement("div",{className:i.cancelContainer},t?this.renderItem(o.createElement(s.InputLabelWidget,{testId:"title",style:f},t)):null,n?this.renderItem(o.createElement(s.ActivitySpinnerWidget,{testId:"cancelSpinner"})):null,e?this.renderItem(o.createElement(s.InputLabelWidget,{testId:"message"},e)):null,r?this.renderItem(o.createElement(s.ButtonWidget,{handleClick:this.props.onButtonClick,testId:"cancelButton",buttonType:c,children:u,disabled:this.props.disableButton})):null)},e.prototype.renderItem=function(t){return o.createElement("div",null,t)},e}(o.PureComponent);e.WaitingComponent=c},function(e,n){e.exports=t},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0};o.transform=void 0,o.insertInto=void 0;n(6)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(5)(!1),e.push([t.i,".WaitingComponent__cancelContainer__3MKgw {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.WaitingComponent__cancelContainer__3MKgw > div {\n  margin: 6px 0px;\n}\n",""]),e.locals={cancelContainer:"WaitingComponent__cancelContainer__3MKgw"}},function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(f(r.parts[i],e))}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(f(r.parts[i],e));h[r.id]={id:r.id,refs:1,parts:s}}}}function o(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],a=i[1],c=i[2],u=i[3],f={css:a,media:c,sourceMap:u};r[s]?r[s].parts.push(f):n.push(r[s]={id:s,parts:[f]})}return n}function i(t,e){var n=b(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=w[w.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=b(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function a(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),u(e,t.attrs),i(t,e),e}function c(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",u(e,t.attrs),i(t,e),e}function u(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function f(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var u=g++;n=y||(y=a(e)),r=l.bind(null,n,u,!1),o=l.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),r=d.bind(null,n,e),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=p.bind(null,n),o=function(){s(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function p(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=x(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var h={},v=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),m=function(t){return document.querySelector(t)},b=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=m.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),y=null,g=0,w=[],x=n(7);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=v()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return r(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var a=n[s],c=h[a.id];c.refs--,i.push(c)}if(t){r(o(t,e),e)}for(var s=0;s<i.length;s++){var c=i[s];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete h[c.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o))return t;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}Object.defineProperty(e,"__esModule",{value:!0}),e.LocaleData={get:function(){return r().localeData}};var o=function(t,e){return r().msg.formatMessage(t,e)};e.Messages={cancel:function(){return o("@tableau__cancel/cancel")}}}])});!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tableau/browser-support"),require("jquery"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["@tableau/browser-support","jquery","react","react-dom"],t):"object"==typeof exports?exports.EventUtils=t(require("@tableau/browser-support"),require("jquery"),require("react"),require("react-dom")):e.EventUtils=t(e.BrowserSupport,e.$,e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=14)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.IsNullOrUndefined=function(e){return null===e||void 0===e},e.CloneObject=function(e){var t=JSON.stringify(e,function(e,t){return t instanceof Uint32Array||t instanceof Float64Array||t instanceof Float32Array?Array.prototype.slice.call(t):t});return JSON.parse(t)},e.ClearTimeout=function(t){return e.IsNullOrUndefined(t)||window.clearTimeout(t),null},e}();t.MiscUtil=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){throw new Error("Uninitialized EventUtils module use.")},i=function(){function e(){}return Object.defineProperty(e,"IsEmbedded",{get:function(){return e.isEmbedded},set:function(t){e.isEmbedded=t},enumerable:!0,configurable:!0}),e.isEmbedded=r,e}();t.BootstrapUtility=i;var o=function(){function e(){}return Object.defineProperty(e,"WebAuthoringDragAggregation",{get:function(){return e.webAuthoringDragAggregation},set:function(t){e.webAuthoringDragAggregation=t},enumerable:!0,configurable:!0}),e.webAuthoringDragAggregation=r,e}();t.FeatureFlags=o;var s=function(){function e(){}return Object.defineProperty(e,"IsMobile",{get:function(){return e.isMobile},set:function(t){e.isMobile=t},enumerable:!0,configurable:!0}),e.isMobile=r,e}();t.TsConfig=s;var a=function(){function e(){}return Object.defineProperty(e,"DebugTools",{get:function(){return e.debugTools},set:function(t){e.debugTools=t},enumerable:!0,configurable:!0}),e.debugTools=r,e}();t.FeatureParam=a;var u=function(){function e(){}return Object.defineProperty(e,"Debug",{get:function(){return e.debug},set:function(t){e.debug=t},enumerable:!0,configurable:!0}),e.debug=function(e){},e}();t.Logger=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){function t(e,t){return e[t]}function n(e,t,n){e[t]=n}e.GetField=t,e.SetField=n}(r||(r={})),t.TypeUtil=r},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(3),s=n(10),a=n(0),u=n(13),l=n(28),c=n(29),p=n(2),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.item=function(e){return this[e]},t}(Array),d=function(){function e(t,n,r){if(void 0===r&&(r=null),this.originalEvent=t,this.reactEvent=r,this.type=t.type,this.timeStamp=t.timeStamp,this.keyCode=p.TypeUtil.GetField(t,"keyCode"),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.shiftKey=t.shiftKey,this.clientX=p.TypeUtil.GetField(t,"clientX"),this.clientY=p.TypeUtil.GetField(t,"clientY"),a.MiscUtil.IsNullOrUndefined(t.touches)){var i=new f;i[0]=t,this.targetTouches="mouseup"===t.type?new f:i,this.touches=this.targetTouches,this.changedTouches=new f,this.changedTouches[0]=t,this.currentTarget=t.currentTarget,this.target=t.target}else{this.touches=t.touches,this.targetTouches=t.targetTouches,this.changedTouches=t.changedTouches;var o=t.target;this.target=3===o.nodeType?o.parentNode:o,this.currentTarget=n}var s=this.touches.length;for(this.touchesById=new Array(s);s>0;){s-=1;var u=this.touches[s].identifier||e.MouseIdentifier;this.touchesById[u]=this.touches[s]}for(s=this.changedTouches.length;s>0;){s-=1;var u=this.changedTouches[s].identifier||e.MouseIdentifier;this.touchesById[u]=this.changedTouches[s]}}return Object.defineProperty(e.prototype,"IsMouseEvent",{get:function(){return 1===this.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsTouchEvent",{get:function(){return 2===this.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsStartEvent",{get:function(){return 0===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsMoveEvent",{get:function(){return 1===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsOutEvent",{get:function(){return 3===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsEndEvent",{get:function(){return 2===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsScrollEvent",{get:function(){return 4===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsRightClickEvent",{get:function(){return"contextmenu"===this.type&&1===this.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsLeftMouseEvent",{get:function(){if(this.IsMouseEvent){if("left"===this.RetrieveMouseButton())return!o.BrowserSupport.IsMac()||!this.ctrlKey}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsRightMouseEvent",{get:function(){if(this.IsMouseEvent){var e=this.RetrieveMouseButton();if("right"===e)return!0;if("left"===e&&o.BrowserSupport.IsMac()&&this.IsCtrlKey)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsCtrlKey",{get:function(){return o.BrowserSupport.IsMac()?this.metaKey:this.ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GestureInfo",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.AllTouchesShareCurrentTarget=function(){var e=this.touches[0].target,t=this.touches[1].target;if(!(e instanceof Element&&t instanceof Element))return!1;for(var n=document.body,r=this.currentTarget,i=!1;!i&&!a.MiscUtil.IsNullOrUndefined(e)&&!a.MiscUtil.IsNullOrUndefined(t);)i=!0,e!==r&&e!==n&&e instanceof Element&&(e=e.parentNode,i=!1),t!==r&&t!==n&&t instanceof Element&&(t=t.parentNode,i=!1),e===t&&(i=!0);return e===t},Object.defineProperty(e,"AllHandledEvents",{get:function(){return i.map(l.NormalizedEventBuilder.HandledEvents,function(e,t){return t})},enumerable:!0,configurable:!0}),e.Create=function(e,t,n){return void 0===n&&(n=null),l.NormalizedEventBuilder.CreateNormalizedEvent(e,t,n)},e.prototype.RetrieveMouseButton=function(){return this.IsMoveEvent?s.EventRecognizer.CurrentGlobalMouseButton:u.MouseEventUtil.GetMouseButtonEnum(this.originalEvent)},e.prototype.GetSelectAction=function(){var e=c.SelectAction.Simple,t=this.IsCtrlKey;return this.shiftKey&&(e=c.SelectAction.Range),t&&(e=c.SelectAction.Toggle),e},e.prototype.preventDefault=function(){a.MiscUtil.IsNullOrUndefined(p.TypeUtil.GetField(this.originalEvent,"preventDefault"))||this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){a.MiscUtil.IsNullOrUndefined(p.TypeUtil.GetField(this.originalEvent,"stopPropagation"))||this.originalEvent.stopPropagation(),a.MiscUtil.IsNullOrUndefined(this.reactEvent)||this.reactEvent.stopPropagation()},e.prototype.get_IsRightMouseEvent=function(){return this.IsRightMouseEvent},e.prototype.get_GestureInfo=function(){return this.GestureInfo},e.prototype.get_IsMouseEvent=function(){return this.IsMouseEvent},e.prototype.get_IsTouchEvent=function(){return this.IsTouchEvent},e.prototype.get_IsStartEvent=function(){return this.IsStartEvent},e.prototype.get_IsMoveEvent=function(){return this.IsMoveEvent},e.prototype.get_IsOutEvent=function(){return this.IsOutEvent},e.prototype.get_IsEndEvent=function(){return this.IsEndEvent},e.prototype.get_IsScrollEvent=function(){return this.IsScrollEvent},e.prototype.get_IsRightClickEvent=function(){return this.IsRightClickEvent},e.prototype.get_IsLeftMouseEvent=function(){return this.IsLeftMouseEvent},e.prototype.get_IsCtrlKey=function(){return this.IsCtrlKey},e.MouseIdentifier=0,e}();t.NormalizedEvent=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(7),o=n(0),s=n(8),a=n(16),u=function(){function e(t,n,r,s){this.slop=5,this.numTouches=1,this.type="gesture",this.isPotentialPress=!1,this.isActivePress=!1,o.MiscUtil.IsNullOrUndefined(n)||(this.type=n),o.MiscUtil.IsNullOrUndefined(r)||(this.slop=r?e.DefaultSlop:0),o.MiscUtil.IsNullOrUndefined(s)||(this.numTouches=s),this.Config=new i.EventHandleSpec,this.Update(t)}return Object.defineProperty(e.prototype,"DataAttributeName",{get:function(){return e.DataAttributePrefix+this.type.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ZoomAdjustedSlop",{get:function(){var e=a.ZoomScaleUtil.GetScaleSync();return Math.round(this.slop/e)},enumerable:!0,configurable:!0}),e.prototype.Update=function(e){o.MiscUtil.IsNullOrUndefined(e)||(r.extend(this.Config,e),r(this.Config.DomElement).data(this.DataAttributeName,this))},e.prototype.Fire=function(e,t,n){if(this.Config.IsHandling(e)){var i=t;r.extend(i,n),i.gestureName=this.type.toString(),i.callbackName=e;s.TableauEventHandler.GetHandler(this.Config,e)(i)}},e.prototype.dispose=function(){this.Cancel(),r(this.Config.DomElement).removeData(this.DataAttributeName)},e.FromHtml=function(t,n){return r(t).data(e.DataAttributePrefix+n.toString())},e.DefaultSlop=5,e.DoubleTapTime=390,e.PotentialPressTime=500,e.PressTime=750,e.DataAttributePrefix="tab-",e}();t.Gesture=u;var l=function(){function e(){}return e}();t.GestureEventInfo=l},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=function(){function e(){this.firstTouch=void 0,this.touchMove=void 0,this.lastTouch=void 0,this.cancelPotentialDoubleTap=void 0,this.tap=void 0,this.doubleTap=void 0,this.potentialPress=void 0,this.cancelPotentialPress=void 0,this.press=void 0,this.pressEnd=void 0,this.rightClick=void 0,this.tapAndHalf=void 0,this.hover=void 0,this.dragStart=void 0,this.dragMove=void 0,this.dragEnd=void 0,this.pressDragStart=void 0,this.pressDragMove=void 0,this.pressDragEnd=void 0,this.pinchStart=void 0,this.pinchMove=void 0,this.pinchEnd=void 0,this.doublePressDragStart=void 0,this.doublePressDragMove=void 0,this.doublePressDragEnd=void 0,this.holdTapStart=void 0,this.holdTapTap=void 0,this.holdTapEnd=void 0,this.domElem=void 0}return Object.defineProperty(e.prototype,"DomElement",{get:function(){return this.domElem},set:function(e){this.domElem=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HoverDelay",{get:function(){return this.hoverDelay},set:function(e){this.hoverDelay=e},enumerable:!0,configurable:!0}),e.prototype.IsHandling=function(e){var t=this,n=i.TypeUtil.GetField(t,e);return!r.MiscUtil.IsNullOrUndefined(n)},e.prototype.IsUsingHover=function(){return this.IsHandling("hover")||this.IsHandling("moving")},e.prototype.UsingPressDrag=function(){return this.IsHandling("pressDragStart")||this.IsHandling("pressDragMove")||this.IsHandling("pressDragEnd")||this.IsHandling("doublePressDragStart")||this.IsHandling("doublePressDragMove")||this.IsHandling("doublePressDragEnd")},e.prototype.SetHandler=function(e,t){i.TypeUtil.SetField(this,e,t)},e.prototype.RemoveHandler=function(e){i.TypeUtil.SetField(this,e,null)},e}();t.EventHandleSpec=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(15),o=n(24),s=n(11),a=n(7),u=n(10),l=n(1),c=n(0),p=n(4),f=n(2),d=function(){function e(t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.subscriptionHandle=null,c.MiscUtil.IsNullOrUndefined(t)||c.MiscUtil.IsNullOrUndefined(a.EventHandleSpec)||(this.config=n||new a.EventHandleSpec,this.config.DomElement=t,this.ConfigureDomElem(t),this.SetupEventRecognizer(this.config),this.MakeConnections(t),e.RaiseTableauEventHandlerCreated(this))}return Object.defineProperty(e.prototype,"DomElement",{get:function(){return this.config.DomElement},enumerable:!0,configurable:!0}),e.prototype.SetupEventRecognizer=function(e){this.eventRecognizer=new u.EventRecognizer(e),this.eventRecognizer.SetupPressDrag(e)},e.prototype.suppressHover=function(){this.config.IsUsingHover()&&this.eventRecognizer.suppressHover()},e.prototype.unsuppressHover=function(){this.config.IsUsingHover()&&this.eventRecognizer.unsuppressHover()},e.prototype.CancelHover=function(){this.config.IsUsingHover()&&this.eventRecognizer.CancelHover()},e.prototype.GetHandledEvents=function(){for(var e=new Array,t=this.config,n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=f.TypeUtil.GetField(t,i);c.MiscUtil.IsNullOrUndefined(o)||"function"!=typeof o||e.push(i)}return e},e.prototype.Update=function(e){$.extend(this.config,e),this.eventRecognizer.UpdateAllGestures(this.config),this.eventRecognizer.SetupPressDrag(this.config)},e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){if(e.RaiseTableauEventHandlerToBeDisposed(this),!c.MiscUtil.IsNullOrUndefined(this.subscriptionHandle)&&!c.MiscUtil.IsNullOrUndefined(this.subscriptionHandle.DomElement)&&!c.MiscUtil.IsNullOrUndefined(this.subscriptionHandle.EventHandler))for(var t=0,n=p.NormalizedEvent.AllHandledEvents;t<n.length;t++){var r=n[t];this.subscriptionHandle.DomElement.removeEventListener(r.toString(),this.subscriptionHandle.EventHandler)}this.eventRecognizer.dispose()},e.GetHandler=function(e,t){return f.TypeUtil.GetField(e,t)},e.prototype.ConfigureDomElem=function(e){var t=f.TypeUtil.GetField(e.style,"user-select"),n=f.TypeUtil.GetField(e.style,"-webkit-user-select");"input"===e.tagName.toLowerCase()||!c.MiscUtil.IsNullOrUndefined(t)&&""!==t||!c.MiscUtil.IsNullOrUndefined(n)&&""!==n||f.TypeUtil.SetField(e.style,"-webkit-user-select","none"),f.TypeUtil.SetField(e.style,"-webkit-touch-callout","none"),f.TypeUtil.SetField(e.style,"-webkit-tap-highlight-color","transparent"),f.TypeUtil.SetField(e.style,"-ms-touch-action","none")},e.prototype.MultiTouchWithDifferentTargetElement=function(e){return e.touches.length>1&&!e.AllTouchesShareCurrentTarget()&&(this.eventRecognizer.CancelAllGestures(),!0)},e.prototype.handler=function(e){var t=!l.TsConfig.IsMobile()&&e.IsTouchEvent,n=s.DomUtil.HandleTouchEvents(e.target);t&&!n||(t&&n&&"preventDefault"in e.originalEvent&&e.originalEvent.preventDefault(),this.MultiTouchWithDifferentTargetElement(e)||this.eventRecognizer.HandleEvent(e))},e.prototype.MakeConnections=function(e){var t=this,n=function(e){var n=p.NormalizedEvent.Create(e,t.config.DomElement);t.handler(n)};this.subscriptionHandle=new o.DomSubscriptionHandle(e,n);for(var i=0,s=p.NormalizedEvent.AllHandledEvents;i<s.length;i++){var a=s[i];r.BrowserSupport.IsIE()?e.addEventListener(a.toString(),n,!1):e.addEventListener(a.toString(),n,{capture:!1,passive:!1})}},e.add_TableauEventHandlerCreated=function(t){e.TableauEventHandlerCreated.add(t)},e.remove_TableauEventHandlerCreated=function(t){e.TableauEventHandlerCreated.remove(t)},e.add_TableauEventHandlerToBeDisposed=function(t){e.TableauEventHandlerToBeDisposed.add(t)},e.remove_TableauEventHandlerToBeDisposed=function(t){e.TableauEventHandlerToBeDisposed.remove(t)},e.RaiseTableauEventHandlerCreated=function(t){l.FeatureParam.DebugTools()&&null!==e.TableauEventHandlerCreated&&e.TableauEventHandlerCreated.invoke(t)},e.RaiseTableauEventHandlerToBeDisposed=function(t){l.FeatureParam.DebugTools()&&null!==e.TableauEventHandlerToBeDisposed&&e.TableauEventHandlerToBeDisposed.invoke(t)},e.TableauEventHandlerCreated=new i.Delegate,e.TableauEventHandlerToBeDisposed=new i.Delegate,e}();t.TableauEventHandler=d},function(e,t,n){(function(e,n){var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=o._,a=Array.prototype,u=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,p=a.slice,f=u.toString,d=u.hasOwnProperty,h=Array.isArray,v=Object.keys,g=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};void 0===t||t.nodeType?o._=y:(void 0!==n&&!n.nodeType&&n.exports&&(t=n.exports=y),t._=y),y.VERSION="1.9.0";var b,E=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},M=function(e,t,n){return y.iteratee!==b?y.iteratee(e,t):null==e?y.identity:y.isFunction(e)?E(e,t,n):y.isObject(e)&&!y.isArray(e)?y.matcher(e):y.property(e)};y.iteratee=b=function(e,t){return M(e,t,1/0)};var T=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},I=function(e){if(!y.isObject(e))return{};if(g)return g(e);m.prototype=e;var t=new m;return m.prototype=null,t},U=function(e){return function(t){return null==t?void 0:t[e]}},O=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},P=Math.pow(2,53)-1,S=U("length"),_=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=P};y.each=y.forEach=function(e,t,n){t=E(t,n);var r,i;if(_(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=M(t,n);for(var r=!_(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var H=function(e){var t=function(t,n,r,i){var o=!_(t)&&y.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var u=o?o[a]:a;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,E(n,i,4),r,o)}};y.reduce=y.foldl=y.inject=H(1),y.reduceRight=y.foldr=H(-1),y.find=y.detect=function(e,t,n){var r=_(e)?y.findIndex:y.findKey,i=r(e,t,n);if(void 0!==i&&-1!==i)return e[i]},y.filter=y.select=function(e,t,n){var r=[];return t=M(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(M(t)),n)},y.every=y.all=function(e,t,n){t=M(t,n);for(var r=!_(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=M(t,n);for(var r=!_(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return _(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=T(function(e,t,n){var r,i;return y.isFunction(t)?i=t:y.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),y.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=O(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=_(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)null!=(r=e[a])&&r>o&&(o=r)}else t=M(t,n),y.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=_(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)null!=(r=e[a])&&r<o&&(o=r)}else t=M(t,n),y.each(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},y.shuffle=function(e){return y.sample(e,1/0)},y.sample=function(e,t,n){if(null==t||n)return _(e)||(e=y.values(e)),e[y.random(e.length-1)];var r=_(e)?y.clone(e):y.values(e),i=S(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=y.random(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,t)},y.sortBy=function(e,t,n){var r=0;return t=M(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=M(r,i),y.each(n,function(t,i){var s=r(t,i,n);e(o,t,s)}),o}};y.groupBy=D(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=D(function(e,t,n){e[n]=t}),y.countBy=D(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1});var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(e){return e?y.isArray(e)?p.call(e):y.isString(e)?e.match(C):_(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:_(e)?e.length:y.keys(e).length},y.partition=D(function(e,t,n){e[n?0:1].push(t)},!0),y.first=y.head=y.take=function(e,t,n){if(!(null==e||e.length<1))return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(!(null==e||e.length<1))return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,Boolean)};var w=function(e,t,n,r){r=r||[];for(var i=r.length,o=0,s=S(e);o<s;o++){var a=e[o];if(_(a)&&(y.isArray(a)||y.isArguments(a)))if(t)for(var u=0,l=a.length;u<l;)r[i++]=a[u++];else w(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};y.flatten=function(e,t){return w(e,t,!1)},y.without=T(function(e,t){return y.difference(e,t)}),y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=M(n,r));for(var i=[],o=[],s=0,a=S(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t&&!n?(s&&o===l||i.push(u),o=l):n?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=T(function(e){return y.uniq(w(e,!0,!0))}),y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=S(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){var s;for(s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},y.difference=T(function(e,t){return t=w(t,!0,!0),y.filter(e,function(e){return!y.contains(t,e)})}),y.unzip=function(e){for(var t=e&&y.max(e,S).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.zip=T(y.unzip),y.object=function(e,t){for(var n={},r=0,i=S(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var N=function(e){return function(t,n,r){n=M(n,r);for(var i=S(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};y.findIndex=N(1),y.findLastIndex=N(-1),y.sortedIndex=function(e,t,n,r){n=M(n,r,1);for(var i=n(t),o=0,s=S(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};var F=function(e,t,n){return function(r,i,o){var s=0,a=S(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(p.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};y.indexOf=F(1,y.findIndex,y.sortedIndex),y.lastIndexOf=F(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},y.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(p.call(e,r,r+=t));return n};var j=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=I(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=T(function(e,t,n){if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var r=T(function(i){return j(e,r,t,this,n.concat(i))});return r}),y.partial=T(function(e,t){var n=y.partial.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return j(e,r,this,this,s)};return r}),y.partial.placeholder=y,y.bindAll=T(function(e,t){t=w(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=y.bind(e[r],e)}}),y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=T(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:y.now(),r=null,s=e.apply(i,o),r||(i=o=null)},l=function(){var l=y.now();a||!1!==n.leading||(a=l);var c=t-(l-a);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),a=l,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l},y.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=T(function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=y.delay(o,t,this,s);return i});return s.cancel=function(){clearTimeout(r),r=null},s},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2),y.restArguments=T;var A=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],G=function(e,t){var n=R.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||u,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)(o=R[n])in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)};y.keys=function(e){if(!y.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return A&&G(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&G(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=M(t,n);for(var r=y.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()};var x=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}};y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(e,t,n){t=M(t,n);for(var r,i=y.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r};var k=function(e,t,n){return t in n};y.pick=T(function(e,t){var n={},r=t[0];if(null==e)return n;y.isFunction(r)?(t.length>1&&(r=E(r,t[1])),t=y.allKeys(e)):(r=k,t=w(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),y.omit=T(function(e,t){var n,r=t[0];return y.isFunction(r)?(r=y.negate(r),t.length>1&&(n=t[1])):(t=y.map(w(t,!1,!1),String),r=function(e,n){return!y.contains(t,n)}),y.pick(e,r,n)}),y.defaults=x(y.allKeys,!0),y.create=function(e,t){var n=I(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var B,L;B=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&L(e,t,n,r)},L=function(e,t,n,r){e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!B(e[u],t[u],n,r))return!1}else{var c,p=y.keys(e);if(u=p.length,y.keys(t).length!==u)return!1;for(;u--;)if(c=p[u],!y.has(t,c)||!B(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(e,t){return B(e,t)},y.isEmpty=function(e){return null==e||(_(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){y["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")});var X=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof X&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return!y.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&isNaN(e)},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){if(!y.isArray(t))return null!=e&&d.call(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!d.call(e,i))return!1;e=e[i]}return!!n},y.noConflict=function(){return o._=s,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=function(e){return y.isArray(e)?function(t){return O(t,e)}:U(e)},y.propertyOf=function(e){return null==e?function(){}:function(t){return y.isArray(t)?O(e,t):e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=E(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=y.invert(Y),q=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=q(Y),y.unescape=q(z),y.result=function(e,t,n){y.isArray(t)||(t=[t]);var r=t.length;if(!r)return y.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=y.isFunction(o)?o.call(e):o}return e};var K=0;y.uniqueId=function(e){var t=++K+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,Z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,J=function(e){return"\\"+Z[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(V,J),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,y)};return a.source="function("+(t.variable||"obj")+"){\n"+o+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var $=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){return y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),$(this,n.apply(y,e))}}),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],$(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return $(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(i=function(){return y}.apply(t,r))&&(n.exports=i)}()}).call(t,n(21),n(22)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(23),o=n(11),s=n(17),a=n(7),u=n(1),l=n(19),c=n(1),p=n(0),f=n(13),d=n(4),h=n(27),v=n(8),g=function(){function e(e){this.mousedown=!1,this.handlingContextMenu=!1,this.usingHover=e.IsUsingHover(),this.domElement=e.DomElement,this.drag=new s.Drag(e,this),this.discrete=new i.Discrete(e),this.pinch=new h.Pinch(e),this.usingHover&&(this.hover=new l.Hover(e))}return Object.defineProperty(e,"CurrentGlobalMouseButton",{get:function(){return e.globalMouseButton},set:function(t){e.globalMouseButton!==t&&(e.globalMouseButton=t,c.Logger.Debug("GlobalMouseButton="+e.globalMouseButton))},enumerable:!0,configurable:!0}),e.prototype.suppressHover=function(){this.hover.suppressHover()},e.prototype.unsuppressHover=function(){this.hover.unsuppressHover()},e.prototype.CancelHover=function(){this.hover.Cancel()},e.prototype.HandleEvent=function(t){this.mousedown&&"left"!==e.CurrentGlobalMouseButton&&"right"!==e.CurrentGlobalMouseButton&&(this.mousedown=!1),t.IsScrollEvent?this.mousedown=!1:t.IsOutEvent?this.usingHover&&this.hover.Out(t):t.IsStartEvent?this.HandleStartEvent(t):t.IsMoveEvent?this.HandleMoveEvent(t):this.HandleEndCancelEvent(t)},e.prototype.HandleStartEvent=function(t){if(this.handlingContextMenu=!1,this.lastMouseButtonPressed=f.MouseEventUtil.GetMouseButtonEnum(t.originalEvent),t.IsMouseEvent){if(!u.FeatureFlags.WebAuthoringDragAggregation()&&!t.IsLeftMouseEvent)return;this.mousedown=!0,e.CurrentGlobalMouseButton=this.lastMouseButtonPressed}this.HandleStart(t)},e.prototype.HandleMoveEvent=function(e){this.usingHover&&this.hover.Move(e),(!e.IsMouseEvent||(u.FeatureFlags.WebAuthoringDragAggregation()||"left"===this.lastMouseButtonPressed)&&this.mousedown)&&(this.discrete.Move(e),this.drag.Move(e),p.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Move(e))},e.prototype.HandleEndCancelEvent=function(t){e.CurrentGlobalMouseButton="none",this.usingHover&&this.hover.End(t),p.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.End(t),this.drag.End(t),t.IsMouseEvent&&(this.mousedown=!1,(t.IsRightClickEvent||"right"===this.lastMouseButtonPressed)&&(this.handlingContextMenu=!0),r.BrowserSupport.IsMac()&&this.handlingContextMenu&&"mouseup"===t.type||this.handlingContextMenu&&!t.IsRightClickEvent)||this.discrete.End(t)},e.prototype.CancelAllGestures=function(){p.MiscUtil.IsNullOrUndefined(this.drag)||this.drag.Cancel(),p.MiscUtil.IsNullOrUndefined(this.discrete)||this.discrete.Cancel(),p.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Cancel(),p.MiscUtil.IsNullOrUndefined(this.hover)||this.hover.Cancel()},e.prototype.UpdateAllGestures=function(e){p.MiscUtil.IsNullOrUndefined(this.drag)||this.drag.Update(e),p.MiscUtil.IsNullOrUndefined(this.discrete)||this.discrete.Update(e),p.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Update(e),p.MiscUtil.IsNullOrUndefined(this.hover)||this.hover.Update(e)},e.prototype.SetupPressDrag=function(e){var t=this;if(e.UsingPressDrag()){var n=function(n){e.IsHandling("press")&&v.TableauEventHandler.GetHandler(e,"press")(n);var r=new a.EventHandleSpec;r.SetHandler("dragStart",v.TableauEventHandler.GetHandler(e,"pressDragStart")),r.SetHandler("dragMove",v.TableauEventHandler.GetHandler(e,"pressDragMove")),r.SetHandler("dragEnd",v.TableauEventHandler.GetHandler(e,"pressDragEnd")),r.SetHandler("pinchStart",v.TableauEventHandler.GetHandler(e,"doublePressDragStart")),r.SetHandler("pinchMove",v.TableauEventHandler.GetHandler(e,"doublePressDragMove")),r.SetHandler("pinchEnd",v.TableauEventHandler.GetHandler(e,"doublePressDragEnd")),t.drag.Update(r),p.MiscUtil.IsNullOrUndefined(t.pinch)||t.pinch.Update(r)},r=function(n){e.IsHandling("lastTouch")&&v.TableauEventHandler.GetHandler(e,"lastTouch")(n),t.drag.Update(e),p.MiscUtil.IsNullOrUndefined(t.pinch)||t.pinch.Update(e)},i=new a.EventHandleSpec;i.SetHandler("press",n),i.SetHandler("lastTouch",r),this.discrete.Update(i)}},e.prototype.HandleStart=function(e){this.usingHover&&this.hover.Start(e),this.discrete.Start(e),this.drag.Start(e),p.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Start(e)},e.prototype.dispose=function(){p.MiscUtil.IsNullOrUndefined(this.discrete)||this.discrete.dispose(),p.MiscUtil.IsNullOrUndefined(this.drag)||this.drag.dispose(),p.MiscUtil.IsNullOrUndefined(this.hover)||this.hover.dispose(),p.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.dispose()},e.prototype.HandleCapturedMouseMove=function(e){if(this.IsCapturedEventOutsideOfTarget(e)){var t=d.NormalizedEvent.Create(e,this.domElement);this.HandleMoveEvent(t)}},e.prototype.HandleCapturedMouseComplete=function(e){var t="mouseout"===e.type;if(this.IsCapturedEventOutsideOfTarget(e)||t){var n=d.NormalizedEvent.Create(e,this.domElement);this.HandleEndCancelEvent(n)}},e.prototype.IsCapturedEventOutsideOfTarget=function(e){return this.domElement!==e.target&&!o.DomUtil.IsAncestorOf(this.domElement,e.target)},e.globalMouseButton="none",e}();t.EventRecognizer=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(0),o=function(){function e(){}return e.HandleTouchEvents=function(t){return!e.IsCheckboxElement(t)&&!e.IsFocusableTextElement(t)},e.IsCheckboxElement=function(e){if(!i.MiscUtil.IsNullOrUndefined(e)&&!i.MiscUtil.IsNullOrUndefined(e.tagName)){var t=e.tagName.toLowerCase(),n=r(e).attr("type");if("input"===t&&"checkbox"===n)return!0}return!1},e.IsFocusableTextElement=function(e){if(!i.MiscUtil.IsNullOrUndefined(e)&&!i.MiscUtil.IsNullOrUndefined(e.tagName)){var t=e.tagName.toLowerCase();if("textarea"===t||"input"===t||"select"===t)return!0}return!1},e.IsAncestorOf=function(e,t){return!i.MiscUtil.IsNullOrUndefined(e)&&!i.MiscUtil.IsNullOrUndefined(t)&&r(t).parents().index(e)>=0},e}();t.DomUtil=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n(0),o=function(){function e(){}return e.add_FirstTouch=function(e){this.FirstTouch.add(e)},e.remove_FirstTouch=function(e){this.FirstTouch.remove(e)},e.add_Press=function(e){this.Press.add(e)},e.remove_Press=function(e){this.Press.remove(e)},e.add_Tap=function(e){this.Tap.add(e)},e.remove_Tap=function(e){this.Tap.remove(e)},e.add_LastTouch=function(e){this.LastTouch.add(e)},e.remove_LastTouch=function(e){this.LastTouch.remove(e)},e.add_RightClick=function(e){this.RightClick.add(e)},e.remove_RightClick=function(e){this.RightClick.remove(e)},e.add_DragEnd=function(e){this.DragEnd.add(e)},e.remove_DragEnd=function(e){this.DragEnd.remove(e)},e.add_DismissTemporaryElements=function(e){this.DismissTemporaryElements.add(e)},e.remove_DismissTemporaryElements=function(e){this.DismissTemporaryElements.remove(e)},e.FireFirstTouch=function(t,n){e.FireEvent(e.FirstTouch,t,n)},e.FirePress=function(t,n){e.FireEvent(e.Press,t,n)},e.FireTap=function(t,n){e.FireEvent(e.Tap,t,n)},e.FireLastTouch=function(t,n){e.FireEvent(e.LastTouch,t,n)},e.FireRightClick=function(t,n){e.FireEvent(e.RightClick,t,n)},e.FireDragEnd=function(t,n){e.FireEvent(e.DragEnd,t,n)},e.FireDismissTemporaryElements=function(){i.MiscUtil.IsNullOrUndefined(e.DismissTemporaryElements)||e.DismissTemporaryElements.invoke(null)},e.FireEvent=function(e,t,n){i.MiscUtil.IsNullOrUndefined(e)||e.invoke(t,n)},e.FirstTouch=new r.Delegate,e.Press=new r.Delegate,e.Tap=new r.Delegate,e.LastTouch=new r.Delegate,e.RightClick=new r.Delegate,e.DragEnd=new r.Delegate,e.DismissTemporaryElements=new r.Delegate,e}();t.GlobalUIEvents=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=function(){function e(){}return e.InitMouseButtonMappings=function(){e.areMappingsInstantiated||(e.mouseButtonMappingsIE[1]="left",e.mouseButtonMappingsIE[4]="middle",e.mouseButtonMappingsIE[2]="right",e.mouseWhichMappings[1]="left",e.mouseWhichMappings[2]="middle",e.mouseWhichMappings[3]="right",e.areMappingsInstantiated=!0)},e.GetMouseButtonEnum=function(t){e.InitMouseButtonMappings();var n="none",o=i.TypeUtil.GetField(t,"which");if(r.MiscUtil.IsNullOrUndefined(o)){var s=i.TypeUtil.GetField(t,"button");if(!r.MiscUtil.IsNullOrUndefined(s)){var a=s;r.MiscUtil.IsNullOrUndefined(e.mouseButtonMappingsIE[a])||(n=e.mouseButtonMappingsIE[a])}}else{var u=o;r.MiscUtil.IsNullOrUndefined(e.mouseWhichMappings[u])||(n=e.mouseWhichMappings[u])}return n},e.areMappingsInstantiated=!1,e.mouseButtonMappingsIE={},e.mouseWhichMappings={},e}();t.MouseEventUtil=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){}return e.SetFFWebAuthoringDragAggregation=function(e){r.FeatureFlags.WebAuthoringDragAggregation=e},e.SetFeatureParamDebugTools=function(e){r.FeatureParam.DebugTools=e},e.SetTsConfigIsMobile=function(e){r.TsConfig.IsMobile=e},e.SetBootStrapUtilIsEmbedded=function(e){r.BootstrapUtility.IsEmbedded=e},e.SetLoggerDebug=function(e){r.Logger.Debug=e},e.SetAllShimsToFallback=function(){var t=function(){return!1};e.SetFFWebAuthoringDragAggregation(t),e.SetFeatureParamDebugTools(t),e.SetTsConfigIsMobile(t),e.SetBootStrapUtilIsEmbedded(t)},e}();t.FeatureFlagUtils=i;var o=n(4);t.NormalizedEvent=o.NormalizedEvent;var s=n(13);t.MouseEventUtil=s.MouseEventUtil;var a=n(7);t.EventHandleSpec=a.EventHandleSpec;var u=n(30);t.EventForwarder=u.EventForwarder;var l=n(8);t.TableauEventHandler=l.TableauEventHandler;var c=n(20);t.TableauEventHandlerForReact=c.TableauEventHandlerForReact;var p=n(5);t.Gesture=p.Gesture;var f=n(17);t.Drag=f.Drag;var d=n(12);t.GlobalUIEvents=d.GlobalUIEvents;var h=n(10);t.EventRecognizer=h.EventRecognizer;var v=n(19);t.Hover=v.Hover;var g=n(0);t.MiscUtil=g.MiscUtil;var m=n(16);t.ZoomScaleUtil=m.ZoomScaleUtil;var y=n(18);t.MouseCapture=y.MouseCapture},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(1),o=n(0),s=function(){function e(){this.delegate=[]}return e.prototype.invoke=function(e,t){void 0===e&&(e=void 0),void 0===t&&(t=void 0);var n=this.delegate;if(o.MiscUtil.IsNullOrUndefined(n))return void i.Logger.Debug("delegate type not supported");n.forEach(function(n){n(e,t)})},e.prototype.add=function(e){if(o.MiscUtil.IsNullOrUndefined(e))return void i.Logger.Debug("delegate to add is not initialized (null)");this.delegate.push(e)},e.prototype.remove=function(e){if(o.MiscUtil.IsNullOrUndefined(e))return void i.Logger.Debug("delegate to remove is not initialized (null)");var t=this.delegate.indexOf(e);if(t<0){var n=e;void 0!==n._targets&&2===n._targets.length&&(t=r.findIndex(this.delegate,function(e){return void 0!==e._targets&&2===e._targets.length&&e._targets[0]===n._targets[0]&&e._targets[1]===n._targets[1]}))}t>=0?this.delegate.splice(t,1):i.Logger.Debug("delegate to remove is not found")},e}();t.Delegate=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(25),o=n(1),s=function(){function e(){}return e.initialize=function(){window.addEventListener("message",function(t){return e.OnMessage(window,t)},!1)},Object.defineProperty(e,"ZoomScaleForLocalWindow",{get:function(){var e=document.documentElement.clientWidth,t=window.innerWidth;return o.TsConfig.IsMobile()||(t-=17),e/t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsScaleFactorCommunicationAvailable",{get:function(){return!r.MiscUtil.IsNullOrUndefined(e.outerMessageSource)},enumerable:!0,configurable:!0}),e.OnMessage=function(t,n){var o=n;if("string"==typeof o.data){var s=i.NonApiCommand.Parse(o.data.toString());if(s.Name===i.NonApiCommandName.ScaleFactorResponse){var a=s.Parameters[0];e.lastScaleFactor=Number(s.Parameters[1]);var u=Number(s.Parameters[2]),l=Number(s.Parameters[3]),c=e.PendingCallbacks[a];delete e.PendingCallbacks.id,e.outerMessageSource=o.source,r.MiscUtil.IsNullOrUndefined(c)||c(e.lastScaleFactor,u,l)}}},e.RequestScaleFactor=function(t){void 0===t&&(t=null);var n=(++e.nextId).toString();e.PendingCallbacks[n]=t;var r=new i.NonApiCommand(i.NonApiCommandName.ScaleFactorRequest,[n]);e.outerMessageSource.postMessage(r.Serialize(),"*")},e.GetScaleAsync=function(t){e.IsScaleFactorCommunicationAvailable?e.RequestScaleFactor(t):r.MiscUtil.IsNullOrUndefined(t)||t(e.ZoomScaleForLocalWindow,0,0)},e.GetScaleSync=function(){return e.IsScaleFactorCommunicationAvailable?(e.RequestScaleFactor(),e.lastScaleFactor):e.ZoomScaleForLocalWindow},e.PendingCallbacks={},e.nextId=1,e.lastScaleFactor=1,e}();t.ZoomScaleUtil=s,s.initialize()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(3),s=n(14),a=n(5),u=n(12),l=n(1),c=n(0),p=n(18),f=function(e){function t(t,n){var r=e.call(this,t,"drag",!0)||this;return r.canceled=!1,r.dragging=!1,r.mouseCaptureHandler=n,r}return r(t,e),t.prototype.Start=function(e){l.Logger.Debug("start");var t=e.touches[0];if(c.MiscUtil.IsNullOrUndefined(e.target)||"IMG"!==e.target.tagName.toUpperCase()||l.TsConfig.IsMobile()||e.preventDefault(),e.touches.length!==this.numTouches)return this.dragging&&this.Fire("dragEnd",e,this.lastInfo),this.ResetGestureState(),void(this.canceled=!0);c.MiscUtil.IsNullOrUndefined(this.startInfo)||o.BrowserSupport.IsTouch()||(l.Logger.Debug("multiple starts in a row, ending old one first"),this.End(e)),this.canceled=!1,this.startInfo=this.BuildStartInfo(t),this.lastInfo=this.startInfo,this.isPotentialPress=!1,this.Config.IsHandling("potentialPress")&&this.StartPotentialPressDetection()},t.prototype.Move=function(e){this.canceled||(this.isPotentialPress&&e.touches.length===this.numTouches&&e.preventDefault(),this.lastInfo=this.GetParams(e),this.dragging?this.Fire("dragMove",e,this.lastInfo):this.PastSlop(e)&&(this.dragging=!0,this.Fire("dragStart",e,this.lastInfo),this.Fire("dragMove",e,this.lastInfo),c.MiscUtil.IsNullOrUndefined(this.Config.dragEnd)||p.MouseCapture.SetCapture(this.mouseCaptureHandler)))},t.prototype.End=function(e){var t;if(!this.dragging){return e.touches.length===this.numTouches&&!c.MiscUtil.IsNullOrUndefined(e.touches[0].identifier)&&this.PastSlop(e)?(this.startInfo=this.BuildStartInfo(e.touches[0]),this.lastInfo=this.startInfo,t=this.GetParams(e),this.canceled=!1,this.dragging=!0,void this.Fire("dragStart",e,t)):void this.ResetGestureState()}if(l.Logger.Debug("end"),p.MouseCapture.ReleaseCapture(),t=this.GetParams(e),this.ResetGestureState(),this.Config.IsHandling("dragEnd")){var n=s.NormalizedEvent.Create(e.originalEvent,null);i.extend(n,this.lastInfo),u.GlobalUIEvents.FireDragEnd(n,null)}this.Fire("dragEnd",e,t)},t.prototype.Cancel=function(){this.canceled=!0},t.prototype.BuildStartInfo=function(e){var t=new a.GestureEventInfo;return t.pageX=e.pageX,t.pageY=e.pageY,t},t.prototype.GetParams=function(e){var t=e.changedTouches[0];c.MiscUtil.IsNullOrUndefined(this.startInfo)&&(this.startInfo=this.BuildStartInfo(t)),c.MiscUtil.IsNullOrUndefined(this.lastInfo)&&(this.lastInfo=this.startInfo);var n=new a.GestureEventInfo;return n.clientX=t.clientX,n.clientY=t.clientY,n.pageX=t.pageX,n.pageY=t.pageY,n.startX=this.startInfo.pageX,n.startY=this.startInfo.pageY,n.deltaX=n.pageX-this.startInfo.pageX,n.deltaY=n.pageY-this.startInfo.pageY,n.deltaXSinceLast=n.pageX-this.lastInfo.pageX,n.deltaYSinceLast=n.pageY-this.lastInfo.pageY,n.scale=1,n},t.prototype.PastSlop=function(e){var t=e.touches[0];if(c.MiscUtil.IsNullOrUndefined(this.startInfo))return!1;var n=this.ZoomAdjustedSlop;return Math.abs(t.pageX-this.startInfo.pageX)>n||Math.abs(t.pageY-this.startInfo.pageY)>n},t.prototype.ResetGestureState=function(){this.startInfo=null,this.dragging=!1,this.isPotentialPress=!1,this.potentialPressTimer=c.MiscUtil.ClearTimeout(this.potentialPressTimer)},t.prototype.StartPotentialPressDetection=function(){var e=this;this.potentialPressTimer=window.setTimeout(function(){e.dragging||(e.isPotentialPress=!0)},a.Gesture.PotentialPressTime)},t}(a.Gesture);t.Drag=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(0),s=n(26),a=function(){function e(){}return Object.defineProperty(e,"ManuallyCaptureMouseEvents",{get:function(){return!r.TsConfig.IsMobile()&&i.BrowserSupport.AddEventListener()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ForceDragStopOnIFrameMouseOut",{get:function(){return i.BrowserSupport.IsIE()&&r.BootstrapUtility.IsEmbedded()},enumerable:!0,configurable:!0}),e.SetCapture=function(t){s.Param.VerifyValue(t,"handler"),e.ManuallyCaptureMouseEvents&&(e.eventHandlers.push(t),e.areMouseListenersAttached||(document.addEventListener("mousemove",this.HandleMouseMove,!0),document.addEventListener("mouseup",this.HandleMouseUp,!0),document.addEventListener("mouseout",this.HandleMouseOut,!0),e.areMouseListenersAttached=!0))},e.ReleaseCapture=function(){e.ManuallyCaptureMouseEvents&&(e.eventHandlers=[],document.removeEventListener("mousemove",this.HandleMouseMove,!0),document.removeEventListener("mouseup",this.HandleMouseUp,!0),document.removeEventListener("mouseout",this.HandleMouseOut,!0),e.areMouseListenersAttached=!1)},e.HandleMouseMove=function(t){e.eventHandlers.forEach(function(e){return e.HandleCapturedMouseMove(t)})},e.HandleMouseUp=function(t){e.HandleComplete(t),r.Logger.Debug("Mouse has been released, calling HandleCaptureComplete on the handler")},e.HandleMouseOut=function(t){e.ForceDragStopOnIFrameMouseOut&&e.EventIsOutsideDocument(t)&&(e.HandleComplete(t),r.Logger.Debug("Mouse is Exiting document and document is in an iFrame - calling HandleCapturedMouseComplete on the handler"))},e.HandleComplete=function(t){e.eventHandlers.forEach(function(e){return e.HandleCapturedMouseComplete(t)})},e.EventIsOutsideDocument=function(e){var t=e.toElement;return o.MiscUtil.IsNullOrUndefined(t)||"HTML"===t.NodeName},e.eventHandlers=[],e.areMouseListenersAttached=!1,e}();t.MouseCapture=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(5),s=n(1),a=n(0),u=n(2),l=function(e){function t(n){var r=e.call(this,n,"hover",!1)||this;return r.startX=0,r.startY=0,r.possible=!0,r.hoverTime=a.MiscUtil.IsNullOrUndefined(n.HoverDelay)?t.HoverTime:n.HoverDelay,r}return r(t,e),t.prototype.Start=function(e){s.Logger.Debug("Start"),this.Cancel(),this.possible=!1},t.prototype.Move=function(e){var t=this;s.Logger.Debug("Move: "+e);var n=e.touches[0];if(this.possible&&this.PastSlop(e)){var r=this.GetParam(e);a.MiscUtil.IsNullOrUndefined(this.hoverTimeout)||this.Cancel(),this.Fire("moving",e,r),this.startX=n.pageX,this.startY=n.pageY,this.hoverTimeout=window.setTimeout(function(){s.Logger.Debug("Hover"),t.isSuppressed||t.Fire("hover",e,r),t.ClearTimeout()},this.hoverTime)}},t.prototype.End=function(e){s.Logger.Debug("end"),0===e.touches.length&&(this.possible=!0)},t.prototype.Out=function(e){var t=u.TypeUtil.GetField(e.originalEvent,"relatedTarget");this.Config.DomElement===t||i.DomUtil.IsAncestorOf(this.Config.DomElement,t)||(s.Logger.Debug("Out."),this.Cancel(),this.Fire("mouseleave",e,this.GetParam(e)))},t.prototype.suppressHover=function(){this.isSuppressed||s.Logger.Debug("SuppressHover."),this.isSuppressed=!0},t.prototype.unsuppressHover=function(){this.isSuppressed&&s.Logger.Debug("UnsuppressHover."),this.isSuppressed=!1,this.possible=!0},t.prototype.Cancel=function(){this.ClearTimeout(),this.startX=0,this.startY=0,this.possible=!0},t.prototype.ClearTimeout=function(){this.hoverTimeout=a.MiscUtil.ClearTimeout(this.hoverTimeout)},t.prototype.PastSlop=function(e){var t=e.touches[0];return Math.abs(t.pageX-this.startX)+Math.abs(t.pageY-this.startY)>this.ZoomAdjustedSlop},t.prototype.GetParam=function(e){var t=new o.GestureEventInfo;return t.pageX=e.changedTouches[0].pageX,t.pageY=e.changedTouches[0].pageY,t.clientX=e.changedTouches[0].clientX,t.clientY=e.changedTouches[0].clientY,t},t.HoverTime=150,t.FastHoverTime=120,t}(o.Gesture);t.Hover=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(1),s=n(0),a=n(4),u=n(8),l=n(2),c=function(e){function t(){var t=e.call(this)||this;return t.eventHandlingAttributesForReact=t.GetEventHandlingAttributesForReact(),t}return r(t,e),Object.defineProperty(t.prototype,"EventHandlingAttributesForReact",{get:function(){return this.eventHandlingAttributesForReact},enumerable:!0,configurable:!0}),t.CreateEmpty=function(){return new t},t.prototype.UpdateEventHandleSpec=function(e,t){this.config=s.MiscUtil.IsNullOrUndefined(t)?new i.EventHandleSpec:t,this.config.DomElement=e,this.ConfigureDomElem(e),this.SetupEventRecognizer(this.config)},t.LookupReactEventName=function(e){return s.MiscUtil.IsNullOrUndefined(t.browserEventToReactEvent)&&(t.browserEventToReactEvent={},t.browserEventToReactEvent.touchstart="onTouchStart",t.browserEventToReactEvent.touchmove="onTouchMove",t.browserEventToReactEvent.touchend="onTouchEnd",t.browserEventToReactEvent.touchcancel="onTouchCancel",t.browserEventToReactEvent.mousedown="onMouseDown",t.browserEventToReactEvent.mousemove="onMouseMove",t.browserEventToReactEvent.mouseup="onMouseUp",t.browserEventToReactEvent.mouseout="onMouseOut",t.browserEventToReactEvent.scroll="onScroll",t.browserEventToReactEvent.contextmenu="onContextMenu"),t.browserEventToReactEvent[e]},t.prototype.GetEventHandlingAttributesForReact=function(){var e=this,n={},r=function(t){var n=a.NormalizedEvent.Create(t.nativeEvent,e.config.DomElement,t);e.handler(n)};return a.NormalizedEvent.AllHandledEvents.forEach(function(e){var i=t.LookupReactEventName(e);s.MiscUtil.IsNullOrUndefined(i)?o.Logger.Debug("Can't find a matching React.js event name for "+e):l.TypeUtil.SetField(n,i.toString(),r)}),n},t.browserEventToReactEvent=null,t}(u.TableauEventHandler);t.TableauEventHandlerForReact=c},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(12),s=n(0),a=function(e){function t(t){var n=e.call(this,t,"discrete",!0)||this;return n.doneFirstTap=null,n.startX=0,n.startY=0,n.possible=!1,n.startTime=0,n}return r(t,e),t.prototype.Start=function(e){var t=this,n=e.touches[0];if(e.touches.length!==this.numTouches)return void this.Reset();var r=this.GetParams(e);this.ProcessGlobalEvent(o.GlobalUIEvents.FireFirstTouch,e)&&(this.Fire("firstTouch",e,r),this.startX=n.pageX,this.startY=n.pageY,this.possible=!0,this.pressTimer=s.MiscUtil.ClearTimeout(this.pressTimer),s.MiscUtil.IsNullOrUndefined(this.doneFirstTap)&&(this.startTime=(new Date).getTime(),this.potentialPressTimer=window.setTimeout(function(){return t.DoPotentialPress(e,r)},i.Gesture.PotentialPressTime),this.pressTimer=window.setTimeout(function(){return t.DoPress(e,r)},i.Gesture.PressTime)))},t.prototype.Move=function(e){this.PastSlop(e)&&this.Reset(),"touchmove"===e.type&&this.Fire("touchMove",e,this.GetParams(e))},t.prototype.End=function(e){var t=this.GetParams(e);if(this.isActivePress&&this.DoPressEnd(e,t),this.CancelPress(),this.possible&&(!s.MiscUtil.IsNullOrUndefined(this.doneFirstTap)&&this.doneFirstTap?this.DoDoubleTap(e,t):this.DoTap(e,t)),"contextmenu"===e.type){if(!this.ProcessGlobalEvent(o.GlobalUIEvents.FireRightClick,e))return;this.DoRightClick(e,t)}if(0===e.touches.length){if(!this.ProcessGlobalEvent(o.GlobalUIEvents.FireLastTouch,e))return;this.Fire("lastTouch",e,t)}},t.prototype.Cancel=function(){this.Reset()},t.prototype.Reset=function(){this.CancelPress(),this.possible=!1,this.doneFirstTap=null,this.isPotentialPress=!1,this.isActivePress=!1,this.doubleTapTimer=s.MiscUtil.ClearTimeout(this.doubleTapTimer)},t.prototype.DoEvent=function(e,t,n,r){this.Fire(e,t,n),r&&r.reset&&this.Reset()},t.prototype.DoDoubleTap=function(e,t){this.doubleTapTimer=s.MiscUtil.ClearTimeout(this.doubleTapTimer),this.DoEvent("doubleTap",e,t,{reset:!0})},t.prototype.DoPress=function(e,t){this.isPotentialPress=!1,this.ProcessGlobalEvent(o.GlobalUIEvents.FirePress,e)&&(this.DoEvent("press",e,t,{reset:!0}),this.isActivePress=!0)},t.prototype.DoPotentialPress=function(e,t){this.isPotentialPress=!0,this.DoEvent("potentialPress",e,t)},t.prototype.DoPressEnd=function(e,t){this.DoEvent("pressEnd",e,t),this.isActivePress=!1},t.prototype.CancelPress=function(){this.potentialPressTimer=s.MiscUtil.ClearTimeout(this.potentialPressTimer),this.pressTimer=s.MiscUtil.ClearTimeout(this.pressTimer),this.isPotentialPress&&this.DoEvent("cancelPotentialPress",{},null)},t.prototype.DoTap=function(e,t){var n=this;this.doneFirstTap=!0,this.ProcessGlobalEvent(o.GlobalUIEvents.FireTap,e)&&(this.Config.IsHandling("doubleTap")?this.doubleTapTimer=window.setTimeout(function(){n.Reset(),n.Fire("cancelPotentialDoubleTap",e,t)},i.Gesture.DoubleTapTime-this.GetElapsedTime()):this.Reset(),this.Fire("tap",e,t))},t.prototype.DoRightClick=function(e,t){this.Fire("rightClick",e,t)},t.prototype.ProcessGlobalEvent=function(e,t){var n=this,r=!1;return e(t,function(e){n.Reset(),e&&(t.stopPropagation(),t.preventDefault()),r=!0}),!r},t.prototype.GetElapsedTime=function(){return(new Date).getTime()-this.startTime},t.prototype.PastSlop=function(e){var t=e.changedTouches[0],n=this.ZoomAdjustedSlop;return Math.abs(t.pageX-this.startX)>n||Math.abs(t.pageY-this.startY)>n},t.prototype.GetParams=function(e){var t=new i.GestureEventInfo;return t.pageX=e.changedTouches[0].pageX,t.pageY=e.changedTouches[0].pageY,t.clientX=e.changedTouches[0].clientX,t.clientY=e.changedTouches[0].clientY,t.startX=e.changedTouches[0].pageX,t.startY=e.changedTouches[0].pageY,t},t}(i.Gesture);t.Discrete=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.DomElement=e,this.EventHandler=t}return e}();t.DomSubscriptionHandle=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.Bootstrap="tableau.bootstrap",e.Completed="completed",e.VisibleRectRequest="layoutInfoReq",e.VisibleRectResponse="layoutInfoResp",e.LegacyVizOffsetResp="vizOffsetResp",e.EnableVisibleRectCommunication="tableau.enableVisibleRectCommunication",e.TableauCompleted="tableau.completed",e.UnhandledException="tableau.unhandledException",e.Listening="tableau.listening",e.Responsive="tableau.responsive",e.ScaleFactorRequest="sf?",e.ScaleFactorResponse="sf"}(r||(r={})),t.NonApiCommandName=r;var i=function(){function e(e,t){this.Name=e,this.parameters=t}return Object.defineProperty(e.prototype,"Parameters",{get:function(){return this.parameters},enumerable:!0,configurable:!0}),e.Parse=function(t){var n=t.split(",");return new e(n[0],n.slice(1))},e.prototype.Serialize=function(){var e=new Array;return e.push(this.Name.toString()),e=e.concat(this.parameters),e.join(",")},e}();t.NonApiCommand=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=function(){function e(){}return e.VerifyValue=function(t,n){if(r.MiscUtil.IsNullOrUndefined(t)){var i=e.CreateArgumentNullOrUndefinedException(n);throw e.ShowParameterAlert(i),i}},e.CreateArgumentNullOrUndefinedException=function(e){var t=new DOMException("{paramName} is null or undefined");return i.TypeUtil.SetField(t,e,e),t},e.ShowParameterAlert=function(t){if(!this.SuppressAlerts)try{throw t}catch(t){window.alert(e.FormatExceptionMessage(t))}},e.FormatExceptionMessage=function(e){var t=e.stack;return r.MiscUtil.IsNullOrUndefined(t)?e.message:t},e.SuppressAlerts=!1,e}();t.Param=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=function(e){function t(t){var n=e.call(this,t,"pinch",!0,2)||this;return n.pinching=!1,n}return r(t,e),t.prototype.Start=function(e){if(!(e.touches.length<this.numTouches||this.pinching)){this.touch1=e.touches[0],this.touch2=e.touches[1],this.startParams=this.GetStartParams(),this.lastParams=this.startParams;var t=this.GetParams();this.Fire("pinchStart",e,t),this.pinching=!0}},t.prototype.Move=function(e){if(this.pinching){if(e.touches.length<2)return void this.End(e);this.touch1=e.touches[0],this.touch2=e.touches[1],this.lastParams=this.GetParams(),this.Fire("pinchMove",e,this.lastParams)}},t.prototype.End=function(e){if(!(e.touches.length>this.numTouches)&&this.pinching){this.pinching=!1;var t=this.GetParams();this.Fire("pinchEnd",e,t)}},t.prototype.Cancel=function(){},t.prototype.GetStartParams=function(){var e=this.touch1,t=this.touch2,n=t.pageX-e.pageX,r=t.pageY-e.pageY,o=Math.sqrt(n*n+r*r),s=n/2+e.pageX,a=r/2+e.pageY,u=new i.GestureEventInfo;return u.pageX=s,u.pageY=a,u.distance=o,u},t.prototype.GetParams=function(){var e=this.touch1,t=this.touch2,n=t.pageX-e.pageX,r=t.pageY-e.pageY,o=Math.sqrt(n*n+r*r),s=n/2+e.pageX,a=r/2+e.pageY,u=new i.GestureEventInfo;return u.pageX=s,u.pageY=a,u.scale=o/this.startParams.distance,u.deltaX=s-this.startParams.pageX,u.deltaY=a-this.startParams.pageY,u.startX=this.startParams.pageX,u.startY=this.startParams.pageY,u.deltaXSinceLast=s-this.lastParams.pageX,u.deltaYSinceLast=a-this.lastParams.pageY,u},t}(i.Gesture);t.Pinch=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(3),o=n(0),s=n(4),a=n(1),u=function(){function e(){}return Object.defineProperty(e,"HandledEvents",{get:function(){return e.SetupEventNames(),e.handledEvents},enumerable:!0,configurable:!0}),e.CreateNormalizedEvent=function(t,n,r){void 0===r&&(r=null),e.SetupEventNames();var i=new s.NormalizedEvent(t,n,r);return i.source=e.HandledEvents[i.type],i.inputType=e.GetEventInputType(i.type),i},e.GetEventInputType=function(t){e.SetupEventNames();var n=6;return o.MiscUtil.IsNullOrUndefined(e.startEvents[t])?o.MiscUtil.IsNullOrUndefined(e.moveEvents[t])?o.MiscUtil.IsNullOrUndefined(e.endEvents[t])?o.MiscUtil.IsNullOrUndefined(e.outEvents[t])?o.MiscUtil.IsNullOrUndefined(e.cancelEvents[t])?o.MiscUtil.IsNullOrUndefined(e.scrollEvents[t])||(n=4):n=5:n=3:n=2:n=1:n=0,n},e.SetupEventNames=function(){e.initialized||(e.startEvents.touchstart=2,e.moveEvents.touchmove=2,e.endEvents.touchend=2,e.cancelEvents.touchcancel=2,a.TsConfig.IsMobile()?i.BrowserSupport.IsTouch()||(e.startEvents.mousedown=1,e.moveEvents.mousemove=1,e.endEvents.mouseup=1,e.outEvents.mouseout=1):(e.startEvents.mousedown=1,e.moveEvents.mousemove=1,e.endEvents.mouseup=1,e.outEvents.mouseout=1,e.scrollEvents.scroll=1,e.endEvents.contextmenu=1),r.extend(e.handledEvents,e.startEvents,e.moveEvents,e.endEvents,e.outEvents,e.scrollEvents,e.cancelEvents),e.initialized=!0)},e.handledEvents={},e.startEvents={},e.moveEvents={},e.endEvents={},e.outEvents={},e.scrollEvents={},e.cancelEvents={},e.initialized=!1,e}();t.NormalizedEventBuilder=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.Simple="simple",e.Toggle="toggle",e.Range="range",e.Menu="menu"}(r||(r={})),t.SelectAction=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=n(6),s=n(31),a=n(32),u=n(0),l=n(20),c=function(e){function t(t){var n=e.call(this,t,null)||this;return n.eventHandler=null,n.element=null,n.spec=null,n.eventHandler=l.TableauEventHandlerForReact.CreateEmpty(),n}return r(t,e),t.createElement=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a={TagName:e,HtmlAttributes:r,Spec:n,key:r.key};return u.MiscUtil.IsNullOrUndefined(r.ref)||(a.ref=r.ref,delete r.ref),u.MiscUtil.IsNullOrUndefined(i)||1!==i.length?s.createElement(t,a,i):s.createElement(t,a,i[0])},t.div=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.createElement("div",e,n,r)},t.span=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.createElement("span",e,n,r)},t.prototype.render=function(){return s.createElement(this.props.TagName,o.extend({},this.eventHandler.EventHandlingAttributesForReact,this.props.HtmlAttributes),this.props.children)},t.prototype.componentDidMount=function(){this.UpdateElementSpec()},t.prototype.componentDidUpdate=function(){this.UpdateElementSpec()},t.prototype.componentWillUnmount=function(){u.MiscUtil.IsNullOrUndefined(this.eventHandler)||this.eventHandler.dispose()},t.prototype.UpdateElementSpec=function(){if(!u.MiscUtil.IsNullOrUndefined(this.props.Spec)){var e=a.findDOMNode(this);e instanceof HTMLElement&&(this.element!==e||t.HasEventHandleSpecChanged(this.spec,this.props.Spec))&&(this.eventHandler.UpdateEventHandleSpec(e,this.props.Spec),this.element=e,this.spec=this.props.Spec)}},t.HasEventHandleSpecChanged=function(e,t){return!i.every(Object.keys(t),function(t){return-1!==Object.keys(e).indexOf(t)})},t}(s.Component);t.EventForwarder=c},function(e,t){e.exports=n},function(e,t){e.exports=r}])});(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(dM,dN){cZ.call(this,dM,dN)};b.__typeName='spiff.$0';b.$1=function(){var dM=new bY;dM.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};dM.ref='iscroll-component';return dM};b.$0=function(dM){var dN=b.$1();dN.augmentedScrollX=dM.augmentedScrollX;dN.augmentedScrollY=dM.augmentedScrollY;dN.extraCssClass=dM.extraCssClass;dN.iScrollOptions.scrollX=dM.scrollX;dN.iScrollOptions.scrollY=dM.scrollY;dN.scrollStopCallback=dM.onScrollStop;dN.scrollCallback=dM.onScroll;dN.alwaysShowScrollbarsIfScrollable=dM.alwaysShowScrollbarsIfScrollable;dN.startingY=ss.Nullable$1.neg(dM.startingY);dN.customStyle=dM.customStyle;if(dM.scrollbars){dN.iScrollOptions.scrollbars='custom'}return dN};var c=function(dM){this.$1=null;this.$1=dM};c.__typeName='spiff.$1';var d=function(){dt.call(this,$("<span class='tabTabLabel' />"))};d.__typeName='spiff.$10';var e=function(dM){this.$0=null;this.$0=dM};e.__typeName='spiff.$11';var f=function(dM){this.$0=null;this.$0=dM};f.__typeName='spiff.$12';var g=function(dM,dN){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,dM,dN.iScrollOptions);this.$2=dM;this.$0=dN.augmentedScrollX;this.$1=dN.augmentedScrollY};g.__typeName='spiff.$2';var h=function(){};h.__typeName='spiff.$3';var i=function(){};i.__typeName='spiff.$4';i.$2=function(dM,dN){if(dM===9){i.$3[0]=dN}else if(dM===27){i.$3[1]=dN}else if(dM>=33&&dM<=40){i.$3[dM-31]=dN}};i.$0=function(){i.$3=new Array(10)};i.$1=function(){for(var dM=0;dM<i.$3.length;dM++){if(i.$3[dM]){return true}}return false};var j=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dt.call(this,$("\n<div class='tabMenuItem' role='menuitem' data-test-id='tabMenuItem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName' data-test-id='tabMenuItemName'/>\n  </div>\n</div>"))};j.__typeName='spiff.$5';var k=function(dM,dN){this.$7=new j;this.$7.$6=this.$7.getElementBySelector('.tabMenuItemName');this.$7.$6.text(dM);if(!dN){this.$7.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}};k.__typeName='spiff.$6';var l=function(){this.$3=null;this.$2=null;this.$4=null;dt.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('.text-span')};l.__typeName='spiff.$7';var m=function(){this.$0=null;dt.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};m.__typeName='spiff.$8';var n=function(){this.$1=null;this.$0=null;dt.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};n.__typeName='spiff.$9';var o=function(){};o.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=o;var p=function(){};p.__typeName='spiff.AriaAttrName';global.spiff.AriaAttrName=p;var q=function(){};q.__typeName='spiff.AriaRole';global.spiff.AriaRole=q;var r=function(dM){cO.call(this,dM)};r.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=r;var s=function(dM){var dN=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(dM);w.call(this)};ss.registerGenericClassInstance(dN,s,[dM],{add_propsUpdated:function(dO){this.$2$1=ss.delegateCombine(this.$2$1,dO)},remove_propsUpdated:function(dO){this.$2$1=ss.delegateRemove(this.$2$1,dO)},get_props:function(){return this.$2$2},set_props:function(dO){this.$2$2=dO},updateProps$1:function(dO){this.set_props(dO);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return w},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(bT,[dM])]});return dN};s.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(s,a,1);global.spiff.BaseComponentViewModel$1=s;var t=function(dM){var dN=function(dO,dP){ss.makeGenericType(v,[dM]).call(this,dO,dP)};ss.registerGenericClassInstance(dN,t,[dM],{positionMenu:function(dO,dP,dQ){var dR=Math.min(document.documentElement.clientWidth,tab.WindowHelper.get_windowSelf().innerWidth)-10;dQ.domRoot.css('max-width',dR+'px');var dS=(tsConfig.is_mobile?tab.WindowHelper.get_windowSelf().innerWidth:document.documentElement.clientWidth);var dT=$(window).scrollLeft()+5;var dU=dT+dS-10;var dV=dQ.domRoot.outerHeight(false);var dW=Math.min(dQ.domRoot.outerWidth(false),dR);var dX=dV-dQ.domRoot.height();var dY=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset$1(dP.relativeDom));var dZ=dP.relativeDom.outerWidth(false);var ea=dP.relativeDom.outerHeight(false);if(ss.isValue(dP.cursorPosition)){dY=tab.PointUtil.fromPosition(dP.cursorPosition);dZ=0;ea=0}var eb,ec;var ed=dO.getVisibleRoom(dY);var ee=null;if(!dP.preferUp&&ed.roomBelow>=dV+ea){ec=dY.y+ea}else if(ed.roomAbove>dV){ec=dY.y-dV}else if(ed.roomBelow-ea>=ed.roomAbove){ec=dY.y+ea;ee=ed.roomBelow-ea-dX-5}else{ec=dY.y-ed.roomAbove+5;ee=ed.roomAbove-dX-5}if(dP.preferLeft){eb=dY.x+dZ-dW}else{eb=dY.x}eb=Math.max(eb,dT);if(eb+dW>dU){eb=dU-dW}eb=Math.max(5,eb);ec-=bv.centeringContainerOffset();var ef={};ef['top']=ec+'px';ef['left']=eb+'px';ef['max-height']=(ss.isValue(ee)?(ee+'px'):'');dQ.domRoot.css(ef)}},function(){return ss.makeGenericType(v,[dM])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dM])]});dN.$0=5;return dN};t.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(t,a,1);global.spiff.BaseMenuView$1=t;var u=function(dM){var dN=function(){this.$1=null;this.$2$1=null;w.call(this)};ss.registerGenericClassInstance(dN,u,[dM],{add_propsUpdated:function(dO){this.$2$1=ss.delegateCombine(this.$2$1,dO)},remove_propsUpdated:function(dO){this.$2$1=ss.delegateRemove(this.$2$1,dO)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(dO){this.$1=dO},incrementProps:function(){var dO=this.createUpdatedProps();var dP=$.extend(false,new Object,this.get_props(),dO);this.set_props(dP);if(ss.isNullOrUndefined(dO)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(dO){var dP=ss.mkdel(this,this.incrementProps);dO.add_propsUpdated(dP);return new tab.CallOnDispose(function(){dO.remove_propsUpdated(dP)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return new Object},createUpdatedProps:function(){return null}},function(){return w},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(bT,[dM])]});return dN};u.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(u,a,1);global.spiff.BaseReactViewModel$1=u;var v=function(dM){var dN=function(dO,dP){this.$3=null;this.$4=ss.getDefaultValue(dM);dL.call(this,dP.domRoot);tab.Param.verifyValue(dO,'viewModel');tab.Param.verifyValue(dP,'t');this.$3=dP;this.$4=dO;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(dN,v,[dM],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();dL.prototype.dispose.call(this)},onViewModelPropertyChanged:function(dO,dP){},$2:function(dO){this.dispose()}},function(){return dL},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dM])]});return dN};v.__typeName='spiff.BaseView$1';ss.initGenericClass(v,a,1);global.spiff.BaseView$1=v;var w=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};w.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=w;var x=function(dM){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dL.call(this,dM);this.$2()};x.__typeName='spiff.Button';global.spiff.Button=x;var y=function(dM){var dN=function(dO){React.Component.call(this,dO)};ss.registerGenericClassInstance(dN,y,[dM],{get_className:function(){var dO=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){dO.push(this.props.customClassName)}if(this.props.border){dO.push('bordered')}if(this.props.disabled){dO.push('disabled')}return dO.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var dO={className:this.get_className(),style:this.props.buttonStyle,title:(ss.isNullOrUndefined(this.props.tooltip)?this.props.label:this.props.tooltip),onKeyDown:ss.mkdel(this,function(dQ){var dR=dQ.keyCode;if(dR===32||dR===13){this.$1(EventUtils.NormalizedEvent.Create(dQ,ReactDOM.findDOMNode(this),null));dQ.preventDefault();dQ.stopPropagation()}}),'data-test-id':this.props.testId,role:'button'};if(ss.isValue(this.props.tabIndex)){dO.tabIndex=ss.unbox(this.props.tabIndex)}if(ss.isValue(this.props.additionalRoles)&&this.props.additionalRoles.length>0){dO.role+=' '+this.props.additionalRoles.join(' ')}var dP=new EventUtils.EventHandleSpec;dP.tap=ss.mkdel(this,this.$1);dP.doubleTap=ss.mkdel(this,this.$0);return EventUtils.EventForwarder.div(dP,dO,this.customContentBefore(),bh.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter())},$1:function(dO){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(dO)}},$0:function(dO){if(!this.props.disabled&&!ss.staticEquals(this.props.onDoubleTap,null)){this.props.onDoubleTap(dO)}}},function(){return React.Component},function(){return[]});return dN};y.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(y,a,1);global.spiff.ButtonBaseComponent$1=y;var z=function(dM){ss.makeGenericType(y,[Object]).call(this,dM)};z.__typeName='spiff.ButtonComponent';z.create=function(dM,dN,dO){return React.createElement(z,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+dM,label:dN,onTap:dO})};global.spiff.ButtonComponent=z;var A=function(){};A.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=A;var B=function(dM,dN){ss.makeGenericType(cT,[ch,Object,Object]).call(this,ch.newCheckbox(dM.label,dM.isSelected),dM,dN);this.get_widget().set_disabled(dM.disabled)};B.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=B;var C=function(dM,dN,dO,dP){this.$a=null;this.$b=null;this.$3$1=null;dv.call(this,dM,dN,dO,null,false);this.$a=dM;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new x(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(dP);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};C.__typeName='spiff.ClearableTextInputView';C.newClearableTextInputView=function(dM,dN,dO){var dP=new D;return new C(dP,dM,dN,dO)};global.spiff.ClearableTextInputView=C;var D=function(){this.$0=null;this.$1=null;this.$2=null;dt.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};D.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=D;var E=function(){};E.__typeName='spiff.ClickBuster';E.add_clickBustDetected=function(dM){E.$1$1=ss.delegateCombine(E.$1$1,dM)};E.remove_clickBustDetected=function(dM){E.$1$1=ss.delegateRemove(E.$1$1,dM)};E.preventGhostClick=function(dM,dN,dO){if(!BrowserSupport.BrowserSupport.IsTouch()||!BrowserSupport.BrowserSupport.AddEventListener()){return}if(ss.isNullOrUndefined(E.$3)){E.$3=[];document.addEventListener('click',E.$0,true)}var dP=$(dO).closest('.'+E.suppressClickBustingClass).length>0;if(!dP){E.$3.push({item1:dM,item2:dN});window.setTimeout(E.$1,600)}};E.$1=function(){ss.removeAt(E.$3,0)};E.$0=function(dM){var dN=dM;var dO=dN.pageX;var dP=dN.pageY;for(var dQ=0;dQ<E.$3.length;dQ++){var dR=E.$3[dQ];if(Math.abs(dR.item1-dO)<25&&Math.abs(dR.item2-dP)<25){dM.stopPropagation();dM.preventDefault();if(ss.isValue(E.$1$1)){E.$1$1(dM)}}}};global.spiff.ClickBuster=E;var F=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+F.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};F.__typeName='spiff.ClickHandler';F.targetAndClick=function(dM,dN){return(new F).setTarget(dM).onClick(dN)};F.targetAndRightClick=function(dM,dN){return(new F).setTarget(dM).onRightClick(dN)};F.targetAndPress=function(dM,dN){return(new F).setTarget(dM).onPress(dN)};global.spiff.ClickHandler=F;var G=function(){React.Component.call(this);var dM=new N;dM.isSelecting=false;this.state=dM};G.__typeName='spiff.ComboBoxComponent';G.createCustomIconElements=function(dM){if(ss.isNullOrEmptyString(dM)){return null}return[bh.div({className:'tab-Icon '+dM})]};global.spiff.ComboBoxComponent=G;var H=function(dM){cC.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+dM};H.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=H;var I=function(dM,dN,dO,dP,dQ){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.set_iconClass(dM);this.set_name(dN);this.set_data(dO);this.set_description(dP);this.set_title(dQ)};I.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=I;var J=function(){cC.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};J.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=J;var K=function(){};K.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=K;var L=function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.hasTooltip=false;this.enabled=false;Object.call(this)};L.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=L;var M=function(){};M.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=M;var N=function(){this.isSelecting=false};N.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=N;var O=function(){this.icon=null;this.name=null;this.button=null;dt.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};O.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=O;var P=function(){};P.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=P;var Q=function(dM,dN){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(v,[R]).call(this,dM,dN);this.$d=dM;this.$c=dN;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=ds.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(Q.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};Q.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=Q;var R=function(){this.$j=[];this.$m=null;this.$f=null;this.$p=0;this.$l=0;this.$o=0;this.$n=true;this.$g=true;this.$i=false;this.$k='';this.$e=null;this.$h=true;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=false;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$8=false;this.$3$9=null;ss.makeGenericType(u,[L]).call(this);this.set_showDropdownIcon(false);this.generateProps=false};R.__typeName='spiff.ComboBoxViewModel';R.newUnificationComboBoxViewModel=function(){var dM=new R;dM.set_theme(2);dM.set_menuTheme(2);return dM};R.newLineAndArrowComboBoxViewModel=function(){var dM=new R;dM.set_theme(3);dM.set_menuTheme(2);return dM};R.newReactLineAndArrowComboBoxViewModel=function(){var dM=new R;dM.set_theme(3);dM.set_menuTheme(2);dM.generateProps=true;return dM};global.spiff.ComboBoxViewModel=R;var S=function(dM){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dL.call(this,dM.get_domRootElement());this.compositeSearchWidgetTemplate=dM;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bq.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bq.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};S.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=S;var T=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};T.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=T;var U=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dt.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=dv.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=cg.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.get_searchButton().element.attr('title',tab.Strings.MapsSearchViewInitialText);this.$0=cg.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.$0.element.attr('title',tab.Strings.MapsSearchViewClearInputTooltip);this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};U.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=U;var V=function(dM,dN,dO,dP,dQ){this.$0=null;I.call(this,dN,dO,dP,dQ,null);this.$0=dM};V.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=V;var W=function(dM,dN){this.$0=null;if(ss.isValue(dM)){this.$0='url('+tableau.util.assetUrl(dM,true)+'), '+dN}else{this.$0=dN}};W.__typeName='spiff.CustomCursor';W.copyFromElement=function(dM){var dN=(ss.isValue(dM)?dM.css('cursor'):'');return new W(null,dN)};global.spiff.CustomCursor=W;var X=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;bZ.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};X.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=X;var Y=function(dM){ca.call(this,dM,new X);this.$9();this.$a();if(dM.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};Y.__typeName='spiff.CustomIScrollView';Y.$0=function(dM,dN,dO){return Math.max(ss.round(dM*dN/Math.max(dO,1)),8)};global.spiff.CustomIScrollView=Y;var Z=function(){this.$0=null;cu.call(this)};Z.__typeName='spiff.CustomMenuItem';Z.newCustomMenuItem=function(dM){var dN=new Z;dN.set_domRoot(dM);var dO=dN;return dO};global.spiff.CustomMenuItem=Z;var ba=function(){bZ.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};ba.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=ba;var bb=function(dM){this.$a=null;this.$9=null;ca.call(this,dM,new ba);this.addScroller();this.setUpEvents()};bb.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=bb;var bc=function(){this.canAccept=null;this.onFeedbackType=null;this.onDragOver=null;this.onDragExit=null;this.onAcceptDrop=null;this.onGetDropTarget=null;this.onGetDropCursor=null};bc.__typeName='spiff.DelegateDropTarget';global.spiff.DelegateDropTarget=bc;var bd=function(dM,dN){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;dL.call(this,$("\n<div class='tab-dialog' role='dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(dM);this.set_body(dN);this.$f=cg.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var dO=$('#loadingSpinner');if(dO.length===1){this.$s.append(dO.html())}this.set_resizeable(false);this.$g.attr('tabindex','-1');EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(this,this.$4));EventUtils.GlobalUIEvents.add_LastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){EventUtils.GlobalUIEvents.remove_LastTouch(ss.mkdel(this,this.$5))})));bi.attachDropTarget(this.$g,bd.$3)};bd.__typeName='spiff.Dialog';global.spiff.Dialog=bd;var be=function(){I.call(this,null,null,null,null,null)};be.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=be;var bf=function(dM,dN,dO,dP){this.$z=false;this.$A=0;this.$y=null;this.template=null;bd.call(this,dM,dN);this.template=new dt(dN);this.$z=dO;this.$A=dP;this.$w()};bf.__typeName='spiff.DockableSideDialog';global.spiff.DockableSideDialog=bf;var bg=function(){};bg.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=bg;var bh=function(){};bh.__typeName='spiff.DOMElements';bh.$0=function(dM){return React.createFactory(dM)};bh.$1=function(dM){return React.createFactory(dM)};global.spiff.DOMElements=bh;var bi=function(){};bi.__typeName='spiff.DragDropManager';bi.add_dragStarted=function(dM){bi.$1$1=ss.delegateCombine(bi.$1$1,dM)};bi.remove_dragStarted=function(dM){bi.$1$1=ss.delegateRemove(bi.$1$1,dM)};bi.add_dragMoved=function(dM){bi.$1$2=ss.delegateCombine(bi.$1$2,dM)};bi.remove_dragMoved=function(dM){bi.$1$2=ss.delegateRemove(bi.$1$2,dM)};bi.add_dragEnded=function(dM){bi.$1$3=ss.delegateCombine(bi.$1$3,dM)};bi.remove_dragEnded=function(dM){bi.$1$3=ss.delegateRemove(bi.$1$3,dM)};bi.add_currentTargetChanged=function(dM){bi.$1$4=ss.delegateCombine(bi.$1$4,dM)};bi.remove_currentTargetChanged=function(dM){bi.$1$4=ss.delegateRemove(bi.$1$4,dM)};bi.get_isDragging=function(){return ss.isValue(bi.get_currentDrag())};bi.$g=function(){return tab.Logger.lazyGetLogger(bi)};bi.get_lastDragEvent=function(){return bi.$z};bi.get_currentTarget=function(){return bi.$p};bi.set_currentTarget=function(dM){var dN=!ss.referenceEquals(bi.$p,dM);bi.$p=dM;if(dN&&!ss.staticEquals(bi.$1$4,null)){bi.$1$4(bi.$p)}};bi.get_currentDrag=function(){return bi.$1$5};bi.set_currentDrag=function(dM){bi.$1$5=dM};bi.init=function(){if(ss.isNullOrUndefined(bi.$s)){bi.$s=new EventUtils.TableauEventHandler(document.body,bi.$v)}};bi.$0=function(dM,dN){var dO=dM.get(0);var dP=dO.getAttribute('class');if(ss.isNullOrEmptyString(dP)){dO.setAttribute('class',dN);return}var dQ=dP.split(' ');if(ss.indexOf(dQ,dN)===-1){dO.setAttribute('class',dQ.concat([dN]).join(' '))}};bi.$b=function(dM,dN){var dO=dM.get(0);var dP=dO.getAttribute('class');if(ss.isNullOrEmptyString(dP)){return}var dQ=dP.split(' ');var dR=ss.indexOf(dQ,dN);if(dR>=0){dQ.splice(dR,1);dO.setAttribute('class',dQ.join(' '))}};bi.attachDropTarget=function(dM,dN){dM.attr('data-tab-drop-target','1');bi.$0(dM,'tabDropTarget');dM.data('tabDropTarget',dN)};bi.detachDropTarget=function(dM){dM.removeAttr('data-tab-drop-target');dM.removeData('tabDropTarget');bi.$b(dM,'tabDropTarget')};bi.isDropTarget=function(dM){return ss.isValue(dM.attr('data-tab-drop-target'))};bi.attachDragSource=function(dM,dN){dM.attr('data-tab-drag-source','1');dM.data('tabDragSource',dN)};bi.removeDragSource=function(dM){dM.removeData('tabDragSource');dM.removeAttr('data-tab-drag-source')};bi.isDragSource=function(dM){return ss.isValue(dM.attr('data-tab-drag-source'))};bi.$2=function(){bi.$t=new bk;bi.$t.show();if(bi.get_currentDrag().get_hasPayload()&&bi.get_currentDrag().get_dragType()==='dragmove'){bi.setDragCursor(W.copyFromElement(bi.$w))}bi.$u=new EventUtils.TableauEventHandler(bi.$t.element.get(0),bi.$v);bi.$r=new tab.DisposableHolder;bi.$r.add$1(bi.$t);bi.$r.add$1(bi.$u);bi.$r.add$1(bq.bindWithDispose($(document.body),'keydown',bi.$9));bi.$r.add$1(bq.bindWithDispose($(document.body),'keyup',bi.$a))};bi.$3=function(){bi.$r=tab.MiscUtil.dispose$1(bi.$r)};bi.startDrag=function(dM,dN,dO){if(ss.isNullOrUndefined(dM)||ss.isNullOrUndefined(dN)||!dM.get_hasPayload()){return}if(ss.isValue(dO)){bi.$w=dO}bi.$z=dN;bi.cancelDrag(null);bi.set_currentDrag(dM);bi.$c(bi.get_currentDrag().get_dragAvatar());bi.$f();bi.$o=tab.WindowHelper.requestAnimationFrame(bi.$f);bi.$2();bi.$d(dN);if(!ss.staticEquals(bi.$1$1,null)){bi.$1$1(bi.get_currentDrag())}};bi.cancelDrag=function(dM){if(ss.isNullOrUndefined(bi.get_currentDrag())){return}if(ss.isNullOrUndefined(dM)||ss.referenceEquals(dM,bi.get_currentDrag())){bi.get_currentDrag().cancelDrag();bi.$6(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bi.drop=function(dM,dN,dO){bi.get_currentDrag().isCopyDrag=dN;bi.get_currentDrag().set_isShiftDrag(dO);bi.$6(dM,false,bi.get_currentDrag().isCopyDrag,function(){if(ss.isValue(dM)){return dM.acceptDrop(bi.get_currentDrag()).always(function(dP){})}else{bi.get_currentDrag().dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bi.firstTouch=function(dM){var dN=$(dM.target).closest('[data-tab-drag-source]');if(ss.isNullOrUndefined(dN)||dN.length===0){bi.$x=null;bi.$w=null;return}bi.$x=dN.data('tabDragSource');bi.$w=dN};bi.dragEnd=function(dM){if(ss.isNullOrUndefined(bi.get_currentDrag())){return}switch(bi.get_currentDrag().get_dragType()){case'dragmove':{bi.$6(null,false,false,function(){bi.get_currentDrag().endDragAt(dM);return $.Deferred().resolve(true).promise()});break}case'dragmovedrop':case'dragdrop':{bi.drop(bi.get_currentTarget(),dM.get_IsCtrlKey(),dM.shiftKey);break}}};bi.dragMove=function(dM){if(ss.isNullOrUndefined(bi.get_currentDrag())){return}bq.stopEvent$1(dM);bi.$z=dM;bi.get_currentDrag().isCopyDrag=dM.get_IsCtrlKey();bi.get_currentDrag().set_isShiftDrag(dM.shiftKey);tab.WindowHelper.clearSelection();var dN=tab.DateUtil.get_nowAsTime();if(dN-bi.$y>75){if(ss.isValue(bi.$o)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bi.$o))}bi.$f()}bi.$d(dM);if(!ss.staticEquals(bi.$1$2,null)){bi.$1$2(bi.get_currentDrag())}};bi.$9=function(dM){if(ss.isNullOrUndefined(bi.get_currentDrag())){return}bq.stopEvent$2(dM);switch(dM.which){case 16:{bi.get_lastDragEvent().shiftKey=true;bi.dragMove(bi.get_lastDragEvent());break}}};bi.$a=function(dM){if(ss.isNullOrUndefined(bi.get_currentDrag())){return}bq.stopEvent$2(dM);switch(dM.which){case 16:{bi.get_lastDragEvent().shiftKey=false;bi.dragMove(bi.get_lastDragEvent());break}case 27:{bi.cancelDrag(bi.get_currentDrag());break}}};bi.$d=function(dM){switch(bi.get_currentDrag().get_dragType()){case'dragmove':{bi.get_currentDrag().moveTo(dM);break}case'dragdrop':{bi.$e(dM);break}case'dragmovedrop':{bi.get_currentDrag().moveTo(dM);bi.$e(dM);break}default:{break}}};bi.$e=function(dM){var dN=bi.findDropTarget(dM);if(ss.isValue(bi.get_currentTarget())){if(!ss.referenceEquals(bi.get_currentTarget(),dN)){bi.get_currentTarget().dragExit(bi.get_currentDrag())}else if(bi.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(dN)){var dO=dN.dragOver(bi.get_currentDrag());while(ss.isValue(dO)&&!ss.referenceEquals(dO,dN)){dN=dO;dO=dN.dragOver(bi.get_currentDrag())}dN=dO}if(ss.isValue(dN)){bi.setDragCursor(dN.getDropCursor(bi.get_currentDrag()))}else{bi.setDragCursor(bi.get_currentDrag().get_defaultDropCursor())}bi.set_currentTarget(dN)};bi.setDragCursor=function(dM){dM.setCursor(bi.$t.element)};bi.dragStart=function(dM){if(bi.get_isDragging()){return}var dN=bi.$x;if(ss.isNullOrUndefined(dN)){var dO=$(dM.target).closest('[data-tab-drag-source]');dN=dO.data('tabDragSource')}if(ss.isNullOrUndefined(dN)){return}var dP=dN.startDrag(dM);if(ss.isNullOrUndefined(dP)){return}bi.startDrag(dP,dM,null)};bi.$6=function(dM,dN,dO,dP){bi.$c(null);bi.$3();if(ss.isValue(bi.$o)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bi.$o));bi.$o=null}dP().always(function(dQ){if(!ss.staticEquals(bi.$1$3,null)){bi.$1$3({drag:bi.get_currentDrag(),target:dM,dropAccepted:dQ,canceled:dN,isCopyDrop:dO})}bi.set_currentDrag(null);bi.set_currentTarget(null)})};bi.$c=function(dM){if(ss.isValue(bi.$q)){bi.$q.get_rootElement().detach();bi.$q.dispose();bi.$q=null}bi.$q=dM;if(ss.isValue(bi.$q)){bi.$q.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none');bi.$q.addToDom($('body'))}};bi.$f=function(){if(ss.isNullOrUndefined(bi.$q)){return}var dM=function(dO,dP,dQ){if(dP<ss.Int32.div(dQ,2)){return 0}else if(dP>dO-ss.Int32.div(dQ,2)){return dO-dQ}else{return dP-ss.Int32.div(dQ,2)}};var dN=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bi.$q.get_rootElement(),dM(dN.scrollWidth,bi.$z.pageX,tab.DoubleUtil.roundToInt(bi.$q.get_rootElement().outerWidth())),dM(dN.scrollHeight,bi.$z.pageY,tab.DoubleUtil.roundToInt(bi.$q.get_rootElement().outerHeight())),null,null);bi.$y=tab.DateUtil.get_nowAsTime();bi.$o=tab.WindowHelper.requestAnimationFrame(bi.$f)};bi.$7=function(dM){bi.$4();var dN=dM.clientX;var dO=dM.clientY;if(BrowserSupport.BrowserSupport.UseAlternateHitStrategy()){if(ss.isValue(dM.touches)&&dM.touches.length>0&&ss.isValue(dM.touches[0].screenX)){dN=dM.touches[0].screenX;dO=dM.touches[0].screenY}else{dN=dM.originalEvent['screenX'];dO=dM.originalEvent['screenY']}}var dP=$(null);if(ss.isValue(dN)&&ss.isValue(dO)){dP=$(document.elementFromPoint(dN,dO))}bi.$5();return dP};bi.$4=function(){for(var dM=0;dM<bi.$A.length;dM++){var dN=bi.$A[dM];dN.disableHitTests()}};bi.$5=function(){for(var dM=0;dM<bi.$A.length;dM++){var dN=bi.$A[dM];dN.enableHitTests()}};bi.findDropTarget=function(dM){if(!bi.get_isDragging()){return null}var dN=bi.get_currentDrag();var dO=bi.$8(dM);for(var dP=0;dP<dO.length;dP++){var dQ=dO[dP];var dR=dQ.data('tabDropTarget');if(bi.$1(dR,dN)){return dR.getDropTarget(dQ)}}return null};bi.$8=function(dM){var dN=[];var dO=bi.$7(dM).closest('[data-tab-drop-target]');if(dO.length===0){--dM.clientX;dO=bi.$7(dM).closest('[data-tab-drop-target]')}if(dO.length>0){dN.push(dO);dO.parents('[data-tab-drop-target]').each(function(dP,dQ){dN.push($(dQ))})}return dN};bi.$1=function(dM,dN){return ss.isValue(dM)&&ss.isValue(dN)&&ss.isValue(dM.dragOver(dN))};bi.registerDragGlass=function(dM){bi.$A.push(dM)};bi.unregisterDragGlass=function(dM){ss.remove(bi.$A,dM)};global.spiff.DragDropManager=bi;var bj=function(dM,dN){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.$1$2=false;this.draggedObject=dM;this.$0=dN;this.isCopyDrag=false;this.$1=false;this.set_isRightDrag(false)};bj.__typeName='spiff.DragInstance';global.spiff.DragInstance=bj;var bk=function(){bx.call(this,null,false);bi.registerDragGlass(this)};bk.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bk;var bl=function(dM){this.$0=null;this.$0=dM.element.clone(false).addClass('dragAvatar')};bl.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=bl;var bm=function(){React.Component.call(this);this.state={isSelecting:false}};bm.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bm;var bn=function(dM,dN){ss.makeGenericType(cT,[bo,Object,Object]).call(this,bn.$0(dM),dM,dN)};bn.__typeName='spiff.EditableTextLabelComponent';bn.$0=function(dM){var dN=bo.newEditableTextView(dM.initialContent,dM.placeHolderText,dM.editOnDoubleClick);if(!tab.MiscUtil.isNullOrEmpty$3(dM.tooltip)){dN.get_inputElement().attr('title',dM.tooltip);dN.get_textElement().find('.text-span').get(0).title=dM.tooltip}dN.showHover=ss.isNullOrUndefined(dM.showHover)||dM.showHover;dN.showTooltip=dM.showTooltip;dN.add_committed(function(){dM.onCommit(dN.get_text())});if(!ss.isNullOrEmptyString(dM.styleOverrideClass)){tab.StyleUtil.appendCSSRuleToStyleSheet$1(dM.styleOverrideClass+'-override-style','.'+dM.styleOverrideClass+' .tab-editable-text-view > div',dM.styleOverride)}return dN};global.spiff.EditableTextLabelComponent=bn;var bo=function(dM,dN,dO,dP){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showHover=false;this.showTooltip=false;dv.call(this,dM,dN,dO,null,false);this.$9=dM;this.updateTextElement(dN);var dQ=new x(this.get_textElement());if(dP){this.disposables.add$1(ds.targetAndDoubleClick(dQ.element.get(0),ss.mkdel(this,function(dS){this.edit()})))}else{dQ.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dQ.remove_click(ss.mkdel(this,this.edit));dQ.dispose()})))}this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(dS){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var dR=new bC(this,null,ss.mkdel(this,function(dS){if(this.showHover){this.element.addClass('hover');this.$8(true)}}),ss.mkdel(this,function(dS){if(this.showHover){this.element.removeClass('hover');this.$8(false)}}));this.disposables.add$1(dR)}this.set_isEditing(false);this.showHover=true};bo.__typeName='spiff.EditableTextView';bo.newEditableTextView=function(dM,dN,dO){var dP=new l;return new bo(dP,dM,dN,dO)};global.spiff.EditableTextView=bo;var bp=function(){this.$1=null;this.$0=null;this.$1=null;this.$0=ss.mkdel(this,function(dM){this.$1=dM})};bp.__typeName='spiff.EnsureElementVisibleHelper';bp.create=function(){return new bp};global.spiff.EnsureElementVisibleHelper=bp;var bq=function(){};bq.__typeName='spiff.EventUtil';bq.bindWithDispose=function(dM,dN,dO){var dP=ss.formatString('{0}.{1}',dN,++bq.$0);dM.on(dP,dO);return new tab.CallOnDispose(function(){dM.off(dP)})};bq.addEventListenerWithDispose=function(dM,dN,dO,dP){dM.addEventListener(dN.toString(),dO,dP);return new tab.CallOnDispose(function(){dM.removeEventListener(dN.toString(),dO,dP)})};bq.isCtrlKey=function(dM){if(ss.isNullOrUndefined(dM)){return false}return(BrowserSupport.BrowserSupport.IsMac()?dM.metaKey:dM.ctrlKey)};bq.getDragFileList=function(dM){if(ss.isNullOrUndefined(dM)||ss.isNullOrUndefined(dM.dataTransfer)||ss.isNullOrUndefined(dM.dataTransfer.files)||dM.dataTransfer.files.length===0){return null}return dM.dataTransfer.files};bq.stopEvent=function(dM){dM.stopPropagation();dM.preventDefault()};bq.stopEvent$1=function(dM){dM.stopPropagation();dM.preventDefault()};bq.stopEvent$2=function(dM){dM.stopPropagation();dM.preventDefault()};global.spiff.EventUtil=bq;var br=function(){};br.__typeName='spiff.EventUtilsInitializer';global.spiff.EventUtilsInitializer=br;var bs=function(dM){cG.call(this,dM)};bs.__typeName='spiff.ExclusiveMultiSelectGroupSelection';bs.buildExclusiveMultiSelectGroupSelection=function(dM){return function(dN,dO){var dP=new bs(dN.length);var dQ=dN.length;for(var dR=0;dR<dQ;++dR){if(dO(dN[dR])){dP.get_selectedIndexes()[dR]=true}}dP.validateAllSelectedState();return dP}};global.spiff.ExclusiveMultiSelectGroupSelection=bs;var bt=function(dM){dj.call(this,dM)};bt.__typeName='spiff.ExclusiveSingleSelectGroupSelection';bt.buildExclusiveSingleSelectGroupSelection=function(dM){return function(dN,dO){var dP=new bt(dN.length);var dQ=dN.length;for(var dR=0;dR<dQ;++dR){if(dO(dN[dR])){dP.get_selectedIndexes()[dR]=true}}dP.validateAllSelectedState();return dP}};global.spiff.ExclusiveSingleSelectGroupSelection=bt;var bu=function(){{bu.$0('focus',bu.$3);bu.$0('blur',bu.$1);bu.$0('keydown',bu.$4);bu.$0('keyup',bu.$4);EventUtils.GlobalUIEvents.add_FirstTouch(bu.$2);if(!ss.referenceEquals(window.self,window.top)){bu.$a=1}}};bu.__typeName='spiff.FocusManager';bu.shutdown=function(){if(ss.isNullOrUndefined(bu.$9)){return}bu.$6('focus',bu.$3);bu.$6('blur',bu.$1);bu.$6('keydown',bu.$4);bu.$6('keyup',bu.$4);EventUtils.GlobalUIEvents.remove_FirstTouch(bu.$2);bu.$9=null};bu.initialize=function(){if(ss.isNullOrUndefined(bu.$9)){bu.$9=new bu}};bu.$0=function(dM,dN){document.addEventListener(dM,dN,true)};bu.$6=function(dM,dN){document.removeEventListener(dM,dN,true)};bu.updateFocusIndicatorVisibility=function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',bu.$a===1)};bu.$3=function(dM){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,dM.target)&&i.$1()){bu.$a=1}bu.updateFocusIndicatorVisibility()};bu.$1=function(dM){window.setTimeout(function(){if(document.hasFocus()){$(dM.target).removeClass('tab-showFocusIndicator')}else{i.$0()}})};bu.$4=function(dM){var dN=dM.keyCode;i.$2(dN,dM.type==='keydown');if(ss.isNullOrUndefined(document.activeElement)){document.body.focus()}};bu.$2=function(dM,dN){bu.$a=0};bu.wasFocusedByClick=function(){return bu.$a===0};bu.trapFocus=function(dM){dM.off(bu.$7).on(bu.$7,bu.$5)};bu.untrapFocus=function(dM){dM.off(bu.$7)};bu.$5=function(dM){if(dM.which===9){var dN=$(dM.currentTarget).find(':tabbable');if(ss.referenceEquals(dM.target,dN.last()[0])&&!dM.shiftKey){dN.first().focus()}else if(ss.referenceEquals(dM.target,dN.first()[0])&&dM.shiftKey){dN.last().focus()}else if(dN.length>0){return}dM.preventDefault();dM.stopPropagation()}};global.spiff.FocusManager=bu;var bv=function(){};bv.__typeName='spiff.FullscreenUtil';bv.add_fullscreenStateChanged=function(dM){bv.$1$1=ss.delegateCombine(bv.$1$1,dM)};bv.remove_fullscreenStateChanged=function(dM){bv.$1$1=ss.delegateRemove(bv.$1$1,dM)};bv.get_fullscreenChangeEventName=function(){return bv.$7.substring(2)};bv.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(bv.$6)){return false}return document[bv.$6]};bv.get_fullscreenElement=function(){if(ss.isNullOrUndefined(bv.$5)){return null}return document[bv.$5]};bv.get_inFullscreenMode=function(){return ss.isValue(bv.get_fullscreenElement())};bv.$0=function(dM,dN){for(var dO=0;dO<dN.length;dO++){var dP=dN[dO];if(dP in dM||dP.toLowerCase()in dM){return dP}}return null};bv.exitFullscreen=function(){if(ss.isNullOrUndefined(bv.$4)){return}document[bv.$4]()};bv.requestFullscreen=function(dM){if(ss.isNullOrUndefined(bv.$8)){return}dM[bv.$8]()};bv.$1=function(dM){document.documentElement.classList.toggle('fullscreen',bv.get_inFullscreenMode());window.setTimeout(function(){if(!ss.staticEquals(bv.$1$1,null)){bv.$1$1()}})};bv.$2=function(){var dM=$(document.documentElement);if(bv.get_inFullscreenMode()){bu.trapFocus(dM)}else{bu.untrapFocus(dM)}};bv.centeringContainerOffset=function(){if(!bv.get_inFullscreenMode()){return 0}var dM=$('#centeringContainer');return dM.offset().top};global.spiff.FullscreenUtil=bv;var bw=function(dM){cO.call(this,dM)};bw.__typeName='spiff.GenericDropdownButtonComponent';bw.create=function(dM){return React.createElement(bw,dM)};global.spiff.GenericDropdownButtonComponent=bw;var bx=function(dM,dN){this.$3=null;this.$2=null;this.$2$1=null;dL.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=dM||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}var dO=new EventUtils.EventHandleSpec;dO.SetHandler('firstTouch',ss.mkdel(this,this.handleClick));if(dN){dO.doubleTap=function(dP){dP.preventDefault()};dO.pinchStart=function(dP){dP.preventDefault()}}this.$2=ds.targetAndConfig(this.element[0],dO).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bx.__typeName='spiff.Glass';global.spiff.Glass=bx;var by=function(dM){this.$2=null;this.$0=null;this.$1=null;React.Component.call(this,dM);this.state={};this.$0=ss.mkdel(this,function(dN){this.$2=dN})};by.__typeName='spiff.GridIScrollHandler';global.spiff.GridIScrollHandler=by;var bz=function(dM){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=dM;this.allSelected=false;this.set_selectedIndexes({})};bz.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=bz;var bA=function(dM,dN){this.$2=false;cO.$ctor1.call(this,dM,dN);this.state={value:dM.initialValue,emptyTextBox:false}};bA.__typeName='spiff.HorizontalSliderComponent';global.spiff.HorizontalSliderComponent=bA;var bB=function(){};bB.__typeName='spiff.HoverAddClassBehavior';bB.attach=function(dM,dN,dO){dN=ss.coalesce(dN,'hover');return new bC(dM,dO,function(dP){bB.$0(dP,dN)},function(dP){bB.$1(dP,dN)})};bB.$0=function(dM,dN){$(dM.currentTarget).addClass(dN)};bB.$1=function(dM,dN){$(dM.currentTarget).removeClass(dN)};global.spiff.HoverAddClassBehavior=bB;var bC=function(dM,dN,dO,dP){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=dM;this.$4=dN;this.$5=dO;this.$6=dP;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(dN)){this.$7.element.on('mouseenter'+this.$3(),dN,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),dN,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bC.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bC;var bD=function(){};bD.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bD;var bE=function(){this.iconElement=null;x.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bE.__typeName='spiff.IconButton';global.spiff.IconButton=bE;var bF=function(dM){React.Component.call(this,dM);this.state=this.$0()};bF.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bF;var bG=function(){this.isActive=false};bG.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=bG;var bH=function(){};bH.__typeName='spiff.IContent';global.spiff.IContent=bH;var bI=function(){};bI.__typeName='spiff.IDialogContent';global.spiff.IDialogContent=bI;var bJ=function(){};bJ.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=bJ;var bK=function(){};bK.__typeName='spiff.IDragSource';global.spiff.IDragSource=bK;var bL=function(){};bL.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=bL;var bM=function(){};bM.__typeName='spiff.IHasEnabledState';global.spiff.IHasEnabledState=bM;var bN=function(){};bN.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=bN;var bO=function(){};bO.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=bO;var bP=function(){};bP.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=bP;var bQ=function(){};bQ.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=bQ;var bR=function(){};bR.__typeName='spiff.InputType';global.spiff.InputType=bR;var bS=function(dM,dN){this.$4=null;cO.$ctor1.call(this,dM,dN);var dO=new EventUtils.EventHandleSpec;dO.tap=ss.mkdel(this,function(dP){this.$2();this.$0(dP)});this.$4=dO};bS.__typeName='spiff.InteractAsButtonWrapperComponent';bS.create=function(dM){return React.createElement(bS,dM)};global.spiff.InteractAsButtonWrapperComponent=bS;var bT=function(dM){var dN=function(){};ss.registerGenericInterfaceInstance(dN,bT,[dM],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return dN};bT.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(bT,a,1);global.spiff.IPropsProvider$1=bT;var bU=function(){};bU.__typeName='spiff.IScrollable';global.spiff.IScrollable=bU;var bV=function(dM,dN){this.$4=null;this.$5=null;this.iScroll=null;React.Component.call(this,dM,dN);this.state={hovered:false,scrolling:false}};bV.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=bV;var bW=function(){};bW.__typeName='spiff.IScroller';global.spiff.IScroller=bW;var bX=function(){};bX.__typeName='spiff.IScrollingControl';global.spiff.IScrollingControl=bX;var bY=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.customStyle=null;this.scrollStopCallback=null;this.scrollCallback=null};bY.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=bY;var bZ=function(dM){this.content=null;this.scroll=null;dt.call(this,$(dM))};bZ.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=bZ;var ca=function(dM,dN){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;cV.call(this,dM,dN)};ca.__typeName='spiff.IScrollView';global.spiff.IScrollView=ca;var cb=function(){};cb.__typeName='spiff.ISelectable';global.spiff.ISelectable=cb;var cc=function(){};cc.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=cc;var cd=function(){};cd.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cd;var ce=function(){};ce.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=ce;var cf=function(){};cf.__typeName='spiff.JQueryGestureExtensions';cf.fireTableauGesture=function(dM,dN,dO,dP){if(ss.isNullOrUndefined(dO)){var dQ=new Object;dQ.type='touchend';dQ.timeStamp=tab.DateUtil.get_nowAsTime();dQ.keyCode=null;dQ.ctrlKey=false;dQ.altKey=false;dQ.metaKey=false;dQ.shiftKey=false;dQ.charOrCode=null;dQ.clientX=0;dQ.clientY=0;dQ.touches=new Array;dQ.targetTouches=new Array;dQ.changedTouches=new Array;dQ.target=dM;dO=dQ}var dR;switch(dN){case'dragMove':case'dragStart':case'dragEnd':{dR='drag';break}case'hover':case'moving':case'mouseleave':{dR='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{dR='pinch';break}default:{dR='discrete';break}}var dS=EventUtils.NormalizedEvent.Create(dO,dM,null);EventUtils.Gesture.FromHtml(dM,dR).Fire(dN,dS,dP||{})};global.spiff.JQueryGestureExtensions=cf;var cg=function(dM,dN){this.$b='.label';x.call(this,dM);this.$b=dN};cg.__typeName='spiff.LabelButton';cg.newAnchorButton=function(){return new cg($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};cg.newAnchorButton$1=function(dM,dN){var dO=new cg($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');dO.element.attr('href',dM);dO.element.attr('target',ss.coalesce(dN,'_blank').toString());return dO};cg.newNativeButton=function(){return new cg($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};cg.newMenuButton=function(){return new cg($("<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>"),'.label')};cg.newTextButton=function(dM,dN){var dO=new cg($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(dM)){dO.add_click(dM);dO.disposables.add$1(new tab.CallOnDispose(function(){dO.remove_click(dM)}))}if(ss.isValue(dN)){dO.set_label(dN)}return dO};global.spiff.LabelButton=cg;var ch=function(dM,dN){this.$e='.label';dw.call(this,dM,null);this.$e=dN};ch.__typeName='spiff.LabelToggleButton';ch.newCheckbox=function(dM,dN){var dO=ch.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",dM,dN);dO.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return dO};ch.newRadioButton=function(dM,dN){var dO=ch.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",dM,dN);dO.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return dO};ch.newNativeCheckbox=function(dM,dN){return ch.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",dM,dN)};ch.newNativeRadioButton=function(dM,dN){var dO=ch.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",dM,dN);dO.set_preventMouseDeselect(true);return dO};ch.newLabelToggleButton=function(dM,dN){return ch.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",dM,dN)};ch.$0=function(dM,dN,dO){var dP=new ch($(dM),'.label');dP.set_label(dN);dP.set_selected(dO);var dQ=dP;var dR=dQ.get_inputElement();if(ss.isValue(dR)){dR.click(function(dS){dS.preventDefault()})}return dQ};global.spiff.LabelToggleButton=ch;var ci=function(dM){this.$4=null;React.Component.call(this,dM,null);this.state=this.$0();var dN=new EventUtils.EventHandleSpec;dN.firstTouch=ss.mkdel(this,function(dO){this.handleEnterPress()});this.$4=dN};ci.__typeName='spiff.LineEditWithButtonComponent';global.spiff.LineEditWithButtonComponent=ci;var cj=function(dM,dN){var dO=function(dP,dQ){React.Component.call(this,dP,dQ)};ss.registerGenericClassInstance(dO,cj,[dM,dN],{render:function(){var dP=_.map(this.props.items,ss.mkdel(this,function(dQ){var dR=this.getEventHandleSpecForItem(dQ);var dS={className:'tabListItem',key:this.getItemKey(dQ.data)};if(ss.isNullOrUndefined(dR)){return bh.div(dS,this.buildItem(dQ.data))}else{return EventUtils.EventForwarder.div(dR,dS,this.buildItem(dQ.data))}}));return bh.div({className:'tabList'},dP)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(dP){return null}},function(){return React.Component},function(){return[]});return dO};cj.__typeName='spiff.ListComponent$2';ss.initGenericClass(cj,a,2);global.spiff.ListComponent$2=cj;var ck=function(dM,dN){this.$1$1=null;this.$1$2=null;this.set_parentListView(dM);this.set_draggableListItemView(dN)};ck.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=ck;var cl=function(dM){this.$f=null;this.$g=null;de.call(this);this.set_selectionType(dM)};cl.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cl;var cm=function(dM,dN){this.$g=null;this.$f=null;dw.call(this,cm.$0(dM),null);tab.Param.verifyValue(dN,'viewModel');tab.Param.verifyValue(dN.get_id(),'viewModel.Id');this.$g=dN;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(dN.get_id());this.set_widgetId(dN.get_id());this.$f=dM};cm.__typeName='spiff.ListItemView';cm.$0=function(dM){var dN=$('<div/>').addClass('tab-list-item');dN.append(dM);return dN};global.spiff.ListItemView=cm;var cn=function(dM,dN,dO,dP,dQ){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;w.call(this);this.$2=dM;if(ss.isValue(dN)){this.$0=dN}this.$5=dO;this.$4=dP;this.$3=dQ};cn.__typeName='spiff.ListItemViewModel';cn.newListItem=function(dM,dN,dO,dP,dQ){tab.Param.verifyString(dM,'id');return new cn(dM,dN,dO,dP,dQ)};global.spiff.ListItemViewModel=cn;var co=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};co.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=co;var cp=function(dM,dN){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(v,[cr]).call(this,dM,new cs);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new f(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=dN;this.$5()};cp.__typeName='spiff.ListView';cp.createListView=function(dM,dN){return new cp(dM,dN)};global.spiff.ListView=cp;var cq=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cq.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cq;var cr=function(dM,dN){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;w.call(this);this.$8={};this.$6=new cl(dN);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(dM)};cr.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cr;var cs=function(){this.$0=null;dt.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};cs.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=cs;var ct=function(dM){this.menuItems=null;this.defaultItem=null;this.menuItems=dM;this.defaultItem=_.find(dM,function(dN){return dN.isDefault})};ct.__typeName='spiff.Menu';global.spiff.Menu=ct;var cu=function(){this.name=null;this.description=null;this.title=null;this.readId=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cu.$0;this.id='menuItem'+cu.$0};cu.__typeName='spiff.MenuItem';cu.newDivider=function(){return(new cv).isDivider(true).enabled(false).build()};cu.newActionItem=function(dM,dN,dO,dP){return(new cv).name(dM).readId(dP).data(dN).enabled(!ss.staticEquals(dN,null)&&dO).build()};cu.newActionItemWithItemClass=function(dM,dN,dO){return(new cv).name(dM).itemClass(dO).data(dN).enabled(!ss.staticEquals(dN,null)).build()};cu.newItem=function(dM,dN,dO,dP){return(new cv).data(dM).name(dN).checkState(ss.coalesce(dO,0)).subMenu(dP).enabled(ss.isNullOrUndefined(dP)||dP.menuItems.some(function(dQ){return dQ.enabled})).build()};global.spiff.MenuItem=cu;var cv=function(){this.$0=null;this.$0=new cu};cv.__typeName='spiff.MenuItemBuilder';global.spiff.MenuItemBuilder=cv;var cw=function(){};cw.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cw;var cx=function(){dt.call(this,$("<div class='tabMenuItemDivider' role='separator' />"))};cx.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cx;var cy=function(){this.textInput=null;dt.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cy.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cy;var cz=function(){this.content=null;dt.call(this,$("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"));this.content=this.getElementBySelector('.tabMenuContent')};cz.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cz;var cA=function(dM,dN){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$b={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(t,[cB]).call(this,dM,dN);this.menuViewModel=dM;this.dom=dN;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$9));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur))};cA.__typeName='spiff.MenuView';cA.getMenuItem=function(dM){return dM.data('tabMenuMenuItem')};cA.getMenuItemLevel=function(dM){return ss.coalesce(dM.data('tabMenuMenuItemLevel'),1)};cA.$0=function(dM){dM.stopPropagation()};global.spiff.MenuView=cA;var cB=function(dM){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;w.call(this);this.set_shouldAnimateOnClose(dM);this.set_theme(new dI);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cB.__typeName='spiff.MenuViewModel';cB.createForMenu=function(dM,dN,dO,dP,dQ,dR){var dS=new cB(dR);dS.set_menu(dM);var dT=dS;if(ss.isValue(dN)){dT.add_menuItemClicked(dN);dT.disposables.add$1(new tab.CallOnDispose(function(){dT.remove_menuItemClicked(dN)}))}dT.set_disposeOnHide(true);dT.set_theme(dO||new dI);if(ss.isValue(dP)){dT.add_hidden(dP);dT.disposables.add$1(new tab.CallOnDispose(function(){dT.remove_hidden(dP)}))}if(ss.isValue(dQ)){dT.add_shown(dQ);dT.disposables.add$1(new tab.CallOnDispose(function(){dT.remove_shown(dQ)}))}tab.ObjectRegistry.newView(cA).call(null,[dT]);return dT};cB.handleMenuActionItemClicked=function(dM){if($.isFunction(dM.data)){dM.data()}};global.spiff.MenuViewModel=cB;var cC=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cC.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cC;var cD=function(dM,dN){this.$y=null;this.template=null;bd.call(this,dM,dN.domRoot);this.template=dN;this.$w();this.element.attr('aria-modal','true')};cD.__typeName='spiff.ModalDialog';cD.$ctor1=function(dM,dN){cD.call(this,dM,new dt(dN))};global.spiff.ModalDialog=cD;var cE=function(dM,dN,dO,dP){cE.$ctor1.call(this,dM,dN,dO,cE.$0,dP)};cE.__typeName='spiff.MoveDragInstance';cE.$ctor1=function(dM,dN,dO,dP,dQ){this.$4=null;this.$3=null;this.$2=null;bj.call(this,dM,dQ);this.$4=dN;this.$3=dO;this.$2=dP};global.spiff.MoveDragInstance=cE;var cF=function(dM,dN,dO){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=dM;this.$2=dN;this.$1='useScrollSize';this.$0=dO;bi.attachDragSource(this.$3,this)};cF.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=cF;var cG=function(dM){bz.call(this,dM)};cG.__typeName='spiff.MultiSelectGroupSelection';cG.buildMultiSelectGroupSelection$1=function(dM){return function(dN,dO){var dP=new cG(dN.length);var dQ=dN.length;for(var dR=0;dR<dQ;++dR){if(dO(dN[dR])){dP.get_selectedIndexes()[dR]=true}}dP.validateAllSelectedState();return dP}};cG.buildMultiSelectGroupSelection=function(dM){return function(dN,dO){var dP=new cG(dN.length);if(dO){dP.handleTapAll()}return dP}};global.spiff.MultiSelectGroupSelection=cG;var cH=function(){bc.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(dM,dN){return dN};this.onAcceptDrop=function(dM){return $.Deferred().resolve(false)};this.onGetDropCursor=function(dM){return W.noOp}};cH.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=cH;var cI=function(){};cI.__typeName='spiff.OnBlurBehavior';global.spiff.OnBlurBehavior=cI;var cJ=function(){};cJ.__typeName='spiff.OrientationHandler';cJ.add_orientationChanged=function(dM){cJ.$1$1=ss.delegateCombine(cJ.$1$1,dM)};cJ.remove_orientationChanged=function(dM){cJ.$1$1=ss.delegateRemove(cJ.$1$1,dM)};cJ.get_isLandscape=function(){return cJ.$e===90||cJ.$e===-90};cJ.get_isPortrait=function(){return cJ.$e===0||cJ.$e===180};cJ.get_windowInstHelper=function(){return cJ.$k};cJ.init=function(){if(!tsConfig.is_mobile_device){cJ.$e=0;return}cJ.$j=cJ.$1();cJ.$k=new tab.WindowHelper(cJ.$j);cJ.$e=cJ.$3();cJ.$f=cJ.$k.get_innerWidth();if(BrowserSupport.BrowserSupport.OrientationChange()){$(cJ.$j).on('orientationchange'.toString(),cJ.$6)}$(cJ.$j).on('resize'.toString(),cJ.$7);if('addEventListener'in window.self){window.addEventListener('unload',cJ.$a,true)}};cJ.$a=function(dM){cJ.unbindEvents()};cJ.unbindEvents=function(){if(ss.isNullOrUndefined(cJ.$j)){return}$(cJ.$j).off('orientationchange'.toString(),cJ.$6);$(cJ.$j).off('resize'.toString(),cJ.$7)};cJ.$1=function(){var dM=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){try{while(ss.isValue(dM.parent)&&!ss.referenceEquals(dM.parent,dM)){var dN=dM.parent;var dO=new tab.WindowHelper(dN);if(ss.isNullOrUndefined(dO.get_outerWidth())){break}dM=dN}}catch(dP){}}return dM};cJ.$6=function(dM){cJ.$h=new Date;cJ.$5()};cJ.$5=function(){var dM=new Date;if(dM-cJ.$h>=2500||cJ.$g||cJ.$9()||cJ.$8()){cJ.$b();cJ.$2()}else{cJ.$0();cJ.$i=window.setTimeout(cJ.$5,75)}};cJ.$7=function(dM){if(cJ.$g||cJ.$9()){cJ.$b();cJ.$2()}};cJ.$2=function(){cJ.$0();if(cJ.$8()){cJ.$e=cJ.$3();cJ.$g=false;if(ss.isValue(cJ.$1$1)){cJ.$1$1()}}};cJ.$9=function(){var dM=cJ.$k.get_innerWidth();if(cJ.$f!==dM){return true}return false};cJ.$8=function(){var dM=cJ.$3();if(cJ.$e!==dM){return true}return false};cJ.$b=function(){cJ.$f=cJ.$k.get_innerWidth();cJ.$g=true};cJ.$3=function(){var dM;if(!BrowserSupport.BrowserSupport.IsAndroid()){dM=cJ.$4();if(ss.isValue(dM)){return ss.unbox(dM)}}dM=((cJ.$k.get_innerWidth()<cJ.$k.get_innerHeight())?0:90);return ss.unbox(dM)};cJ.$4=function(){try{return cJ.$j.orientation}catch(dM){}return null};cJ.$0=function(){cJ.$i=tab.MiscUtil.clearTimeout(cJ.$i)};global.spiff.OrientationHandler=cJ;var cK=function(dM,dN){var dO=function(dP){React.Component.call(this,dP)};ss.registerGenericClassInstance(dO,cK,[dM,dN],{render:function(){var dP=_.map(this.props.items,ss.mkdel(this,function(dT,dU){var dV=this.getEventHandleSpecForItem(dT);var dW=['tabListItem'];if(dU%2===1){dW.push('tabListItemAlternate')}var dX={className:dW.join(' '),key:this.getUniqueKey(dT.data)};if(ss.isNullOrUndefined(dV)){return bh.div(dX,this.buildItem(dT.data))}else{return EventUtils.EventForwarder.div(dV,dX,this.buildItem(dT.data))}}));var dQ=new da;dQ.scrollY=true;dQ.scrollbars=true;dQ.onScrollStop=ss.mkdel(this,this.onScrollStop);dQ.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();dQ.startingY=this.props.startingY;var dR=dQ;var dS=cZ.createScroller(dR,dP);return bh.div({className:'tabPagableList'},dS)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(dP){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return dO};cK.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(cK,a,2);global.spiff.PagableListComponent$2=cK;var cL=function(dM){cp.call(this,dM,dM.get_listItemCreator())};cL.__typeName='spiff.PopupListView';global.spiff.PopupListView=cL;var cM=function(dM,dN,dO){this.$b=null;cr.call(this,dM,dO);this.$b=dN};cM.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=cM;var cN=function(){};cN.__typeName='spiff.PureRender';cN.mixIn=function(dM){var dN=function(dO,dP){return cN.$0(dM,dO,dP)};dM['shouldComponentUpdate']=dN};cN.$0=function(dM,dN,dO){var dP=!tab.MiscUtil.shallowEquals(dM.props,dN)||!tab.MiscUtil.shallowEquals(dM.state,dO);if(!dP){}return dP};global.spiff.PureRender=cN;var cO=function(dM){React.Component.call(this,dM)};cO.__typeName='spiff.PureRenderComponent';cO.$ctor1=function(dM,dN){React.Component.call(this,dM,dN)};global.spiff.PureRenderComponent=cO;var cP=function(){};cP.__typeName='spiff.ReactComponentExtensions';cP.generateUniqueKeys=function(dM){return function(dN,dO){var dP={};for(var dQ=0;dQ<dN.length;++dQ){dP[dN[dQ].toString()]=0}for(var dR=0;dR<dO.length;++dR){dP[dO[dR]]=1}return _.map(dN,function(dS){var dT=dS.toString();var dU=dP[dT];if(dU===0){dP[dT]=1;return dT}var dV=null;do dV=[dT,'_',++dU].join('');while(ss.isValue(dP[dV]));dP[dT]=dU;dP[dV]=1;return dV})}};global.spiff.ReactComponentExtensions=cP;var cQ=function(){};cQ.__typeName='spiff.ReactElement';cQ.div$1=function(dM,dN){return bh.div.apply(null,[{className:dM}].concat(dN))};cQ.div=function(dM,dN){var dO=(ss.isValue(dM)?dM.join(' '):null);return bh.div.apply(null,[{className:dO}].concat(dN))};cQ.span$1=function(dM,dN){return bh.span.apply(null,[{className:dM}].concat(dN))};cQ.span=function(dM,dN){var dO=(ss.isValue(dM)?dM.join(' '):null);return bh.span.apply(null,[{className:dO}].concat(dN))};cQ.br=function(dM){return bh.br({className:dM})};global.spiff.ReactElement=cQ;var cR=function(dM,dN,dO){var dP=function(dQ){this.$5=ss.getDefaultValue(dM);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=dQ;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(dP,cR,[dM,dN,dO],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(dQ){this.$1$1=dQ},$3:function(){return this.$1$2},$4:function(dQ){this.$1$2=dQ},addToDom:function(dQ){dQ.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(dQ){ReactDOM.render(React.createElement(dN,dQ),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(dQ){this.dispose()},addClass:function(dQ){this.get_rootElement().addClass(dQ)}},function(){return null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[dM])]});dP.$0="<div class='tab-ReactView' />";tab.ObjectRegistry.registerType(dP,dP).call(null);return dP};cR.__typeName='spiff.ReactHostView$3';ss.initGenericClass(cR,a,3);global.spiff.ReactHostView$3=cR;var cS=function(){};cS.__typeName='spiff.ReactRefs';cS.attachDragSource=function(dM){var dN=null;return function(dO){if(ss.isValue(dO)){dN=ReactDOM.findDOMNode(dO);bi.attachDragSource($(dN),dM())}else{bi.removeDragSource($(dN))}}};cS.attachDropTarget=function(dM){var dN=null;return function(dO){if(ss.isValue(dO)){dN=ReactDOM.findDOMNode(dO);bi.attachDropTarget($(dN),dM())}else{bi.detachDropTarget($(dN))}}};global.spiff.ReactRefs=cS;var cT=function(dM,dN,dO){var dP=function(dQ,dR,dS){this.$3$1=null;React.Component.call(this,dR,dS);this.set_widget(dQ);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(dP,cT,[dM,dN,dO],{get_widget:function(){return this.$3$1},set_widget:function(dQ){this.$3$1=dQ},render:function(){return bh.div(null,'')},componentDidMount:function(){var dQ=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(dQ)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(dQ){this.updateWidgetState(dQ)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return dP};cT.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(cT,a,3);global.spiff.ReactSpiffAdapter$3=cT;var cU=function(dM,dN,dO){this.$5='bottomRight';cF.call(this,dM,dN,false);this.$5=dO};cU.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=cU;var cV=function(dM,dN){ss.makeGenericType(v,[cW]).call(this,dM,dN)};cV.__typeName='spiff.ScrollableView';cV.createScrollableView=function(dM){if(dM.get_hasCustomIndicator()){return new Y(dM)}else{return new bb(dM)}};global.spiff.ScrollableView=cV;var cW=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(true)};cW.__typeName='spiff.ScrollableViewModel';cW.$ctor1=function(dM){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(dM)};global.spiff.ScrollableViewModel=cW;var cX=function(dM){var dN=function(dO){this.$0=null;this.$1=0;cO.call(this,dO);var dP=new bc;dP.canAccept=function(dQ){return ss.isInstanceOfType(dQ.get_payload(),dM)};dP.onAcceptDrop=ss.mkdel(this,function(dQ){window.clearInterval(this.$1);return $.Deferred().resolve(true)});dP.onDragOver=ss.mkdel(this,function(dQ,dR){this.props.scrollCallback();window.clearInterval(this.$1);this.$1=window.setInterval(this.props.scrollCallback,100);return dR});dP.onDragExit=ss.mkdel(this,function(dQ){window.clearInterval(this.$1)});this.$0=dP};ss.registerGenericClassInstance(dN,cX,[dM],{render:function(){return bh.div({style:this.props.cssProps,ref:this.props.dropTargetRefConnectorCallback(this.$0)})},componentWillUnmount:function(){window.clearInterval(this.$1)}},function(){return cO},function(){return[]});dN.$0=100;return dN};cX.__typeName='spiff.ScrollEdgeAreaComponent$1';ss.initGenericClass(cX,a,1);global.spiff.ScrollEdgeAreaComponent$1=cX;var cY=function(){};cY.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=cY;var cZ=function(dM,dN){React.Component.call(this,dM,dN)};cZ.__typeName='spiff.ScrollingComponent';cZ.$0=function(dM){var dN=dM.forceScrollerType;if(ss.isNullOrUndefined(dN)){dN=0}return ss.unbox(dN)};cZ.createScroller=function(dM,dN){var dO=cZ.$0(dM);var dP=cZ.$1[dO];if(dN.length===1){return React.createElement(dP,dM,dN[0])}return React.createElement(dP,dM,dN)};global.spiff.ScrollingComponent=cZ;var da=function(){this.extraCssClass=null;this.customStyle=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.onScroll=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.onScrollingControlRefUpdated=null};da.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=da;var db=function(dM){ss.makeGenericType(y,[Object]).call(this,dM)};db.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=db;var dc=function(dM){React.Component.call(this,dM);this.state=this.$1(this.props.selection)};dc.__typeName='spiff.SelectableButtonGroupComponent';dc.getDesiredHeight=function(dM){return $('.tab-vScrollable',dM).get(0).scrollHeight};dc.getMinimumWidth=function(dM){return $('.tab-vScrollable',dM).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dc;var dd=function(){this.disabled=false;this.isTabbable=false;this.label=null;this.tooltip=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null};dd.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=dd;var de=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};de.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=de;var df=function(dM,dN,dO){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=dM;this.$2=dN;this.$0=dO};df.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=df;var dg=function(){};dg.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dg;var dh=function(){this.$0=null;this.$0=EventUtils.TableauEventHandlerForReact.CreateEmpty()};dh.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=dh;var di=function(dM,dN){this.relativeDom=null;this.preferUp=false;this.preferLeft=false;this.expanded=false;this.additionalMenuClass=null;this.cursorPosition=null;this.activatedBy=null;this.openedFrom=null;this.$1$1=0;this.relativeDom=dM;this.set_minWidth((dN?tab.DoubleUtil.roundToInt(dM.outerWidth()):0))};di.__typeName='spiff.ShowMenuOptions';global.spiff.ShowMenuOptions=di;var dj=function(dM){bz.call(this,dM)};dj.__typeName='spiff.SingleSelectGroupSelection';dj.buildSingleSelectGroupSelection$1=function(dM){return function(dN,dO){var dP=new dj(dN.length);var dQ=dN.length;if(dQ===0){}for(var dR=0;dR<dQ;++dR){if(dO(dN[dR])){dP.get_selectedIndexes()[dR]=true}}dP.validateAllSelectedState();return dP}};dj.buildSingleSelectGroupSelection=function(dM){return function(dN,dO){var dP=new dj(dN.length);if(dO){dP.handleTapAll()}return dP}};global.spiff.SingleSelectGroupSelection=dj;var dk=function(dM,dN){this.$0=null;this.$1=null;this.$0=dM;this.$1=dN};dk.__typeName='spiff.SpiffBrowserViewport';dk.getViewport=function(dM){if(!ss.staticEquals(dk.getSpiffBrowserViewportFunc,null)){dk.getSpiffBrowserViewportFunc(dM)}else{dM(new dk(null,null))}};global.spiff.SpiffBrowserViewport=dk;var dl=function(dM,dN){this.$5=null;this.$6=null;React.Component.call(this,dM,dN);this.$5=ss.mkdel(this,function(dO){this.$6=dO})};dl.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=dl;var dm=function(dM){this.$p=null;this.$o=null;this.$n=false;cO.call(this,dM)};dm.__typeName='spiff.StatelessHorizontalSliderComponent';dm.create=function(dM){return React.createElement(dm,dM)};global.spiff.StatelessHorizontalSliderComponent=dm;var dn=function(dM){cg.call(this,dn.$0(dM),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dn.__typeName='spiff.StyledButton';dn.createStyledButton=function(dM,dN,dO,dP){var dQ=new dn(dO);dQ.set_label(dN);dQ.add_click(dM);dQ.disposables.add$1(new tab.CallOnDispose(function(){dQ.remove_click(dM)}));if(ss.isValue(dP)){dQ.tabIndex(ss.unbox(dP))}return dQ};dn.$0=function(dM){return $('<span>').addClass('tab-styled-button').addClass(dM).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dn;var dp=function(dM,dN){ss.makeGenericType(cT,[cg,Object,Object]).call(this,dq.createUnificationLabelButton(dM.clickHandler,dM.label,dM.buttonClass,ss.coalesce(dM.buttonStyle,0),dM.tabIndex),dM,dN);this.get_widget().set_disabled(ss.coalesce(dM.disabled,false));this.get_widget().set_hoverTooltipText(dM.tooltipText)};dp.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dp;var dq=function(){};dq.__typeName='spiff.StyledTextButton';dq.createUnificationLabelButton=function(dM,dN,dO,dP,dQ){var dR=dq.$0(dM,dN,dO,1,dQ);var dS;switch(dP){case 0:{dS='tabStyledTextButtonFilledGreen';break}case 1:{dS='tabStyledTextButtonFilledRed';break}case 2:{dS='tabStyledTextButtonFilledGrey';break}case 3:{dS='tabStyledTextButtonOutline';break}default:{dS='';break}}dR.addClass(dS);return dR};dq.createUnificationIconTextButton=function(dM,dN,dO){var dP=new cg($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(dM,null)){dP.onClick(function(dQ){dM()})}if(!ss.isNullOrEmptyString(dN)){dP.set_label(dN)}if(!ss.isNullOrEmptyString(dO)){dP.addClass(dO)}return dP};dq.createActionButton=function(dM,dN,dO,dP,dQ){var dR=dq.$0(dM,dN,dO,dP,dQ);dR.addClass('tabStyledTextButtonAction');return dR};dq.$0=function(dM,dN,dO,dP,dQ){var dR=cg.newTextButton(dM,dN);dR.addClass('tabStyledTextButton');switch(dP){case 2:{dR.addClass('tabLargeStyledTextButton');break}case 1:{dR.addClass('tabMediumStyledTextButton');break}}dR.addClass(dO);if(ss.isValue(dQ)){dR.tabIndex(ss.unbox(dQ))}return dR};global.spiff.StyledTextButton=dq;var dr=function(dM){this.$1=new de;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;this.$5=dM||new n};dr.__typeName='spiff.TabControl';global.spiff.TabControl=dr;var ds=function(dM,dN){this.$7=null;this.$8=null;this.$6=new tab.DisposableHolder;this.$9=0;this.$a=0;this.$b=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$7=dN||new EventUtils.EventHandleSpec;this.$7.SetHandler('firstTouch',ss.mkdel(this,this.$3));this.$7.SetHandler('tap',ss.mkdel(this,this.$1));this.$7.SetHandler('rightClick',ss.mkdel(this,this.$4));this.$8=new EventUtils.TableauEventHandler(dM,this.$7)};ds.__typeName='spiff.TableauClickHandler';ds.target=function(dM){return new ds(dM,null)};ds.targetAndConfig=function(dM,dN){return new ds(dM,dN)};ds.targetAndClick=function(dM,dN){return(new ds(dM,null)).onClick(dN)};ds.targetAndRightClick=function(dM,dN){return(new ds(dM,null)).onRightClick(dN)};ds.targetAndDoubleClick=function(dM,dN){return(new ds(dM,null)).onDoubleClick(dN)};global.spiff.TableauClickHandler=ds;var dt=function(dM){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=dM};dt.__typeName='spiff.Template';dt.fromHtml=function(dM){return new dt($(dM))};global.spiff.Template=dt;var du=function(dM,dN){cO.$ctor1.call(this,dM,dN)};du.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=du;var dv=function(dM,dN,dO,dP,dQ){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;dL.call(this,dM.get_domRootElement());this.$5=dM;this.$6=dN;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',dO);this.$5.get_inputElement().attr('title',dO);if(ss.isValue(dP)){var dR='textinput-'+this.get_instanceId();dM.get_inputElement().attr('id',dR);dM.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",dR,dP)))}if(dQ){dM.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(dS){this.$4=true})).on('compositionend',ss.mkdel(this,function(dS){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};dv.__typeName='spiff.TextInputView';dv.newTextInputView=function(dM,dN,dO,dP){var dQ=new m;return new dv(dQ,dM,dN,dO,dP)};global.spiff.TextInputView=dv;var dw=function(dM,dN){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;x.call(this,dM);this.$d=dw.$0();this.$c=ss.coalesce(dN,'selected')};dw.__typeName='spiff.ToggleButton';dw.createButton=function(dM,dN,dO){var dP=new dw(dM,dN);dP.set_selected(dO.get_toggleValue());var dQ=function(dR,dS){if(dS.get_propertyName()==='selected'){dO.raiseToggled()}};dP.add_propertyChanged(dQ);dP.disposables.add$1(new tab.CallOnDispose(function(){dP.remove_propertyChanged(dQ)}));return dP};dw.$0=function(){dw.$1++;return'toggleBtn-'+dw.$1.toString()};global.spiff.ToggleButton=dw;var dx=function(dM,dN){this.$0=false;this.$2$1=null;this.$2$2=null;w.call(this);this.$0=dN;this.set_data({});this.add_toggled(dM);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(dM)})))};dx.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=dx;var dy=function(){};dy.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=dy;var dz=function(){};dz.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=dz;var dA=function(){};dA.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=dA;var dB=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dB.startingGlassZIndex;this.useCaret=false};dB.__typeName='spiff.UberPopupShowOptions';dB.$ctor1=function(dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dB.startingGlassZIndex;this.useCaret=false;this.horizontalAlign=dM;this.horizontalAttach=dN;this.theme=dO;this.preferUp=dP;this.coverRelativeElement=dQ;this.limitPopupHeight=dR;this.maxPopupHeight=dS;this.additionalClassNames=dT;this.isToolbarFlyout=dU;this.popupMode=dV;this.globalTouchWhitelist=dW;this.glassZIndex=dX;this.focusOnShown=dY};global.spiff.UberPopupShowOptions=dB;var dC=function(){this.content=null;this.caret=null;this.caretBorder=null;dt.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent');this.caret=this.getElementBySelector('.tabUberArrow');this.caretBorder=this.getElementBySelector('.tabUberArrow2');this.caret.hide();this.caretBorder.hide()};dC.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=dC;var dD=function(){};dD.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=dD;var dE=function(dM,dN){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(v,[dF]).call(this,dM,dN);this.popupViewModel=dM;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()};dE.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=dE;var dF=function(dM){this.$0=null;this.$1=null;this.options=new dB;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;w.call(this);this.$1=dM;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};dF.__typeName='spiff.UberPopupViewModel';dF.$ctor1=function(dM){dF.call(this,function(){return dM})};dF.createForContent=function(dM,dN,dO,dP){var dQ=new dF(dN);if(!ss.staticEquals(dO,null)){dQ.add_hidden(dO);dQ.addDisposables(new tab.CallOnDispose(function(){dQ.remove_hidden(dO)}))}dQ.set_content(dM);dQ.set_disposeOnHide(true);tab.ObjectRegistry.newView(dE).call(null,[dQ]);if(dP){dQ.disposables.add$1(new tab.CallOnDispose(function(){dM.disposeViewModel()}))}return dQ};dF.createForContent$1=function(dM,dN,dO,dP){return dF.createForContent(dM,function(){return dN},dO,dP)};dF.createForContentUsingCaretStyle=function(dM,dN,dO,dP,dQ){var dR=dF.createForContent(dM,function(){return dN},dP,dQ);dR.set_mode(2);var dS=new dB;dS.popupMode=2;dS.preferUp=true;dS.additionalClassNames=['tabUberCaretStyle',dO];dS.horizontalAttach=0;dS.horizontalAlign=1;dS.useCaret=true;dR.options=dS;return dR};global.spiff.UberPopupViewModel=dF;var dG=function(){};dG.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=dG;var dH=function(){cC.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dH.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=dH;var dI=function(){cC.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dI.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=dI;var dJ=function(dM,dN){this.$c=null;React.Component.call(this,dM,dN);this.state=dJ.$0(this.props.initialValue)};dJ.__typeName='spiff.VerticalSpinnerComponent';dJ.$0=function(dM){return{value:dM,pendingValue:dM,displayValue:dM.toString()}};global.spiff.VerticalSpinnerComponent=dJ;var dK=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0;this.updateWhenKeyDown=false};dK.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=dK;var dL=function(dM){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(dM,'element');this.element=dM;dM.addClass('tab-widget');dM.data('widgetInstance',this);dL.$3++;this.$0=dL.$3};dL.__typeName='spiff.Widget';dL.enableTextSelectionOnElement=function(dM){dM.removeClass('tab-unselectable');dM.addClass(dL.selectableNodeClass);dM.off('.tab-disableSelection')};dL.disableTextSelectionOnElement=function(dM){if(BrowserSupport.BrowserSupport.IsIE()){return}if(BrowserSupport.BrowserSupport.IsMobile()){return}dM.removeClass(dL.selectableNodeClass);dM.addClass('tab-unselectable');if(BrowserSupport.BrowserSupport.SelectStart()){var dN='selectstart'+'.tab-disableSelection';dM.on(dN,function(dO){if(tab.DomUtil.isFocusableTextElement(dO.target)){return}dO.preventDefault()})}};dL.findWidget=function(dM,dN){tab.Param.verifyValue(dM,'element');var dO=dM;var dP;dN=dN||dL;do{dP=dO.data('widgetInstance');if(ss.isValue(dP)&&!ss.isAssignableFrom(dN,ss.getInstanceType(dP))){dP=null}dO=dO.parent('.tab-widget')}while(ss.isNullOrUndefined(dP)&&!dO.is('body')&&dO.length>0);return(ss.isNullOrUndefined(dP)?null:dP)};dL.getWidgets=function(dM,dN){var dO=[];dN=dN||dL;var dP;dM.each(function(dQ,dR){dP=$(dR).data('widgetInstance');if(ss.isValue(dP)&&ss.isAssignableFrom(dN,ss.getInstanceType(dP))){dO.push(dP)}});return dO};global.spiff.Widget=dL;ss.initClass(cZ,a,{get_scrollingControl:null,componentDidMount:null,componentWillUnmount:null,render:null},React.Component);ss.initClass(b,a,{get_scrollingControl:function(){var dM=this.refs['iscroll-component'];if(ss.isValue(dM)&&ss.isValue(dM.iScroll)){return new c(dM.iScroll)}return null},componentDidMount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(this.get_scrollingControl())}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(null)}},render:function(){var dM=b.$0(this.props);return React.createElement(bV,dM,this.props.children)}},cZ);ss.initInterface(bX,a,{get_x:null,get_y:null,get_maxScrollX:null,get_maxScrollY:null,get_canScroll:null,scrollBy:null,scrollTo:null,scrollToElement:null,destroy:null,resetPosition:null,refresh:null,handleEvent:null});ss.initClass(c,a,{get_x:function(){return this.$1.x},get_y:function(){return-this.$1.y},get_maxScrollX:function(){return this.$1.maxScrollX},get_maxScrollY:function(){return-this.$1.maxScrollY},get_canScroll:function(){return this.$1.hasHorizontalScroll||this.$1.hasVerticalScroll},scrollBy:function(dM,dN){this.$0(ss.mkdel(this,function(){this.$1.scrollBy(-dM,-dN,0,null)}))},scrollTo:function(dM,dN){this.$0(ss.mkdel(this,function(){this.$1.scrollTo(-dM,-dN,0,null)}))},scrollToElement:function(dM,dN,dO){this.$0(ss.mkdel(this,function(){this.$1.scrollToElement(dM,0,dN,dO)}))},destroy:function(){this.$1.destroy()},resetPosition:function(){this.$1.resetPosition()},refresh:function(){this.$1.refresh()},handleEvent:function(dM){this.$1.handleEvent(dM)},$0:function(dM){window.setTimeout(ss.mkdel(this,function(){this.$1.refresh();dM()}),0)}},null,[bX]);ss.initClass(dt,a,{getElementsBySelector:function(dM){return this.domRoot.find(dM)},getElementBySelector:function(dM){var dN=this.getElementsBySelector(dM);return dN},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(dM){if(ss.isValue(dM)){this.disposables.add$1(dM)}}},null,[ss.IDisposable]);ss.initClass(d,a,{},dt,[ss.IDisposable]);ss.initInterface(bQ,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(e,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(dM,dN){var dO=dM.offsetTop;var dP=dO+dM.offsetHeight;var dQ=this.$0.get_scrollerY();var dR=dQ+tab.DoubleUtil.roundToInt(this.$0.element.height());if(dO<dQ){var dS=((dO<=dN)?0:dO);this.$0.scrollTo(this.$0.get_scrollerX(),dS,0,null)}else if(dP>dR){this.$0.scrollTo(this.$0.get_scrollerX(),dQ+dP-dR,0,null)}}},null,[bQ]);ss.initClass(f,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(dM,dN){var dO=dM.offsetTop;var dP=dO+dM.offsetHeight;var dQ=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var dR=dQ+this.$0[0].offsetHeight;if(dO<dQ){var dS=((dO<=dN)?0:dO);this.$0.scrollTop(dS)}else if(dP>dR){this.$0.scrollTop(dQ+dP-dR)}}},null,[bQ]);ss.initClass(g,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var dM=$(this.$2).find('.iScrollHorizontalScrollbar');dM.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var dN=$(this.$2).find('.iScrollVerticalScrollbar');dN.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initEnum(h,a,{$0:0,$1:1,$2:2});ss.initClass(i,a,{});ss.initClass(j,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},dt,[ss.IDisposable]);ss.initClass(k,a,{$2:function(dM,dN){switch(dM){case 1:{this.$7.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$7.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$7.$4);this.$7.$2=true;break}case 2:{this.$7.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$7.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$7.$4);this.$7.$2=true;break}default:{if(dM===0&&!ss.isNullOrEmptyString(dN)){this.$7.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",dN));this.$7.domRoot.prepend(this.$7.$4);this.$7.$2=true}break}}return this},$3:function(dM){if(ss.isNullOrEmptyString(dM)){return this}this.$7.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",dM));this.$7.$7().append(this.$7.$5);this.$7.$3=true;return this},$1:function(dM){if(ss.isNullOrEmptyString(dM)){return this}this.$7.$0=$("<div class='tabMenuItemDesc'/>");this.$7.$0.text(dM);this.$7.$7().append(this.$7.$0);this.$7.$1=true;return this},$6:function(dM){if(ss.isNullOrEmptyString(dM)){return this}this.$7.domRoot.attr('title',dM);return this},$4:function(dM){if(ss.isNullOrUndefined(dM)){return this}this.$7.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$7.domRoot.append(this.$7.$8);return this},$5:function(dM){for(var dN=0;dN<dM.length;dN++){var dO=dM[dN];if(ss.isValue(dO)){this.$7.domRoot.addClass(dO)}}return this},$0:function(){var dM=this.$7;this.$7=null;return dM},dispose:function(){this.$7.dispose()}},null,[ss.IDisposable]);ss.initInterface(cd,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(l,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},dt,[ss.IDisposable,cd]);ss.initClass(m,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},dt,[ss.IDisposable,cd]);ss.initInterface(cc,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(n,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(dM,dN){return new d}},dt,[ss.IDisposable,cc]);ss.initEnum(o,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(p,a,{});ss.initClass(q,a,{});ss.initClass(cO,a,{render:null,shouldComponentUpdate:function(dM,dN){return cN.$0(this,dM,dN)}},React.Component);cO.$ctor1.prototype=cO.prototype;ss.initClass(r,a,{render:function(){return bh.div({className:'tab-ArrowDropdownButton'},bh.div({className:'arrow down'}))}},cO);ss.initClass(w,a,{add_disposed:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_disposed:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},add_propertyChanged:function(dM){this.$1$2=ss.delegateCombine(this.$1$2,dM)},remove_propertyChanged:function(dM){this.$1$2=ss.delegateRemove(this.$1$2,dM)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(dM){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new tab.PropertyChangedEventArgs(dM))}},raiseEvent:function(dM,dN){if(ss.isValue(dM)){dM(this,dN||ss.EventArgs.Empty)}},raiseActionEvent$1:function(dM){return function(dN,dO){if(ss.isValue(dN)){dN(dO)}}},raiseActionEvent:function(dM){if(ss.isValue(dM)){dM()}}},null,[ss.IDisposable,tab.IViewModel]);ss.initClass(dL,a,{add_disposed:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_disposed:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},add_propertyChanged:function(dM){this.$1$2=ss.delegateCombine(this.$1$2,dM)},remove_propertyChanged:function(dM){this.$1$2=ss.delegateRemove(this.$1$2,dM)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(dM){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=dM;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(dM){tab.DomUtil.setNativeTooltip(this.element,dM)},enableTextSelection:function(){dL.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){dL.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(dM){if(ss.isValue(this.$1$2)){this.$1$2(this,new tab.PropertyChangedEventArgs(dM))}},createNamespacedEventName:function(dM){return dM+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(dM){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),dM)},onDisposed:function(dM){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(dM){dM.append(this.element);this.onAddedToDom()},prependToDom:function(dM){dM.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(dM){this.element.addClass(dM)}},null,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(x,a,{add_press:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_press:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_click:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_click:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},add_shiftClick:function(dM){this.$2$3=ss.delegateCombine(this.$2$3,dM)},remove_shiftClick:function(dM){this.$2$3=ss.delegateRemove(this.$2$3,dM)},add_ctrlClick:function(dM){this.$2$4=ss.delegateCombine(this.$2$4,dM)},remove_ctrlClick:function(dM){this.$2$4=ss.delegateRemove(this.$2$4,dM)},add_hover:function(dM){this.$2$5=ss.delegateCombine(this.$2$5,dM)},remove_hover:function(dM){this.$2$5=ss.delegateRemove(this.$2$5,dM)},add_mouseEnter:function(dM){this.$2$6=ss.delegateCombine(this.$2$6,dM)},remove_mouseEnter:function(dM){this.$2$6=ss.delegateRemove(this.$2$6,dM)},add_mouseLeave:function(dM){this.$2$7=ss.delegateCombine(this.$2$7,dM)},remove_mouseLeave:function(dM){this.$2$7=ss.delegateRemove(this.$2$7,dM)},$9:function(dM){this.$2$8=ss.delegateCombine(this.$2$8,dM)},$a:function(dM){this.$2$8=ss.delegateRemove(this.$2$8,dM)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(dM){this.element.prop('disabled',dM);this.element.toggleClass(this.$5,dM);if(dM){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(dM){this.$7=dM},get_focusClass:function(){return this.$6},set_focusClass:function(dM){this.$6=dM},get_disabledClass:function(){return this.$5},set_disabledClass:function(dM){this.$5=dM},get_context:function(){return this.$4},set_context:function(dM){this.$4=dM},get_tableauClickHandler:function(){return this.$8},tabIndex:function(dM){this.element.attr('tabindex',dM.toString());return this},onClick:function(dM){var dN=ss.mkdel(this,function(){dM(this)});this.add_click(dN);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(dN)}))},onDoubleClick:function(dM){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var dN=ss.mkdel(this,function(){dM(this)});this.$9(dN);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(dN)}))},onShiftClick:function(dM){var dN=ss.mkdel(this,function(){dM(this)});this.add_shiftClick(dN);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(dN)}))},onMouseEnter:function(dM){var dN=ss.mkdel(this,function(){dM(this)});this.add_mouseEnter(dN);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(dN)}))},onMouseMove:function(dM){var dN=ss.mkdel(this,function(){dM(this)});this.add_hover(dN);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(dN)}))},onMouseLeave:function(dM){var dN=ss.mkdel(this,function(){dM(this)});this.add_mouseLeave(dN);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(dN)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bq.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var dM=new EventUtils.EventHandleSpec;dM.hoverDelay=0;dM.SetHandler('mouseleave',ss.mkdel(this,this.handleMouseLeave));dM.SetHandler('hover',ss.mkdel(this,this.handleHover));this.$8=ds.targetAndConfig(this.element.get(0),dM).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(dM){if(ss.isValue(dM)){dM()}},$3:function(dM){if(dM.which===13){bq.stopEvent$2(dM);this.handleClick(null)}if(dM.which===32){bq.stopEvent$2(dM);this.handleClick(null)}},handleFocusOut:function(dM){this.element.removeClass(this.$6)},handleFocusIn:function(dM){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(dM){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(dM){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(dM)&&dM.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bq.isCtrlKey(dM)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(dM){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},dL,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(z,a,{},ss.makeGenericType(y,[Object]));ss.initEnum(A,a,{medium:1,large:2});ss.initClass(B,a,{updateWidgetState:function(dM){this.get_widget().set_label(dM.label);this.get_widget().set_disabled(dM.disabled);this.get_widget().set_selected(dM.isSelected)},handleWidgetPropertyChanged:function(dM,dN){if(dN.get_propertyName()==='selected'){if(!ss.staticEquals(this.props.onSelectedChanged,null)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(cT,[ch,Object,Object]));ss.initClass(dv,a,{add_enterKeyPressed:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_enterKeyPressed:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_escapeKeyPressed:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_escapeKeyPressed:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},get_text:function(){return this.$6},set_text:function(dM){if(ss.referenceEquals(this.$6,dM)){return}this.get_inputElement().val(dM).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(dM){var dN=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,dN)){this.$6=dN;this.raisePropertyChanged('text')}},$3:function(dM){if(this.$4){return}switch(dM.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){bq.stopEvent$2(dM);this.$2$1()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();dM.stopPropagation()}break}}}},dL,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(C,a,{add_clearButtonClicked:function(dM){this.$3$1=ss.delegateCombine(this.$3$1,dM)},remove_clearButtonClicked:function(dM){this.$3$1=ss.delegateRemove(this.$3$1,dM)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(dM,dN){this.$7()},$8:function(dM){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},dv,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(D,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},dt,[ss.IDisposable,cd]);ss.initClass(E,a,{});ss.initClass(F,a,{$j:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},$k:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},$h:function(dM){this.$1$2=ss.delegateCombine(this.$1$2,dM)},$i:function(dM){this.$1$2=ss.delegateRemove(this.$1$2,dM)},$l:function(dM){this.$1$3=ss.delegateCombine(this.$1$3,dM)},$m:function(dM){this.$1$3=ss.delegateRemove(this.$1$3,dM)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(dM){this.$j(dM);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(dM)})));return this},onClick:function(dM){this.$h(dM);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(dM)})));return this},onRightClick:function(dM){this.$l(dM);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(dM)})));return this},setTarget:function(dM){this.$g=dM;dM.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dM.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!BrowserSupport.BrowserSupport.IsTouch()){dM.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dM.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{dM.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dM.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(dM){return dM+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(dM){this.$e=dM.pageX;this.$f=dM.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(dM)}},$1:function(dM){var dN=(ss.isValue(dM)?dM['originalEvent']:null);if(ss.isValue(dN)&&ss.isValue(dN.touches)&&ss.isValue(dN.touches[0])){return dN.touches[0]}return null},$7:function(dM){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dM.target)){dM.preventDefault()}else{return}}var dN=this.$1(dM);var dO=0;var dP=0;if(ss.isValue(dN)){dO=ss.coalesce(dN.pageX,0);dP=ss.coalesce(dN.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(BrowserSupport.BrowserSupport.AddEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=dO;this.$f=dP;if(ss.isValue(this.$1$1)){this.$1$1(dM)}},$5:function(dM){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dM.target)){dM.preventDefault()}else{return}}this.$2(dM)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(dM,dN){var dO=dN;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dM)){dN.preventDefault()}else{return}}var dP=dO.touches[0].pageX;var dQ=dO.touches[0].pageY;if(Math.abs(dP-this.$e)>10||Math.abs(dQ-this.$f)>10){this.$8()}},$4:function(dM){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dM.target)){dM.preventDefault()}else{return}}this.$8()},$2:function(dM){dM.stopPropagation();this.$8();if(dM.type==='contextmenu'){dM.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(dM)}}else{if(ss.isValue(this.$1$2)){this.$1$2(dM)}if(dM.type==='touchend'){E.preventGhostClick(this.$e,this.$f,dM.target)}}}},null,[ss.IDisposable]);ss.initClass(G,a,{render:function(){var dM=$.extend(new Object,this.props);dM.onSelectionChanged=ss.mkdel(this,function(dQ){this.onSelect(dQ,this.props.onSelectionChanged)});var dN=React.createElement(dc,dM);var dO=new Object;dO.styleClass=this.props.styleClass;dO.isSelecting=this.state.isSelecting;dO.getDesiredHeight=dc.getDesiredHeight;dO.getMinimumWidth=dc.getMinimumWidth;dO.onSelectorToggled=ss.mkdel(this,this.$1);dO.onFocusLost=ss.mkdel(this,this.$0);dO.tabIndex=-1;dO.renderButton=ss.mkdel(this,function(){return React.createElement(du,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var dP=React.createElement(dl,dO,dN);return dP},onSelect:function(dM,dN){var dO=new N;dO.isSelecting=false;this.setState(dO);if(!ss.staticEquals(dN,null)){dN(dM)}},$1:function(){if(!this.props.enabled){var dM=new N;dM.isSelecting=false;this.setState(dM)}else{var dN=new N;dN.isSelecting=!this.state.isSelecting;this.setState(dN)}},$0:function(){var dM=new N;dM.isSelecting=false;this.setState(dM)}},React.Component);ss.initClass(cC,a,{});ss.initClass(H,a,{},cC);ss.initClass(I,a,{get_iconClass:function(){return this.$1$1},set_iconClass:function(dM){this.$1$1=dM},get_name:function(){return this.$1$2},set_name:function(dM){this.$1$2=dM},get_data:function(){return this.$1$3},set_data:function(dM){this.$1$3=dM},get_description:function(){return this.$1$4},set_description:function(dM){this.$1$4=dM},get_title:function(){return this.$1$5},set_title:function(dM){this.$1$5=dM},asMenuItem:function(){return(new cv).data(this).name(this.get_name()).iconClass(this.get_iconClass()).enabled(true).description(this.get_description()).title(this.get_title()).build()}});ss.initClass(J,a,{},cC);ss.initEnum(K,a,{standard:0,dropdown:1,unification:2});ss.initClass(L,a,{},Object);ss.initEnum(M,a,{standard:0,autoFit:1});ss.initClass(N,a,{});ss.initClass(O,a,{},dt,[ss.IDisposable]);ss.initEnum(P,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(Q,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass(Q.pressedClass)},$9:function(dM){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass(Q.pressedClass);if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(dM){var dN=0;switch(dM.which){case 40:{dN=1;break}case 38:{dN=-1;break}default:{return}}dM.preventDefault();dM.stopPropagation();var dO=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(dO<0){return}dO+=dN;if(dO>=0&&dO<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[dO])}},$b:function(dM){if(ss.isInstanceOfType(dM,V)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(dM)){var dN=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(dN);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(dM.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(dM.get_iconClass())){this.$c.domRoot.addClass(Q.noIconClass)}this.$c.name.text(dM.get_name());if(!ss.isNullOrEmptyString(dM.get_title())){this.$c.domRoot.attr('title',dM.get_title())}},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass(Q.disabledClass,!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){dL.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var dM=tab.ObjectRegistry.newView(cA).call(null,[this.$d.get_menu()]);var dN=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(dN);dM.addToDom(dN);this.$c.domRoot.css({width:dM.element.width()+'px'});dM.dispose();dN.remove()}}},ss.makeGenericType(v,[R]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[R])]);ss.initInterface(bM,a,{add_enabledChanged:null,remove_enabledChanged:null,get_enabled:null,set_enabled:null});ss.initClass(R,a,{add_itemsChanged:function(dM){this.$3$1=ss.delegateCombine(this.$3$1,dM)},remove_itemsChanged:function(dM){this.$3$1=ss.delegateRemove(this.$3$1,dM)},add_selectedItemChanged:function(dM){this.$3$2=ss.delegateCombine(this.$3$2,dM)},remove_selectedItemChanged:function(dM){this.$3$2=ss.delegateRemove(this.$3$2,dM)},add_menuHidden:function(dM){this.$3$3=ss.delegateCombine(this.$3$3,dM)},remove_menuHidden:function(dM){this.$3$3=ss.delegateRemove(this.$3$3,dM)},add_enabledChanged:function(dM){this.$3$4=ss.delegateCombine(this.$3$4,dM)},remove_enabledChanged:function(dM){this.$3$4=ss.delegateRemove(this.$3$4,dM)},add_isSelectionInvalidChanged:function(dM){this.$3$5=ss.delegateCombine(this.$3$5,dM)},remove_isSelectionInvalidChanged:function(dM){this.$3$5=ss.delegateRemove(this.$3$5,dM)},get_hasTooltip:function(){return this.$h},set_hasTooltip:function(dM){this.$h=dM},get_theme:function(){return this.$p},set_theme:function(dM){this.$p=dM},get_menu:function(){if(ss.isNullOrUndefined(this.$f)){this.$5()}return this.$f},get_menuTheme:function(){return this.$l},set_menuTheme:function(dM){this.$l=dM},get_sizing:function(){return this.$o},set_sizing:function(dM){this.$o=dM},get_menuStyleClass:function(){return this.$k},set_menuStyleClass:function(dM){this.$k=dM},get_items:function(){return this.$j},get_selectedItem:function(){return this.$m},set_selectedItem:function(dM){if(ss.referenceEquals(this.$m,dM)&&!this.get_allowSetToSameValue()){return}this.$m=dM;this.$b();this.raiseActionEvent$1(I).call(this,this.$3$2,this.$m)},get_summary:function(){return this.$3$6},set_summary:function(dM){this.$3$6=dM},get_showSelectedItem:function(){return this.$n},set_showSelectedItem:function(dM){this.$n=dM},get_showDropdownIcon:function(){return this.$3$7},set_showDropdownIcon:function(dM){this.$3$7=dM},get_enabled:function(){return this.$g},set_enabled:function(dM){if(this.$g===dM){return}this.$g=dM;this.$b();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$i},set_isSelectionInvalid:function(dM){if(this.$i===dM){return}this.$i=dM;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$e},set_additionalMenuClass:function(dM){this.$e=dM},get_allowSetToSameValue:function(){return this.$3$8},set_allowSetToSameValue:function(dM){this.$3$8=dM},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$c:function(){var dM=this.get_items();for(var dN=0;dN<dM.length;dN++){var dO=dM[dN];if(!tab.MiscUtil.isNullOrEmpty$3(dO.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$9},set_dropdownStyleClass:function(dM){this.$3$9=dM},$d:function(){var dM='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){dM+=' disabled'}if(this.$c()){dM+=' hasIcons'}return dM},dispose:function(){if(ss.isValue(this.$f)){this.$f.dispose()}w.prototype.dispose.call(this);this.$f=null},setItems:function(dM){ss.clear(this.$j);var dN=ss.getEnumerator(dM);try{while(dN.moveNext()){var dO=dN.current();this.$j.push(dO)}}finally{dN.dispose()}this.$8();this.$b()},setItemsWithInitialSelection:function(dM,dN){ss.clear(this.$j);var dO=ss.getEnumerator(dM);try{while(dO.moveNext()){var dP=dO.current();this.$j.push(dP)}}finally{dO.dispose()}this.$m=dN;this.$8();this.$b()},addItem:function(dM){this.$j.push(dM);this.$8();this.$b()},clearItems:function(){ss.clear(this.$j);this.$8();this.set_selectedItem(null);this.$b()},$a:function(){return this.$j.length>0&&(this.$g||this.get_sizing()===1)},updateCurrentMenu:function(){if(!this.$a()||!ss.isValue(this.$f)){return}this.$2();this.$f.set_menu(new ct(this.menuItems));this.$f.set_selectedItem(this.selectedMenuItem)},$5:function(){if(!this.$a()){return}this.$2();this.$f=cB.createForMenu(new ct(this.menuItems),ss.mkdel(this,this.$6),this.$3(),ss.mkdel(this,this.$9),null,true);this.$f.set_selectedItem(this.selectedMenuItem);this.$f.set_focusedItem(this.selectedMenuItem)},comboClicked:function(dM){if(!this.$a()){return}this.$5();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_hidden(ss.mkdel(this,this.$9))})));var dN=new di(dM,true);dN.additionalMenuClass='tabComboBoxMenu';var dO=dN;if(ss.isValue(this.$e)){dO.additionalMenuClass+=' '+this.$e}this.$f.show(dO)},$b:function(){if(this.generateProps){this.incrementProps()}},$2:function(){var dM=[];var dN=null;if(ss.isValue(this.$j)){for(var dO=0;dO<this.$j.length;dO++){var dP=this.$j[dO];if(this.$n||!ss.referenceEquals(dP,this.$m)){var dQ=dP.asMenuItem();if(ss.referenceEquals(dP,this.$m)){dN=dQ}dM.push(dQ)}}}this.menuItems=dM;this.selectedMenuItem=dN},$3:function(){switch(this.$l){case 0:{return new J}case 1:{return new H(this.get_menuStyleClass())}case 2:{return new dI}default:{return new J}}},$9:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$8:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$6:function(dM){var dN=dM.data;this.set_selectedItem(dN)},$7:function(dM){this.set_selectedItem(dM.mapSelected(I).call(dM,ss.mkdel(this,function(dN){return this.get_items()[dN]}))[0])},$4:function(dM){return G.createCustomIconElements(dM.get_iconClass())},createUpdatedProps:function(){if(!this.generateProps){return null}var dM=new L;dM.items=_.map(this.get_items(),ss.mkdel(this,function(dN){var dO=new dd;dO.label=dN.get_name();dO.getCustomContentBefore=ss.mkdel(this,function(){return this.$4(dN)});dO.tooltip=(!this.get_props().hasTooltip?'':null);return dO}));dM.selection=dj.buildSingleSelectGroupSelection$1(I).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(dN){return ss.equals(dN,this.get_selectedItem())}));dM.selectedText=this.get_selectedText();dM.selectedIconClass=this.get_selectedIconClass();dM.onSelectionChanged=ss.mkdel(this,this.$7);dM.hasTooltip=this.get_hasTooltip();dM.hasAnyIcons=this.$c();dM.buttonStyleClass=this.$d();dM.styleClass=this.get_dropdownStyleClass();dM.enabled=this.get_enabled();return dM}},ss.makeGenericType(u,[L]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(bT,[L]),bM]);ss.initClass(S,a,{add_inputTextChanged:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_inputTextChanged:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_listItemClicked:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_listItemClicked:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},add_listItemMouseEnter:function(dM){this.$2$3=ss.delegateCombine(this.$2$3,dM)},remove_listItemMouseEnter:function(dM){this.$2$3=ss.delegateRemove(this.$2$3,dM)},add_listItemMouseMove:function(dM){this.$2$4=ss.delegateCombine(this.$2$4,dM)},remove_listItemMouseMove:function(dM){this.$2$4=ss.delegateRemove(this.$2$4,dM)},add_textInputElementClicked:function(dM){this.$2$5=ss.delegateCombine(this.$2$5,dM)},remove_textInputElementClicked:function(dM){this.$2$5=ss.delegateRemove(this.$2$5,dM)},add_textInputClearButtonClicked:function(dM){this.$2$6=ss.delegateCombine(this.$2$6,dM)},remove_textInputClearButtonClicked:function(dM){this.$2$6=ss.delegateRemove(this.$2$6,dM)},add_textInputSearchButtonClicked:function(dM){this.$2$7=ss.delegateCombine(this.$2$7,dM)},remove_textInputSearchButtonClicked:function(dM){this.$2$7=ss.delegateRemove(this.$2$7,dM)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(dM){this.$2$8=dM},setPlaceholderText:function(dM){this.get_textInputView().get_inputElement().attr('placeholder',dM)},showList:function(dM,dN,dO){this.removeList();if(dM.length>0){this.set_listViewModel(new cM(dM,dN,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(dQ){this.$2$3(dQ)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(dQ){this.$2$4(dQ)}))}var dP=new cL(this.get_listViewModel());dP.addClass('tabCompositeSearchWidgetList');dP.addToDom(dO||this.get_domRoot())}},showListInsideUberPopup:function(dM,dN,dO,dP,dQ){if(dM.length<=0){this.removeList();return}this.set_listViewModel(new cM(dM,dN,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(dU){this.$2$3(dU)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(dU){this.$2$4(dU)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=dF.createForContent$1(this.get_listViewModel(),dO,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var dR=(ss.isValue(dP)?['tabCompositeSearchWidgetList',dP]:['tabCompositeSearchWidgetList']);var dS=this.$8;var dT=new dB;dT.additionalClassNames=dR;dT.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];dT.horizontalAttach=1;dT.limitPopupHeight=true;dT.maxPopupHeight=dQ;dT.popupMode=1;dT.theme=1;dT.focusOnShown=false;dS.options=dT;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(dM,dN){var dO=dM.children('.tab-list').eq(0);var dP=dO.prop('scrollHeight');if(dP<1){dN.show();dP=dO.prop('scrollHeight');dN.hide()}var dQ=this.$8.get_relativeElement().outerWidth();dO.css('min-width',dQ+'px').css('max-width',Math.max(dQ,400)+'px');var dR=this.$8.options;if(ss.isValue(dR.maxPopupHeight)&&dP>ss.unbox(dR.maxPopupHeight)){dO.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(dM){this.$7=true;this.get_textInputView().set_text(dM);this.$7=false},$3:function(dM,dN){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(dM){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},dL,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(T,a,{});ss.initInterface(bD,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(U,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},dt,[ss.IDisposable,bD]);ss.initClass(V,a,{get_domRoot:function(){return this.$0},asMenuItem:function(){return Z.newCustomMenuItem(this.get_domRoot())}},I);ss.initClass(W,a,{setCursor:function(dM){dM.css('cursor',this.$0)}});ss.initClass(bZ,a,{},dt,[ss.IDisposable]);ss.initClass(X,a,{},bZ,[ss.IDisposable]);ss.initClass(cV,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(v,[cW]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cW])]);ss.initClass(ca,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(F.targetAndClick(this.get_verticalScrollbar(),function(dM){dM.stopPropagation()}));this.disposables.add$1(F.targetAndClick(this.get_horizontalScrollbar(),function(dM){dM.stopPropagation()}));this.get_dom().domRoot.on(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(dM){dM.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){dL.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(BrowserSupport.BrowserSupport.MouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(BrowserSupport.BrowserSupport.AddEventListener()&&!tsConfig.is_mobile){var dM=ss.mkdel(this,function(dO){this.sendEventToScroller(dO)});var dN=ss.mkdel(this,function(dO){var dP=dO.toElement;if(ss.isNullOrUndefined(dP)||dP.nodeName==='HTML'){if('createEvent'in document){var dQ=document.createEvent('MouseEvent');dQ.initEvent('mouseup',false,false);this.sendEventToScroller(dQ)}}});document.addEventListener('mousemove',dM,true);document.addEventListener('mouseup',dM,true);document.addEventListener('mouseout',dN,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',dM,true);document.removeEventListener('mouseup',dM,true);document.removeEventListener('mouseout',dN,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(dM){this.scroller.handleEvent(dM);for(var dN=0;dN<this.scroller.indicators.length;dN++){var dO=this.scroller.indicators[dN];if(!ss.referenceEquals(dM.type,'mousemove'.toString())||dO.moved){dO.handleEvent(dM)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(dM,dN,dO,dP){this.scroller.scrollTo(-dM,-dN,dO,dP)},scrollToElement:function(dM,dN,dO,dP){this.scroller.scrollToElement(dM,dN,dO,dP)}},cV,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cW])]);ss.initClass(Y,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(BrowserSupport.BrowserSupport.AddEventListener()){var dM=ss.mkdel(this,function(dN){this.sendEventToScroller(dN)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(BrowserSupport.BrowserSupport.MouseWheelEvent(),dM,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(BrowserSupport.BrowserSupport.MouseWheelEvent(),dM,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(Y.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(Y.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},ca,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cW])]);ss.initClass(cu,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(Z,a,{get_domRoot:function(){return this.$0},set_domRoot:function(dM){this.$0=dM}},cu);ss.initClass(ba,a,{},bZ,[ss.IDisposable]);ss.initClass(bb,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},ca,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cW])]);ss.initInterface(bL,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initClass(bc,a,{get_feedbackType:function(){return(!ss.staticEquals(this.onFeedbackType,null)?this.onFeedbackType():'dropfeedbackuponentry')},dragOver:function(dM){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(dM)){return null}return(!ss.staticEquals(this.onDragOver,null)?this.onDragOver(dM,this):this)},dragExit:function(dM){if(!ss.staticEquals(this.onDragExit,null)){this.onDragExit(dM)}},acceptDrop:function(dM){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(dM)){return $.Deferred().resolve(false)}return(!ss.staticEquals(this.onAcceptDrop,null)?this.onAcceptDrop(dM):$.Deferred().resolve(false))},getDropTarget:function(dM){return(!ss.staticEquals(this.onGetDropTarget,null)?this.onGetDropTarget(dM,this):this)},getDropCursor:function(dM){return(!ss.staticEquals(this.onGetDropCursor,null)?this.onGetDropCursor(dM):W.noOp)}},null,[bL]);ss.initClass(bd,a,{add_closing:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_closing:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_closed:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_closed:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},add_resizeMove:function(dM){this.$2$3=ss.delegateCombine(this.$2$3,dM)},remove_resizeMove:function(dM){this.$2$3=ss.delegateRemove(this.$2$3,dM)},add_resizeEnd:function(dM){this.$2$4=ss.delegateCombine(this.$2$4,dM)},remove_resizeEnd:function(dM){this.$2$4=ss.delegateRemove(this.$2$4,dM)},get_body:function(){return this.$e},set_body:function(dM){if(ss.referenceEquals(this.$e,dM)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=dM;this.element.find('.tab-dialogBodyContainer').html('').append(dM);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(dM){if(this.get_maximized()){return}if(ss.isNullOrUndefined(dM)){this.positionInWindow()}else{this.$m=dM.x;this.$n=dM.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(dM){if(dM!==this.$h){this.$h=dM;this.$g.toggleClass('active',dM);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(dM){if(this.get_maximized()){return}if(dM){if(ss.isNullOrUndefined(this.$o)){this.$o=new cU(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(dM){this.element.css('z-index',dM.toString())},get_maximized:function(){return this.$j},set_maximized:function(dM){this.$j=dM;this.$g.toggleClass('maximized',dM)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(dM){this.$2$5=dM},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(dM){this.$2$6=dM},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(dM){this.get_titleElement().text(dM);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(dM){this.$r=dM},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(dM){if(dM){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.$t},set_stayInWindow:function(dM){if(dM&&!this.$t){this.$2()}else if(!dM){this.$9()}this.$t=dM},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(dM){this.$v=dM},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(dM){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=dM(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(dM){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(dM,null)){dM()}return}var dN=new ss.CancelEventArgs;this.onClosing(dN);if(dN.cancel){return}tab.DomUtil.blur();this.$d=dM;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(dM){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,dM)}},onClosed:function(dM){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,dM)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(dM,dN){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(dM)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],dM.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],dM.target)){this.moveToTop();this.$k=true}},$5:function(dM,dN){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),dM.target)||ss.isNullOrUndefined(dM)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){cJ.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){cJ.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bd.$9,this)){bd.$9=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();dL.prototype.dispose.call(this);if(ss.referenceEquals(bd.$9,this)){bd.$9=null}},setInitialFocus:function(){if(this.$i){var dM=this.element.find('.tab-dialogBodyContainer :tabbable');if(dM.length>0){dM.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dk.getViewport(ss.mkdel(this,function(dM){if(ss.isNullOrUndefined(dM)||ss.isNullOrUndefined(dM.get_dimensions())){return}var dN=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var dO=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(dN>dM.get_dimensions().w){var dP=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(dM.get_dimensions().w-(dN-dP));dN=dM.get_dimensions().w}if(dO>dM.get_dimensions().h){var dQ=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(dM.get_dimensions().h-(dO-dQ));dO=dM.get_dimensions().h}}var dR=null;if(this.$m+dN>dM.get_dimensions().w){dR=Math.max(0,dM.get_dimensions().w-dN)}var dS=null;if(this.$n+dO>dM.get_dimensions().h){dS=Math.max(0,dM.get_dimensions().h-dO)}if(ss.isValue(dR)||ss.isValue(dS)){var dT=dR;if(ss.isNullOrUndefined(dT)){dT=this.$m}dR=dT;var dU=dS;if(ss.isNullOrUndefined(dU)){dU=this.$n}dS=dU;this.set_position({x:ss.unbox(dR),y:ss.unbox(dS)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(dM,dN){if(this.get_maximized()){return}dk.getViewport(ss.mkdel(this,function(dO){var dP=0;var dQ=0;var dR=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+dM;var dS=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+dN;var dT=tab.DoubleUtil.roundToInt($(window).width());var dU=tab.DoubleUtil.roundToInt($(window).height());var dV=0;var dW=0;if(ss.isValue(dO.get_dimensions())){dT=dO.get_dimensions().w;dU=dO.get_dimensions().h;var dX=new tab.WindowHelper(window.self);dV=dO.get_dimensions().l-dX.get_pageXOffset();dW=dO.get_dimensions().t-dX.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var dY=Math.min(ss.unbox(this.get_startingPositionX())+dR,dT);dP=Math.max(0,dY-dR)}else{dP=Math.max(0,Math.round((dT-dR)/2)+dV)}if(ss.isValue(this.get_startingPositionY())){var dZ=Math.min(ss.unbox(this.get_startingPositionY())+dS,dU);dQ=Math.max(0,dZ-dS)}else{dQ=Math.max(0,Math.round((dU-dS)/2)+dW)}this.set_position({x:dP,y:dQ})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bd.$9)){bd.$9=this}else if(!ss.referenceEquals(bd.$9,this)){bd.$9.set_isActive(false);bd.$9=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(dM){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(dM){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(dM){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(dM){if(dM.which===9){this.$6(dM);return}},$6:function(dM){var dN=this.element.find(':tabbable');var dO=dN.filter(':first');var dP=dN.filter(':last');if(ss.referenceEquals(dM.target,dO[0])&&dM.shiftKey){dP.focusDelayed(1);bq.stopEvent$2(dM)}else if(ss.referenceEquals(dM.target,dP[0])&&!dM.shiftKey){dO.focusDelayed(1);bq.stopEvent$2(dM)}}},dL,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(be,a,{asMenuItem:function(){return cu.newDivider()}},I);ss.initClass(bf,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}if(this.$z){this.$y=new bx(null,false);this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString())}bd.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bd.prototype.bindToEvents.call(this);this.disposables.add$1(bq.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bq.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bd.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bd.prototype.dispose.call(this)},$x:function(){if(this.$z&&ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bd.defaultStationaryDialogConfigurer);if(tsConfig.is_mobile){this.set_startingPositionY(100);this.set_startingPositionX(0);this.get_dialogElement().css('height','50%')}else{this.set_startingPositionX(2000);this.set_startingPositionY(this.$A);this.get_dialogElement().css('height','95%')}},onWindowResize:function(dM){this.positionInWindow()},onDocumentKeyDown:function(dM){if(dM.which===27){this.close(null);dM.preventDefault();return}}},bd,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initEnum(bg,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initClass(bj,a,{add_shiftStateChanged:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_shiftStateChanged:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(dM){if(this.$1!==dM){this.$1=dM;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_isRightDrag:function(){return this.$1$2},set_isRightDrag:function(dM){this.$1$2=dM},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return W.noOp},moveTo:function(dM){},endDragAt:function(dM){},cancelDrag:function(){},payloadEquals:function(dM){if(ss.referenceEquals(this.draggedObject,dM)){return true}if($.isArray(this.draggedObject)){var dN=this.draggedObject;if(dN.length===1&&ss.referenceEquals(dN[0],dM)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bx,a,{add_click:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_click:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(dM){this.element.css('z-index',dM.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(dM){this.element.toggleClass('clear-glass',!dM);this.element.toggleClass('opaque-glass',dM)},set_preventWebPageScroll:function(dM){if(dM){this.element.on(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(dN){dN.preventDefault()})}else{this.element.off(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(dN){dN.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(dM){this.element.css('background-color',dM)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}dL.prototype.dispose.call(this)},handleClick:function(dM){if(ss.isValue(this.$2$1)){this.$2$1()}}},dL,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bk,a,{dispose:function(){bi.unregisterDragGlass(this);bx.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bx,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bl,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(dM){dM.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[tab.IViewModel])]);ss.initClass(bm,a,{componentWillReceiveProps:function(dM){if(dM.resetSelector){this.setState({isSelecting:false})}},render:function(){var dM=new Object;dM.styleClass=this.props.styleClass;dM.isSelecting=this.state.isSelecting;dM.getDesiredHeight=this.props.getDesiredHeight;dM.getMinimumWidth=this.props.getMinimumWidth;dM.children=this.props.children;dM.renderButton=this.props.renderButton;dM.tabIndex=this.props.tabIndex;dM.onSelectorToggled=ss.mkdel(this,this.$1);dM.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dl,dM)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(bn,a,{handleWidgetPropertyChanged:function(dM,dN){},updateWidgetState:function(dM){if(!this.get_widget().get_isEditing()){this.get_widget().set_text(dM.initialContent);this.get_widget().updateTextElement(dM.initialContent);this.get_widget().get_inputElement().val(dM.initialContent);if(!tab.MiscUtil.isNullOrEmpty$3(dM.tooltip)){this.get_widget().get_textElement().find('.text-span').get(0).title=dM.tooltip;this.get_widget().get_inputElement().attr('title',dM.tooltip)}}}},ss.makeGenericType(cT,[bo,Object,Object]));ss.initClass(bo,a,{add_hoverStateChanged:function(dM){this.$3$1=ss.delegateCombine(this.$3$1,dM)},remove_hoverStateChanged:function(dM){this.$3$1=ss.delegateRemove(this.$3$1,dM)},add_editing:function(dM){this.$3$2=ss.delegateCombine(this.$3$2,dM)},remove_editing:function(dM){this.$3$2=ss.delegateRemove(this.$3$2,dM)},add_committed:function(dM){this.$3$3=ss.delegateCombine(this.$3$3,dM)},remove_committed:function(dM){this.$3$3=ss.delegateRemove(this.$3$3,dM)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(dM){this.$3$4=dM},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(dM){if(ss.isValue(this.$3$1)){this.$3$1(dM)}},updateTextElement:function(dM){this.$9.$1().text(dM);var dN=this.$9.$1().get(0);dN.title=(this.showTooltip?dM:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){if(this.get_isEditing()){this.set_isEditing(false);this.get_inputElement().hide();this.get_textElement().show();this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}}},$7:function(){var dM=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(dM);var dN=this.element.children('div');var dO=tab.DoubleUtil.roundToInt(dN.height());this.get_textElement().css('height',dO+'px');this.get_textElement().css('line-height',dO+'px');this.get_inputElement().css('height',dO+'px');this.get_inputElement().css('line-height',dO+'px')},onAddedToDom:function(){this.$7();dL.prototype.onAddedToDom.call(this)}},dv,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bp,a,{get_scrollingComponentRef:function(){return this.$0},ensureVisible:function(dM){window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1)){var dN=$(ReactDOM.findDOMNode(this.$1));var dO=$(dM);var dP=dO;var dQ=0;var dR=0;while(dN.find(dP[0]).length>0){var dS=dP.position();dQ+=dS.top;dR+=dS.left;dP=dP.offsetParent()}var dT=dQ<0||dR<0||dQ+dO.height()>dN.height()||dR+dO.width()>dN.width();if(dT){this.$1.get_scrollingControl().scrollToElement(dM)}}}),0)}});ss.initClass(bq,a,{});ss.initClass(br,a,{});ss.initClass(bz,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(dM){if(this.groupSize>0){this.allSelected=dM;if(dM===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(dM){this.$1$1=dM},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(dM){return function(dN){return this.mapSelected$1(dM).call(this,dN,true)}},mapSelected$1:function(dM){return function(dN,dO){var dP;if(this.get_theAllItemIsSelected()&&dO){dP=[];var dQ=this.groupSize;for(var dR=0;dR<dQ;++dR){dP.push(dR)}}else{dP=_.map(this.get_selectedIndexes(),function(dS,dT){return dT}).sort()}return _.map(dP,function(dS){return dN(dS)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(cG,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(dM){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var dN=0;dN<this.groupSize;++dN){if(dN!==dM){this.get_selectedIndexes()[dN]=true}}}else if(this.get_selectedIndexes()[dM]){delete this.get_selectedIndexes()[dM]}else{this.get_selectedIndexes()[dM]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var dM=new cG(this.groupSize);dM.allSelected=this.allSelected;dM.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dM},isSelected:function(dM){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),dM)}},bz);ss.initClass(bs,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(dM){return function(dN){return this.mapSelected$1(dM).call(this,dN,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(dM){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[dM]=true}else if(this.get_selectedIndexes()[dM]){delete this.get_selectedIndexes()[dM];this.validateAllSelectedState()}else{this.get_selectedIndexes()[dM]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var dM=0;dM<this.groupSize;++dM){this.get_selectedIndexes()[dM]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var dM=new bs(this.groupSize);dM.allSelected=this.allSelected;dM.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dM},isSelected:function(dM){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),dM)}},cG);ss.initClass(dj,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(dM){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[dM]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[dM]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var dM=new dj(this.groupSize);dM.allSelected=this.allSelected;dM.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dM},isSelected:function(dM){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),dM)},selectNext:function(dM){var dN=0;var dO=dN;if(this.get_selectedCount()===1){dN=this.mapSelected(ss.Int32).call(this,function(dP){return dP-0})[0];dO=dN+dM}if(dO>=this.groupSize){if(dN===this.groupSize-1){dO=0}else{dO=this.groupSize-1}}this.$0(dO)},selectPrevious:function(dM){var dN=this.groupSize-1;var dO=dN;if(this.get_selectedCount()===1){dN=this.mapSelected(ss.Int32).call(this,function(dP){return dP-0})[0];dO=dN-dM}if(dO<0){if(dN===0){dO=this.groupSize-1}else{dO=0}}this.$0(dO)},selectFirst:function(){this.$0(0)},selectLast:function(){this.$0(this.groupSize-1)},$0:function(dM){dM=Math.max(0,dM);dM=Math.min(this.groupSize-1,dM);if(this.groupSize>0){this.allSelected=false;this.set_selectedIndexes({});this.get_selectedIndexes()[dM]=true}}},bz);ss.initClass(bt,a,{mapSelected:function(dM){return function(dN){return this.mapSelected$1(dM).call(this,dN,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var dM=new bt(this.groupSize);dM.allSelected=this.allSelected;dM.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dM}},dj);ss.initClass(bu,a,{});ss.initClass(bv,a,{});ss.initClass(bw,a,{render:function(){var dM=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');var dN=null;if(this.props.isDisabled){dM=dM+' disabled'}if(this.props.disableArrowDown){dN={display:'none'}}return bh.div({className:'tab-GenericDropdownButton '+dM},bh.div({className:'tab-SelectionDisplay'},this.props.selectionDisplay()),bh.div({className:'tab-DownArrowButton',style:dN},bh.div({className:'arrow down'})))}},cO);ss.initClass(by,a,{render:function(){var dM=new da;dM.customStyle={top:this.props.marginTop};dM.extraCssClass=this.props.rootCssClass;dM.scrollX=true;dM.scrollY=true;dM.onScroll=ss.mkdel(this,function(dN){this.props.onScroll(-dN.x,-dN.y)});dM.onScrollStop=ss.mkdel(this,function(dN,dO){this.props.onScroll(-dN.x,-dN.y);if(dN.y===dO.y&&!ss.staticEquals(this.$1,null)){this.$1()}});dM.startingY=this.state.writeOnlyScrollTop;dM.onScrollingControlRefUpdated=this.$0;return cZ.createScroller(dM,[this.props.children])},componentDidMount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(this)}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(null)}},callOnScrollToEnd:function(dM){this.$1=dM},setScrollPosition$1:function(dM,dN){this.setState({writeOnlyScrollTop:dN})},scrollBy$1:function(dM,dN){var dO=this.$2;this.scrollBy$2(dM,dN,dO.get_x(),dO.get_y(),dO.get_maxScrollX(),dO.get_maxScrollY())},scrollBy$2:function(dM,dN,dO,dP,dQ,dR){var dS=dO+dM;var dT=Math.min(Math.max(dS,0),dQ);var dU=dP+dN;var dV=Math.min(Math.max(dU,0),dR);this.setScrollPosition$1(dT,dV)},setScrollPosition:function(dM,dN){this.$2.scrollTo(dM,dN)},getScrollPosition:function(){var dM=this.$2;var dN=Math.min(Math.max(dM.get_x(),0),dM.get_maxScrollX());var dO=Math.min(Math.max(dM.get_y(),0),dM.get_maxScrollY());return{scrollLeft:dN,scrollTop:dO}},scrollBy:function(dM,dN){var dO=this.$2;this.scrollBy$2(dM,dN,dO.get_x(),dO.get_y(),dO.get_maxScrollX(),dO.get_maxScrollY())},getScrollbarWidth:function(){return 9},canScroll:function(){return this.$2.get_canScroll()},dispose:function(){this.$2.destroy()},resetPosition:function(){this.$2.resetPosition()},refresh:function(){this.$2.refresh()},handleEvent:function(dM){this.$2.handleEvent(dM)},getScrollContainer:function(){return ReactDOM.findDOMNode(this)}},React.Component,[Object]);ss.initClass(bA,a,{render:function(){return dm.create({commitValue:ss.mkdel(this,this.$0),disabled:this.props.disabled,emptyTextBox:this.state.emptyTextBox,extraCssClass:this.props.extraCssClass,maxValue:this.props.maxValue,minValue:this.props.minValue,showValueTextBox:this.props.showValueTextBox,showPercentageSign:this.props.showPercentageSign,styleClass:this.props.styleClass,tabIndex:this.props.tabIndex,value:this.state.value,displayValueChanged:ss.mkdel(this,this.$1),width:this.props.width})},$1:function(dM){if(this.props.disabled){return}if(ss.isNullOrUndefined(dM)){this.setState({value:0,emptyTextBox:true})}else{this.setState({value:ss.unbox(dM),emptyTextBox:false})}this.$2=true},$0:function(dM,dN){if(this.props.disabled){return}var dO=this.$2||dM!==this.state.value||dN;if(!ss.staticEquals(this.props.onValueChanged,null)&&dO){this.props.onValueChanged(dM);this.$2=false}}},cO);ss.initClass(bB,a,{});ss.initClass(bC,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var dM=this.$7.element;var dN=this.$4;dM.off(this.$3(),dN)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(dM){if(ss.isValue(this.$5)){this.$5(dM)}},$1:function(dM){if(ss.isValue(this.$6)){this.$6(dM)}},$2:function(dM,dN){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bE,a,{get_buttonElement:function(){return this.element},setEnabled:function(dM){if(dM){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(dM){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(dM);return this}},x,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bF,a,{get_className:function(){var dM=['tab-IconBtn'];dM.push(this.props.customClassName);if(this.props.disabled){dM.push('disabled')}return dM.join(' ')},$0:function(){var dM=new bG;dM.isActive=(ss.isValue(this.state)?this.state.isActive:false);return dM},render:function(){var dM=new EventUtils.EventHandleSpec;dM.tap=ss.mkdel(this,this.$1);dM.firstTouch=ss.mkdel(this,function(dN){if(tsConfig.is_mobile){var dO=new bG;dO.isActive=true;this.setState(dO)}});dM.lastTouch=ss.mkdel(this,function(dN){if(tsConfig.is_mobile){var dO=new bG;dO.isActive=false;this.setState(dO)}});return EventUtils.EventForwarder.div(dM,{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(dN){if(!tsConfig.is_mobile){var dO=new bG;dO.isActive=true;this.setState(dO)}}),onMouseLeave:ss.mkdel(this,function(dN){if(!tsConfig.is_mobile){var dO=new bG;dO.isActive=false;this.setState(dO)}})},bh.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':''),key:this.props.customClassName}))},$1:function(dM){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(dM)}}},React.Component);ss.initClass(bG,a,{});ss.initInterface(bH,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(bI,a,{add_hideDialogRequested:null,remove_hideDialogRequested:null,onDialogHidden:null},[ss.makeGenericType(bT,[Object])]);ss.initInterface(bJ,a,{dragStarted:null,dragEnded:null});ss.initInterface(bK,a,{startDrag:null});ss.initInterface(bN,a,{createListItemContent:null});ss.initInterface(bO,a,{createListItemDragAvatar:null});ss.initInterface(bP,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initEnum(bR,a,{positiveInteger:0,string:1});ss.initClass(bS,a,{render:function(){var dM='tab-custom-button';var dN={role:'button'};if(!this.props.disabled){dN.onKeyDown=ss.mkdel(this,this.$3);dN.tabIndex=0}else{dM+=' disabled'}dN.className=dM;return EventUtils.EventForwarder.div(this.$4,dN,this.props.buttonContent())},$3:function(dM){switch(dM.which){case 13:case 32:{this.$2();this.$1();break}default:{return}}dM.stopPropagation();dM.preventDefault()},$2:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleAllTriggers,null)){this.props.handleAllTriggers()}},$1:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleEnterSpaceOnly,null)){this.props.handleEnterSpaceOnly()}},$0:function(dM){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClickOnly,null)){this.props.handleClickOnly(dM)}}},cO);ss.initInterface(bU,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(bV,a,{render:function(){var dM=['tab-iscroll-component'];if(this.state.hovered){dM.push('hover')}if(this.state.scrolling){dM.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){dM.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){dM.push('showIfScrollable')}var dN=ss.arrayFromEnumerable(dM).join(' ');return bh.div({ref:'iscroll-wrapper',className:dN,style:this.props.customStyle,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},bh.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){this.$5=bq.bindWithDispose($(window),'resize',ss.mkdel(this,this.$1));var dM=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.iScroll=new g(dM,this.props);this.iScroll.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.iScroll.on('scroll',ss.mkdel(this,this.$2));this.iScroll.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$3()},componentWillUnmount:function(){this.$5=tab.MiscUtil.dispose$1(this.$5);this.iScroll.destroy();this.iScroll=null;this.$4=tab.MiscUtil.clearTimeout(this.$4)},componentDidUpdate:function(dM){if(!ss.referenceEquals(this.props.startingY,dM.startingY)&&ss.isValue(this.props.startingY)){this.iScroll.scrollTo(this.iScroll.x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$3()},handleOnMouseOver:function(dM){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(dM){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},$2:function(){if(!ss.staticEquals(this.props.scrollCallback,null)){this.props.scrollCallback(this.iScroll.getComputedPosition())}},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(dM){this.$3()},$3:function(){this.$4=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.iScroll)){this.iScroll.refresh()}}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var dM=new Object;dM.x=this.iScroll.maxScrollX;dM.y=this.iScroll.maxScrollY;var dN=dM;this.props.scrollStopCallback(this.iScroll.getComputedPosition(),dN)}}},React.Component);ss.initInterface(bW,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(bY,a,{});ss.initInterface(cb,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(ce,a,{updateUberPopupViewModel:null},[bH]);ss.initClass(cf,a,{});ss.initClass(cg,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(dM){this.get_labelElement().text(dM);if(ss.isNullOrEmptyString(dM)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(dM){if(ss.isValue(dM)){this.get_labelElement().html(dM);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},x,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dw,a,{add_selectableDisposed:function(dM){this.$3$1=ss.delegateCombine(this.$3$1,dM)},remove_selectableDisposed:function(dM){this.$3$1=ss.delegateRemove(this.$3$1,dM)},add_selectedChanging:function(dM){this.$3$2=ss.delegateCombine(this.$3$2,dM)},remove_selectedChanging:function(dM){this.$3$2=ss.delegateRemove(this.$3$2,dM)},add_selectedChanged:function(dM){this.$3$3=ss.delegateCombine(this.$3$3,dM)},remove_selectedChanged:function(dM){this.$3$3=ss.delegateRemove(this.$3$3,dM)},get_selectedClass:function(){return this.$c},set_selectedClass:function(dM){if(ss.referenceEquals(this.$c,dM)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(dM,true)}this.$c=dM},get_selectionId:function(){return this.$d},set_selectionId:function(dM){this.$d=dM},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(dM){if(this.get_selected()===dM){return}this.element.toggleClass(this.$c,dM);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(dM){this.$3$4=dM},handleClick:function(dM){if(this.get_disabled()){return}var dN=!this.get_selected();if(this.get_preventMouseDeselect()&&!dN){return}if(!ss.staticEquals(this.$3$2,null)){var dO=new df(dN,ss.isValue(dM)&&dM.shiftKey,bq.isCtrlKey(dM));this.$3$2(this,dO);if(dO.cancel){return}}this.set_selected(dN);x.prototype.handleClick.call(this,dM)},$b:function(dM,dN){if(!ss.staticEquals(dM,null)){dM(this,dN)}},onDisposed:function(dM){this.$b(this.$3$1,null);dL.prototype.onDisposed.call(this,dM)}},x,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cb]);ss.initClass(ch,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(dM){this.get_labelElement().text(dM);if(ss.isNullOrEmptyString(dM)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return dw.prototype.get_selected.call(this)},set_selected:function(dM){if(this.get_selected()===dM){return}var dN=this.get_inputElement();if(ss.isValue(dN)){dN.prop('checked',(dM?'checked':''))}dw.prototype.set_selected.call(this,dM)},get_disabled:function(){return x.prototype.get_disabled.call(this)},set_disabled:function(dM){var dN=this.get_inputElement();if(ss.isValue(dN)){dN.prop('disabled',dM)}x.prototype.set_disabled.call(this,dM)}},dw,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cb]);ss.initClass(ci,a,{handleBlur:function(dM){if(this.props.blurBehavior===0){this.$3()}else if(this.props.blurBehavior===1){this.handleEnterPress()}},componentWillReceiveProps:function(dM){if(!ss.referenceEquals(this.props.initialValue,dM.initialValue)){this.setState({displayedText:dM.initialValue})}},$3:function(){this.setState({displayedText:this.props.initialValue})},$0:function(){return{displayedText:(tab.MiscUtil.isNullOrEmpty$3(this.props.initialValue)?'':this.props.initialValue)}},handleInput:function(dM){if(this.props.inputFilter===0){dM=ss.replaceAllString(dM,',','');dM=ss.replaceAllString(dM,'.','');dM=ss.replaceAllString(dM,'-','');var dN={};if(ss.isNullOrEmptyString(dM)||ss.Int32.tryParse(dM,dN)){this.setState({displayedText:dM})}}else{this.setState({displayedText:dM})}},$2:function(dM){if(dM.keyCode===27){dM.preventDefault();dM.stopPropagation();this.$3()}},handleEnterPress:function(){var dM=this.$1();if(!ss.staticEquals(this.props.onCommit,null)){this.props.onCommit(dM)}if(this.props.blurBehavior===0){this.$3()}else if(!ss.referenceEquals(this.state.displayedText,dM)){this.setState({displayedText:dM})}},$1:function(){var dM={};if(ss.Int32.tryParse(this.state.displayedText,dM)){return((ss.isValue(this.props.maxValue)&&ss.Nullable$1.gt(dM.$,this.props.maxValue))?this.props.maxValue.toString():this.state.displayedText)}else{return this.state.displayedText}},render:function(){var dM=this.$4;var dN=new Object;dN.iconClassName='confirmArrowIcon';dN.customClassName='confirmButton';var dO=EventUtils.EventForwarder.div(dM,{className:'confirmButtonDiv'},React.createElement(bF,dN));var dP=React.createElement(SharedWidgets.OutlineTextFieldWidget,{text:this.state.displayedText,testId:'lineEdit',handleChange:ss.mkdel(this,this.handleInput),handleEnter:ss.mkdel(this,this.handleEnterPress),maxLength:ss.coalesce(this.props.maxLength,6)});return bh.div({className:'lineEditWithButtonComponent',onKeyDown:ss.mkdel(this,this.$2),onBlur:ss.mkdel(this,this.handleBlur),style:{width:ss.coalesce(this.props.textBoxWidth,'auto')}},dP,dO)}},React.Component);ss.initClass(ck,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(dM){this.$1$1=dM},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(dM){this.$1$2=dM},startDrag:function(dM){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[bK]);ss.initClass(de,a,{add_selectionChanged:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_selectionChanged:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},get_selectedClass:function(){return this.$8},set_selectedClass:function(dM){this.$8=dM},get_selectionType:function(){return this.$a},set_selectionType:function(dM){this.$a=dM},get_items:function(){return this.$7},get_selectedItems:function(){var dM=[];var dN=ss.getEnumerator(Object.keys(this.$9));try{while(dN.moveNext()){var dO=dN.current();dM.push(this.$9[dO])}}finally{dN.dispose()}return dM},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var dM=Object.keys(this.$9)[0];return this.$9[dM]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(dM){dM.set_selectedClass(this.$8);this.$7.push(dM);if(dM.get_selected()){this.$6(dM,false,false)}this.$0(dM)},containsItem:function(dM){return ss.contains(this.get_items(),dM)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(dM,dN){var dO=dM;this.$5(dO);if(this.isItemSelected$1(dO)){delete this.$9[dO.get_selectionId()]}ss.remove(this.$7,dO)},$0:function(dM){dM.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));dM.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));dM.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(dM){dM.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));dM.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));dM.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(dM){return ss.isValue(dM)&&ss.keyExists(this.$9,dM.get_selectionId())},isItemSelected:function(dM){return ss.keyExists(this.$9,dM)},selectItem:function(dM){this.$6(dM,false,true)},selectSingleItem:function(dM){this.$6(dM,true,true)},$6:function(dM,dN,dO){var dP=false;if(dN||this.get_selectionType()===0){dP=this.$1(dM)}dP=this.$2(dM)||dP;if(dO&&dP){this.$4()}},selectItems:function(dM,dN){switch(this.get_selectionType()){case 0:{var dO=((ss.isValue(dM)&&dM.length>0)?dM[0]:null);this.selectItem(dO);break}case 1:case 2:{var dP=false;if(dN){dP=this.$1(null)}if(ss.isValue(dM)){for(var dQ=0,dR=dM.length;dQ<dR;dQ++){dP=this.$2(dM[dQ])||dP}}if(dP){this.$4()}break}}},$2:function(dM){if(ss.isNullOrUndefined(dM)){return false}if(ss.isNullOrUndefined(dM.get_selectionId())){return false}if(this.isItemSelected$1(dM)){return false}if(!this.containsItem(dM)){return false}this.$9[dM.get_selectionId()]=dM;dM.set_selected(true);return true},clearSelection:function(dM){if(this.$1(dM)){this.$4()}},$1:function(dM){var dN=ss.getKeyCount(this.$9);var dO=ss.getEnumerator(Object.keys(this.$9));try{while(dO.moveNext()){var dP=dO.current();if(ss.isValue(dM)&&ss.referenceEquals(dP,dM.get_selectionId())){continue}this.$3(this.$9[dP])}}finally{dO.dispose()}return dN>0&&ss.getKeyCount(this.$9)!==dN},unselectItem:function(dM){if(!this.isItemSelected$1(dM)){return}this.$3(dM);this.$4()},$3:function(dM){delete this.$9[dM.get_selectionId()];dM.set_selected(false)},handleSelectionChanging:function(dM,dN){var dO=dM;if(dN.get_selecting()){this.selectItem(dO)}else if(this.get_selectionType()!==0){this.unselectItem(dO)}else if(ss.referenceEquals(this.get_selectedItem(),dO)){dN.cancel=true}},handleSelectionChanged:function(dM,dN){var dO=dM;var dP=this.isItemSelected$1(dO);if(dO.get_selected()&&!dP){this.$2(dO)}else if(!dO.get_selected()&&dP){this.$3(dO)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cl,a,{$e:function(dM){this.$d(ss.indexOf(this.get_items(),dM))},$d:function(dM){if(dM<0||dM>=this.get_items().length){return}this.$f=dM;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(dM){de.prototype.addItem.call(this,dM);if(dM.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(dM)}},onItemDisposed:function(dM,dN){this.$b();de.prototype.onItemDisposed.call(this,dM,dN)},dispose:function(){this.$b();de.prototype.dispose.call(this)},selectItem:function(dM){this.selectItemAtIndex(ss.indexOf(this.get_items(),dM))},selectSingleItem:function(dM){var dN=ss.indexOf(this.get_items(),dM);if(dN<0){return}de.prototype.selectSingleItem.call(this,dM);this.$d(dN)},selectItemAtIndex:function(dM){de.prototype.selectItem.call(this,this.get_items()[dM]);this.$d(dM)},selectItems:function(dM,dN){this.$c(dM,dN);this.$g=null},$c:function(dM,dN){de.prototype.selectItems.call(this,dM,dN)},clearSelection:function(dM){de.prototype.clearSelection.call(this,dM);this.$b()},selectItemForKey:function(dM,dN){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var dO=dM===38;var dP=dM===40;if(dO||dP){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var dQ=ss.unbox(this.$f)+(dO?-1:1);if(dQ<0||dQ>=this.get_items().length){return null}if(this.get_selectionType()===1&&dN){var dR=this.$g;if(ss.isValue(this.$g)){var dS=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var dT=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(dQ>=dS&&dQ<=dT){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{dR=this.$f}this.selectItem(this.get_items()[dQ]);this.$g=dR}else{this.selectSingleItem(this.get_items()[dQ]);this.$g=null}this.$f=dQ;return this.get_items()[dQ]}return null},handleSelectionChanging:function(dM,dN){var dO=dM;var dP=ss.indexOf(this.get_items(),dO);if(dP<0){return}if(this.get_selectionType()===0){de.prototype.handleSelectionChanging.call(this,dM,dN);return}var dQ=this.$f;var dR=this.$g;this.$d(dP);if(this.get_selectionType()===2||dN.get_ctrlKey()){if(dN.get_selecting()){this.selectItem(dO)}else{this.unselectItem(dO)}return}if(dN.get_shiftKey()&&(ss.isValue(dQ)||ss.isValue(dR))){this.$g=ss.coalesce(dR,dQ);var dS=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var dT=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var dU=[];for(var dV=dS;dV<=dT;dV++){dU.push(this.get_items()[dV])}this.$c(dU,true);dN.cancel=true;return}this.selectSingleItem(dO);if(ss.referenceEquals(this.get_selectedItem(),dO)){dN.cancel=true}},handleSelectionChanged:function(dM,dN){de.prototype.handleSelectionChanged.call(this,dM,dN);this.$e(dM)}},de,[ss.IDisposable]);ss.initClass(cm,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?dw.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(dM){dw.prototype.set_selected.call(this,dM);this.get_viewModel().set_selected(dM)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(dM){this.$f.toggleClass('invalid',dM);this.get_viewModel().set_isInvalid(dM)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(dM){this.$f.toggleClass('bold',dM);this.get_viewModel().set_isBold(dM)},get_disabled:function(){return x.prototype.get_disabled.call(this)},set_disabled:function(dM){this.$f.toggleClass(this.get_disabledClass(),dM);x.prototype.set_disabled.call(this,dM)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(dM,dN){switch(dN.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},dw,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cb]);ss.initClass(cn,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(dM){if(this.$5===dM){return}this.$5=dM;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(dM){if(this.$4===dM){return}this.$4=dM;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(dM){if(this.$3===dM){return}this.$3=dM;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(dM){if(this.$1===dM){return}this.$1=dM;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(dM){if(this.$6===dM){return}this.$6=dM;this.notifyPropertyChanged('spotlighted')}},w,[ss.IDisposable,tab.IViewModel]);ss.initClass(co,a,{create:function(){this.$0();var dM=[];for(var dN=0,dO=this.itemDatas.length;dN<dO;dN++){var dP=this.itemIds[dN];var dQ=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,dN):false);var dR=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,dN):false);var dS=this.itemDatas[dN];var dT=new cn(dP,dS,dQ,dR,false);dT.set_draggable(dO>1);var dU=dT;dM.push(dU)}return dM},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cp,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(dM){this.$3$1=dM},add_listItemsUpdated:function(dM){this.$3$2=ss.delegateCombine(this.$3$2,dM)},remove_listItemsUpdated:function(dM){this.$3$2=ss.delegateRemove(this.$3$2,dM)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(dM){this.$m=dM||new f(this.element)},useScrollableView:function(dM){this.set_scrollHandler(new e(dM))},$5:function(){for(var dM=0;dM<this.get_viewModel().get_collection().length;dM++){var dN={$:this.get_viewModel().get_collection()[dM]};if(ss.isValue(dN.$)){var dO=this.$k.createListItemContent(dN.$);var dP=new cm(dO,dN.$);dP.init();dP.onDoubleClick(ss.mkdel(this,this.$8));dP.set_disabled(!this.get_viewModel().get_enabled());dP.set_isInvalid(dN.$.get_isInvalid());dP.set_isBold(dN.$.get_isBold());dP.onMouseEnter(ss.mkdel({itemViewModel:dN,$this:this},function(dQ){this.$this.$a(this.itemViewModel.$)}));dP.onMouseMove(ss.mkdel({itemViewModel:dN,$this:this},function(dQ){this.$this.$b(this.itemViewModel.$)}));this.$i(dP);this.$l.push(dP);this.get_viewModel().addItemToGroup(dP);dP.addToDom(this.get_dom().get_listItemContainer());dN.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(dM){if(!ss.isValue(dM)){return}this.$h(this.$l[ss.unbox(dM)])},$d:function(dM){if(ss.isValue(dM)){this.$h(this.$l[ss.unbox(dM)])}},$8:function(dM){this.get_viewModel().selectionSubmitted()},$a:function(dM){this.get_viewModel().handleListItemMouseEnter(dM)},$b:function(dM){this.get_viewModel().handleListItemMouseMove(dM)},$9:function(dM){var dN=this.get_viewModel().get_listItemGroup().selectItemForKey(dM.which,dM.shiftKey);if(ss.isValue(dN)){bq.stopEvent$2(dM);this.$h(dN)}},onViewModelPropertyChanged:function(dM,dN){if(dN.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(dN.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(dO){dO.set_disabled(!this.get_viewModel().get_enabled());this.$i(dO)}))}ss.makeGenericType(v,[cr]).prototype.onViewModelPropertyChanged.call(this,dM,dN)},$f:function(dM,dN){if(dN.get_propertyName()==='draggable'){var dO=this.$7(dM);this.$i(dO)}},$i:function(dM){if(dM.get_viewModel().get_draggable()&&!dM.get_disabled()){dM.element.addClass('tabDraggable');bi.attachDragSource(dM.element,new ck(this,dM))}else{dM.element.removeClass('tabDraggable');bi.removeDragSource(dM.element)}},tabIndex:function(dM){this.get_dom().get_listItemContainer().attr('tabindex',dM.toString());return this},showItemAtIndex:function(dM){this.$h(this.get_itemViews()[dM])},$h:function(dM){if(ss.isNullOrUndefined(dM)){return}var dN=dM.element[0];this.$m.scrollToElement(dN,this.$j())},$e:function(dM,dN){if(dM===dN||dM<0||dM>=this.get_itemViews().length||dN<0||dN>=this.get_itemViews().length){return}var dO=this.get_itemViews()[dM];dO.element.hide();if(dN<dM){dO.element.insertBefore(this.get_itemViews()[dN].element)}else{dO.element.insertAfter(this.get_itemViews()[dN].element)}dO.element.fadeIn();ss.removeAt(this.get_itemViews(),dM);ss.insert(this.get_itemViews(),dN,dO)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(v,[cr]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(dM){dM.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));dM.dispose()}));ss.clear(this.$l)},$g:function(dM){if(ss.isValue(dM)){dM()}},$7:function(dM){for(var dN=0,dO=this.$l.length;dN<dO;dN++){if(ss.referenceEquals(this.$l[dN].get_selectionId(),dM.get_id())){return this.$l[dN]}}return null}},ss.makeGenericType(v,[cr]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cr])]);ss.initClass(cq,a,{add_dragStarting:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_dragStarting:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},add_dragEnded:function(dM){this.$1$2=ss.delegateCombine(this.$1$2,dM)},remove_dragEnded:function(dM){this.$1$2=ss.delegateRemove(this.$1$2,dM)},get_dragClassName:function(){return this.$b},set_dragClassName:function(dM){this.$b=dM},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(dM){this.$c=dM},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(dM){this.$1$3=dM},dispose:function(){bi.remove_dragStarted(ss.mkdel(this,this.$8));bi.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(dM,dN){if(ss.isNullOrUndefined(dM)||ss.isNullOrUndefined(dM.get_itemViews())){return null}var dO=ss.indexOf(dM.get_itemViews(),dN);if(dO<0){return null}this.$5(dM,dO);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bi.add_dragStarted(ss.mkdel(this,this.$8));bi.add_dragEnded(ss.mkdel(this,this.$7));var dP=this.$1(dM.get_itemViews()[dO]);return new cE(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),dP)},$5:function(dM,dN){this.$k=dM;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=dN;this.$l=dN;var dO=dM.get_itemViews()[dN];this.$f=dO.get_viewModel();this.$e=dO.element},$6:function(dM){this.$g=this.$2(dM).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(dM){return $("<div class='tab-list-item-insertion-pointer'>").width(dM)},$1:function(dM){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(dM.get_viewModel())}return new bl(dM)},$8:function(dM){bi.remove_dragStarted(ss.mkdel(this,this.$8));bi.setDragCursor(new W(null,'move'));bi.setDragCursor(new W(null,'-webkit-grabbing'));bi.setDragCursor(new W(null,'-moz-grabbing'));bi.setDragCursor(new W(null,'grabbing'))},$7:function(dM){bi.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(dM){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var dN=this.$k.get_itemViews()[this.$l].element;var dO=tab.DomUtil.getElementPosition(dN);var dP=this.$l>0&&(dM.pageY<this.$j||dM.pageY<dO.y);var dQ=this.$l<this.$m-1&&(dM.pageY>this.$i||dM.pageY>dO.y+dN.outerHeight());if(!dP&&!dQ){return}var dR=(dP?-1:1);this.$l+=dR;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bi.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var dM=this.$k.get_itemViews()[this.$l].element;var dN=tab.DomUtil.getElementPosition(dM);if(this.$l>this.$n){dN.y+=tab.DoubleUtil.roundToInt(dM.outerHeight())}tab.DomUtil.setElementPosition(this.$g,dN.x,dN.y-this.$h,null,false);this.$g.show()},$4:function(dM){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[bP,ss.IDisposable]);ss.initClass(cr,a,{add_propsUpdated:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_propsUpdated:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_selectionChanged:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_selectionChanged:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},add_submitSelection:function(dM){this.$2$3=ss.delegateCombine(this.$2$3,dM)},remove_submitSelection:function(dM){this.$2$3=ss.delegateRemove(this.$2$3,dM)},add_listItemMouseEnter:function(dM){this.$2$4=ss.delegateCombine(this.$2$4,dM)},remove_listItemMouseEnter:function(dM){this.$2$4=ss.delegateRemove(this.$2$4,dM)},add_listItemMouseMove:function(dM){this.$2$5=ss.delegateCombine(this.$2$5,dM)},remove_listItemMouseMove:function(dM){this.$2$5=ss.delegateRemove(this.$2$5,dM)},add_selectionModelUpdated:function(dM){this.$2$6=ss.delegateCombine(this.$2$6,dM)},remove_selectionModelUpdated:function(dM){this.$2$6=ss.delegateRemove(this.$2$6,dM)},add_spotlightedItemChanged:function(dM){this.$2$7=ss.delegateCombine(this.$2$7,dM)},remove_spotlightedItemChanged:function(dM){this.$2$7=ss.delegateRemove(this.$2$7,dM)},add_itemMoved:function(dM){this.$2$8=ss.delegateCombine(this.$2$8,dM)},remove_itemMoved:function(dM){this.$2$8=ss.delegateRemove(this.$2$8,dM)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(dM){this.$4=dM;this.$0()},get_sort:function(){return this.$9},set_sort:function(dM){this.$9=dM;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var dM=this.$1(1);return((dM.length>0)?dM[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(dM){if(this.$3===dM){return}this.$3=dM;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);w.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(dM){this.raiseActionEvent$1(cn).call(this,this.$2$4,dM)},handleListItemMouseMove:function(dM){this.raiseActionEvent$1(cn).call(this,this.$2$5,dM)},update:function(dM){this.$7=ss.arrayClone(dM);this.$0();this.$8.items=_.map(this.get_collection(),function(dN){return{data:dN.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(dM){this.$6.addItem(dM)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(dM){var dN=[];var dO=this.$6.get_numberOfSelectedItems();if(dO===1){dN.push(this.$6.get_selectedItem().get_viewModel());return dN}var dP=Math.min(dO,dM);for(var dQ=0,dR=this.get_collection().length;dQ<dR&&dN.length<dP;dQ++){if(this.$6.isItemSelected(this.get_collection()[dQ].get_id())){dN.push(this.get_collection()[dQ])}}return dN},setSelectedItems:function(dM){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var dN=null;for(var dO=0,dP=dM.length;dO<dP;dO++){var dQ=dM[dO];dN=Math.min(ss.coalesce(dN,dQ),dQ);this.get_collection()[dQ].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(dN,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(dM){for(var dN=0,dO=this.get_collection().length;dN<dO;++dN){this.get_collection()[dN].set_isInvalid(ss.contains(dM,dN))}},selectItemById:function(dM){for(var dN=0,dO=this.get_collection().length;dN<dO;dN++){var dP=this.get_collection()[dN];if(ss.referenceEquals(dP.get_id(),dM)){this.selectItemAtIndex(dN);break}}},selectItemAtIndex:function(dM){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var dN=this.get_collection()[dM];var dO=!dN.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}dN.set_selected(true);if(dO){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,dM);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(dM){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var dN=this.get_collection()[dM];if(ss.isNullOrUndefined(dN)){return}dN.set_spotlighted(true);this.$a=dM;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(dM,dN){if(dM===dN){return}var dO=this.get_collection()[dM];ss.removeAt(this.get_collection(),dM);ss.insert(this.get_collection(),dN,dO);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(dM,dN)}}},w,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(bT,[Object])]);ss.initClass(cs,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},dt,[ss.IDisposable]);ss.initClass(ct,a,{});ss.initClass(cv,a,{checkState:function(dM){this.$0.checkState=dM;return this},data:function(dM){this.$0.data=dM;return this},description:function(dM){this.$0.description=dM;return this},enabled:function(dM){this.$0.enabled=dM;return this},isDivider:function(dM){this.$0.isDivider=dM;return this},isTextInput:function(dM){this.$0.isTextInput=dM;return this},iconClass:function(dM){this.$0.iconClass=dM;return this},iconClassTwo:function(dM){this.$0.iconClassTwo=dM;return this},itemClass:function(dM){this.$0.itemClass=dM;return this},name:function(dM){this.$0.name=dM;return this},readId:function(dM){this.$0.readId=dM;return this},subMenu:function(dM){this.$0.subMenu=dM;return this},title:function(dM){this.$0.title=dM;return this},build:function(){var dM=this.$0;this.$0=null;return dM}});ss.initEnum(cw,a,{none:0,check:1,radio:2});ss.initClass(cx,a,{},dt,[ss.IDisposable]);ss.initClass(cy,a,{},dt,[ss.IDisposable]);ss.initClass(cz,a,{},dt,[ss.IDisposable]);ss.initClass(cA,a,{$a:function(){var dM=this.dom.domRoot;for(var dN=0;dN<this.menuStack.length;dN++){var dO=this.menuStack[dN];dM=dM.add(dO.domRoot)}return dM},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$9));var dM=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var dN=0;dN<this.menuStack.length;dN++){var dO=this.menuStack[dN];dO.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(v,[cB]).prototype.dispose.call(this)});this.$5(dM)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(dM){return(ss.isValue(dM)?this.$b[dM.id]:null)},getMenuElementForMenuItem:function(dM){var dN=this.getElementForMenuItem(dM);if(ss.isNullOrUndefined(dN)){return null}var dO=this.menuStack[cA.getMenuItemLevel(dN)-1];if(ss.isNullOrUndefined(dO)){return null}else{return dO.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$b={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var dM=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(dM)},shown:function(dM){if(dM.get_minWidth()!==0){var dN=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',dM.get_minWidth()-dN+'px')}var dO=989;if(dM.relativeDom.length>0){var dP=tab.DomUtil.getComputedZIndex(dM.relativeDom[0]);if(dP>=dO){dO=Math.max(1000,dP+1)}}this.removeGlass();var dQ=new bx(null,false);dQ.set_zIndex(dO-1);this.glass=dQ;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',dO);if(ss.isValue(dM.additionalMenuClass)){this.dom.domRoot.addClass(dM.additionalMenuClass)}dk.getViewport(ss.mkdel(this,function(dS){this.dom.domRoot.appendTo($('body'));this.positionMenu(dS,dM,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show();this.onSized()}));this.disposables.add$1(bq.bindWithDispose($(window),'resize',ss.mkdel(this,function(dS){this.menuViewModel.hide()})));var dR=ss.mkdel(this,function(dS){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',dR);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',dR)}));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},onSized:function(){},$9:function(dM,dN){var dO=this.$b[dM.id];if(ss.isValue(dO)&&dO.is(':visible')){dO.toggleClass('tabMenuSelectedItem',dN);if(dN){this.scrollToMenuItem(dO)}}},scrollToMenuItem:function(dM){dM.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(dM.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(dM,dN){var dO=dN.data('tabMenuMenuItemLevel');if(ss.isValue(dO)&&dO<this.menuStack.length){return}var dP=new cz;dP.domRoot.addClass(this.menuViewModel.get_theme().menuClass);dP.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(dP);this.buildMenu(dP,dM.subMenu);this.showSubmenu(dM,dN,dP);dP.domRoot.focus();dP.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(dM,dN){var dO=false;var dP=false;var dQ=false;var dR=[];var dS=ds.targetAndClick(dM.domRoot.get(0),ss.mkdel(this,this.$8));this.menuDisposables.add$1(dS);for(var dT=0;dT<dN.menuItems.length;dT++){var dU=dN.menuItems[dT];var dV;if(dU.isDivider){dV=(new cx).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(dU.isTextInput){var dW=this.$6(dU);dV=dW.domRoot}else if(ss.isInstanceOfType(dU,Z)){dV=dU.get_domRoot()}else{var dX=(new k(dU.name,dU.enabled)).$2(dU.checkState,dU.iconClass).$3(dU.iconClassTwo).$1(dU.description).$6(dU.title).$4(dU.subMenu).$5([this.menuViewModel.get_theme().itemClass,dU.itemClass]).$0();dO=dO||dX.$2;dP=dP||dX.$3;dQ=dQ||dX.$1;dX.domRoot.data('tabMenuMenuItem',dU);dX.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);dV=dX.domRoot}dV.addClass('tabMenuMenuItem');if(dU.isDefault){dV.addClass('tabMenuDefaultItem')}}dR.push(dV);this.$b[dU.id]=dV}dM.content.append(dR);if(!dO){dM.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(dP){dM.domRoot.addClass('tabMenuHasIconTwo')}if(!dQ){dM.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$9(this.menuViewModel.get_selectedItem(),true)}},$8:function(dM){var dN=$(dM.target).closest('.tabMenuMenuItem');var dO=dN.data('tabMenuMenuItem');if(ss.isNullOrUndefined(dO)){return}else if(ss.isValue(dO.subMenu)){this.activateSubmenu(dO,dN)}else{this.menuViewModel.clickMenuItem(dO)}},onBlur:function(dM){window.setTimeout(ss.mkdel(this,function(){var dN=this.$a();if(dN.index(document.activeElement)<0&&dN.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(dM){dM.stopPropagation();switch(dM.which){case 13:{var dN=dM.data['callback'];if($.isFunction(dN)){dN($(dM.target).val())}break}case 9:{dM.preventDefault();dM.target.blur();this.menuViewModel.iterateFocus((dM.shiftKey?-1:1),null);break}}},$6:function(dM){var dN=new cy;dN.textInput.keydown(ss.mkdict(['callback',dM.data]),ss.mkdel(this,this.$7)).keypress(cA.$0).focus(ss.mkdel(this,function(dO){this.get_viewModel().set_focusedItem(dM)})).attr('placeholder',dM.description);if(!ss.isNullOrEmptyString(dM.itemClass)){dN.domRoot.addClass(dM.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){dN.textInput.off()}));return dN},$5:function(dM){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){dM()}else{this.$a().fadeOut(50,dM)}}},ss.makeGenericType(t,[cB]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cB])]);ss.initClass(cB,a,{add_shown:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_shown:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_hidden:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_hidden:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},add_menuChanged:function(dM){this.$2$3=ss.delegateCombine(this.$2$3,dM)},remove_menuChanged:function(dM){this.$2$3=ss.delegateRemove(this.$2$3,dM)},add_menuItemClicked:function(dM){this.$2$4=ss.delegateCombine(this.$2$4,dM)},remove_menuItemClicked:function(dM){this.$2$4=ss.delegateRemove(this.$2$4,dM)},add_menuItemSelectionChanged:function(dM){this.$2$5=ss.delegateCombine(this.$2$5,dM)},remove_menuItemSelectionChanged:function(dM){this.$2$5=ss.delegateRemove(this.$2$5,dM)},add_menuItemFocusChanged:function(dM){this.$2$6=ss.delegateCombine(this.$2$6,dM)},remove_menuItemFocusChanged:function(dM){this.$2$6=ss.delegateRemove(this.$2$6,dM)},get_visible:function(){return this.$2$7},set_visible:function(dM){this.$2$7=dM},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(dM){this.$2$8=dM},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(dM){this.$2$9=dM},set_disposeOnHide:function(dM){this.remove_hidden(this.$0);if(dM){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(dM){if(_.isEqual(this.$2,dM)){return}this.$2=dM;if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_theme:function(){return this.$2$10},set_theme:function(dM){this.$2$10=dM},get_selectedItem:function(){return this.$3},set_selectedItem:function(dM){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(dM)){this.$3=null;return}this.$3=dM;if(!ss.staticEquals(this.$2$5,null)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(dM){if(ss.referenceEquals(this.$1,dM)){return}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,false)}if(ss.isNullOrUndefined(dM)||!dM.enabled){this.$1=null;return}this.$1=dM;if(!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,true)}},show:function(dM){this.set_isExpanded(dM.expanded);if(this.get_visible()){return}this.set_visible(true);if(!ss.staticEquals(this.$2$1,null)){this.$2$1(dM)}},dispose:function(){this.hide();w.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(dM){if(!dM.enabled){return}this.hide();if(!ss.staticEquals(this.$2$4,null)){this.$2$4(dM)}},iterateFocus:function(dM,dN){var dO=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(dO)){return}var dP=dN;if(ss.isNullOrUndefined(dP)){dP=ss.indexOf(dO.menuItems,this.get_focusedItem())}var dQ=dP;var dR=dQ;do{dR+=dM;if(dR>=dO.menuItems.length){dR=0}else if(dR<0){dR=dO.menuItems.length-1}}while(!dO.menuItems[dR].get_selectable()&&dR!==dQ);if(dR!==dQ){this.set_focusedItem(dO.menuItems[dR])}},focusByNamePrefix:function(dM){dM=dM.toLowerCase();var dN=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(dN)){return}var dO=ss.indexOf(dN.menuItems,this.get_focusedItem())+1;if(dO>=dN.menuItems.length){dO=0}var dP=dO;do{if(dN.menuItems[dP].enabled&&!dN.menuItems[dP].isDivider){if(ss.isValue(dN.menuItems[dP].name)&&ss.startsWithString(dN.menuItems[dP].name.toLowerCase(),dM)){this.set_focusedItem(dN.menuItems[dP]);return}}++dP;if(dP>=dN.menuItems.length){dP=0}}while(dP!==dO)},findMenuForMenuItem:function(dM){if(ss.isNullOrUndefined(dM)){return null}var dN=null;dN=function(dO){if(ss.contains(dO.menuItems,dM)){return dO}for(var dP=0;dP<dO.menuItems.length;dP++){var dQ=dO.menuItems[dP];if(ss.isValue(dQ.subMenu)){var dR=dN(dQ.subMenu);if(ss.isValue(dR)){return dR}}}return null};return dN(this.get_menu())},findItemContainingSubMenu:function(dM){if(ss.isNullOrUndefined(dM)||ss.referenceEquals(this.get_menu(),dM)){return null}var dN=null;dN=function(dO){var dP=null;for(var dQ=0;dQ<dO.menuItems.length;dQ++){var dR=dO.menuItems[dQ];if(ss.isValue(dR.subMenu)){dP=(ss.referenceEquals(dR.subMenu,dM)?dR:dN(dR.subMenu));if(ss.isValue(dP)){break}}}return dP};return dN(this.get_menu())}},w,[ss.IDisposable,tab.IViewModel]);ss.initClass(cD,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bx(null,false);this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bd.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bd.prototype.bindToEvents.call(this);this.disposables.add$1(bq.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bq.bindWithDispose($(window),'keyup',ss.mkdel(this,this.onDocumentKeyUp)))},detach:function(){this.$x();bd.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bd.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bd.defaultStationaryDialogConfigurer)},onWindowResize:function(dM){this.positionInWindow()},onDocumentKeyUp:function(dM){if(dM.which===27){this.close(null);dM.preventDefault();dM.stopPropagation();return}}},bd,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);cD.$ctor1.prototype=cD.prototype;ss.initClass(cE,a,{get_dragType:function(){return'dragmove'},moveTo:function(dM){if(ss.isValue(this.$4)){this.$4(dM)}},endDragAt:function(dM){if(ss.isValue(this.$3)){this.$3(dM)}},cancelDrag:function(){if(ss.isValue(this.$2)){this.$2()}}},bj);cE.$ctor1.prototype=cE.prototype;ss.initClass(cF,a,{add_moveAction:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_moveAction:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},add_endAction:function(dM){this.$1$2=ss.delegateCombine(this.$1$2,dM)},remove_endAction:function(dM){this.$1$2=ss.delegateRemove(this.$1$2,dM)},get_offset:function(){return this.$4},set_offset:function(dM){this.$4=dM},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(dM){this.$1=dM},dispose:function(){bi.removeDragSource(this.$3)},calculateOffset:function(dM){var dN=this.$2.position();return{x:dM.pageX-tab.DoubleUtil.roundToInt(dN.left),y:dM.pageY-tab.DoubleUtil.roundToInt(dN.top)}},startDrag:function(dM){this.$4=this.calculateOffset(dM);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cE(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(dM){this.performMove(dM);if(ss.isValue(this.$1$1)){this.$1$1(dM)}},performMove:function(dM){var dN=dM.pageX-this.$4.x;var dO=dM.pageY-this.$4.y;var dP=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var dQ=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);dN=Math.max(0,Math.min(dP-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),dN));dO=Math.max(0,Math.min(dQ-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),dO));tab.DomUtil.setElementPosition(this.$2,dN,dO,null,null)},dragEnd:function(dM){this.performMove(dM);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(dM)}}},null,[ss.IDisposable,bK]);ss.initClass(cH,a,{},bc,[bL]);ss.initEnum(cI,a,{reset:0,commit:1,none:2});ss.initClass(cJ,a,{});ss.initClass(cL,a,{},cp,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cr])]);ss.initClass(cM,a,{get_viewType:function(){return cL},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(dM){}},cr,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(bT,[Object]),bH,ce]);ss.initClass(cN,a,{});ss.initClass(cP,a,{});ss.initClass(cQ,a,{});ss.initClass(cS,a,{});ss.initClass(cU,a,{calculateOffset:function(dM){var dN=tab.PointUtil.fromPosition(this.get_elementToChange().position());var dO={x:0,y:0};switch(this.$5){case'bottomRight':{dO.x=dN.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-dM.pageX;dO.y=dN.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-dM.pageY;break}case'topLeft':{dO.x=dM.pageX-dN.x;dO.y=dM.pageY-dN.y;break}case'left':{dO.x=dM.pageX-dN.x;break}case'right':{dO.x=dN.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-dM.pageX;break}case'top':{dO.y=dM.pageY-dN.y;break}case'bottom':{dO.y=dN.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-dM.pageY;break}}return dO},performMove:function(dM){var dN=tab.PointUtil.fromPosition(this.get_elementToChange().position());var dO=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var dP=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var dQ=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var dR=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(dM.pageX+this.get_offset().x,dQ)-dN.x);this.get_elementToChange().height(Math.min(dM.pageY+this.get_offset().y,dR)-dN.y);break}case'topLeft':{this.get_elementToChange().width(dO+(dN.x-Math.max(dM.pageX-this.get_offset().x,0)));this.get_elementToChange().height(dP+(dN.y-Math.max(dM.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),dN.x+dO-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),dN.y+dP-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()),null,null);break}case'left':{this.get_elementToChange().width(dO+(dN.x-Math.max(dM.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),dN.x+dO-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),dN.y,null,null);break}case'right':{this.get_elementToChange().width(Math.min(dM.pageX+this.get_offset().x,dQ)-dN.x);break}case'top':{this.get_elementToChange().height(dP+(dN.y-Math.max(dM.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),dN.x,dN.y+dP-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()),null,null);break}case'bottom':{this.get_elementToChange().height(Math.min(dM.pageY+this.get_offset().y,dR)-dN.y);break}}}},cF,[ss.IDisposable,bK]);ss.initClass(cW,a,{add_contentChanged:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_contentChanged:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_refresh:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_refresh:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},get_content:function(){return this.$3},set_content:function(dM){this.$3=dM;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(dM){this.$4.scrollX=dM;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=dM}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(dM){this.$4.scrollY=dM;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=dM}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(dM){if(dM){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(dM){this.$4={};this.set_hasCustomIndicator(dM);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},w,[ss.IDisposable,tab.IViewModel]);cW.$ctor1.prototype=cW.prototype;ss.initEnum(cY,a,{iScroll:0});ss.initClass(da,a,{});ss.initClass(db,a,{get_className:function(){var dM=[ss.makeGenericType(y,[Object]).prototype.get_className.call(this)];dM.push('selectable');if(this.props.isSelected){dM.push('selected');if(this.props.isButtonTextMarkedAsExcluded){dM.push('excluded')}}else{dM.push('unselected');dM.push('tab-DesignTint')}return dM.join(' ')}},ss.makeGenericType(y,[Object]));ss.initClass(dc,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(dM){var dN=dM;if(ss.isValue(dN)){dN=dN.clone()}return{currentlyAppliedSelection:dM,currentSelection:dN}},componentWillReceiveProps:function(dM){if(!ss.referenceEquals(dM.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(dM.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var dM=this.props.allOption&&this.$7().groupSize>0;var dN;dN=cP.generateUniqueKeys(String).call(null,_.map(this.props.items,function(dQ){return dQ.label}),[(dM?'__ALL__':null)]);var dO=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){dO+=' apply-cancel'}var dP='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return bh.div({className:dP},bh.div({className:dO,role:'listbox'},(dM?ss.mkdel(this,function(){return React.createElement(db,{border:this.props.borders,label:this.props.allItem.label,tooltip:this.props.allItem.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(dQ){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter,additionalRoles:['option']})})():null),_.map(this.props.items,ss.mkdel(this,function(dQ,dR){return React.createElement(db,{border:this.props.borders,disabled:dQ.disabled,label:dQ.label,tooltip:dQ.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(dR),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(dS){this.$4(dR)}),key:dN[dR],testId:dQ.testId,getCustomContentBefore:dQ.getCustomContentBefore,getCustomContentAfter:dQ.getCustomContentAfter,tabIndex:(dQ.isTabbable?0:null),additionalRoles:['option']})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return bh.div({className:'tab-ApplyCancelPanel'},React.createElement(z,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(dQ){this.$0()}),disabled:!this.$6()}),React.createElement(z,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(dQ){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(dM){this.$7().handleTap(dM);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(dd,a,{});ss.initClass(df,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dg,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(dh,a,{didMount:function(dM,dN){var dO=new EventUtils.EventHandleSpec;if(!ss.staticEquals(dN.pointerClick,null)){dO.tap=function(dP){dN.pointerClick(dP.reactEvent)}}if(!ss.staticEquals(dN.pointerDown,null)){dO.firstTouch=function(dP){dN.pointerDown(dP.reactEvent)}}if(!ss.staticEquals(dN.pointerUp,null)){dO.lastTouch=function(dP){dN.pointerUp(dP.reactEvent)}}if(!ss.staticEquals(dN.pointerDoubleClick,null)){dO.doubleTap=function(dP){dN.pointerDoubleClick(dP.reactEvent)}}this.$0.UpdateEventHandleSpec(dM,dO)},getHtmlAttributes:function(dM){return this.$0.EventHandlingAttributesForReact},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(di,a,{get_minWidth:function(){return this.$1$1},set_minWidth:function(dM){this.$1$1=dM}});ss.initClass(dk,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(dM){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(dM)}var dN=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(dl,a,{componentDidMount:function(){EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(this,this.$2));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(this,this.$2));EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){dk.getViewport(ss.mkdel(this,this.$4))}},$2:function(dM,dN){if(ss.isValue(this.$6)&&this.$6.contains(dM.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(dM){if(this.props.isSelecting){dk.getViewport(ss.mkdel(this,this.$4))}},$4:function(dM){var dN=ReactDOM.findDOMNode(this.refs['selector']);var dO=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(dN)||ss.isNullOrUndefined(dO)){return}var dP=$(dN);var dQ=this.props.getDesiredHeight(dP);var dR=$(dO);var dS=tab.PointUtil.fromPosition(dR.offset());var dT=dM.getVisibleRoom(dS);var dU=dR.innerHeight();var dV=dT.roomBelow-dU-3;var dW=dT.roomAbove-3;var dX=dV>=Math.min(dQ,dW);var dY=(dX?dV:dW);dQ=Math.min(dQ,ss.Int32.trunc(dY));var dZ=(dX?'auto':(dU+'px'));var ea=(dX?(dU+'px'):'auto');dP.css('bottom',dZ);dP.css('top',ea);dP.height(dQ);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var eb=this.props.getMinimumWidth(dP);if(eb>dT.roomRight){var ec=eb-dT.roomRight+13;dP.css('left',-1*ec+'px')}dP.css('min-width',eb)}},$3:function(dM){if(!ss.staticEquals(this.props.onKeyDown,null)){this.props.onKeyDown(dM)}},render:function(){var dM='tab-Dropdown';if(!ss.isNullOrUndefined(this.props.styleClass)){dM+=' '+this.props.styleClass}var dN=bh.div;var dO={className:dM,role:'combobox',onKeyDown:ss.mkdel(this,this.$3),'aria-expanded':this.props.isSelecting,ref:this.$5};var dP=new EventUtils.EventHandleSpec;dP.tap=ss.mkdel(this,function(dQ){this.props.onSelectorToggled()});return dN(dO,EventUtils.EventForwarder.div(dP,{className:'tab-DropdownButton',role:'button',tabIndex:ss.coalesce(this.props.tabIndex,0),ref:'relative'},this.props.renderButton()),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[bh.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},bh.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}},React.Component);ss.initClass(dm,a,{$l:function(){if(ss.isNullOrUndefined(this.$o)){return null}var dM=this.$o.value;if(ss.isNullOrEmptyString(dM)){return null}var dN=parseInt(tableau.format.convertFullwidthNumberToAscii(dM));return this.$i(dN)},$m:function(){if(ss.isNullOrUndefined(this.$p)){return 0}var dM=parseInt(this.$p.value);return this.$i(dM)},componentWillMount:function(){this.$0()},componentWillUnmount:function(){this.$e()},$0:function(){this.$h();EventUtils.GlobalUIEvents.add_DragEnd(ss.mkdel(this,this.$3))},$e:function(){EventUtils.GlobalUIEvents.remove_DragEnd(ss.mkdel(this,this.$3))},$h:function(){this.$n=false},$3:function(dM,dN){if(this.$n){this.$2(this.$m(),false);this.$h()}},$f:function(){var dM={type:'range',value:this.props.value.toString(),min:this.props.minValue,max:this.props.maxValue,className:'tabHorizontalSlider',style:{width:this.props.width},disabled:this.props.disabled,onInput:ss.mkdel(this,this.$6),onChange:ss.mkdel(this,this.$6),onMouseUp:ss.mkdel(this,this.$8),onMouseDown:ss.mkdel(this,this.$7),onTouchEnd:ss.mkdel(this,this.$9),onTouchStart:ss.mkdel(this,this.$a),ref:ss.mkdel(this,this.$k),key:'sliderInput'};return bh.input(dM)},$g:function(){var dM={type:'text',value:(this.props.emptyTextBox?'':this.props.value.toString()),className:'tabHorizontalSliderPercentageText',disabled:this.props.disabled,onInput:ss.mkdel(this,this.$c),onChange:ss.mkdel(this,this.$c),onKeyUp:ss.mkdel(this,this.$d),onBlur:ss.mkdel(this,this.$b),ref:ss.mkdel(this,this.$j),key:'sliderBox'};if(ss.isValue(this.props.tabIndex)){dM.tabIndex=ss.unbox(this.props.tabIndex)}return bh.input(dM)},render:function(){var dM=[];if(this.props.showValueTextBox){var dN=this.$g();dM.push(dN);if(this.props.showPercentageSign){dM.push(bh.div({className:'tabHorizontalSliderPercentageSign',key:'percentageSign'},'%'))}}var dO=this.$f();return bh.div({className:this.props.styleClass+(this.props.disabled?' disabled':'')+(ss.isNullOrUndefined(this.props.extraCssClass)?'':(' '+this.props.extraCssClass))},bh.div({className:'unification-slider-control tabHorizontalSliderContainer'},dO),dM)},$b:function(dM){this.$2(ss.coalesce(this.$l(),0),false)},$d:function(dM){if(dM.which===13){this.$2(ss.coalesce(this.$l(),0),true)}},$c:function(dM){this.$1(this.$l())},$8:function(dM){this.$4()},$7:function(dM){this.$5()},$9:function(dM){this.$4()},$a:function(dM){this.$5()},$5:function(){this.$n=true},$4:function(){if(this.$n){this.$2(this.$m(),false)}else{this.$1(this.$m())}},$6:function(dM){this.$1(this.$m())},$1:function(dM){if(this.props.disabled){return}this.props.displayValueChanged(dM)},$2:function(dM,dN){if(this.props.disabled){return}this.props.commitValue(dM,dN)},$k:function(dM){this.$p=null;if(ss.isValue(dM)){this.$p=dM}},$j:function(dM){this.$o=null;if(ss.isValue(dM)){this.$o=dM}},$i:function(dM){if(_.isNaN(dM)||dM<this.props.minValue){return this.props.minValue}else if(dM>this.props.maxValue){return this.props.maxValue}return dM}},cO);ss.initClass(dn,a,{},cg,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dp,a,{updateWidgetState:function(dM){this.get_widget().set_label(dM.label);this.get_widget().set_disabled(ss.coalesce(dM.disabled,false));this.get_widget().set_hoverTooltipText(dM.tooltipText)},handleWidgetPropertyChanged:function(dM,dN){}},ss.makeGenericType(cT,[cg,Object,Object]));ss.initClass(dq,a,{});ss.initClass(dr,a,{add_tabChanged:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},remove_tabChanged:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(dM){if(!ss.referenceEquals(this.$4,dM)){this.$4=dM;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(dM,dN,dO,dP){if(ss.keyExists(this.$3,dM)){return}var dQ=this.$5.createTabLabel(dM,dN);dQ.domRoot.addClass('tabTabLabelId-'+dM);var dR=new dw(dQ.domRoot,null);var dS=ss.mkdel(this,function(dT,dU){if(dU.get_propertyName()==='selected'&&dR.get_selected()){this.$0(dO.get_rootElement(),dM)}});dR.add_propertyChanged(dS);this.$2.add$1(new tab.CallOnDispose(function(){dR.remove_propertyChanged(dS)}));this.$2.add$1(dR);this.$1.addItem(dR);this.$3[dM]=dR;this.$5.get_tabs().append(dQ.domRoot);dO.addToDom(this.$5.get_contentArea());if(dP){this.selectTab(dM)}else{dR.set_disabled(true)}},selectTab:function(dM){if(!ss.keyExists(this.$3,dM)){return}this.$1.selectItem(this.$3[dM])},enableTab:function(dM,dN){if(!ss.keyExists(this.$3,dM)){return}this.$3[dM].set_disabled(!dN);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(dM,dN){this.$5.get_contentArea().children().hide();dM.show();this.set_activeTabId(dN)}},null,[ss.IDisposable]);ss.initClass(ds,a,{$g:function(dM){this.$1$1=ss.delegateCombine(this.$1$1,dM)},$h:function(dM){this.$1$1=ss.delegateRemove(this.$1$1,dM)},$c:function(dM){this.$1$2=ss.delegateCombine(this.$1$2,dM)},$d:function(dM){this.$1$2=ss.delegateRemove(this.$1$2,dM)},$e:function(dM){this.$1$3=ss.delegateCombine(this.$1$3,dM)},$f:function(dM){this.$1$3=ss.delegateRemove(this.$1$3,dM)},$i:function(dM){this.$1$4=ss.delegateCombine(this.$1$4,dM)},$j:function(dM){this.$1$4=ss.delegateRemove(this.$1$4,dM)},get_stopPropagationOnEvent:function(){return this.$b},set_stopPropagationOnEvent:function(dM){this.$b=dM},dispose:function(){if(ss.isValue(this.$8)){this.$8.dispose();this.$8=null}this.$6.dispose()},onPress:function(dM){this.$g(dM);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h(dM)})));return this},onClick:function(dM){this.$c(dM);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d(dM)})));return this},onDoubleClick:function(dM){this.$e(dM);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f(dM)})));this.$0('doubleTap',ss.mkdel(this,this.$2));return this},onRightClick:function(dM){this.$i(dM);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j(dM)})));return this},$0:function(dM,dN){if(!this.$7.IsHandling(dM)){var dO=new EventUtils.EventHandleSpec;dO.SetHandler(dM,dN);this.$8.Update(dO);$.extend(this.$7,dO)}},$5:function(dM,dN,dO){if(ss.isValue(dN)){if(dO){dM.stopPropagation()}dN(dM)}},$3:function(dM){this.$9=dM.pageX;this.$a=dM.pageY;this.$5(dM,this.$1$1,false)},$1:function(dM){this.$5(dM,this.$1$2,this.$b);if(dM.type==='touchend'){E.preventGhostClick(this.$9,this.$a,dM.target)}},$2:function(dM){this.$5(dM,this.$1$3,this.$b)},$4:function(dM){dM.preventDefault();this.$5(dM,this.$1$4,this.$b)}},null,[ss.IDisposable]);ss.initClass(du,a,{render:function(){var dM='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var dN=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(bw,{styleClass:'tab-TextDropdownButton '+dN,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return bh.span({className:'tab-Icon '+this.props.selectionIconClass,key:'icon'})})():null),bh.span({className:dM,key:'text'},this.props.selectionText)]})})}},cO);ss.initClass(dx,a,{add_toggled:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_toggled:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},get_toggleValue:function(){return this.$0},set_toggleValue:function(dM){if(dM!==this.get_toggleValue()){this.raiseToggled()}this.$0=dM},get_data:function(){return this.$2$2},set_data:function(dM){this.$2$2=dM},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},w,[ss.IDisposable,tab.IViewModel]);ss.initEnum(dy,a,{left:0,center:1,right:2});ss.initEnum(dz,a,{left:0,right:1});ss.initEnum(dA,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(dB,a,{isPopupHeightLimited:function(){return this.limitPopupHeight||ss.isValue(this.maxPopupHeight)}});dB.$ctor1.prototype=dB.prototype;ss.initClass(dC,a,{get_caretHeight:function(){if(!ss.isValue(dC.$1)){dC.$1=tab.DoubleUtil.roundToInt(this.caret.outerHeight())}return ss.unbox(dC.$1)}},dt,[ss.IDisposable]);ss.initEnum(dD,a,{standard:0,minimalist:1});ss.initClass(dE,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},get_height:function(){return this.element.outerHeight(false)},get_dom:function(){return this.get_template()},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(dM){if(dM.which===27&&!(dM.metaKey||dM.shiftKey||dM.ctrlKey||dM.altKey)){this.get_viewModel().hide(false);dM.preventDefault();dM.stopPropagation()}}));if(this.get_viewModel().options.popupMode===0){this.get_viewModel().add_shown(ss.mkdel(this,function(){bu.trapFocus(this.element)}))}},dispose:function(){this.disposeContent();this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(v,[dF]).prototype.dispose.call(this)},disposeContent:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(dM,dN){if(dN.get_propertyName()==='mode'){this.updateMode()}else if(dN.get_propertyName()==='size'){this.positionPopup()}else if(dN.get_propertyName()==='content'){this.updateContent()}},shown:function(){var dM=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(dM.theme===1){this.element.addClass('tabUberPopupMinimal')}if(dM.useCaret){this.get_dom().domRoot.addClass('tabUberCaretStyle')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(dM.additionalClassNames)){dM.additionalClassNames.forEach(ss.mkdel(this,function(dN){this.element.addClass(dN)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bx(null,false);this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(this,this.$8));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(this,this.$8));EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(dM,dN){if(this.get_template().domRoot.get(0).contains(dM.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var dO=0;dO<this.popupViewModel.options.globalTouchWhitelist.length;dO++){var dP=this.popupViewModel.options.globalTouchWhitelist[dO];if(dP.contains(dM.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);var dM=this.get_viewModel().options;if(!dM.isPopupHeightLimited()){this.element.css('max-height','100%')}this.positionPopupHorizontally();if(dM.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}this.get_dom().caret.toggle(dM.useCaret);this.get_dom().caretBorder.toggle(dM.useCaret)},positionPopupHorizontally:function(){var dM=this.get_viewModel().options;var dN=this.get_viewModel().get_relativeElement();var dO=$(dN.prop('ownerDocument'));var dP=this.get_width();var dQ=tab.DomUtil.getPageOffset$1(dN).left;if(dM.horizontalAlign===1){dQ+=dN.outerWidth(false)/2;dQ-=dP/2}else if(dM.horizontalAlign===2){dQ+=dN.outerWidth(false);dQ-=dP}var dR=dQ+dP-dO.width();if(dR>0){dQ-=dR}if(dM.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(dQ,0)+'px')}else{var dS=$('body').outerWidth(true);var dT=dS-(dQ+dP);dT-=Math.max(0,dT+dP-dS);this.element.css('left','');this.element.css('right',dT+'px')}if(dM.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(dN.outerWidth(false)))}},$9:function(){var dM=this.get_viewModel().options;var dN=this.get_viewModel().get_relativeElement();var dO=$('body');var dP=tab.DomUtil.getPageOffset$1(dN).top;if(dM.preferUp){dP+=1;dP+=(dM.coverRelativeElement?dN.outerHeight(false):0);var dQ=dO.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(dQ-dP)+'px')}else{dP-=1;dP+=(dM.coverRelativeElement?0:dN.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(dP)+'px')}},positionPopupVertically:function(){var dM=this.get_viewModel().options;var dN=this.get_viewModel().get_relativeElement();var dO=tab.DomUtil.getPageOffset$1(dN);var dP=tab.DomUtil.roomAroundPosition(dO);var dQ=dN.outerHeight(false);var dR=((dM.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());if(dM.isPopupHeightLimited()){this.$b(dP,dR,dQ)}var dS=this.get_height();var dT=dP.roomBelow>=dS+dQ+dR;var dU=dP.roomAbove>dS+dR;var dV=this.popupViewModel.options.useCaret;if(dV){dU=dP.roomAbove>dS+this.get_dom().get_caretHeight()+4+dR}var dW=dO.top+dQ;var dX=dO.top-dS;var dY;if(dM.preferUp&&dU){dY=dX}else if(dT&&!dV){dY=dW}else if(dU){dY=dX}else if(dP.roomBelow>=dP.roomAbove&&!dV){dY=dO.top-(dS-dP.roomBelow+dR)}else{dY=dO.top-dP.roomAbove+dR}if(dV){dY-=this.get_dom().get_caretHeight()+4}this.element.css('top',dY+'px')},$b:function(dM,dN,dO){var dP=this.get_viewModel().options;var dQ=null;if(dP.limitPopupHeight){dQ=Math.max(dM.roomAbove,dM.roomBelow-dO)-dN}if(ss.isValue(dP.maxPopupHeight)){var dR=dQ;if(ss.isNullOrUndefined(dR)){dR=Number.MAX_VALUE}var dS=dR;dQ=Math.min(dS,ss.unbox(dP.maxPopupHeight))}if(ss.isValue(dQ)){this.element.css('max-height',dQ+'px')}},updateContent:function(){this.disposeContent();var dM=this.get_template().content;dM.children().detach();this.contentView=this.get_viewModel().createContentView();if(this.visible){this.contentView.addToDom(dM)}}},ss.makeGenericType(v,[dF]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dF])]);ss.initClass(dF,a,{add_shown:function(dM){this.$2$1=ss.delegateCombine(this.$2$1,dM)},remove_shown:function(dM){this.$2$1=ss.delegateRemove(this.$2$1,dM)},add_hidden:function(dM){this.$2$2=ss.delegateCombine(this.$2$2,dM)},remove_hidden:function(dM){this.$2$2=ss.delegateRemove(this.$2$2,dM)},add_commit:function(dM){this.$2$3=ss.delegateCombine(this.$2$3,dM)},remove_commit:function(dM){this.$2$3=ss.delegateRemove(this.$2$3,dM)},get_mode:function(){return this.options.popupMode},set_mode:function(dM){if(this.options.popupMode===dM){return}this.options.popupMode=dM;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(dM){this.$0=dM;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(dM){this.remove_hidden(ss.mkdel(this,this.dispose));if(dM){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(dM){this.$1=function(){return dM}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(dM){this.$2$4=dM},createContentView:function(){return tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_content().get_viewType(),[this.get_content().get_viewModel()])},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(dM){if(dM&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(dM){this.disposables.add$1(dM)}},w,[ss.IDisposable,tab.IViewModel]);dF.$ctor1.prototype=dF.prototype;ss.initClass(dG,a,{});ss.initClass(dH,a,{},cC);ss.initClass(dI,a,{},cC);ss.initClass(dJ,a,{render:function(){var dM=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){dM=this.props.disabledText}var dN={type:'text',value:dM,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)};var dO=bh.input(dN);var dP=bh.div;var dQ=new EventUtils.EventHandleSpec;dQ.tap=ss.mkdel(this,function(dV){this.$7()});var dR=EventUtils.EventForwarder.div(dQ,{className:'tab-unification-spinner-btn'},bh.span({className:'tab-img-triangle-up'}));var dS=new EventUtils.EventHandleSpec;dS.tap=ss.mkdel(this,function(dV){this.$2()});var dT=dP({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},dR,EventUtils.EventForwarder.div(dS,{className:'tab-unification-spinner-btn'},bh.span({className:'tab-img-triangle-down'})));var dU=bh.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},dO,dT);if(ss.isValue(this.props.label)){dU=bh.div(null,bh.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),dU)}dU=bh.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},dU);if(ss.isValue(this.props.extraCssClass)){dU=bh.div({className:this.props.extraCssClass},dU)}return dU},componentWillReceiveProps:function(dM){this.setState(dJ.$0(dM.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(dM){this.$1();var dN=dM.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:dN.value})},$0:function(dM){this.$1();var dN={};if(!ss.Int32.tryParse(this.state.displayValue,dN)){dN.$=this.state.value}this.$a(dN.$)},$5:function(dM){var dN=this.state.pendingValue;switch(dM.keyCode){case 38:{this.$1();dN+=this.props.stepSize;this.$9(dN);this.$b(dN);break}case 40:{this.$1();dN-=this.props.stepSize;this.$9(dN);this.$b(dN);break}case 13:{this.$0(null);break}}},$b:function(dM){if(this.props.updateWhenKeyDown){this.$3(dM)}},$6:function(dM){if(this.props.updateWhenKeyDown){return}switch(dM.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(dM){this.$1();if(this.props.actionDelay===0){this.$a(dM)}else{this.$9(dM);this.$c=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$c=tab.MiscUtil.clearTimeout(this.$c)},$a:function(dM){dM=this.$4(dM);var dN=dM!==this.state.value;this.setState(dJ.$0(dM));if(dN&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(dM)}},$4:function(dM){if(ss.isValue(this.props.minValue)){dM=Math.max(dM,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){dM=Math.min(dM,ss.unbox(this.props.maxValue))}return dM},$9:function(dM){dM=this.$4(dM);this.setState({value:this.state.value,pendingValue:dM,displayValue:dM.toString()})}},React.Component);ss.initClass(dK,a,{});(function(){bh.a=bh.$0('a');bh.abbr=bh.$0('abbr');bh.address=bh.$0('address');bh.area=bh.$0('area');bh.article=bh.$0('article');bh.aside=bh.$0('aside');bh.audio=bh.$0('audio');bh.b=bh.$0('b');bh.base=bh.$0('base');bh.bdi=bh.$0('bdi');bh.bdo=bh.$0('bdo');bh.big=bh.$0('big');bh.blockquote=bh.$0('blockquote');bh.body=bh.$0('body');bh.br=bh.$0('br');bh.button=bh.$0('button');bh.canvas=bh.$0('canvas');bh.caption=bh.$0('caption');bh.cite=bh.$0('cite');bh.code=bh.$0('code');bh.col=bh.$0('col');bh.colgroup=bh.$0('colgroup');bh.data=bh.$0('data');bh.datalist=bh.$0('datalist');bh.dd=bh.$0('dd');bh.del=bh.$0('del');bh.details=bh.$0('details');bh.dfn=bh.$0('dfn');bh.dialog=bh.$0('dialog');bh.div=bh.$0('div');bh.dl=bh.$0('dl');bh.dt=bh.$0('dt');bh.em=bh.$0('em');bh.embed=bh.$0('embed');bh.fieldset=bh.$0('fieldset');bh.figcaption=bh.$0('figcaption');bh.figure=bh.$0('figure');bh.footer=bh.$0('footer');bh.form=bh.$0('form');bh.h1=bh.$0('h1');bh.h2=bh.$0('h2');bh.h3=bh.$0('h3');bh.h4=bh.$0('h4');bh.h5=bh.$0('h5');bh.h6=bh.$0('h6');bh.head=bh.$0('head');bh.header=bh.$0('header');bh.hgroup=bh.$0('hgroup');bh.hr=bh.$0('hr');bh.html=bh.$0('html');bh.i=bh.$0('i');bh.iframe=bh.$0('iframe');bh.img=bh.$0('img');bh.input=bh.$0('input');bh.ins=bh.$0('ins');bh.kbd=bh.$0('kbd');bh.keygen=bh.$0('keygen');bh.label=bh.$0('label');bh.legend=bh.$0('legend');bh.li=bh.$0('li');bh.link=bh.$0('link');bh.main=bh.$0('main');bh.map=bh.$0('map');bh.mark=bh.$0('mark');bh.menu=bh.$0('menu');bh.menuitem=bh.$0('menuitem');bh.meta=bh.$0('meta');bh.meter=bh.$0('meter');bh.nav=bh.$0('nav');bh.noscript=bh.$0('noscript');bh.object=bh.$0('object');bh.ol=bh.$0('ol');bh.optgroup=bh.$0('optgroup');bh.option=bh.$0('option');bh.output=bh.$0('output');bh.p=bh.$0('p');bh.param=bh.$0('param');bh.picture=bh.$0('picture');bh.pre=bh.$0('pre');bh.progress=bh.$0('progress');bh.q=bh.$0('q');bh.rp=bh.$0('rp');bh.rt=bh.$0('rt');bh.ruby=bh.$0('ruby');bh.s=bh.$0('s');bh.samp=bh.$0('samp');bh.script=bh.$0('script');bh.section=bh.$0('section');bh.select=bh.$0('select');bh.small=bh.$0('small');bh.source=bh.$0('source');bh.span=bh.$0('span');bh.strong=bh.$0('strong');bh.style=bh.$0('style');bh.sub=bh.$0('sub');bh.summary=bh.$0('summary');bh.sup=bh.$0('sup');bh.table=bh.$0('table');bh.tbody=bh.$0('tbody');bh.td=bh.$0('td');bh.textarea=bh.$0('textarea');bh.tfoot=bh.$0('tfoot');bh.th=bh.$0('th');bh.thead=bh.$0('thead');bh.time=bh.$0('time');bh.title=bh.$0('title');bh.tr=bh.$0('tr');bh.track=bh.$0('track');bh.u=bh.$0('u');bh.ul=bh.$0('ul');bh.var=bh.$0('var');bh.video=bh.$0('video');bh.wbr=bh.$0('wbr');bh.circle=bh.$1('circle');bh.clipPath=bh.$1('clipPath');bh.defs=bh.$1('defs');bh.ellipse=bh.$1('ellipse');bh.feColorMatrix=bh.$1('feColorMatrix');bh.filter=bh.$1('filter');bh.g=bh.$1('g');bh.height=bh.$1('height');bh.image=bh.$1('image');bh.line=bh.$1('line');bh.linearGradient=bh.$1('linearGradient');bh.mask=bh.$1('mask');bh.path=bh.$1('path');bh.pattern=bh.$1('pattern');bh.polygon=bh.$1('polygon');bh.polyline=bh.$1('polyline');bh.radialGradient=bh.$1('radialGradient');bh.rect=bh.$1('rect');bh.stop=bh.$1('stop');bh.svg=bh.$1('svg');bh.text=bh.$1('text');bh.tspan=bh.$1('tspan');bh.width=bh.$1('width')})();(function(){bq.$0=0})();(function(){cZ.$1=null;cZ.$1={};cZ.$1[0]=b})();(function(){d.$0="<span class='tabTabLabel' />"})();(function(){i.$3=new Array(10)})();(function(){j.$0="\n<div class='tabMenuItem' role='menuitem' data-test-id='tabMenuItem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName' data-test-id='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){l.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){m.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){n.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){bu.$8='tab-showFocusIndicator';bu.$7='keydown.'+ss.getTypeName(bu);bu.$a=2;bu.$9=null})();(function(){bv.$6=null;bv.$5=null;bv.$4=null;bv.$8=null;bv.$7=null;bv.$3='#centeringContainer';bv.$1$1=null;bv.$6=bv.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);bv.$5=bv.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);bv.$4=bv.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);bv.$8=bv.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);bv.$7=bv.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);if(ss.isValue(bv.$7)&&bv.get_fullscreenEnabled()){document.addEventListener(bv.get_fullscreenChangeEventName().toString(),bv.$1)}bv.add_fullscreenStateChanged(bv.$2)})();(function(){dL.$2='widgetInstance';dL.$1='tab-widget';dL.$0='.tab-disableSelection';dL.$3=0;dL.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}dL.selectableNodeClass='tab-selectable'})();(function(){E.suppressClickBustingClass='suppressClickBusting';E.$2=25;E.$3=null;E.$1$1=null})();(function(){dw.defaultSelectedClassName='selected';dw.selectedProperty='selected';dw.toggleClassProperty='selectedClass';dw.$1=0})();(function(){ch.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";ch.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";ch.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";ch.$3="<span class='innerIcon'></span>";ch.$6='.label';ch.$1='hide';ch.$7='tab-unification-check';ch.$8='tab-img-check';ch.$9='tab-unification-radio'})();(function(){dv.textPropertyName='text'})();(function(){D.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){F.$1=10;F.$0=300;F.$2=0})();(function(){dc.$0='__ALL__'})();(function(){dk.getSpiffBrowserViewportFunc=null})();(function(){dl.$2='selector';dl.$0='relative';dl.$1=3;dl.$3=13})();(function(){cu.$0=0})();(function(){O.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){bx.glassClass='tab-glass';bx.$1="<div class='tab-glass clear-glass'></div>";bx.$0='clear-glass';bx.$2='opaque-glass'})();(function(){cz.$0="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"})();(function(){cx.$0="<div class='tabMenuItemDivider' role='separator' />"})();(function(){cy.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cA.defaultMenuItem='tabMenuDefaultItem';cA.classMenuItem='tabMenuMenuItem';cA.keyMenuItem='tabMenuMenuItem';cA.menuFadeDurationMs=50;cA.$4='tabMenuMenuItemLevel';cA.$2='tabMenuHasIconTwo';cA.$1=989;cA.$3=1000})();(function(){R.$0='hasIcons'})();(function(){Q.iconPressedClass='tabComboBoxNoIconPressed';Q.invalidClass='invalid';Q.noIconClass='tabComboBoxNoIcon';Q.pressedClass='pressed';Q.disabledClass='disabled';Q.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cm.listItemSpotlightedClassName='tab-list-item-spotlighted';cm.boldClass='bold';cm.invalidClass='invalid'})();(function(){cn.selectedProperty='selected';cn.invalidProperty='invalid';cn.draggableProperty='draggable';cn.spotlightedProperty='spotlighted';cn.boldProperty='bold'})();(function(){cr.collectionProperty='collection';cr.enabledProperty='enabled'})();(function(){W.noOp=new W('cursors/dragnop-black.cur','auto');W.delete$1=new W('cursors/dragdel-black.cur','auto');W.copy=new W('cursors/dragcopy-black.cur','auto');W.move=new W('cursors/dragmove-black.cur','auto')})();(function(){bi.$h='data-tab-drag-source';bi.$j='[data-tab-drag-source]';bi.$i='tabDragSource';bi.$k='data-tab-drop-target';bi.$l='tabDropTarget';bi.$n='[data-tab-drop-target]';bi.$m='tabDropTarget';bi.$p=null;bi.$q=null;bi.$x=null;bi.$w=null;bi.$z=null;bi.$y=0;bi.$o=null;bi.$v=null;bi.$s=null;bi.$t=null;bi.$A=[];bi.$u=null;bi.$r=null;bi.$1$1=null;bi.$1$2=null;bi.$1$3=null;bi.$1$4=null;bi.$1$5=null;bi.$v=new EventUtils.EventHandleSpec;bi.$v.dragStart=bi.dragStart;bi.$v.dragMove=bi.dragMove;bi.$v.dragEnd=bi.dragEnd;bi.$v.pressEnd=bi.dragEnd;bi.$v.firstTouch=bi.firstTouch})();(function(){cs.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){tab.ObjectRegistry.registerType(cL,cL).call(null)})();(function(){dB.startingGlassZIndex=987})();(function(){dE.minimalistThemeClass='tabUberPopupMinimal'})();(function(){S.listClassName='tabCompositeSearchWidgetList';S.$0=400})();(function(){cg.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";cg.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";cg.$2="<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>";cg.$3="<span class='tab-text-button'><span class='label hide'></span></span>";cg.$4='.label'})();(function(){U.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){X.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){ba.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){bb.$1=1;bb.$0=9})();(function(){Y.centeredVerticallyClassName='centeredVertically';Y.scrollableClassName='scrollable';Y.$1=8})();(function(){cE.$0=function(){}})();(function(){cJ.$c=2500;cJ.$d=75;cJ.$j=null;cJ.$k=null;cJ.$e=0;cJ.$f=0;cJ.$i=null;cJ.$h=null;cJ.$g=false;cJ.$1$1=null;cJ.init()})();(function(){bd.positionProperty='position';bd.isActiveProperty='isActive';bd.$0='active';bd.$2='.tab-dialogCloseButton';bd.$1='.tab-dialogBodyContainer';bd.$7='.tab-dialogTitleBar';bd.$8='.tab-dialogTitle';bd.$5='.tab-dialogResizer';bd.$6='.tab-dialogSpinnerContainer';bd.$4="\n<div class='tab-dialog' role='dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bd.$9=null;bd.$3=new cH;bd.defaultDraggableDialogConfigurer=null;bd.defaultStationaryDialogConfigurer=null;bd.defaultDraggableDialogConfigurer=function(dM){var dN=new cF(dM.$u,dM.$g,false);dN.set_documentBodySize('useClientSize');return dN};bd.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bo.$0='editing';bo.$1='hover'})();(function(){EventUtils.FeatureFlagUtils.SetFFWebAuthoringDragAggregation(function(){return tab.FeatureFlags.isEnabled('WebAuthoringDragAggregation')});EventUtils.FeatureFlagUtils.SetFeatureParamDebugTools(function(){return false});EventUtils.FeatureFlagUtils.SetTsConfigIsMobile(function(){return tsConfig.is_mobile});EventUtils.FeatureFlagUtils.SetBootStrapUtilIsEmbedded(function(){return tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()});EventUtils.FeatureFlagUtils.SetLoggerDebug(function(dM){})})();(function(){ci.$0=6})();(function(){cq.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new dh}})();(function(){dq.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){tab.ObjectRegistry.registerType(dr,dr).call(null)})();(function(){dC.contentClassName='tabUberPopupContent';dC.caretClassName='tabUberArrow';dC.caretBorderClassName='tabUberArrow2';dC.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>";dC.$1=null})();(function(){dG.designTint='tab-DesignTint';dG.text='tab-Text';dG.darkBackground='tab-darkBackground';dG.button='tab-UnifiedButton';dG.icon='tab-Icon';dG.iconButton='tab-IconBtn';dG.vScrollable='tab-vScrollable';dG.selectableButtonGroup='tab-SelectableButtonGroup';dG.selectionMark='tab-SelectionMark';dG.active='active';dG.hover='hover';dG.hitTestArea='tab-HitTestArea';dG.focused='focused';dG.bordered='bordered';dG.disabled='disabled';dG.selectable='selectable';dG.selected='selected';dG.unselected='unselected';dG.excluded='excluded';dG.textInput='tab-TextInput';dG.horizontalLayout='tab-HorizontalLayout';dG.applyCancelPanel='tab-ApplyCancelPanel';dG.applyCancel='apply-cancel';dG.apply$1='apply';dG.cancel='cancel';dG.sliderControlClass='unification-slider-control';dG.sliderContainerClass='tabHorizontalSliderContainer';dG.sliderInputClass='tabHorizontalSlider';dG.sliderTextBoxClass='tabHorizontalSliderPercentageText';dG.sliderPercentageClass='tabHorizontalSliderPercentageSign'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,b,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};b.__typeName='tab.ICategoricalLegendView$1';ss.initGenericInterface(b,a,1);global.tab.ICategoricalLegendView$1=b;var c=function(){};c.__typeName='tab.ICategoricalLegendViewModel';global.tab.ICategoricalLegendViewModel=c;var d=function(){};d.__typeName='tab.IContinuousSlider';global.tab.IContinuousSlider=d;var e=function(){};e.__typeName='tab.IContinuousSliderViewModel';global.tab.IContinuousSliderViewModel=e;var f=function(){};f.__typeName='tab.ICurrentPagePanelWidgetShim';global.tab.ICurrentPagePanelWidgetShim=f;var g=function(){};g.__typeName='tab.IFilterPanelWidgetShim';global.tab.IFilterPanelWidgetShim=g;var h=function(){};h.__typeName='tab.ILegacyDojoUIModule';global.tab.ILegacyDojoUIModule=h;var i=function(){};i.__typeName='tab.ILegacyDojoWidgetMaker';global.tab.ILegacyDojoWidgetMaker=i;var j=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,j,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};j.__typeName='tab.ILegacyLegendView$1';ss.initGenericInterface(j,a,1);global.tab.ILegacyLegendView$1=j;var k=function(){};k.__typeName='tab.ILegacyLegendViewModel';global.tab.ILegacyLegendViewModel=k;var l=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,l,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};l.__typeName='tab.ILegacyQuickFilterDisplayView$1';ss.initGenericInterface(l,a,1);global.tab.ILegacyQuickFilterDisplayView$1=l;var m=function(){};m.__typeName='tab.ILegacyQuickFilterDisplayViewModel';global.tab.ILegacyQuickFilterDisplayViewModel=m;var n=function(){};n.__typeName='tab.ILegacyWidgetShim';global.tab.ILegacyWidgetShim=n;var o=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,o,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};o.__typeName='tab.IPageView$1';ss.initGenericInterface(o,a,1);global.tab.IPageView$1=o;var p=function(){};p.__typeName='tab.IPageViewModel';global.tab.IPageViewModel=p;var q=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,q,[w],{updateViewProperties:null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};q.__typeName='tab.IParameterControlView$1';ss.initGenericInterface(q,a,1);global.tab.IParameterControlView$1=q;var r=function(){};r.__typeName='tab.IParameterControlViewModel';global.tab.IParameterControlViewModel=r;var s=function(){};s.__typeName='tab.IParameterControlWidgetShim';global.tab.IParameterControlWidgetShim=s;var t=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,t,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};t.__typeName='tab.IQuantitativeColorLegendView$1';ss.initGenericInterface(t,a,1);global.tab.IQuantitativeColorLegendView$1=t;var u=function(){};u.__typeName='tab.IQuantitativeColorLegendViewModel';global.tab.IQuantitativeColorLegendViewModel=u;var v=function(){};v.__typeName='tab.ITabbedNavigation';global.tab.ITabbedNavigation=v;ss.initInterface(c,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(d,a,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,a,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null,currentFractionUpdated:null},[ss.IDisposable,tab.IViewModel,spiff.IHasEnabledState]);ss.initInterface(n,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,a,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(m,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(p,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(r,a,{get_parameterCtrlModel:null,get_hasBorder:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(s,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(v,a,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){this.isAuthoring=false;this.isPublic=false;this.isSaas=false;this.isOfficialRelease=false};b.__typeName='tab.ExtensionServerContext';global.tab.ExtensionServerContext=b;var c=function(){this.previous=null;this.scroller=null;this.next=null;this.previousArrow=null;this.nextArrow=null;spiff.Template.call(this,$("<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"));this.previous=this.getElementBySelector('.tabFlipboardNavPrevious');this.scroller=this.getElementBySelector('.tabFlipboardNavScroller');this.next=this.getElementBySelector('.tabFlipboardNavNext');this.previousArrow=this.getElementBySelector('.tabStoryLeftArrow');this.nextArrow=this.getElementBySelector('.tabStoryRightArrow')};c.__typeName='tab.FlipboardNavigatorTemplate';global.tab.FlipboardNavigatorTemplate=c;var d=function(){};d.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=d;var e=function(){};e.__typeName='tab.IAliasDialogModule';global.tab.IAliasDialogModule=e;var f=function(){};f.__typeName='tab.IAuthoringStoryboardView';global.tab.IAuthoringStoryboardView=f;var g=function(){};g.__typeName='tab.IAuthoringStoryboardViewModel';global.tab.IAuthoringStoryboardViewModel=g;var h=function(){};h.__typeName='tab.IAxisResizerManager';global.tab.IAxisResizerManager=h;var i=function(){};i.__typeName='tab.IBinDialogModule';global.tab.IBinDialogModule=i;var j=function(){};j.__typeName='tab.ICellResizerManager';global.tab.ICellResizerManager=j;var k=function(){};k.__typeName='tab.ICellResizerManagerViewModel';global.tab.ICellResizerManagerViewModel=k;var l=function(){};l.__typeName='tab.ICertificationMarkFactory';global.tab.ICertificationMarkFactory=l;var m=function(){};m.__typeName='tab.ICommentingFactory';global.tab.ICommentingFactory=m;var n=function(){};n.__typeName='tab.ICommentingModuleViewModel';global.tab.ICommentingModuleViewModel=n;var o=function(){};o.__typeName='tab.IConnectionDialogModule';global.tab.IConnectionDialogModule=o;var p=function(){};p.__typeName='tab.IDataAlertsPanelFactory';global.tab.IDataAlertsPanelFactory=p;var q=function(){};q.__typeName='tab.IDataAlertsPanelModuleViewModel';global.tab.IDataAlertsPanelModuleViewModel=q;var r=function(){};r.__typeName='tab.IDataConnectionModule';global.tab.IDataConnectionModule=r;var s=function(bf){var bg=function(){};ss.registerGenericInterfaceInstance(bg,s,[bf],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[bf])]});ss.setMetadata(bg,{variance:[1]});return bg};s.__typeName='tab.IDataConnectionPromptView$1';ss.initGenericInterface(s,a,1);global.tab.IDataConnectionPromptView$1=s;var t=function(){};t.__typeName='tab.IDataConnectionPromptViewModel';global.tab.IDataConnectionPromptViewModel=t;var u=function(){};u.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=u;var v=function(){};v.__typeName='tab.IDeviceLayoutSelectorModule';global.tab.IDeviceLayoutSelectorModule=v;var w=function(){};w.__typeName='tab.IDownloadAsVersionDialogModule';global.tab.IDownloadAsVersionDialogModule=w;var x=function(){};x.__typeName='tab.IDownloadDialogModule';global.tab.IDownloadDialogModule=x;var y=function(){};y.__typeName='tab.IFileUploadModule';global.tab.IFileUploadModule=y;var z=function(){};z.__typeName='tab.IFlipboardNavigatorView';global.tab.IFlipboardNavigatorView=z;var A=function(){};A.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=A;var B=function(){};B.__typeName='tab.IFrelardServerBootstrapModule';global.tab.IFrelardServerBootstrapModule=B;var C=function(){};C.__typeName='tab.IGroupDialogModule';global.tab.IGroupDialogModule=C;var D=function(){};D.__typeName='tab.IHeaderResizerManager';global.tab.IHeaderResizerManager=D;var E=function(){};E.__typeName='tab.IHeaderResizerManagerViewModel';global.tab.IHeaderResizerManagerViewModel=E;var F=function(){};F.__typeName='tab.IHitTestResult';global.tab.IHitTestResult=F;var G=function(){};G.__typeName='tab.INlpSaveController';global.tab.INlpSaveController=G;var H=function(){};H.__typeName='tab.IPaneContent';global.tab.IPaneContent=H;var I=function(){};I.__typeName='tab.IPaneTableView';global.tab.IPaneTableView=I;var J=function(){};J.__typeName='tab.IPaneTableViewModel';global.tab.IPaneTableViewModel=J;var K=function(){};K.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=K;var L=function(){};L.__typeName='tab.IResizeHeadersModule';global.tab.IResizeHeadersModule=L;var M=function(){};M.__typeName='tab.IResizerViewModel';global.tab.IResizerViewModel=M;var N=function(){};N.__typeName='tab.IRichTextAuthoringModule';global.tab.IRichTextAuthoringModule=N;var O=function(){};O.__typeName='tab.ISavingModule';global.tab.ISavingModule=O;var P=function(){};P.__typeName='tab.ISelfServiceSchedulesModule';global.tab.ISelfServiceSchedulesModule=P;var Q=function(){};Q.__typeName='tab.ISharedWidgetsDataGrid';global.tab.ISharedWidgetsDataGrid=Q;var R=function(){};R.__typeName='tab.ISharedWidgetsPlayground';global.tab.ISharedWidgetsPlayground=R;var S=function(){};S.__typeName='tab.IStoryAuthoringModule';global.tab.IStoryAuthoringModule=S;var T=function(){};T.__typeName='tab.IStoryContentPaneViewModel';global.tab.IStoryContentPaneViewModel=T;var U=function(){};U.__typeName='tab.IStoryLayoutPaneViewModel';global.tab.IStoryLayoutPaneViewModel=U;var V=function(){};V.__typeName='tab.IStoryModule';global.tab.IStoryModule=V;var W=function(){};W.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=W;var X=function(){};X.__typeName='tab.ITrendLineDialogModule';global.tab.ITrendLineDialogModule=X;var Y=function(){};Y.__typeName='tab.IViewController';global.tab.IViewController=Y;var Z=function(){};Z.__typeName='tab.IViewUnderlyingDataTableModule';global.tab.IViewUnderlyingDataTableModule=Z;var ba=function(){};ba.__typeName='tab.IVizHitInfo';global.tab.IVizHitInfo=ba;var bb=function(){};bb.__typeName='tab.IVizHitTestDebouncer';global.tab.IVizHitTestDebouncer=bb;var bc=function(){};bc.__typeName='tab.IVizZoneModule';global.tab.IVizZoneModule=bc;var bd=function(){};bd.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=bd;var be=function(){this.authoringUrl=null;this.viewingUrl=null;this.projectName=null;this.workbookName=null};be.__typeName='tab.SavedNlpWorkbookInfo';global.tab.SavedNlpWorkbookInfo=be;ss.initClass(b,a,{});ss.initClass(c,a,{},spiff.Template,[ss.IDisposable]);ss.initEnum(d,a,{none:0,misc:1,annotation:2,trendLine:3,referenceLine:4,referenceLineLabel:5,semanticModelRefLine:6,mark:7,markLabel:8});ss.initInterface(e,a,{showDialog:null});ss.initInterface(f,a,{addToDom$1:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[g])]);ss.initInterface(g,a,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(h,a,{setAxisResizers:null});ss.initInterface(i,a,{showDialog:null});ss.initInterface(j,a,{handleCellResizerUpdate:null,scrollY:null,scrollX:null});ss.initInterface(k,a,{add_updateCellResizerViews:null,remove_updateCellResizerViews:null,get_resizeInfo:null,get_cellWidthResizerVM:null,get_cellHeightResizerVM:null});ss.initInterface(l,a,{createCertificationMark:null});ss.initInterface(m,a,{createCommentingModuleViewModel:null});ss.initInterface(n,a,{get_closeCommentingDrawer:null,set_closeCommentingDrawer:null,get_loadDrawerFonts:null,set_loadDrawerFonts:null,get_showNotification:null,set_showNotification:null,updateForSheet:null},[spiff.IContent]);ss.initInterface(o,a,{showCreateConnectionDialog:null,showCreateConnectionDialogForEmptyWorkbook:null,showReplaceFileDialog:null,showEditConnectionDialog:null,uploadDroppedFiles:null,showPublishedConnectionDialog:null,showSignInDialog:null,showExtractInProgressDialog:null});ss.initInterface(p,a,{createDataAlertsPanelModuleViewModel:null});ss.initInterface(q,a,{},[spiff.IContent]);ss.initInterface(r,a,{createDataConnectionPromptViewModel:null,createDataConnectionPromptView:null});ss.initInterface(t,a,{get_promptUpdated:null,set_promptUpdated:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(u,a,{showDataTab:null,hideDataTab:null});ss.initInterface(v,a,{buildDialogContent:null});ss.initInterface(w,a,{showDownloadAsVersionDialog:null});ss.initInterface(x,a,{buildDialogContent:null});ss.initInterface(y,a,{uploadFiles:null,copyTempFileToSessionStorage:null});ss.initInterface(z,a,{get_dom:null,get_domRoot:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[A])]);ss.initInterface(A,a,{add_zoneResized:null,remove_zoneResized:null,add_activePointUpdated:null,remove_activePointUpdated:null,add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,add_flipboardNavigatorUpdated:null,remove_flipboardNavigatorUpdated:null,add_findParentScroller:null,remove_findParentScroller:null,get_currentPointIndex:null,get_numberOfPoints:null,get_storyPointHeight:null,get_storyPointWidth:null,get_previousDisabled:null,get_nextDisabled:null,get_showArrows:null,get_captions:null,get_useDarkIcons:null,get_scrollBarStyle:null,get_navType:null,get_currentStoryPointId:null,closeUberMenu:null,clickNext:null,clickPrevious:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(B,a,{createApiDispatcher:null});ss.initInterface(C,a,{showGroupDialog:null});ss.initInterface(D,a,{handleResizerUpdate:null});ss.initInterface(E,a,{add_updateResizerViews:null,remove_updateResizerViews:null,get_resizeInfo:null,get_rowHeaderResizerVMs:null,get_columnHeaderResizerVMs:null,get_totalColumnHeadersHeight:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(F,a,{get_hitObjectType:null,get_id:null});ss.initInterface(G,a,{saveNlpWorkbook:null});ss.initInterface(H,a,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(I,a,{get_scrollPosition:null,get_vizHitTestDebouncer:null,doTiledViewerRefreshImages:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[J])]);ss.initInterface(J,a,{add_differentMarkBrushing:null,remove_differentMarkBrushing:null,add_differentMarkSelection:null,remove_differentMarkSelection:null,get_visualModel:null,get_sheetId:null,get_viewController:null,set_viewController:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(K,a,{createSpiffPdfExportDialog:null,showExportPdfDialog:null});ss.initInterface(L,a,{newHeaderResizerManagerViewModel:null,newHeaderResizerManager:null,newAxisResizerManager:null,newCellResizerManagerViewModel:null,newCellResizerManager:null});ss.initInterface(M,a,{get_visualID:null,get_resizerOffset:null,get_resizerLength:null,get_isXResizer:null,get_resizerMinimumOffset:null,get_resizerMaximumOffset:null,get_cssClassName:null,sendResizeCommand:null});ss.initInterface(N,a,{showRichTextEditorDialog:null});ss.initInterface(O,a,{instance:null});ss.initInterface(P,a,{get_defaultRecurrence:null,get_selfServiceSchedulePaneComponent:null,createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(Q,a,{createGrid:null,createArrayRowStore:null,createGridSelection:null});ss.initInterface(R,a,{show:null});ss.initInterface(V,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null,fireCloseStoryUberMenu:null,fireShowUpdateToast:null});ss.initInterface(S,a,{newAuthoringStoryboardViewModel:null},[V]);ss.initInterface(T,a,{},[ss.IDisposable,tab.IViewModel,H]);ss.initInterface(U,a,{},[ss.IDisposable,tab.IViewModel,H]);ss.initInterface(W,a,{add_pointCaptured:null,remove_pointCaptured:null,get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initInterface(X,a,{showDialog:null});ss.initInterface(Y,a,{get_viewSession:null,get_sheetName:null,get_cacheVersion:null,setTiledViewer:null,incrementCacheVersion:null},[ss.IDisposable]);ss.initClass(Z,a,{showDialog:null});ss.initInterface(ba,a,{get_result:null,get_visualId:null,get_sheetId:null,get_paneColumnIndex:null,get_paneRowIndex:null,get_pageCoordinates:null});ss.initInterface(bb,a,{add_updated:null,remove_updated:null,get_current:null,getAsync:null,isWithinLastHitTestDistance:null,getLastHitTestDistance:null,update:null},[ss.IDisposable]);ss.initInterface(bc,a,{createPaneTableView:null,createPaneTableViewModel:null,addVizDragHandler:null,addAsyncVizDragHandler:null,addVizDragApprover:null,computeVizScrollCapabilities:null});ss.initInterface(bd,a,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_contentContainerStyle:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null});ss.initClass(be,a,{});ss.setMetadata(s,{variance:[1]});(function(){c.$0="<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"})()})();;
/*! BEGIN FileUploadModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlfileuploadmodule');var b=function(){};b.__typeName='tab.ByteUtils';b.determineBestByteType=function(s){if(s<1024){return tab.Strings.UploadBytes}else if(s<1048576){return tab.Strings.UploadKB}else if(s<1073741824){return tab.Strings.UploadMB}else{return tab.Strings.UploadGB}};b.getBytesWithMagnitude=function(s,t){if(ss.referenceEquals(t,tab.Strings.UploadBytes)){return s}else if(ss.referenceEquals(t,tab.Strings.UploadKB)){return s/1024}else if(ss.referenceEquals(t,tab.Strings.UploadMB)){return s/1048576}else{return s/1073741824}};global.tab.ByteUtils=b;var c=function(s){this.$2=null;this.$6=0;this.$4=null;this.$7=0;this.$5=0;this.$3=null;this.$8='';this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=false;this.$1$5=0;this.$1$6=0;this.$2=s;this.$6=s.size;this.$4=s.name;this.set_uploadedSize(0);this.add_progressChanged(ss.mkdel(this,function(t){}))};c.__typeName='tab.DataFileUploader';c.new$1=function(s){return new c(s)};global.tab.DataFileUploader=c;var d=function(s){spiff.PureRenderComponent.call(this,s)};d.__typeName='tab.FatalErrorComponent';global.tab.FatalErrorComponent=d;var e=function(s){d.call(this,s)};e.__typeName='tab.FatalErrorFileExistsComponent';global.tab.FatalErrorFileExistsComponent=e;var f=function(){};f.__typeName='tab.FatalErrorType';global.tab.FatalErrorType=f;var g=function(){};g.__typeName='tab.FileTypeUtils';g.getFileExtensionsForConnectionType=function(s){switch(s){case'excel-direct':{return['.xls','.xlsx','.xlsm']}case'textscan':{return['.txt','.csv','.tab','.tsv']}default:{return[]}}};g.getFileTypeFromExtension=function(s){switch(s){case'.xls':case'.xlsx':case'.xlsm':{return tab.Strings.FileUploadFileTypeExcel}case'.txt':case'.csv':case'.tab':case'.tsv':{return tab.Strings.FileUploadFileTypeText}case'.mdb':case'.accdb':{return tab.Strings.FileUploadFileTypeAccess}case'.json':{return tab.Strings.FileUploadFileTypeJson}case'.kml':case'.shp':case'.mif':{return tab.Strings.FileUploadFileTypeSpatial}case'.sav':case'.sas7bdat':case'.rda':case'.rdata':{return tab.Strings.FileUploadFileTypeStatistical}default:{return tab.Strings.FileUploadFileTypeOther}}};g.getFileExtension=function(s){return g.getFileExtensionImpl(s)};g.getFileExtensionImpl=function(s){var t=s.lastIndexOf(String.fromCharCode(46));return s.substr(t,s.length-t).toLowerCase()};g.getAllFileTypes=function(s){var t='';var u=', ';s.forEach(function(v){t+=v+u});return ss.removeString(t,t.length-u.length)};g.isFileTypeSupported=function(s,t){var u=g.getFileExtension(s);if(ss.isNullOrEmptyString(t)){return _.contains(g.allSupportedFileExtensions,u)}else{return _.contains(g.getFileExtensionsForConnectionType(t),u)}};g.getConnectionClassToFileTypeName=function(s){switch(s){case'excel':case'excel-direct':{return tab.Strings.FileUploadFileTypeExcelFile}case'csv':case'textscan':{return tab.Strings.FileUploadFileTypeText.toLowerCase()}default:{return''}}};global.tab.FileTypeUtils=g;var h=function(){};h.__typeName='tab.FileUploadCommands';h.appendToFile=function(s,t){var u=$.Deferred();var v={type:'POST',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('fileUploadAppend',tsConfig.sessionid,tsConfig.vizql_root)+'/'+s,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',contentType:'application/octet-stream',processData:false,data:t,success:function(w,x,y){u.resolve()},error:function(w,x,y){var z=w;var A;var B=z['responseJSON'];if(!ss.isNullOrUndefined(B)&&ss.keyExists(B,'msg')){A=B['msg']}else{A=tab.Strings.FileUploadServerUnresponsive}u.reject(A)}};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(v,null);return u.promise()};h.getMaxFileUploadSize=function(){var s=$.Deferred();var t={type:'GET',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('getMaxFileUploadSize',tsConfig.sessionid,tsConfig.vizql_root),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:{},success:function(u,v,w){var x=u;s.resolve(x.maxsize)},error:function(u,v,w){var x=u;var y;var z=x['responseJSON'];if(!ss.isNullOrUndefined(z)&&ss.keyExists(z,'msg')){y=z['msg']}else{y=tab.Strings.FileUploadServerUnresponsive}s.reject(y)}};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(t,null);return s.promise()};h.createFileUpload=function(s){var t=$.Deferred();var u=ss.mkdict(['totalFileSize',s.toString()]);var v={type:'POST',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('fileUploadCreate',tsConfig.sessionid,tsConfig.vizql_root),headers:ss.mkdict(['Accept','text/javascript']),data:u,dataType:'json',success:function(w,x,y){var z=w;t.resolve(z.file.id)},error:function(w,x,y){var z=w;var A;var B=z['responseJSON'];if(!ss.isNullOrUndefined(B)&&ss.keyExists(B,'msg')){A=B['msg']}else{A=tab.Strings.FileUploadServerUnresponsive}t.reject(A)}};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(v,null);return t.promise()};h.cancelFileUpload=function(s){var t={type:'POST',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('fileUploadCancel',tsConfig.sessionid,tsConfig.vizql_root)+'/'+s,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json'};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(t,null)};h.createDataSourceFromFileUpload=function(s,t,u,v){var w=new tab.CreateDataSourceFromFileUploadCmd;w.c['fileIds']=s;w.c['dsClasses']=t;w.c['fileNames']=u;var x=w;if(!ss.isNullOrEmptyString(v)){x.c['datasource']=v}return x.invoke()};h.replaceFileConnectionFromFileUpload=function(s,t,u,v,w){var x=new tab.ReplaceFileConnectionFromFileUploadCmd;x.c['fileIds']=s;x.c['dsClass']=t;x.c['bool']=!w;x.c['fileNames']=u;x.c['connectionName']=v;var y=x;return y.invoke()};h.getFileConnectionFileList=function(s,t){if(ss.isNullOrEmptyString(t)||t!=='textscan'){var u=$.Deferred();var v={};v['fileNames']=[];u.resolve(new tab.GetFileConnectionFileListCmd$Response(v));return u.promise()}var w=new tab.GetFileConnectionFileListCmd;w.c['connectionName']=s;var x=w;return x.invoke()};h.copyTempFileToSessionSpecificStorage=function(s,t){var u=new tab.CopyTempFileToSessionSpecificStorageCmd;u.c['fileId']=t;u.c['fileName']=s;var v=u;return v.invoke()};global.tab.FileUploadCommands=h;var i=function(){};i.__typeName='tab.FileUploadInfo';i.createInstance=function(){return i.$ctor()};i.$ctor=function(){var s={};s.fileSize=0;s.name=null;s.progress=0;return s};i.isInstanceOfType=function(){return true};global.tab.FileUploadInfo=i;var j=function(){};j.__typeName='tab.FileUploadModuleFactory';global.tab.FileUploadModuleFactory=j;var k=function(s){spiff.PureRenderComponent.call(this,s)};k.__typeName='tab.ProgressBarComponent';global.tab.ProgressBarComponent=k;var l=function(s){spiff.PureRenderComponent.call(this,s)};l.__typeName='tab.UploadDataFileErrorInfosComponent';global.tab.UploadDataFileErrorInfosComponent=l;var m=function(s){var t=function(u){spiff.PureRenderComponent.call(this,u)};ss.registerGenericClassInstance(t,m,[s],{render:function(){if(this.props.done&&!this.props.hasProcessingError){window.setTimeout(ss.mkdel(this,this.$0),1000)}return spiff.DOMElements.div({className:'tab-uploadDialog-fileUploadUI',key:this.props.key},spiff.DOMElements.div({className:'tab-uploadDialog-progressContainer'},this.renderTitle(),this.renderCurrentFile(),this.renderFileDescription(),this.renderProgressBar(),this.renderSpinner(),spiff.DOMElements.div({className:'tab-uploadDialog-expandosArea'},this.renderMoreButton()),(this.props.hasProcessingError?React.createElement(SharedWidgets.ButtonWidget,this.createCloseButtonProps()):this.renderMoreArea())),spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-buttonContainer'},this.renderIgnoreAndContinue(),(this.props.hasProcessingError?this.renderMoreArea():React.createElement(SharedWidgets.ButtonWidget,this.createCloseButtonProps())),this.renderRetry()))},renderTitle:function(){return spiff.DOMElements.div({className:'tab-uploadDialog-title'},this.props.title)},renderMoreButton:function(){return null},renderRetry:function(){return null},renderMoreArea:function(){return null},renderIgnoreAndContinue:function(){return null},renderProgressBar:function(){return(!this.$1()?ss.mkdel(this,function(){return React.createElement(k,this.createProgressBarProps())})():null)},renderFileDescription:function(){return(!this.$1()?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-fileDescription'},g.getAllFileTypes(this.props.fileTypeSet))})():null)},renderCurrentFile:function(){return((this.props.numberOfFiles===1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-currentFileName'},this.props.fileName)})():null)},createProgressBarProps:function(){return{failed:false,byteType:this.props.byteType,totalProgressPercent:this.props.totalProgressPercent,totalSize:this.props.totalSize,uploadedSoFar:this.props.uploadedSoFar,doneUploadingAllFiles:this.props.done}},createCloseButtonProps:function(){var u=this.props.done;var v=this.$1();var w=(this.props.done?2:(v?1:3));var x=ss.mkdel(this,function(y){this.$0()});return{handleClick:x,buttonType:w,testId:'FileUploadExitButton',children:(u?tab.Strings.FileUploadButtonClose:tab.Strings.FileUploadButtonCancel),disabled:this.props.isProcessing,style:{marginRight:'12px',visibility:((u&&!this.props.hasProcessingError)?'hidden':'visible')}}},renderSpinner:function(){return(this.$1()?(function(){return spiff.DOMElements.div({style:{marginTop:'18px'}},React.createElement(SharedWidgets.ActivitySpinnerWidget,{testId:'fileupload-spinner'}))})():null)},$0:function(){if(!this.props.done){this.props.cancelUpload()}this.props.dismiss()},$1:function(){return this.props.isProcessing||this.props.numberOfFiles===0}},function(){return spiff.PureRenderComponent},function(){return[]});return t};m.__typeName='tab.UploadDataFileProgressComponent$1';ss.initGenericClass(m,a,1);global.tab.UploadDataFileProgressComponent$1=m;var n=function(s){React.Component.call(this,s)};n.__typeName='tab.UploadDataFileProgressDialogComponent';global.tab.UploadDataFileProgressDialogComponent=n;var o=function(s){ss.makeGenericType(m,[Object]).call(this,s)};o.__typeName='tab.UploadDataFileProgressErrorComponent';global.tab.UploadDataFileProgressErrorComponent=o;var p=function(){};p.__typeName='tab.UploadDataFileProgressErrorConstants';global.tab.UploadDataFileProgressErrorConstants=p;var q=function(s){React.Component.call(this,s);this.state={fatalErrorType:0,filesToIgnore:[],recentlyIgnoredFiles:[],uploadErrorMsg:{}}};q.__typeName='tab.UploadFileComponent';global.tab.UploadFileComponent=q;var r=function(s){React.Component.call(this,s);this.state={currentActionMessage:null,done:false,processing:false}};r.__typeName='tab.UploadFileContainer';global.tab.UploadFileContainer=r;ss.initClass(b,a,{});ss.initClass(c,a,{add_progressChanged:function(s){this.$1$1=ss.delegateCombine(this.$1$1,s)},remove_progressChanged:function(s){this.$1$1=ss.delegateRemove(this.$1$1,s)},add_uploadFinished:function(s){this.$1$2=ss.delegateCombine(this.$1$2,s)},remove_uploadFinished:function(s){this.$1$2=ss.delegateRemove(this.$1$2,s)},add_errorDetected:function(s){this.$1$3=ss.delegateCombine(this.$1$3,s)},remove_errorDetected:function(s){this.$1$3=ss.delegateRemove(this.$1$3,s)},get_canceled:function(){return this.$1$4},set_canceled:function(s){this.$1$4=s},get_file:function(){return this.$2},get_size:function(){return this.$6},get_name:function(){return this.$4},get_uploadedSize:function(){return this.$1$5},set_uploadedSize:function(s){this.$1$5=s},get_elapsedTime:function(){return this.$1$6},set_elapsedTime:function(s){this.$1$6=s},get_progress:function(){return this.$5},set_progress:function(s){if(this.$5!==s){this.$5=s;if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$5)}}},get_isComplete:function(){return this.get_progress()===100},cancelUpload:function(){this.set_canceled(true);if(this.get_isComplete()){h.cancelFileUpload(this.$8)}},createUpload:function(){var s=h.createFileUpload(this.$6);s.then(ss.mkdel(this,function(t){this.upload(t)}),ss.mkdel(this,function(t){this.$0(t)}))},upload:function(s){this.$3=new FileReader;this.$8=s;var t=tab.DateUtil.get_nowAsTime();this.$3.onloadend=ss.mkdel(this,function(u){var v=h.appendToFile(s,new Uint8Array(this.$3.result));v.then(ss.mkdel(this,function(w){if(this.get_canceled()){h.cancelFileUpload(s);return}this.set_uploadedSize(this.$7);if(this.$7<this.$6){this.set_progress(Math.floor(this.$7/this.$6*100));this.$1()}else{this.set_progress(100);if(!ss.staticEquals(this.$1$2,null)){this.set_elapsedTime(tab.DateUtil.get_nowAsTime()-t);this.$1$2(s)}}}),ss.mkdel(this,function(w){this.$0(w)}))});this.$1()},$1:function(){this.$7=Math.min(this.get_uploadedSize()+2097152,this.$6);var s=this.get_file().slice(this.get_uploadedSize(),this.$7);this.$3.readAsArrayBuffer(s)},$0:function(s){this.cancelUpload();this.$1$3(s)}});ss.initClass(d,a,{get_getTitle:function(){return tab.Strings.FileUploadFatalErrorTitle},render:function(){return spiff.DOMElements.div({className:'tab-uploadDialog-fatalError'},spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-title'},this.get_getTitle()),spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-subtitle'},this.$0()),this.$1(),spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-buttonContainer'},this.createCancelButton(),this.createAddButton(),this.createSkipButton()))},$0:function(){switch(this.props.fatalErrorType){case 0:{break}case 1:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeSubtitle}case 2:{var s=_.find(this.props.recentlyIgnoredFiles,function(z){return g.isFileTypeSupported(z,'')});var t=g.getFileTypeFromExtension(g.getFileExtension(s));if(ss.referenceEquals(t,tab.Strings.FileUploadFileTypeExcel)){t=tab.Strings.FileUploadFileTypeExcelFile}var u=g.getConnectionClassToFileTypeName(this.props.connectionClass);var v=(this.$2(u)?2:0);v+=(this.$2(t)?1:0);switch(v){case 0:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_a_a(u,t)}case 1:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_a_an(u,t)}case 2:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_an_a(u,t)}default:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_an_an(u,t)}}}case 3:{var w=b.determineBestByteType(this.props.maxFileSize);var x=b.getBytesWithMagnitude(this.props.maxFileSize,w);var y=ss.formatString('{0:N1} {1}',x,w);return tab.Strings.FileUploadFatalErrorFileIsTooBigSubtitle(y)}case 4:{return tab.Strings.FileUploadFatalErrorFileIsEmptySubtitle}case 5:{return tab.Strings.FileUploadFatalErrorFileExists}case 6:{return tab.Strings.DragAndDropError_Multi}case 7:{return tab.Strings.FileUploadAccessError}default:{break}}return null},$1:function(){if(this.props.fatalErrorType===2||this.props.fatalErrorType===6||this.props.fatalErrorType===7){return null}var s=spiff.DOMElements.div({},_.map(this.props.recentlyIgnoredFiles,function(t,u){return spiff.DOMElements.div({key:u},t)}));return spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-recentlyIgnoredContainer'},s)},createCancelButtonProps:function(){return{handleClick:ss.mkdel(this,function(s){this.props.dismiss()}),buttonType:3,testId:'FatalErrorCancelButton',children:tab.Strings.FileUploadButtonCancel}},createSkipButtonProps:function(){return{handleClick:ss.mkdel(this,function(s){this.props.skip()}),buttonType:2,testId:'FatalErrorSkipButton',style:{left:'12px'},children:((this.props.recentlyIgnoredFiles.length===1)?tab.Strings.FileUploadButtonSkipSingular:tab.Strings.FileUploadButtonSkipPlural)}},$2:function(s){return s.length>0&&'aeiouAEIOU'.indexOf(String.fromCharCode(s.charCodeAt(0)))!==-1},createCancelButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createCancelButtonProps())},createAddButton:function(){return null},createSkipButton:function(){return((this.props.eligibleFileCount>0)?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,this.createSkipButtonProps())})():null)}},spiff.PureRenderComponent);ss.initClass(e,a,{get_getTitle:function(){return tab.Strings.FileUploadFatalErrorSameFileTitle},createAddButtonProps:function(){return{handleClick:ss.mkdel(this,function(s){this.props.add()}),buttonType:2,testId:'FatalErrorAddButton',children:tab.Strings.FileUploadButtonAdd}},createCancelButtonProps$1:function(){return{handleClick:ss.mkdel(this,function(s){this.props.dismiss()}),buttonType:3,testId:'FatalErrorCancelButton',style:{right:'12px'},children:tab.Strings.FileUploadButtonCancel}},createCancelButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createCancelButtonProps$1())},createAddButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createAddButtonProps())},createSkipButton:function(){var s=this.createSkipButtonProps();s.children=tab.Strings.FileUploadButtonReplaceUpdate;return React.createElement(SharedWidgets.ButtonWidget,s)}},d);ss.initEnum(f,a,{none:0,unsupportedType:1,fileTypeMismatch:2,fileTooBig:3,fileIsEmpty:4,fileAlreadyExists:5,multiFileNotExpected:6,fileIsLocked:7});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{uploadFiles:function(s){var t=$.Deferred();var u=document.createElement('div');var v=0;h.getMaxFileUploadSize().done(function(w){v=w}).always(ss.mkdel(this,function(){var w={dismiss:ss.mkdel(this,function(){this.$0(u)}),files:s,maxFileSize:v,onFileUploadFinished:ss.mkdel(this,function(x,y,z){this.$0(u);t.resolve(x)}),onAllFileUploadsFinished:function(x){}};ReactDOM.render(React.createElement(r,w),u)}));return t.promise()},copyTempFileToSessionStorage:function(s,t){var u=$.Deferred();h.copyTempFileToSessionSpecificStorage(s.name,t).done(function(v){u.resolve(v.$$c['sessionStorageId'])});return u.promise()},$0:function(s){var t=s;s=null;if(!ss.isNullOrUndefined(t)){_.defer(function(){ReactDOM.unmountComponentAtNode(t)})}}},null,[tab.IFileUploadModule]);ss.initClass(k,a,{render:function(){var s=(this.props.doneUploadingAllFiles?' done':'');s=(this.props.failed?' error':s);return spiff.DOMElements.div({},spiff.DOMElements.progress({className:'tab-uploadDialog-progressBar'+s,max:100,value:((this.props.doneUploadingAllFiles||this.props.failed)?'100':this.props.totalProgressPercent.toString())}),spiff.DOMElements.div({className:'tab-uploadDialog-fraction'},ss.formatString(tab.Strings.FileUploadProgressIndicator(this.props.uploadedSoFar,this.props.totalSize,this.props.byteType))))}},spiff.PureRenderComponent);ss.initClass(l,a,{render:function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosArea'},((ss.isValue(this.props.filesThatSucceeded)&&this.props.filesThatSucceeded.length>0)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosCompletedSection'},spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosCompletedHeader'},tab.Strings.FileUploadErrorInfosCompletedHeader),spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosCompletedContent'},_.map(this.props.filesThatSucceeded,function(s,t){return spiff.DOMElements.div({key:t},s)})))})():null),spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosFailedSection'},spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosFailedHeader'},tab.Strings.FileUploadErrorInfosFailedHeader),spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosFailedContent'},_.map(this.props.filesThatFailed,ss.mkdel(this,function(s,t){return spiff.DOMElements.div({key:t,title:(ss.isValue(this.props.reasons)?this.props.reasons[t]:s)},s)})))))}},spiff.PureRenderComponent);ss.initClass(n,a,{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.props.children,isModal:true,isGlassTransparent:false,onCloseRequest:this.props.dismiss,handleGlassClick:function(){},positioningBehavior:0,shouldAdjustPositionOnWindowResize:true,type:2,testId:'tabUploadProgressDialog',zIndex:1000})}},React.Component);ss.initClass(o,a,{renderTitle:function(){var s=((this.props.numberOfFiles>1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorTitleComplete'},tab.Strings.FileUploadErrorTitleMultiComplete(this.props.successFilesCount))})():null);var t=((this.props.numberOfFiles>1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorTitleFailed'},tab.Strings.FileUploadErrorTitleMultiFailed(this.props.failedFilesCount))})():null);return spiff.DOMElements.div({},s,t,((this.props.numberOfFiles===1)?(function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorTitle'},tab.Strings.FileUploadErrorTitle)})():null))},renderMoreButton:function(){return((this.props.numberOfFiles>1)?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ExpandoWidget,{isExpanded:this.props.showingMore,onExpand:this.props.toggleShowMore,onCollapse:this.props.toggleShowMore,direction:1,testId:'MoreButtonExpando',label:(this.props.showingMore?tab.Strings.HideDetailsLabel:tab.Strings.ShowDetailsLabel)})})():null)},renderRetry:function(){return React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(s){this.props.retry()}),buttonType:2,testId:'FileUploadRetryButton',children:tab.Strings.FileUploadButtonRetry,style:{float:'right'}})},createProgressBarProps:function(){var s=ss.makeGenericType(m,[Object]).prototype.createProgressBarProps.call(this);s.failed=true;return s},renderIgnoreAndContinue:function(){return((this.props.successFilesCount>0&&this.props.numberOfFiles!==1)?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(s){this.props.ignoreAndContinue()}),buttonType:3,testId:'FileUploadIgnoreAndContinueButton',children:tab.Strings.FileUploadFailureIgnoreAndContinueLabel,style:{marginRight:'12px'}})})():null)},renderMoreArea:function(){if(this.props.numberOfFiles===1){return spiff.DOMElements.div({className:'tab-uploadDialog-errorMessage'},this.props.errorMessage)}else{return(this.props.showingMore?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorMoreAreaContainer'},React.createElement(l,this.props.errorInfosProps))})():null)}}},ss.makeGenericType(m,[Object]));ss.initClass(p,a,{});ss.initClass(q,a,{componentDidMount:function(){window.setTimeout(ss.mkdel(this,function(){this.$9(this.props.files)}),100)},render:function(){if(this.state.fatalErrorType!==0){var s=this.$1();if(this.state.fatalErrorType===5){return React.createElement(e,s)}else{return React.createElement(d,s)}}if(ss.isNullOrUndefined(this.state.fileUploaders)){return React.createElement(ss.makeGenericType(m,[Object]),this.createProgressProps())}var t=this.$7();if(t){var u=this.createErrorProps();if(this.$5()&&!ss.staticEquals(this.props.createCustomProcessingErrorComponent,null)){return this.props.createCustomProcessingErrorComponent(u)}else{return React.createElement(o,u)}}else{return React.createElement(ss.makeGenericType(m,[Object]),this.createProgressProps())}},createProgressProps:function(){var s=_.reduce(this.state.fileUploaders,function(G,H){return G+H.get_size()},0);var t=_.reduce(this.state.fileUploaders,function(G,H){return G+H.get_uploadedSize()},0);var u=new Set;_.each(this.state.fileUploaders,function(G){u.add(g.getFileTypeFromExtension(g.getFileExtension(G.get_name())))});var v=t/s*100;var w=b.determineBestByteType(s);var x=(ss.isValue(this.state.fileUploaders)?this.state.fileUploaders.length:0);var y=((x>0)?this.state.fileUploaders[0].get_name():'');var z=b.getBytesWithMagnitude(s,w);var A=ss.formatString('{0:N1}',z);var B=b.getBytesWithMagnitude(t,w);var C=ss.formatString('{0:N1}',B);var D=(ss.isValue(this.props.currentActionMessage)?this.props.currentActionMessage:((x>0)?tab.Strings.FileUploadTitle(x):tab.Strings.FileUploadPreProcessingTitle));var E=y;if(!ss.isNullOrEmptyString(E)){E=ss.replaceAllString(E,':','_')}var F=this.$5();return{byteType:w,cancelUpload:ss.mkdel(this,this.$0),dismiss:this.props.dismiss,done:this.props.done,fileName:E,fileTypeSet:u,hasProcessingError:F,key:x,numberOfFiles:x,isProcessing:this.props.isProcessing,title:D,totalProgressPercent:ss.Int32.trunc(v),totalSize:A,uploadedSoFar:C}},createErrorProps:function(){var s=[];_.each(this.state.fileUploaders,function(x){s.push(x.get_name())});var t=_.difference(s,this.state.filesToIgnore);var u=this.$5();if(u&&!(typeof(this.props.processingTelemetryType)==='undefined')){t=this.props.uploadOrProcessingFailedFiles;_.each(t,ss.mkdel(this,function(x){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$0[x],this.props.processingTelemetryType)}))}var v=_.map(t,ss.mkdel(this,function(x,y){if(u){if(ss.isValue(this.props.uploadOrProcessingFailureReasons)){return this.props.uploadOrProcessingFailureReasons[y]}return ss.coalesce(this.props.defaultProcessingErrorReason,'')}else{if(ss.keyExists(this.state.uploadErrorMsg,x)){return this.state.uploadErrorMsg[x]}return tab.Strings.FileUploadUploadErrorReason}}));var w={filesThatFailed:t,filesThatSucceeded:_.difference(s,t),reasons:v};return _.extend({successFilesCount:s.length-t.length,failedFilesCount:t.length,ignoreAndContinue:ss.mkdel(this,function(){var x=((typeof(this.state.overwrite)==='undefined')?true:this.state.overwrite);this.props.onAllFileUploadsFinished(x);this.setState({errorMessage:null,fileUploaders:_.filter(this.state.fileUploaders,function(y){return!ss.contains(t,y.get_name())}),showingMore:false})}),toggleShowMore:ss.mkdel(this,function(){this.setState({showingMore:!this.state.showingMore})}),retry:ss.mkdel(this,function(){tab.FileUploadTelemetry.getInstance().logFileUploadRetryEvent('retry');var x=_.filter(this.props.files,ss.mkdel(this,function(y){return!ss.contains(this.state.filesToIgnore,y.name)}));this.$9(x);this.setState({errorMessage:null,showingMore:false})}),errorMessage:(u?this.props.processingErrorTitle:this.state.errorMessage),errorInfosProps:w,showingMore:this.state.showingMore},this.createProgressProps())},$1:function(){var s=_.filter(this.props.files,ss.mkdel(this,function(t){return!ss.contains(this.state.filesToIgnore,t.name)}));return{dismiss:ss.mkdel(this,function(){var t=this.state.fatalErrorType===5;if(t){tab.FileUploadTelemetry.getInstance().logFileUploadReplaceEvent('cancel')}else{tab.FileUploadTelemetry.getInstance().logFileUploadRetryEvent('cancel')}this.props.dismiss()}),eligibleFileCount:s.length,fatalErrorType:this.state.fatalErrorType,key:this.state.recentlyIgnoredFiles.length,maxFileSize:this.props.maxFileSize,recentlyIgnoredFiles:this.state.recentlyIgnoredFiles,skip:ss.mkdel(this,function(){var t=this.state.fatalErrorType===5;this.setState({fatalErrorType:0,recentlyIgnoredFiles:[],overwrite:(t?true:this.state.overwrite)},ss.mkdel(this,function(){if(t){tab.FileUploadTelemetry.getInstance().logFileUploadReplaceEvent('replace')}else{tab.FileUploadTelemetry.getInstance().logFileUploadRetryEvent('skip')}this.$9(s);return null}))}),add:ss.mkdel(this,function(){this.setState({fatalErrorType:0,recentlyIgnoredFiles:[],overwrite:false},ss.mkdel(this,function(){tab.FileUploadTelemetry.getInstance().logFileUploadReplaceEvent('add');this.$9(s);return null}))})}},$4:function(){if(this.state.fatalErrorType===2&&!ss.staticEquals(this.props.getMismatchErrorSubtitle,null)){return this.props.getMismatchErrorSubtitle(this.state.recentlyIgnoredFiles)}return''},$0:function(){_.each(this.state.fileUploaders,function(s){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$0[s.get_name()],'upload_canceled');s.cancelUpload()})},$a:function(){return _.reduce(this.state.fileUploaders,function(s,t){return s&&t.get_isComplete()},true)},$7:function(){return ss.isValue(this.state.errorMessage)&&_.reduce(this.state.fileUploaders,function(s,t){return s&&(t.get_isComplete()||t.get_canceled())},true)||this.$5()},$9:function(s){if(ss.isNullOrUndefined(s)){return}if(this.state.filesToIgnore.length===0&&this.state.recentlyIgnoredFiles.length===0&&ss.isNullOrUndefined(this.state.fileUploaders)){ss.clearKeys(q.$0);_.each(s,function(A,B){tab.FileUploadTelemetry.getInstance().logFileUploadStartEvent(B,g.getFileExtension(A.name),A.size);q.$0[A.name]=B})}var t=_.filter(this.state.fileUploaders,function(A){return!A.get_canceled()&&A.get_isComplete()});var u=this.$3();var v=u.item1;var w=u.item2;if(ss.isNullOrUndefined(w)&&ss.isValue(v)){for(var x=0;x<v.length;x++){var y=v[x];var z={$:c.new$1(y)};z.$.add_uploadFinished(ss.mkdel({uploader1:z,$this:this},function(A){var B=this.uploader1.$.get_name();tab.FileUploadTelemetry.getInstance().logFileUploadSuccessEvent(q.$0[B],this.uploader1.$.get_elapsedTime());var C='textscan';if(ss.referenceEquals(g.getFileTypeFromExtension(g.getFileExtension(B)),tab.Strings.FileUploadFileTypeExcel)){C='excel-direct'}this.$this.props.onFileUploadFinished(A,C,B);if(this.$this.$a()){var D=((typeof(this.$this.state.overwrite)==='undefined')?true:this.$this.state.overwrite);this.$this.props.onAllFileUploadsFinished(D)}}));t.push(z.$);z.$.add_progressChanged(ss.mkdel({uploader1:z,$this:this},function(){if(this.uploader1.$.get_isComplete()){var A=ss.arrayClone(this.$this.state.filesToIgnore);A.push(this.uploader1.$.get_name());this.$this.setState({filesToIgnore:A})}else{this.$this.forceUpdate()}}));z.$.add_errorDetected(ss.mkdel({uploader1:z,$this:this},function(A){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$0[this.uploader1.$.get_name()],'upload_error');var B=this.$this.state.uploadErrorMsg;B[this.uploader1.$.get_name()]=A;this.$this.setState({errorMessage:A,uploadErrorMsg:B})}));z.$.createUpload()}this.setState({fileUploaders:t,showingMore:false})}},$3:function(){var s=this.$2();this.$8(s.ineligibleFiles,s.fatalErrorType);return{item1:s.filesToUpload,item2:s.ineligibleFiles}},$2:function(){if(this.props.files.length===0){var s={fatalErrorType:7,filesToUpload:null,ineligibleFiles:null};tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(0,'locked');return s}if(this.props.files.length>1&&!this.props.isMultiFileAllowed){var t={fatalErrorType:6,filesToUpload:null,ineligibleFiles:this.props.files};tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(0,'multi_file_rejected');return t}var u=_.filter(this.props.files,ss.mkdel(this,function(C){return!ss.contains(this.state.filesToIgnore,C.name)}));var v=((this.props.maxFileSize===0)?[]:_.filter(u,ss.mkdel(this,function(C){return C.size>this.props.maxFileSize})));var w=_.filter(u,function(C){return C.size===0});var x=((typeof(this.state.overwrite)==='undefined'&&!(typeof(this.props.existingFilesToNotOverwrite)==='undefined'))?_.filter(u,ss.mkdel(this,function(C){return _.any(this.props.existingFilesToNotOverwrite,function(D){return ss.compareStrings(D,C.name,true)===0})})):null);if(ss.isValue(x)&&x.length>0){var y={fatalErrorType:5,filesToUpload:null,ineligibleFiles:x};this.$6(y.ineligibleFiles,'exists');return y}if(!ss.staticEquals(this.props.customFileFilter,null)){var z=this.props.customFileFilter(u);if(z.fatalErrorType!==0){if(z.fatalErrorType===2){this.$6(z.ineligibleFiles,'type_mismatch')}if(z.fatalErrorType===1){this.$6(z.ineligibleFiles,'unsupported')}return z}}if(v.length>0){var A={fatalErrorType:3,filesToUpload:_.difference(u,v),ineligibleFiles:v};this.$6(A.ineligibleFiles,'too_big');return A}if(w.length>0){var B={fatalErrorType:4,filesToUpload:_.difference(u,w),ineligibleFiles:w};this.$6(B.ineligibleFiles,'empty');return B}return{fatalErrorType:0,filesToUpload:u,ineligibleFiles:null}},$8:function(s,t){var u=ss.arrayClone(this.state.filesToIgnore);var v=[];_.each(s,function(w){if(t!==5){u.push(w.name)}v.push(w.name)});this.setState({fatalErrorType:t,filesToIgnore:u,recentlyIgnoredFiles:v})},$5:function(){return ss.isValue(this.props.uploadOrProcessingFailedFiles)&&this.props.uploadOrProcessingFailedFiles.length>0},$6:function(s,t){_.each(s,function(u){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$0[u.name],t)})}},React.Component);ss.initClass(r,a,{render:function(){var s={currentActionMessage:this.state.currentActionMessage,dismiss:this.props.dismiss,done:this.state.done,uploadOrProcessingFailedFiles:this.state.failedFiles,uploadOrProcessingFailureReasons:this.state.failureReasons,files:this.props.files,key:this.props.files.length,maxFileSize:this.props.maxFileSize,onFileUploadFinished:this.props.onFileUploadFinished,onAllFileUploadsFinished:this.props.onAllFileUploadsFinished,isProcessing:this.state.processing};return React.createElement(n,{dismiss:this.props.dismiss},[React.createElement(q,s)])}},React.Component);(function(){b.$1=1024;b.$2=1048576;b.$0=1073741824})();(function(){g.allSupportedFileExtensions=null;var s=[];s.push.apply(s,g.getFileExtensionsForConnectionType('excel-direct'));s.push.apply(s,g.getFileExtensionsForConnectionType('textscan'));g.allSupportedFileExtensions=s})();(function(){n.$0='tabUploadProgressDialog'})();(function(){q.$0={}})()})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');global.onhelp=function(){return false};var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='TsConfigExtensions';d.visibleSheetsAndRepositoryUrls=function(){var e=new Array(tsConfig.visible_sheets.length);for(var fE=0;fE<tsConfig.visible_sheets.length;++fE){e[fE]=new fm(tsConfig.visible_sheets[fE],tsConfig.repository_urls[fE])}return e};global.TsConfigExtensions=d;var f=function(){};f.__typeName='tab.$0';f.$0=function(e,fE){var fF={};fF['api.commandResult']=e;fF['api.commandData']=fE;var fG=JSON.stringify(fF);return fG};var g=function(){};g.__typeName='tab.$1';g.$8=function(e){var fE=e;var fF=[];if(ss.isValue(fE)){for(var fG=0;fG<fE.length;fG++){var fH=fE[fG];var fI=g.$1(fH);if(ss.isValue(fI)&&fI.isValidPresModel){fF.push(fI)}}}var fJ=new Object;fJ.parameters=Array.prototype.slice.call(fF);var fK=fJ;return fK};g.$6=function(e){var fE=e;if(ss.isValue(fE.valid)&&!fE.valid){var fF=new Object;fF.isValidPresModel=false;var fG=fF;return fG}else{var fH=e;if(ss.isValue(fH)){return g.$1(fH)}}return null};g.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};g.$1=function(e){if(!ss.isValue(e.parameterName)||!ss.isValue(e.fieldCaption)){return null}var fE=e.dataType;var fF=[];for(var fG=0;fG<e.valuesAliases.length;fG++){var fH=e.valuesAliases[fG];var fI=e.formattedValues[fG];fF.push(g.$4(fE,fH,fI))}var fJ=new Object;fJ.isValidPresModel=true;fJ.parameterName=e.parameterName;fJ.name=e.fieldCaption;fJ.currentValue=g.$4(fE,e.valueAlias,e.formattedValue);fJ.dataType=g.$0(fE);fJ.allowableValuesType=u.convertParameterDomainType(e.parameterDomainType);fJ.allowableValues=Array.prototype.slice.call(fF);fJ.stepSize=g.$7(fE,e.valueInc);fJ.minValue=g.$5(fE,e.valueMin,e.formattedMin,null);fJ.maxValue=g.$5(fE,e.valueMax,e.formattedMax,null);var fK=fJ;if(fE==='date'||fE==='datetime'){fK.dateStepPeriod=u.convertPeriodType(e.datePeriodType)}return fK};g.$5=function(e,fE,fF,fG){var fH=new Object;fH.type=u.convertDataType(e);fH.value=o.serializeDataValue(fE,e);var fI=fH;if(!tab.MiscUtil.isNullOrEmpty$3(fG)){fI.aliasedValue=fG}if(!tab.MiscUtil.isNullOrEmpty$3(fF)){fI.formattedValue=fF}return fI};g.$4=function(e,fE,fF){return g.$5(e,g.$3(fE),fF,g.$2(fE))};g.$7=function(e,fE){if(ss.isValue(fE)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(fE)}if(e==='real'){return parseFloat(fE)}}return null};g.$3=function(e){return e[0]};g.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var h=function(){};h.__typeName='tab.$2';h.$0=function(){if(tsConfig.isUnitTestRun){return}l.$2();h.$1();h.$2()};h.$1=function(){$(G.startup)};h.$2=function(){tab.CommandController.add_switchedViz(function(){G.startup()})};var i=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};i.__typeName='tab.$3';var j=function(e,fE,fF,fG,fH){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=fE;this.$4=fF;this.$2=fG;this.$3=fH};j.__typeName='tab.$4';var k=function(e,fE,fF,fG,fH,fI,fJ){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=fE;this.$2=fF;this.$6=fG;this.$3=fH;this.$4=fI;this.$7=fJ.clone()};k.__typeName='tab.$5';var l=function(){};l.__typeName='tab.$6';l.$2=function(){if(tsConfig.embedded){var e=document.getElementById('staticImage');if(ss.isNullOrUndefined(e)){return}l.$0(e);l.$1(e);l.$3(e)}};l.$3=function(e){if(e.style.width!=='auto'){return}var fE=l.$4(e,0);if(ss.isNullOrUndefined(fE)){return}e.style.width=ss.unbox(fE)+'px'};l.$1=function(e){if(e.style.height!=='auto'){return}var fE=l.$4(e,1);if(ss.isNullOrUndefined(fE)){return}e.style.height=ss.unbox(fE)+'px'};l.$0=function(e){var fE=e.parentElement;var fF={h:fE.offsetHeight,w:fE.offsetWidth};var fG=tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize();if(fG.maxWidth===0&&fG.maxHeight===0){return}if(fF.w<fG.minWidth){fF.w=fG.minWidth}else if(fG.maxWidth!==0&&fF.w>fG.maxWidth){fF.w=fG.maxWidth}if(fF.h<fG.minHeight){fF.h=fG.minHeight}else if(fG.maxHeight!==0&&fF.h>fG.maxHeight){fF.h=fG.maxHeight}e.style.height=fF.h-(tsConfig.showTabs?31:9)+'px';e.style.width=fF.w-8+'px'};l.$4=function(e,fE){if(ss.isNullOrUndefined(e.style.backgroundSize)){return null}var fF=e.style.backgroundSize.split(' ');if(fF.length<=1){return null}return parseInt(fF[fE],10)};var m=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};m.__typeName='tab.$7';var n=function(e,fE){this.$1$1=null;this.$1$2=null;this.$1(e);this.$3(fE)};n.__typeName='tab.$8';var o=function(){};o.__typeName='tab._ApiSerializer';o.serializeClientInfo=function(e,fE){var fF=e.get_applicationPresModel().workbookPresModel.dashboardPresModel;var fG=e.get_toolbarCommands().$1();var fH=!ss.isNullOrEmptyString(fF.sheetLayoutInfo.downloadLink)||e.get_toolbarCommands().$2();var fI=tsConfig.current_sheet_name;var fJ=tsConfig.workbookName;var fK=B.getApiDashboardZonePresModels(fF.zones);var fL=o.serializePublishedSheets(e.get_applicationPresModel().workbookPresModel.sheetsInfo);var fM=o.serializeStory(fE);var fN=w.newClientInfo(fG,fH,fJ,fI,ss.coalesce(tsConfig.clientNumber,''),fL,fK,fM);return fN};o.serializeSheetInfo=function(e,fE){var fF;if(ss.isValue(e.isStory)&&e.isStory){fF='story'}else if(ss.isValue(e.isDashboard)&&e.isDashboard){fF='dashboard'}else{fF='worksheet'}var fG=w.newSheetInfo(e.sheet,fF,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight,fE);return fG};o.serializePublishedSheets=function(e){var fE={};for(var fF=0;fF<e.length;fF++){var fG=e[fF];fE[fG.sheet]=fG}var fH=[];var fI=d.visibleSheetsAndRepositoryUrls();for(var fJ=0;fJ<fI.length;fJ++){var fK=fI[fJ];var fL=fE[fK.sheetName];if(ss.isValue(fL)){var fM=o.$0(fK.repositoryUrl);var fN=o.serializeSheetInfo(fL,fM);fH.push(fN)}}return fH};o.serializeStory=function(e){var fE=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(fE)){return null}var fF=fE.get_currentPointIndex();var fG=o.serializeStoryPoints(fE.get_captions(),e);var fH=w.newStory(fF,fG);return fH};o.serializeStoryPoints=function(e,fE){var fF=[];var fG=ss.getEnumerator(e);try{while(fG.moveNext()){var fH=fG.current();var fI=o.serializeStoryPoint(fH,fE);fF.push(fI)}}finally{fG.dispose()}return fF};o.serializeStoryPoint=function(e,fE){var fF=null;if(e.get_isCurrentPoint()&&fE.get_hasContainedSheet()){var fG=fE.get_containedSheetName();var fH=fE.get_containedSheetType();var fI=B.getApiDashboardZonePresModels(fE.get_containedDashboardZones());fF=w.newContainedSheetInfo(fG,fH,ss.unbox(fE.get_containedSheetZoneId()),fI)}var fJ=w.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),fF);return fJ};o.serializeDataValue=function(e,fE){if(fE==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(fE){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fF=null;if(_.isDate(e)){fF=e}else if(_.isNumber(e)){if(isNaN(e)){fF=null}else{fF=new Date(tableau.types.JsDateFromOleDate(e))}}else{fF=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fF)||isNaN(fF)){return null}return fF.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fG=parseInt(e.toString(),10);return(isNaN(fG)?null:fG)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fH=parseFloat(e.toString());return(isNaN(fH)?null:fH)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};o.serializeCustomView=function(e,fE){return w.newCustomView(e.id,e.name,e.urlId,fE,e.startViewId,e.isPublic,o.serializeUser(e.owner))};o.serializeUser=function(e){return w.newUser(e.id,e.friendlyName,e.username)};o.convertToCustomizedView=function(e){var fE=new Object;fE.id=e.id;fE.isPublic=e.isPublic;fE.name=e.name;fE.owner=o.convertToUser(e.owner);fE.startViewId=e.startViewId;fE.urlId=e.urlId;var fF=fE;return fF};o.convertToUser=function(e){var fE={friendlyName:e.friendlyName,id:e.id,username:e.username};return fE};o.$0=function(e){var fE=tab.VizUriModel.createForViewingSheetNoQueryParamsNoHash(e);return fE.get_absoluteUri()};global.tab._ApiSerializer=o;var p=function(){this.action=null;ss.EventArgs.call(this)};p.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=p;var q=function(e,fE){React.Component.call(this,e,fE);this.state={users:e.users,groups:e.groups}};q.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=q;var r=function(){};r.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=r;var s=function(){};s.__typeName='tab.AddSubscribersComponentProps';s.createInstance=function(){return s.$ctor()};s.$ctor=function(){var e={};e.userPillsComponentProps=null;e.users=null;e.addUser=null;e.removeUser=null;e.groups=null;e.addGroup=null;e.removeGroup=null;e.removeRecipientByIndex=null;e.isUsers=false;e.cancelSelection=null;e.confirmSelection=null;e.confirmUsersSelection=null;e.confirmGroupsSelection=null;return e};s.isInstanceOfType=function(){return true};global.tab.AddSubscribersComponentProps=s;var t=function(e,fE,fF){this.originalUsers=null;this.users=null;this.originalGroups=null;this.groups=null;this.isUsers=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.originalUsers=e;this.originalGroups=fE;this.users=ss.arrayClone(e);this.groups=ss.arrayClone(fE);this.isUsers=fF;var fG=s.$ctor();fG.users=this.users;fG.addUser=ss.mkdel(this,this.addUser);fG.removeUser=ss.mkdel(this,this.removeUser);fG.groups=this.groups;fG.addGroup=ss.mkdel(this,this.addGroup);fG.removeGroup=ss.mkdel(this,this.removeGroup);fG.removeRecipientByIndex=ss.mkdel(this,this.removeRecipientByIndex);fG.isUsers=this.isUsers;fG.cancelSelection=ss.mkdel(this,this.cancelSelection);fG.confirmSelection=ss.mkdel(this,this.confirmSelection);fG.confirmUsersSelection=ss.mkdel(this,function(fH){this.$2$3(fH)});fG.confirmGroupsSelection=ss.mkdel(this,function(fH){this.$2$4(fH)});this.set_props(fG)};t.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=t;var u=function(){};u.__typeName='tab.ApiCrossDomainEnumConverter';u.convertDataType=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};u.convertUnderlyingDataType=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};u.convertFieldAggregation=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'collect':{return'COLLECT'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};u.convertFieldRole=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};u.convertParameterDomainType=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};u.convertPeriodType=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};u.convertRangeType=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};u.convertZoneType=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};global.tab.ApiCrossDomainEnumConverter=u;var v=function(){};v.__typeName='tab.ApiCrossDomainParamConverter';v.convertFilterUpdateType=function(e){var fE=e.toString();if(fE.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(fE.toLowerCase()==='all'){return'filter-all'.toString()}else if(fE.toLowerCase()==='add'){return'filter-add'.toString()}else if(fE.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}};global.tab.ApiCrossDomainParamConverter=v;var w=function(){};w.__typeName='tab.ApiCrossDomainPresModelsFactory';w.newClientInfo=function(e,fE,fF,fG,fH,fI,fJ,fK){var fL=new Object;fL.isAutoUpdate=e;fL.isDownloadAllowed=fE;fL.workbookName=fF;fL.instanceId=fH;fL.currentSheetName=fG;fL.publishedSheets=fI;fL.dashboardZones=fJ;fL.story=fK;return fL};w.newAutoUpdateState=function(e){var fE=new Object;fE.isAutoUpdate=e;return fE};w.newCommandError=function(e,fE){var fF=new Object;fF.errorCode=e;fF.additionalInformation=fE;return fF};w.newSheetInfo=function(e,fE,fF,fG,fH,fI,fJ){var fK=new Object;fK.maxHeight=fI;fK.maxWidth=fH;fK.minHeight=fG;fK.minWidth=fF;var fL=new Object;fL.name=e;fL.sizeConstraints=fK;fL.repositoryUrl=fJ;fL.sheetType=fE;return fL};w.newContainedSheetInfo=function(e,fE,fF,fG){var fH=new Object;fH.name=e;fH.sheetType=fE;fH.zoneId=fF;fH.dashboardZones=fG;return fH};w.newDashboardZone=function(e,fE,fF,fG,fH,fI,fJ){var fK=new Object;fK.name=e;fK.zoneId=fE;fK.zoneType=fF;fK.height=fG;fK.width=fH;fK.x=fI;fK.y=fJ;return fK};w.newStory=function(e,fE){var fF=new Object;fF.activeStoryPointIndex=e;fF.storyPoints=fE;return fF};w.newStoryPoint=function(e,fE,fF,fG,fH){var fI=new Object;fI.caption=e;fI.index=fE;fI.storyPointId=fF;fI.isUpdated=fG;fI.containedSheetInfo=fH;return fI};w.$0=function(e,fE,fF,fG,fH,fI){var fJ=new Object;fJ.fieldName=e;fJ.filterType=fE;fJ.caption=fF;fJ.dataSourceName=fG;fJ.fieldRole=fH;fJ.fieldAggregation=fI;return fJ};w.newCategoricalFilter=function(e,fE,fF,fG,fH,fI,fJ,fK){var fL=w.$0(e,fE,fF,fG,fH,fI);fL.isExclude=fJ;fL.appliedValues=fK;return fL};w.newQuantitativeFilter=function(e,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN){var fO=w.$0(e,fE,fF,fG,fH,fI);fO.domainMinValue=fJ;fO.domainMaxValue=fK;fO.minValue=fL;fO.maxValue=fM;fO.includeNullValues=fN;return fO};w.newHierarchicalFilter=function(e,fE,fF,fG,fH,fI,fJ){var fK=w.$0(e,fE,fF,fG,fH,fI);fK.levels=fJ;return fK};w.newRelativeDateFilter=function(e,fE,fF,fG,fH,fI,fJ,fK,fL){var fM=w.$0(e,fE,fF,fG,fH,fI);fM.periodType=fJ;fM.rangeType=fK;fM.rangeN=fL;return fM};w.newDataSourcesForWorksheet=function(e,fE){var fF=new Object;fF.worksheetName=e;fF.dataSources=fE;return fF};w.newDataSource=function(e,fE,fF){var fG=new Object;fG.name=e;fG.fields=fE;fG.isPrimary=fF;return fG};w.newField=function(e,fE,fF){var fG=new Object;fG.name=e;fG.role=fE;fG.aggregation=fF;return fG};w.newCustomViewsInfo=function(e,fE,fF,fG){var fH=new Object;fH.customViewLoaded=e;fH.defaultCustomViewId=fE;fH.currentView=fF;fH.customViews=fG;return fH};w.newCustomView=function(e,fE,fF,fG,fH,fI,fJ){var fK=new Object;fK.id=e;fK.name=fE;fK.urlId=fF;fK.url=fG;fK.startViewId=fH;fK.isPublic=fI;fK.owner=fJ;return fK};w.newUser=function(e,fE,fF){var fG=new Object;fG.id=e;fG.friendlyName=fE;fG.username=fF;return fG};w.newUnderlyingDataTablePM=function(e,fE,fF){var fG=new Object;fG.dataTable=e;fG.headers=fE;fG.isSummary=fF;return fG};w.newUnderlyingDataColumnsPM=function(e,fE,fF,fG){var fH=new Object;fH.dataType=e;fH.fieldName=fE;fH.isReferenced=fF;fH.index=fG;return fH};w.newToolbarStatePM=function(e,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN){var fO=new Object;fO.canUndo=e;fO.canRedo=fE;fO.canRevert=fF;fO.isPaused=fG;fO.canRefreshData=fH;fO.canShowCustomViews=fI;fO.canShowPerformance=fJ;fO.canShowDataAlert=fK;fO.canShowSubscribe=fL;fO.canShowShare=fM;fO.canShowDownload=fN;return fO};w.newAddInInstancePM=function(e){var fE=new Object;fE.locator=w.newAddInLocatorPM(e.addInLocatorPresModel);fE.url=e.addInRegistrationPresModel.url;return fE};w.newAddInLocatorPM=function(e){var fE=new Object;fE.dashboardPath=w.newSheetPathPM(e.sheetPath);fE.instanceId=e.addInInstanceId;return fE};w.newSheetPathPM=function(e){var fE=new Object;fE.flipboardZoneID=e.flipboardZoneId;fE.storyPointID=e.storyPointId;fE.storyboard=e.storyboard;fE.sheetName=e.sheetName;fE.isDashboard=e.isDashboard;return fE};w.newVisualIdPM=function(e){var fE=new Object;fE.worksheet=e.worksheet;fE.dashboard=e.dashboard;fE.storyboard=e.storyboard;fE.flipboardZoneID=e.flipboardZoneId;fE.storyPointID=e.storyPointId;return fE};w.newAddInBootstrapInfoPM=function(e){var fE=new Object;fE.addinDashboardInfo=w.newAddInDashboardInfoPM(e.addInDashboardInfoPresModel);fE.addInSettingsInfo=w.newAddInSettingsInfoPM(e.addInSettingsInfo);fE.addInEnvironment=w.newAddInEnvironmentInfoPM(e.addInEnvironmentPresModel);return fE};w.newAddInDashboardInfoPM=function(e){var fE=new Object;fE.name=e.dashboardPresModel.sheetPath.sheetName;fE.addInZoneId=e.zoneId;fE.zones=B.getApiDashboardZonePresModels(e.dashboardPresModel.zones);return fE};w.newAddInSettingsInfoPM=function(e){var fE=new Object;fE.settingsValues=e.addInSettings||{};return fE};w.newAddInEnvironmentInfoPM=function(e){var fE=new Object;fE.addInContext=e.addInContext;fE.addInMode=e.addInMode;fE.addInLanguage=e.addInLanguage;fE.addInLocale=e.addInLocale;fE.tableauVersion=e.tableauVersion;fE.operatingSystem=e.operatingSystem;fE.apiVersion=e.apiVersion||'0.0.1';return fE};global.tab.ApiCrossDomainPresModelsFactory=w;var x=function(){};x.__typeName='tab.ApiDataSourcesHandler';x.$0=function(e,fE,fF){var fG=e.worksheetDataSchemaMap[fE].primaryDatasource;var fH=e.parametersDatasource;var fI=[];var fJ=e.dataSources;var fK=_.keys(fJ);for(var fL=0;fL<fK.length;fL++){var fM=fK[fL];if(ss.referenceEquals(fM,fH)){continue}var fN=fJ[fM];if(!ss.isNullOrEmptyString(fF)&&!ss.referenceEquals(fN.datasource,fF)){continue}var fO=x.processDataSourceFields(fN.fieldList);var fP=ss.referenceEquals(fN.datasource,fG);var fQ=w.newDataSource(fN.datasourceCaption,Array.prototype.slice.call(fO),fP);fI.push(fQ)}var fR=w.newDataSourcesForWorksheet(fE,Array.prototype.slice.call(fI));return fR};x.processDataSourceFields=function(e){var fE=[];for(var fF=0;fF<e.length;fF++){var fG=e[fF];if(ss.isValue(fG.baseColumnName)){continue}if(fG.type==='field-folder'){continue}if(fG.type==='field'){continue}var fH=fG;if(ss.isValue(fH.columnList)){for(var fI=0;fI<fH.columnList.length;fI++){var fJ=fH.columnList[fI];var fK=w.newField(fJ.name,u.convertFieldRole(fJ.fieldRole),u.convertFieldAggregation(fJ.aggregation));fE.push(fK)}}else if(fG.type==='dimension'){var fL=w.newField(fG.name,'dimension','NONE');fE.push(fL)}else{var fM=w.newField(fG.name,u.convertFieldRole(fG.defaultFieldRole),u.convertFieldAggregation(fG.defaultAggregation));fE.push(fM)}}return fE};global.tab.ApiDataSourcesHandler=x;var y=function(e,fE){this.$3=null;this.$2=null;this.$3=e;this.$2=fE;this.$3.add_newLayouts(ss.mkdel(this,this.$0));this.$0()};y.__typeName='tab.ApiDeviceLayoutHandler';global.tab.ApiDeviceLayoutHandler=y;var z=function(e,fE,fF){this.$15=new tab.DisposableHolder;this.$12=null;this.$1b={};this.$13=null;this.$18=null;this.$19=null;this.$14=false;this.$16=false;this.$1a=null;this.$17=null;this.$12=fF;this.updateClients(e,fE);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))};z.__typeName='tab.ApiEventHandler';z.$2=function(e,fE){var fF=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(fF)){var fG=_.find(fF.get_filters(),function(fH){return ss.referenceEquals(fH.get_globalFieldName(),fE)});if(ss.isValue(fG)){return fG.get_filterPresModel().fieldCaption}}return null};z.$0=function(e){var fE=new ss.StringBuilder;for(var fF=0;fF<e.length;fF++){var fG=e[fF];if(!(fE.length===0)){fE.append('.')}fE.append('['+fG+']')}return fE.toString()};z.$1=function(){var e=new Set;var fE=tab.ModelUtils.findContentDashboard(null);var fF=fE.get_zoneModels();for(var fG=0;fG<fF.length;fG++){var fH=fF[fG];if(fH.get_zoneType()==='filter'&&ss.referenceEquals(fH.get_worksheetName(),tsConfig.current_sheet_name)){var fI=fH.get_model().get_fieldName();e.add(fI)}}var fJ={};var fK=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(fK)){var fL=fK.get_filters();for(var fM=0;fM<fL.length;fM++){var fN=fL[fM];var fO=z.$0(fN.get_filterPresModel().name);if(e.has(fO)){var fP=fN.get_filterPresModel().fieldCaption;if(fN.get_filterPresModel().type!=='H'){fJ[fP]=fN.get_filterPresModel().type}else{fP='';var fQ=fN.get_filterPresModel().table[0].table;if(ss.isValue(fQ)&&ss.isValue(fQ.schema)&&ss.isValue(fQ.schema[0])&&ss.isValue(fQ.schema[0].name)){var fR=fQ.schema[0].name;for(var fS=1;fS<fR.length;fS++){fP+='['+fR[fS]+']';fJ[fP]=fN.get_filterPresModel().type;fP+='.'}}}}}}return fJ};z.$3=function(e){return null};z.$4=function(e){var fE=e;if(ss.isValue(fE['invalidFields'])){return w.newCommandError('invalidSelectionFieldName',fE['invalidFields'])}else if(ss.isValue(fE['invalidValues'])){return w.newCommandError('invalidSelectionValue',fE['invalidValues'])}else if(ss.isValue(fE['invalidDates'])){return w.newCommandError('invalidSelectionDate',fE['invalidDates'])}return null};global.tab.ApiEventHandler=z;var A=function(){};A.__typeName='tab.ApiFilterHandler';A.processFilters=function(e){var fE=JSON.parse(e.toString());var fF=[];if(ss.isValue(fE)){for(var fG=0;fG<fE.length;fG++){var fH=fE[fG];var fI=A.$5(fH);if(ss.isValue(fI)){fF.push(fI)}}}var fJ=new Object;fJ.filters=Array.prototype.slice.call(fF);return fJ};A.processFilterCommandReturningFieldName=function(e){var fE=A.$0(e);if(ss.isValue(fE)){return fE}return e};A.processSingleFilter=function(e){var fE=A.$0(e);if(ss.isValue(fE)){return fE}var fF=JSON.parse(e.toString());if(ss.isValue(fF)){return A.$5(fF)}return null};A.$0=function(e){var fE=e;if(ss.keyExists(fE,'parameterError')){if(ss.isValue(fE['invalidFieldCaption'])){return w.newCommandError('invalidFilterFieldName',fE['invalidFieldCaption'])}else if(ss.isValue(fE['invalidValues'])){return w.newCommandError('invalidFilterFieldValue',fE['invalidValues'])}else if(ss.isValue(fE['invalidAggFieldName'])){return w.newCommandError('invalidAggregationFieldName',fE['fieldCaption'])}else{return w.newCommandError('serverError',null)}}return null};A.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};A.$5=function(e){var fE=A.$2(e.type);switch(fE){case'categorical':{return A.$7(e)}case'relativedate':{return A.$a(e)}case'hierarchical':{return A.$8(e)}case'quantitative':{return A.$9(e)}default:{throw new ss.Exception('Unknown FilterType: '+fE)}}};A.$6=function(e,fE){var fF=e.fieldName;var fG=e.fieldCaption;var fH=A.$2(e.type);var fI=null;var fJ=null;var fK=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){fI=e.fieldDatasource;var fL=JSON.parse(e.fieldDetailsJson);var fM=fL['genFieldColumnPresModel'];fJ=u.convertFieldRole(fM.fieldRole);fK=u.convertFieldAggregation(fM.aggregation)}return fE(fF,fH,fG,fI,fJ,fK)};A.$7=function(e){var fE=e.exclude||false;var fF=null;if(ss.isValue(e.table)){var fG=e.table;if(ss.isValue(fG.tuples)){var fH=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var fI=fG.tuples;var fJ=[];for(var fK=0;fK<fI.length;fK++){var fL=fI[fK];if(fH||ss.isValue(fL.s)&&fL.s){var fM=fL.t[0];var fN=fL.d;fJ.push(A.$4(e,fM,fN))}}fF=Array.prototype.slice.call(fJ)}}var fO=function(fP,fQ,fR,fS,fT,fU){return w.newCategoricalFilter(fP,fQ,fR,fS,fT,fU,fE,fF)};return A.$6(e,fO)};A.$9=function(e){var fE=null;var fF=null;var fG=null;var fH=null;var fI=false;if(ss.isValue(e.range)){var fJ=e.range;if(ss.isValue(fJ.min)&&ss.isValue(fJ.min.v)){fE=A.$3(e,fJ.min,null)}if(ss.isValue(fJ.max)&&ss.isValue(fJ.max.v)){fF=A.$3(e,fJ.max,null)}}if(ss.isValue(e.table)){var fK=e.table;if(ss.isValue(fK.min)&&ss.isValue(fK.min.v)){fG=A.$3(e,fK.min,null)}if(ss.isValue(fK.max)&&ss.isValue(fK.max.v)){fH=A.$3(e,fK.max,null)}if(ss.isValue(fK.included)){var fL=fK.included;fI=fL==='include-all'||fL==='include-null'||fL==='include-range-or-null'}}var fM=function(fN,fO,fP,fQ,fR,fS){return w.newQuantitativeFilter(fN,fO,fP,fQ,fR,fS,fE,fF,fG,fH,fI)};return A.$6(e,fM)};A.$a=function(e){var fE=null;var fF=null;var fG=null;var fH=e.table;if(ss.isValue(fH)){if(ss.isValue(fH.periodType)){fE=u.convertPeriodType(fH.periodType)}if(ss.isValue(fH.rangeType)){fF=u.convertRangeType(fH.rangeType)}if(ss.isValue(fH.rangeN)){fG=fH.rangeN}}var fI=function(fJ,fK,fL,fM,fN,fO){return w.newRelativeDateFilter(fJ,fK,fL,fM,fN,fO,fE,fF,fG)};return A.$6(e,fI)};A.$4=function(e,fE,fF){return A.$3(e,fE,fF)};A.$3=function(e,fE,fF){var fG=new Object;if(ss.isNullOrUndefined(fE)){return fG}var fH=A.$1(fE.t);var fI=[fE];if(ss.isValue(e.range)){fI.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){fI.push(e.table.min,e.table.max)}var fJ=tab.QuickFilterDateFormatUtil.getDateTimeFormatMode(fI,'none',e.date_format,null);fG.type=u.convertDataType(fH);var fK=((fH==='date'||fH==='datetime')?e.date_format:e.format);var fL=tab.LegacyFilterModel.buildDataValueFromFilterValue(fE);fG.formattedValue=tableau.format.formatDataValue(fL,e.role,fK,null,fJ);if(ss.isValue(fF)){fG.aliasedValue=fF}fG.value=B.serializeDataValue(fE.v,fH);return fG};A.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};A.$8=function(e){var fE=0;if(ss.isValue(e.levels)){fE=e.levels.length}var fF=function(fG,fH,fI,fJ,fK,fL){return w.newHierarchicalFilter(fG,fH,fI,fJ,fK,fL,fE)};return A.$6(e,fF)};global.tab.ApiFilterHandler=A;var B=function(){};B.__typeName='tab.ApiPresModelsConverter';B.getApiAddInInstancePresModel=function(e){return w.newAddInInstancePM(e)};B.getApiAddInBootstrapInfoPresModel=function(e){return w.newAddInBootstrapInfoPM(e)};B.getApiUnderlyingDataTablePresModel=function(e,fE){var fF=e.dataDictionary;var fG=e.underlyingDataTableColumns;var fH=B.$1(fG);var fI=B.$0(fF,fG);var fJ=w.newUnderlyingDataTablePM(fI,fH,fE);return fJ};B.getApiDashboardZonePresModels=function(e){var fE=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return fE}var fF=Object.keys(e);fF.sort(function(fR,fS){return parseInt(fR,10)-parseInt(fS,10)});for(var fG=0;fG<fF.length;fG++){var fH=fF[fG];var fI=e[fH];if(ss.isNullOrUndefined(fI)){continue}var fJ=u.convertZoneType(fI.zoneCommon.zoneType);if(!ss.isValue(fJ)){continue}var fK=(ss.isValue(fI.worksheet)?fI.worksheet:null);var fL=fI.zoneCommon.x;var fM=fI.zoneCommon.y;var fN=fI.zoneCommon.w;var fO=fI.zoneCommon.h;var fP=fI.zoneCommon.zoneId;var fQ=w.newDashboardZone(fK,fP,ss.unbox(fJ),fO,fN,fL,fM);fE.push(fQ)}return fE};B.processSelectedMarks=function(e){var fE=e.dataDictionary;var fF=e.vizData;return B.$4(fE,fF)};B.processHighlightedMarks=function(e){var fE=e.dataDictionary;var fF=e.vizData;return B.$4(fE,fF)};B.getAddInLocatorPresModel=function(e){return dr.newAddInLocatorPresModel(e)};B.$4=function(e,fE){var fF=new Object;var fG=new tab.DataDictionaryModel(null);fG.update(e);var fH=new tab.VizDataModel(null);fH.update(fE,tab.NoopModelEventsHandler.get_noopContext());var fI=[];fF.marks=fI;if(ss.isNullOrUndefined(fG)||fG.get_isEmpty()){return fF}fH.forEachTupleId(function(fJ){var fK=new Object;fK.tupleId=fJ;var fL=fK;var fM=[];fL.pairs=fM;fI.push(fL);fH.forEachVizDataField(function(fN,fO){var fP=new Object;fP.fieldName=fN.get_fieldCaption();fP.formattedValue=tab.VizDataLookup.lookupAlias(fJ,fN,fG);fP.valueDataType=u.convertDataType(fN.get_dataType());var fQ=fP;var fR=null;if(!tab.VizDataLookup.isSpecial(fJ,fN,fG,null)&&fN.get_hasDataValues()&&fN.isTupleIdValid(fJ)){fR=tab.VizDataLookup.lookupRawDataValue(fJ,fN,fG)}var fS=B.serializeDataValue(fR,fN.get_dataType());fQ.value=fS;fM.push(fQ);return true});return true});return fF};B.serializeDataValue=function(e,fE){if(fE==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(fE){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fF=null;if(_.isDate(e)){fF=e}else if(_.isNumber(e)){if(isNaN(e)){fF=null}else{fF=new Date(tableau.types.JsDateFromOleDate(e))}}else{fF=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fF)||isNaN(fF)){return null}return fF.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fG=parseInt(e.toString(),10);return(isNaN(fG)?null:fG)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fH=parseFloat(e.toString());return(isNaN(fH)?null:fH)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};B.$1=function(e){var fE=[];for(var fF=0;fF<e.length;fF++){var fG=e[fF];var fH=u.convertUnderlyingDataType(fG.dataType);var fI=w.newUnderlyingDataColumnsPM(fH,fG.fieldCaption,fG.isReferenced,fF);fE.push(fI)}return fE};B.$0=function(e,fE){var fF=fE[0].formatValIdxs.length;var fG=new Array(fF);for(var fH=0;fH<fF;fH++){fG[fH]=new Array(fE.length)}for(var fI=0;fI<fE.length;fI++){var fJ=fE[fI];for(var fK=0;fK<fJ.formatValIdxs.length;fK++){var fL=new Object;fL.formattedValue=B.$3(e,fJ.formatValIdxs[fK],'cstring');fL.value=B.$3(e,fJ.valueIndices[fK],fJ.dataType);var fM=fL;fM.aliasedValue=fM.formattedValue;fG[fK][fI]=fM}}return fG};B.$3=function(e,fE,fF){var fG=null;var fH;if(fE>=0){fH=fF}else{fH='cstring';fE=-fE-1}var fI=B.$2(e,fH,fE);if(ss.isValue(fI)){fG=fI.toString()}return fG};B.$2=function(e,fE,fF){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dataSegments)){return null}var fG=ss.getEnumerator(Object.keys(e.dataSegments));try{while(fG.moveNext()){var fH=fG.current();var fI=e.dataSegments[fH];if(ss.isNullOrUndefined(fI.dataColumns)){continue}for(var fJ=0;fJ<fI.dataColumns.length;fJ++){var fK=fI.dataColumns[fJ];if(ss.isNullOrUndefined(fK)||fK.dataType!==fE){continue}if(fF<fK.dataValues.length){return fK.dataValues[fF]}fF-=fK.dataValues.length;break}}}finally{fG.dispose()}return null};global.tab.ApiPresModelsConverter=B;var C=function(e,fE){this.$7=null;this.$b=null;this.$8=new tab.DisposableHolder;this.$a=false;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(fE,'responder');this.$7=e;this.$b=fE;var fF=ss.mkdel(this,function(){var fG=e.get_flipboardNavigatorViewModel();if(ss.isValue(fG)){fG.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$a=true;this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fG.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(fG)});if(!fF()){_.defer(ss.mkdel(this,function(){if(this.$9){return}fF()}))}};C.__typeName='tab.ApiStorytellingHandler';C.$0=function(e,fE){var fF=($.isArray(fE)?fE:[fE]);var fG=_.any(fF,function(fH){return fH===e.get_name()});if(!fG){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=C;var D=function(e,fE){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(fE)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=fE;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))};D.__typeName='tab.ApiToolbarStateManager';D.$1=function(e,fE){var fF=e[fE];return ss.isValue(fF)&&fF.get_enabled()};D.$2=function(e,fE,fF){var fG=e[fE];if(ss.isNullOrUndefined(fG)){return false}var fH=new tab.CommandsPresModelWrapper.$ctor1(fG.get_commands());var fI=fH.get_commandItems();for(var fJ=0;fJ<fI.length;fJ++){var fK=fI[fJ];var fL=new tab.CommandItemWrapper(fK);if(ss.equals(fL.get_name(),fF)){return fL.get_enabled()}}return false};D.$0=function(e,fE){var fF=ss.getEnumerator(fE);try{while(fF.moveNext()){var fG=fF.current();var fH=new tab.CommandItemWrapper(fG);e[fH.get_iconRes()]=fH}}finally{fF.dispose()}};global.tab.ApiToolbarStateManager=D;var E=function(){};E.__typeName='tab.ApiUnderlyingDataHandler';E.processSummaryData=function(e){var fE=e;var fF=E.processDataDictionary(fE,true);return fF};E.processUnderlyingData=function(e){var fE=e;var fF=E.processDataDictionary(fE,false);return fF};E.prepareSummaryCommand=function(e,fE){fE['maxRows']=e['api.maxRows'];fE['ignoreAliases']=e['api.ignoreAliases'];fE['ignoreSelection']=e['api.ignoreSelection']};E.prepareUnderlyingCommand=function(e,fE){E.prepareSummaryCommand(e,fE);fE['includeAllColumns']=e['api.includeAllColumns']};E.processDataDictionary=function(e,fE){var fF=new tab.DataDictionaryModel(null);fF.update(e.dataDictionary);var fG=e.underlyingDataTableColumns;var fH=E.$1(fG);var fI=E.$0(fF,fG);var fJ=w.newUnderlyingDataTablePM(fI,fH,fE);return fJ};E.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var fE=[];for(var fF=0;fF<e.length;fF++){var fG=e[fF];var fH=u.convertUnderlyingDataType(fG.dataType);var fI=w.newUnderlyingDataColumnsPM(fH,fG.fieldCaption,fG.isReferenced,fF);fE.push(fI)}return fE};E.$0=function(e,fE){if(ss.isNullOrUndefined(fE)||fE.length===0){return[]}var fF=fE[0].formatValIdxs.length;var fG=new Array(fF);for(var fH=0;fH<fF;fH++){fG[fH]=new Array(fE.length)}for(var fI=0;fI<fE.length;fI++){var fJ=fE[fI];for(var fK=0;fK<fJ.formatValIdxs.length;fK++){var fL=new Object;fL.formattedValue=E.$2(e,fJ.formatValIdxs[fK],'cstring');fL.value=E.$2(e,fJ.valueIndices[fK],fJ.dataType);fL.aliasedValue=fL.formattedValue;fG[fK][fI]=fL}}return fG};E.$2=function(e,fE,fF){var fG=null;var fH;if(fE>=0){fH=fF}else{fH='cstring';fE=-fE-1}var fI=e.getRawValue(fH,fE);if(ss.isValue(fI)){fG=fI.toString()}return fG};global.tab.ApiUnderlyingDataHandler=E;var E=function(){};E.__typeName='tab.ApiUnderlyingDataHandler';E.processSummaryData=function(e){var fE=e;var fF=E.$5(fE,true);return fF};E.$6=function(e){var fE=e;var fF=E.$5(fE,false);return fF};E.$3=function(e,fE){fE['maxRows']=e['api.maxRows'];fE['ignoreAliases']=e['api.ignoreAliases'];fE['ignoreSelection']=e['api.ignoreSelection']};E.$4=function(e,fE){E.$3(e,fE);fE['includeAllColumns']=e['api.includeAllColumns']};E.$5=function(e,fE){var fF=new tab.DataDictionaryModel(null);fF.update(e.dataDictionary);var fG=e.underlyingDataTableColumns;var fH=E.$1(fG);var fI=E.$0(fF,fG);var fJ=w.newUnderlyingDataTablePM(fI,fH,fE);return fJ};E.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var fE=[];for(var fF=0;fF<e.length;fF++){var fG=e[fF];var fH=u.convertUnderlyingDataType(fG.dataType);var fI=w.newUnderlyingDataColumnsPM(fH,fG.fieldCaption,fG.isReferenced,fF);fE.push(fI)}return fE};E.$0=function(e,fE){if(ss.isNullOrUndefined(fE)||fE.length===0){return[]}var fF=fE[0].formatValIdxs.length;var fG=new Array(fF);for(var fH=0;fH<fF;fH++){fG[fH]=new Array(fE.length)}for(var fI=0;fI<fE.length;fI++){var fJ=fE[fI];for(var fK=0;fK<fJ.formatValIdxs.length;fK++){var fL=new Object;fL.formattedValue=E.$2(e,fJ.formatValIdxs[fK],'cstring');fL.value=E.$2(e,fJ.valueIndices[fK],fJ.dataType);fL.aliasedValue=fL.formattedValue;fG[fK][fI]=fL}}return fG};E.$2=function(e,fE,fF){var fG=null;var fH;if(fE>=0){fH=fF}else{fH='cstring';fE=-fE-1}var fI=e.getRawValue(fH,fE);if(ss.isValue(fI)){fG=fI.toString()}return fG};global.tab.ApiUnderlyingDataHandler=E;var F=function(){spiff.BaseViewModel.call(this)};F.__typeName='tab.AppBannerViewModel';global.tab.AppBannerViewModel=F;var G=function(){this.$t=null;this.$r=null;this.$s=null;this.$p=null;this.$u=null;this.$q=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;var e=null;e=ss.mkdel(this,function(fE,fF){G.remove_starting(e);this.$j();this.$k().$l();var fG=new tab.LayoutSession(null,G.get_commonDialogProvider());var fH=tab.CommandController.create(fG,G.get_commonDialogProvider(),new V(null,null,null));fH.setBrowserViewportFunc(S.getViewport);fH.add_newLayoutId(ss.mkdel(this,this.$6));fH.add_tabChangeCompleted(ss.mkdel(this,this.$8));G.add_onTabSelect(ss.mkdel(this,this.$3));fH.add_destroyView(ss.mkdel(this,this.$2));fH.add_intermediateUpdate(ss.mkdel(this,this.$m));fH.add_switchingViz(ss.mkdel(this,this.$7));this.$q.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fH.remove_newLayoutId(ss.mkdel(this,this.$6));fH.remove_tabChangeCompleted(ss.mkdel(this,this.$8));G.remove_onTabSelect(ss.mkdel(this,this.$3));fH.remove_destroyView(ss.mkdel(this,this.$2));fH.remove_intermediateUpdate(ss.mkdel(this,this.$m));fH.remove_switchingViz(ss.mkdel(this,this.$7))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var fI=G.$0(false,fG);this.set_client(fI);this.$t=fI;this.get_client().startup();this.$c(this.get_client(),this.$t);if(BrowserSupport.BrowserSupport.IsIE()){this.$0()}this.$s=new dn;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(fJ){S.getViewport(function(fK){var fL=new spiff.SpiffBrowserViewport(fK.get_dimensions(),function(fM){return fK.getVisibleRoom(fM,0)});fJ(fL)})}});G.add_starting(e)};G.__typeName='tab.Application';G.add_starting=function(e){G.$1$1=ss.delegateCombine(G.$1$1,e)};G.remove_starting=function(e){G.$1$1=ss.delegateRemove(G.$1$1,e)};G.add_started=function(e){G.$1$2=ss.delegateCombine(G.$1$2,e)};G.remove_started=function(e){G.$1$2=ss.delegateRemove(G.$1$2,e)};G.add_onTabSelect=function(e){G.$1$3=ss.delegateCombine(G.$1$3,e)};G.remove_onTabSelect=function(e){G.$1$3=ss.delegateRemove(G.$1$3,e)};G.get_instance=function(){if(ss.isNullOrUndefined(G.$5)){G.$5=new G}return G.$5};G.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};G.get_commonDialogProvider=function(){return G.$4||(G.$4=new bd)};G.get_commonBannerProvider=function(){return G.$3||(G.$3=new bc)};G.startup=function(){tabBootstrap.MetricsController.logMetricsEvent('APPSTR'.toString(),2);if(ss.isValue(G.$6)&&G.$6){throw new ss.Exception('Application.Startup() can only be called once')}var e=G.get_instance();if(!ss.staticEquals(G.$1$1,null)){G.$1$1(e,ss.EventArgs.Empty)}if(!ss.staticEquals(G.$1$2,null)){G.$1$2(e,ss.EventArgs.Empty)}spiff.DragDropManager.init();SharedWidgets.setConfig(G.$1());G.$6=true};G.$1=function(){var e={styles:{Typography:{FontFamily:'inherit'}},suppressClickBustingClassName:spiff.ClickBuster.suppressClickBustingClass};return e};G.$0=function(e,fE){var fF=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new fF(e,fE)};G.handleAllFontsFound=function(){eg.get_instance().downloadFonts();eg.get_instance().allFontsFound()};G.$2=function(){bf.get_instance().reset(1);bf.get_instance().addCompletedHandler(1,cz.logUIStabilized);eg.get_instance().initialize(true);var e=tab.ServerFonts.effectiveBentonSans;var fE=tab.ServerFonts.tableauFontNames;eg.get_instance().registerServerLoadedFonts(e);eg.get_instance().registerServerLoadedFonts(fE);eg.get_instance().notifyDownloadableFont(e);if(tsConfig.is_authoring){eg.get_instance().notifyDownloadableFont(fE)}};G.fireOnTabSelect=function(e){if(!ss.staticEquals(G.$1$3,null)){G.$1$3(e)}};global.tab.Application=G;var H=function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,H.$0());this.domNode=this.domRoot;this.toolbarContainer=$((tab.FeatureFlags.isEnabled('IframeSizedToWindow')?I.toolbarContainerSelector:'.tab-toolbar-container'))};H.__typeName='tab.ApplicationTemplate';H.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-viewport'></div>"):$("<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"))};global.tab.ApplicationTemplate=H;var I=function(e){this.$i=null;this.$h=null;this.$f=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[K]).call(this,e,new H);spiff.FullscreenUtil.add_fullscreenStateChanged(I.$0);this.disposables.add(function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(I.$0)})};I.__typeName='tab.ApplicationView';I.$0=function(){if(tsConfig.isPublic){if(spiff.FullscreenUtil.get_inFullscreenMode()){$(I.vizContainerSelector).css({width:'',height:''})}else{var e=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(I.vizContainerSelector).css({width:e.w+'px',height:e.h+'px'})}}var fE=G.get_instance().get_tabbedNavigation();if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(fE)){fE.resizeShim()}};global.tab.ApplicationView=I;var J=function(e,fE){this.session=null;this._connections=[];this.skipInit=false;this.$B=null;this.$x=false;this.$A=null;this.$D=null;this.$w=null;this.$v=null;this.$y=false;this.$z=false;this.$C=0;this.$E=null;spiff.Widget.call(this,$(null));this.session=fE;this.skipInit=e;var fF=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(fF)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(fF.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$D=new fk(this);this.enableTextSelection()};J.__typeName='tab.ApplicationViewModel';J.selectCenteringContainer=function(){return $('#centeringContainer')};J.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var fE=tabBootstrap.VizLayoutConstants.get_tabsHeight();var fF={l:0,t:fE,w:e.w,h:e.h};if(!eU.get_toolbarIsBottom()&&!tsConfig.is_authoring){fF.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return fF};J.calculateDashboardViewportBounds=function(){var e=tab.DashboardSizeCalculator.get_dashboardViewportSize();var fE={l:0,t:0,w:e.w,h:e.h};if(!eU.get_toolbarIsBottom()&&!tsConfig.is_authoring){fE.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}if(tsConfig.is_authoring){fE.t+=tabBootstrap.VizLayoutConstants.get_authoringMenuBarHeight()+tabBootstrap.VizLayoutConstants.get_authoringToolbarHeight()}return fE};global.tab.ApplicationViewModel=J;var K=function(e){this.$6=null;this.$a=null;this.$5=null;this.$8=null;this.$9=null;this.$7=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$6=e;this.$6.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$6.get_workbook())){this.handleNewWorkbook(this.$6.get_workbook())}this.$6.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));this.$5=new F;this.$8=new bV;this.$7=new bU(this.$6.get_workbook());if(tsConfig.is_metrics_authoring){}if(!tsConfig.is_authoring&&!this.$6.get_isOffline()){var fE=new eU(this.$6.get_toolbar(),this.$7);fE.set_shouldShowCommenting(this.get_shouldShowCommenting());this.$9=fE;if(!tab.FeatureFlags.isEnabled('SkipPostLoadOperations')){tab.StartupUtils.callOnceAfterInitialBootstrap(ss.mkdel(this,this.$3))}else{this.get_toolbarViewModel().set_viewCount(tsConfig.viewCount)}}};K.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=K;var L=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};L.__typeName='tab.AreYouSureButtons';L.create=function(e,fE){var fF=new L(new M);if(ss.isValue(e)){fF.$a(e);fF.disposables.add$1(new tab.CallOnDispose(function(){fF.$b(e)}))}if(ss.isValue(fE)){fF.$c(fE);fF.disposables.add$1(new tab.CallOnDispose(function(){fF.$d(fE)}))}return fF};global.tab.AreYouSureButtons=L;var M=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};M.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=M;var N=function(e,fE,fF){this.$2=null;this.$4=null;this.$3=null;O.call(this,e,fF);this.$2=e.RedirectUrl;this.$4=fE.dataSourceConnectionAttemptInfos[0];this.$3=fE};N.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=N;var O=function(e,fE){P.call(this,e,fE,null)};O.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=O;var P=function(e,fE,fF){this.onProceed=null;this.onCancel=null;this.dataSourceConnectionAttemptErrorResponse=null;this.$1$1=false;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=fE;this.onCancel=fF;this.set_submitted(false)};P.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=P;var Q=function(){this.parentNode=null};Q.__typeName='tab.BaseDisposableDialog';global.tab.BaseDisposableDialog=Q;var R=function(e,fE){var fF=function(fG,fH,fI){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[fE,ss.makeGenericType(eL,[e]),Object]).call(this,fG(fH.viewModel),fH,fI);this.$1=fG};ss.registerGenericClassInstance(fF,R,[e,fE],{handleWidgetPropertyChanged:function(fG,fH){},updateWidgetState:function(fG){if(!ss.referenceEquals(this.props.viewModel,fG.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(fG.viewModel));var fH=$(ReactDOM.findDOMNode(this));if(ss.isValue(fH)){fH.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[fE,ss.makeGenericType(eL,[e]),Object])},function(){return[]});return fF};R.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(R,a,2);global.tab.BaseToolbarButtonComponent$2=R;var S=function(e){this.$0=null;this.$0=e};S.__typeName='tab.BrowserViewport';S.$8=function(){return tab.Logger.lazyGetLogger(S)};S.$7=function(){var e=window.self.visualViewport;if(ss.isValue(e)){return{l:ss.Int32.trunc(e.pageLeft),t:ss.Int32.trunc(e.pageTop),w:ss.Int32.trunc(e.width),h:ss.Int32.trunc(e.height)}}else{var fE=new tab.WindowHelper(window.self);return{l:fE.get_pageXOffset(),t:fE.get_pageYOffset(),w:fE.get_innerWidth(),h:fE.get_innerHeight()}}};S.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(spiff.FullscreenUtil.get_inFullscreenMode()){e(new S(S.$7()))}else if(S.$a){S.$b.push(e);S.$6()}else{e(new S(S.$7()))}};S.$0=function(e){if(tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){if(ss.isValue(S.$c)){e.y+=S.$c.y;e.x+=S.$c.x}}else{try{var fE=window.self;while(ss.isValue(fE.frameElement)){var fF=$(fE.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(fF.top);e.x+=tab.DoubleUtil.roundToInt(fF.left);fE=fE.parent}}catch(fG){var e=ss.Exception.wrap(fG)}}};S.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var fE=e.data;if(ss.isNullOrUndefined(fE)||typeof(fE)!=='string'){return}var fF=fE;var fG=tab.NonApiCommand.parse(fF);if(fG.get_name()==='layoutInfoResp'){var fH={l:parseInt(ss.getItem(fG.get_parameters(),0),10),t:parseInt(ss.getItem(fG.get_parameters(),1),10),w:parseInt(ss.getItem(fG.get_parameters(),2),10),h:parseInt(ss.getItem(fG.get_parameters(),3),10)};S.$2(fH)}else if(fG.get_name()==='tableau.enableVisibleRectCommunication'){S.$a=true}else if(fG.get_name()==='vizOffsetResp'){S.$c={x:parseInt(ss.getItem(fG.get_parameters(),0),10),y:parseInt(ss.getItem(fG.get_parameters(),1),10)};S.$a=true}};S.$2=function(e){var fE=new S(e);if(S.$b.length!==0){var fF=S.$b.shift();fF(fE)}};S.$6=function(){if(BrowserSupport.BrowserSupport.PostMessage()){var e=new tab.NonApiCommand('layoutInfoReq',[]);window.parent.postMessage(e.serialize(),'*')}else{S.$2(S.$7())}};S.$5=function(){if(S.$9){if('removeEventListener'in window.self){window.removeEventListener('message',S.$3,true)}else{window.self.detachEvent('onmessage',S.$3)}S.$9=false}};S.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',S.$4,true)}else{window.self.attachEvent('onunload',S.$4)}};S.$4=function(e){S.$5()};global.tab.BrowserViewport=S;var T=function(e){React.Component.call(this,e);eg.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$4))};T.__typeName='tab.ButtonZoneComponent';global.tab.ButtonZoneComponent=T;var U=function(e,fE){this.$m=null;this.$o=null;this.$n=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$m=e;this.$o=fE;this.$m.add_contentUpdated(ss.mkdel(this,this.$6));this.$o.add_resizeZone(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$o.remove_resizeZone(ss.mkdel(this,this.$9));this.$m.remove_contentUpdated(ss.mkdel(this,this.$6))})))};U.__typeName='tab.ButtonZoneViewModel';global.tab.ButtonZoneViewModel=U;var V=function(e,fE,fF){this.dialogShowDelay=ss.coalesce(tab.FeatureParamsLookup.getInt(50),2000);this.$e=0;this.$d=null;this.$b=null;this.$c=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;Q.call(this);this.$8(e);this.$6(fE);this.$a(fF)};V.__typeName='tab.CancelDialog';global.tab.CancelDialog=V;var W=function(e){spiff.PureRenderComponent.call(this,e);this.state={isCanceling:false}};W.__typeName='tab.CancelDialogComponent';global.tab.CancelDialogComponent=W;var X=function(){};X.__typeName='tab.CancelDialogTelemetry';X.$2=function(e,fE,fF){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var fG=(ss.staticEquals(fE,null)?0:(fF-fE));tab.OnlineAnalyticsClient.logEvent('Cancel_Dialog',ss.mkdict(['ElapsedTotalTimeShownMS',fG,'CommandName',e,'CancelStatus','CompletedBeforeCancel']))}};X.$1=function(e,fE,fF,fG){X.$0(e,'Failure',fE,fF,fG)};X.$3=function(e,fE,fF,fG,fH){X.$0(e,tab.CancelTelemetry.convertCancellationStatusForLog(fE),fF,fG,fH)};X.$0=function(e,fE,fF,fG,fH){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var fI=fG-fF;var fJ=fH-fF;tab.OnlineAnalyticsClient.logEvent('Cancel_Dialog',ss.mkdict(['ElapsedTimeBeforeCancelledMS',fI,'ElapsedTotalTimeShownMS',fJ,'CommandName',e,'CancelStatus',fE]))}};global.tab.CancelDialogTelemetry=X;var Y=function(e,fE){this.$1=null;this.$2=null;this.$4=null;this.$5=null;this.$7=false;this.$3=null;this.$0=null;this.$6=null;this.$8=null;this.$1=e;this.$2=fE;this.$7=false;this.$8={x:0,y:0}};Y.__typeName='tab.CanvasRenderer';Y.$7=function(e,fE,fF){if(Math.round(fF)%2===1){var fG=fE.x-e.x;var fH=fE.y-e.y;if(fG!==0||fH!==0){var fI=fG*fG+fH*fH;fI=Math.sqrt(fI);var fJ=Math.abs(0.5*(fG/fI));var fK=Math.abs(0.5*(fH/fI));e.x+=fK;e.y+=fJ;fE.x+=fK;fE.y+=fJ}}};Y.getRenderContext=function(e,fE){var fF;if(fE==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var fG=ss.mkdict(['alpha',false]);fF=e.getContext('2d',fG)}else{fF=e.getContext('2d')}return new eC(fF)};Y.addMultipolygonPath=function(e,fE){var fF=fE.polygonList;var fG=fF.length;for(var fH=0;fH<fG;fH++){var fI=fF[fH].lineList;var fJ=fI.length;for(var fK=0;fK<fJ;fK++){var fL=fI[fK].pointsF;var fM=fL.length;if(fM<2){continue}e.moveTo(fL[0],fL[1]);for(var fN=2;fN<fM;fN=fN+2){e.lineTo(fL[fN],fL[fN+1])}}}};Y.addMultipointPath=function(e,fE,fF){var fG=fE.pointsF;var fH=fG.length;for(var fI=0;fI<fH;fI=fI+2){var fJ=fG[fI];var fK=fG[fI+1];e.moveTo(fJ+fF,fK);e.arc(fJ,fK,fF,0,Y.twoPI,true)}};Y.addMultilinePath=function(e,fE){var fF=fE.lineList;var fG=fF.length;for(var fH=0;fH<fG;fH++){var fI=fF[fH].pointsF;var fJ=fI.length;if(fJ===0||fJ%2===1){continue}e.moveTo(fI[0],fI[1]);for(var fK=2;fK<fI.length;fK=fK+2){e.lineTo(fI[fK],fI[fK+1])}}};Y.boundsCoordinateArray=function(e,fE){var fF=e.length;for(var fG=0;fG<fF;fG=fG+2){var fH=e[fG];var fI=e[fG+1];fE.minX=Math.min(fE.minX,fH);fE.minY=Math.min(fE.minY,fI);fE.maxX=Math.max(fE.maxX,fH);fE.maxY=Math.max(fE.maxY,fI)}};Y.boundsMultipolygon=function(e,fE){for(var fF=0;fF<e.polygonList.length;fF++){var fG=e.polygonList[fF];for(var fH=0;fH<fG.lineList.length;fH++){var fI=fG.lineList[fH];Y.boundsCoordinateArray(fI.pointsF,fE)}}};Y.boundsMultilineString=function(e,fE){for(var fF=0;fF<e.lineList.length;fF++){var fG=e.lineList[fF];Y.boundsCoordinateArray(fG.pointsF,fE)}};Y.getBasisVectorsBetweenTwoPoints=function(e,fE,fF){var fG=fE.x-e.x;var fH=fE.y-e.y;var fI=Math.sqrt(fG*fG+fH*fH);var fJ={x:fF*(fG/fI),y:fF*(fH/fI)};var fK={x:-fJ.y,y:fJ.x};return{item1:fJ,item2:fK}};Y.fillPath=function(e,fE,fF){var fG=Math.floor(fE.length/2);if(fG<2){return}e.beginPath();e.moveTo(fE[0],fE[1]);for(var fH=2;fH<fG*2;fH+=2){e.lineTo(fE[fH],fE[fH+1])}if(fF){e.closePath()}e.fill()};Y.strokePath=function(e,fE,fF,fG){var fH=Math.floor(fE.length/2);if(fH<2){return}e.beginPath();var fI=e.get_lineWidth();for(var fJ=0;fJ<fH*2-2;fJ+=2){var fK={x:fE[fJ],y:fE[fJ+1]};var fL={x:fE[fJ+2],y:fE[fJ+3]};if(fH<=2&&fG){Y.$7(fK,fL,fI)}if(fJ===0){e.moveTo(fK.x,fK.y)}Y.$3(e,fK,fL)}if(fF){e.closePath();var fM=fH*2;var fN={x:fE[fM-2],y:fE[fM-1]};var fO={x:fE[0],y:fE[1]};if(fH<=2&&fG){Y.$7(fN,fO,fI)}Y.$3(e,fN,fO)}e.stroke()};Y.toCanvasAngle=function(e){return e*Y.twoPI-Y.halfPI};Y.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};Y.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};Y.renderRectangle=function(e,fE,fF,fG,fH,fI,fJ){var fK=fG/2;var fL=fH/2;e.set_lineJoin('miter');e.set_lineWidth(fJ);e.set_strokeStyle(fI);e.strokeRect(fE-fK,fF-fL,fG,fH)};Y.renderCircle=function(e,fE,fF,fG,fH,fI){e.beginPath();e.arc(fE,fF,Math.max(fG/2,0),0,Y.twoPI,true);e.closePath();e.set_lineWidth(fI);e.set_strokeStyle(fH);e.stroke()};Y.renderFilledCircle=function(e,fE,fF,fG,fH){e.beginPath();e.arc(fE,fF,fG/2,0,Y.twoPI,true);e.closePath();e.set_shapeFillStyle(fH);e.fill()};Y.renderWedge=function(e,fE,fF,fG,fH,fI,fJ,fK,fL,fM){var fN=Y.toCanvasAngle(fH);var fO=Y.toCanvasAngle(fI);if(Math.abs(fO-fN)<Y.angleEpsilon){return}if(ss.isNullOrUndefined(fL)){fL=false}var fP=Math.abs(fI-fH)>=1;e.beginPath();if(!fP){e.moveTo(fE,fF)}fN=Y.$6(fN);fO=Y.$6(fO);e.arc(fE,fF,fG,fN,fO,fL);e.closePath();e.set_lineJoin((fM?'miter':'round'));e.set_lineWidth(fK);e.set_strokeStyle(fJ);e.stroke()};Y.createPlaceholderPath=function(e,fE,fF,fG){e.beginPath();e.arc(fE,fF,fG/2,0,Y.twoPI,true);e.closePath()};Y.createMultipolygonPath=function(e,fE){e.beginPath();Y.addMultipolygonPath(e,fE.multiPolygon);e.closePath()};Y.createMultipointPath=function(e,fE,fF){e.beginPath();Y.addMultipointPath(e,fF.multiPoint,fE/2);e.closePath()};Y.fillMultiLineStringPath=function(e,fE,fF){e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(fF);e.set_lineWidth(fE);e.stroke()};Y.fillClearMultiLineStringPath=function(e,fE,fF){var fG=e.get_globalCompositeOperation();e.set_globalCompositeOperation('destination-out');e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(fF);e.set_lineWidth(fE);e.stroke();e.set_globalCompositeOperation(fG)};Y.$2=function(e,fE,fF){e.beginPath();e.moveTo(fE.x,fE.y);e.lineTo(fF.x,fF.y);e.stroke()};Y.$0=function(e,fE,fF){var fG=e[0];var fH=e[1];var fI=Y.getBasisVectorsBetweenTwoPoints(fG,fH,fE);var fJ=Y.$8(fI.item1);var fK={x:fJ.x*(fF/2),y:fJ.y*(fF/2)};var fL=fI.item2;var fM={x:fG.x-fK.x+fL.x,y:fG.y-fK.y+fL.y};var fN={x:fG.x-fK.x-fL.x,y:fG.y-fK.y-fL.y};var fO=new Array(2);fO[0]=fM;fO[1]=fN;return fO};Y.fillMultiLineStringEndCaps=function(e,fE,fF,fG,fH){e.set_strokeStyle(fH);e.set_lineWidth(fG);var fI=fF/2;var fJ=fE.lineList;var fK=fJ.length;for(var fL=0;fL<fK;fL++){var fM=fJ[fL].pointsF;var fN=fM.length;if(fN<4||fN%2===1){continue}var fO={x:fM[0],y:fM[1]};var fP={x:fM[2],y:fM[3]};var fQ=new Array(2);fQ[0]=fO;fQ[1]=fP;var fR=Y.$0(fQ,fI,fG);Y.$2(e,fR[0],fR[1]);fO.x=fM[fN-2];fO.y=fM[fN-1];fP.x=fM[fN-4];fP.y=fM[fN-3];fQ[0]=fO;fQ[1]=fP;fR=Y.$0(fQ,fI,fG);Y.$2(e,fR[0],fR[1])}e.beginPath();Y.addMultilinePath(e,fE)};Y.$8=function(e){var fE=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/fE,y:e.y/fE}};Y.createMultiLinePath=function(e,fE){e.beginPath();Y.addMultilinePath(e,fE.multiLine)};Y.$3=function(e,fE,fF){if(BrowserSupport.BrowserSupport.CanvasLinePattern()){e.lineTo(fF.x,fF.y)}else{switch(e.get_linePattern()){case'dashed':{Y.$1(e,fE,fF,eC.defaultLineDashDashed[0],eC.defaultLineDashDashed[1]);break}case'dotted':{Y.$1(e,fE,fF,eC.defaultLineDashDotted[0],eC.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(fF.x,fF.y);break}}}};Y.$1=function(e,fE,fF,fG,fH){var fI=e.get_lineWidth();fG=fI*fG;fH=fI*fH;e.moveTo(fE.x,fE.y);var fJ=false;var fK=fG;var fL=fE.x;var fM=fE.y;var fN=fF.x-fE.x;var fO=fF.y-fE.y;var fP=fN*fN+fO*fO;fP=Math.sqrt(fP);var fQ=fN/fP;var fR=fO/fP;while(fP>0){var fS=((fP>fK)?fK:fP);var fT=fL+fS*fQ;var fU=fM+fS*fR;if(fJ){e.moveTo(fT,fU)}else{e.lineTo(fT,fU)}fP-=fS;fK-=fS;if(fK===0){fJ=!fJ;fK=(fJ?fH:fG)}fL=fT;fM=fU}};Y.$5=function(e,fE){var fF=tab.DomUtil.parseWidthFromStyle(e.style);fF=(isNaN(fF)?fE:fF);return fF};Y.$4=function(e,fE){var fF=tab.DomUtil.parseHeightFromStyle(e.style);fF=(isNaN(fF)?fE:fF);return fF};Y.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=Y;var Z=function(){};Z.__typeName='tab.CanvasUtil';Z.sizeCanvasWithHighDPISupport=function(e,fE,fF){var fG=dV.calculatePixelRatio(true);Z.setCanvasSizeAndDensify(e,fG,fF);if(!tab.DoubleUtil.isApproximatelyEqual(fG,1)){Z.scaleCanvasDrawing(fE,fG)}};Z.setCanvasSizeAndDensify=function(e,fE,fF){if(ss.isValue(e)){var fG={w:ss.Int32.trunc(fF.w*fE),h:ss.Int32.trunc(fF.h*fE)};Z.densifyCanvasUsingSize(e,fG,fF)}};Z.densifyCanvasUsingSize=function(e,fE,fF){if(ss.isValue(e)&&ss.isValue(fE)&&ss.isValue(fF)){e.width=fE.w;e.height=fE.h;e.style.width=Z.$0(fF.w);e.style.height=Z.$0(fF.h)}};Z.scaleCanvasDrawing=function(e,fE){if(ss.isValue(e)){e.pixelRatio=fE;e.scale(fE,fE)}};Z.isOverCanvasSizeLimit=function(e,fE,fF){var fG=Math.floor(fF*e*fF*fE+0.5);return fG>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};Z.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,Z.$0(e.height))};Z.$0=function(e){return e+'px'};global.tab.CanvasUtil=Z;var ba=function(){this.command=null;ss.EventArgs.call(this)};ba.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=ba;var bb=function(){};bb.__typeName='tab.CommandsTelemetryUtils';bb.getMenuItemTelemetryInfoFromMenuAndCommands=function(e){if(ss.isNullOrUndefined(e.get_commands())){return null}var fE=[];var fF=[];bb.$0(e.get_commands(),e.get_menuPrefix(),fE,fF,e.get_menuTextMayBeSensitive());var fG=fw.getMenuItemsInFlatList(e.menuItems);var fH=_.filter(fG,function(fQ){return ss.referenceEquals(fQ.name,e.get_menuItem().name)});var fI=_.filter(fE,function(fQ){return ss.referenceEquals((new tab.CommandItemWrapper(fQ)).get_name(),e.get_menuItem().name)});var fJ=_.indexOf(fH,e.get_menuItem());var fK=fI[fJ];if(ss.isValue(fK)){var fL=new tab.CommandItemWrapper(fK);var fM=_.indexOf(fE,fK);var fN=fF[fM];var fO=fL.get_readId();var fP=new dk;fP.fullMenuItemName=fN;fP.set_menuItemPrefix(e.get_menuPrefix());fP.flatCommandItemList=fE;fP.set_commandIndexInFlattenedList(fM);fP.set_commandReadId(fO);fP.set_commandName(fL.get_commandName());return fP}return null};bb.$0=function(e,fE,fF,fG,fH){var fI=tab.CommandsPresModelWrapper.create(e);fI.get_commandItems().forEach(function(fJ){var fK=new tab.CommandItemWrapper(fJ);var fL=fK.get_readId();if(!fH&&ss.isNullOrUndefined(fL)&&ss.isValue(fK.get_name())){fL=fK.get_name()}var fM=bb.joinToPrefix(fE,fL,':');fF.push(fJ);fG.push(fM);if(ss.isValue(fK.get_commands())){bb.$0(fK.get_commands(),fM,fF,fG,fH)}})};bb.joinToPrefix=function(e,fE,fF){var fG=!ss.isNullOrEmptyString(e);var fH=!ss.isNullOrUndefined(fE)&&!ss.isNullOrEmptyString(fE);var fI=new ss.StringBuilder('');if(fG){fI.append(e)}if(fG&&fH){fI.append(fF)}if(fH){fI.append(fE)}return fI.toString()};global.tab.CommandsTelemetryUtils=bb;var bc=function(){this.$2=new tab.DisposableHolder};bc.__typeName='tab.CommonBannerProviderImpl';global.tab.CommonBannerProviderImpl=bc;var bd=function(){this.$2=new tab.DisposableHolder};bd.__typeName='tab.CommonDialogProviderImpl';bd.$0=function(){var e=document.createElement('div');return e};global.tab.CommonDialogProviderImpl=bd;var be=function(){};be.__typeName='tab.CommonDialogProviderTelemetry';be.$1=function(e,fE,fF){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',ss.mkdict(['Title',e,'Content',fE,'Links',(_.isArray(fF)?JSON.stringify(fF):'')]))}};be.$0=function(e,fE){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var fF=ss.coalesce(fE.ErrorType,'');var fG=ss.coalesce(fE.ErrorMessage,'');var fH=ss.coalesce(fE.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',ss.mkdict(['Context',e,'ErrorType',fF,'Message',fG,'RedirectUrl',fH]))}};global.tab.CommonDialogProviderTelemetry=be;var bf=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};bf.__typeName='tab.CompletionMonitor';bf.get_instance=function(){if(ss.isNullOrUndefined(bf.$0)){bf.$0=new bf}return bf.$0};global.tab.CompletionMonitor=bf;var bg=function(){};bg.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=bg;var bh=function(e,fE){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=fE};bh.__typeName='tab.CompletionToken';global.tab.CompletionToken=bh;var bi=function(e,fE,fF){this.$3=null;this.$2=null;this.$1=null;this.$4=false;this.$5=null;this.$2$1=null;Q.call(this);this.$3=e;this.$2=fE;this.$1=fF;this.$5=ss.mkdel(this,this.$0);this.$4=false;if(fF==='textscan'){var fG=tab.DataConnectionUtils.stripDirectoryFromPath(e);if(!ss.referenceEquals(fG,e)){this.$4=true}}};bi.__typeName='tab.ConnectionMissingFileDialog';global.tab.ConnectionMissingFileDialog=bi;var bj=function(e){this.$0=null;this.$0=e};bj.__typeName='tab.CssPropertiesFormattingConverterObject';global.tab.CssPropertiesFormattingConverterObject=bj;var bk=function(e,fE){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bn,bl,Object]).call(this,tab.ObjectRegistry.newView(bn).call(null,[e.viewModel]),e,fE)};bk.__typeName='tab.CustomViewsComponent';global.tab.CustomViewsComponent=bk;var bl=function(){this.viewModel=null};bl.__typeName='tab.CustomViewsProps';global.tab.CustomViewsProps=bl;var bm=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsArea=this.getElementBySelector('.tab-cv-myViews');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};bm.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=bm;var bn=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[bo]).call(this,e,new bm);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};bn.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=bn;var bo=function(){this.$q=[];this.$r=[];this.$p=bo.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.$s=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);if(tsConfig.allow_custom_views){tab.StartupUtils.callOnceAfterInitialBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};bo.__typeName='tab.CustomViewsViewModel';bo.$0=function(e,fE){return ss.compareStrings(e.name,fE.name,true)};global.tab.CustomViewsViewModel=bo;var bp=function(){};bp.__typeName='tab.DashboardAuthoringButtonTelemetry';bp.$1=function(){return tab.FeatureFlags.isEnabled('BasicButtonObjectTelemetry')&&tab.FeatureFlags.isEnabled('BasicButtonObject')};bp.logNavigateButtonByClickEvent=function(e,fE){bp.$0(bp.$4,ss.mkdict(['AuthoringMode',(e?bp.$3:bp.$7),'ClickType',(fE?bp.$2:bp.$6)]))};bp.logNavigateButtonByKeyboardEvent=function(e){bp.$0(bp.$4,ss.mkdict(['AuthoringMode',(e?bp.$3:bp.$7),'ClickType',bp.$5]))};bp.$0=function(e,fE){if(bp.$1()){tab.OnlineAnalyticsClient.logEvent(e,fE)}};global.tab.DashboardAuthoringButtonTelemetry=bp;var bq=function(){};bq.__typeName='tab.DashboardAuthoringObjectsPaneTelemetry';bq.logAddNewObjectToDashboardEvent=function(e,fE,fF){tab.OnlineAnalyticsClient.logEvent(bq.$3,ss.mkdict(['MethodAdded',(e?'dragDrop':'doubleClick'),'IsTiled',fE,'AddedObjectType',fF]))};global.tab.DashboardAuthoringObjectsPaneTelemetry=bq;var br=function(){};br.__typeName='tab.DashboardLoadCompleteEventProperties';global.tab.DashboardLoadCompleteEventProperties=br;var bs=function(){};bs.__typeName='tab.DashboardLoadCompleteTelemetry';bs.$b=function(){return tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('DashboardLoadCompleteTelemetry')};bs.track=function(e){if(ss.isValue(e)&&bs.$b()){tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(function(fE){var fF={};bs.$0(e,fF);bs.$1(e,fE,fF);tab.OnlineAnalyticsClient.logEvent('Dashboard_LoadComplete',fF)})}};bs.$0=function(e,fE){fE['IsAutoGenerated']=bs.$9(e);fE['CurrentDeviceType']=e.get_currentDeviceLayout();fE['DetectedDeviceType']=tabBootstrap.ViewerBootstrap.get_instance().get_detectedDeviceType();if(ss.isNullOrUndefined(e.get_dashboardSize())){return}fE['DashboardWidth']=e.get_dashboardSize().w;fE['DashboardHeight']=e.get_dashboardSize().h};bs.$1=function(e,fE,fF){var fG=tab.ModelUtils.getVisualModelsFromDashboard(e);var fH=0;var fI=0;var fJ=0;var fK=0;var fL=new ss.ObjectEnumerator(fG);try{while(fL.moveNext()){var fM=fL.current();var fN=fM.value;var fO=fE.computeVizScrollCapabilities(fN);if(tab.ScrollCapabilitiesUtil.hasCapabilities(fO,3)){fH+=1}else if(tab.ScrollCapabilitiesUtil.hasCapabilities(fO,1)){fI+=1}else if(tab.ScrollCapabilitiesUtil.hasCapabilities(fO,2)){fJ+=1}if(bs.$a(fN)){fK+=1}}}finally{fL.dispose()}fF['BothScrollableVizCount']=fH;fF['FilterZonesCount']=bs.$2(e);fF['FloatingZonesCount']=bs.$3(e);fF['HighlighterZonesCount']=bs.$4(e);fF['ImageZonesCount']=bs.$5(e);fF['LegendZonesCount']=bs.$6(e);fF['PannableMapCount']=fK;fF['ParameterZonesCount']=bs.$7(e);fF['TextZonesCount']=bs.$8(e);fF['XScrollableVizCount']=fI;fF['YScrollableVizCount']=fJ;fF['VizCount']=ss.getKeyCount(fG);fF['ViewId']=tsConfig.current_view_id;fF['SheetType']=tsConfig.current_sheet_type};bs.$a=function(e){return e.get_isMap()&&e.get_vizNavigationSetting()!=='fixed'};bs.$5=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_zoneCommonModel().get_zoneType()==='bitmap'}).length};bs.$6=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_zoneCommonModel().get_zoneType()==='color'||fE.get_zoneCommonModel().get_zoneType()==='map'||fE.get_zoneCommonModel().get_zoneType()==='shape'||fE.get_zoneCommonModel().get_zoneType()==='size'}).length};bs.$2=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_zoneCommonModel().get_zoneType()==='filter'}).length};bs.$3=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_isFloating()}).length};bs.$4=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_zoneCommonModel().get_zoneType()==='highlighter'}).length};bs.$7=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_zoneCommonModel().get_zoneType()==='paramctrl'}).length};bs.$8=function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(fE){return fE.get_zoneCommonModel().get_zoneType()==='text'}).length};bs.$9=function(e){return tsConfig.current_sheet_type!=='story'&&e.get_isDashboard()&&e.get_currentDeviceLayout()!=='default'&&!ss.isNullOrUndefined(e.get_autoGeneratedDeviceLayouts())&&ss.contains(e.get_autoGeneratedDeviceLayouts(),e.get_currentDeviceLayout())};global.tab.DashboardLoadCompleteTelemetry=bs;var bt=function(e,fE){this.dashboardNode=null;spiff.Template.call(this,$(e));if(fE){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bt.__typeName='tab.DashboardTemplate';bt.newDashboardTemplate=function(e){var fE=(e?"<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>":"<div id='tab-dashboard-region' class='tab-dashboard'/>");return new bt(fE,e)};global.tab.DashboardTemplate=bt;var bu=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bv]).call(this,e,bt.newDashboardTemplate(e.get_hasGutter()));this.$e=e;this.$e.add_formatsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_formatsChanged(ss.mkdel(this,this.$9))})));this.$e.add_newZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_newZone(ss.mkdel(this,this.$a))})));this.$e.add_vizRebuildStart(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_vizRebuildStart(ss.mkdel(this,this.$c))})));this.$e.add_sizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_sizeChanged(ss.mkdel(this,this.$b))})))};bu.__typeName='tab.DashboardView';bu.findDashboard=function(){return $('.tab-dashboard')};bu.isDashboardNode=function(e){return $(e).hasClass('tab-dashboard')};bu.uniquefyClonedFilterRadioElements=function(e){var fE=e.find('input:radio');for(var fF=0;fF<fE.length;++fF){var fG=fE[fF];var fH=ss.coalesce(fG.getAttribute('name'),'');fH+='_%%%CLONE%%%';fG.setAttribute('name',fH)}};global.tab.DashboardView=bu;var bv=function(e){this.$o={};this.$n=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$9));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$8));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$7));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$a));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$m));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$i));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$b));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$h));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$b));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$h));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$f))})));this.viewControllers=[];this.$2()};bv.__typeName='tab.DashboardViewModel';bv.new$1=function(e){return new bv(e)};global.tab.DashboardViewModel=bv;var bw=function(e,fE){React.Component.call(this,e,fE)};bw.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bw;var bx=function(){bH.call(this);this.successMessage=tab.Strings.DataAlertCreateSuccess;this.failureMessage=tab.Strings.DataAlertCreateFailure};bx.__typeName='tab.DataAlertCreatePersister';bx.new$1=function(){return new bx};global.tab.DataAlertCreatePersister=bx;var by=function(e){this.$0=null;bI.call(this);this.$0=e};by.__typeName='tab.DataAlertCreatePreparer';by.new$1=function(e){return new by(e)};global.tab.DataAlertCreatePreparer=by;var bz=function(e,fE){this.$G=null;this.$F=null;this.$E=null;this.$L=null;this.$K=false;this.$J=false;this.$H='';this.$I=null;this.users=null;this.$3$1=false;this.$3$2=false;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);this.set_emptySearch(true);if(tsConfig.is_guest){return}this.$F=e;this.$E=fE;this.$q();this.$o();this.refresh()};bz.__typeName='tab.DataAlertCreateViewModel';bz.new$1=function(e,fE){return new bz(e,fE)};global.tab.DataAlertCreateViewModel=bz;var bA=function(e,fE,fF){this.$q=null;this.$s=null;this.$o=null;this.$p=null;this.$r=null;this.$t=false;this.$v=null;this.$u=false;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.dialogPosition=null;this.$3$4=null;this.$3$5=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$v=e;this.$r=fE;this.$t=tab.FeatureFlags.isEnabled('SuspendDataAlerts')&&fF;e.add_showOrUpdateDialog(ss.mkdel(this,this.$i));this.$h();this.$i()};bA.__typeName='tab.DataAlertDialogViewModel';bA.get_instance=function(){return bA.$0};bA.new$1=function(e,fE,fF){return new bA(e,fE,fF)};bA.handleDataAlertClick=function(e){bJ.logAlertToolbarButtonClicked();if(!ss.isNullOrEmptyString(e)){bA.showNotificationAndLogError(e,'platformPropagatedError');return}tab.DataAlertClientCommands.newDataAlert(function(){bA.showNotificationAndLogError(tab.Strings.DataAlertInitFailure,'genericDataAlertInitError')})};bA.showNotificationAndLogError=function(e,fE){bJ.logAlertToolbarButtonError(fE,e);dw.showNotification(e,null)};global.tab.DataAlertDialogViewModel=bA;var bB=function(e){this.$0='';bH.call(this);this.$0=e;this.successMessage=tab.Strings.DataAlertUpdateSuccess;this.failureMessage=tab.Strings.DataAlertUpdateFailure};bB.__typeName='tab.DataAlertEditPersister';bB.new$1=function(e){return new bB(e)};bB.getDifferenceInUserLists=function(e,fE){var fF=_.difference(fE.map(function(fJ){return fJ.id}),e.map(function(fJ){return fJ.id}));var fG=[];for(var fH=0;fH<fF.length;fH++){var fI={$:fF[fH]};ss.arrayAddRange(fG,fE.filter(ss.mkdel({id:fI},function(fJ){return fJ.id===this.id.$})))}return fG};bB.getOldUsersToRemove=function(e,fE){return bB.getDifferenceInUserLists(fE,e)};global.tab.DataAlertEditPersister=bB;var bC=function(e,fE){this.$7=null;this.$5=false;this.$6=false;bI.call(this);this.dataAlert=new tab.DataAlert.$ctor1(e);this.$7=fE};bC.__typeName='tab.DataAlertEditPreparer';bC.new$1=function(e,fE){return new bC(e,fE)};global.tab.DataAlertEditPreparer=bC;var bD=function(){};bD.__typeName='tab.DataAlertEditUrlHelper';bD.isDataAlertEdit=function(){var e=bD.editDataAlertId();return!ss.isNullOrEmptyString(e)};bD.editDataAlertId=function(){var e=tabBootstrap.Utility.get_urlLocationSearchParams()[bD.editDataAlertUrlParam];return(ss.isNullOrEmptyString(e)?'':e)};bD.isResumeDataAlert=function(){var e=tabBootstrap.Utility.get_urlLocationSearchParams()[bD.resumeDataAlertUrlParam];return!ss.isNullOrEmptyString(e)&&ss.equalsT(e,'true')};global.tab.DataAlertEditUrlHelper=bD;var bE=function(e){spiff.PureRenderComponent.call(this,e)};bE.__typeName='tab.DataAlertErrorComponent';global.tab.DataAlertErrorComponent=bE;var bF=function(e,fE,fF){this.$h=null;this.$e=null;this.$f=null;this.$g=false;this.$3$1=null;this.$3$2=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$h=e;this.$e=fE;this.$g=fF;this.$c()};bF.__typeName='tab.DataAlertErrorViewModel';global.tab.DataAlertErrorViewModel=bF;var bG=function(){};bG.__typeName='tab.DataAlertPageReloadHandler';bG.removeLeftoverRefline=function(e){var fE=e.pm;if(ss.isNullOrUndefined(fE)){return}var fF=G.get_instance().get_rightAreaDrawerViewModel();var fG=ss.isNullOrEmptyString(bD.editDataAlertId())&&fE.dataAlertDialogMode==='edit'&&!fF.get_isOpen();var fH=fE.dataAlertDialogMode==='background';if(!ss.isNullOrEmptyString(fE.referenceLineId)&&!fF.get_isOpen()&&(fG||fH)){var fI=new tab.CloseDataAlertDialogCmd;fI.set_noExceptionDialog(true);fI.invoke()}};global.tab.DataAlertPageReloadHandler=bG;var bH=function(){this.successMessage=null;this.failureMessage=null;this.$1$1=null;this.$1$2=null};bH.__typeName='tab.DataAlertPersisterBase';global.tab.DataAlertPersisterBase=bH;var bI=function(){this.dataAlert=null;this.$1$1=null;this.$1$2=null};bI.__typeName='tab.DataAlertPreparerBase';global.tab.DataAlertPreparerBase=bI;var bJ=function(){};bJ.__typeName='tab.DataAlertTelemetry';bJ.logAlertToolbarButtonClicked=function(){tab.OnlineAnalyticsClient.logEvent('DataAlert_CreateAlertButtonClicked',ss.mkdict(['ErrorMessageType','createAlertButtonClicked']))};bJ.logAlertToolbarButtonError=function(e,fE){tab.OnlineAnalyticsClient.logEvent('DataAlert_CreateAlertButtonClicked',ss.mkdict(['ErrorMessageType',e,'ErrorMessageString',fE]))};bJ.$0=function(e){tab.OnlineAnalyticsClient.logEvent('DataAlert_CloseOrSubmitButtonClicked',e)};global.tab.DataAlertTelemetry=bJ;var bK=function(){};bK.__typeName='tab.DataAlertTelemetryConstants';global.tab.DataAlertTelemetryConstants=bK;var bL=function(e,fE){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[bN]).call(this,e,fE);this.dataHighlighterViewModel=e;this.$m=fE.domRoot;this.dataHighlighterContentElement=fE.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=fE.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=fE.get_zoneTitleRegionRootElement();this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_domainItemsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_domainItemsChanged(ss.mkdel(this,this.$9));this.$g()})))};bL.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=bL;var bM=function(){};bM.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=bM;var bN=function(e,fE,fF){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=null;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=fE;this.$8=fF;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=ss.arrayClone(this.$5.get_fullDomainItemSet().dataHighlighterItems);if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)&&this.$8.get_hasTitle()){this.$b=this.$8.get_model().pm.zoneTitle}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};bN.__typeName='tab.DataHighlighterViewModel';bN.$0=function(e,fE){if(e.length!==fE.length){return true}else{for(var fF=0;fF<e.length;fF++){if(!ss.referenceEquals(e[fF].text,fE[fF].text)){return true}}}return false};global.tab.DataHighlighterViewModel=bN;var bO=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};bO.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=bO;var bP=function(e,fE,fF){this.$1=null;P.call(this,e,fE,fF);this.$1=new ch(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};bP.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=bP;var bQ=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var fE=new Date;this.$p=bQ.$4(bQ.$2(e.monthToShow)||fE);this.$B=bQ.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var fF=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());fF.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(fG){spiff.EventUtil.stopEvent$2(fG)});this.$l()};bQ.__typeName='tab.DatePicker';bQ.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};bQ.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};bQ.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};bQ.$1=function(e,fE,fF,fG){if(e+fE>fG){e=fG-fE;if(e<fF){e+=Math.ceil((fF-e)/2)}}return e};bQ.$0=function(e,fE){return(e+fE+14)%7};bQ.$5=function(e,fE){return e.getFullYear()===fE.getFullYear()&&e.getMonth()===fE.getMonth()&&e.getDate()===fE.getDate()};global.tab.DatePicker=bQ;var bR=function(e,fE,fF,fG,fH,fI,fJ,fK,fL){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(fE)?null:new Date(fE.getTime()));this.minDate=(ss.isNullOrUndefined(fF)?null:new Date(fF.getTime()));this.maxDate=(ss.isNullOrUndefined(fG)?null:new Date(fG.getTime()));this.firstDayOfWeek=ss.coalesce(fH,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(fI)?['S','M','T','W','T','F','S']:ss.arrayClone(fI));this.todayFormatTemplate=(ss.isNullOrUndefined(fJ)?'Today: {0}':fJ);this.monthYearFormatter=(ss.isNullOrUndefined(fK)?function(fM){return ss.localeFormatDate(bQ.$2(fM),'MMMM yyyy')}:fK);this.fullDateFormatter=(ss.isNullOrUndefined(fL)?function(fM){return ss.localeFormatDate(bQ.$2(fM),'MMMM d, yyyy')}:fL)};bR.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=bR;var bS=function(){};bS.__typeName='tab.DetailedErrorDialog';bS.$1=function(e){var fE=ss.arrayClone(ss.netSplit(e,['<br>','<br/>','\r\n','\r','\n','<li>','<ul>','</ul>'],null,1));var fF=fE[0];ss.remove(fE,fF);var fG=[];ss.arrayInsertRange(fG,0,fE);var fH=fG;return{item1:fF,item2:fH}};bS.$0=function(e){var fE={};if(ss.isValue(e)){for(var fF=0;fF<e.length;fF++){var fG=e[fF];fE[fG.displayText]=fG.url}}return fE};bS.show=function(e,fE,fF){var fG=bS.$1(e);var fH=bS.$0(fF);var fI={errorDialogTitle:fE,errorShortMessage:fG.item1,errorDetails:Array.prototype.slice.call(fG.item2),errorCodeId:0,errorHelpLink:'https://www.tableau.com/support/',issueHelperLinks:JSON.stringify(fH),queryDetails:'',useCopyCommand:false};var fJ='doc:update-detailed-error-dialog-event';try{tab.ApplicationModel.get_instance().raiseNotification(fJ,fI,null)}catch(fK){var exception=ss.Exception.wrap(fK);tab.ErrorTrace.report(new ss.Exception('Error when showing the error dialog.',exception))}};global.tab.DetailedErrorDialog=bS;var bT=function(){};bT.__typeName='tab.DeviceLayoutToolbarButtonBuilder';bT.$3=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().get_deviceType();if(e==='phone'||e==='tablet'){return'desktop'}else{return tabBootstrap.ViewerBootstrap.get_instance().get_detectedDeviceType()}};bT.get_isDeviceLayoutSelectorEnabled=function(){var e=tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()&&!tsConfig.isVizPortal;var fE=ss.isValue(tsConfig.current_custom_view_id);return tab.FeatureFlags.isEnabled('SelectDeviceLayoutOnWeb')&&!tsConfig.isPublic&&!e&&!fE};bT.buildViewModel=function(e,fE,fF){if(!bT.get_isDeviceLayoutSelectorEnabled()){return null}var fG=bT.$3();if(tabBootstrap.ViewerBootstrap.get_instance().get_detectedDeviceType()==='desktop'||!bT.$0(fG,e)){return null}var fH=function(){tab.ModuleManager.load(tab.IDeviceLayoutSelectorModule).call(null,[]).done(function(fI){var fJ=fI.buildDialogContent(fG,fE);fF.show(fJ)})};return new eO(bT.$2(fG),bT.$1(fG),fH)};bT.$2=function(e){switch(e){case'desktop':{return tab.Strings.DeviceLayoutSelectorDesktopLayoutToolbarButtonLabel}case'tablet':{return tab.Strings.DeviceLayoutSelectorTabletLayoutToolbarButtonLabel}case'phone':{return tab.Strings.DeviceLayoutSelectorPhoneLayoutToolbarButtonLabel}default:{return''}}};bT.$1=function(e){switch(e){case'desktop':{return'tab-icon-desktopLayout'}case'tablet':{return'tab-icon-tabletLayout'}case'phone':{return'tab-icon-phoneLayout'}default:{return''}}};bT.$0=function(e,fE){var fF=fE.indexOf(tabBootstrap.ViewerBootstrap.get_instance().get_deviceType())!==-1;var fG=fE.indexOf(e)!==-1;return fF||fG};global.tab.DeviceLayoutToolbarButtonBuilder=bT;var bU=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);e.withDashboard(ss.mkdel(this,this.$2))};bU.__typeName='tab.DeviceLayoutViewModel';global.tab.DeviceLayoutViewModel=bU;var bV=function(){this.$2$1=null;spiff.BaseViewModel.call(this)};bV.__typeName='tab.DevicePreviewViewModel';bV.get_isDevicePreviewMode=function(){return tab.FeatureParamsLookup.getBool(57)};bV.getZoomRatio=function(e,fE){var fF=0.25;var fG=e/fE;if(fG<fF){fG=fF}if(fG>1){fG=1}return fG};global.tab.DevicePreviewViewModel=bV;var bW=function(){React.Component.call(this)};bW.__typeName='tab.DialogHostComponent';global.tab.DialogHostComponent=bW;var bX=function(){this.$8=false;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};bX.__typeName='tab.DialogHostViewModel';global.tab.DialogHostViewModel=bX;var bY=function(){};bY.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=bY;var bZ=function(e,fE){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[cd,cb,Object]).call(this,tab.ObjectRegistry.newView(cd).call(null,[e.viewModel]),e,fE)};bZ.__typeName='tab.DownloadComponent';global.tab.DownloadComponent=bZ;var ca=function(e,fE,fF,fG){this.$4=null;this.$3=null;this.$5=null;this.$6=null;this.$2=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(fE,'message');tab.Param.verifyString(fF,'url');tab.Param.verifyString(fG,'urlTarget');this.$4=e;this.$3=fE;this.$5=fF;this.$6=fG};ca.__typeName='tab.DownloadFileDialog';ca.$0=function(e){var fE=React.createElement(SharedWidgets.ButtonWidget,{handleClick:function(fG){e()},buttonType:1,testId:'CancelBtn',children:tab.Strings.DialogButtonCancel});var fF=spiff.DOMElements.div({key:'cancel-button-wrapper-key',children:fE});return fF};global.tab.DownloadFileDialog=ca;var cb=function(){this.viewModel=null};cb.__typeName='tab.DownloadProps';global.tab.DownloadProps=cb;var cc=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};cc.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=cc;var cd=function(e){this.$i=null;this.$h=null;this.$g=null;this.$j=false;ss.makeGenericType(spiff.BaseView$1,[ce]).call(this,e,new cc);this.$i=e;this.$j=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<715;if(this.$j){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};cd.__typeName='tab.DownloadView';global.tab.DownloadView=cd;var ce=function(){this.$2$1=null;spiff.BaseViewModel.call(this)};ce.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=ce;var cf=function(e){spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};cf.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=cf;var cg=function(e,fE){this.$P=null;cf.call(this,e);this.$P=fE;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};cg.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=cg;var ch=function(e,fE,fF){this.$P=null;this.urlToLoadDialogContent=null;cf.call(this,e);this.$P=fF;this.urlToLoadDialogContent=fE;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};ch.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=ch;var ci=function(e){this.$2=null;this.$3=false;this.$2$1=null;Q.call(this);this.$2=e};ci.__typeName='tab.EditConnectionInformationDialog';global.tab.EditConnectionInformationDialog=ci;var cj=function(){};cj.__typeName='tab.EmailValidator';cj.validate=function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>cj.maxEmailLength){return false}var fE=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return fE.test(e)};global.tab.EmailValidator=cj;var ck=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-extension-empty'></div>"))};ck.__typeName='tab.EmptyExtensionTemplate';global.tab.EmptyExtensionTemplate=ck;var cl=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};cl.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=cl;var cm=function(e){ss.makeGenericType(spiff.BaseView$1,[cn]).call(this,e,new cl)};cm.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=cm;var cn=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};cn.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=cn;var co=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};co.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=co;var cp=function(){this.$0=null;this.$0={}};cp.__typeName='tab.ExportHelper';global.tab.ExportHelper=cp;var cq=function(e){this.$1=null;spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.$1=e;this.get_frame().prop('name',this.$1);this.get_frame().prop('id',this.$1);var fE={position:'absolute',top:0+'px',left:0+'px'};this.get_container().css(fE);this.get_frame().css({border:'0px none'})};cq.__typeName='tab.ExtensionIFrameTemplate';global.tab.ExtensionIFrameTemplate=cq;var cr=function(e){this.content=null;spiff.Template.call(this,$(ss.formatString("<div class='tab-extension-error'>{0}</div>",e)));var fE={'text-align':'center'};this.domRoot.css(fE)};cr.__typeName='tab.ExtensionLoadErrorTemplate';global.tab.ExtensionLoadErrorTemplate=cr;var cs=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-extension'></div>"))};cs.__typeName='tab.ExtensionZoneTemplate';global.tab.ExtensionZoneTemplate=cs;var ct=function(e,fE){this.$o=null;this.$m=null;this.$n=null;this.$k=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[cu]).call(this,e,new cs);this.$o=fE;this.get_viewModel().add_extensionZoneUpdated(ss.mkdel(this,this.$b));this.get_viewModel().add_refreshExtensionZone(ss.mkdel(this,this.$b));this.$o.add_propertyChanged(ss.mkdel(this,this.$g));this.$o.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_extensionZoneUpdated(ss.mkdel(this,this.$b));this.get_viewModel().remove_refreshExtensionZone(ss.mkdel(this,this.$b));this.$o.remove_propertyChanged(ss.mkdel(this,this.$g));this.$o.remove_resizeZone(ss.mkdel(this,this.$c));if(ss.isValue(this.$l)){this.$l.dispose()}})));this.$k=tab.ModuleManager.load$1('@tableau/api-platform-js',[]).pipe(function(fF){return fF})};ct.__typeName='tab.ExtensionZoneView';global.tab.ExtensionZoneView=ct;var cu=function(e,fE){this.$9=null;this.$c=null;this.$a=false;this.$b='initial';this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$9=e;this.$c=fE;this.$9.add_extensionZoneUpdated(ss.mkdel(this,this.handleExtensionZoneUpdated));tab.ApplicationModel.get_instance().get_extensionPermissionsCache().add_updated(ss.mkdel(this,this.$5));tab.ApplicationModel.get_instance().registerNotificationHandler('doc:block-extension-event',ss.mkdel(this,this.$2));if(tsConfig.is_authoring){tab.ApplicationModel.get_instance().registerNotificationHandler('doc:reload-add-in-event',ss.mkdel(this,this.$8))}this.$7();this.disposables.add(ss.mkdel(this,function(){this.$9.remove_extensionZoneUpdated(ss.mkdel(this,this.handleExtensionZoneUpdated));tab.ApplicationModel.get_instance().get_extensionPermissionsCache().remove_updated(ss.mkdel(this,this.$5));if(tsConfig.is_authoring){tab.ApplicationModel.get_instance().unRegisterNotificationHandler('doc:reload-add-in-event',ss.mkdel(this,this.$8))}tab.ApplicationModel.get_instance().unRegisterNotificationHandler('doc:block-extension-event',ss.mkdel(this,this.$2))}))};cu.__typeName='tab.ExtensionZoneViewModel';global.tab.ExtensionZoneViewModel=cu;var cv=function(e){this.$3=null;this.$2=null;spiff.PureRenderComponent.call(this,e);this.$3=ss.mkdel(this,function(fE){this.$2=fE;this.$1()})};cv.__typeName='tab.FilePickerComponent';global.tab.FilePickerComponent=cv;var cw=function(){this.allowedFileExtensions=null;this.allowMulti=false};cw.__typeName='tab.FilePickerConfig';global.tab.FilePickerConfig=cw;var cx=function(e,fE){this.$6=null;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$6=e;this.$7=fE};cx.__typeName='tab.FilePickerViewModel';cx.createFilePickerViewModel=function(e,fE){return new cx(e,fE)};global.tab.FilePickerViewModel=cx;var cy=function(e){eo.call(this,e)};cy.__typeName='tab.FileReconnectWidget';global.tab.FileReconnectWidget=cy;var cz=function(){};cz.__typeName='tab.FontMetricsLogger';cz.logUIStabilized=function(){cz.$0('UI Stabilized')};cz.logFontsLoaded=function(){cz.$0('AllFontsDownloaded')};cz.$0=function(e){tabBootstrap.MetricsController.logMetricsEvent(e,128)};global.tab.FontMetricsLogger=cz;var cA=function(){this.normalizeFont=null;this.normalizeFont=(BrowserSupport.BrowserSupport.IsIE()?cA.$0:cA.$2)};cA.__typeName='tab.FontNormalizer';cA.instance=function(){if(ss.isNullOrUndefined(cA.$4)){cA.$4=new cA;cA.$1()}return cA.$4};cA.$0=function(e){if(tab.MiscUtil.isNullOrEmpty$3(e)){return e}var fE=e.split(' ');var fF;var fG=false;for(var fH=0;fH<fE.length;++fH){fF=cA.$3[fE[fH]];if(!(typeof(fF)==='undefined')){fG=true;fE[fH]=fF}}if(fG){return fE.join(' ')}return e};cA.$2=function(e){return e};cA.$1=function(){if(ss.isValue(cA.$3)){return}if(BrowserSupport.BrowserSupport.IsIE()){cA.$3={};cA.$3['華康中明體']='DLCMingMedium';cA.$3['華康粗明體']='DLCMingBold';cA.$3['細明體']='Ming Light';cA.$3['新細明體']='PMingLiU';cA.$3['細明體-ExtB']='MingLiU-ExtB';cA.$3['新細明體-ExtB']='PMingLiU-ExtB';cA.$3['MS宋体']='MS Song';cA.$3['新宋体']='NSimSun';cA.$3['中易宋体']='SimSun';cA.$3['宋体']='SimSun';cA.$3['宋体-18030']='SimSun-18030';cA.$3['新宋体-18030']='NSimSun-18030';cA.$3['宋体–方正超大字符集']='SimSun (Founder Extended)';cA.$3['宋體ExtA']='SimSun-ExtA';cA.$3['宋體ExtB']='SimSun-ExtB';cA.$3['华文宋体']='STSong';cA.$3['华文中宋']='STZhongsong';cA.$3['ＭＳ']='MS';cA.$3['明朝']='Mincho';cA.$3['Ｐ明朝']='PMincho';cA.$3['平成明朝']='Heisei Minchō';cA.$3['リュウミン']='Ry­ūbundō Minchō';cA.$3['小塚明朝']='Kozuka Minchō';cA.$3['바탕']='Batang';cA.$3['바탕체']='BatangChe';cA.$3['궁서']='Gungsuh';cA.$3['궁서체']='GungsuhChe';cA.$3['华文细黑']='STHeiti Light';cA.$3['微軟正黑體']='Microsoft JhengHei';cA.$3['微软雅黑']='Microsoft YaHei';cA.$3['MS黑体']='MS Hei';cA.$3['蒙纳黑体']='MHei';cA.$3['中易黑体']='SimHei';cA.$3['メイリオ']='Meiryo';cA.$3['ゴシック']='Gothic';cA.$3['Ｐゴシック']='PGothic';cA.$3['돋움']='Dotum';cA.$3['돋움체']='DotumChe';cA.$3['굴림']='Gulim';cA.$3['굴림체']='GulimChe';cA.$3['맑은']='Malgun';cA.$3['고딕']='Gothic';cA.$3['새굴림']='New Gulim';cA.$3['標楷體']='KaiU';cA.$3['中易楷体']='SimKai';cA.$3['楷体_GB2312']='SimKai';cA.$3['华文楷体']='STKaiti';cA.$3['中易隶书']='SimLi';cA.$3['隶书']='SimLi';cA.$3['中易仿宋']='SimFang';cA.$3['仿宋']='SimFang';cA.$3['幼圆']='SimYou';cA.$3['华文行楷']='HuaWen Xingkai';cA.$3['华文彩云']='HuaWen CaiYun';cA.$3['方正舒体']='FangZheng ShuTi';cA.$3['方正启体']='FangZheng QiTi';cA.$3['汉仪雪君体']='HanYi XueJun';cA.$3['華康少女體']='HuaKang ShaoNu';cA.$3['華康娃娃體']='HuaKang WuaWua'}};global.tab.FontNormalizer=cA;var cB=function(){};cB.__typeName='tab.FormattingTelemetryClient';cB.logRichTextEditorEvent=function(e){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Formatting.RichTextEditing',e)}};cB.logPerformanceEvent=function(e){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Formatting_Performance',e)}};global.tab.FormattingTelemetryClient=cB;var cC=function(e,fE){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var fF=$('.tb-data-source-button-retry',this.element);fF.text(tab.Strings.DataSourceGenericErrorButtonLabel);fF.on('click',function(fG){if(ss.isValue(fE)){fE()}});fF.on('keypress',function(fG){if(fG.which===13||fG.which===32){if(ss.isValue(fE)){fE()}fG.stopPropagation()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};cC.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=cC;var cD=function(e,fE,fF){this.$2=tab.Strings.DataSourceGenericTitle;this.$1=null;P.call(this,e,fE,fF);var fG=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var fH=new cC(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fG);this.$1=new cg(this.$2,fH.element);this.$1.add_closed(ss.mkdel(this,function(fI,fJ){this.$0()}))};cD.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=cD;var cE=function(e,fE,fF){this.$1=null;O.call(this,e,fF);this.$1=fE};cE.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=cE;var cF=function(e){dv.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};cF.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=cF;var cG=function(e){this.$0=null;tab.GlobalKeyboardShortcut.call(this);this.$0=e};cG.__typeName='tab.HelpKeyboardShortcut';global.tab.HelpKeyboardShortcut=cG;var cH=function(){};cH.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=cH;var cI=function(){};cI.__typeName='tab.HitTargetType';global.tab.HitTargetType=cI;var cJ=function(){dd.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};cJ.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=cJ;var cK=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))};cK.__typeName='tab.HttpsEmbedHttpAuthoringMessage';global.tab.HttpsEmbedHttpAuthoringMessage=cK;var cL=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))};cL.__typeName='tab.HttpsEmbedHttpViewMessage';global.tab.HttpsEmbedHttpViewMessage=cL;var cM=function(){};cM.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=cM;var cN=function(){};cN.__typeName='tab.IAppBannerView';global.tab.IAppBannerView=cN;var cO=function(){};cO.__typeName='tab.IClient';global.tab.IClient=cO;var cP=function(){};cP.__typeName='tab.IDashboardViewport';global.tab.IDashboardViewport=cP;var cQ=function(){};cQ.__typeName='tab.IDataAlertPreparer';global.tab.IDataAlertPreparer=cQ;var cR=function(){};cR.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=cR;var cS=function(){};cS.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=cS;var cT=function(){};cT.__typeName='tab.IFontLoader';global.tab.IFontLoader=cT;var cU=function(e,fE){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var fF={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsIos()){this.get_container().css('-webkit-overflow-scrolling','touch');fF.height=fE.get_contentHeight()+'px';fF.width=fE.get_contentWidth()+'px'}fF.overflow='auto'}this.get_container().css(fF);this.get_frame().css({border:'0px none'})};cU.__typeName='tab.IFrameTemplate';global.tab.IFrameTemplate=cU;var cV=function(){};cV.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=cV;var cW=function(){};cW.__typeName='tab.ImageUtil';cW.scaleImage=function(e,fE,fF,fG,fH){var fI=document.createElement('canvas');fI.width=fE;fI.height=fF;if(fE>0&&fF>0){var fJ=document.createElement('canvas');fJ.width=fG;fJ.height=fH;var fK=fJ.getContext('2d');fK.drawImage(e,0,0);var fL=fK.getImageData(0,0,fG,fH);var fM=fI.getContext('2d');var fN=fM.createImageData(fE,fF);cW.bilinearDownSampleAlgorithm(fL,fN);fM.putImageData(fN,0,0)}return fI};cW.bilinearDownSampleAlgorithm=function(e,fE){var fF=e.width;var fG=e.height;var fH=fF/fE.width;var fI=fG/fE.height;var fJ=fH;var fK=fI;var fL=e.data;var fM=fE.data;var fN=new Array(fM.length);for(var fO=0;fO<fN.length;fO++){fN[fO]=0}var fP=1/(fH*fI);var fQ=0;var fR=0;var fS=false;var fT,fU;fT=fU=0;var fV=fP;var fW=0;var fX=0;var fY=0;var fZ=4*fE.width;for(var ga=0;ga<fG;ga++){fJ=fH;for(var gb=0;gb<fF;gb++){var gc=fL[fQ];var gd=fL[fQ+1];var ge=fL[fQ+2];var gf=fL[fQ+3];fV=fP;if(fS){fV=fT;fX=fU;if(fJ<1){fX*=fJ}var gg=fR+fZ;fN[gg]+=gc*fX;fN[gg+1]+=gd*fX;fN[gg+2]+=ge*fX;fN[gg+3]+=gf*fX}if(fJ<1){fW=fV*(1-fJ);fV*=fJ;if(fS){fY=fU*(1-fJ);var gh=fR+fZ;fN[gh+4]+=gc*fY;fN[gh+5]+=gd*fY;fN[gh+6]+=ge*fY;fN[gh+7]+=gf*fY}fN[fR+4]+=gc*fW;fN[fR+5]+=gd*fW;fN[fR+6]+=ge*fW;fN[fR+7]+=gf*fW}fN[fR++]+=gc*fV;fN[fR++]+=gd*fV;fN[fR++]+=ge*fV;fN[fR++]+=gf*fV;fQ+=4;fJ-=1;if(fJ<cW.$0){fJ+=fH}else{fR-=4}}fK-=1;if(fK<cW.$0){fK+=fI}else{fR-=fZ}if(fK<1){fS=true;fT=fK/(fH*fI);fU=(1-fK)/(fH*fI)}else{fS=false}}for(var gi=0;gi<fN.length;gi++){fM[gi]=fN[gi]+0.5}};global.tab.ImageUtil=cW;var cX=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};cX.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=cX;var cY=function(e,fE){this.$k=null;this.$l=null;this.$j=null;ss.makeGenericType(spiff.BaseView$1,[cZ]).call(this,e,new cX);this.$l=fE;this.$i().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$l.add_resizeZone(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$l.remove_resizeZone(ss.mkdel(this,this.$e));this.$l=null})))};cY.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=cY;var cZ=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};cZ.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=cZ;var da=function(){};da.__typeName='tab.IMovable';global.tab.IMovable=da;var db=function(){};db.__typeName='tab.ISlider';global.tab.ISlider=db;var dc=function(e,fE,fF){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(fE){this.$c=new cJ}else{this.$c=new fi}this.$b=100;this.$9=fE;this.$c.$1();this.$c.nextButton.width(fF).height(fF).css('line-height',fF+'px');this.$c.prevButton.width(fF).height(fF).css('line-height',fF+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};dc.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=dc;var dd=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};dd.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=dd;var de=function(){};de.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=de;var df=function(){};df.__typeName='tab.KeyboardHandlers';df.setAccessibilityKeyboardHandlers=function(e,fE){return spiff.EventUtil.bindWithDispose($(e),'keyup',function(fF){df.$0(fF,fE)})};df.$0=function(e,fE){switch(e.which){case 32:case 13:{if(!ss.staticEquals(fE,null)){fE()}break}default:{return}}e.preventDefault();e.stopPropagation()};global.tab.KeyboardHandlers=df;var dg=function(e){React.Component.call(this,e)};dg.__typeName='tab.LegacyErrorDialog';global.tab.LegacyErrorDialog=dg;var dh=function(e,fE){React.Component.call(this,e,fE)};dh.__typeName='tab.MapScaleComponent';global.tab.MapScaleComponent=dh;var di=function(e){this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$5=e;this.$5.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$5.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))};di.__typeName='tab.MapScaleViewModel';global.tab.MapScaleViewModel=di;var dj=function(){this.menuItems=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=false};dj.__typeName='tab.MenuItemTelemetryConfigOptions';global.tab.MenuItemTelemetryConfigOptions=dj;var dk=function(){this.flatCommandItemList=null;this.fullMenuItemName=null;this.$1$1=null;this.$1$2=0;this.$1$3=null;this.$1$4=null};dk.__typeName='tab.MenuItemTelemetryInfo';global.tab.MenuItemTelemetryInfo=dk;var dl=function(){};dl.__typeName='tab.MethodAdded';global.tab.MethodAdded=dl;var dm=function(){};dm.__typeName='tab.Metrics';dm.get_scrollW=function(){return dm.$1()};dm.get_minScrollWidth=function(){if(BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsMac()){return 60}return dm.get_scrollW()*2};dm.get_scrollH=function(){return dm.$1()};dm.get_minScrollHeight=function(){if(BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsMac()){return 60}return dm.get_scrollH()*2};dm.$1=function(){return tab.LazyUtil.lazyInitStaticField(dm,'_scrollBarSize',function(){return dm.$0()})};dm.$0=function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var fE=e.style;fE.width='100px';fE.height='100px';fE.overflow='scroll';fE.position='absolute';fE.top='0px';fE.filter='alpha(opacity=0)';fE.opacity='0';fE.left='0px';var fF=document.createElement('div');fF.style.width='400px';fF.style.height='400px';e.appendChild(fF);document.body.appendChild(e);var fG=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(fF);e=fF=null;fG=((fG>0)?fG:9);return fG};global.tab.Metrics=dm;var dn=function(){$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$0))};dn.__typeName='tab.ModifierKeyState';dn.add_modifierKeysChanged=function(e){dn.$1$1=ss.delegateCombine(dn.$1$1,e)};dn.remove_modifierKeysChanged=function(e){dn.$1$1=ss.delegateRemove(dn.$1$1,e)};dn.fireModifierKeysChanged=function(e){if(!ss.staticEquals(dn.$1$1,null)){dn.$1$1(e)}};global.tab.ModifierKeyState=dn;var dp=function(){};dp.__typeName='tab.ModulesRegistration';dp.$6=function(e){var fE=[];dp.$5(fE);var fF;if(tsConfig.debugMode||tsConfig.isUnitTestRun){var fG='vqllegacydojoui.debug';var fH=tab.ModuleManager.registerDependencyModule(fG,fG).andLoadOnDemandIf(e).moduleBeingConfigured;if(tsConfig.is_mobile){fF=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{fF=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}fE.push(fH)}else if(tsConfig.is_mobile){fF=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{fF=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}for(var fI=0;fI<fE.length;fI++){var fJ=fE[fI];fF.addDependency(fJ)}fF.waitUntilModuleReadyFunc=function(){var fK=$.Deferred();dojo.addOnLoad(function(){fK.resolve()});return fK}};dp.$5=function(e){var fE='.js.uncompressed';var fF='built-dojo/tableau/client{0}';var fG='built-dojo/dojo/dojo';var fH=(tsConfig.is_mobile?'mobile':'web');var fI=ss.formatString(fF,fH);var fJ=tab.ModuleManager.registerRawJsModule(fG,fG,'built-dojo/dojo/dojo.js.uncompressed').moduleBeingConfigured;var fK=tab.ModuleManager.registerRawJsModule(fI,fI,fI+fE).moduleBeingConfigured;e.push(fJ);e.push(fK)};dp.$3=function(e){var fE='commenting';var fF=tab.ModuleManager.registerRawJsModule(fE,'commenting.min',fE).andLoadOnDemandIf(e).andExportResultAs('Commenting').moduleBeingConfigured;var fG=tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemandIf(e).moduleBeingConfigured;dp.$0(fG);fG.addDependency(fF)};dp.$1=function(e,fE,fF){var fG=tsConfig.external_static_asset_prefix+'/css/';var fH=(tsConfig.debugMode?fF:fE);e.addDependencyOnCssFile(fG+fH+'.css')};dp.$0=function(e){var fE=tab.ModuleManager.registerRawJsModule('codemirror','codemirror-min','codemirror').andExportResultAs('CodeMirror').moduleBeingConfigured;dp.$1(fE,'codemirror-min','codemirror');e.addDependency(fE)};dp.$8=function(){if(tab.FeatureFlags.isEnabled('RichTextEditingHybridDialogWeb')){tab.ModuleManager.registerRawJsModule('@tableau/rich-text-editor','rich-text-editor.min','rich-text-editor').andShowLoadingIndicator()}else{tab.ModuleManager.register(tab.IRichTextAuthoringModule).call(null,'RichTextEditorModule',null).andShowLoadingIndicator().andExportResultAs('RichTextEditor')}};dp.$2=function(e){tab.ModuleManager.registerTypicalRawJsModule('leaflet').andLoadOnDemandIf(e);var fE='-dev';var fF='mapboxgl';var fG='/css/mapbox-gl.css';tab.ModuleManager.registerRawJsModule('mapbox-gl','mapbox-gl','mapbox-gl-dev').andLoadOnDemandIf(e).andExportResultAs(fF).moduleBeingConfigured.addDependencyOnCssFile(tsConfig.external_static_asset_prefix+fG)};dp.$7=function(e){var fE=tab.ModuleManager.registerTypicalRawJsModule('natural-language-input-box').andLoadOnDemandIf(e).andExportResultAs('NaturalLanguageInputBox').moduleBeingConfigured;var fF=tab.ModuleManager.registerTypicalRawJsModule('natural-language-fields-panel').andLoadOnDemandIf(e).andExportResultAs('NaturalLanguageFieldsPanel').moduleBeingConfigured;var fG=tab.ModuleManager.registerTypicalRawJsModule('natural-language-layout').andLoadOnDemandIf(e).moduleBeingConfigured;fG.addDependency(fE);fG.addDependency(fF)};dp.$9=function(e){tab.ModuleManager.registerTypicalRawJsModule('schema-viewer').andLoadOnDemandIf(e)};dp.$4=function(e){var fE=tab.ModuleManager.registerTypicalRawJsModule('data-alerts-panel').andLoadOnDemandIf(e).andExportResultAs('DataAlertsPanel').moduleBeingConfigured;var fF=tab.ModuleManager.register(tab.IDataAlertsPanelFactory).call(null,'DataAlertsPanel',null).andLoadOnDemandIf(e).moduleBeingConfigured;fF.addDependency(fE);dp.$0(fF)};global.tab.ModulesRegistration=dp;var dq=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};dq.__typeName='tab.NativeFontLoader';dq.$0=function(){return document['fonts']};global.tab.NativeFontLoader=dq;var dr=function(){};dr.__typeName='tab.NativePresModelsFactory';dr.newAddInLocatorPresModel=function(e){var fE=new Object;fE.addInInstanceId=e.instanceId;fE.sheetPath=new Object;fE.sheetPath.flipboardZoneId=e.dashboardPath.flipboardZoneID;fE.sheetPath.isDashboard=e.dashboardPath.isDashboard;fE.sheetPath.sheetName=e.dashboardPath.sheetName;fE.sheetPath.storyboard=e.dashboardPath.storyboard;fE.sheetPath.storyPointId=e.dashboardPath.storyPointID;return fE};dr.newVisualIdPresModel=function(e){var fE=new Object;fE.worksheet=e.worksheet;fE.dashboard=e.dashboard;fE.storyboard=e.storyboard;fE.storyPointId=e.storyPointID;fE.flipboardZoneId=e.flipboardZoneID;return fE};global.tab.NativePresModelsFactory=dr;var ds=function(){this.serverBuild=null;this.siteId=null;this.siteLuid=null;this.pod=null;this.publishedDatasourceId=null;this.unifiedDatasourceId=null;this.isReleaseStage=false};ds.__typeName='tab.NaturalLanguageInfo';global.tab.NaturalLanguageInfo=ds;var dt=function(){};dt.__typeName='tab.NaturalLanguageModuleUtil';dt.createNaturalLanguageLayoutParentElement=function(){eg.downloadAdditionalNLPFonts();var e=$(document.body);var fE=$("<div class='tab-nlbox-layout'></div>");e.append(fE);return fE.get(0)};dt.whenNaturalLanguageLayoutModuleLoaded=function(e,fE){tab.WorkgroupServerCommands.get_getSessionInfo().done(function(fF){dt.$0(fF,e,fE)}).fail(function(fF){dt.$0(null,e,fE)})};dt.$0=function(e,fE,fF){var fG=new ds;fG.serverBuild=(ss.isValue(e)?e.server.version.build:'UNKNOWN BUILD');fG.siteId=(ss.isValue(e)?(e.site.id+''):'');fG.siteLuid=(ss.isValue(e)?e.site.luid:'');fG.pod=(ss.isValue(e)?e.server.logicalServerInstanceId:'(Unknown POD)');fG.isReleaseStage=ss.isNullOrUndefined(e)||e.server.version.isReleaseStage;var fH=fG;tab.WorkgroupServerCommands.fetchDataSourcesByRepositoryUrl(function(fI){fH.publishedDatasourceId=((fI.length>0)?(fI[0].get_datasourceId()+''):'');fH.unifiedDatasourceId=((fI.length>0)?(fI[0].get_id()+''):'');tab.ModuleManager.load(tab.ISavingModule).call(null,[]).done(function(fJ){dt.$8(fE,fJ,fF,fH)})},dt.$1())};dt.$8=function(e,fE,fF,fG){var fH={buildVersion:fG.serverBuild,deploymentType:dt.$2(),displayName:tsConfig.current_user_friendly_name,domainName:tsConfig.current_user_domain_name,pod:fG.pod,sessionId:tsConfig.sessionid,siteLuid:fG.siteLuid,userId:tsConfig.current_user_id,userEmail:tsConfig.current_user_email,userName:tsConfig.current_user_name};var fI=[];fI.push({ns:'tabdoc',cmd:'get-datasource-status'});fI.push({ns:'tabdoc',cmd:'get-suggestions'});fI.push({ns:'tabdoc',cmd:'interpret-query'});fI.push({ns:'tabdoc',cmd:'interpret-scoped-query'});fI.push({ns:'tabdoc',cmd:'nlp-log-perf'});fI.push({ns:'tabdoc',cmd:'update-term'});fI.push({ns:'tabdoc',cmd:'validate-synonyms'});fI.push({ns:'tabdoc',cmd:'initialize-conversation'});fI.push({ns:'tabdoc',cmd:'discourse-parse'});var fJ=fI;var fK={isAllowed:tsConfig.allow_save_as,save:dt.$9,saveAs:dt.$a,promptToSave:dt.$7};var fL={allowTelemetry:dt.$b(fG),dashboardSpacer:fy.findDashboardContainer().get(0),dashboardViewport:$(I.dashboardViewportSelector).get(0),datasourceName:tsConfig.workbookName,datasourceUrl:dt.$1(),featureStatus:dt.$4(),feedbackFormMode:dt.$3(),finishedNlpOnboardingStage:dt.$6(),helpUrl:tab.UriUtil.makeHelpUri('ask-data',''),isReleaseStage:fG.isReleaseStage,mainLayoutType:dt.$5(),pluginPresLayer:new tab.CustomUIBlockingPluginPresentationLayer(fJ),publishedDatasourceId:fG.publishedDatasourceId,savingActions:fK,siteId:fG.siteId,siteRoot:tsConfig.site_root,siteUrlName:tsConfig.site_url_name,telemetryData:fH,updateUserNlpOnboardingStage:dt.$c,unifiedDatasourceId:fG.unifiedDatasourceId,worksheetName:tsConfig.current_sheet_name};dt.$d=fE.instance();ReactDOM.render(React.createElement(e,fL),fF)};dt.$9=function(){return dt.$d.saveNlpWorkbook(false,'')};dt.$a=function(e){return dt.$d.saveNlpWorkbook(true,e)};dt.$7=function(e){};dt.$c=function(e){var fE=ss.mkdict(['nlpOnboardingStage',e]);var fF=$.Deferred();var fG=tab.VizPortalServer.createRequest('updateUserNlpOnboardingStage',fE,function(fH){fF.resolve(fH)},function(){fF.reject()});tab.XhrUtil.helper(fG,null);return fF};dt.$1=function(){return ss.replaceAllString(tsConfig.workbook_repo_url,'ds:','')};dt.$5=function(){switch(tsConfig.nlpLayoutMode){case'exploration':{return'explorationPage'}case'landing':{return'landingPage'}default:{return'landingPage'}}};dt.$3=function(){switch(tsConfig.nlpFeedbackMode){case'full':{return'full'}case'withSlack':{return'withSlack'}case'bigQueryOnly':{return'bigQueryOnly'}case'none':{return'none'}default:{return'none'}}};dt.$6=function(){switch(tsConfig.current_user_nlp_onboarding_stage){case'None':{return'None'}case'FieldsPanel':{return'FieldsPanel'}case'NLBox':{return'NLBox'}case'Phrase':{return'Phrase'}case'Help':{return'Help'}default:{return'None'}}};dt.$2=function(){return(tsConfig.is_saas?'online':'onPrem')};dt.$b=function(e){return tsConfig.is_saas||!e.isReleaseStage&&tsConfig.nlpAllowTelemetry};dt.$4=function(){var e=['NLConversation','NLHeatMap','NLMultipleSheets'];var fE={};for(var fF=0;fF<e.length;fF++){var fG=e[fF];fE[fG.toString()]=tab.FeatureFlags.isEnabled(fG)}return fE};global.tab.NaturalLanguageModuleUtil=dt;var du=function(){};du.__typeName='tab.NeedRemoteTooltip';global.tab.NeedRemoteTooltip=du;var dv=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[dw]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);var fE=$('<div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(fF){if(fF.which===13||fF.which===32){fF.preventDefault();fF.stopPropagation();this.$9(fF)}}));this.closeDom=spiff.ClickHandler.targetAndClick(fE,ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};dv.__typeName='tab.NotificationView';global.tab.NotificationView=dv;var dw=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};dw.__typeName='tab.NotificationViewModel';dw.$0=function(e,fE){var fF=new dw;fF.set_message(e);if(ss.isValue(fE)){fF.set_autoHideTimeout(ss.unbox(fE))}return fF};dw.showGeoLocationNotification=function(e,fE,fF){var fG=dw.$0(e,fE);fG.set_displayPosition(fF);tab.ObjectRegistry.newView(cF).call(null,[fG]);EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(fG,fG.$2));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(fG,fG.hide));fG.disposables.add$1(new tab.CallOnDispose(function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(fG,fG.$2));EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(fG,fG.hide))}));fG.disposeOnHide();fG.show()};dw.showNotification=function(e,fE){dw.showCustomNotification(dv).call(null,e,fE)};dw.showCustomNotification=function(e){return function(fE,fF){var fG=dw.$0(fE,fF);tab.ObjectRegistry.newView(e).call(null,[fG]);fG.disposeOnHide();fG.show();return fG}};global.tab.NotificationViewModel=dw;var dx=function(e,fE){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',fE)};dx.__typeName='tab.OverlayImage';global.tab.OverlayImage=dx;var dy=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dy.__typeName='tab.PagableGroupListComponent';global.tab.PagableGroupListComponent=dy;var dz=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dz.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=dz;var dA=function(){};dA.__typeName='tab.PillStatus';global.tab.PillStatus=dA;var dB=function(){this.$0=new tab.DisposableHolder;this.$1=null;this.$2=null};dB.__typeName='tab.PluginFilePicker';dB.get_instance=function(){dB.$1=dB.$1||new dB;return dB.$1};dB.set_instance=function(e){dB.$1=e};dB.$0=function(e,fE){if(fE.length===0){e.reject('no-file-selected');return}tab.ModuleManager.load(tab.IFileUploadModule).call(null,[]).done(function(fF){try{fF.uploadFiles(fE).done(function(fG){fF.copyTempFileToSessionStorage(fE[0],fG).done(function(fH){var fI=new Object;fI.fileName=fE[0].name;fI.fileLocator=fH;var fJ=fI;e.resolve(fJ)})}).fail(function(fG){e.reject('upload-failed')})}catch(fG){e.reject('upload-failed')}}).fail(function(fF){e.reject('upload-failed')})};global.tab.PluginFilePicker=dB;var dC=function(e){ss.makeGenericType(spiff.BaseView$1,[dD]).call(this,e,spiff.Template.fromHtml('<div />'))};dC.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=dC;var dD=function(e,fE,fF){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(dD.$1(fE)){if($.isArray(fE)){this.data=dD.$2(fE)}else{this.data=dD.$3(fE)}}else{this.data=fE.toString()}this.$2=fF};dD.__typeName='tab.PresModelBrowserViewModel';dD.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};dD.$2=function(e){var fE=[];for(var fF=0;fF<e.length;++fF){fE.push(dD.$4(fF.toString(),e[fF]))}return fE};dD.$3=function(e){var fE=[];var fF=new ss.ObjectEnumerator(e);try{while(fF.moveNext()){var fG=fF.current();fE.push(dD.$4(fG.key,fG.value))}}finally{fF.dispose()}return fE};dD.$0=function(e){return'<strong>'+e+':</strong> '};dD.$4=function(e,fE){if(dD.$1(fE)){if($.isArray(fE)){return ss.mkdict(['text',dD.$0(e),'children',dD.$2(fE)])}else{return ss.mkdict(['text',dD.$0(e),'children',dD.$3(fE)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(fE,'{')||ss.startsWithString(fE,'['))){var fF=null;try{fF=JSON.parse(fE)}catch(fG){}if(ss.isValue(fF)){return dD.$4(e,fF)}}return dD.$0(e)+fE};global.tab.PresModelBrowserViewModel=dD;var dE=function(e,fE){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dH,dF,Object]).call(this,tab.ObjectRegistry.newView(dH).call(null,[e.viewModel]),e,fE)};dE.__typeName='tab.PublicInfoComponent';global.tab.PublicInfoComponent=dE;var dF=function(){this.viewModel=null};dF.__typeName='tab.PublicInfoProps';global.tab.PublicInfoProps=dF;var dG=function(){this.publicInfoArea=null;this.moreAboutPublicSection=null;this.viewAndAuthorInfoSection=null;spiff.Template.call(this,$("<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"));this.publicInfoArea=this.domRoot;this.moreAboutPublicSection=this.getElementBySelector('.tab-moreAboutPublicSection');this.viewAndAuthorInfoSection=this.getElementBySelector('.tab-viewAndAuthorInfoSection')};dG.__typeName='tab.PublicInfoTemplate';global.tab.PublicInfoTemplate=dG;var dH=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[dI]).call(this,e,new dG);this.$e=e;this.$d()};dH.__typeName='tab.PublicInfoView';global.tab.PublicInfoView=dH;var dI=function(){spiff.BaseViewModel.call(this)};dI.__typeName='tab.PublicInfoViewModel';dI.get_localizedViewCount=function(){var e={t:'i',v:eU.publicViewCount,s:null};return tableau.format.formatDataValue(e,null,tab.ApplicationModel.get_instance().get_numberFormat(),null,0)};global.tab.PublicInfoViewModel=dI;var dJ=function(e,fE,fF){var fG=function(fH){this.$2=false;this.$1=ss.getDefaultValue(e);this.$0=null;spiff.PureRenderComponent.call(this,fH);this.$2=false;this.$0=this.fetchAsyncDependencies().done(ss.mkdel(this,function(fI){this.$1=fI;this.$2=true}))};ss.registerGenericClassInstance(fG,dJ,[e,fE,fF],{render:function(){if(!this.$2){this.$0.done(ss.mkdel(this,function(fH){this.forceUpdate()}));return this.renderWhileWaiting()}return this.renderWithDependencies(this.$1)},fetchAsyncDependencies:null,renderWhileWaiting:null,renderWithDependencies:null},function(){return spiff.PureRenderComponent},function(){return[]});return fG};dJ.__typeName='tab.PureComponentWithAsyncDependencies$3';ss.initGenericClass(dJ,a,3);global.tab.PureComponentWithAsyncDependencies$3=dJ;var dK=function(e,fE,fF){var fG=function(fH){ss.makeGenericType(dJ,[e,fE,fF]).call(this,fH)};ss.registerGenericClassInstance(fG,dK,[e,fE,fF],{fetchAsyncDependencies:function(){return tab.ModuleManager.load(e).call(null,[])},renderWhileWaiting:function(){return null},renderWithDependencies:function(fH){return this.renderWithModule(fH)},renderWithModule:null},function(){return ss.makeGenericType(dJ,[e,fE,fF])},function(){return[]});return fG};dK.__typeName='tab.PureComponentWithModule$3';ss.initGenericClass(dK,a,3);global.tab.PureComponentWithModule$3=dK;var dL=function(){};dL.__typeName='tab.QuickFilterConstants';global.tab.QuickFilterConstants=dL;var dM=function(e){spiff.PureRenderComponent.call(this,e)};dM.__typeName='tab.QuickFilterNoninteractiveDropdownComponent';global.tab.QuickFilterNoninteractiveDropdownComponent=dM;var dN=function(e){spiff.PureRenderComponent.call(this,e)};dN.__typeName='tab.QuickFilterReadoutComponent';global.tab.QuickFilterReadoutComponent=dN;var dO=function(e){React.Component.call(this,e)};dO.__typeName='tab.RecipientPillComponent';global.tab.RecipientPillComponent=dO;var dP=function(e){React.Component.call(this,e)};dP.__typeName='tab.RecipientPillsComponent';global.tab.RecipientPillsComponent=dP;var dQ=function(e){this.$8=null;this.$9=false;this.$a=null;this.disposables=new tab.DisposableHolder;this.$3$1=null;this.$3$2=null;React.Component.call(this,e);this.$8=new tab.Debouncer(ss.mkdel(this,function(){this.$9=true}),200);this.state=this.createNewDefaultState();this.$9=false;this.$a=null};dQ.__typeName='tab.RecipientSearchComponent';global.tab.RecipientSearchComponent=dQ;var dR=function(e,fE){this.numberOfRowsInViewport=6;this.$a=false;this.$b=null;React.Component.call(this,e,fE);this.state=this.createNewDefaultState();if(this.props.shouldHideSearchComponent){this.numberOfRowsInViewport=11}};dR.__typeName='tab.RecipientSearchSelectorComponent';global.tab.RecipientSearchSelectorComponent=dR;var dS=function(e){this.$0=null;this.$0=e};dS.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=dS;var dT=function(){fd.call(this)};dT.__typeName='tab.RedoKeyboardShortcut';global.tab.RedoKeyboardShortcut=dT;var dU=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};dU.__typeName='tab.RenderAndCheckFontLoader';dU.$0=function(e,fE){var fF=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var fG=$('<div/>').css(dU.$4).css('font-family',fE.join(', ')).addClass(e);fG.append(fF);return fG};dU.$3=function(e,fE){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(fE)){return false}var fF=e.children('span')[0];var fG=fE.children('span')[0];return dU.$1(fF,fG)===0&&dU.$2(fF,fG)===0};dU.$1=function(e,fE){var fF=e.getBoundingClientRect().height;var fG=(ss.isNullOrUndefined(fE)?0:fE.getBoundingClientRect().height);return ss.compare(fF,fG)};dU.$2=function(e,fE){var fF=e.getBoundingClientRect().width;var fG=(ss.isNullOrUndefined(fE)?0:fE.getBoundingClientRect().width);return ss.compare(fF,fG)};global.tab.RenderAndCheckFontLoader=dU;var dV=function(){};dV.__typeName='tab.RenderUtil';dV.calculatePixelRatio=function(e){var fE=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){fE=tsConfig.pixelRatio}else if(!e){fE=BrowserSupport.BrowserSupport.DevicePixelRatio()}else{fE=BrowserSupport.BrowserSupport.DevicePixelRatio()/BrowserSupport.BrowserSupport.BackingStoragePixelRatio()}}return fE};dV.manualFadeAnimation=function(e,fE,fF,fG,fH,fI){var fJ=fE;var fK=fF;var fL=ss.Int32.div(fH,1000)*fG;var fM=(fF-fE)/fL;var fN=ss.Int32.div(1000,fG);var fO=null;fO=function(){if(fJ>fK){e.css('filter','alpha(opacity='+fK+')');e.css('opacity',(fK/100).toString());return}e.css('filter','alpha(opacity='+fJ+')');e.css('opacity',(fJ/100).toString());fJ+=fM;if(ss.isValue(fI)){fN+=fN}window.setTimeout(fO,fN)};window.setTimeout(fO,fN)};dV.compareBoundingClientHeight=function(e,fE){var fF=e.getBoundingClientRect().height;var fG=(ss.isNullOrUndefined(fE)?0:fE.getBoundingClientRect().height);return ss.compare(fF,fG)};dV.compareBoundingClientWidth=function(e,fE){var fF=e.getBoundingClientRect().width;var fG=(ss.isNullOrUndefined(fE)?0:fE.getBoundingClientRect().width);return ss.compare(fF,fG)};dV.ensureImageEltSize=function(e,fE){var fF=dV.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(fF,1)){var fG=$(e);fG.css('max-width',fE.w+'px');fG.css('max-height',fE.h+'px')}};global.tab.RenderUtil=dV;var dW=function(){this.disposables=new tab.DisposableHolder;this.$0=null;this.$1=null};dW.__typeName='tab.RightAreaDrawerModuleLoader';global.tab.RightAreaDrawerModuleLoader=dW;var dX=function(){this.loaderContainer=null;spiff.Template.call(this,dX.$0());this.loaderContainer=this.domRoot};dX.__typeName='tab.RightAreaDrawerModuleLoaderTemplate';dX.$0=function(){return $("<div class='tab-right-area-drawer-module-loader'></div>")};global.tab.RightAreaDrawerModuleLoaderTemplate=dX;var dY=function(e){ss.makeGenericType(spiff.BaseView$1,[dZ]).call(this,e,new dX);var fE=React.createElement(SharedWidgets.ActivitySpinnerWidget,{testId:'waiting',shouldShowUnderlay:false});window.setTimeout(ss.mkdel(this,function(){ReactDOM.render(fE,this.get_dom().loaderContainer.get(0))}),300);this.get_dom().loaderContainer.css({position:'absolute',top:0+'px',right:0+'px',bottom:0+'px',left:0+'px','box-sizing':'border-box','border-left-style':'solid','border-left-width':SharedWidgets.TabStyles.Sizing.BorderWidth+'px','border-left-color':SharedWidgets.TabStyles.Colors.L6,'background-color':SharedWidgets.TabStyles.Colors.L1,'padding-top':85+'px','text-align':'center'})};dY.__typeName='tab.RightAreaDrawerModuleLoaderView';global.tab.RightAreaDrawerModuleLoaderView=dY;var dZ=function(e){this.$5=null;this.$4=null;spiff.BaseViewModel.call(this);this.$4=e};dZ.__typeName='tab.RightAreaDrawerModuleLoaderViewModel';dZ.getContentFromType=function(e){switch(e){case 1:{return(new dZ(tab.ApplicationModel.get_instance().get_rightAreaDrawer())).loadCommentingModule()}case 2:{return(new dZ(tab.ApplicationModel.get_instance().get_rightAreaDrawer())).loadDataAlertsModule()}default:{return null}}};global.tab.RightAreaDrawerModuleLoaderViewModel=dZ;var ea=function(){this.drawerContainer=null;spiff.Template.call(this,ea.$0());this.drawerContainer=this.domRoot};ea.__typeName='tab.RightAreaDrawerTemplate';ea.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='right-panel'></div>"):$("<div class='tab-right-area-drawer'></div>"))};global.tab.RightAreaDrawerTemplate=ea;var eb=function(e){ss.makeGenericType(spiff.BaseView$1,[ec]).call(this,e,new ea);this.get_viewModel().add_open(ss.mkdel(this,this.$a));this.get_viewModel().add_close(ss.mkdel(this,this.$9));this.get_viewModel().add_update(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_open(ss.mkdel(this,this.$a));this.get_viewModel().remove_close(ss.mkdel(this,this.$9));this.get_viewModel().remove_update(ss.mkdel(this,this.$d))})));this.$b()};eb.__typeName='tab.RightAreaDrawerView';global.tab.RightAreaDrawerView=eb;var ec=function(e){this.$7=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$8=e;this.$8.add_updated(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updated(ss.mkdel(this,this.$4))})))};ec.__typeName='tab.RightAreaDrawerViewModel';global.tab.RightAreaDrawerViewModel=ec;var ed=function(){};ed.__typeName='tab.RightAreaDrawerViewModel$ToggleType';global.tab.RightAreaDrawerViewModel$ToggleType=ed;var ee=function(){};ee.__typeName='tab.SelectActionResolver';ee.fromNormalizedEvent=function(e,fE){var fF=e.GetSelectAction();switch(fE){case 0:{return((fF==='toggle')?'range':fF)}case 1:{return((fF==='range')?'simple':fF)}case 2:default:{return fF}}};global.tab.SelectActionResolver=ee;var ef=function(){};ef.__typeName='tab.SelectActionResolverEvent';global.tab.SelectActionResolverEvent=ef;var eg=function(){this.$6={};this.$5=null;this.$8=false;this.$7=false;this.$3=null;this.$4=null;this.$1$1=null;this.$5=eg.$0();this.$5.add_fontsReady(ss.mkdel(this,this.$1));this.$5.add_fontDownloading(ss.mkdel(this,this.$0));this.$7=true};eg.__typeName='tab.ServerFontLoader';eg.get_instance=function(){if(ss.isNullOrUndefined(eg.$1)){eg.$1=new eg}return eg.$1};eg.get_allCustomFonts=function(){return _.union(tab.ServerFonts.tableauFontNames,tab.ServerFonts.effectiveBentonSans)};eg.loadFonts=function(e){var fE=$.Deferred();eg.get_instance().get_fontsLoadedPromise().then(function(){eg.get_instance().initialize(false);eg.get_instance().registerServerLoadedFonts(e);eg.get_instance().notifyDownloadableFont(e);eg.get_instance().downloadFonts();eg.get_instance().allFontsFound();eg.get_instance().get_fontsLoadedPromise().then(function(){fE.resolve()},null)},null);return fE};eg.downloadAdditionalDrawerFonts=function(){var e=(BrowserSupport.BrowserSupport.IsHighDpi()?eg.drawerFontNames:eg.drawerLowDpiFontNames);return eg.loadFonts(e)};eg.downloadAdditionalNLPFonts=function(){var e=(BrowserSupport.BrowserSupport.IsHighDpi()?eg.nlpFontNames:eg.nlpLowDpiFontNames);return eg.loadFonts(e)};eg.$0=function(){if(BrowserSupport.BrowserSupport.FontLoader()&&BrowserSupport.BrowserSupport.Promise()&&(BrowserSupport.BrowserSupport.IsFF()||BrowserSupport.BrowserSupport.IsChrome()||BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsIos())){return new dq}return new dU};global.tab.ServerFontLoader=eg;var eh=function(){};eh.__typeName='tab.SessionViewModel';eh.onSessionRecoveryAttempt=function(){dw.showNotification(tab.Strings.SessionRecoveryWarning,null)};global.tab.SessionViewModel=eh;var ei=function(e,fE){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[em,ej,Object]).call(this,tab.ObjectRegistry.newView(em).call(null,[e.viewModel]),e,fE)};ei.__typeName='tab.ShareComponent';global.tab.ShareComponent=ei;var ej=function(){this.viewModel=null};ej.__typeName='tab.ShareProps';global.tab.ShareProps=ej;var ek=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};ek.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=ek;var el=function(){this.$6=0;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};el.__typeName='tab.ShareToggleButtonViewModel';global.tab.ShareToggleButtonViewModel=el;var em=function(e){this.$k=(tsConfig.is_mobile?390:300);this.$j=null;this.$i=false;this.$h=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[en]).call(this,e,new ek);this.$j=e;this.$j.saveSharedView();this.$a();this.$i=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$k;this.$j.add_selectedViewChanged(ss.mkdel(this,this.$g));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_selectedViewChanged(ss.mkdel(this,this.$g))})))};em.__typeName='tab.ShareView';global.tab.ShareView=em;var en=function(){this.embedCodeVersion=3;this.shareToggleButtonViewModel=null;this.$c=true;this.$2$1=null;spiff.BaseViewModel.call(this);this.$c=!this.$b();this.shareToggleButtonViewModel=new el;this.shareToggleButtonViewModel.add_originalViewSelected(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.shareToggleButtonViewModel.remove_originalViewSelected(ss.mkdel(this,this.$9))})))};en.__typeName='tab.ShareViewModel';en.$6=function(e){var fE='/javascripts/api/viz_v1.js';var fF=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(fF+'//'+e['hostname']+fE)};en.$0=function(){var e;var fE=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));fE.append(en.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));fE.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));fE.append(en.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));fE.append('} else { ');fE.append(en.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));fE.append('} ');var fF=$.Deferred();e=fF.resolve(fE.toString()).promise();return e};en.$2=function(e,fE){return en.$1({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight},fE)};en.$1=function(e,fE){var fF=new ss.StringBuilder('');var fG=en.$5();if(e.dashboardSizingMode==='automatic'||e.minWidth===0&&e.maxWidth===0){fF.append("vizElement.style.width='100%';")}else if(e.minWidth===e.maxWidth){fF.append(ss.formatString("vizElement.style.width='{0}px';",e.minWidth))}else{if(e.minWidth>0){fF.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.minWidth))}else{fF.append("vizElement.style.width='100%';")}if(e.maxWidth>0){fF.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.maxWidth))}else{fF.append("vizElement.style.maxWidth='100%';")}if(e.minWidth>0&&e.maxWidth>0&&e.minWidth!==e.maxWidth){fF.append("vizElement.style.width='100%';")}}if(e.dashboardSizingMode==='automatic'||e.minHeight===0&&e.maxHeight===0){fF.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",fE))}else if(e.minHeight===e.maxHeight){fF.append(ss.formatString("vizElement.style.height='{0}px';",e.minHeight+fG))}else{if(e.minHeight>0){fF.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.minHeight+fG))}else{fF.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",fE))}if(e.maxHeight>0){fF.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.maxHeight+fG))}else{fF.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",fE))}if(e.minHeight>0&&e.maxHeight>0&&e.minHeight!==e.maxHeight){fF.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",fE))}}return fF.toString()};en.$8=function(e){var fE=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+fE+"'></script>"};en.$5=function(){var e=0;if(tsConfig.toolbarvis){e+=27}e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};en.$7=function(){return tsConfig.facebookRedirectURI||en.$c};en.$3=function(e,fE,fF,fG){var fH=fE!==fF;var fI=e;var fJ=':'+fG+'='+(fE?'yes':'no');var fK=new RegExp(':'+fG+'=[^&]+');if(!!fI.match(fK)){if(fH){fI=fI.replace(fK,fJ)}else{fI=fI.replace(fK,'');fI=fI.replace(new RegExp('&&'),'&');fI=fI.replace(new RegExp('\\?&'),'?');fI=fI.replace(new RegExp('&$'),'');fI=fI.replace(new RegExp('\\?$'),'')}}else if(fH){if(!!fI.match(new RegExp('[?]'))){fI=fI+'&'+fJ}else{fI=fI+'?'+fJ}}return fI};en.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=en;var eo=function(e){spiff.PureRenderComponent.call(this,e);this.state={isConnectionClassSupported:false}};eo.__typeName='tab.SheetReconnectWidget';global.tab.SheetReconnectWidget=eo;var ep=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};ep.__typeName='tab.ShownEventArgs';ep.areShownArgsSame=function(e,fE){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(fE)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(fE)||ss.isValue(e)&&ss.isNullOrUndefined(fE)){return false}var fF;fF=e.origX===fE.origX;fF=fF&&e.origY===fE.origY;fF=fF&&e.shownX===fE.shownX;fF=fF&&e.shownY===fE.shownY;fF=fF&&e.position===fE.position;fF=fF&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),fE.viewport.get_dimensions());return fF};global.tab.ShownEventArgs=ep;var eq=function(){this.tooltipAnchorY=0;ep.call(this)};eq.__typeName='tab.ShownTooltipEventArgs';eq.areShownArgsSame=function(e,fE){return ep.areShownArgsSame(e,fE)&&e.tooltipAnchorY===fE.tooltipAnchorY};global.tab.ShownTooltipEventArgs=eq;var er=function(e){React.Component.call(this,e);this.state=new es};er.__typeName='tab.SimpleTextContentDialog';global.tab.SimpleTextContentDialog=er;var es=function(){this.detailsAreExpanded=false};es.__typeName='tab.SimpleTextContentDialogState';global.tab.SimpleTextContentDialogState=es;var et=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var fE=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(fE)){this.$6=ss.coalesce(fE,0)}};et.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=et;var eu=function(){};eu.__typeName='tab.Social';eu.twitterPopup=function(e,fE){var fF=$('#twitter_creator');var fG=(ss.isValue(fF)?fF.attr('content'):null);if(!ss.isNullOrEmptyString(fG)){fG=' '+fG}fE+=fG;var fH={};fH['url']=e;fH['via']='tableaupublic';fH['text']=fE;fH['related']='tableau';var fI='https://twitter.com/share?'+$.param(fH);var fJ=null;var fK='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(fI,fJ,fK)};eu.facebookPopup=function(e,fE,fF,fG,fH,fI){var fJ={};fJ['app_id']=e;fJ['link']=fE;fJ['picture']=fF;fJ['name']=fG;fJ['description']=fH;if(!!fI&&fI.length>0){fJ['redirect_uri']=fI}var fK='http://www.facebook.com/dialog/feed?'+$.param(fJ);var fL=null;var fM='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var fN=window.open(fK,fL,fM);if(ss.isValue(fN)&&typeof(fN['focus'])==='function'){fN.focus()}};eu.mailTo=function(e,fE){var fF=ss.mkdict(['body',e]);if(!!fE){fF['subject']=fE}var fG='mailto:?'+$.param(fF);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&BrowserSupport.BrowserSupport.IsSafari()){window.location.href=fG}else{var fH=window.open(fG,'MailWindow');if(ss.isValue(fH)){window.setTimeout(function(){try{if(fH.location.href==='about:blank'){fH.close()}}catch(fI){}},999)}}};global.tab.Social=eu;var ev=function(e,fE){React.Component.call(this,e,fE);var fF=e.users;var fG=((fF.length===0)?'':fF[0].friendlyName);var fH=e.groups;var fI=((fH.length===0)?'':fH[0].name);var fJ=(ss.isValue(this.props.selfServiceSchedulesModule)?this.props.selfServiceSchedulesModule.get_defaultRecurrence():null);this.state={mode:0,message:null,subject:e.defaultSubject,includeValue:'0',scheduleValue:'0',email:e.email,users:e.users,groups:e.groups,usersText:this.$0(fF.length,fG,tab.Strings.ToolbarSubscribeAddUsersPlaceholder),groupsText:this.$0(fH.length,fI,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder),recurrenceModel:fJ,sendOnlyWhenDataPresent:false,selfSubscribe:!e.isSelfSubscribeCheckboxEnabled}};ev.__typeName='tab.SubscribeComponent';global.tab.SubscribeComponent=ev;var ew=function(e){ss.makeGenericType(dJ,[tab.ISelfServiceSchedulesModule,ex,Object]).call(this,e)};ew.__typeName='tab.SubscribeComponentContainer';global.tab.SubscribeComponentContainer=ew;var ex=function(){this.schedules=null;this.defaultSubject=null;this.email=null;this.emailIsValid=null;this.users=null;this.groups=null;this.onCancel=null;this.addSubscribersComponentProps=null;this.createSubscriptions=null;this.createSubscriptionsWithSelfServiceSchedule=null;this.setEmail=null;this.subscriptionsPageUrl=null;this.userSettingsPageUrl=null;this.sendOnlyWhenDataPresentCheckboxVisible=false;this.isSelfSubscribeCheckboxEnabled=false;this.isSelfServiceSchedulesEnabled=false;this.selfServiceSchedulesModule=null};ex.__typeName='tab.SubscribeProps';global.tab.SubscribeProps=ex;var ey=function(){this.$f=[];this.$b=[];this.$d=[];this.addSubscribersViewModel=null;this.$e=false;this.$c=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;this.$3$8=null;this.$3$9=null;this.$3$10=false;this.$3$11=null;this.$3$12=null;this.$3$13=null;this.$3$14=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callOnceAfterInitialBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$d=e.filter(function(fE){return fE.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}this.incrementProps()}))}))}this.set_email(tsConfig.current_user_email);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$6)));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.disposeViewModel)));this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)));if(tab.FeatureFlags.isEnabled('UserTimeZone')){this.set_userSettingsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/user/{0}/{1}/settings',tsConfig.current_user_domain_name,tsConfig.current_user_name):ss.formatString('/#/site/{0}/user/{1}/{2}/settings',tsConfig.site_url_name,tsConfig.current_user_domain_name,tsConfig.current_user_name)))}};ey.__typeName='tab.SubscribeViewModel';ey.isSelfServiceSchedulesEnabled=function(){return tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled};global.tab.SubscribeViewModel=ey;var ez=function(e){this.$6=24;this.textAreaElement=null;this.$5=null;this.$4=null;React.Component.call(this,e);this.$5=ss.mkdel(this,function(fF){this.textAreaElement=fF});this.$4=ss.mkdel(this,function(fF){this.props.onDoneButtonClick(this.textAreaElement.value)});var fE=ss.isValue(this.props.message)&&this.props.message.length>=ez.characterWarningLimit;this.state={isError:false,isWarning:fE,warningMessage:(fE?tab.Strings.MessageCharacterLimit(this.props.message.length,ez.characterLimit):null)}};ez.__typeName='tab.SubscriptionMessageEditor';global.tab.SubscriptionMessageEditor=ez;var eA=function(e,fE,fF){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=fE;this.tabIndex=fF};eA.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=eA;var eB=function(e){eo.call(this,e)};eB.__typeName='tab.TableauServerReconnectWidget';global.tab.TableauServerReconnectWidget=eB;var eC=function(e){this.$6=null;this.$c=null;this.$d=null;this.$m=null;this.$f=null;this.$k=0;this.$h=null;this.$l=null;this.$i=false;this.$7=null;this.$8=null;this.$9=null;this.$a=null;this.$j=false;this.$e=0;this.$g=0;this.$b=null;this.dirtyRect=null;this.pixelRatio=0;this.$6=e;this.$c=new Array;this.$d=cA.instance();this.$m=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};eC.__typeName='tab.TabRenderContext2D';eC.$0=function(e){if(!tab.MiscUtil.isNullOrEmpty$3(e)){var fE=e.split(' ');for(var fF=0;fF<fE.length;fF++){var fG=fE[fF];var fH=parseFloat(fG);if(isFinite(fH)){return fH}}}return 8};global.tab.TabRenderContext2D=eC;var eD=function(e){this.textSelectable=false;this.textSelectable=e};eD.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=eD;var eE=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;this.formatIndicatorElem=null;this.chevron=null;spiff.Template.call(this,$(eE.$0(e)));var fE=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=fE('.tab-textRegion-boundary');this.contentElem=fE('.tab-textRegion-content');this.formatIndicatorElem=fE('.tab-formatThisZone');this.formatIndicatorElem.hide()};eE.__typeName='tab.TextRegionTemplate';eE.$0=function(e){var fE='';if(e>0){fE=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'>\n            <div class='tab-textRegion-boundary'>\n                <div class='tab-textRegion-content'></div>\n            </div>\n            <div class='tab-formatThisZone'></div>\n        </div>",fE)};global.tab.TextRegionTemplate=eE;var eF=function(e){eF.$ctor1.call(this,e,-1)};eF.__typeName='tab.TextRegionView';eF.$ctor1=function(e,fE){this.$g=false;ss.makeGenericType(spiff.BaseView$1,[eG]).call(this,e,new eE(fE));this.$i().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)));if(tsConfig.is_authoring&&!tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('RichTextEditingWorksheetTitle')&&this.get_viewModel().isTitle()){this.disposables.add$1(spiff.TableauClickHandler.targetAndDoubleClick(this.element[0],ss.mkdel(this,this.handleDoubleClick)));var fF=new EventUtils.EventHandleSpec;fF.hoverDelay=0;var fG=fF;fG.SetHandler('mouseleave',ss.mkdel(this,this.handleMouseLeave));fG.SetHandler('hover',ss.mkdel(this,this.handleHover));this.disposables.add$1(spiff.TableauClickHandler.targetAndConfig(this.element[0],fG));this.$h().addChevron(ss.mkdel(this,this.$c))}};eF.$3=function(e){return Math.round(e)===90};eF.$2=function(e){return Math.round(e)===-90};eF.$0=function(e,fE,fF){var fG={};fG['transform-origin']=fE;fG['transform']='rotate('+fF+'deg)';e.css(fG)};eF.$1=function(e,fE,fF,fG){var fH=0;if(fE>e){fF=(eF.$3(fG)?'h-align-right':'h-align-left')}switch(fF){case'h-align-left':{fH=0;break}case'h-align-right':{fH=e-fE;break}case'h-align-center':{fH=ss.Int32.div(e,2)-ss.Int32.div(fE,2);break}}return fH+'px'};global.tab.TextRegionView=eF;var eG=function(e){this.$5=null;this.options=new eD(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$5=e;this.$5.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};eG.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=eG;var eH=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};eH.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=eH;var eI=function(e){ss.makeGenericType(spiff.BaseView$1,[eJ]).call(this,e,new eH)};eI.__typeName='tab.TiledImageView';global.tab.TiledImageView=eI;var eJ=function(){spiff.BaseViewModel.call(this)};eJ.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=eJ;var eK=function(){tab.GlobalKeyboardShortcut.call(this)};eK.__typeName='tab.ToggleFullScreenKeyboardShortcut';global.tab.ToggleFullScreenKeyboardShortcut=eK;var eL=function(e){var fE=function(){this.viewModel=null};ss.registerGenericClassInstance(fE,eL,[e],{},function(){return null},function(){return[]});return fE};eL.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(eL,a,1);global.tab.ToolbarButtonProps$1=eL;var eM=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};eM.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=eM;var eN=function(e){this.$e=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[eO]).call(this,e,new eM);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.get_viewModel().add_clickButtonRequested(ss.mkdel(this,this.onClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_clickButtonRequested(ss.mkdel(this,this.onClicked))})));this.get_viewModel().add_showButtonRequested(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_showButtonRequested(ss.mkdel(this,this.$d))})));this.get_viewModel().add_hideButtonRequested(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_hideButtonRequested(ss.mkdel(this,this.$9))})));this.$c()};eN.__typeName='tab.ToolbarButtonView';eN.create=function(e){return new eN(e)};global.tab.ToolbarButtonView=eN;var eO=function(e,fE,fF){this.$8=null;this.action=null;this.popupContent=null;this.dialogContent=null;this.$c=null;this.$d=null;this.$9=null;this.$6=null;this.$7=false;this.$a=false;this.popupViewModel=null;this.$b=new spiff.UberPopupShowOptions.$ctor1(2,1,0,eU.get_toolbarIsBottom(),false,false,null,null,true,0,null,987,true);this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=false;this.$2$10=false;spiff.BaseViewModel.call(this);this.$c=e;this.$9=fE;this.action=fF;this.$7=!ss.staticEquals(fF,null)};eO.__typeName='tab.ToolbarButtonViewModel';eO.shouldShowButton=function(e,fE){if(ss.isNullOrUndefined(fE)){return false}switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!eU.$0()&&!tsConfig.is_mobile_app&&!fE.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!fE.get_forceHideCustomViewsButton()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions}case'download':{return!tsConfig.previewMode}case'alert':{if(tab.FeatureFlags.isEnabled('AlertSidePanel')&&!tsConfig.is_mobile_app){return tsConfig.allow_view_data_alerts}else{return tsConfig.allow_data_alert}}case'public-logo':{return tsConfig.isPublic}default:{return true}}};eO.createSeparator=function(){var e=new eO(null,'tabAuthToolbarSeparator',null);e.set_isSeparator(true);return e};eO.createFromCommandItem=function(e,fE,fF){var fG=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fH=new eO(fG.get_name(),fE+fG.get_iconRes(),null);fH.$7=ss.isNullOrUndefined(fG.get_enabled())||fG.get_enabled();fH.set_iconType(fG.get_iconRes());fH.set_description(fG.get_description());fH.set_itemWrapper(fG);var fI=fH;if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app||ss.isNullOrUndefined(fF)){fI.$8=function(){return eO.fetchDialogContent(fF,fI)}}else{fI.popupContent=eO.$1(e,fF,fI)}var fJ=tab.CommandSerializer.deserialize(fG.get_command(),false);if(fI.get_iconType()==='edit'){fI.action=tab.ToolbarServerCommands.launchEditing}else if(fI.get_iconType()==='alert'){fI.action=function(){bA.handleDataAlertClick(fG.get_description())}}else if(ss.isValue(fJ)){fI.action=function(){var fK={ns:fJ.commandNamespace,cmd:fJ.commandName};fI.set_isActive(true);if(tab.WebCommandRegistry.get_instance().hasCommand(fK)){var fL=tab.WebCommandRegistry.get_instance().createCommandWithParams(fK,fJ.commandParams);fL.invoke();fI.set_isActive(false)}else{tab.ServerCommands.executeServerCommand(fJ,'immediately',function(fM){fI.set_isActive(false)},function(fM){fI.set_isActive(false)})}}}return fI};eO.fetchDialogContent=function(e,fE){var fF=$.Deferred();if(fE.get_iconType()==='download'){tab.ModuleManager.load(tab.IDownloadDialogModule).call(null,[]).done(function(fG){fE.dialogContent=fE.dialogContent||fG.buildDialogContent();fF.resolve(fE.dialogContent)})}else{fE.dialogContent=fE.dialogContent||eO.$0(fE.get_iconType(),e);fF.resolve(fE.dialogContent)}return fF.promise()};eO.$1=function(e,fE,fF){var fG=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fH=function(){var fL=ss.getEnumerator(fE.get_nonVizItems());try{while(fL.moveNext()){var fM=fL.current();if(!ss.referenceEquals(fM,fF)){fM.$3()}}}finally{fL.dispose()}};fF.add_flyoverShown(fH);fF.disposables.add$1(new tab.CallOnDispose(function(){fF.remove_flyoverShown(fH)}));switch(fG.get_iconRes()){case'download':{var fI=new ce;fI.add_downloadInitiated(ss.mkdel(fF,fF.$3));fF.disposables.add$1(new tab.CallOnDispose(function(){fI.remove_downloadInitiated(ss.mkdel(fF,fF.$3))}));return fI}case'share':{return new en}case'customviews':{var fJ=fE.get_customViewsViewModel();fJ.hideView=ss.delegateCombine(fJ.hideView,ss.mkdel(fF,fF.$3));fF.disposables.add$1(new tab.CallOnDispose(function(){var fL=fE.get_customViewsViewModel();fL.hideView=ss.delegateRemove(fL.hideView,ss.mkdel(fF,fF.$3))}));return fE.get_customViewsViewModel()}case'subscribe':{var fK=new ey;fK.add_subscribeSuccess(ss.mkdel(fF,fF.$3));fF.disposables.add$1(new tab.CallOnDispose(function(){fK.remove_subscribeSuccess(ss.mkdel(fF,fF.$3))}));return fK}case'public-logo':{return new dI}default:{return null}}};eO.$0=function(e,fE){switch(e){case'download':{if(!tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app){return new ce}else{return null}}case'share':{return new en}case'customviews':{return(ss.isNullOrUndefined(fE)?null:fE.get_customViewsViewModel())}case'subscribe':{return new ey}case'public-logo':{return new dI}default:{return null}}};global.tab.ToolbarButtonViewModel=eO;var eP=function(e,fE,fF){this.$e=null;eO.call(this,e,fE,null);tab.Param.verifyValue(fF,'menuBuilder');this.$e=fF;this.set_enabled(this.createMenu().menuItems.some(function(fG){return fG.enabled}))};eP.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=eP;var eQ=function(e,fE,fF){this.$g=null;this.$f=null;this.$3$1=null;this.$3$2=null;eO.call(this,e,fE,null);tab.Param.verifyValue(fF,'menuBuilder');this.$g=fF;this.$f=this.createMenu();this.set_enabled(this.$f.menuItems.some(function(fK){return fK.enabled}));if(this.get_enabled()){var fG=0;var fH=0;for(var fI=0;fI<this.$f.menuItems.length;fI++){var fJ=this.$f.menuItems[fI];if(fJ.checkState!==0){fG=fH;break}fH++}fH=0;this.set_props({dropdownType:0,menuItemInfos:_.map(this.$f.menuItems,function(fK){return{displayValue:fK.name,disabled:!fK.enabled,value:(fH++).toString()}}),containerStyle:{width:'97px'},selectedValue:fG.toString(),onSelect:ss.mkdel(this,this.$e),testId:'FitDropdown'})}};eQ.__typeName='tab.ToolbarDropdownMenuViewModel';global.tab.ToolbarDropdownMenuViewModel=eQ;var eR=function(){this.toolbar=null;this.leftItems=null;this.rightItems=null;spiff.Template.call(this,$((eU.$0()?"\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>":"\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>")));this.toolbar=this.domRoot;this.leftItems=this.getElementBySelector('.tab-vizItems');this.rightItems=this.getElementBySelector('.tab-nonVizItems')};eR.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=eR;var eS=function(e,fE,fF,fG,fH){this.$e=null;eO.call(this,e,fF,fG);this.$e=fH;this.set_iconType(fE)};eS.__typeName='tab.ToolbarToggleButtonViewModel';eS.createFromCommandItems=function(e,fE,fF){var fG;var fH;var fI=tab.CommandItemWrapper.create(e);var fJ=tab.CommandItemWrapper.create(fE);if(!ss.isValue(fI.get_enabled())||fI.get_enabled()){fG=fI;fH=fJ}else if(!ss.isValue(fJ.get_enabled())||fJ.get_enabled()){fG=fJ;fH=fI}else{return null}var fK=eO.createFromCommandItem(fG.get_item(),fF,null);var fL=new eS(fK.get_text(),fK.get_iconType(),fK.get_iconClass(),fK.get_buttonAction(),fH.get_name());fL.disposables.add$1(fK);fL.set_enabled(ss.isValue(fH)&&!fH.get_enabled());if(fL.get_enabled()){return fL}return null};global.tab.ToolbarToggleButtonViewModel=eS;var eT=function(e){this.$N=null;this.$Q=0;this.$P=0;this.$O=0;this.$M=0;this.$L=0;this.$K=0;this.$J=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;ss.makeGenericType(spiff.BaseView$1,[eU]).call(this,e,new eR);this.$N=e;this.$N.add_newToolbar(ss.mkdel(this,this.$n));eg.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$j));spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$i));this.disposables.add(ss.mkdel(this,function(){this.$N.remove_newToolbar(ss.mkdel(this,this.$n));eg.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$j));spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$i))}));if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.on('keydown',ss.mkdel(this,this.$m));this.element.attr('role','toolbar')}if(tsConfig.allow_custom_views){var fE=ss.mkdel(this,function(fG,fH){this.updateCustomViewsButton();this.$k()});this.$w().add_dirtyChanged(fE);this.$w().add_customViewListChanged(fE);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$w().remove_dirtyChanged(fE);this.$w().remove_customViewListChanged(fE)})))}var fF=_.throttle(ss.mkdel(this,this.$j),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(fG){fF()}))};eT.__typeName='tab.ToolbarView';eT.$3=function(e){if(ss.isValue(e)){e.element.show()}};eT.shouldAllowFullScreen=function(){return spiff.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile};eT.$0=function(e){e.children('.tabToolbarButton').each(function(fE,fF){var fG=$(fF);fG.css('width',tab.DoubleUtil.roundToInt(fG.outerWidth(false))+1)})};eT.$2=function(e){e.children('.tabToolbarButton').css('width','')};eT.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(fE,fF){var fG=$(fF);var fH=fG.find('.tabToolbarButtonText').text();fG.attr('title',fH);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){fG.removeAttr('aria-label')}})};eT.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(fE,fF){fF.removeAttribute('title');if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var fG=$(fF);var fH=fG.find('.tabToolbarButtonText').text();fG.attr('aria-label',fH)}})};global.tab.ToolbarView=eT;var eU=function(e,fE){this.$d=null;this.$e=[];this.$c=[];this.$9=new bo;this.$a=null;this.$b=false;this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$d=e;if(!tsConfig.allow_custom_view_save){this.$b=true;this.$9.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}this.set_dialogHostViewModel(new bX);this.$a=fE;this.$a.add_newLayouts(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a.remove_newLayouts(ss.mkdel(this,this.$8))})));if(ss.isValue(this.$a.get_deviceLayouts())){this.$8()}if(ss.isValue(this.$d.get_vizCommandItems())){this.$6(null)}var fF=ss.mkdel(this,function(){this.$6(null)});this.$d.add_newToolbar(fF);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_newToolbar(fF);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6))})))};eU.__typeName='tab.ToolbarViewModel';eU.get_toolbarHeight=function(){return tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()};eU.$0=function(){return tsConfig.isPublic};eU.get_toolbarIsBottom=function(){return(eU.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=eU;var eV=function(e){this.tupleId=null;this.$i=null;this.$m=[];this.$k=false;this.$o=null;this.$n=false;this.$s=16;this.$j=16;this.$l=null;this.$r=null;this.$q=false;this.$p=false;this.$h=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||eV.$0()).domRoot);this.$i=e||eV.$0();this.$n=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$r=null}))}};eV.__typeName='tab.Tooltip';eV.$0=function(){return eV.$5||(eV.$5=new fa)};global.tab.Tooltip=eV;var eW=function(e,fE){eX.call(this,'sticky',e,fE);var fF=this.get_currentBehavior();fF.attach();this.get_tooltip().add_showed(ss.mkdel(this,this.$p))};eW.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=eW;var eX=function(e,fE,fF){this.disposables=new tab.DisposableHolder;this.tooltipBehaviors=null;this.$l=null;this.readyForHover=true;this.$m=false;this.$o=null;this.$n=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$l=fE;this.set_visualIDPresModel(fF);this.set_tooltip(new eV(null));this.get_tooltip().add_closed(ss.mkdel(this,this.$8));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.get_tooltip().get_body().on('mouseleave.basemode',ss.mkdel(this,this.$a));this.set_ubertip(new fb(this.get_tooltip(),this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions()));this.get_ubertip().add_actionExecuted(ss.mkdel(this,this.$b));this.get_ubertip().add_commandExecuted(ss.mkdel(this,this.$c));this.get_ubertip().add_ubertipMenuToggled(ss.mkdel(this,this.$e));this.get_ubertip().add_ubertipMenuClosed(ss.mkdel(this,this.$d));this.set_defaultBehaviorType(e);this.set_currentBehaviorType(e);this.tooltipBehaviors={};this.buildBehaviorsDictionary();this.$m=tab.ActionUtils.doesWorksheetHaveHoverOrMenuActions(this.get_visualIDPresModel().worksheet);if(tsConfig.is_mobile){fn.add_mobileVizReduceTransform(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fn.remove_mobileVizReduceTransform(ss.mkdel(this,this.$9))})))}};eX.__typeName='tab.TooltipBaseMode';eX.isUbertipHtmlEmpty=function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$3(e.tooltipHtml)};global.tab.TooltipBaseMode=eX;var eY=function(){};eY.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=eY;var eZ=function(e){this.$0=null;this.$0=e};eZ.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=eZ;var fa=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};fa.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=fa;var fb=function(e,fE,fF){this.$1e=null;this.$16=new tab.DisposableHolder;this.$19=null;this.$1a=null;this.$17=false;this.$11=false;this.$18=false;this.$Z=null;this.$1b=-1;this.$12=null;this.$15=null;this.$13=null;this.$10=null;this.$14=null;this.$1d=[];this.$1c=[];this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$15=this.element.find('.tab-ubertipContent');this.$13=this.element.find('.tab-ubertipCommandArea');this.$10=this.element.find('.tab-ubertipActions');this.$14=this.element.find('.tab-ubertipCommands');this.$1e=e;this.$1e.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1e.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$11=fF;this.$17=fE};fb.__typeName='tab.Ubertip';fb.$b=function(e){return e.get_commandType()===10};fb.$7=function(e){return _.find(e.buttonModels,fb.$b)};fb.$c=function(e){var fE=e.get_wrappedCommandItemPresModel();if(ss.isNullOrUndefined(fE)){return false}return fE.get_iconRes()===':/en_US/TQRC_MERGE'};fb.$8=function(e){return _.find(e.buttonModels,fb.$c)};fb.$4=function(e,fE){return _.find(e.buttonModels,function(fF){return fF.get_isPlaceholder()&&fF.get_commandType()===fE})};fb.$6=function(e){var fE;if(ss.isNullOrEmptyString(e.get_imageRes())){fE='Command'+e.get_commandType()}else if(ss.endsWithString(e.get_imageRes().toString(),'png')){fE=tab.TabResources.getResourceName(e.get_imageRes())}else{fE=tab.TabResources.lookupFullResourceAlias(e.get_imageRes())}return fE};fb.$a=function(e,fE){if(tab.MiscUtil.isNullOrEmpty$3(e)){return fE}var fF=ss.formatString('Ubertip{0}Mobile',e);var fG=tab.Strings.getString(fF);if(ss.referenceEquals(fG,ss.formatString('!{0}!',fF))){return fE}return fG};fb.$1=function(e){var fE=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){fE.set_label(fb.$a(fb.$6(e),e.get_name()))}else{fE.set_label(e.get_name());fE.set_hoverTooltipText(e.get_description())}fE.set_disabled(true);var fF=new ss.StringBuilder('tab-command');fF.append(fb.$6(e));fE.element.addClass(fF.toString());fE.element.css('visibility','hidden');return fE};fb.$5=function(e){var fE=e.find('.tab-selection-relaxation');for(var fF=0;fF<fE.length;fF++){if(ss.isValue(fE.eq(fF).data('isSelected'))){return fF}}return-1};fb.$2=function(e){var fE=spiff.LabelButton.newNativeButton();fE.set_label(e.get_name());fE.set_hoverTooltipText(e.get_description());$('<span>').addClass('tabComboBoxButton').appendTo(fE.element);return fE};fb.$d=function(e,fE,fF){if(tsConfig.is_mobile&&!tab.MiscUtil.isNullOrEmpty$3(fF)){var fG=fb.$a(fF,fE.get_description());e.setLabelContents($('<div>'+fG+'</div>'))}else{e.set_label(fE.get_name())}};fb.$0=function(e,fE){e.element.addClass(ss.formatString('tab-command{0}',fE))};fb.$3=function(e){e.element.addClass('enabled'.toString())};fb.$9=function(e){return tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(e))};global.tab.Ubertip=fb;var fc=function(){fd.call(this)};fc.__typeName='tab.UndoKeyboardShortcut';global.tab.UndoKeyboardShortcut=fc;var fd=function(){tab.CommandKeyboardShortcut.call(this)};fd.__typeName='tab.UndoRedoKeyboardShortcut';global.tab.UndoRedoKeyboardShortcut=fd;var fe=function(){};fe.__typeName='tab.URIUtil';fe.absolutizeURI=function(e,fE){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var fF=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var fG=e.match(fF);if(ss.isValue(fG)&&fG[1]!=='http'&&fG[1]!=='https'){if(fE){return''}return e}var fH='//';var fI=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var fJ=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(fI.test(e)){fH='https://'}else if(fJ.test(e)){fH='http://'}var fK=new RegExp('^(https?:)?/?/?');e=e.replace(fK,fH);return e};global.tab.URIUtil=fe;var ff=function(e){React.Component.call(this,e)};ff.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=ff;var fg=function(e){React.Component.call(this,e)};fg.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=fg;var fh=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userValidator:function(fE){return(fE.hasEmail?0:1)},invalidUserTextGenerator:function(fE){return tab.Strings.UserHasNoEmailAddressWarning},addUser:ss.mkdel(this,this.addUser),removeUser:ss.mkdel(this,this.removeUser)})};fh.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=fh;var fi=function(){dd.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};fi.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=fi;var fj=function(e){this.$4=null;this.$3=0;this.$5=null;this.$2=new tab.DisposableHolder;this.$1$2=null;this.$4=e};fj.__typeName='tab.ViewController';fj.add_selectionChanged=function(e){fj.$1$1=ss.delegateCombine(fj.$1$1,e)};fj.remove_selectionChanged=function(e){fj.$1$1=ss.delegateRemove(fj.$1$1,e)};global.tab.ViewController=fj;var fk=function(e){this.$g=null;this.$h=null;this.$g=e};fk.__typeName='tab.ViewingToolbarCommands';fk.exportData=function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var fE=tab.ModelUtils.findContentDashboard(null).getViewSession(e);if(ss.isValue(fE)){var fF=tab.ModelUtils.findActiveOrDefaultVisual().get_visualId();window.open(fE.formatUnderlyingDataURL(null,fF),fE.getWindow('vud'),'scrollbars,resizable')}};fk.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var fE=tab.ModelUtils.findContentDashboard(null).getViewSession(e);if(ss.isValue(fE)){var fF=tableau.types.ExportDialogType['ExportCrosstab'];fE.fileDownloadHelper.openDownload(fE.formatExportCrossTabURL('utf16'),fF)}};global.tab.ViewingToolbarCommands=fk;var fl=function(){this.$8=0;this.$7=false;this.$6=false;this.$1$1=null;this.$1$2=null};fl.__typeName='tab.ViewportChangeDetector';fl.get_instance=function(){if(ss.isNullOrUndefined(fl.$0)){fl.$0=new fl}return fl.$0};global.tab.ViewportChangeDetector=fl;var fm=function(e,fE){this.sheetName=null;this.repositoryUrl=null;this.sheetName=e;this.repositoryUrl=fE};fm.__typeName='tab.VisibleSheetAndRepositoryUrl';global.tab.VisibleSheetAndRepositoryUrl=fm;var fn=function(){};fn.__typeName='tab.VizEvent';fn.add_mobileVizExpandTransform=function(e){fn.$1$1=ss.delegateCombine(fn.$1$1,e)};fn.remove_mobileVizExpandTransform=function(e){fn.$1$1=ss.delegateRemove(fn.$1$1,e)};fn.add_mobileVizReduceTransform=function(e){fn.$1$2=ss.delegateCombine(fn.$1$2,e)};fn.remove_mobileVizReduceTransform=function(e){fn.$1$2=ss.delegateRemove(fn.$1$2,e)};fn.notifyMobileVizExpandTransform=function(){if(ss.isValue(fn.$1$1)){fn.$1$1()}};fn.notifyMobileVizReduceTransform=function(){if(ss.isValue(fn.$1$2)){fn.$1$2()}};global.tab.VizEvent=fn;var fo=function(e,fE){this.$2=null;this.$3=null;this.$4=null;Q.call(this);this.$3=e;this.$4=fE};fo.__typeName='tab.WaitDialog';global.tab.WaitDialog=fo;var fp=function(e){spiff.PureRenderComponent.call(this,e)};fp.__typeName='tab.WaitDialogComponent';global.tab.WaitDialogComponent=fp;var fq=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};fq.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=fq;var fr=function(e,fE){this.$k=null;this.$j=null;this.$h=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[fs]).call(this,e,new fq);this.$k=e;this.$j=fE;this.$k.add_newWebZone(ss.mkdel(this,this.$a));this.$j.add_propertyChanged(ss.mkdel(this,this.$c));this.$j.add_resizeZone(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_newWebZone(ss.mkdel(this,this.$a));this.$j.remove_propertyChanged(ss.mkdel(this,this.$c));this.$j.remove_resizeZone(ss.mkdel(this,this.$b))})))};fr.__typeName='tab.WebZoneView';global.tab.WebZoneView=fr;var fs=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};fs.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=fs;var ft=function(e){this.$0=null;React.PureComponent.call(this,e);var fE=new fv;fE.componentType=null;this.state=fE;this.$0=tab.ModuleManager.load$1(e.moduleName,[])};ft.__typeName='tab.WidgetPluginContainer';global.tab.WidgetPluginContainer=ft;var fu=function(){this.moduleName=null;this.initialProps=null};fu.__typeName='tab.WidgetPluginContainerProps';global.tab.WidgetPluginContainerProps=fu;var fv=function(){this.componentType=null};fv.__typeName='tab.WidgetPluginContainerState';global.tab.WidgetPluginContainerState=fv;var fw=function(){};fw.__typeName='tab.WidgetUtil';fw.newMenuItemsFromCommands=function(e,fE,fF,fG){if(ss.isNullOrUndefined(fE)){return}var fH=tab.CommandsPresModelWrapper.create(fE);if(ss.isNullOrUndefined(fH.get_commandItems())){return}var fI=ss.coalesce(fH.get_defaultItem(),-1);var fJ=-1;var fK=true;var fL=fH.get_commandItems();for(var fM=0;fM<fL.length;fM++){var fN=fL[fM];fJ++;var fO=null;var fP=tab.CommandItemWrapper.create(fN);if(!fw.$3(fP,fG)){continue}switch(fP.get_commandsType()){case'item':{fO=spiff.MenuItem.newItem(fF(fN),fP.get_name(),null,null);fO.description=fP.get_description();fO.enabled=ss.isNullOrUndefined(fP.get_enabled())||fP.get_enabled();break}case'separator':{if(!fK){fO=spiff.MenuItem.newDivider()}break}case'subcommands':{var fQ=[];fw.newMenuItemsFromCommands(fQ,fP.get_commands(),fF,fG);if(fQ.length>0){fO=spiff.MenuItem.newItem(null,fP.get_name(),0,new spiff.Menu(fQ))}break}}if(ss.isValue(fO)){var fR=fJ===fI||fP.get_isDefault();fw.$4(fO,fP,fR);e.push(fO);fK=fO.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};fw.$4=function(e,fE,fF){e.enabled=fE.get_enabled();e.isDefault=fF&&e.enabled;if(fE.get_isRadioOn()){e.checkState=2}else if(fE.get_isChecked()){e.checkState=1}if(ss.isValue(fE.get_colorSwatch())){var fG='swatch-'+ss.replaceAllString(fE.get_colorSwatch().toString(),'#','');e.itemClass=ss.formatString('{0} {1}',fw.colorSwatchMenuItemClass,fG)}};fw.$3=function(e,fE){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(fE)){var fF=new tab.CommandModel;fF.command=tab.CommandSerializer.deserialize(e.get_command(),false);var fG=fF;tab.UbertipSerializer.setCommandType(fG);return fE.test(fG)}return true};fw.createDropdownMenuCommandHandler=function(e){var fE=tab.CommandItemWrapper.create(e);var fF=tab.CommandSerializer.deserialize(fE.get_command(),false);var fG;fG=function(){var fH={ns:fF.commandNamespace,cmd:fF.commandName};if(tab.RichTextClientCommands.isRichTextEditingCommand(fF)){tab.RichTextClientCommands.callRichTextEditingCommand(fF)}else if(tab.WebCommandRegistry.get_instance().hasCommand(fH)){var fI=tab.WebCommandRegistry.get_instance().createCommandWithParams(fH,fF.commandParams);fI.invoke()}else{var fJ=fw.$2(fF);tab.ServerCommands.executeServerCommand(fF,fJ,tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}};return fG};fw.createDropdownMenuCommand=function(e){var fE=tab.CommandItemWrapper.create(e);var fF=tab.CommandSerializer.deserialize(fE.get_command(),false);return fF};fw.$2=function(e){var fE='immediately';if(ss.contains(fw.$5,e.commandName)){fE='none'}return fE};fw.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var fE=e.data;tab.ServerCommands.executeServerCommand(fE,'immediately',null,null)}};fw.menuViewModelFromCommands=function(e,fE,fF,fG,fH){tab.Param.verifyValue(e,'commands');var fI=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty$1(fI.get_commandItems())){if(ss.isValue(fF)){fF()}return null}var fJ=[];fw.newMenuItemsFromCommands(fJ,e,fH||fw.createDropdownMenuCommandHandler,null);var fK=new spiff.Menu(fJ);var fL=spiff.MenuViewModel.createForMenu(fK,fE,null,fF,fG,true);return fL};fw.getMenuItemsInFlatList=function(e){var fE=[];if(ss.isValue(e)){for(var fF=0;fF<e.length;fF++){var fG=e[fF];fw.$1(fG,fE)}}return fE};fw.$1=function(e,fE){if(e.isDivider){}else if(ss.isValue(e.subMenu)&&ss.isValue(e.subMenu.menuItems)){for(var fF=0;fF<e.subMenu.menuItems.length;fF++){var fG=e.subMenu.menuItems[fF];fw.$1(fG,fE)}}else{fE.push(e)}};fw.getMenuItemInfos=function(e){var fE=[];if(ss.isValue(e)){for(var fF=0;fF<e.length;fF++){var fG=e[fF];fw.$0(fG,fE)}}return fE};fw.$0=function(e,fE){var fF=((e.checkState===1||e.checkState===2)?true:null);if(e.isDivider){fE.push({isDivider:true})}else if(ss.isValue(e.subMenu)){var fG=[];for(var fH=0;fH<e.subMenu.menuItems.length;fH++){var fI=e.subMenu.menuItems[fH];fw.$0(fI,fG)}fE.push({value:e.name,displayValue:e.name,checked:fF,disabled:!e.enabled,menuItemInfos:fG})}else{fE.push({value:e.name,displayValue:e.name,checked:fF,disabled:!e.enabled})}};global.tab.WidgetUtil=fw;var fx=function(){this.dashboardSpacer=null;this.centeringContainer=null;spiff.Template.call(this,fx.$0());this.dashboardSpacer=this.domRoot;this.centeringContainer=$('#centeringContainer')};fx.__typeName='tab.WorkbookTemplate';fx.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"):$("<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"))};global.tab.WorkbookTemplate=fx;var fy=function(e){this.$j=null;this.$h=null;this.$i=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[fz]).call(this,e,new fx);this.$j=e;this.$j.add_dashboardUpdated(ss.mkdel(this,this.$a));this.$j.add_newDataConnectionPrompt(ss.mkdel(this,this.$b));if(this.$j.get_hasPrompt()){this.$b()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_dashboardUpdated(ss.mkdel(this,this.$a));this.$j.remove_newDataConnectionPrompt(ss.mkdel(this,this.$b))})));this.handleFullScreenChanged()};fy.__typeName='tab.WorkbookView';fy.findDashboardContainer=function(){return $(fy.dashboardSpacerSelector)};global.tab.WorkbookView=fy;var fz=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addDashboardUpdatedHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};fz.__typeName='tab.WorkbookViewModel';fz.add_workbookResized=function(e){fz.$2$3=ss.delegateCombine(fz.$2$3,e)};fz.remove_workbookResized=function(e){fz.$2$3=ss.delegateRemove(fz.$2$3,e)};global.tab.WorkbookViewModel=fz;var fA=function(){spiff.Template.call(this,$("<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>"))};fA.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=fA;var fB=function(e){this.$C=null;this.$A=null;this.$B=0;this.$x='';this.$y=null;this.$z=$.Deferred();ss.makeGenericType(spiff.BaseView$1,[fC]).call(this,e,new fA);this.$w().add_updateZone(ss.mkdel(this,this.$m));this.$w().add_resizeZone(ss.mkdel(this,this.$k));this.$w().add_updateZIndex(ss.mkdel(this,this.$l));this.$w().add_newZoneContent(ss.mkdel(this,this.$e));this.$w().add_validStateChanged(ss.mkdel(this,this.$p));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$n),null))}this.$B=0;this.$y=null};fB.__typeName='tab.ZoneView';fB.add_zoneBecameValid=function(e){fB.$3$1=ss.delegateCombine(fB.$3$1,e)};fB.remove_zoneBecameValid=function(e){fB.$3$1=ss.delegateRemove(fB.$3$1,e)};fB.$0=function(e){return'tabZoneId'+e};fB.getZoneElement=function(e){return $('#'+fB.$0(e)).get(0)};global.tab.ZoneView=fB;var fC=function(e){this.$n=null;this.zoneContentViewModel=null;this.$m=null;this.$l=false;this.$j=false;this.$k=false;this.$i=false;this.$h=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$l=true;this.$n=e;this.$n.add_updateZone(ss.mkdel(this,this.$b));this.$n.add_updateZIndex(ss.mkdel(this,this.$a));this.$n.get_zoneCommonModel().add_resizeZone(ss.mkdel(this,this.$8));this.$n.add_newZoneContent(ss.mkdel(this,this.$3));this.$n.add_removeZoneContent(ss.mkdel(this,this.$7));this.$n.get_zoneCommonModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.$9));this.$e();this.$f();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};fC.__typeName='tab.ZoneViewModel';fC.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};global.tab.ZoneViewModel=fC;var fD=function(){};fD.__typeName='tableau.ApiCommandExecutor';fD.execute=function(e,fE,fF){var fG=tab._ApiCommand.generateNextCommandId();var fH=new tab._ApiCommand(e,fG,fE,fF);G.get_instance().get_apiEventHandler().routeCommand(fH);return fG};fD.installResponderOverride=function(e){var fE=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(fE)){fE.set_responseAction(e)}else{}};global.tableau.ApiCommandExecutor=fD;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$0:function(e,fE){var fF;if(this.$3==='horizontal'){fF=Math.round(this.$6)===Math.round(fE)}else{fF=Math.round(this.$5)===Math.round(e)}return fF},$1:function(e,fE){var fF=this.$4;var fG=e;var fH=fE;switch(this.$3){case'horizontal':{if(this.$2){fF=-fF}fG=this.$5+fF;break}case'up':{if(!this.$2){fF=-fF}fH=this.$6+fF;break}case'down':{if(this.$2){fF=-fF}fH=this.$6+fF;break}default:{break}}return{x:fG,y:fH}}});ss.initClass(k,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(l,a,{});ss.initClass(m,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var fE=new Date-this.$3;var fF=Math.abs(e.pageX-this.$4);var fG=Math.abs(e.pageY-this.$5);if(fE<=600&&fF<=10&&fG<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initClass(n,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(o,a,{});ss.initClass(p,a,{},ss.EventArgs);ss.initClass(q,a,{addUser:function(e){if(_.any(this.state.users,function(fE){return fE.id===e.id})){return}this.setState(function(fE,fF){var fG=ss.arrayClone(fE.users);fG.push(e);var fH=fG;return{users:fH,groups:fE.groups}})},addGroup:function(e){if(_.any(this.state.groups,function(fE){return fE.id===e.id})){return}this.setState(function(fE,fF){var fG=ss.arrayClone(fE.groups);fG.push(e);var fH=fG;return{users:fE.users,groups:fH}})},setUsers:function(e){this.setState(function(fE,fF){return{users:e,groups:fE.groups}})},removeUser:function(e){this.setState(function(fE,fF){var fG=ss.arrayClone(fE.users);ss.remove(fG,e);return{users:fG,groups:fE.groups}})},removeGroup:function(e){this.setState(function(fE,fF){var fG=ss.arrayClone(fE.groups);ss.remove(fG,e);return{users:fE.users,groups:fG}})},removeRecipientByIndex:function(e){if(this.props.isUsers){this.removeUserByIndex(e)}else{this.removeGroupByIndex(e)}},removeUserByIndex:function(e){this.setState(function(fE,fF){var fG=ss.arrayClone(fE.users);ss.removeAt(fG,e);return{users:fG,groups:fE.groups}})},removeGroupByIndex:function(e){this.setState(function(fE,fF){var fG=ss.arrayClone(fE.groups);ss.removeAt(fG,e);return{users:fE.users,groups:fG}})},confirmSelection:function(){if(this.props.isUsers){this.props.confirmUsersSelection(this.state.users)}else{this.props.confirmGroupsSelection(this.state.groups)}},render:function(){return spiff.DOMElements.div({className:'tabAddSubscribersContent','data-tb-test-id':'add-subscribers-root'},this.$2(),this.$3(),this.$1())},$2:function(){var e=(this.props.isUsers?tab.Strings.ToolbarSubscribeAddUsersHeader:tab.Strings.ToolbarSubscribeAddGroupsHeader);return spiff.DOMElements.div({className:'tabAddSubscribersHeader'},e)},$0:function(e,fE,fF,fG,fH,fI,fJ){return{users:e,addUser:fE,removeUser:fF,groups:fG,addGroup:fH,removeRecipientByIndex:fI,isUsers:this.props.isUsers,userValidator:function(fK){return(fK.hasEmail?0:1)},placeholderMessage:fJ,emptySearch:function(fK){},noResults:function(fK){},shouldHideSearchComponent:true}},$3:function(){var e=this.$0(this.state.users,ss.mkdel(this,this.addUser),ss.mkdel(this,this.removeUser),this.state.groups,ss.mkdel(this,this.addGroup),ss.mkdel(this,this.removeRecipientByIndex),'');return React.createElement(dR,e)},$1:function(){return spiff.DOMElements.div({className:'tabAddSubscribersButtons'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(e){this.props.cancelSelection()}),buttonType:3,testId:'add-subscribers-cancel',children:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(e){this.confirmSelection()}),buttonType:2,testId:'add-subscribers-done',children:tab.Strings.SubscribeDone}))}},React.Component);ss.initClass(r,a,{});ss.initClass(s,a,{});ss.initClass(t,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmedUser:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmedUser:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_selectionConfirmedGroup:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_selectionConfirmedGroup:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_viewModel:function(){return this},get_props:function(){return this.$2$5},set_props:function(e){this.$2$5=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[t,q,s])},updateUberPopupViewModel:function(e){},addUser:function(e){if(_.any(this.users,function(fE){return fE.id===e.id})){return}this.users.push(e);this.$2()},addGroup:function(e){if(_.any(this.groups,function(fE){return fE.id===e.id})){return}this.groups.push(e);this.$2()},setUsers:function(e){this.users=e;this.$2()},removeUser:function(e){ss.remove(this.users,e);this.$2()},removeGroup:function(e){ss.remove(this.groups,e);this.$2()},removeRecipientByIndex:function(e){if(this.get_props().isUsers){this.removeUserByIndex(e)}else{this.removeGroupByIndex(e)}this.$2()},removeUserByIndex:function(e){ss.removeAt(this.users,e)},removeGroupByIndex:function(e){ss.removeAt(this.groups,e)},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.users=this.originalUsers;this.groups=this.originalGroups;this.$2();this.raiseActionEvent(this.$2$2)},confirmSelection:function(){if(this.isUsers){this.raiseActionEvent$1(Array).call(this,this.$2$3,this.users)}else{this.raiseActionEvent$1(Array).call(this,this.$2$4,this.groups)}},updateProps:function(){var e=s.$ctor();e.users=this.users;e.addUser=ss.mkdel(this,this.addUser);e.removeUser=ss.mkdel(this,this.removeUser);e.groups=this.groups;e.addGroup=ss.mkdel(this,this.addGroup);e.removeGroup=ss.mkdel(this,this.removeGroup);e.removeRecipientByIndex=ss.mkdel(this,this.removeRecipientByIndex);e.isUsers=this.isUsers;e.cancelSelection=ss.mkdel(this,this.cancelSelection);e.confirmSelection=ss.mkdel(this,this.confirmSelection);e.confirmGroupsSelection=this.$2$4;e.confirmUsersSelection=this.$2$3;this.set_props(e)},$2:function(){this.updateProps();this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[s])]);ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initClass(x,a,{});ss.initClass(y,a,{$1:function(){var e=new Object;e.availableDeviceSpecificLayouts=this.$3.get_deviceLayouts();e.automaticDeviceSpecificLayouts=this.$3.get_autoGeneratedDeviceLayouts();e.currentlyRequestedLayout=tabBootstrap.ViewerBootstrap.get_instance().get_deviceType();return e},dispose:function(){this.$3.remove_newLayouts(ss.mkdel(this,this.$0))},handleGetDeviceLayoutState:function(e){var fE=f.$0('api.success',this.$1());this.$2.sendResponse(e,fE)},$0:function(){this.$2.sendEventNotification('api.DeviceLayoutStateChangedEvent',null,JSON.stringify(this.$1()))}},null,[ss.IDisposable]);ss.initClass(z,a,{dispose:function(){this.$15.dispose();if(ss.isValue(this.$1a)){this.$1a.dispose();this.$1a=null}if(ss.isValue(this.$19)){this.$19.dispose();this.$19=null}if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,fE){this.$X(e);this.$Y(fE);_.defer(ss.mkdel(this,this.$Z));if(!this.$16){var fF=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(fF)){fF.addDashboardUpdatedHandler(ss.mkdel(this,this.onDashboardUpdated));this.$16=true}}else{this.onDashboardUpdated(null)}},$X:function(e){if(!ss.referenceEquals(this.$13,e)){var fE=this.$13;this.$13=e;if(tsConfig.allow_custom_views){var fF=(ss.isValue(fE)?fE.get_customViewsViewModel():null);if(ss.isValue(fF)){fF.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fF.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fF.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fF.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var fG=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(fG)){fG.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fG.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fG.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fG.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$14=false;this.$1a=tab.MiscUtil.dispose$1(this.$1a);if(ss.isValue(this.$12)&&ss.isValue(this.$13.get_toolbarCommands().get_toolbarViewModel())){this.$1a=new D(this.$12,this.$13.get_toolbarCommands().get_toolbarViewModel())}this.$17=tab.MiscUtil.dispose$1(this.$17);if(ss.isValue(this.$12)&&ss.isValue(this.$13.get_deviceLayoutViewModel())){this.$17=new y(this.$13.get_deviceLayoutViewModel(),this.$12)}}},$Y:function(e){if(!ss.referenceEquals(this.$18,e)||ss.isValue(this.$19)&&!this.$19.get_eventHandlerAttached()&&ss.isValue(e.get_flipboardNavigatorViewModel())){if(ss.isValue(this.$19)){this.$19.dispose()}this.$18=e;if(ss.isValue(this.$18)){this.$19=new C(e,this.$12)}}},$Z:function(){var e={};var fE=this.$13.get_viewControllers();for(var fF=0;fF<fE.length;fF++){var fG=fE[fF];e[fG.get_sheetName()]=fG}var fH=_.keys(this.$1b);for(var fI=0;fI<fH.length;fI++){var fJ=fH[fI];if(!ss.keyExists(e,fJ)){this.$1b[fJ].dispose();delete this.$1b[fJ]}else{delete e[fJ]}}this.$R(e)},$R:function(e){_.each(_.keys(e),ss.mkdel(this,function(fE){var fF=e[fE];var fG=ss.mkdel(this,function(fH,fI){if(ss.referenceEquals(fF.get_sheetName(),fH)){this.onSelectionChanged(fH,fI)}});fj.add_selectionChanged(fG);this.$1b[fE]=new tab.CallOnDispose(function(){fj.remove_selectionChanged(fG)})}))},handleEvent:function(e){var fE=e.data;if(ss.isNullOrUndefined(fE)||typeof(fE)!=='string'){return}var fF=fE;var fG=tab._ApiCommand.parse(fF);if(ss.isNullOrUndefined(fG.get_rawName())){return}this.routeCommand(fG)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$E(e);break}case'api.GetCurrentUrlCommand':{this.$G(e);break}case'api.ClearFilterCommand':{this.$6(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$4(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$5(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$y(e);break}case'api.RevertAllCommand':{this.$A(e);break}case'api.SwitchActiveSheetCommand':{this.$S(e);break}case'api.UpdateActiveSheetCommand':{this.$V(e);break}case'api.SelectMarksCommand':{this.$C(e);break}case'api.ClearSelectedMarksCommand':{this.$8(e);break}case'api.FetchSelectedMarksCommand':{this.$e(e);break}case'api.FetchParametersCommand':{this.$d(e);break}case'api.SetParameterValueCommand':{this.$H(e);break}case'api.InvokeCommandCommand':{this.$p(e);break}case'api.SetSheetSizeCommand':{this.$I(e);break}case'api.ShowHideToolbarCommand':{this.$N(e);break}case'api.GetFiltersListCommand':{this.$i(e);break}case'api.GetOneFilterInfoCommand':{this.$j(e);break}case'api.GetDataSourceCommand':{this.$f(e);break}case'api.GetDataSourcesCommand':{this.$g(e);break}case'api.FetchCustomViewsCommand':{this.$b(e);break}case'api.ShowCustomViewCommand':{this.$J(e);break}case'api.UpdateCustomViewCommand':{this.$W(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$r(e);break}case'api.RemoveCustomViewCommand':{this.$z(e);break}case'api.SaveNewCustomViewCommand':{this.$B(e);break}case'api.ActivateStoryPoint':{this.$19.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$19.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$19.activateNextStoryPoint(e);break}case'api.SwitchViz':{var fE=JSON.parse(e.get_parameters());tab.SessionServerCommands.switchToViz(fE['api.invokeCommandParam']);break}case'api.RevertStoryPoint':{this.$19.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$k(e);break}case'api.GetUnderlyingTableCommand':{this.$m(e);break}case'api.ClearHighlightedMarksCommand':{this.$7(e);break}case'api.HighlightMarksCommand':{this.$n(e);break}case'api.HighlightMarksByPatternMatch':{this.$o(e);break}case'api.FetchHighlightedMarksCommand':{this.$c(e);break}case'api.GetToolbarState':{this.$l(e);break}case'api.Undo':{this.$U(e);break}case'api.Redo':{this.$x(e);break}case'api.ToggleUpdates':{this.$T(e);break}case'api.ShowShareDialog':{this.$P();break}case'api.ShowDataAlertDialog':{this.$L();break}case'api.ShowSubscribeDialog':{this.$Q();break}case'api.ShowCustomViewsDialog':{this.$K();break}case'api.ShowPerformanceDialog':{this.$O();break}case'api.ShowDownloadDialog':{this.$M();break}case'api.GetDeviceLayoutState':{this.$h(e);break}}},handleNewLayout:function(e){var fE=e.item1;var fF=e.item2;this.$12.sendEventNotification('api.TabSwitchEvent',fE,fF)},handleMarkSelectionEvent:function(e,fE){if(ss.referenceEquals(e,fE.primarySheet)){this.$12.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}},handleFilterChangeEvent:function(e,fE){if(ss.isNullOrUndefined(fE.primarySheet)){return}var fF=fE.cmdResult.commandReturn;var fG=fF['fn'];if(ss.isNullOrUndefined(fF['invalidValues'])&&ss.isNullOrUndefined(fF['invalidFieldCaption'])&&ss.isValue(fG)){var fH=null;var fI=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),fE.primarySheet);if(ss.isValue(fI)){var fJ=_.find(fI.get_filters(),function(fL){return ss.referenceEquals(fL.get_globalFieldName(),fG)});if(ss.isValue(fJ)){fH=fJ.get_filterPresModel().fieldCaption}}var fK=[fG,ss.coalesce(fH,fG)];this.$12.sendEventNotification('api.FilterChangedEvent',e,JSON.stringify(fK))}},$q:function(e){return ss.referenceEquals(e,{ns:'tabdoc',cmd:'reset-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'clear-existing-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'range-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter-by-index'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'hierarchical-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'relative-date-filter'}.cmd)},removeEditDataAlertUrlParam:function(e){this.$12.sendEventNotification('api.RemoveEditDataAlertUrlParamEvent',e,'')},onSelectionChanged:function(e,fE){if(ss.isNullOrUndefined(fE)||ss.isNullOrUndefined(fE.cmdResult)||ss.isNullOrUndefined(fE.cmdResult.commandName)){return}var fF=fE.cmdResult.commandName.split(':');if(fF[0]==='tabsrv'&&(ss.startsWithString(fF[1],'select')&&!ss.startsWithString(fF[1],'select-legend'))){this.handleMarkSelectionEvent(e,fE)}else{if(ss.startsWithString(fF[1],'highlight')||ss.startsWithString(fF[1],'select-legend')){this.$12.sendEventNotification('api.MarksHighlightChangedEvent',e,null)}if(ss.startsWithString(fF[1],'select')&&!ss.startsWithString(fF[1],'select-legend')){this.handleMarkSelectionEvent(e,fE)}else if(this.$q(fF[1])){this.handleFilterChangeEvent(e,fE)}}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$12.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$12.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onDashboardUpdated:function(e){e=tab.ModelUtils.findContentDashboard(null);this.$15.dispose();if(ss.isNullOrUndefined(e)){return}var fE=e.get_zoneModels();_.each(fE,ss.mkdel(this,function(fF,fG){if(fF.get_zoneType()==='paramctrl'&&ss.isValue(fF.get_model())){if(ss.referenceEquals(ss.getInstanceType(fF.get_model()),tab.ParameterCtrlModel)){var fH=fF.get_model();fH.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$15.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fH.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var fE=e.fieldCaption;this.$12.sendEventNotification('api.ParameterChangedEvent',null,fE)},onCustomViewDestroyed:function(e,fE){this.$12.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$9()))},onCustomViewUpdated:function(e,fE){this.$12.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$9()))},onCustomViewSetDefault:function(e,fE){this.$12.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$9()))},onCustomViewListLoaded:function(e,fE){this.$12.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$9()));this.$14=true},$d:function(e){var fE=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'get-parameter-models'},null);this.$F(e,fE,g.$8)},$H:function(e){var fE=JSON.parse(e.get_parameters());var fF={};fF['fieldCaption']=fE['api.setParameterName'];fF['valueString']=fE['api.setParameterValue'];var fG=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'set-parameter-value'},fF);this.$F(e,fG,g.$6)},$i:function(e){var fE=function(fG,fH){fH['ignoreDomain']=fG['api.ignoreDomain']};var fF=this.$t(e,{ns:'tabsrv',cmd:'get-filter-info'},fE);this.$F(e,fF,A.processFilters)},$j:function(e){var fE=function(fG,fH){if(ss.isValue(fG['api.fieldCaption'])){fH['fieldCaption']=fG['api.fieldCaption']}else{fH['fn']=fG['api.fieldName']}if(ss.isValue(fG['api.filterHierarchicalLevels'])){fH['filterLevel']=fG['api.filterHierarchicalLevels']}fH['ignoreDomain']=fG['api.ignoreDomain']};var fF=this.$t(e,{ns:'tabsrv',cmd:'get-filter-info'},fE);this.$F(e,fF,A.processSingleFilter)},$e:function(e){var fE=function(fG,fH){};var fF=this.$t(e,{ns:'tabdoc',cmd:'get-selection'},fE);this.$F(e,fF,ss.mkdel(this,this.$w))},$u:function(e,fE){var fF=new Object;var fG=new tab.DataDictionaryModel(null);fG.update(e);var fH=new tab.VizDataModel(null);fH.update(fE,tab.NoopModelEventsHandler.get_noopContext());var fI=[];fF.marks=fI;if(ss.isNullOrUndefined(fG)||fG.get_isEmpty()){return fF}fH.forEachTupleId(function(fJ){var fK=new Object;fK.tupleId=fJ;var fL=fK;var fM=[];fL.pairs=fM;fI.push(fL);fH.forEachVizDataField(function(fN,fO){var fP=new Object;fP.fieldName=fN.get_fieldCaption();fP.formattedValue=tab.VizDataLookup.lookupAlias(fJ,fN,fG);fP.valueDataType=u.convertDataType(fN.get_dataType());var fQ=fP;var fR=null;if(!tab.VizDataLookup.isSpecial(fJ,fN,fG,null)&&fN.get_hasDataValues()&&fN.isTupleIdValid(fJ)){fR=tab.VizDataLookup.lookupRawDataValue(fJ,fN,fG)}var fS=o.serializeDataValue(fR,fN.get_dataType());fQ.value=fS;fM.push(fQ);return true});return true});return fF},$w:function(e){var fE=e;var fF=fE.dataDictionary;var fG=fE.vizData;return this.$u(fF,fG)},$3:function(e){var fE=function(fG,fH){fH['qualifiedFieldCaption']=fG['api.fieldCaption'];if(ss.isValue(fG['api.filterReset'])&&fG['api.filterReset']){fH['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fG['api.exclude'])){fH['exclude']=fG['api.exclude']}var fI=v.convertFilterUpdateType(fG['api.filterUpdateType'].toString());fH['filterUpdateType']=fI;if(ss.isValue(fG['api.filterHierarchicalValues'])){fH['filterValues']=fG['api.filterHierarchicalValues']}if(ss.isValue(fG['api.filterHierarchicalLevels'])){fH['filterLevels']=fG['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(fG['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(fG['api.filterHierarchicalLevels'])){fH['filterLevels']='[]'}}};var fF=this.$t(e,{ns:'tabdoc',cmd:'hierarchical-filter'},fE);this.$F(e,fF,A.processFilterCommandReturningFieldName)},$4:function(e){var fE=function(fG,fH){fH['qualifiedFieldCaption']=fG['api.fieldCaption'];if(ss.isValue(fG['api.filterReset'])&&fG['api.filterReset']){fH['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fG['api.filterRangeMax'])){fH['rangeMax']=fG['api.filterRangeMax']}if(ss.isValue(fG['api.filterRangeMin'])){fH['rangeMin']=fG['api.filterRangeMin']}if(ss.isValue(fG['api.filterRangeNullOption'])){if(fG['api.filterRangeNullOption']==='NULL_VALUES'){fH['included']='include-null'.toString()}else if(fG['api.filterRangeNullOption']==='NON_NULL_VALUES'){fH['included']='include-non-null'.toString()}else{fH['included']='include-all'.toString()}}}};var fF=this.$t(e,{ns:'tabdoc',cmd:'range-filter'},fE);this.$F(e,fF,A.processFilterCommandReturningFieldName)},$5:function(e){var fE=function(fG,fH){fH['qualifiedFieldCaption']=fG['api.fieldCaption'];if(ss.isValue(fG['api.filterReset'])&&fG['api.filterReset']){fH['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fG['api.filterDateArchorValue'])){fH['anchorDate']=fG['api.filterDateArchorValue']}fH['datePeriodType']=fG['api.filterPeriodType'].toLowerCase();fH['dateRangeType']=fG['api.filterDateRangeType'].toLowerCase();if(ss.isValue(fG['api.filterDateRange'])){fH['rangeN']=fG['api.filterDateRange']}}};var fF=this.$t(e,{ns:'tabdoc',cmd:'relative-date-filter'},fE);this.$F(e,fF,A.processFilterCommandReturningFieldName)},$11:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$10:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$6:function(e){var fE=JSON.parse(e.get_parameters());var fF=z.$1();var fG=fE['api.fieldCaption'];var fH=ss.keyExists(fF,fG);var fI;if(fH){if(fF[fG]==='RD'){var fJ=f.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$12.sendResponse(e,fJ);return}fI={ns:'tabdoc',cmd:'reset-filter'}}else{fI={ns:'tabdoc',cmd:'clear-existing-filter'}}var fK=function(fM,fN){fN['qualifiedFieldCaption']=fG};var fL=this.$t(e,fI,fK);this.$F(e,fL,A.processFilterCommandReturningFieldName)},$2:function(e){var fE=function(fG,fH){fH['qualifiedFieldCaption']=fG['api.fieldCaption'];if(ss.isValue(fG['api.filterReset'])&&fG['api.filterReset']){fH['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fG['api.exclude'])){fH['exclude']=fG['api.exclude'].toString()}var fI=v.convertFilterUpdateType(fG['api.filterUpdateType'].toString());fH['filterUpdateType']=fI;if(ss.isValue(fG['api.filterCategoricalValues'])){fH['filterValues']=JSON.stringify(fG['api.filterCategoricalValues'])}else{fH['filterValues']='[""]'}}};var fF=this.$t(e,{ns:'tabdoc',cmd:'categorical-filter'},fE);this.$F(e,fF,A.processFilterCommandReturningFieldName)},$0:function(e,fE){var fF=new ss.StringBuilder;fF.append('[');for(var fG=0;fG<e.length;fG++){if(fG>0){fF.append(',')}fF.append('{');fF.append('"'+'qualifiedFieldCaption'.toString()+'":');fF.append('"'+e[fG]+'"');fF.append(',');fF.append('"'+'selectValues'.toString()+'":');fF.append(fE[fG]);fF.append('}')}fF.append(']');return fF.toString()},$1:function(e,fE){var fF=new ss.StringBuilder;fF.append('[');for(var fG=0;fG<e.length;fG++){if(fG>0){fF.append(',')}fF.append('{');fF.append('"'+'qualifiedFieldCaption'+'":');fF.append('"'+e[fG]+'"');fF.append(',');var fH=JSON.parse(fE[fG]);var fI=JSON.parse(fH[0]);if(ss.isValue(fI['max'])){fF.append('"'+'maxValue'+'":');fF.append('"'+fI['max'].toString()+'"')}if(ss.isValue(fI['min'])){if(ss.isValue(fI['max'])){fF.append(',')}fF.append('"'+'minValue'.toString()+'":');fF.append('"'+fI['min'].toString()+'"')}if(ss.isValue(fI['nullOption'])){var fJ=this.$10(fI['nullOption'].toString());fF.append(',');fF.append('"'+'included'.toString()+'":');fF.append('"'+fJ+'"')}fF.append('}')}fF.append(']');return fF.toString()},$k:function(e){var fE=this.$t(e,{ns:'tabdoc',cmd:'get-summary-data'},E.$3);this.$F(e,fE,E.processSummaryData)},$m:function(e){var fE=this.$t(e,{ns:'tabdoc',cmd:'get-underlying-data'},E.$4);this.$F(e,fE,E.$6)},$7:function(e){var fE=function(fG,fH){};var fF=this.$t(e,{ns:'tabsrv',cmd:'select-none'},fE);this.$F(e,fF,z.$3)},$n:function(e){var fE=function(fG,fH){fH['qualifiedFieldCaption']=fG['api.fieldCaption'];fH['objectTextIds']=fG['api.ObjectTextIDs']};var fF=this.$t(e,{ns:'tabdoc',cmd:'highlight-items'},fE);this.$F(e,fF,z.$3)},$o:function(e){var fE=function(fG,fH){fH['qualifiedFieldCaption']=fG['api.fieldCaption'];fH['valueString']=fG['api.Pattern']};var fF=this.$t(e,{ns:'tabdoc',cmd:'highlight-items-by-pattern-match'},fE);this.$F(e,fF,z.$3)},$c:function(e){var fE=function(fG,fH){};var fF=this.$t(e,{ns:'tabdoc',cmd:'get-highlighted-data'},fE);this.$F(e,fF,ss.mkdel(this,this.$v))},$v:function(e){var fE=e;var fF=fE.dataDictionary;var fG=fE.vizData;return this.$u(fF,fG)},$C:function(e){var fE=ss.mkdel(this,function(fG,fH){if(tab.MiscUtil.isNullOrEmpty$2(fG)){fH['selectionUpdateType']='select-replace'.toString()}else{fH['selectionUpdateType']=this.$11(fG['api.filterUpdateType'].toString());if(ss.isValue(fG['api.categoricalFieldCaption'])&&ss.isValue(fG['api.categoricalMarkValues'])){var fI=JSON.parse(fG['api.categoricalFieldCaption']);var fJ=JSON.parse(fG['api.categoricalMarkValues']);var fK=this.$0(fI,fJ);fH['dimensionValueSelectionModels']=fK}if(ss.isValue(fG['api.hierarchicalFieldCaption'])&&ss.isValue(fG['api.hierarchicalMarkValues'])){var fL=JSON.parse(fG['api.hierarchicalFieldCaption']);var fM=JSON.parse(fG['api.hierarchicalMarkValues']);var fN=this.$0(fL,fM);fH['hierarchicalValueSelectionModels']=fN}if(ss.isValue(fG['api.rangeFieldCaption'])&&ss.isValue(fG['api.rangeMarkValues'])){var fO=JSON.parse(fG['api.rangeFieldCaption']);var fP=JSON.parse(fG['api.rangeMarkValues']);var fQ=this.$1(fO,fP);fH['quantativeRangeSelectionModels']=fQ}if(ss.isValue(fG['api.tupleIds'])){var fR=new ss.StringBuilder;fR.append('{');fR.append('"'+'selectionType'+'":');fR.append('"tuples"');fR.append(',');fR.append('"'+'objectIds'+'":');fR.append(fG['api.tupleIds']);fR.append('}');fH['selection']=fR.toString()}}});var fF=this.$t(e,{ns:'tabdoc',cmd:'select-by-value'},fE);this.$F(e,fF,z.$4)},$8:function(e){var fE=function(fG,fH){};var fF=this.$t(e,{ns:'tabsrv',cmd:'select-none'},fE);this.$F(e,fF,z.$4)},$9:function(){var e=this.$13.get_customViewsViewModel();var fE=e.get_currentCustomView();var fF=null;if(ss.isValue(fE)){fF=o.serializeCustomView(e.get_currentCustomView(),tab.CustomizedViewRequests.buildUrl(e.get_currentCustomView(),true))}var fG=[];var fH=this.$13.get_customViewsViewModel().get_myCustomViews();var fI=ss.getEnumerator(fH);try{while(fI.moveNext()){var fJ=fI.current();var fK=tab.CustomizedViewRequests.buildUrl(fJ,true);var fL=o.serializeCustomView(fJ,fK);fG.push(fL)}}finally{fI.dispose()}var fM=this.$13.get_customViewsViewModel().get_otherCustomViews();var fN=ss.getEnumerator(fM);try{while(fN.moveNext()){var fO=fN.current();var fP=tab.CustomizedViewRequests.buildUrl(fO,true);var fQ=o.serializeCustomView(fO,fP);fG.push(fQ)}}finally{fN.dispose()}return w.newCustomViewsInfo(this.$14,e.get_defaultCustomViewId(),fF,fG)},$b:function(e){this.$13.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(fE,fF){var fG=f.$0('api.success',this.$9());this.$12.sendResponse(e,fG)}),ss.mkdel(this,function(fE){var fF=f.$0('api.remotefailed',fE);this.$12.sendResponse(e,fF)}))},$J:function(e){var fE=JSON.parse(e.get_parameters());var fF=null;if(ss.isValue(fE['api.customViewParam'])){var fG=fE['api.customViewParam'];fF=o.convertToCustomizedView(fG)}this.$13.get_customViewsViewModel().select(fF)},$z:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.customViewParam'];var fG=o.convertToCustomizedView(fF);this.$13.get_customViewsViewModel().destroy(fG,ss.mkdel(this,function(){var fH=f.$0('api.success',this.$9());this.$12.sendResponse(e,fH)}),ss.mkdel(this,function(fH){var fI=f.$0('api.remotefailed',fH);this.$12.sendResponse(e,fI)}))},$W:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.customViewParam'];var fG=o.convertToCustomizedView(fF);this.$13.get_customViewsViewModel().update(fG,ss.mkdel(this,function(fH){var fI=f.$0('api.success',this.$9());this.$12.sendResponse(e,fI)}),ss.mkdel(this,function(fH){var fI=f.$0('api.remotefailed',fH);this.$12.sendResponse(e,fI)}))},$r:function(e){this.$13.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(fE){var fF=f.$0('api.success',this.$9());this.$12.sendResponse(e,fF)}),ss.mkdel(this,function(fE){var fF=f.$0('api.remotefailed',fE);this.$12.sendResponse(e,fF)}))},$B:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.customViewName'];this.$13.get_customViewsViewModel().save(fF,ss.mkdel(this,function(fG){var fH=this.$9();fH.newView=o.serializeCustomView(fG,tab.CustomizedViewRequests.buildUrl(fG,false));var fI=f.$0('api.success',fH);this.$12.sendResponse(e,fI)}),ss.mkdel(this,function(fG){var fH=f.$0('api.remotefailed',fG);this.$12.sendResponse(e,fH)}))},$f:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.dataSourceName'];var fG=fE['api.worksheetName'];var fH={};var fI=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'get-schema'},fH);var fJ=function(fK){var fL=fK;var fM=x.$0(fL,fG,fF);return fM.dataSources[0]};this.$F(e,fI,fJ)},$g:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.worksheetName'];var fG=function(fJ,fK){};var fH=this.$t(e,{ns:'tabdoc',cmd:'get-schema'},fG);var fI=function(fJ){var fK=fJ;var fL=x.$0(fK,fF,null);return fL};this.$F(e,fH,fI)},$p:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.invokeCommandName'];if(fF==='showExportImageDialog'){this.$13.get_toolbarCommands().exportImage()}else if(fF==='showExportDataDialog'){var fG=null;if(ss.isValue('api.invokeCommandParam')){fG=fE['api.invokeCommandParam']}fk.exportData(fG)}else if(fF==='showExportCrosstabDialog'){var fH=null;if(ss.isValue('api.invokeCommandParam')){fH=fE['api.invokeCommandParam']}fk.exportCrosstab(fH)}else if(fF==='showExportPDFDialog'){this.$13.get_toolbarCommands().exportPdf()}else if(fF==='pauseAutomaticUpdates'){this.$13.get_toolbarCommands().$3();this.$D(e)}else if(fF==='resumeAutomaticUpdates'){this.$13.get_toolbarCommands().$5();this.$D(e)}else if(fF==='toggleAutomaticUpdates'){this.$T(e)}else if(fF==='showShareDialog'){this.$13.get_toolbarCommands().$d()}else if(fF==='showDownloadWorkbookDialog'){var fI=this.$13.get_applicationPresModel().workbookPresModel.dashboardPresModel;this.$13.get_toolbarCommands().$0(fI.sheetLayoutInfo.downloadLink)}else if(fF==='selectedMarksKeepOnly'){this.$13.get_toolbarCommands().$8()}else if(fF==='selectedMarksExclude'){this.$13.get_toolbarCommands().$7()}},$l:function(e){if(ss.isValue(this.$1a)){var fE=f.$0('api.success',this.$1a.get_toolbarState());this.$12.sendResponse(e,fE)}},$U:function(e){tab.WorksheetServerCommands.undo();var fE=f.$0('api.success','');this.$12.sendResponse(e,fE)},$x:function(e){tab.WorksheetServerCommands.redo();var fE=f.$0('api.success','');this.$12.sendResponse(e,fE)},$T:function(e){this.$13.get_toolbarCommands().$f();this.$D(e)},$P:function(){this.$13.get_toolbarCommands().$d()},$L:function(){this.$13.get_toolbarCommands().$a()},$Q:function(){this.$13.get_toolbarCommands().$e()},$O:function(){this.$13.get_toolbarCommands().$c()},$K:function(){this.$13.get_toolbarCommands().$9()},$M:function(){this.$13.get_toolbarCommands().$b()},$D:function(e){var fE=w.newAutoUpdateState(this.$13.get_toolbarCommands().$1());var fF=f.$0('api.success',fE);this.$12.sendResponse(e,fF)},$I:function(e){var fE=JSON.parse(e.get_parameters());var fF={};fF['sheet']=fE['api.setSheetSizeName'];fF['minWidth']=fE['api.minWidth'];fF['minHeight']=fE['api.minHeight'];fF['maxWidth']=fE['api.maxWidth'];fF['maxHeight']=fE['api.maxHeight'];var fG=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'set-sheet-size'},fF);this.$F(e,fG,null)},$y:function(e){this.$13.get_toolbarCommands().$4();var fE=f.$0('api.success','');this.$12.sendResponse(e,fE)},$A:function(e){tab.WorksheetServerCommands.revert(null);var fE=f.$0('api.success','');this.$12.sendResponse(e,fE)},$N:function(e){var fE=JSON.parse(e.get_parameters());var fF=fE['api.showHideToolbarValue'];this.$13.set_toolbarDisplayed(fF);this.$13.doResize()},$S:function(e){var fE=JSON.parse(e.get_parameters());var fF=new Object;fF.oldRepositoryUrl=fE['api.oldRepositoryUrl'];fF.repositoryUrl=fE['api.switchToRepositoryUrl'];fF.sheetName=fE['api.switchToSheetName'];fF.oldSheetName=tsConfig.current_sheet_name;fF.noUndo=true;fF.successCallback=ss.mkdel(this,function(fG){var fH=f.$0('api.success','');this.$12.sendResponse(e,fH)});fF.errorCallback=ss.mkdel(this,function(fG){var fH=f.$0('api.remotefailed',fG);this.$12.sendResponse(e,fH)});G.fireOnTabSelect(fF)},$V:function(e){this.$13.doResize()},$E:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var fE=o.serializeClientInfo(this.$13,this.$18);var fF=f.$0('api.success',fE);this.$12.sendResponse(e,fF)}))},$G:function(e){var fE=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var fF=f.$0('api.success',fE);this.$12.sendResponse(e,fF)},$t:function(e,fE,fF){return this.$s(e,tab.CommandUtils.newCommand(fE,null),fF)},$s:function(e,fE,fF){var fG=JSON.parse(e.get_parameters());var fH=this.$a(fG);fE.commandParams=fH;fF(fG,fH);return fE},$a:function(e){var fE={};if(ss.isValue(e['api.visualId'])){fE['visualIdPresModel']=JSON.stringify(e['api.visualId'])}else{fE['worksheet']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){fE['dashboard']=e['api.dashboardName']}}return fE},$h:function(e){if(ss.isValue(this.$17)){this.$17.handleGetDeviceLayoutState(e)}},$F:function(e,fE,fF){fE.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(fE,ss.mkdel(this,function(fG){var fH=fG;if(ss.isValue(fF)){fH=fF(fG)}var fI=f.$0('api.success',fH);this.$12.sendResponse(e,fI)}),ss.mkdel(this,function(fG){var fH=f.$0('api.remotefailed',fG);this.$12.sendResponse(e,fH)}))}},null,[ss.IDisposable]);ss.initClass(A,a,{});ss.initClass(B,a,{});ss.initClass(C,a,{get_eventHandlerAttached:function(){return this.$a},dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(fE){return this.$1(fE,function(fF){return fF.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(fE){return this.$1(fE,function(fF){return fF.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(fE){return fE.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(fE){return fE.clickStoryPoint()})},$3:function(e,fE,fF){C.$0(e,fE);var fG=JSON.parse(e.get_parameters());var fH=fG['api.storyPointIndex'];if(!ss.isValue(fH)||isNaN(ss.unbox(fH))){throw new ss.Exception('Missing index parameter.')}var fI=this.$0();if(ss.Nullable$1.lt(fH,0)||ss.Nullable$1.ge(fH,ss.count(fI.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var fJ=$.Deferred();var fK=ss.getItem(fI.get_captions(),ss.unbox(fH));fF(fK).then(ss.mkdel(this,function(fL){var fM=o.serializeStoryPoint(fL,this.$7);fJ.resolve(fM)}),function(fL){fJ.reject(fL)});return fJ.promise()},$1:function(e,fE){C.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var fF=this.$0();var fG=$.Deferred();fE(fF).then(ss.mkdel(this,function(fH){var fI=ss.getItem(fF.get_captions(),fH);var fJ=o.serializeStoryPoint(fI,this.$7);fG.resolve(fJ)}),function(fH){fG.reject(fH)});return fG.promise()},$4:function(){var e=o.serializeStory(this.$7);var fE=JSON.stringify(e);this.$b.sendEventNotification('api.StorytellingStateChangedEvent',null,fE)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(fE,fF){try{fF(fE).then(ss.mkdel(this,function(e){var fG=f.$0('api.success',e);this.$b.sendResponse(fE,fG)}),ss.mkdel(this,function(e){var fG=f.$0('api.remotefailed',e);this.$b.sendResponse(fE,fG)}))}catch(fG){var e=ss.Exception.wrap(fG);var errorResult1=f.$0('api.localfailed',e.get_message());this.$b.sendResponse(fE,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(D,a,{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var fE=f.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,fE);this.$3.sendEventNotification('api.ToolbarStateChangedEvent',null,JSON.stringify(this.get_toolbarState()))},$0:function(e,fE){var fF=e[fE];return ss.isValue(fF)&&eO.shouldShowButton(fF,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};D.$0(e,this.$5.get_vizCommandItems());D.$0(e,this.$5.get_nonVizCommandItems());var fE=w.newToolbarStatePM(D.$1(e,'undo'),D.$1(e,'redo'),D.$1(e,'revert'),!D.$2(e,'toggle-updates','Pause'),D.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'));this.set_toolbarState(fE);this.$2()}},null,[ss.IDisposable]);ss.initClass(E,a,{});ss.initClass(E,a,{});ss.initClass(F,a,{shouldShowAppBanner:function(){if(!tsConfig.is_mobile||tsConfig.is_mobile_app||!tsConfig.showAppBanner||tsConfig.isPublic||tsConfig.is_authoring||tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){return false}var e=tab.CookieHelper.getValueForCookie('hideAppBanner');var fE=tab.MiscUtil.toBoolean(e,false);return!fE},createHideAppBannerCookie:function(){var e=new Date;e.setTime(e.getTime()+tab.DateUtil.oneWeek);tab.CookieHelper.setCookie('hideAppBanner',true.toString(),'/',e)},redirectToApp:function(){var e=tab.WindowHelper.getLocation(window.self);var fE=ss.replaceAllString(e.href,e.protocol,'tableau:');tab.WindowHelper.locationReplace(window.self,fE);window.setTimeout(ss.mkdel(this,function(){this.$2()}),1000)},$2:function(){if(BrowserSupport.BrowserSupport.IsAndroid()){tab.WindowHelper.locationReplace(window.self,'https://play.google.com/store/apps/details?id=com.Tableau.TableauApp')}else if(BrowserSupport.BrowserSupport.IsIos()){if(window.confirm(tab.Strings.RedirectToApp)){tab.WindowHelper.locationReplace(window.self,'https://itunes.apple.com/app/tableau-mobile/id434633927')}}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(G,a,{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$1$5},set_tabbedNavigation:function(e){this.$1$5=e},get_rightAreaDrawerViewModel:function(){return this.$1$6},set_rightAreaDrawerViewModel:function(e){this.$1$6=e},get_client:function(){return this.$1$7},set_client:function(e){this.$1$7=e},get_apiEventHandler:function(){return this.$1$8},set_apiEventHandler:function(e){this.$1$8=e},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){return}this.set_rightAreaDrawerViewModel(new ec(this.$p.get_rightAreaDrawer()));this.$b(this.get_rightAreaDrawerViewModel())},processUrlParamsToShowRightAreaDrawer:function(){if(ss.isNullOrUndefined(this.get_rightAreaDrawerViewModel())){return}var e=tab.VizUriModel.createForCurrentWindowLocation(null);if(tsConfig.allow_commenting&&e.get_showComments()&&tsConfig.commentingEnabled){this.get_rightAreaDrawerViewModel().toggleCommenting()}else if(tab.FeatureFlags.isEnabled('AlertSidePanel')&&tsConfig.allow_data_alert&&(!ss.isNullOrEmptyString(e.get_showDataAlertId())||e.get_showDataAlerts())){this.get_rightAreaDrawerViewModel().toggleDataAlertsPanel()}},$b:function(e){var fE=function(){G.get_instance().get_client().doResize()};e.add_open(fE);e.add_close(fE);this.$q.add$1(new tab.CallOnDispose(function(){e.remove_open(fE);e.remove_close(fE);tab.MiscUtil.dispose$1(e)}));this.$r=tab.ObjectRegistry.newView(eb).call(null,[e]);this.$1(this.$r)},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigationWrapper');if(e.length>0){if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim()}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fE){var fF=$("<div dojoAttachPoint='tabbed_navigation' class='tabbedNavigation'></div>").get(0);fF.id=(tsConfig.features['IframeSizedToWindow']?'tabs':'tabbedNavigation');e.append(fF);this.set_tabbedNavigation(fE.createTabbedNavigation({},fF));this.get_tabbedNavigation().startupShim()}))}},dispose:function(){if(!ss.isValue(G.$5)){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().dispose();this.set_apiEventHandler(null)}this.$2();this.$q.dispose();this.$g();this.$s.dispose();if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim();this.set_tabbedNavigation(null)}G.$5=null},$k:function(){this.$p=tab.ApplicationModel.get_instance();this.$p.add_newWorkbook(ss.mkdel(this,this.$f));this.$q.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$p.remove_newWorkbook(ss.mkdel(this,this.$f));this.$p=null})));return this},$l:function(){this.$f(this.$p.get_workbook());this.$q.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f(null)})));return this},$f:function(e){if(ss.isValue(e)){e.add_dashboardDeleted(ss.mkdel(this,this.$o));e.add_uiModeChanged(ss.mkdel(this,this.$9))}if(ss.isValue(this.$u)){this.$u.remove_dashboardDeleted(ss.mkdel(this,this.$o));this.$u.remove_uiModeChanged(ss.mkdel(this,this.$9))}this.$u=e},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$o:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.get_client())){return}this.get_client().destroyRecursive();this.set_client(null);this.$t=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$g:function(){if(!G.get_isHostedInApiContext()){return}if(ss.isValue(this.get_apiEventHandler())){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var fE=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',fE)}this.set_apiEventHandler(null)}},$c:function(e,fE){if(!G.get_isHostedInApiContext()){return}this.set_apiEventHandler(new z(e,fE,tabBootstrap.ViewerBootstrap.get_instance().apiResponder));var fF=window.addEventListener;if(ss.isValue(fF)){fF('message',ss.mkdel(this,this.$4),true)}else{var fG=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',fG)}},$0:function(){if(!G.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$e),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$e))}},$e:function(e){this.$g()},$5:function(){this.$m();this.$a();this.processUrlParamsToShowRightAreaDrawer();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$7:function(){G.$5.dispose();if(ss.isValue(G.$4)){G.$4.dispose()}G.$6=false},$j:function(){var e=function(fG){var fH=[];for(var fI=0;fI<fG.length;fI++){var fJ=fG[fI];fH.push(tab.DownloadableFontPropertiesExtensions.toDownloadableFontProperties(fJ,''))}eg.get_instance().notifyDownloadableFont(fH)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(fG){var fH=!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fG.get_applicationPresModel().renderMode==='render-mode-client';var fI=ss.referenceEquals(fG.get_worldUpdateCommand().commandName,{ns:'tabdoc',cmd:'execute-expression'}.cmd);if(ss.referenceEquals(fG.get_worldUpdateCommand().commandName,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd)||ss.referenceEquals(fG.get_worldUpdateCommand().commandName,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)||fG.get_sheetChanged()||fG.get_rebuildTheWorld()||fH||fI){G.$2();if(fH||fI){var fJ=null;fJ=function(){tab.CommandController.get().remove_modelsUpdated(fJ);G.handleAllFontsFound()};tab.CommandController.get().add_modelsUpdated(fJ)}}});tab.FontNotificationUtil.add_allFontsFound(G.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var fE=null;fE=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(fE);G.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(fE)}var fF=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){eg.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(fF)});tab.StartupUtils.callOnceAfterInitialBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){G.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(fF)});G.$2()},$a:function(){tabBootstrap.MetricsController.initSessionInfo();var e=[];if(tab.MetricsLogger.isLoggerEnabled()){e.push(new tab.MetricsLogger)}if(tab.OnlineAnalyticsMetricsLogger.isLoggerSupported()){e.push(new tab.OnlineAnalyticsMetricsLogger)}if(tab.NewRelicMetricsLogger.isLoggerSupported()){e.push(new tab.NewRelicMetricsLogger)}tabBootstrap.MetricsController.setEventLoggers(e)},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().handleEvent(e)}},$6:function(e){this.$n(e);var fE=tab.CommandController.get().legacySession;this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var fF=G.$0(true,fE);this.set_client(fF);this.$t=fF;this.get_client().startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$m();if(!tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){this.$h(e)}},$8:function(e){this.$m();G.handleAllFontsFound()},$m:function(){if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().updateClients(this.get_client(),this.$t)}},$h:function(e){if(tsConfig.is_authoring){this.$i(e.repositoryUrl,e.sheetName)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.repositoryUrl)}},$i:function(e,fE){var fF=tab.VizUriModel.createForCurrentWindowLocation(null);if(fF.get_isAuthorNewWorkbookUri()){return}if(this.$d(e)){var fG=tab.VizUriModel.createForAuthoringPublishedSheet(e);fG.replaceState(null)}else if(tab.MiscUtil.isNullOrEmpty$3(e)){var fH=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,fE);fH.replaceState(null)}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$d(e)){var fE=tab.VizUriModel.createForViewingSheet(e);fE.replaceState(null)}else{}},$d:function(e){return!tab.MiscUtil.isNullOrEmpty$3(e)&&!ss.startsWithString(e,'ds:')},$n:function(e){tsConfig.current_sheet_name=e.sheetName;tsConfig.current_sheet_type=e.sheetType;tsConfig.current_view_id=e.viewId;if(e.isCurrentCustViewIdValid){tsConfig.current_custom_view_id=e.currentCustomViewId}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.layoutId;tsConfig.embeddedTitle=e.embeddedTitle;tsConfig.blogURI=e.blogLink;tsConfig.requestURI=e.shareLink;if(!ss.isNullOrEmptyString(tsConfig.downloadURI)){tsConfig.downloadURI=e.downloadLink}else{tsConfig.downloadURI=''}tsConfig.staticImage=e.staticImage;tsConfig.guid=e.guid;var fE=e.repositoryUrl;tsConfig.repositoryUrl=(this.$d(fE)?fE:'')},$9:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){EventUtils.GlobalUIEvents.FireDismissTemporaryElements()}}},null,[ss.IDisposable]);ss.initClass(H,a,{},spiff.Template,[ss.IDisposable]);ss.initInterface(cP,a,{add_scrolled:null,remove_scrolled:null,get_visibleRect:null,appendToDom:null,convertPointFromPageToDashboardCoords:null});ss.initClass(I,a,{add_scrolled:function(e){this.get_dom().domNode[0].addEventListener('scroll',e)},remove_scrolled:function(e){this.get_dom().domNode[0].removeEventListener('scroll',e)},get_dom:function(){return this.get_template()},get_containerNode:function(){return this.$i.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$e:function(){return this.get_viewModel()},get_visibleRect:function(){return{l:this.get_dom().domNode[0].scrollLeft,t:this.get_dom().domNode[0].scrollTop,w:this.get_dom().domNode[0].clientWidth,h:this.get_dom().domNode[0].clientHeight}},onAddedToDom:function(){if(!this.addedToDom){this.$d();this.$c();this.$a();this.$9();this.$b();spiff.FocusManager.initialize();if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){$(document.body).addClass('ff-IFrameSizedToWindow')}if(this.$e().get_shouldShowCommenting()){$(document.body).addClass('ff-CommentingPane')}if(tab.GestureModelSettings.get_newModelEnabled()){$(document.body).addClass('ff-TouchSmoothTooltips')}}spiff.Widget.prototype.onAddedToDom.call(this)},$d:function(){if(eU.get_toolbarIsBottom()){this.get_toolbarContainer().detach().appendTo($(I.vizContainerSelector))}},resizeToolbar:function(){this.$h.forceResizeToolbar()},resizeAppBanner:function(e){if(ss.isValue(this.$f)){this.$f.get_rootElement().width(e.w)}},addDevicePreviewSettings:function(){var e=this.$e().get_devicePreviewViewModel();if(e.get_shouldCutInteraction()){this.$g=new spiff.Glass(null,false);this.$g.show()}if(e.get_shouldScaleDownVizContainer()){var fE=e.get_getDevicePreviewVizContainerCss();$(I.vizContainerSelector).css(fE)}},$9:function(){if(this.$e().get_appBannerViewModel().shouldShowAppBanner()){this.$f=tab.ObjectRegistry.newView(cN).call(null,[this.$e().get_appBannerViewModel()]);this.$f.get_rootElement().insertBefore(J.selectCenteringContainer()).width(J.getClientBounds().w)}},$c:function(){this.$i=tab.ObjectRegistry.newView(fy).call(null,[this.$e().get_workbookViewModel()]);this.$i.addToDom(this.get_dom().domNode)},$a:function(){if(ss.isNullOrUndefined(this.$e().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$h=tab.ObjectRegistry.newView(eT).call(null,[this.$e().get_toolbarViewModel()]);this.$h.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.VizLayoutConstants.get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}},$b:function(){if(ss.isNullOrUndefined(this.$e().get_toolbarViewModel())||ss.isNullOrUndefined(this.$e().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$e().get_toolbarViewModel().get_dialogHostViewModel();var fE=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bX,bW,Object])).call(null,[e]);fE.addToDom(this.get_toolbarContainer());fE.addClass('tab-toolbar-dialoghost');if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){$(document.body).addClass('ff-ViewingToolbarModalDialog')}},appendToDom:function(e){e.addToDom(this.get_dom().domNode)},convertPointFromPageToDashboardCoords:function(e){var fE=tab.DomUtil.toPoint(tab.DomUtil.getPageOffset$1(this.get_dom().domNode));var fF=tab.PointUtil.subtract(e,fE);var fG={x:this.get_dom().domNode[0].scrollLeft,y:this.get_dom().domNode[0].scrollTop};var fH=tab.PointUtil.add(fF,fG);return fH},dispose:function(){if(ss.isValue(this.$g)){this.$g.dispose()}ss.makeGenericType(spiff.BaseView$1,[K]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[K]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[K]),cP]);ss.initInterface(cO,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_toolbarCommands:null,get_customViewsViewModel:null,get_deviceLayoutViewModel:null,get_dashboardViewport:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cM,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(J,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$w)&&ss.isValue(this.$w.get_dashboardViewModel())){return this.$w.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$s();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$s();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$s();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$s();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.zones},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$q().get_isDashboard()},$u:function(){return tabBootstrap.VizLayoutConstants.get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_viewControllers:function(){var e=this.$p();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$D},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$w)){return this.$w.get_toolbarViewModel()}else{return null}},get_deviceLayoutViewModel:function(){if(ss.isValue(this.$w)){return this.$w.get_deviceLayoutViewModel()}else{return null}},$t:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(J)+tsConfig.layoutid)},$s:function(){if(ss.isValue(this.$w)&&ss.isValue(this.$w.get_dashboardViewModel())){return this.$w.get_dashboardViewModel().get_flipboardViewModel()}return null},get_workbookViewModel:function(){return(ss.isValue(this.$w)?this.$w.get_workbookViewModel():null)},$q:function(){if(ss.isValue(this.$w)){return this.$w.get_dashboardViewModel()}return null},$p:function(){if(ss.isValue(this.$w)){return this.$w.get_contentDashboardViewModel()}return null},$r:function(){return(ss.isValue(this.$w)?this.$w.get_devicePreviewViewModel():null)},get_domNode:function(){return this.$v.get_dom().domNode},get_toolbarContainer:function(){return this.$v.get_toolbarContainer()},get_vizClientContainerSize:function(){var e=document.getElementById('viz-client-container');return{w:e.clientWidth,h:e.clientHeight}},get_dashboardViewport:function(){return this.$v},startup:function(){this.$w=new K(tab.ApplicationModel.get_instance());this.$v=tab.ObjectRegistry.newView(I).call(null,[this.$w]);this.$w.add_applicationUpdate(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$w.remove_applicationUpdate(ss.mkdel(this,this.$i))})));this.setupDomAndEvents();if(this.$w.get_shouldShowRightAreaDrawer()){G.get_instance().initRightAreaDrawer()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$B=tab.MiscUtil.clearTimeout(this.$B);this.$D=tab.MiscUtil.dispose$1(this.$D);for(var e=0;e<this._connections.length;e++){var fE=this._connections[e];fE.dispose()}ss.clear(this._connections);if(ss.isValue(this.$w)){this.$w.dispose();this.$w=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$v=tab.MiscUtil.dispose$1(this.$v);this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$C++}this.$l(!this.$x)},$6:function(e){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(fE){var fF=fE.createSpiffPdfExportDialog(this.get_session(),tsConfig.is_mobile);e(fF)}))},resize:function(e){if(!e&&ss.isValue(this.$A)){var fE=this.$9();if(fE.w===this.$A.w&&fE.h===this.$A.h){this.$z=false;return}if(this.$z){this.$A=fE;this.$z=false;return}this.$z=true}else{this.$z=false}this.doResize()},$b:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$h));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$h))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f))})));if(tab.FeatureFlags.isEnabled('PortableSessionsCheckpoint')){tab.BaseSession.subscribeToSessionRecoveryAttempt(eh.onSessionRecoveryAttempt)}},$c:function(e){var fE=false;if(e.clientX>=e.target.clientWidth||e.clientY>=e.target.clientHeight){fE=true}return fE},$j:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))&&!this.$c(e)||bu.isDashboardNode(e.target)||ss.referenceEquals(e.target,this.$v.get_containerNode().get(0))||ss.referenceEquals(e.target,fy.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))&&!this.$c(e)||bu.isDashboardNode(e.target)||$(e.target).hasClass('wcLayoutContainer')){var fE=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(fE)){tab.SelectionClientCommands.clearAllSelections(fE.get_visualId())}e.preventDefault()}}},setupDomAndEvents:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',BrowserSupport.BrowserSupport.IsIE());var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$(I.applicationContainerSelector):$('#centeringContainer'));e.append(this.get_domNode());var fE=new m;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$g)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(fE,fE.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(fE,fE.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));fE.$6(ss.mkdel(this,this.$j));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){fE.$7(ss.mkdel(this,this.$j))})));this.$v.onAddedToDom();tab.BaseSession.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$o();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$7));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$7))})));this.$b()},$7:function(){tab.ToolbarServerCommands.launchEditing()},$a:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$i:function(){if(ss.isNullOrUndefined(this.$q())){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,this.$o));if(!this.get_skipInit()&&!this.$y){tab.BaseSession.get_waitHandler().onNextHide(ss.mkdel(this,this.$8));this.$m()}this.$y=true;if(!this.$u()){this.layoutToolbar()}this.$v.resizeAppBanner(J.getClientBounds());this.$r().set_vizSize(this.get_vizSize());this.$v.addDevicePreviewSettings();this.resize(false)},$o:function(){},$m:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$a())}},$g:function(e){var fE=$(e.target);if(fE.filter('input[type=text]').length===0&&fE.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$9:function(){var e=null;if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')||tsConfig.isPublic){e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{e={w:window.innerWidth,h:window.innerHeight}}return e},$f:function(){G.get_instance().initTabbedNavigation();this.$A=this.$9();if(this.$C>1){this.$n()}},$h:function(e){var fE=e.layoutStatus;this.set_invalid(!ss.isNullOrUndefined(fE.invalidatedLayout)&&fE.invalidatedLayout);if(ss.isValue(fE.vizStateList)&&fE.vizStateList.length>0){var fF=[];for(var fG=0;fG<fE.vizStateList.length;fG++){var fH=fE.vizStateList[fG];if(!ss.contains(fF,fH.sheet)&&fH.vizRegionRectList.length>0){fF.push(fH.sheet)}}var fI=this.get_viewControllers();for(var fJ=0;fJ<fF.length;fJ++){var fK=fF[fJ];var fL={$:fK};var fM=_.find(fI,ss.mkdel({name:fL},function(fN){return ss.referenceEquals(fN.get_sheetName(),this.name.$)}));if(ss.isValue(fM)){fM.$1(e)}}}},$l:function(e){var fE=(e?0:1000);this.$B=tab.MiscUtil.clearTimeout(this.$B);this.$B=window.setTimeout(ss.mkdel(this,this.$k),fE)},$k:function(){if(!tab.BaseSession.get_waitHandler().isBusy()&&(!this.$x||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$w)){this.$d();return}this.$B=tab.MiscUtil.clearTimeout(this.$B);this.$B=window.setTimeout(ss.mkdel(this,this.$k),100)},$d:function(){var e=tab.FeatureFlags.isEnabled('IframeSizedToWindow');this.$A=this.$9();if(tsConfig.isPublic){var fE=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(I.vizContainerSelector).css({width:fE.w+'px',height:fE.h+'px'})}this.$n();tab.CommandController.get().refreshLayout();this.layoutToolbar();var fF=G.get_instance().get_tabbedNavigation();if(this.$u()&&ss.isValue(fF)){if(tsConfig.is_mobile_app){var fG=(e?this.get_vizClientContainerSize().w:J.getClientBounds().w);fF.get_widgetDomNode().style.width=fG+'px'}fF.resizeShim()}this.$x=true},layoutToolbar:function(){var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize().w:J.getClientBounds().w);if(ss.isValue(this.$E)&&this.$E===e){return}this.$E=e;{var fE=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(eU.get_toolbarIsBottom()&&!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile&&!tsConfig.is_authoring&&!tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){this.$v.resizeToolbar()}else if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){if(eU.get_toolbarIsBottom()||!this.$u()){this.get_toolbarContainer().css('max-width',this.$E+'px')}this.$v.resizeToolbar()}}}finally{if(ss.isValue(fE)){fE.dispose()}}}},$n:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$x){return}this.doUpdateClientBound()},doUpdateClientBound:function(){var e=null;var fE=tsConfig.is_mobile_device&&!tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage();if(!fE){e=tab.DashboardSizeCalculator.asSizePresModel(tab.DashboardSizeCalculator.get_dashboardViewportSize())}else{var fF=J.getClientBounds();e={w:fF.w,h:fF.h}}tab.SheetClientCommands.setPortSize(e)},$e:function(){tabBootstrap.MetricsController.logMetricsEvent('APPINT'.toString(),2);var e=tabBootstrap.Utility.sendCommandWithContext('tableau.responsive');if(!e){}},$8:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$e();var fE=$('#staticImage');var fF=$('#loadingGlassPane');var fG=$('#loadingSpinner');var fH=$('#svg-spinner-container');if(tsConfig.animateTransition){tab.WaitHandler.loadingElementFadeOut(fG,e,function(fI){fI.hide();fH.css('background','rgba(255,255,255,0.6)')});tab.WaitHandler.loadingElementFadeOut(fF,e,function(fI){fI.hide().css('cursor','default')});if(fE.length>0){tab.WaitHandler.loadingElementFadeOut(fE,e,function(fI){fI.hide()})}}else{fG.hide();fE.hide();fF.hide()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cO,cM]);ss.initClass(K,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$a.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$a.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$a},get_appBannerViewModel:function(){return this.$5},get_toolbarViewModel:function(){return this.$9},get_devicePreviewViewModel:function(){return this.$8},get_deviceLayoutViewModel:function(){return this.$7},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tab.FeatureFlags.isEnabled('CommentingPane')&&tab.FeatureFlags.isEnabled('CommentingOnSingleVizWithContext')&&tsConfig.allow_commenting&&tsConfig.allow_view_comments;return e},get_shouldShowRightAreaDrawer:function(){return!(tsConfig.is_authoring&&tsConfig.is_mobile)&&!tsConfig.is_mobile_app},$3:function(){tab.CommandController.get().legacySession.performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$4))},dispose:function(){if(ss.isValue(this.$9)){this.$9.dispose()}this.$5.dispose();this.$2();this.$6.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));this.$8.dispose();this.$7.dispose();spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$a=new fz(e)},$2:function(){if(ss.isValue(this.$a)){this.$a.dispose();this.$a=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){var fE=e;if(ss.isValue(fE['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(fE['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(L,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var fE=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(fE);this.$9.confirmButton.append(fE.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(M,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(P,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},get_submitted:function(){return this.$1$1},set_submitted:function(e){this.$1$1=e},onAuthDialogMessage:function(e,fE){if(ss.isNullOrUndefined(e)){return}var fF=e;var fG=fF.data.toString();if(ss.isNullOrEmptyString(fG)||!ss.equalsT(fG,'tableau.authCompleted')){return}if(!ss.equalsT(BrowserSupport.BrowserSupport.GetOrigin(document.location),fF.origin)){return}this.set_submitted(true);this.cleanup(fE);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(O,a,{cleanup:function(e){var fE=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(fE)){fE.parentElement.removeChild(fE)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}},dispose:function(){this.cleanup(null)}},P,[ss.IDisposable]);ss.initClass(N,a,{show:function(){this.createOverlay();var e=new co;var fE=ss.mkdel(this,function(){this.cleanup(e)});fB.add_zoneBecameValid(fE);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){fB.remove_zoneBecameValid(fE)});var fF=ss.mkdel(this,function(fH){this.onAuthDialogMessage(fH,e)});e.eventHandler=fF;var fG=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(fG);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(fG)});tab.WindowHelper.addListener(window.self,'message',fF)},createOverlay:function(){var e=$('.dashboardSpacer');var fE=$("<div id='auth-overlay'></div>");if(ss.isValue(this.$4)){tab.DataConnectionUtils.isTableauServerSupportedInReconnectFlow(this.dataSourceConnectionAttemptErrorResponse.ConnectionClass).done(ss.mkdel(this,function(fF){var fG=this.$1();if(fF){ReactDOM.render(React.createElement(eB,fG),fE.get(0))}else{ReactDOM.render(React.createElement(eo,fG),fE.get(0))}}))}else{this.$0(fE)}e.append(fE)},$0:function(e){var fE=document.createElement('iframe');fE.setAttribute('src',this.$2);fE.setAttribute('tb-test-id','dse-frame');e.append(fE)},$1:function(){var e=[];for(var fE=0;fE<this.$4.connectionAttrDisplayNames.length;++fE){e.push([this.$4.connectionAttrDisplayNames[fE],this.$4.connectionAttrDisplayValues[fE]])}var fF={connectionAttemptInfo:this.$3,connectionAttributes:this.$4.exceptionAttrs,connectionDisplayAttributes:Array.prototype.slice.call(e),connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionErrorStage:this.$4.connectionErrorStage,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,connectionTypeLabel:this.$4.connectionTypeLabel,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption,errorType:this.dataSourceConnectionAttemptErrorResponse.ErrorType,onCredentialsAdded:ss.mkdel(this,function(fG){this.cleanup(null);this.onProceed()})};return fF}},O,[ss.IDisposable]);ss.initClass(Q,a,{dispose:function(){if(ss.isValue(this.parentNode)){ReactDOM.unmountComponentAtNode(this.parentNode);$(this.parentNode).remove()}}},null,[ss.IDisposable]);ss.initClass(S,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var fE={x:e.x,y:e.y};S.$0(fE);fE.y-=this.$0.t;fE.x-=this.$0.l;return fE},getVisibleRoom:function(e,fE){var fF=this.translatePositionToViewport(e);var fG=function(fL){return Math.max(0,fL-fE)};var fH=fG(Math.min(this.get_dimensions().w-fF.x,window.pageXOffset+window.innerWidth-e.x));var fI=fG(Math.min(fF.x,e.x));var fJ=fG(Math.min(fF.y,e.y));var fK=fG(Math.min(this.get_dimensions().h-fF.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:fJ,roomBelow:fK,roomLeft:fI,roomRight:fH}},getDocumentViewport:function(e){var fE=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-fE.roomLeft),t:ss.Int32.trunc(e.y-fE.roomAbove),w:ss.Int32.trunc(fE.roomLeft+fE.roomRight),h:ss.Int32.trunc(fE.roomAbove+fE.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(T,a,{dispose:function(){eg.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$4))},$4:function(){this.props.handleFontLoaded()},$a:function(){return this.props.enabledState==='enabled'},$9:function(){return this.props.enabledState==='disabled-no-permissions'},render:function(){var e=ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-button-object',title:this.props.tooltipText,'aria-label':this.props.tooltipText,style:this.$5(),onMouseEnter:ss.mkdel(this,function(fE){this.props.hoverActivated()}),onMouseLeave:ss.mkdel(this,function(fE){this.props.hoverDeactivated()}),onDoubleClick:ss.mkdel(this,this.$6),'data-test-id':'tab-button-object'},(!this.$a()?ss.mkdel(this,this.$d)():null),this.$b())});return spiff.InteractAsButtonWrapperComponent.create({handleClickOnly:ss.mkdel(this,this.$8),handleEnterSpaceOnly:ss.mkdel(this,this.$7),disabled:false,buttonContent:e})},$0:function(e){var fE='#808080';var fF='#e5e5e5';e.borderWidth=this.props.border.width+'px';e.borderStyle=tab.BorderDefinition.borderStyleToCss(this.props.border.style);e.borderColor=(this.$a()?this.props.border.color:fE);e.backgroundColor=(this.$a()?this.props.backgroundColor:fF);e.boxSizing='border-box'},$1:function(e){e.fontFamily=this.props.captionTextFont;e.color=this.props.captionTextColor;e.fontSize=this.props.captionFontSize+'pt';e.fontStyle=(this.props.captionFontIsItalic?'italic':'normal');e.fontWeight=(this.props.captionFontIsBold?'bold':'normal');e.textDecoration=(this.props.captionFontIsUnderlined?'underline':'');var fE=new bj(e);tab.FormattingConverters.cleanUpFontFamilyStyling(fE)},$5:function(){var e={width:this.props.width,height:this.props.height};if(tab.FeatureFlags.isEnabled('BasicButtonObjectStyling')){this.$0(e)}if(tab.FeatureFlags.isEnabled('BasicButtonObjectTextSupport')){this.$1(e)}return e},$d:function(){return spiff.DOMElements.div({className:'tab-button-zone-disabled-overlay',key:'disabledButtonOverlay'})},$3:function(){return this.props.imageWidth-2*this.props.border.width},$2:function(){return this.props.imageHeight-2*this.props.border.width},$c:function(){return spiff.DOMElements.div({className:'tab-button-zone-image-hover',style:{width:this.$3(),height:this.$2(),backgroundColor:tab.ColorModel.fromColorCode(this.props.backgroundColor).toRgb(),opacity:0.5}})},$6:function(e){if(!this.$a()&&tsConfig.is_authoring&&e.button===0&&!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()){this.props.handleAuthoringDoubleClick()}},$8:function(e){var fE=e.altKey||!tsConfig.is_authoring;if(this.$a()&&fE){bp.logNavigateButtonByClickEvent(tsConfig.is_authoring,e.altKey);this.props.navigateToSheet()}else if(fE&&this.$9()){this.props.handlePermissionsError()}},$7:function(){if(this.$a()){bp.logNavigateButtonByKeyboardEvent(tsConfig.is_authoring);this.props.navigateToSheet()}else if(this.$9()){this.props.handlePermissionsError()}},$b:function(){if(tab.FeatureFlags.isEnabled('BasicButtonObjectTextSupport')&&this.props.buttonType==='text'){return this.$g()}else if(tab.FeatureFlags.isEnabled('BasicButtonObjectTextSupport')&&this.props.buttonType==='image'){return this.$f()}else{return this.$f()}},$f:function(){if(!this.$a()){return this.$e('tab-button-zone-image-disabled')}else{return spiff.DOMElements.div({className:'tab-button-object-hover'},this.$e('tab-button-zone-image'),(this.props.hoverActive?ss.mkdel(this,this.$c)():null))}},$g:function(){return spiff.DOMElements.div({className:'tab-button-zone-text','data-test-id':'tab-button-zone-text'},this.props.effectiveCaption.toString())},$e:function(e){var fE=this.$3();var fF=this.$2();var fG={className:'image-disabled-svg',width:fE,height:fF};var fH=spiff.DOMElements.feColorMatrix({values:'0.3333 0.3333 0.3333 0.17 0\n                           0.3333 0.3333 0.3333 0.17 0\n                           0.3333 0.3333 0.3333 0.17 0\n                           0      0      0      1    0'});var fI=spiff.DOMElements.filter({id:'grayscale'},fH);var fJ=spiff.DOMElements.defs({},fI);var fK=spiff.DOMElements.image({xlinkHref:this.props.imageUrl,className:e,width:fE,height:fF});return spiff.DOMElements.svg(fG,fJ,fK)}},React.Component,[ss.IDisposable]);ss.initClass(U,a,{$c:function(){return this.$m.get_backgroundColor()},$d:function(){return new tab.BorderDefinition(this.$m.get_borderWidth(),this.$m.get_borderStyle(),this.$m.get_borderColor(),0)},$f:function(){return this.$m.get_buttonType()},$e:function(){return this.$m.get_buttonBehaviour()},$h:function(){return this.$m.get_effectiveCaption()},$g:function(){return this.$m.get_clickActionString()},$l:function(){return this.$m.get_tooltipText()},get_imageUrl:function(){var e=tab.CommandController.get().legacySession;var fE=e.formatDashboardTempfileReference(this.$m.get_imagePathKey(),true,false);return fE},$k:function(){return this.$m.get_imageWidth()},$j:function(){return this.$m.get_imageHeight()},get_imageWidth:function(){return(this.get_isWidthConstrained()?this.$o.get_contentWidth():ss.Int32.trunc(this.get_aspectRatio()*this.$o.get_contentHeight()))},get_imageHeight:function(){return(this.get_isWidthConstrained()?ss.Int32.trunc(this.$o.get_contentWidth()/this.get_aspectRatio()):this.$o.get_contentHeight())},get_aspectRatio:function(){return this.$k()/this.$j()},get_isWidthConstrained:function(){var e=this.$k()/this.$o.get_contentWidth()>=this.$j()/this.$o.get_contentHeight();return e},get_captionTextFont:function(){return this.$m.get_captionFontName()},get_captionTextColor:function(){return this.$m.get_captionTextColor()},get_captionFontSize:function(){return this.$m.get_captionFontSize()},get_captionFontIsBold:function(){return this.$m.get_captionFontIsBold()},get_captionFontIsItalic:function(){return this.$m.get_captionFontIsItalic()},get_captionFontIsUnderlined:function(){return this.$m.get_captionFontIsUnderlined()},$i:function(){return this.$m.get_enabledState()},createUpdatedProps:function(){return{backgroundColor:this.$c(),border:this.$d(),buttonType:this.$f(),buttonBehaviour:this.$e(),effectiveCaption:this.$h(),navigateToSheet:ss.mkdel(this,this.navigateToSheet),tooltipText:this.$l(),enabledState:this.$i(),imageUrl:this.get_imageUrl(),width:this.$o.get_contentWidth(),height:this.$o.get_contentHeight(),imageWidth:this.get_imageWidth(),imageHeight:this.get_imageHeight(),hoverActivated:ss.mkdel(this,this.$a),hoverDeactivated:ss.mkdel(this,this.$b),hoverActive:this.$n,handleAuthoringDoubleClick:ss.mkdel(this,this.$5),handlePermissionsError:ss.mkdel(this,this.$8),captionTextFont:this.get_captionTextFont(),captionTextColor:this.get_captionTextColor(),captionFontSize:this.get_captionFontSize(),captionFontIsBold:this.get_captionFontIsBold(),captionFontIsItalic:this.get_captionFontIsItalic(),captionFontIsUnderlined:this.get_captionFontIsUnderlined(),handleFontLoaded:ss.mkdel(this,this.$7)}},$a:function(){this.$n=true;this.incrementProps()},$b:function(){this.$n=false;this.incrementProps()},$5:function(){var e=new tab.GetButtonConfigDialogCmd;e.c['dashboard']=this.$o.get_dashboardSheetName();e.c['dashboardObjectStateHandle']=this.$o.get_model().pm.zoneCommon.dashboardObjectCurrentStateHandle;e.c['dashboardObjectHandle']=this.$o.get_model().pm.zoneCommon.dashboardObjectHandle;e.c['zoneId']=this.$o.get_model().pm.zoneCommon.zoneId|0;e.invoke()},navigateToSheet:function(){var e=tab.CommandSerializer.deserialize(this.$g().toString(),false);tab.ServerCommands.executeServerCommand(e,'afterDelay',null,null)},$9:function(){this.incrementProps()},$6:function(){this.incrementProps()},$8:function(){bS.show(tab.Strings.DashboardButtonNoPermissions,tab.Strings.DashboardButtonAccessDenied,null)},$7:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(V,a,{$7:function(){return this.$2$1},$8:function(e){this.$2$1=e},$5:function(){return this.$2$2},$6:function(e){this.$2$2=e},$9:function(){return this.$2$3},$a:function(e){this.$2$3=e},handleCommandCompleted:function(){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(this.$1()){var e=new Date;X.$2(this.$c.get_commandName(),this.$d,e)}this.$0()},handleCommandError:function(){this.$0()},handleCommandStarted:function(e){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$c=e;this.$e=window.setTimeout(ss.mkdel(this,this.$4),this.dialogShowDelay)},$4:function(){if(!tab.FeatureFlags.isEnabled('CommandCancellation')||!this.$c.get_isCancelable()){return}if(ss.isNullOrUndefined(this.$c)||ss.isNullOrUndefined(this.$c.get_remoteCommands())){return}var e=this.$c.get_remoteCommands();if(e.length!==1){return}var fE=e[0];if(ss.isNullOrUndefined(V.$0)){this.parentNode=document.createElement('div');var fF={cancel:ss.mkdel(this,function(){this.$b=new Date;tab.CancelCommands.cancelRunningCommand(fE,ss.mkdel(this,this.$3),ss.mkdel(this,this.$2))}),title:this.$9()};V.$0=React.createElement(W,fF);ReactDOM.render(V.$0,this.parentNode);this.$d=new Date}},$1:function(){return ss.isValue(this.$c)},$0:function(){this.$e=tab.MiscUtil.clearTimeout(this.$e);V.$0=null;this.$d=null;this.$b=null;this.$c=null;_.defer(ss.mkdel(this,this.dispose))},$3:function(e){if(!ss.staticEquals(this.$7(),null)){this.$7()(e)}if(this.$1()){var fE=new Date;X.$3(this.$c.get_commandName(),e,this.$d,this.$b,fE)}this.$0()},$2:function(){if(!ss.staticEquals(this.$5(),null)){this.$5()()}if(this.$1()){var e=new Date;X.$1(this.$c.get_commandName(),this.$d,this.$b,e)}this.$0()}},Q,[ss.IDisposable,tab.IWaitForCommands]);ss.initClass(W,a,{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.$1(),testId:'CancelDialog',isModal:true,type:2,positioningBehavior:0,dialogBodyStyle:{height:200+'px',width:375+'px',overflow:'visible',padding:0},onCloseRequest:function(){},shouldReturnFocusOnClose:false,shouldAdjustPositionOnWindowResize:true,shouldRecenterOnUpdate:true,showFooter:false,title:(ss.isNullOrEmptyString(this.props.title)?tab.Strings.CancelDialogProcessingStatus:this.props.title),zIndex:1000})},$1:function(){return React.createElement(Cancel.WaitingComponent,{onButtonClick:ss.mkdel(this,this.$0),buttonType:3,buttonLabel:(this.state.isCanceling?tab.Strings.CancelDialogCancellingStatus:tab.Strings.DialogButtonCancel),disableButton:this.state.isCanceling,title:(ss.isNullOrEmptyString(this.props.title)?tab.Strings.CancelDialogProcessingStatus:this.props.title)})},$0:function(){this.props.cancel();this.setState({isCanceling:true})}},spiff.PureRenderComponent);ss.initClass(X,a,{});ss.initClass(Y,a,{get_renderOffset:function(){return this.$8},set_renderOffset:function(e){this.$8=e;this.get_currentContext().translate(-this.$8.x,-this.$8.y)},get_currentCanvas:function(){return(this.$7?this.$4:this.$1)},get_currentContext:function(){return(this.$7?this.$5:this.$2)},get_visibleRect:function(){if(ss.isValue(this.$0)){return this.$0}var e=Y.$5(this.get_currentCanvas(),this.get_currentCanvas().width);var fE=Y.$4(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$8.x,y:this.$8.y,w:e,h:fE}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$7=false;this.$5=null;this.$4=null;this.get_currentContext().reset();this.$8={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$8=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$7){return}if(ss.isValue(e)){this.$3=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$3=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$4)){this.$4=document.createElement('canvas');var fE={w:this.$1.width,h:this.$1.height};var fF={w:Y.$5(this.$1,0),h:Y.$4(this.$1,0)};Z.densifyCanvasUsingSize(this.$4,fE,fF)}if(ss.isNullOrUndefined(this.$5)){this.$5=Y.getRenderContext(this.$4,'transparent')}else{this.$5.reset()}var fG=this.$1.width/Y.$5(this.$1,this.$1.width);if(fG!==1){Z.scaleCanvasDrawing(this.$5,fG)}this.$5.setTransform(this.$2.get_transformation());this.$7=true;var fH=tab.RectXYUtil.outsetRect(this.$3,1,1);tab.RectXYUtil.intersectInPlace(fH,this.get_visibleRect());this.clearRect(fH)},endOffScreenRender:function(e){if(!this.$7){return}this.$7=false;this.$2.save();this.$2.set_alpha(e);this.$2.resetTransform();if(ss.isNullOrUndefined(this.$3)){this.$2.drawImage1(this.$4,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$3)){var fE=this.$2.pixelRatio;var fF=Math.max(0,Math.floor((this.$3.x-this.$8.x)*fE));var fG=Math.max(0,Math.floor((this.$3.y-this.$8.y)*fE));var fH=Math.min(this.$1.width,Math.ceil(this.$3.w*fE));var fI=Math.min(this.$1.height,Math.ceil(this.$3.h*fE));this.$2.drawImage5(this.$4,fF,fG,fH,fI,fF,fG,fH,fI)}this.$2.restore()},renderFilledRectangle:function(e,fE,fF,fG,fH){var fI=fF/2;var fJ=fG/2;var fK=this.get_currentContext();fK.set_shapeFillStyle(fH);fK.fillRect(e-fI,fE-fJ,fF,fG)},renderFilledWedge:function(e,fE,fF,fG,fH,fI,fJ){var fK=Y.toCanvasAngle(fG);var fL=Y.toCanvasAngle(fH);if(Math.abs(fL-fK)<Y.angleEpsilon){return}if(ss.isNullOrUndefined(fJ)){fJ=false}var fM=this.get_currentContext();fM.beginPath();fM.moveTo(e,fE);fK=Y.$6(fK);fL=Y.$6(fL);fM.arc(e,fE,fF,fK,fL,fJ);fM.closePath();fM.set_shapeFillStyle(fI);fM.fill()},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(fG){}}var fE=[];e.forEach(ss.mkdel(this,function(fG,fH){var fI=true;var fJ=fG.v[(fG.c?0:0)];for(var fK=1;fK<fG.length;++fK){if(!ss.referenceEquals(fJ,fG.v[(fG.c?0:fK)])){fI=false;break}}if(fI){this.setTextStyleProperty(fH,fJ)}else if(fH!=='text_style_color'){fE.push(fH)}}));var fF=ss.mkdel(this,function(fG){for(var fH=0;fH<fE.length;fH++){var fI=fE[fH];var fJ=e.get(fI);this.setTextStyleProperty(fI,fJ.v[(fJ.c?0:fG)])}});return fF},setTextStyleProperty:function(e,fE){switch(e){case'font':{this.get_currentContext().set_font(fE);break}case'text_orientation':{this.get_currentContext().set_textAngle(fE);break}case'text_alignment':{this.get_currentContext().set_textAlign(fE);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!fE);break}default:{break}}},renderText:function(e,fE,fF,fG,fH,fI){if(fI&&ss.isValue(this.$6)&&this.$6.$0(fE,fF)){var fJ=this.$6.$1(fE,fF);fE=fJ.x;fF=fJ.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(fH)){this.get_currentContext().set_textFillStyle(fH)}if(fG>0){if(!fI){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,fE,fF,fG)}else{this.get_currentContext().fillText1(e,fE,fF)}if(fI){var fK=this.get_currentContext().measureText(e).width;var fL=this.get_currentContext().get_textAlign()==='end';var fM=this.get_currentContext().get_textAngle();var fN;if(fM>1){fN='down'}else if(fM<-1){fN='up'}else{fN='horizontal'}this.$6=new j(fE,fF,fK,fL,fN)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$6=null},strokeCurrentPath:function(e,fE){var fF=this.get_currentContext();fF.set_lineWidth(e);fF.set_strokeStyle(fE);fF.stroke()},fillCurrentPath:function(e){var fE=this.get_currentContext();fE.set_shapeFillStyle(e);fE.fill()},startCachingVisibleRect:function(){this.$0=null;this.$0=this.get_visibleRect()},stopCachingVisibleRect:function(){this.$0=null}});ss.initClass(Z,a,{});ss.initClass(ba,a,{},ss.EventArgs);ss.initClass(bb,a,{});ss.initClass(bc,a,{dispose:function(){this.$2.dispose()},showErrorBanner:function(e,fE,fF,fG){this.$1({testId:'banner-error',toastType:'error',message:e,actionMessage:fE},fF)},showSuccessBanner:function(e,fE,fF,fG){this.$1({testId:'banner-success',toastType:'success',message:e,actionMessage:fE,autoDismiss:fG},fF)},$1:function(e,fE){var fF=document.createElement('div');e.topLeftYPx=tabBootstrap.VizLayoutConstants.get_authoringMenuBarHeight();e.onCloseRequest=function(){ReactDOM.unmountComponentAtNode(fF)};e.onAction=function(){fE();e.onCloseRequest()};e.zIndex=1031;var fG=React.createElement(SharedWidgets.ToastWidget,e);ReactDOM.render(fG,fF);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fF)})))},$0:function(e){if(!ss.isNullOrUndefined(e)){_.defer(function(){ReactDOM.unmountComponentAtNode(e);$(e).remove()})}}},null,[tab.ICommonBannerProvider,ss.IDisposable]);ss.initClass(bd,a,{showAlertDialog:function(e,fE){var fF=bd.$0();var fG={content:e,title:fE,contentSelectable:false,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fF)}};var fH=React.createElement(er,fG);ReactDOM.render(fH,fF);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fF)})))},showConfirmationDialog:function(e,fE,fF,fG,fH){var fI=bd.$0();var fJ={content:e,title:fE,contentSelectable:fF,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fI)}};if(fF){be.$1(fE,e,null)}fJ.dialogButtons.push({buttonClickHandler:fG,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});fJ.dialogButtons.push({buttonClickHandler:fH,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var fK=React.createElement(er,fJ);ReactDOM.render(fK,fI);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fI)})))},ShowErrorDialog:function(e,fE,fF){be.$1(fE,e,fF);bS.show(e,fE,fF)},ShowLocalErrorDialog:function(e,fE,fF){var fG=bd.$0();var fH={content:e,title:fE,contentSelectable:true,dialogButtons:[{buttonClickHandler:null,buttonText:tab.Strings.DialogButtonOK,testId:'OKBtn',buttonType:2}],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fG)}};be.$1(fE,e,null);if(tab.FeatureFlags.isEnabled('WebErrorDialog')){fH.dialogWidth=500;var fI=React.createElement(dg,fH);ReactDOM.render(fI,fG)}else{fH.dialogWidth=250;var fJ=React.createElement(er,fH);ReactDOM.render(fJ,fG)}this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fG)})))},showSheetAuthenticationOverlay:function(e,fE,fF){be.$0('AuthenticationOverlay',e);var fG=new N(e,fE,fF);fG.show();this.$2.add$1(fG)},showGenericDataSourceErrorOverlay:function(e,fE,fF){be.$0('GenericErrorOverlay',e);var fG=new cE(e,fE,fF);fG.show();this.$2.add$1(fG)},showSheetAuthenticationDialog:function(e,fE,fF){be.$0('AuthenticationDialog',e);var fG=new bP(e,fE,fF);fG.show();this.$2.add$1(fG)},showGenericDataSourceErrorDialog:function(e,fE,fF){be.$0('GenericErrorDialog',e);var fG=new cD(e,fE,fF);fG.show();this.$2.add$1(fG)},showFileDownloadDialog:function(e,fE,fF,fG){var fH=new ca(e,fE,fF,fG);fH.show();this.$2.add$1(fH)},showConnectionMissingFileDialog:function(e,fE,fF){var fG=$.Deferred();var fH=new bi(e,fE,fF);fH.add_handled(function(fI){fG.resolve(fI)});fH.show();this.$2.add$1(fH);return fG.promise()},showEditConnectionInformationDialog:function(e,fE){var fF=$.Deferred();if(!tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_workbook().get_dataSchema().getDataSource(e.datasource).get_isDataTabViewSupported()){return fF.resolve(false).promise()}if(fE){this.$1(e).done(function(fH){fF.resolve(fH)})}else{var fG=new ci(e);fG.add_handled(ss.mkdel(this,function(fH){if(fH){this.$1(e).done(function(fI){fF.resolve(fI)})}else{fF.resolve(false)}}));fG.show()}return fF.promise()},$1:function(e){var fE=$.Deferred();if(e.connectionErrorStage!=='load-metadata-failed'){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(function(fF){fF.showEditConnectionDialog(tab.DataConnectionUtils.connectionNameFromFullConnectionName(e.connectionFullName),function(fG){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','');fE.resolve(true)},function(){tab.SheetClientCommands.ensureLayoutForSheet(tsConfig.current_sheet_name);fE.resolve(false)})})}else{tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','');fE.resolve(true)}return fE.promise()},showConnectionSignInDialog:function(e,fE){var fF=$.Deferred();var fG=e.dataSourceConnectionAttemptInfos[0];if(tab.TabbedAuthenticationDialogCommands.useTabbedAuthDialog(e)){tab.TabbedAuthenticationDialogCommands.showTabbedAuthenticationDialog(tab.DataConnectionUtils.getConnectionNames(e),fE,e);return fF}else{var fH=[];for(var fI=0;fI<e.dataSourceConnectionAttemptInfos[0].connectionAttrDisplayNames.length;++fI){fH.push([fG.connectionAttrDisplayNames[fI],fG.connectionAttrDisplayValues[fI]])}tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(function(fJ){fJ.showSignInDialog(fG.exceptionAttrs,Array.prototype.slice.call(fH),fG.datasourceCaption,tab.DataConnectionUtils.connectionNameFromFullConnectionName(fG.connectionFullName),fG.connectionTypeLabel,function(fK){fF.resolve()},function(){fF.reject()})});return fF.promise()}},dispose:function(){this.$2.dispose()},$0:function(e){ReactDOM.unmountComponentAtNode(e);$(e).remove()}},null,[tab.ICommonDialogProvider,ss.IDisposable]);ss.initClass(be,a,{});ss.initClass(bf,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new bh(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,fE){var fF=null;fF=ss.mkdel(this,function(){if(!ss.staticEquals(fE,null)){fE()}this.$1[e]=ss.delegateRemove(this.$1[e],fF)});this.$1[e]=ss.delegateCombine(this.$1[e],fF)}});ss.initEnum(bg,a,{unspecified:0,twoPassRendering:1});ss.initClass(bh,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(bi,a,{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');bi.$0=false;var e={key:'ConnectionMissingFileDialog',content:(this.$4?tab.Strings.ConnectionMissingFileDialogMissingDirectoryText(this.$3):tab.Strings.ConnectionMissingFileDialogText(this.$3)),title:tab.Strings.ConnectionMissingFileDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,function(){if(!bi.$0){this.$2$1(false)}ReactDOM.unmountComponentAtNode(this.parentNode)})};e.dialogButtons.push({buttonClickHandler:this.$5,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:null,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var fE=React.createElement(er,e);ReactDOM.render(fE,this.parentNode)},$0:function(){bi.$0=true;tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(e){e.showReplaceFileDialog(this.$2,this.$1).done(ss.mkdel(this,function(fE){this.$2$1(fE)})).fail(ss.mkdel(this,function(fE){_.defer(ss.mkdel(this,function(){this.$0()}))}))}))}},Q,[ss.IDisposable]);ss.initClass(bj,a,{get_getFontFamily:function(){if(ss.isNullOrUndefined(this.$0.fontFamily)){return''}else{return this.$0.fontFamily.toString()}},setCSS:function(e){var fE=new ss.ObjectEnumerator(e);try{while(fE.moveNext()){var fF=fE.current();switch(fF.key){case'font-style':{this.$0.fontStyle=fF.value;break}case'font-weight':{this.$0.fontWeight=fF.value;break}case'font-stretch':{this.$0.fontStretch=fF.value;break}case'font-family':{this.$0.fontFamily=fF.value;break}default:{break}}}}finally{fE.dispose()}},hasStyleProperty:function(e){switch(e){case'fontStyle':{return!ss.isNullOrUndefined(this.$0.fontStyle)}case'fontWeight':{return!ss.isNullOrUndefined(this.$0.fontWeight)}case'fontStretch':{return!ss.isNullOrUndefined(this.$0.fontStretch)}default:{return false}}}},null,[tab.IFormattingConverterObject]);ss.initClass(bk,a,{handleWidgetPropertyChanged:function(e,fE){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bn,bl,Object]));ss.initClass(bl,a,{});ss.initClass(bm,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bn,a,{get_dom:function(){return this.get_template()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().resetViewIfRequired();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[bo]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===bo.modeSelect){if(tsConfig.allow_custom_view_save){var fE=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();fE.append(this.$15.get_inputElement());this.$14=this.$q();fE.append(this.$14.element);this.get_dom().saveViewArea.append(fE);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.remove()}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var fF=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),fF)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var fE=e.current();var fF=this.$9(fE,false);this.$10[ss.unbox(fE.id)]=fF;this.$V(fE);this.get_dom().myViewsListArea.append(fF)}}finally{e.dispose()}return}if(tsConfig.allow_custom_view_save){this.$R(this.get_dom().myViewsListArea);return}this.get_dom().myViewsArea.remove()},$g:function(){if(!tsConfig.allow_custom_view_save&&ss.count(this.get_viewModel().get_myCustomViews())===0){this.get_dom().otherViewsTitle.hide()}else{this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews)}this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var fE=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(fE.moveNext()){var fF=fE.current();var fG=this.$9(fF,true);this.$10[ss.unbox(fF.id)]=fG;this.$V(fF);this.get_dom().otherViewsListArea.append(fG)}}finally{fE.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save&&ss.count(this.get_viewModel().get_myCustomViews())===0){this.get_dom().manageModeControlArea.remove();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',bo.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,fE){var fF=spiff.LabelToggleButton.newCheckbox(e,false);fF.set_selected(fE);this.disposables.add$1(fF);return fF},$R:function(e){var fE=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(fE)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,fE){var fF=$('<div/>').addClass('tab-cv-viewListItem');if(fE){var fG=this.$h(e);fF.addClass('tab-cv-viewListItem-showOwner').append(fG)}else{var fH=this.$m(e);fF.append(fH)}var fI=this.$d(e);fF.append(fI);fF.click(ss.mkdel(this,function(fJ){this.$I(e)}));return fF},$d:function(e){var fE=this.$u(e);var fF=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var fG=this.$l(e);var fH=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(fE).attr('title',fE);fF.append(fG);fF.append(' ');fF.append(fH);return fF},$l:function(e){var fE=this.get_viewModel().isDefault(e);var fF=new spiff.IconButton;if(tsConfig.allow_custom_view_default){fF.addClass('tab-customViews-viewListItem-setDefaultButton');fF.onClick(ss.mkdel(this,function(fI){this.$O(e)}));var fG;var fH;if(fE){fG='tab-icons-customView-toggled';fH=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{fG='tab-icons-customView-menu';fH=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}fF.set_disabled(fE);fF.setIcon(fG);fF.set_hoverTooltipText(fH)}this.disposables.add$1(fF);return fF.element},$h:function(e){var fE=this.$v(e);var fF=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(fE).attr('title',fE);return fF},$m:function(e){var fE=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fF=new spiff.IconButton;fF.addClass('tab-customViews-viewListItem-renameButton');fF.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);fF.setIcon('tab-icons-edit');fF.onClick(ss.mkdel(this,function(fI){this.$L(e)}));this.disposables.add$1(fF);fE.append(fF.element);var fG=new spiff.IconButton;fG.addClass('tab-customViews-viewListItem-deleteButton');fG.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);fG.setIcon('tab-icons-delete');fG.onClick(ss.mkdel(this,function(fI){this.$A(e)}));this.disposables.add$1(fG);fE.append(fG.element);if(tsConfig.allow_custom_view_share){var fH=new spiff.IconButton;fH.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){fH.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);fH.setIcon('tab-icons-view-public')}else{fH.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);fH.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===bo.modeSelect){fH.set_disabled(true)}fH.onClick(ss.mkdel(this,function(fI){this.$K(e)}));this.disposables.add$1(fH);fE.append(fH.element)}return fE},$i:function(e,fE){var fF=tab.DomUtil.getTransformScale(this.get_rootElement());var fG=$('<div/>').addClass('tab-customViews-rename-container');fG.click(ss.mkdel(this,this.$M));var fH=$('<div/>').addClass('tab-cv-viewListItem').width(fE.width()/fF);var fI=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fJ=new spiff.IconButton;fJ.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var fK=fJ;fK.setIcon('tab-icons-canceledit');fK.onClick(ss.mkdel(this,function(fO){this.$z(fE)}));fI.append(fK.element);fH.append(fI);fH.append(this.$p(e));fG.append(fH);this.get_dom().domRoot.append(fG);this.$13.get_inputElement().focus();var fL=fE.position().top;var fM=fE.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{fL/=fF;fM/=fF;var fN=fE[0].parentElement;while(ss.isValue(fN)&&fN.style.position!=='absolute'&&fN.style.position!=='relative'){fN=fN.parentElement}if(ss.isValue(fN)){fL+=fN.offsetTop;fM+=fN.offsetLeft}}fH.css('top',fL+'px').css('left',fM+'px')},$p:function(e){var fE=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',bo.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));fE.append(this.$13.get_inputElement());return fE},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var fE=this.$x();fE.children().hide();this.$i(e.name,fE)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var fE=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(fE);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===bo.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var fE;if(this.get_viewModel().isOriginalView(e)){fE=this.$11}else{fE=this.$y(e)}if(this.get_viewModel().isDefault(e)){fE.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){fE.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){fE.addClass('tab-cv-viewListItem-publicView')}var fF=this.$u(e);fE.children('.tab-cv-viewListItem-viewName').text(fF).attr('title',fF)},$T:function(){if(this.get_viewModel().get_mode()===bo.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===bo.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,fE){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var fE=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(fE)){fE=new Object}fE.name=e;fE.isPublic=this.$n(this.$12);this.get_viewModel().save$1(fE,null,function(fF){dw.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView,null)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,fE){if(ss.equalsT(fE.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===bo.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(fE){this.updateViewListsState()}),function(fE){dw.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault,null)})},$A:function(e){var fE=L.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(fE.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(fE){dw.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting,null);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var fE=$(e.target);var fF=fE.hasClass('tab-customView-rename-textInput');if(!fF){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){dw.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName,null);return}var fE=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(fE);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(fF){this.$t(fE);this.updateViewListsState()}),ss.mkdel(this,function(fF){dw.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming,null);this.$t(fE);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==bo.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(fE){this.updateViewListsState()}),ss.mkdel(this,function(fE){dw.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState,null);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,fE){var fF=this.get_viewModel().get_mode();if(fF===bo.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(fF===bo.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var fE;if(this.get_viewModel().isOriginalView(e)){fE=tab.Strings.CustomViewsOriginalView}else{fE=e.name}if(this.get_viewModel().isDefault(e)){fE=tab.Strings.ToolbarCustomViewsDefault(fE)}return fE},$v:function(e){var fE;if(this.get_viewModel().isOriginalView(e)){fE=tsConfig.workbook_owner_friendly_name}else{fE=e.owner.friendlyName}return fE}},ss.makeGenericType(spiff.BaseView$1,[bo]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bo])]);ss.initClass(bo,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideDialogRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return bn},get_viewModel:function(){return this},get_props:function(){var e=new bl;e.viewModel=this;return{children:React.createElement(bk,e),dialogWidth:400,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'customViews',title:tab.Strings.CustomViewsDialogTitle,type:0}},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var fE=this.cleanCustomViewName(e);return fE.length>0&&fE.length<=bo.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,bo.maxCustomViewNameLength)},$4:function(){this.raiseActionEvent(this.hideView);this.raiseActionEvent(this.$2$6)},save:function(e,fE,fF){var fG=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(fG)){fG=new Object;fG.name=e}this.save$1(fG,fE,fF,false)},save$1:function(e,fE,fF,fG){tab.CustomizedViewRequests.saveCustomizedView(e,ss.mkdel(this,function(fH){var fI=ss.mkdel(this,function(fJ){this.$c(fJ);if(ss.isValue(fE)){fE(fJ)}});if(fG){this.setDefault(fH,fI,function(fJ){fI(fH)})}else if(this.isDefault(fH)){this.setDefault(null,function(fJ){fI(fH)},function(fJ){fI(fH)})}else{fI(fH)}}),ss.mkdel(this,function(fH){this.$b(fH);if(ss.isValue(fF)){fF(fH)}}))},getMyCustomViewByName:function(e){var fE=null;for(var fF=0;fF<this.$q.length;fF++){var fG=this.$q[fF];if(ss.equalsT(fG.name,e)){fE=fG}}return fE},select:function(e){if(this.isOriginalView(e)){tab.CustomizedViewRequests.navigateToOriginalView(null);tsConfig.current_custom_view_id=null}else{tab.CustomizedViewRequests.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,fE,fF){this.destroyCustomView(e,fE,fF)},update:function(e,fE,fF){this.$g(e,null,fE,fF)},makeCurrentDefault:function(e,fE){this.setDefault(this.$l,e,fE)},setDefault:function(e,fE,fF){tab.CustomizedViewRequests.setDefaultCustomizedView(e,ss.mkdel(this,function(fG){this.$e(fG);if(ss.isValue(fE)){fE(fG)}}),ss.mkdel(this,function(fG){this.$d(fG);if(ss.isValue(fF)){fF(fG)}}))},startManage:function(){if(this.$p===bo.modeSelect&&this.get_hasCustomViews()){this.$f(bo.modeManage)}},exitManageMode:function(){this.$f(bo.modeSelect)},resetViewIfRequired:function(){if(this.$s){this.select(null)}},updateCustomizedViews:function(e,fE){this.$5(e,fE)},destroyCustomView:function(e,fE,fF){this.$o=true;tab.CustomizedViewRequests.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;tab.CustomizedViewRequests.updateTsConfig(null,true);this.$s=true}this.$5(null,null);if(ss.isValue(fE)){fE()}}),ss.mkdel(this,function(fG){this.$5(null,null);if(ss.isValue(fF)){fF(fG)}}))},updateCustomizedViewPublicState:function(e,fE,fF,fG){if(!ss.isValue(e)||fE===e.isPublic){return}var fH=new Object;fH.id=e.id;fH.isPublic=fE;fH.name=e.name;fH.owner=e.owner;fH.startViewId=e.startViewId;fH.urlId=e.urlId;this.$g(fH,e,fF,fG)},updateCustomizedViewName:function(e,fE,fF,fG){if(ss.equalsT(e.name,fE)){return}var fH=new Object;fH.id=e.id;fH.isPublic=e.isPublic;fH.name=fE;fH.owner=e.owner;fH.startViewId=e.startViewId;fH.urlId=e.urlId;this.$g(fH,e,fF,fG)},$g:function(e,fE,fF,fG){tab.CustomizedViewRequests.updateCustomizedView(e,ss.mkdel(this,function(fH){if(ss.isValue(fE)){var fI=ss.indexOf(this.$q,fE);if(fI>=0){ss.removeAt(this.$q,fI);ss.insert(this.$q,fI,e)}if(ss.isValue(fE)&&ss.referenceEquals(e.id,fE.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(fF)){fF(fH)}}),ss.mkdel(this,function(fH){this.$5(null,null);if(ss.isValue(fG)){fG(fH)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,fE){tab.CustomizedViewRequests.getCustomizedViews(ss.mkdel(this,function(fF,fG){this.$3(fF,fG);if(ss.isValue(e)){e(fF,fG)}}),ss.mkdel(this,function(fF){this.$2(fF);if(ss.isValue(fE)){fE(fF)}}))},$c:function(e){var fE=tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()&&!tsConfig.reloadOnCustomViewSave;if(fE||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(fE){var fF;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(fF=0;fF<this.$q.length;fF++){if(ss.referenceEquals(this.$q[fF].name,e.name)){this.$q[fF]=e;break}}if(fF>=this.$q.length){this.$q.push(e);this.$q.sort(bo.$0)}}else{for(fF=0;fF<this.$r.length;fF++){if(ss.referenceEquals(this.$r[fF].name,e.name)){this.$r[fF]=e;break}}if(fF>=this.$r.length){this.$r.push(e);this.$r.sort(bo.$0)}}}this.$l=e}else{tab.CustomizedViewRequests.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,fE){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var fF=0;fF<e.length;fF++){var fG=e[fF];if(this.belongsToCurrentUser(fG)){this.$q.push(fG)}else{this.$r.push(fG)}if(this.isCurrentCustomView(fG)){this.$l=fG;this.$m=fG.name}}this.$q.sort(bo.$0);this.$r.sort(bo.$0);this.$n=fE;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5,null)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bp,a,{});ss.initClass(bq,a,{});ss.initClass(br,a,{});ss.initClass(bs,a,{});ss.initClass(bt,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bu,a,{$d:function(){return this.get_template()},get_containerNode:function(){return this.$d().domRoot},get_dashboardSize:function(){return tab.DashboardSizeCalculator.asMetric(this.$e.get_size())},$9:function(){if(ss.isValue(this.$e.get_formats())){var e=this.$e.get_formats();this.$d().dashboardNode.css(e);if(this.$e.get_hasGutter()){var fE={top:this.$e.gutter.top+'px',left:this.$e.gutter.left+'px'};this.$d().dashboardNode.css(fE)}}},$b:function(){this.$d().dashboardNode.height(this.$e.get_size().h).width(this.$e.get_size().w);if(this.$e.get_hasGutter()){$('.tab-gutter').height(this.$e.get_size().h+this.$e.gutter.top+this.$e.gutter.bottom).width(this.$e.get_size().w+this.$e.gutter.left+this.$e.gutter.right)}},$a:function(e){var fE=tab.ObjectRegistry.newView(fB).call(null,[e]);if(e.get_zoneType()==='title'){fE.prependToDom(this.$d().dashboardNode)}else{fE.addToDom(this.$d().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){if(tsConfig.showTabs){this.$d().dashboardNode.attr('role','tabpanel')}this.$b();this.$9();var e=_.keys(this.$e.get_zoneViewModels());for(var fE=0;fE<e.length;fE++){var fF=e[fE];this.$a(this.$e.get_zoneViewModels()[fF])}if(this.$e.get_isDashboard()){this.get_containerNode().addClass('is-dashboard')}else if(this.$e.get_isStory()){this.get_containerNode().addClass('is-story')}else{this.get_containerNode().addClass('is-worksheet')}}spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){if(this.$e.get_renderMode()==='render-mode-client'){var e=this.$d().dashboardNode.find('img');var fE=e.length;for(var fF=0;fF<fE;fF++){var fG=e[fF];if(ss.isNullOrUndefined(fG)||fG.naturalHeight===0||fG.naturalWidth===0){continue}var fH=document.createElement('canvas');fH.width=fG.naturalWidth;fH.height=fG.naturalHeight;var fI=fH.getContext('2d');fI.drawImage(fG,0,0);try{var fJ=fH.toDataURL('image/png',new Object);fG.src=fJ}catch(fS){}}}var fK=this.$d().dashboardNode.clone(false,false);fK.addClass('facadedom');bu.uniquefyClonedFilterRadioElements(fK);if(this.$e.get_renderMode()==='render-mode-server'){var fL=this.$d().dashboardNode.find('canvas');var fM=fK.find('canvas');var fN=fL.length;for(var fO=0;fO<fN;fO++){var fP=fL[fO];var fQ=fM[fO];if(!ss.isValue(fQ)){continue}var fR=fQ.getContext('2d');if(ss.isValue(fP)&&fP.width>0&&fP.height>0&&ss.isValue(fR)){fR.drawImage(fP,0,0)}}}this.$d().dashboardNode.parent().append(fK)}},ss.makeGenericType(spiff.BaseView$1,[bv]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bv])]);ss.initClass(bv,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isStory:function(){return this.dashboardModel.pm.isStory},get_zoneViewModels:function(){return this.$o},get_formats:function(){var e=this.dashboardModel.get_formats();if(tsConfig.current_sheet_type==='worksheet'&&tsConfig.is_authoring){e['backgroundColor']='transparent'}return e},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$n||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$n=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},get_hasGutter:function(){return tsConfig.is_authoring&&(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='story'&&this.get_isStory())},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$o));try{while(e.moveNext()){var fE=e.current();tab.MiscUtil.dispose$1(this.$o[fE])}}finally{e.dispose()}ss.clearKeys(this.$o);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$m));for(var fF=0;fF<this.viewControllers.length;fF++){var fG=this.viewControllers[fF];tab.MiscUtil.dispose$1(fG)}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$9));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$8));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$7));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$a));spiff.BaseViewModel.prototype.dispose.call(this)},$9:function(e){if(ss.keyExists(this.$o,e.get_zoneId())){this.$d(e.get_zoneId())}var fE=this.$4(e);if(fE.get_zoneType()==='viz'){if(ss.isValue(fE.get_zoneContentViewModel())){this.$c(fE)}else{var fF=null;fF=ss.mkdel(this,function(){fE.remove_newZoneContent(fF);this.$c(fE)});fE.add_newZoneContent(fF)}}else if(fE.get_zoneType()==='dashboard-object'&&fE.get_objectType()==='extension'){if(ss.isValue(fE.get_zoneContentViewModel())){var fG=fE.get_zoneContentViewModel();if(fG.get_isInitialized()){this.$j();return}}var fH=null;fH=ss.mkdel(this,function(fI){var fJ=fI;if(!fJ.get_isInitialized()){return}this.$j();fE.remove_newZoneContent(fH)});fE.add_newZoneContent(fH)}fE.set_isActiveZone(fE.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$k(fE)},$c:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var fE=this.$3(e.get_associatedSheet());e.get_zoneContentViewModel().set_viewController(fE)},$4:function(e){var fE=new fC(e);this.$o[e.get_zoneId()]=fE;return fE},$5:function(e){var fE=new ss.ObjectEnumerator(this.$o);try{while(fE.moveNext()){var fF=fE.current();if(fF.value.get_zoneType()===e){return fF.value.get_zoneContentViewModel()}}}finally{fE.dispose()}return null},$k:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$8:function(){this.$l(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$j:function(){var e=this.$6();if(tab.MiscUtil.isNullOrEmpty(e)){return}var fE=[];for(var fF=0;fF<e.length;fF++){var fG=e[fF];if(fG.get_renderStatus()==='promptNeeded'){fE.push(fG.get_extensionKey())}}tab.ExtensionClientCommands.showPermissionsPromptDialog(fE)},$6:function(){var e=[];var fE=_.keys(this.$o);for(var fF=0;fF<fE.length;fF++){var fG=fE[fF];var fH=this.$o[fG];if(fH.get_zoneType()==='dashboard-object'&&fH.get_objectType()==='extension'){var fI=fH.get_zoneContentViewModel();if(ss.isNullOrUndefined(fI)||!fI.get_isInitialized()){return null}if(fI.get_isValid()){e.push(fH.get_zoneContentViewModel())}}}return e},$h:function(){this.raiseActionEvent(this.$2$3)},$g:function(){this.raiseActionEvent(this.$2$4)},$f:function(){this.raiseActionEvent(this.$2$5)},$b:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard(null))){return}this.raiseActionEvent(this.$2$2);this.$l(function(e){return e.get_zoneType()==='viz'})},$l:function(e){var fE=[];var fF=_.keys(this.$o);for(var fG=0;fG<fF.length;fG++){var fH=fF[fG];var fI=this.$o[fH];if(e(fI)){fE.push(fH)}}this.$e(fE);this.$2()},$e:function(e){for(var fE=0;fE<e.length;fE++){var fF=e[fE];this.$d(fF)}},$d:function(e){var fE=this.$o[e];if(ss.isValue(fE)){if(fE.get_zoneType()==='viz'){var fF=this.viewControllersBySheet['v_'+fE.get_associatedSheet()];if(ss.isValue(fF)){delete this.viewControllersBySheet['v_'+fE.get_associatedSheet()];ss.remove(this.viewControllers,fF);fF.dispose()}}fE.dispose();delete this.$o[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(!ss.keyExists(this.$o,fF.get_zoneId())&&this.dashboardModel.isValidSheet(fF)){this.$9(fF)}}},$i:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$m:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$7:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_activeZoneID();var fE=ss.getEnumerator(Object.keys(this.$o));try{while(fE.moveNext()){var fF=fE.current();var fG=this.$o[fF];fG.set_isActiveZone(fG.get_zoneId()===e)}}finally{fE.dispose()}},$a:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_readyZoneID();var fE=ss.getEnumerator(Object.keys(this.$o));try{while(fE.moveNext()){var fF=fE.current();var fG=this.$o[fF];fG.set_isReadyZone(fG.get_zoneId()===e)}}finally{fE.dispose()}},$3:function(e){var fE=this.dashboardModel.getViewSession(e);var fF=new fj(fE);this.viewControllersBySheet['v_'+e]=fF;this.viewControllers.push(fF);return fF}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bw,a,{render:function(){return spiff.DOMElements.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent'},this.$5(),this.$4(),this.$b(),this.$8(),this.$3(),this.$7(),this.$6(),this.$9())},$5:function(){var e;e=tab.Strings.DataAlertOnConstantThreshold2(this.props.selectionCaption);return spiff.DOMElements.div({className:'tab-dataAlertConditionMessage'},e)},$4:function(){return spiff.DOMElements.div({className:'tab-dataAlertConditionArea'},spiff.DOMElements.div({className:'tab-dataAlertOperatorArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.conditionProps)),spiff.DOMElements.div({className:'tab-dataAlertThresholdArea'},spiff.DOMElements.label({className:'tab-dataAlertThresholdLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertThreshold),this.$a()),spiff.DOMElements.span(this.$1(this.props.thresholdIsValid),this.props.thresholdMessage)))},$1:function(e){return{className:(e?'tab-dataAlertStandardText':'tab-dataAlertErrorText')}},$0:function(e){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')}}},$a:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return spiff.DOMElements.input({type:'text',value:this.props.threshold,className:e,disabled:!this.props.readyForInteraction,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(fE){this.props.onThresholdInputTextChanged(fE.target.value)})})},$b:function(){var e='tab-dataAlertTitleInput tab-TextInput';var fE=!tab.MiscUtil.isNullOrEmpty$3(this.props.title);if(!fE){e+=' error'}return spiff.DOMElements.div({className:'tab-dataAlertTitleInputArea'},spiff.DOMElements.label({className:'tab-dataAlertTitleInputLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertSubject),spiff.DOMElements.input({type:'text',className:e,disabled:!this.props.readyForInteraction,maxLength:bz.maxTitleLength,value:this.props.title,onChange:ss.mkdel(this,function(fF){this.props.onTitleInputTextChanged(fF.target.value)})})),spiff.DOMElements.span(this.$0(fE),tab.Strings.DataAlertNoSubjectErrorMessage))},$8:function(){return spiff.DOMElements.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.notificationIntervalProps))},$3:function(){return spiff.DOMElements.div({className:'tab-dataAlertAddRecipients',disabled:!this.props.readyForInteraction},spiff.DOMElements.label({className:'tab-dataAlertAddRecipientsLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertRecipients),React.createElement(dR,this.props.recipientSearchSelectorProps)))},$7:function(){var e='tab-dataAlertEmailInput tab-TextInput';if(!this.props.currentUserEmailIsValid){e+=' error'}return spiff.DOMElements.div({className:'tab-dataAlertEmailInputArea',disabled:!this.props.readyForInteraction,style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},spiff.DOMElements.label({className:'tab-dataAlertEmailInputLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.ToolbarSubscribeEmailPlaceholder)),spiff.DOMElements.input({type:'text',className:e,maxLength:cj.maxEmailLength,onChange:ss.mkdel(this,function(fE){this.props.onEmailInputTextChanged(fE.target.value)})}))},$6:function(){return spiff.DOMElements.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText)),this.props.emailErrorText)},$9:function(){var e={clickHandler:ss.mkdel(this,this.$2),label:this.props.submitButtonText,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var fE=React.createElement(spiff.StyledButtonComponent,e);return spiff.DOMElements.div({className:'tab-dataAlertSubmitButtonArea'},fE)},$2:function(){this.props.onSave()}},React.Component);ss.initClass(bH,a,{add_persistSuccess:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_persistSuccess:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_persistFailure:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_persistFailure:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},getSubmitButtonText:function(){return''},saveDataAlert:function(e,fE){},onPersistSuccess:function(){dw.showNotification(this.successMessage,null);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},onPersistFailure:function(){dw.showNotification(this.failureMessage,0);if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}});ss.initClass(bx,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertCreateButton},saveDataAlert:function(e,fE){var fF=ss.mkdel(this,function(fJ){this.failureMessage=((fJ===210006)?tab.Strings.DataAlertDatasourceError:tab.Strings.DataAlertCreateFailure);this.onPersistFailure()});var fG=ss.mkdel(this,function(fJ){this.failureMessage=tab.Strings.DataAlertCreateFailure;this.onPersistFailure()});if(e.get_isViewSaveNeeded()){var fH=new Object;fH.isHidden=true;fH.isPublic=true;fH.startViewId='DDA';var fI=fH;tab.CustomizedViewRequests.saveCustomizedView(fI,ss.mkdel(this,function(fJ){e.set_customizedViewId(fJ.id.toString());tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),fF)}),fG)}else{tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),fF)}}},bH);ss.initInterface(cQ,a,{add_dataAlertPrepared:null,remove_dataAlertPrepared:null,add_dataAlertPrepareFailed:null,remove_dataAlertPrepareFailed:null,get_preparedDataAlert:null,prepareDataAlert:null});ss.initClass(bI,a,{add_dataAlertPrepared:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_dataAlertPrepared:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_preparedDataAlert:function(){return this.dataAlert},prepareDataAlert:null,raiseActionEvent:function(e){if(!ss.staticEquals(e,null)){e()}},raiseDataAlertPrepared:function(){this.raiseActionEvent(this.$1$1)},raiseDataAlertPrepareFailed:function(){this.raiseActionEvent(this.$1$2)}},null,[cQ]);ss.initClass(by,a,{prepareDataAlert:function(){this.dataAlert=new tab.DataAlert.$ctor1(this.$0);this.raiseDataAlertPrepared()}},bI,[cQ]);ss.initClass(bz,a,{get_emptySearch:function(){return this.$3$1},set_emptySearch:function(e){this.$3$1=e},get_noResults:function(){return this.$3$2},set_noResults:function(e){this.$3$2=e},$v:function(){return{label:tab.Strings.DataAlertCondition,testId:'data-alert-condition-operation',onSelect:ss.mkdel(this,this.$d),disabled:!this.$y(),dropdownType:1,selectedValue:(ss.isValue(this.$G)?this.$G.get_operator().toString():''),menuItemInfos:_.map(tab.DataAlertConditionOperation.supportedOperations(),function(e){return{value:e.toString(),displayValue:tab.DataAlertConditionOperation.displayString(e),isDivider:false}})}},$A:function(){var e=ss.mkdel(this,this.$h);return{label:tab.Strings.DataAlertNotificationInterval,testId:'data-alert-notification-interval',onSelect:e,disabled:!this.$y(),dropdownType:1,selectedValue:(ss.isValue(this.$G)?this.$G.get_notificationIntervalInMinutes().toString():''),menuItemInfos:_.map(tab.DataAlertNotificationInterval.supportedIntervals(),function(fE){return{value:fE.toString(),displayValue:tab.DataAlertNotificationInterval.convertToString(fE),isDivider:false}})}},$B:function(){return{users:this.users,addUser:ss.mkdel(this,this.addUser),removeUser:ss.mkdel(this,this.removeUser),isUsers:true,userValidator:ss.mkdel(this,this.$u),userErrorMessageGenerator:ss.mkdel(this,this.$t),noResults:ss.mkdel(this,this.setNoResults),emptySearch:ss.mkdel(this,this.setIsSearchEmpty),placeholderMessage:tab.Strings.DataAlertsRecipientsSearchPlaceholder,removeRecipientByIndex:ss.mkdel(this,this.removeUserByIndex)}},$D:function(){return ss.isValue(this.$G)&&this.$G.get_thresholdIsValid()&&!this.$K&&this.$w()&&!ss.isNullOrEmptyString(this.$G.get_title())&&this.get_emptySearch()&&this.$J},$w:function(){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){if(this.$5()){return this.$z()}return true}else{if(this.$5()){return this.$z()&&this.$C()===1}return this.$C()===0}},$C:function(){return this.users.filter(function(e){return!e.hasEmail}).length},$x:function(){var e=this.users.filter(ss.mkdel(this,function(fE){return!this.$b(fE)})).length;if(this.$6()){return e+1}return e},$z:function(){return cj.validate(this.$H)},$y:function(){return this.$J},$q:function(){this.users=[];this.set_emptySearch(true)},$n:function(){this.$G.add_titleChanged(ss.mkdel(this,this.refresh));this.$G.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$G.add_measureChanged(ss.mkdel(this,this.refresh));this.$G.add_conditionChanged(ss.mkdel(this,this.refresh));this.$G.add_recipientsChanged(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$G.remove_titleChanged(ss.mkdel(this,this.refresh));this.$G.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$G.remove_measureChanged(ss.mkdel(this,this.refresh));this.$G.remove_conditionChanged(ss.mkdel(this,this.refresh));this.$G.remove_recipientsChanged(ss.mkdel(this,this.refresh))})))},$o:function(){this.$F.add_dataAlertPrepared(ss.mkdel(this,this.$f));this.$F.add_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$F.remove_dataAlertPrepared(ss.mkdel(this,this.$f));this.$F.remove_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed))})))},$p:function(){this.$L=new tab.Debouncer(ss.mkdel(this,function(){var e=tab.DataAlertClientCommands.updateDataAlert(this.$G);e.done(ss.mkdel(this,function(fE){this.$G.set_alertConditionMet(fE);this.refresh()}))}),bz.debounceTimeout);this.disposables.add$1(this.$L)},$a:function(){if(ss.isNullOrUndefined(this.$G)){return''}if(this.$G.get_thresholdIsValid()){return(this.$G.get_alertConditionMet()?tab.Strings.DataAlertThresholdConditionMet:tab.Strings.DataAlertThresholdConditionUnmet)}var e=this.$G.get_conditionPresModel().dataType;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$G.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var fE=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$G.get_threshold(),fE))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},$9:function(){if(this.$K){return tab.Strings.DataAlertCreateButtonSaving}return this.$E.getSubmitButtonText()},refresh:function(){this.updateProps$1({readyForInteraction:this.$y(),onThresholdInputTextChanged:ss.mkdel(this,this.$j),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$k),onSave:ss.mkdel(this,this.$c),title:(ss.isValue(this.$G)?this.$G.get_title():this.$8()),selectionCaption:(ss.isValue(this.$G)?this.$G.get_selectionCaption():''),threshold:(ss.isValue(this.$G)?this.$G.get_threshold():''),thresholdIsValid:ss.isValue(this.$G)&&this.$G.get_thresholdIsValid(),alertConditionMet:ss.isValue(this.$G)&&this.$G.get_alertConditionMet(),thresholdMessage:this.$a(),onEmailInputTextChanged:ss.mkdel(this,this.$g),showEmailInput:this.$5(),recipientSearchSelectorProps:this.$B(),enableSubmitButton:this.$D(),notificationIntervalProps:this.$A(),emailErrorText:this.$7(),currentUserEmailIsValid:this.$w(),submitButtonText:this.$9(),conditionProps:this.$v()})},addUser:function(e){if(_.any(this.users,function(fF){return fF.id===e.id})){return}if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')&&e.id!==tsConfig.current_user_id){var fE=tab.WorkgroupServerCommands.checkIfUserCanReceiveDataAlert(e.id+'');if(ss.isNullOrUndefined(e.dataAlertRecipientErrorCode)){e.dataAlertRecipientErrorCode=-1}fE.done(ss.mkdel(this,function(){e.dataAlertRecipientErrorCode=0;this.refresh()}));fE.fail(ss.mkdel(this,function(fF){e.dataAlertRecipientErrorCode=fF;this.refresh()}))}this.users.push(e);this.refresh()},setUsers:function(e){this.users=e;this.refresh()},removeUser:function(e){ss.remove(this.users,e);this.refresh()},removeUserByIndex:function(e){ss.removeAt(this.users,e);this.refresh()},setIsSearchEmpty:function(e){this.set_emptySearch(e);this.refresh()},setNoResults:function(e){this.set_noResults(e);this.refresh()},buildTelemetryObject:function(e){return ss.mkdict(['SubmitButtonPressed',this.$K,'TotalRecipientCount',this.users.length,'InvalidUnlicensedRecipientCount',this.users.filter(function(fE){return fE.dataAlertRecipientErrorCode===90}).length,'InvalidViewPermissionsRecipientCount',this.users.filter(function(fE){return fE.dataAlertRecipientErrorCode===210007}).length,'InvalidDownloadPermissionRecipientCount',this.users.filter(function(fE){return fE.dataAlertRecipientErrorCode===210008}).length,'InvalidEmailRecipientCount',this.users.filter(function(fE){return fE.dataAlertRecipientErrorCode===10011}).length,'OperatorType',this.$G.get_operator(),'EmailFrequency',this.$G.get_notificationIntervalInMinutes(),'ConditionMet',this.$G.get_alertConditionMet(),'SubmitButtonEnabled',this.$D(),'CurrentUserHasEmail',!tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email),'EditMode',e])},$7:function(){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){if(this.$6()){return tab.Strings.SubscribeInvalidAddress}else if(this.$x()===1){return tab.Strings.DataAlertInvalidUser}else if(this.$x()>1){return tab.Strings.DataAlertInvalidPluralUsers(this.$x())}else if(this.get_noResults()){return tab.Strings.DataAlertNoUsersMatchSearch}return''}else{if(this.$5()){if(this.$w()){return''}return tab.Strings.SubscribeInvalidAddress}else if(this.$C()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(this.get_noResults()){return tab.Strings.DataAlertNoUsersMatchSearch}return''}},$b:function(e){return e.id===tsConfig.current_user_id||e.dataAlertRecipientErrorCode===0||e.dataAlertRecipientErrorCode===-1},$6:function(){return this.$5()&&!this.$w()},$5:function(){return this.$4()&&tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email)},$4:function(){return this.users.filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$g:function(e){this.$H=e;this.refresh()},$k:function(e){if(ss.isNullOrUndefined(this.$G)){return}if(ss.referenceEquals(e,this.$G.get_title())){return}this.$G.set_title(e)},$f:function(){this.$G=this.$F.get_preparedDataAlert();this.$I=ss.arrayClone(this.$G.get_recipients());this.$n();this.$p();this.$i();var e=this.$G.get_title();if(ss.isNullOrUndefined(e)){e=this.$8()}var fE=e;this.$k(fE);this.$G.set_deviceType(tabBootstrap.ViewerBootstrap.get_instance().get_deviceType());this.$J=true;this.refresh()},onDataAlertPrepareFailed:function(){this.$K=false;this.$J=false;this.refresh()},onDataAlertPreparing:function(){this.$J=false;this.refresh()},$8:function(){var e=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(e.length>bz.maxTitleLength){e=e.substr(0,bz.maxTitleLength-3)+'...'}return e},$h:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isValue(this.$G)){this.$G.set_notificationIntervalInMinutes(e)}},$j:function(e){if(ss.referenceEquals(e,this.$G.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$3(e)){this.$L.cancel()}else{this.$s()}this.$r(this.$G.get_operator(),e)},$d:function(e){if(ss.isNullOrUndefined(e)){return}var fE=e;this.$e(fE)},$e:function(e){if(e===this.$G.get_operator()){return}this.$s();this.$r(e,this.$G.get_threshold())},$s:function(){if(ss.isValue(this.$L)){this.$L.invokeActionDelayed()}},$c:function(){this.$K=true;this.refresh();if(tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email)){this.$m()}else{this.$l()}},$m:function(){var e=ss.mkdel(this,this.$l);var fE=ss.mkdel(this,function(fF){var fG=((fF===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);dw.showNotification(fG,null);this.$K=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$H,e,fE)},$l:function(){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){var e=this.users.filter(ss.mkdel(this,function(fE){return this.$b(fE)}));this.$G.updateRecipients(e)}else{this.$G.updateRecipients(this.users)}this.$E.saveDataAlert(this.$G,this.$I)},$i:function(){this.users=this.$G.get_recipients()},$r:function(e,fE){var fF=this.$G.get_conditionPresModel().dataAlertThresholdText;if(this.$G.isValidThresholdText(fE)){fF=fE}this.$G.set_threshold(fE);this.$G.set_conditionPresModel({dataAlertConditionOp:e,dataAlertThresholdText:fF,dataType:this.$G.get_conditionPresModel().dataType})},$u:function(e){if(e.id===tsConfig.current_user_id){return((this.$z()||e.hasEmail)?0:1)}if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){if(e.dataAlertRecipientErrorCode===-1){return 2}if(e.dataAlertRecipientErrorCode===0){return 0}return 1}else{return(e.hasEmail?0:1)}},$t:function(e){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){switch(e.dataAlertRecipientErrorCode){case 10011:{return tab.Strings.DataAlertRecipientPillNoEmail(e.friendlyName)}case 90:{return tab.Strings.DataAlertRecipientPillUnlicensed(e.friendlyName)}case 210007:{return tab.Strings.DataAlertRecipientPillNoViewPermissions(e.friendlyName)}case 210008:{return tab.Strings.DataAlertRecipientPillNoDownloadPermissions(e.friendlyName)}default:{return''}}}else{return''}}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bA,a,{add_hideDialogRequested:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_hideDialogRequested:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_dialogHidden:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_dialogHidden:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},add_alertDeletedFromErrorDialog:function(e){this.$3$3=ss.delegateCombine(this.$3$3,e)},remove_alertDeletedFromErrorDialog:function(e){this.$3$3=ss.delegateRemove(this.$3$3,e)},$m:function(){return!ss.isNullOrEmptyString(this.$r)},get_createViewModel:function(){return this.$q},get_dialogHostViewModel:function(){return this.$3$4},set_dialogHostViewModel:function(e){this.$3$4=e},$n:function(){return this.$v.pm},$k:function(){return this.$3$5},$l:function(e){this.$3$5=e},$h:function(){this.set_dialogHostViewModel(new bX);var e=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bX,bW,Object])).call(null,[this.get_dialogHostViewModel()]);var fE=$(document.createElement('div'));e.addToDom(fE)},$i:function(){if(ss.isNullOrUndefined(this.$n())||!this.$n().isDataAlertDialogVisible){this.get_dialogHostViewModel().hide();this.$u=false;return}if(this.$m()&&this.$t&&!this.$e()){this.$f();G.get_commonBannerProvider().showSuccessBanner(tab.Strings.DataAlertResumedSucessfullyToast,null,null,true);this.$u=false;this.$8();return}if(!this.$u){this.$j();this.get_dialogHostViewModel().show(this);this.$u=true}},setupInlineEditing:function(e){this.$r=e;this.$t=false;this.$l(true)},$f:function(){var e=G.get_instance().get_rightAreaDrawerViewModel();e.toggleDataAlertsPanel()},$j:function(){if(!this.$n().isDataAlertDialogVisible){return}if(this.$e()){if(this.$t){this.$f()}this.$6()}else{this.$7()}this.incrementProps()},$e:function(){return ss.isValue(this.$n())&&!ss.isNullOrEmptyString(this.$n().dataAlertErrorText)},$6:function(){this.$s=new bF(this.$n().dataAlertErrorText,this.$r,this.$t||this.$m());this.$s.add_okButtonClicked(ss.mkdel(this,this.$d));this.$s.add_alertDeletedFromErrorDialog(ss.mkdel(this,this.$g));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$s.remove_okButtonClicked(ss.mkdel(this,this.$d))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$s.remove_alertDeletedFromErrorDialog(ss.mkdel(this,this.$g))})));this.disposables.add$1(this.addChildViewModel(this.$s));this.disposables.add$1(this.$s);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$s=null})))},$g:function(){this.raiseActionEvent(this.$3$3)},$7:function(){if(this.$m()){this.$o=bB.new$1(this.$r);this.$p=bC.new$1(this.$n(),this.$r)}else{this.$o=bx.new$1();this.$p=by.new$1(this.$n())}this.$q=bz.new$1(this.$p,this.$o);var e=ss.mkdel(this,function(){dw.showNotification(tab.Strings.DataAlertLoadForEditFailure,null);this.$d()});this.$o.add_persistSuccess(ss.mkdel(this,this.$d));this.$o.add_persistFailure(ss.mkdel(this,this.$d));this.$p.add_dataAlertPrepareFailed(e);this.disposables.add$1(this.$q);this.disposables.add$1(this.addChildViewModel(this.$q));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$o.remove_persistSuccess(ss.mkdel(this,this.$d));this.$o.remove_persistFailure(ss.mkdel(this,this.$d));this.$p.remove_dataAlertPrepareFailed(e);this.$o=null;this.$p=null;this.$q=null})));this.$p.prepareDataAlert()},createInitialProps:function(){return{dialogWidth:400,isModal:true,positioningBehavior:2,shouldAdjustPositionOnWindowResize:true,shouldReturnFocusOnClose:true,showCloseButton:true,testId:'dataAlertDialog',type:0}},createUpdatedProps:function(){return(this.$e()?this.$c():this.$a())},$a:function(){return{children:this.$9(),footerContent:null,shouldReturnFocusOnClose:true,showFooter:false,title:this.$b()}},$b:function(){return(this.$m()?tab.Strings.DataAlertDialogTitleEditMode:tab.Strings.DataAlertDialogTitle)},$9:function(){return React.createElement(bw,this.$q.get_props())},$c:function(){return this.$s.get_dialogProps()},$d:function(){this.raiseActionEvent(this.$3$1)},onDialogHidden:function(){this.$8();this.$u=false},$8:function(){tab.DataAlertClientCommands.closeDataAlertDialog().done([ss.mkdel(this,function(){this.raiseActionEvent(this.$3$2)})]);if(!this.$e()&&ss.isValue(this.$q)){bJ.$0(this.$q.buildTelemetryObject(this.$m()))}var e=this.$m()&&!this.$k();if(e||this.$t){if(ss.isValue(this.$p)&&this.$p.get_preparedDataAlert().get_viewType().toString()==='hiddenView'){var fE=new tab.RepoPathObject(tsConfig.repositoryUrl);var fF=tab.VizUriModel.createForViewingSheet(fE.get_originalViewURL());fF.removeQueryParam(bD.editDataAlertUrlParam);fF.removeQueryParam(bD.resumeDataAlertUrlParam);fF.removeQueryParam(bD.instanceIdUrlParam);fF.set_ignoreStickySession(true);fF.setWindowLocation(null)}else{var fG=tab.VizUriModel.createForCurrentWindowLocation(null);fG.removeQueryParam(bD.editDataAlertUrlParam);fG.removeQueryParam(bD.resumeDataAlertUrlParam);fG.replaceState(null)}if(ss.isValue(G.get_instance().get_apiEventHandler())){G.get_instance().get_apiEventHandler().removeEditDataAlertUrlParam(tsConfig.current_sheet_name)}}this.$r=null;this.$t=false;_.defer(ss.mkdel(this,this.$5))},$5:function(){this.disposables.dispose()},onCancel:function(e,fE){this.$8()},dispose:function(){this.$v.remove_showOrUpdateDialog(ss.mkdel(this,this.$i));tab.MiscUtil.dispose$1(this.get_dialogHostViewModel());spiff.BaseViewModel.prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bB,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertUpdateButton},saveDataAlert:function(e,fE){var fF=bB.getDifferenceInUserLists(fE,e.get_recipients());var fG=bB.getDifferenceInUserLists(e.get_recipients(),fE);tab.WorkgroupServerCommands.updateDataAlert(e,this.$0,fF,fG,ss.mkdel(this,this.onPersistSuccess),ss.mkdel(this,this.onPersistFailure))}},bH);ss.initClass(bC,a,{prepareDataAlert:function(){this.$0()},$1:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.raiseDataAlertPrepareFailed();return}if(e.length>1){this.raiseDataAlertPrepareFailed();return}this.$4(e);this.$5=true;this.$3()},$4:function(e){var fE=e[0];this.dataAlert.set_title(fE.get_title());this.dataAlert.set_deviceType(fE.get_deviceType());this.dataAlert.set_notificationIntervalInMinutes(fE.get_notificationIntervalInMinutes());this.dataAlert.set_viewType(fE.get_viewType())},$3:function(){if(this.$5&&this.$6){this.raiseDataAlertPrepared()}},$2:function(e){this.$6=true;_.each(e,function(fE){fE.hasEmail=true});this.dataAlert.updateRecipients(e);this.$3()},$0:function(){this.$5=false;this.$6=false;tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$7).done(ss.mkdel(this,this.$1)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed));tab.WorkgroupServerCommands.getUsersForDataAlertId(this.$7).done(ss.mkdel(this,this.$2)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed))}},bI,[cQ]);ss.initClass(bD,a,{});ss.initClass(bE,a,{render:function(){return spiff.DOMElements.div({className:bE.$0},this.renderGenericMessage())},renderGenericMessage:function(){var e=(tab.MiscUtil.isNullOrEmpty$3(this.props.alertSubject)?tab.Strings.DataAlertErrorDialogViewChanged(this.props.sheetName):tab.Strings.DataAlertErrorDialogViewChangedWithSubject(this.props.sheetName,this.props.alertSubject));return spiff.DOMElements.div({className:bE.$1},e)}},spiff.PureRenderComponent);ss.initClass(bF,a,{add_okButtonClicked:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_okButtonClicked:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_alertDeletedFromErrorDialog:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_alertDeletedFromErrorDialog:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},get_dialogProps:function(){return{children:this.$a(),title:tab.Strings.DataAlertAccessErrorTitle,showFooter:true,footerContent:this.$b(),zIndex:1000}},$c:function(){tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$e).done(ss.mkdel(this,this.$d))},$d:function(e){if(e.length===1){this.$f=e[0].get_title()}this.incrementProps()},$a:function(){return React.createElement(bE,this.get_props())},createUpdatedProps:function(){return{errorText:this.$h,sheetName:tsConfig.current_sheet_name,alertSubject:this.$f}},$9:function(){var e=function(){dw.showNotification(tab.Strings.DataAlertDeleteFailureToast,null)};var fE=ss.mkdel(this,function(){dw.showNotification(tab.Strings.DataAlertDeleteConfirmationToast(this.$f),null);this.raiseActionEvent(this.$3$2)});tab.WorkgroupServerCommands.deleteDataAlerts([this.$e],fE,e)},$b:function(){if(this.$g){return React.createElement(SharedWidgets.DialogFooterButtonsWidget,this.$7())}return React.createElement(SharedWidgets.DialogFooterButtonsWidget,this.$8())},$8:function(){return{buttons:[this.$5(tab.Strings.DialogButtonOK)]}},$7:function(){return{buttons:[this.$5(tab.Strings.DialogButtonCancel),this.$6()]}},$6:function(){return{handleClick:ss.mkdel(this,function(e){this.$9();this.raiseActionEvent(this.$3$1)}),buttonType:0,testId:'DeleteAlert',children:tab.Strings.DataAlertDeleteButtonResumeError,disabled:false}},$5:function(e){return{handleClick:ss.mkdel(this,function(fE){this.raiseActionEvent(this.$3$1)}),buttonType:1,testId:'OK',children:e,disabled:false}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bG,a,{});ss.initClass(bJ,a,{});ss.initClass(bK,a,{});ss.initClass(bL,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,fE){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(fE)){return}this.populateAndDisplayList(fE,2)},populateAndDisplayList:function(e,fE){this.currentListPopulationMode=fE;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var fF=Math.min(e.dataHighlighterItems.length,this.get_viewModel().get_maxNumberListItems());for(var fG=0;fG<fF;fG++){var fH=e.dataHighlighterItems[fG];this.$p.push(spiff.ListItemViewModel.newListItem(fH.objectId.toString(),fH,false,false,false))}if(fF<e.totalNumberOfItemsInSet){var fI=e.totalNumberOfItemsInSet-fF;var fJ=((fI>1)?tab.Strings.SearchResultsNotShownPlural(fI.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(fJ,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var fE="<div class='{0}' title='{1}'>{1}</div>";var fF;if(ss.isValue(e.get_data())){var fG=e.get_data();fF=fG.text}else{fF=e.get_id()}var fH=ss.formatString(fE,'tab-list-item-label',tab.EscapingUtil.escapeHtml(fF));return $(fH).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var fE=e.get_data();this.get_compositeSearchWidget().setSearchText(fE.text);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([fE.objectId]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={dataHighlighterItems:[fE]};this.get_viewModel().saveSearchTextForItem(fE.text,fE.objectId)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var fE=this.dataHighlighterViewModel.get_titleAreaWidth();if(fE>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var fE=e.prop('selectionStart');var fF=e.prop('selectionEnd');var fG=fE!==fF;if(fG){return null}return fE},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var fE=this.$h();var fF=ss.isValue(fE);var fG=ss.isValue(this.$n);if(this.$o){if(fF&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&fG&&fF){var fH=ss.unbox(this.$n);var fI=ss.unbox(fE);if(fH===fI){var fJ=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(fI===fJ){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[bN]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bN]),spiff.IListItemContentCreator]);ss.initEnum(bM,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(bN,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_domainItemsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_domainItemsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.html}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.h:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.w:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.caption:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var fE=!ss.referenceEquals(e,this.$9);this.$9=e;if(fE&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var fE=e!==this.$7;this.$7=e;if(fE&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return tab.FormattingConverters.makeFormatStyleDict(this.$5.get_bodyTextStyle(),null)},alertIfDomainItemsChanged:function(){if(bN.$0(this.$6,this.get_fullDomainItemSet().dataHighlighterItems)){this.$6=ss.arrayClone(this.get_fullDomainItemSet().dataHighlighterItems);this.raiseActionEvent(this.$2$5)}},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,fE){if(tab.ApplicationModel.get_instance().get_isOffline()){var fF=e.toLowerCase();var fG=[];var fH=[];var fI=this.$5.get_fullDomainItemSet().dataHighlighterItems;for(var fJ=0;fJ<fI.length;fJ++){var fK=fI[fJ];if(fK.text.toString().toLowerCase().indexOf(fF)!==-1){fH.push(fK.objectId);fG.push(fK)}}this.lastSatisfiedSearchTerm=e;var fL={dataHighlighterItems:Array.prototype.slice.call(fG),totalNumberOfItemsInSet:fG.length};this.lastSatisfiedSearchResults=fL;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,fL)}this.highlightItems(Array.prototype.slice.call(fH))}else{var fM=new tab.HighlightItemsByPatternMatchCmd;fM.c['fn']=this.$5.get_fieldName();fM.c['valueString']=e;fM.c['visualIdPresModel']=this.$a;fM.set_uiBlocking('none');fM.invoke().done(ss.mkdel(this,function(fN){if(fE){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=fN.$$c['dataHighlighterItemSet'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,fN.$$c['dataHighlighterItemSet'])}}))}},saveSearchTextForItem:function(e,fE){var fF=new tab.HighlightItemsByPatternMatchCmd;fF.c['fn']=this.$5.get_fieldName();fF.c['valueString']=e;fF.c['visualIdPresModel']=this.$a;fF.c['objectIds']=[fE];fF.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.dataHighlighterItems.map(function(e){return e.objectId}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var fE=ss.isValue(e.pm)&&ss.isValue(e.pm.zoneTitle);if(fE){var fF=(this.$8.get_model().get_hasTitle()?e.pm.zoneTitle:null);if(!ss.referenceEquals(fF,this.$b)){this.$b=fF;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.alertIfDomainItemsChanged()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bO,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bP,a,{show:function(){var e=new co;var fE=ss.mkdel(this,function(fF){this.onAuthDialogMessage(fF,e)});e.eventHandler=fE;tab.WindowHelper.addListener(window.self,'message',fE);this.$1.add_closed(ss.mkdel(this,function(fF,fG){this.$0(e)}));this.$1.show()},cleanup:function(e){this.$1.close(null)},dispose:function(){this.$1.dispose()},$0:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(!this.get_submitted()&&!ss.staticEquals(this.onCancel,null)){this.onCancel()}}},P,[ss.IDisposable]);ss.initClass(bQ,a,{setDateRange:function(e,fE){this.$u=bQ.$2(e);this.$s=bQ.$2(fE);this.$v=bQ.$4(this.$u);this.$t=bQ.$4(this.$s)},show:function(e){if(ss.isValue(e)){this.$p=bQ.$4(bQ.$2(e));this.$B=bQ.$2(e)}this.$l();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){S.getViewport(ss.mkdel(this,function(fE){var fF=e.offset();var fG=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fH=this.getMaxHeight();var fI=tab.DoubleUtil.roundToInt(e.outerHeight());fF=this.$8(fE,fI,fF,fG,fH);this.element.offset(fF)}))},$8:function(e,fE,fF,fG,fH){var fI=tab.DoubleUtil.roundToInt(fF.left);var fJ=tab.DoubleUtil.roundToInt(fF.top);var fK=e.getDocumentViewport({x:fI,y:fJ});var fL=fK.l+fK.w;var fM=fK.t+fK.h;if(fJ+fE-1+fH<=fM){fJ+=fE-1;fI=bQ.$1(fI,fG,fK.l,fL)}else if(fJ-(fH-1)>fK.t){this.useMaxHeight();fJ-=fH-1;fI=bQ.$1(fI,fG,fK.l,fL)}else if(fI-(fG-1)>fK.l){fI-=fG-1;fJ=bQ.$1(fJ,fH,fK.t,fM)}else{var fN=fI;fI=fK.l;fI=bQ.$1(fI,fG,fK.l,fN);fJ=bQ.$1(fJ,fH,fK.t,fM)}return{left:fI,top:fJ}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var fE=$(e.target);if(!fE.hasClass('tab-disabled')){this.$h(fE)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var fE=e.data();this.$B=new Date(fE['year'],fE['month'],fE['dayOfMonth']);var fF=new Date(Date.UTC(fE['year'],fE['month'],fE['dayOfMonth']));this.$k(fF)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var fE=bQ.$3(new Date);if(!this.$9(fE)){this.$k(fE)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(bQ.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(bQ.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(bQ.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bQ.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&bQ.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var fE;var fF,fG;var fH,fI,fJ;this.$w.html('');fH=$('<thead>').appendTo(this.$w);fJ=$('<tr>').appendTo(fH);fE=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[fE]).appendTo(fJ);fE=bQ.$0(fE,1)}while(fE!==this.$q);fI=$('<tbody>').appendTo(this.$w);fJ=$('<tr>').appendTo(fI);fF=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);fF.setDate(fF.getDate()-bQ.$0(e,-this.$q));fG=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);fG.setDate(fG.getDate()+bQ.$0(this.$q,-fG.getDay()));while(!bQ.$5(fF,fG)){this.$b(fF).appendTo(fJ);fF.setDate(fF.getDate()+1);if(fF.getDay()===this.$q&&!bQ.$5(fF,fG)){fJ=$('<tr>').appendTo(fI)}}if(this.$F){var fK=fI.find('tr');if(fK.length<6){var fL=tab.DoubleUtil.roundToInt(fK.height());for(var fM=fK.length;fM<6;++fM){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(fL).insertAfter(fK.last())}}}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bR,a,{});ss.initClass(bS,a,{});ss.initClass(bT,a,{});ss.initClass(bU,a,{add_newLayouts:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayouts:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_deviceLayouts:function(){return(ss.isValue(this.$3)?this.$3.get_deviceLayouts():null)},get_autoGeneratedDeviceLayouts:function(){return(ss.isValue(this.$3)?this.$3.get_autoGeneratedDeviceLayouts():null)},$2:function(e){this.$3=e;this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bV,a,{get_vizSize:function(){return this.$2$1},set_vizSize:function(e){this.$2$1=e},$2:function(){return bV.get_isDevicePreviewMode()&&ss.isValue(this.get_vizSize())},get_shouldCutInteraction:function(){return this.$2()},get_shouldScaleDownVizContainer:function(){return this.$2()&&tsConfig.deviceTypeOverride==='phone'},get_getDevicePreviewVizContainerCss:function(){var e=this.get_vizSize().w;var fE=this.get_vizSize().h+tabBootstrap.VizLayoutConstants.get_tabsHeight();var fF=tabBootstrap.ViewerBootstrap.get_instance().getViewport().w;var fG=bV.getZoomRatio(fF,e);return{width:e+'px',height:fE+'px',transform:'scale('+fG+','+fG+')','transform-origin':'0 0'}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bW,a,{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}},React.Component);ss.initClass(bX,a,{$6:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.$5)};if(ss.isValue(this.$7)){$.extend(e,this.$7.get_props())}return e},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$8&&ss.isValue(this.$7)){this.$7.onDialogHidden()}EventUtils.GlobalUIEvents.FireDismissTemporaryElements();this.$8=true;this.$7=e;this.$7.add_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.add_propsUpdated(ss.mkdel(this,this.incrementProps));this.incrementProps()},hide:function(){if(!this.$8){return}if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.remove_propsUpdated(ss.mkdel(this,this.incrementProps));this.$7.onDialogHidden();this.$7=null}this.$8=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$8,dialogProps:this.$6()}},$5:function(){if(tsConfig.is_mobile){this.hide()}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(de,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(bY,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,fE,fF,fG){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,fE){}},null,[de,ss.IDisposable]);ss.initClass(bZ,a,{handleWidgetPropertyChanged:function(e,fE){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[cd,cb,Object]));ss.initClass(ca,a,{show:function(){var e=document.createElement('div');this.$2=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var fE={testId:'FileDownload-Dlg',isModal:true,title:this.$4,showCloseButton:false,type:0,positioningBehavior:0,onCloseRequest:ss.mkdel(this,this.dispose),shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,children:this.$3,zIndex:1000};var fF=this.$1(ss.mkdel(this,this.dispose));fE.footerContent=fF;fE.showFooter=true;var fG=React.createElement(SharedWidgets.DialogWidget,fE);ReactDOM.render(fG,e)},dispose:function(){this.$2()},$1:function(e){var fE=ca.$0(e);var fF=this.$0(e);var fG=[];fG.push(fE);fG.push(fF);var fH=fG;var fI=spiff.DOMElements.div({style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:fH});return fI},$0:function(e){var fE=spiff.DOMElements.a({href:this.$5,target:this.$6,className:'tabDownloadFileButton',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(fG){e()},'data-test-id':'DownloadLink'},tab.Strings.DialogButtonDownload);var fF=spiff.DOMElements.div({className:spiff.ClickBuster.suppressClickBustingClass,key:'download-button-wrapper-key',style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace},children:fE});return fF}},null,[ss.IDisposable]);ss.initClass(cb,a,{});ss.initClass(cc,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cd,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$h.get_menu().menuItems;for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(fF.enabled){this.$h.set_focusedItem(fF);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$i.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$i.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$i.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$i.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$i,this.$i.exportImage),'tabDownloadImage'))}var fE=(this.$i.get_exportDataEnabled()?ss.mkdel(this.$i,this.$i.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,fE,'tabDownloadData'));var fF=(this.$i.get_exportCrosstabEnabled()?ss.mkdel(this.$i,this.$i.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,fF,'tabDownloadCrosstab'));if(this.$i.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$i,this.$i.exportPdf),'tabDownloadPdf'))}if(this.$i.get_shouldShowDownloadWorkbook()){var fG=(this.$i.get_downloadWorkbookEnabled()?ss.mkdel(this.$i,this.$i.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,fG,'tabDownloadWorkbook'))}if(this.$j&&eU.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(eU.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(eU.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$i.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var fE='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,fE));var fF=spiff.LabelButton.newTextButton(null,null);fF.set_label(this.$f());fF.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fF.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(fF.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$h=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null,null,true);this.$h.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$g=tab.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$h]);this.get_dom().menuArea.append(this.$g.element);if(!this.$j&&eU.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[ce]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ce])]);ss.initClass(ce,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hideDialogRequested:function(e){this.add_downloadInitiated(e)},remove_hideDialogRequested:function(e){this.remove_downloadInitiated(e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return cd},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarDownload;var fE=!tsConfig.is_mobile;var fF=new cb;fF.viewModel=this;return{title:e,testId:'download',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldAdjustPositionOnWindowResize:fE,shouldRecenterOnUpdate:true,children:React.createElement(bZ,fF)}},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return tsConfig.allow_export_image},get_shouldShowImage:function(){return tsConfig.allow_export_image},get_exportDataEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook(null,null);this.$2()},exportImage:function(){var e=new cp;e.setSheetScrollPositions(G.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new cp);this.$2()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(cf,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cg,a,{showInternal:function(){this.get_body().append(this.$P)}},cf,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(ch,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},cf,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(ci,a,{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');var e={key:'EditConnectionInformationDialog',content:tab.Strings.EditConnectionInformationDialogText(this.$2.datasourceCaption),showDetailsLabel:tab.Strings.ShowDetailsLabel,hideDetailsLabel:tab.Strings.HideDetailsLabel,detailsContent:this.$2.exceptionMessage,title:tab.Strings.EditConnectionInformationDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,this.$0)};e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,this.$1),buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,this.$0),buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var fE=React.createElement(er,e);ReactDOM.render(fE,this.parentNode)},$1:function(){if(!ss.staticEquals(this.$2$1,null)&&!this.$3){this.$2$1(true);this.$3=true;tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')}},$0:function(){if(!ss.staticEquals(this.$2$1,null)&&!this.$3){this.$2$1(false);this.$3=true}this.dispose()}},Q,[ss.IDisposable]);ss.initClass(cj,a,{});ss.initClass(ck,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cl,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cm,a,{},ss.makeGenericType(spiff.BaseView$1,[cn]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cn])]);ss.initClass(cn,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(co,a,{});ss.initClass(cp,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var fE=0;fE<e.length;fE++){var fF=e[fE];this.$0[fF.get_sheetName()]=fF.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){if(tab.FeatureFlags.isEnabled('NewPdfDialog')){e.showExportPdfDialog(tab.CommandController.get().legacySession)}else{var fE=e.createSpiffPdfExportDialog(tab.CommandController.get().legacySession,tsConfig.is_mobile);fE.add_closed(function(){fE.dispose();fE=null});fE.show()}})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cq,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},get_iFrame:function(){return this.get_container().find('#'+this.$1).get(0)},setSrc:function(e){this.get_frame().prop('src',e)}},spiff.Template,[ss.IDisposable]);ss.initClass(cr,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cs,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(ct,a,{get_zoneViewModel:function(){return this.get_viewModel().get_zoneViewModel()},get_domRoot:function(){return this.get_template().domRoot},$j:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$g:function(e,fE){if(fE.get_propertyName()==='isActiveZone'){this.$h()}},$b:function(){if(this.get_viewModel().get_isEmpty()||this.get_viewModel().get_renderStatus()==='promptNeeded'||this.get_viewModel().get_renderStatus()==='initial'){this.$d()}else if(this.get_viewModel().get_renderStatus()==='load'){this.$e()}else{var e=new cr(this.get_viewModel().get_errorMessage());this.$j().updateContentTemplate(e)}},$d:function(){var e=new ck;this.$j().updateContentTemplate(e);return},$f:function(e){var fE=new cr(e);this.$j().updateContentTemplate(fE);return},$e:function(){var e=this.get_viewModel().get_url();var fE=this.$9();this.$k.then(ss.mkdel(this,function(fF){var fG=new tab.ExtensionServerContext;fG.isAuthoring=tsConfig.is_authoring;fG.isPublic=tsConfig.isPublic;fG.isSaas=tsConfig.is_saas;fG.isOfficialRelease=!tsConfig.isBeta&&!ss.equalsT(tsConfig.externalVersion,'0.0.0');var fH=fG;this.$l=fF.createApiDispatcher(this.get_viewModel().get_extensionInstanceInfo(),fH);this.$j().updateContentTemplate(fE);this.$m.setSrc(e);this.$l.setExtensionFrame(this.$m.get_iFrame());this.$h()}),ss.mkdel(this,function(fF){}));this.$h()},$9:function(){if(ss.isNullOrUndefined(this.$m)){this.$m=new cq('extension_frame_'+this.get_zoneViewModel().get_zoneId())}this.$i();return this.$m},$i:function(){tab.DomUtil.resize(this.$m.get_frame()[0],{l:0,t:0,w:this.get_zoneViewModel().get_contentWidth(),h:this.get_zoneViewModel().get_contentHeight()})},$a:function(){this.$o.setActive()},$h:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$n)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$n=e;this.$n.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$n)}if(this.$o.get_isActiveZone()){this.$n.hide()}else{this.$n.show()}},$c:function(){if(ss.isValue(this.$m)){this.$i()}}},ss.makeGenericType(spiff.BaseView$1,[cu]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cu])]);ss.initClass(cu,a,{add_extensionZoneUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_extensionZoneUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_extensionZoneReady:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_extensionZoneReady:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_refreshExtensionZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_refreshExtensionZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneViewModel:function(){return this.$c},get_extensionInstanceInfo:function(){return this.$9.pm.addInInstancePresModel},get_extensionKey:function(){if(this.get_isEmpty()){return null}return{addInId:this.get_extensionInstanceInfo().addInRegistrationPresModel.addInId,extensionVersion:this.get_extensionInstanceInfo().addInRegistrationPresModel.extensionVersion,extensionUrl:this.get_url()}},get_isInitialized:function(){return this.$a},get_isEmpty:function(){return this.get_extensionInstanceInfo().isEmpty},get_isValid:function(){return this.get_extensionInstanceInfo().isValid},get_url:function(){return(this.get_isEmpty()?null:this.get_extensionInstanceInfo().addInRegistrationPresModel.url)},get_extensionName:function(){return(this.get_isEmpty()?null:this.get_extensionInstanceInfo().addInRegistrationPresModel.addInName)},get_renderStatus:function(){if(!tab.FeatureFlags.isEnabled('ExtensionsSettingsTab')){return'load'}return this.$b},get_errorMessage:function(){var e=(tsConfig.is_saas?tab.Strings.SiteAdmin:tab.Strings.ServerAdmin);switch(this.$b){case'extensionsDisabledOnServer':{return(tsConfig.isPublic?tab.Strings.ExtensionsDisabledOnPublic:tab.Strings.ExtensionsDisabledOnServer)}case'extensionBlockedByServer':{return tab.Strings.ExtensionBlockedByServer(this.get_extensionName(),this.get_url())}case'extensionsDisabledOnSite':{return tab.Strings.ExtensionsDisabledOnSite(e)}case'notInSafeList':{return tab.Strings.ExtensionNotFoundOnSafelist(this.get_extensionName(),this.get_url(),e)}case'safeListViolation':{return tab.Strings.ExtensionViolatesSafelistPermission(this.get_extensionName(),this.get_url(),e)}case'userDenied':{if(tsConfig.is_authoring){return tab.Strings.ExtensionDeniedByUserAuthoring}return tab.Strings.ExtensionDeniedByUser}case'extensionBlockedPreRelease':{var fE=this.get_extensionInstanceInfo().addInRegistrationPresModel;return tab.Strings.ExtensionBlockedPreRelease(fE.extensionVersion,this.get_extensionName(),fE.extensionAuthorWebsite)}default:{return''}}},handleExtensionZoneUpdated:function(){if(this.get_renderStatus()==='initial'){this.$7()}else{this.raiseActionEvent(this.$2$1)}},$5:function(){if(this.get_isEmpty()){return}if(this.get_renderStatus()==='promptNeeded'||this.get_renderStatus()==='userDenied'||this.get_renderStatus()==='load'){var e=tab.ApplicationModel.get_instance().get_extensionPermissionsCache();if(e.hasUserResponse(this.get_extensionKey())){var fE=(e.getPermissionsApproval(this.get_extensionKey())?'load':'userDenied');if(fE!==this.$b){this.$b=fE;this.raiseActionEvent(this.$2$1)}}}},$7:function(){if(!this.get_isValid()){this.$a=true;return}if(this.get_isEmpty()){return}if(this.get_renderStatus()!=='initial'){this.$a=true;return}var e=ss.contains(this.get_extensionInstanceInfo().addInRegistrationPresModel.extensionPermissions,'full-data');tab.WorkgroupServerCommands.getExtensionLoadStatus(this.get_url(),e).done(ss.mkdel(this,function(fE){this.$6(fE)})).fail(function(){})},$6:function(e){var fE;if(tsConfig.isPublic){fE=this.$4(e.status)}else{fE=this.$3(e.status)}if(fE==='promptNeeded'){var fF=tab.ApplicationModel.get_instance().get_extensionPermissionsCache();if(fF.hasUserResponse(this.get_extensionKey())){fE=(fF.getPermissionsApproval(this.get_extensionKey())?'load':'userDenied')}}this.$b=fE;this.$a=true;this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$1)},$3:function(e){switch(e){case'blockedByServer':{return'extensionBlockedByServer'}case'disabledOnServer':{return'extensionsDisabledOnServer'}case'disabledOnSite':{return'extensionsDisabledOnSite'}case'notInSafeList':{return'notInSafeList'}case'safeListViolation':{return'safeListViolation'}case'promptUser':{return'promptNeeded'}case'load':{return'load'}default:{throw new ss.Exception('Extension Encountered Error While Rendering')}}},$4:function(e){switch(e){case'blockedByServer':{return'extensionBlockedByServer'}case'disabledOnServer':{return'extensionsDisabledOnServer'}default:{return'load'}}},$8:function(e,fE){this.raiseActionEvent(this.$2$3)},$2:function(e,fE){this.$b='extensionBlockedPreRelease';this.raiseActionEvent(this.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(cv,a,{componentDidUpdate:function(){this.$1()},render:function(){return spiff.DOMElements.input({style:{display:'none'},type:'file',multiple:this.props.allowMulti,onChange:ss.mkdel(this,this.$0),value:null,accept:this.props.allowedFileExtensions.join(','),ref:this.$3})},$1:function(){if(ss.isValue(this.$2)){this.$2.click()}},$0:function(e){e.stopPropagation();e.preventDefault();this.props.onFileBrowse(this.$2.files)}},spiff.PureRenderComponent);ss.initClass(cw,a,{});ss.initClass(cx,a,{createInitialProps:function(){return{onFileBrowse:ss.mkdel(this,this.$5)}},createUpdatedProps:function(){return{allowedFileExtensions:this.$6.allowedFileExtensions,allowMulti:this.$6.allowMulti}},$5:function(e){this.$7(e)}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eo,a,{$2:function(){this.determineIfConnectionClassSupported().done(ss.mkdel(this,function(e){this.setState({isConnectionClassSupported:e})}))},componentWillMount:function(){this.$2()},componentWillReceiveProps:function(e){if(!ss.referenceEquals(e.connectionClass,this.props.connectionClass)){this.$2()}},render:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget'},spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-title'},tab.Strings.SheetReconnectTitle),(this.shouldRenderSubtitle()?ss.mkdel(this,this.createSubtitle)():null),(this.shouldShowErrorMessage()?ss.mkdel(this,this.createErrorMessage)():null),(this.shouldRenderEditConnectionButton()?ss.mkdel(this,this.createEditConnectionButton)():null),(this.state.isConnectionClassSupported?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,this.createPrimaryButtonProps())})():null),(this.shouldRenderEditingNotSupported()?ss.mkdel(this,this.$0)():null))},$0:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-editing-not-supported'},tab.Strings.SheetReconnectEditingNotSupported)},shouldRenderSubtitle:function(){return!ss.isNullOrEmptyString(this.props.connectionClass)},createSubtitle:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-subtitle'},tab.Strings.SheetReconnectSubtitle(this.props.dataSourceCaption))},determineIfConnectionClassSupported:function(){var e=$.Deferred();if(ss.contains(tab.ConnectionClass.get_getSupportedFileClasses(),this.props.connectionClass)){e.resolve(this.props.connectionErrorStage==='create-protocol-failed')}tab.DataConnectionUtils.isDatabaseClassSupportedInReconnectFlow(this.props.connectionClass).done(ss.mkdel(this,function(fE){if(fE){e.resolve(tab.DeferredConnectionsCommandHandler.isBadPasswordError(this.props.errorType))}else{e.resolve(false)}}));return e.promise()},shouldRenderEditConnectionButton:function(){return tab.MiscUtil.shouldShowDataTab()&&tsConfig.is_authoring&&(this.state.isConnectionClassSupported||this.props.connectionErrorStage==='load-metadata-failed'||ss.isNullOrEmptyString(this.props.connectionClass))},shouldRenderEditingNotSupported:function(){return tab.MiscUtil.shouldShowDataTab()&&tsConfig.is_authoring&&!this.shouldRenderEditConnectionButton()},createEditConnectionButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createEditConnectionButtonProps())},shouldShowErrorMessage:function(){return ss.isNullOrEmptyString(this.props.connectionClass)&&!ss.isNullOrEmptyString(this.props.errorMessage)},createErrorMessage:function(){return spiff.DOMElements.div({className:'tab-reconnect-error-message'},tab.Strings.SheetReconnectErrorMessage(this.props.errorMessage.trim()))},createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')};return{handleClick:function(fE){e()},buttonType:3,testId:'SheetReconnectEditConnection',children:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'30px'}}},$1:function(){if(tab.TabbedAuthenticationDialogCommands.useTabbedAuthDialog(this.props.connectionAttemptInfo)){return ss.mkdel(this,function(){var e=$.Deferred();tab.TabbedAuthenticationDialogCommands.showTabbedAuthenticationDialog(tab.DataConnectionUtils.getConnectionNames(this.props.connectionAttemptInfo),false,this.props.connectionAttemptInfo);var fE=function(fG,fH){e.resolve()};var fF=function(fG,fH){e.reject()};tab.ApplicationModel.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',fF);tab.ApplicationModel.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',fE);e.done([ss.mkdel(this,function(fG){this.props.onCredentialsAdded(null)})])})}else{return ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(e){e.showSignInDialog(this.props.connectionAttributes,this.props.connectionDisplayAttributes,this.props.dataSourceCaption,this.props.connectionName,this.props.connectionTypeLabel,this.props.onCredentialsAdded,null)}))})}},createPrimaryButtonProps:function(){var e=this.$1();return{handleClick:function(fE){e()},buttonType:1,testId:'SheetReconnectSignIn',children:tab.Strings.SheetReconnectSignInLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}}},spiff.PureRenderComponent);ss.initClass(cy,a,{createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','FileReconnect','')};return{handleClick:function(fE){e()},buttonType:3,testId:'SheetReconnectEditConnection',children:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}},createPrimaryButtonProps:function(){var e=null;e=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(fE){fE.showReplaceFileDialog(this.props.connectionName,this.props.connectionClass).done(ss.mkdel(this,function(fF){if(fF&&!ss.staticEquals(this.props.onCredentialsAdded,null)){this.props.onCredentialsAdded(null)}})).fail(function(fF){e()})}))});return{handleClick:function(fE){e()},buttonType:1,testId:'FileReconnectLocateFile',children:tab.Strings.SheetReconnectLocateFileLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'30px',marginRight:'auto'}}}},eo);ss.initClass(cz,a,{});ss.initClass(cA,a,{});ss.initClass(cB,a,{});ss.initClass(cC,a,{},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cD,a,{show:function(){this.$1.show()},cleanup:function(e){this.$1.closeAndDispose()},dispose:function(){this.$1.dispose()},$0:function(){if(!this.get_submitted()&&!ss.staticEquals(this.onCancel,null)){this.onCancel()}}},P,[ss.IDisposable]);ss.initClass(cE,a,{createOverlay:function(e){var fE=$('.dashboardSpacer');var fF=$("<div id='auth-overlay' tabindex='0'></div>");if(tsConfig.is_authoring&&tab.MiscUtil.shouldShowDataTab()){this.$0(fF)}else{var fG=ss.mkdel(this,function(){this.set_submitted(true);if(!ss.staticEquals(this.onProceed,null)){this.onProceed()}this.cleanup(e)});var fH=new cC(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fG);fF.append(fH.element)}fE.append(fF)},$0:function(e){var fE=ss.mkdel(this,function(fG){if(!ss.staticEquals(this.onProceed,null)){this.onProceed()}});var fF={connectionAttributes:this.$1.exceptionAttrs,connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionErrorStage:this.$1.connectionErrorStage,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,errorMessage:this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,errorType:this.dataSourceConnectionAttemptErrorResponse.ErrorType,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption,onCredentialsAdded:fE};if(ss.contains(tab.ConnectionClass.get_getSupportedFileClasses(),this.dataSourceConnectionAttemptErrorResponse.ConnectionClass)){ReactDOM.render(React.createElement(cy,fF),e.get(0))}else{ReactDOM.render(React.createElement(eo,fF),e.get(0))}},show:function(){var e=new co;var fE=ss.mkdel(this,function(){this.cleanup(e)});fB.add_zoneBecameValid(fE);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){fB.remove_zoneBecameValid(fE)});this.createOverlay(e)}},O,[ss.IDisposable]);ss.initClass(dv,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[dw]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,fE){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));this.element.fadeIn('fast');this.updateContent();if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[dw]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dw])]);ss.initClass(cF,a,{},dv,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dw])]);ss.initClass(cG,a,{get_keyCombos:function(){return new tab.KeyCombos(new tab.KeyCombo.$ctor4(new tab.KeyModifiers(false,true,false,false,true,false,false,false,false),191,[]),[new tab.KeyCombo.$ctor4(new tab.KeyModifiers(false,true,false,false,true,false,true,false,false),191,[]),new tab.KeyCombo.$ctor2(112,[])])},isAllowed:function(e){return true},executeShortcut:function(e){tab.WindowHelper.open(this.$0,'_blank')}},tab.GlobalKeyboardShortcut,[tab.IKeyboardShortcut]);ss.initClass(cH,a,{});ss.initEnum(cI,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(dd,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(cJ,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},dd,[ss.IDisposable]);ss.initClass(cK,a,{$1:function(){return this.domRoot.find('.message')},$2:function(){return this.domRoot.find('.path')}},spiff.Template,[ss.IDisposable]);ss.initClass(cL,a,{$2:function(){return this.domRoot.find('.message')},$1:function(){return this.domRoot.find('a')}},spiff.Template,[ss.IDisposable]);ss.initInterface(cN,a,{},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[F])]);ss.initInterface(cR,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(cS,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initInterface(cT,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(cU,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,fE){if(!ss.referenceEquals(this.get_frame().prop('original_url'),fE)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',fE)}}},spiff.Template,[ss.IDisposable]);ss.initInterface(cV,a,{get_type:null});ss.initClass(cW,a,{});ss.initClass(cX,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cY,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$k},$i:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);var fE=ss.isNullOrEmptyString(this.$i().get_imageZonePresModel().imageKey)&&ss.isNullOrEmptyString(this.$i().get_imageZonePresModel().image);if(fE&&tab.FeatureFlags.isEnabled('DashboardMttwImageObject')){this.$b()}else{this.$k=this.$c()}},$b:function(){var e=this.get_template().domRoot.find('.'+cY.emptyImageClass).length===0;if(!e){return}this.get_template().domRoot.empty();var fE=((!tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard')?tab.Strings.EmptyImageZoneMessage:'');var fF=$('<div>'+fE+'</div>').addClass(cY.emptyImageClass);this.get_template().domRoot.append(fF)},$c:function(){var e=$('<img>');var fE=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$k)){window.setTimeout(ss.mkdel(this,function(){this.$j=e.get(0);this.$g()}),1)}else{this.$j=e.get(0);this.$g()}e.off('load')});e.on('load',fE);var fF=this.$i().get_imageUrl();if(!ss.isNullOrEmptyString(this.$i().get_imageZonePresModel().image)){fF='data:image/jpeg;base64,'+this.$i().get_imageZonePresModel().image}var fG=this.$i().get_imageZonePresModel().altText;if(tab.FeatureFlags.isEnabled('DashboardMttwImageObject')&&!ss.isNullOrEmptyString(fG)){e.attr('alt',fG)}e.css('border','none').css('display','block').attr('src',fF);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$e:function(){if(ss.isNullOrEmptyString(this.$i().get_imageZonePresModel().image)&&ss.isNullOrEmptyString(this.$i().get_imageZonePresModel().imageKey)){return}this.$g()},$g:function(){var e=this.$i().get_imageZonePresModel();if(e.isScaled){this.$f()}var fE=this.$h();this.$9(fE);if(e.isCentered){this.$a(fE)}return fE},$d:function(){var e=this.$i().get_zoneModel();var fE=this.$i().get_imageZonePresModel();var fF=fe.absolutizeURI(fE.url,false);var fG=e.get_zoneCommonModel().get_zoneType()==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$3(fE.imageKey)&&!tab.MiscUtil.isNullOrEmpty$3(fF);if(fG){return $('<a/>').attr('href',fF).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$h:function(){var e=this.get_image();var fE=this.$d();fE.append(e);return fE},$f:function(){var e=this.$i().get_zoneModel();var fE=this.$j['width'];var fF=this.$j['height'];if(BrowserSupport.BrowserSupport.IsIE()){fE=this.$j['naturalWidth'];fF=this.$j['naturalHeight']}var fG=0;var fH=0;var fI;if(fE/e.get_zoneCommonModel().get_contentWidth()>=fF/e.get_zoneCommonModel().get_contentHeight()){fI={width:e.get_zoneCommonModel().get_contentWidth()+'px',height:'auto'};fG=e.get_zoneCommonModel().get_contentWidth();fH=ss.Int32.trunc(e.get_zoneCommonModel().get_contentWidth()/fE*fF)}else{fI={height:e.get_zoneCommonModel().get_contentHeight()+'px',width:'auto'};fH=e.get_zoneCommonModel().get_contentHeight();fG=ss.Int32.trunc(e.get_zoneCommonModel().get_contentHeight()/fF*fE)}if(BrowserSupport.BrowserSupport.IsIE()){var fJ=window.screen['deviceXDPI'];var fK=window.screen['systemXDPI'];var fL=fJ/fK>1;if(!fL&&fG>0&&fH>0&&fG/fE<0.75&&fE<500&&fF<500){var fM=this.$k.get(0).getAttribute('src');var fN=cW.scaleImage(this.$j,fG,fH,ss.Int32.trunc(fE),ss.Int32.trunc(fF));this.$k=$(fN);this.$k.get(0).setAttribute('src',fM);fI=ss.mkdict(['width',fG+'px','height',fH+'px'])}else{this.$k=$(this.$j)}}this.$k.css(fI)},$a:function(e){e.addClass('tab-centeredImageWrapper')}},ss.makeGenericType(spiff.BaseView$1,[cZ]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cZ])]);ss.initClass(cZ,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$2.get_zoneModel()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().legacySession;var fE=e.formatDashboardTempfileReference(this.get_imageZonePresModel().imageKey,true,false);return fE},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initInterface(da,a,{get_location:null,set_location:null});ss.initInterface(db,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initClass(dc,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,fE){e.toggleClass('tabIterButtonDisabled',!fE)}},null,[ss.IDisposable]);ss.initClass(df,a,{});ss.initClass(dg,a,{render:function(){var e=this.buildCommonDialogProps();var fE=React.createElement(SharedWidgets.DialogWidget,e);return fE},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var fE=[];var fF=spiff.DOMElements.div({children:this.$0(this.props.content),className:spiff.Widget.selectableNodeClass});fE.push(fF);var fG=this.$0(this.props.detailsContent);if(ss.isValue(this.props.additionalLinks)){for(var fH=0;fH<this.props.additionalLinks.length;fH++){var fI=this.props.additionalLinks[fH];fG.push(spiff.DOMElements.p({},spiff.DOMElements.a({href:fI.url,target:'_blank',children:fI.displayText})))}}if(!tab.MiscUtil.isNullOrEmpty$1(fG)){var fJ=spiff.DOMElements.div({style:dg.$0,children:fG,className:spiff.Widget.selectableNodeClass});fE.push(fJ)}e.children=fE;return e},$0:function(e){var fE=[];if(ss.isNullOrEmptyString(e)){return fE}var fF='<br/>';e=ss.replaceAllString(e,'<br>',fF);e=ss.replaceAllString(e,'\n',fF);var fG=e.split(fF);var fH=dg.textArea.value();for(var fI=0;fI<fG.length;fI++){var fJ=fG[fI];fH.innerHTML=fJ;var fK=spiff.DOMElements.p({children:fH.textContent});fE.push(fK)}return fE}},React.Component);ss.initClass(dh,a,{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return spiff.DOMElements.div({className:'tab-MapScale',title:e,style:this.$2()},spiff.DOMElements.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),spiff.DOMElements.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),spiff.DOMElements.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}},React.Component);ss.initClass(di,a,{createUpdatedProps:function(){var e=this.$5;if(!e.get_hasPresModel()){return di.$0}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(dj,a,{get_commands:function(){return this.$1$1},set_commands:function(e){this.$1$1=e},get_menuItem:function(){return this.$1$2},set_menuItem:function(e){this.$1$2=e},get_menuPrefix:function(){return this.$1$3},set_menuPrefix:function(e){this.$1$3=e},get_menuTextMayBeSensitive:function(){return this.$1$4},set_menuTextMayBeSensitive:function(e){this.$1$4=e}});ss.initClass(dk,a,{get_menuItemPrefix:function(){return this.$1$1},set_menuItemPrefix:function(e){this.$1$1=e},get_commandIndexInFlattenedList:function(){return this.$1$2},set_commandIndexInFlattenedList:function(e){this.$1$2=e},get_commandReadId:function(){return this.$1$3},set_commandReadId:function(e){this.$1$3=e},get_commandName:function(){return this.$1$4},set_commandName:function(e){this.$1$4=e}});ss.initEnum(dl,a,{dragDrop:'dragDrop',doubleClick:'doubleClick'},true);ss.initClass(dm,a,{});ss.initClass(dn,a,{dispose:function(){$(document).off('.ModifierKeyState')},$0:function(e){dn.fireModifierKeysChanged(e)}},null,[ss.IDisposable]);ss.initClass(dp,a,{});ss.initClass(dq,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var fE=0;fE<e.length;fE++){var fF=e[fE];var fG=ss.mkdict(['style',fF.get_style(),'weight',fF.get_weight()]);var fH=new FontFace(fF.get_fontFamily(),fF.get_source(),fG);if(ss.keyExists(this.$2,fF.get_hash())){continue}dq.$0().add(fH);this.$2[fF.get_hash()]=fH}},downloadFonts:function(){var e=_.values(this.$2);for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(fF.status==='unloaded'){this.$3.push(fF.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[cT]);ss.initClass(dr,a,{});ss.initClass(ds,a,{});ss.initClass(dt,a,{});ss.initEnum(du,a,{localOnly:0,needRemote:1,needRemoteForViTOnly:2});ss.initClass(dw,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,fE){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dx,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new dx(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var fE=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',fE+'px']))}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,da]);ss.initClass(dy,a,{buildItem:function(e){var fE=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeGroup)){fE.push('active')}return spiff.DOMElements.div({className:fE.join(' '),style:{whiteSpace:'nowrap'},title:e.name},e.name)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){var fE=new EventUtils.EventHandleSpec;fE.tap=ss.mkdel(this,function(fF){this.props.onGroupSelected(e.data)});return fE},onScrollStop:function(e,fE){if(e.y===fE.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dz,a,{buildItem:function(e){var fE=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){fE.push('active')}return spiff.DOMElements.div({className:fE.join(' '),style:{whiteSpace:'nowrap'},title:e.friendlyName},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){var fE=new EventUtils.EventHandleSpec;fE.tap=ss.mkdel(this,function(fF){this.props.onUserSelected(e.data)});return fE},onScrollStop:function(e,fE){if(e.y===fE.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initEnum(dA,a,{valid:0,invalid:1,pending:2});ss.initClass(dB,a,{getImageFile:function(){var e=$.Deferred();var fE=new cw;fE.allowedFileExtensions=['image/*'];fE.allowMulti=false;this.$2=fE;this.$1=tab.MiscUtil.dispose$1(this.$1);this.$1=cx.createFilePickerViewModel(this.$2,function(fG){dB.$0(e,fG)});var fF=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[cx,cv,Object])).call(null,[this.$1]);fF.addToDom($(document.body));return e.promise()},dispose:function(){this.$1=tab.MiscUtil.dispose$1(this.$1);this.$0.dispose()}},null,[ss.IDisposable]);ss.initClass(dC,a,{},ss.makeGenericType(spiff.BaseView$1,[dD]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dD])]);ss.initClass(dD,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dE,a,{handleWidgetPropertyChanged:function(e,fE){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dH,dF,Object]));ss.initClass(dF,a,{});ss.initClass(dG,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dH,a,{get_dom:function(){return this.get_template()},$d:function(){this.get_dom().moreAboutPublicSection.empty();this.get_dom().viewAndAuthorInfoSection.empty();this.$b();if(this.$e.get_shouldShowViewCount()){this.$c();if(this.$e.get_shouldShowAuthorByLine()){this.$a()}}if(this.$e.get_shouldShowAuthorByLine()){this.$9()}},$b:function(){this.get_dom().moreAboutPublicSection.attr('href',this.$e.get_publicLogoLink());this.get_dom().moreAboutPublicSection.text(tab.Strings.ToolbarLearnMoreAboutTableau)},$c:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(dI.get_localizedViewCount()));this.get_dom().viewAndAuthorInfoSection.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().viewAndAuthorInfoSection.append(e)},$9:function(){var e=$('<span>').html(this.$e.get_authorProfileLink());this.get_dom().viewAndAuthorInfoSection.append(e)},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)}},ss.makeGenericType(spiff.BaseView$1,[dI]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dI])]);ss.initClass(dI,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return dH},get_viewModel:function(){return this},get_props:function(){var e=new dF;e.viewModel=this;return{children:React.createElement(dE,e),dialogWidth:260,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'public-info',title:tab.Strings.ToolbarMoreInfo,type:0}},get_shouldShowAuthorByLine:function(){return eU.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return eU.$0()&&tsConfig.showViewCount&&eU.publicViewCount>tsConfig.viewCountThreshold},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var fE=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tab.EscapingUtil.escapeHtml(fE),tab.EscapingUtil.escapeHtml(tab.Strings.ToolbarMoreByAuthor))},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(dL,a,{});ss.initClass(dM,a,{render:function(){var e=['tab-legacy-dropdown-container','tab-legacy-qf-bordered'].join(' ');var fE={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:e,style:fE},spiff.DOMElements.div({className:'tab-legacy-dropdown-summary'},this.props.children),(!this.props.hideIcon?ss.mkdel(this,this.renderIcon)():null))},renderIcon:function(){var e={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:'tab-legacy-dropdown-icon-container',style:e},spiff.DOMElements.div({className:'tab-legacy-dropdown-icon'}))}},spiff.PureRenderComponent);ss.initClass(dN,a,{render:function(){var e=['tab-legacy-qf-readout-container','tab-legacy-qf-bordered'].join(' ');var fE={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:e,style:fE},this.$1(),(!this.props.hideIcon?ss.mkdel(this,this.$0)():null))},$1:function(){var e=(ss.isNullOrEmptyString(this.props.text)?' ':this.props.text);var fE=['tab-legacy-qf-readout-text',this.props.textClass].join(' ');var fF={textDecoration:(this.props.strikethroughText?'line-through':'none')};return spiff.DOMElements.div({className:fE,style:fF},e)},$0:function(){var e=['tab-legacy-qf-readout-icon',this.props.iconClass].join(' ');return spiff.DOMElements.div({className:e})}},spiff.PureRenderComponent);ss.initClass(dO,a,{render:function(){var e=new EventUtils.EventHandleSpec;e.tap=ss.mkdel(this,function(fH){this.props.removeRecipientByIndex(this.props.recipientIndex)});var fE=e;var fF=EventUtils.EventForwarder.span(fE,{className:'tabUserPillRemove'},'×');var fG=spiff.DOMElements.span({className:'tabUserPillName'},this.props.recipientName);return spiff.DOMElements.div(this.$0(),fG,fF)},$0:function(){var e='tabUserPill';if(this.props.pillStatus===1){e+=' error'}return{className:e,title:((this.props.pillStatus===0)?this.props.recipientName:this.props.errorText)}}},React.Component);ss.initClass(dP,a,{render:function(){var e=null;if(this.props.isUsers){e=_.map(this.props.users,ss.mkdel(this,function(fF,fG){return React.createElement(dO,{removeRecipientByIndex:this.props.removeRecipientByIndex,recipientIndex:fG,recipientName:fF.friendlyName,pillStatus:(ss.staticEquals(this.props.userValidator,null)?0:this.props.userValidator(fF)),errorText:(ss.staticEquals(this.props.invalidUserTextGenerator,null)?null:this.props.invalidUserTextGenerator(fF)),key:fF.id})}))}else{e=_.map(this.props.groups,ss.mkdel(this,function(fF,fG){return React.createElement(dO,{removeRecipientByIndex:this.props.removeRecipientByIndex,recipientIndex:fG,recipientName:fF.name,pillStatus:0,errorText:(ss.staticEquals(this.props.invalidGroupTextGenerator,null)?null:this.props.invalidGroupTextGenerator(fF)),key:fF.id})}))}var fE=React.createElement(SharedWidgets.OutlineTextFieldWidget,{text:this.props.searchText,handleChange:this.props.newSearch,maxLength:50,containerStyle:{minWidth:'25px',maxWidth:'100px'},inputStyle:{border:'0px'},inputRef:function(fF){if(ss.isValue(fF)){fF.focus()}},key:'input-search',testId:'subscriber-search-input'});e.push(fE);return spiff.DOMElements.div({className:'tabUserPillsComponent',onKeyDown:this.props.handleInputKeyDown,style:{overflowY:'auto'}},e)}},React.Component);ss.initClass(dQ,a,{add_disposed:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_disposed:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_propertyChanged:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_propertyChanged:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},createNewDefaultState:function(){return{activeItemIndex:0,moreRecipients:false,firstVisibleIndex:0,users:[],groups:[],activeUser:null,activeGroup:null}},dispose:function(){if(ss.isValue(this.$3$1)){this.$3$1(this);this.$3$1=null}this.$3$2=null;this.disposables.dispose();this.$8.dispose()},notifyPropertyChanged:function(e){if(!ss.staticEquals(this.$3$2,null)){this.$3$2(this,new tab.PropertyChangedEventArgs(e))}},$4:function(e){this.$3()},$2:function(e){this.$3()},$3:function(){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.value=null}this.setState(this.createNewDefaultState());this.props.emptySearch(true)},handleInputKeyUp:function(e){var fE=e.keyCode;if(fE===40||fE===38||fE===13){return}this.$a=e.target.value;this.$8.invokeActionDelayed();if(this.props.isUsers){this.searchUsers()}else{this.searchGroups()}},handleInputKeyDown:function(e){var fE=this.state.activeItemIndex;switch(e.keyCode){case 40:{this.state.activeItemIndex=this.$5(1);if(fE!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 38:{this.state.activeItemIndex=this.$5(-1);if(fE!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 13:{if(this.props.isUsers){var fF=this.state.users[this.state.activeItemIndex];if(ss.isValue(fF)){this.props.onUserSelected(fF.data);this.$4(fF.data)}}else{var fG=this.state.groups[this.state.activeItemIndex];if(ss.isValue(fG)){this.props.onGroupSelected(fG.data);this.$2(fG.data)}}e.preventDefault();break}}},updateActiveRecipient:function(e){if(this.props.isUsers){var fE=this.state.users[e];if(ss.isNullOrUndefined(fE)||ss.referenceEquals(this.state.activeUser,fE.data)){this.setState(this.state);return}this.state.activeUser=fE.data}else{var fF=this.state.groups[e];if(ss.isNullOrUndefined(fF)||ss.referenceEquals(this.state.activeGroup,fF.data)){this.setState(this.state);return}this.state.activeGroup=fF.data}if(ss.Nullable$1.lt(e,this.state.firstVisibleIndex)){this.state.firstVisibleIndex=ss.Nullable$1.sub(this.state.firstVisibleIndex,1)}else if(ss.Nullable$1.ge(e,ss.Nullable$1.add(this.state.firstVisibleIndex,6))){this.state.firstVisibleIndex=ss.Nullable$1.add(this.state.firstVisibleIndex,1)}this.setState(this.state)},$5:function(e){var fE=this.state.activeItemIndex+e;var fF=(this.props.isUsers?this.state.users.length:this.state.groups.length);if(fE<0||fE>=fF){return this.state.activeItemIndex}return fE},resultsAvailable:function(){this.$9=false},checkCurrentSearchHasNoResults:function(){var e=this.searchFieldIsEmpty();var fE=(this.props.isUsers?this.state.users.length:this.state.groups.length);this.props.noResults(fE===0&&!e&&!this.$9)},searchFieldIsEmpty:function(){var e=ss.isNullOrEmptyString(ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']).value);this.props.emptySearch(e);return e},searchUsers:function(){var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$a,0);e.done(ss.mkdel(this,function(fE){this.state.users=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$1(fE)}))},searchMoreUsers:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$a,this.state.users.length);e.done(ss.mkdel(this,this.$1))},$1:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fE){return this.state.users.push({data:fE})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();this.checkCurrentSearchHasNoResults()},searchGroups:function(){var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$a,0);e.done(ss.mkdel(this,function(fE){this.state.groups=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$0(fE)}))},searchMoreGroups:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$a,this.state.groups.length);e.done(ss.mkdel(this,this.$0))},$0:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fE){return this.state.groups.push({data:fE})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();this.checkCurrentSearchHasNoResults()},render:function(){return spiff.DOMElements.div({className:'tabUserSearchComponent'},this.$7(),this.$6())},$7:function(){return spiff.DOMElements.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.placeholderMessage,onKeyUp:ss.mkdel(this,this.handleInputKeyUp),onKeyDown:ss.mkdel(this,this.handleInputKeyDown),tabIndex:0,autoFocus:true,ref:'tabUserSearchInputRef'})},$6:function(){if(this.props.isUsers){return React.createElement(dz,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onUserSelected:ss.delegateCombine(this.props.onUserSelected,ss.mkdel(this,this.$4)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.users,activeUser:this.state.activeUser})}return React.createElement(dy,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onGroupSelected:ss.delegateCombine(this.props.onGroupSelected,ss.mkdel(this,this.$2)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.groups,activeGroup:this.state.activeGroup})}},React.Component,[ss.IDisposable]);ss.initClass(dR,a,{createNewDefaultState:function(){this.$b='';return{activeItemIndex:0,moreRecipients:false,firstVisibleIndex:0,users:[],groups:[],activeUser:null,activeGroup:null,searchText:''}},$4:function(e){this.$3()},$2:function(e){this.$3()},$3:function(){if(!this.props.shouldHideSearchComponent){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.value=null}}this.setState(this.createNewDefaultState());this.props.emptySearch(true)},newSearch:function(e){this.setState(function(fE,fF){return{searchText:e}});this.$b=e;if(this.props.isUsers){this.searchUsers()}else{this.searchGroups()}},handleInputKeyUp:function(e){var fE=e.keyCode;if(fE===40||fE===38||fE===13||fE===27){return}this.$b=e.target.value;if(this.props.isUsers){this.searchUsers()}else{this.searchGroups()}},handleInputKeyDown:function(e){var fE=this.state.activeItemIndex;switch(e.keyCode){case 40:{this.state.activeItemIndex=this.$5(1);if(fE!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 38:{this.state.activeItemIndex=this.$5(-1);if(fE!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 13:{if(this.props.isUsers){var fF=this.state.users[this.state.activeItemIndex];if(ss.isValue(fF)){this.props.addUser(fF.data);this.$4(fF.data)}}else{var fG=this.state.groups[this.state.activeItemIndex];if(ss.isValue(fG)){this.props.addGroup(fG.data);this.$2(fG.data)}}e.preventDefault();break}}},updateActiveRecipient:function(e){if(this.props.isUsers){var fE=this.state.users[e];if(ss.isNullOrUndefined(fE)||ss.referenceEquals(this.state.activeUser,fE.data)){this.setState(this.state);return}this.state.activeUser=fE.data}else{var fF=this.state.groups[e];if(ss.isNullOrUndefined(fF)||ss.referenceEquals(this.state.activeGroup,fF.data)){this.setState(this.state);return}this.state.activeGroup=fF.data}if(ss.Nullable$1.lt(e,this.state.firstVisibleIndex)){this.state.firstVisibleIndex=ss.Nullable$1.sub(this.state.firstVisibleIndex,1)}else if(ss.Nullable$1.ge(e,ss.Nullable$1.add(this.state.firstVisibleIndex,this.numberOfRowsInViewport))){this.state.firstVisibleIndex=ss.Nullable$1.add(this.state.firstVisibleIndex,1)}this.setState(this.state)},$5:function(e){var fE=this.state.activeItemIndex+e;var fF=(this.props.isUsers?this.state.users.length:this.state.groups.length);if(fE<0||fE>=fF){return this.state.activeItemIndex}return fE},resultsAvailable:function(){this.$a=false},checkCurrentSearchHasNoResults:function(){var e=this.searchFieldIsEmpty();var fE=(this.props.isUsers?this.state.users.length:this.state.groups.length);this.props.noResults(fE===0&&!e&&!this.$a)},searchFieldIsEmpty:function(){var e=ss.isNullOrEmptyString(ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']).value);this.props.emptySearch(e);return e},searchUsers:function(){var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$b,0);this.$a=true;e.done(ss.mkdel(this,function(fE){this.state.users=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$1(fE)}))},searchMoreUsers:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$b,this.state.users.length);e.done(ss.mkdel(this,this.$1))},$1:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fE){return this.state.users.push({data:fE})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();if(!this.props.shouldHideSearchComponent){this.checkCurrentSearchHasNoResults()}},searchGroups:function(){var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$b,0);this.$a=true;e.done(ss.mkdel(this,function(fE){this.state.groups=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$0(fE)}))},searchMoreGroups:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$b,this.state.groups.length);e.done(ss.mkdel(this,this.$0))},$0:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fE){return this.state.groups.push({data:fE})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();if(!this.props.shouldHideSearchComponent){this.checkCurrentSearchHasNoResults()}},render:function(){return spiff.DOMElements.div({className:'tab-UserSearchSelectorComponent'},this.$7(),this.$8())},$7:function(){if(this.props.shouldHideSearchComponent){return React.createElement(dP,{groups:this.props.groups,users:this.props.users,isUsers:this.props.isUsers,removeRecipientByIndex:this.props.removeRecipientByIndex,userValidator:this.props.userValidator,invalidGroupTextGenerator:this.props.groupErrorMessageGenerator,invalidUserTextGenerator:this.props.userErrorMessageGenerator,searchText:this.state.searchText,handleInputKeyDown:ss.mkdel(this,this.handleInputKeyDown),newSearch:ss.mkdel(this,this.newSearch)})}else{return React.createElement(fg,{users:this.props.users,addUser:this.props.addUser,removeUser:this.props.removeUser,userValidator:this.props.userValidator,invalidUserTextGenerator:this.props.userErrorMessageGenerator})}},$8:function(){if(this.props.shouldHideSearchComponent){var e=spiff.DOMElements.div({className:((this.state.users.length!==0||this.state.groups.length!==0)?'has-items':'')},this.$6());return spiff.DOMElements.div({className:'results-area'},e)}else{return this.renderRecipientSearch()}},renderRecipientSearch:function(){return spiff.DOMElements.div({className:'tabUserSearchComponent'},this.$9(),this.$6())},$9:function(){return spiff.DOMElements.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.placeholderMessage,onKeyUp:ss.mkdel(this,this.handleInputKeyUp),onKeyDown:ss.mkdel(this,this.handleInputKeyDown),tabIndex:0,autoFocus:true,ref:'tabUserSearchInputRef'})},$6:function(){if(this.props.isUsers){return React.createElement(dz,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onUserSelected:ss.delegateCombine(this.props.addUser,ss.mkdel(this,this.$4)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.users,activeUser:this.state.activeUser})}return React.createElement(dy,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onGroupSelected:ss.delegateCombine(this.props.addGroup,ss.mkdel(this,this.$2)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.groups,activeGroup:this.state.activeGroup})}},React.Component);ss.initClass(dS,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[cV]);ss.initClass(fd,a,{onValidKeyCombo:function(e){if(!tab.KeyboardUtilities.isTargetTextInput(e)){tab.KeyboardUtilities.stopPropagationAndDefault(e)}}},tab.CommandKeyboardShortcut,[tab.IKeyboardShortcut]);ss.initClass(dT,a,{get_keyCombos:function(){var e=new tab.KeyCombo.$ctor3(new tab.KeyModifiers(false,false,false,true,false,false,false,false,false),89,[]);var fE=new tab.KeyModifiers(false,false,false,true,false,false,true,false,false);var fF=new tab.KeyCombo.$ctor3(fE,90,[]);return new tab.KeyCombos(e,[fF])},get_commandId:function(){return{ns:'tabdoc',cmd:'redo'}}},fd,[tab.IKeyboardShortcut]);ss.initClass(dU,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(!ss.keyExists(this.$b,fF.woffLocation)){var fG=this.$1(fF);this.$b[fF.woffLocation]=new i(fG)}var fH=this.$b[fF.woffLocation];if(!_.contains(fH.$2,fF)&&!_.contains(fH.$1,fF)){this.$b[fF.woffLocation].$2.push(fF)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=dU.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(dU.$4).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(ss.isValue(fF.$3)&&!ss.referenceEquals(fF.$3[0].parentElement,document.body)){fF.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(ss.isNullOrUndefined(fF.$3)){continue}this.$9.font='100% '+fF.$0;var fG=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!dU.$3(fF.$3,this.$8)&&fG===tab.DoubleUtil.roundToInt(fF.$3.width())){fF.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var fE=0;fE<e.length;fE++){var fF=e[fE];if(ss.isValue(fF.$3)){return false}}return true},$1:function(e){var fE="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var fF=new tab.DownloadableFontProperties;fF.set_fontFamily(fE);fF.woffLocation=e.woffLocation;var fG=fF;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fG.toCSSRules());var fH=dU.$0('tab-hiddenFontMeasurer',[fG.get_fontFamily(),"'Courier New', Monaco, monospace"]);return fH},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var fE=0;fE<e.length;fE++){var fF=e[fE];while(fF.$2.length>0){var fG=fF.$2.pop();fF.$1.push(fG);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fG.toCSSRules())}}this.$5()}},null,[cT]);ss.initClass(dV,a,{});ss.initClass(dW,a,{loadCommentingModule:function(){if(ss.isValue(this.$0)){return this.$0}var e=$.Deferred();this.$0=e;tab.ModuleManager.load(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(fE){var fF=fE.createCommentingModuleViewModel();fF.updateForSheet(tsConfig.current_sheet_name);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fF.disposeViewModel();this.$0=null})));e.resolve(fF)}));return this.$0},loadDataAlertsPanelModule:function(){if(ss.isValue(this.$1)){return this.$1}var e=$.Deferred();this.$1=e;tab.ModuleManager.load(tab.IDataAlertsPanelFactory).call(null,[]).done(ss.mkdel(this,function(fE){var fF=G.get_instance().get_rightAreaDrawerViewModel();var fG=fE.createDataAlertsPanelModuleViewModel(ss.mkdel(fF,fF.closeDrawer));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fG.disposeViewModel();this.$1=null})));e.resolve(fG)}));return this.$1},dispose:function(){this.disposables.dispose()}},null,[ss.IDisposable]);ss.initClass(dX,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dY,a,{get_dom:function(){return this.get_template()}},ss.makeGenericType(spiff.BaseView$1,[dZ]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dZ])]);ss.initClass(dZ,a,{$3:function(){if(ss.isNullOrUndefined(this.$5)){this.$5=new dW;this.disposables.add$1(this.$5)}return this.$5},get_viewModel:function(){return this},get_viewType:function(){return dY},disposeViewModel:function(){this.dispose()},get_typeOfContentBeingLoaded:function(){return this.$4.get_typeOfContentBeingLoaded()},loadDataAlertsModule:function(){return this.$2(tab.IDataAlertsPanelModuleViewModel).call(this,2,this.$3().loadDataAlertsPanelModule())},loadCommentingModule:function(){return this.$2(tab.ICommentingModuleViewModel).call(this,1,this.$3().loadCommentingModule())},$2:function(e){return function(fE,fF){tab.RightAreaDrawerCommands.setTypeOfContentBeingLoaded(fE);fF.then(function(fG){G.get_instance().get_rightAreaDrawerViewModel().set_content(fG)},null);return this}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent]);ss.initClass(ea,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eb,a,{get_dom:function(){return this.get_template()},$a:function(){this.$c();this.$b()},$9:function(){this.$b()},$d:function(){this.$c();this.$b()},$b:function(){if(tsConfig.is_authoring){this.get_dom().drawerContainer.css({position:'absolute',top:this.get_viewModel().get_drawerTopOffset()+'px',right:this.get_viewModel().get_drawerRightOffset()+'px',width:this.get_viewModel().get_drawerWidth()+'px',bottom:this.get_viewModel().get_drawerBottomOffset()+'px'})}else if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_dom().drawerContainer.css({'flex-grow':'0','flex-shrink':'0','flex-basis':this.get_viewModel().get_drawerWidth()+'px',order:'2',position:'relative'})}else{this.get_dom().drawerContainer.css({position:'absolute',top:this.get_viewModel().get_drawerTopOffset()+'px',right:this.get_viewModel().get_drawerRightOffset()+'px',width:this.get_viewModel().get_drawerWidth()+'px',height:this.get_viewModel().get_drawerHeight()+'px',visibility:'visible'})}},$c:function(){if(ss.isValue(this.get_viewModel().get_content())){this.get_dom().drawerContainer.empty();var e=tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_viewModel().get_content().get_viewType(),[this.get_viewModel().get_content().get_viewModel()]);e.addToDom(this.get_dom().drawerContainer)}}},ss.makeGenericType(spiff.BaseView$1,[ec]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ec])]);ss.initClass(ec,a,{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_update:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_update:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_content:function(){return this.$7},set_content:function(e){this.$7=e;this.$5()},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerHeight:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?J.calculateDashboardViewportBounds().h:(J.getClientBounds().h+this.$6()))},get_drawerTopOffset:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?J.calculateDashboardViewportBounds().t:(J.getClientBounds().t-this.$6()))},get_drawerRightOffset:function(){return 0},get_drawerBottomOffset:function(){return(tsConfig.is_authoring?tabBootstrap.VizLayoutConstants.get_authoringTabsHeight():0)},$6:function(){var e=0;if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(G.get_instance().get_tabbedNavigation())){e=G.get_instance().get_tabHeight()}return e},get_isOpen:function(){return this.$8.get_isOpen()},set_isOpen:function(e){this.$8.set_isOpen(e)},get_typeOfContentBeingLoaded:function(){return this.$8.get_typeOfContentBeingLoaded()},openDrawer:function(e){tab.RightAreaDrawerCommands.showRightAreaDrawer(e)},closeDrawer:function(){tab.RightAreaDrawerCommands.hideRightAreaDrawer()},$3:function(e){return function(){return ss.isValue(this.get_content())&&ss.isInstanceOfType(this.get_content().get_viewModel(),e)}},$2:function(e){return function(fE){if(!this.get_isOpen()){return 0}if(this.$3(e).call(this)){return 1}if(this.$3(dZ).call(this)&&this.get_content().get_viewModel().get_typeOfContentBeingLoaded()===fE){return 1}return 2}},$5:function(){if(this.$8.get_isOpen()){this.raiseActionEvent(this.$2$3)}},toggleCommenting:function(){this.togglePanel(tab.ICommentingModuleViewModel).call(this,1)},toggleDataAlertsPanel:function(){this.togglePanel(tab.IDataAlertsPanelModuleViewModel).call(this,2)},togglePanel:function(e){return function(fE){switch(this.$2(e).call(this,fE)){case 0:{tab.RightAreaDrawerCommands.setTypeOfContentBeingLoaded(fE);this.openDrawer(fE);break}case 1:{this.closeDrawer();break}case 2:{if(ss.isValue(this.get_content())){this.get_content().disposeViewModel()}this.set_content(dZ.getContentFromType(fE));break}default:{return}}}},$4:function(){if(this.get_isOpen()){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(ec.drawerWidthOpen);this.raiseActionEvent(this.$2$1);this.set_content(dZ.getContentFromType(this.get_typeOfContentBeingLoaded()))}else{tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(ec.drawerWidthClosed);if(ss.isValue(this.get_content())){this.get_content().disposeViewModel();this.set_content(null)}this.raiseActionEvent(this.$2$2)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initEnum(ed,a,{OPEN:0,CLOSE:1,REPLACE:2});ss.initClass(ee,a,{});ss.initEnum(ef,a,{dragEnd:0,markTap:1,other:2});ss.initClass(eg,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_fontsLoadedPromise:function(){return this.$4},initialize:function(e){this.$5.reset();this.$8=false;this.$4=$.Deferred();if(e){this.$3=bf.get_instance().hold(1)}},registerServerLoadedFonts:function(e){for(var fE=0;fE<e.length;fE++){var fF=e[fE];var fG=fF.get_hash();if(!ss.keyExists(this.$6,fG)){this.$6[fG]=fF}}},notifyDownloadableFont:function(e){if(this.$8){return}var fE=[];for(var fF=0;fF<e.length;fF++){var fG=e[fF];var fH=fG.get_hash();if(ss.keyExists(this.$6,fH)){fE.push(this.$6[fH])}}if(ss.isValue(fE)&&fE.length>0){this.$5.addFonts(fE)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$5.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$8=true;this.$5.finishDownloadingFonts()},$0:function(){this.$7=true},$1:function(){cz.logFontsLoaded();if(this.$7){this.$2();this.$7=false}if(ss.isValue(this.$3)){this.$3.dispose()}this.$4.resolve()},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(eh,a,{});ss.initClass(ei,a,{handleWidgetPropertyChanged:function(e,fE){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[em,ej,Object]));ss.initClass(ej,a,{});ss.initClass(ek,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(el,a,{add_originalViewSelected:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_originalViewSelected:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},createUpdatedProps:function(){return{selectedToggle:this.$6,leftToggleText:tab.Strings.ToolbarCurrentView,rightToggleText:tab.Strings.ToolbarOriginalView,handleLeftToggleSelected:ss.mkdel(this,function(){this.$5(false)}),handleRightToggleSelected:ss.mkdel(this,function(){this.$5(true)}),testId:'ShareToggleButton',ariaLabel:tab.Strings.ShareViewOptions}},$5:function(e){this.$6=(e?1:0);this.incrementProps();this.raiseActionEvent$1(Boolean).call(this,this.$3$1,e)}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(em,a,{get_dom:function(){return this.get_template()},$a:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'/>\n                    <span class='tab-shareLinkInput'/>\n                </label>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var fE=$("\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                    <span class='tab-shareEmbedInput'/>\n                </label>\n            </div>");if(this.$j.get_allowSharingDifferentViews()){if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n            </div>"))}else{this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection ff-AccessibilityViewingToolbarOff'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"))}this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}}this.get_dom().shareArea.append(fE);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$c().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$c().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(fK){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(fK){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$j.get_shouldShowSocialShareOptions()){var fF=new spiff.IconButton;fF.addClass('tab-shareIconButton');fF.addClass('tab-shareSocialMail');this.$9(fF.element,tab.Strings.ShareDialogEmailLink);fF.setIcon('tab-shareMailIcon');fF.onClick(ss.mkdel(this,function(fK){this.$j.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(fF.element);var fG=new spiff.IconButton;fG.addClass('tab-shareIconButton');fG.addClass('tab-shareSocialTwitter');this.$9(fG.element,tab.Strings.ShareDialogTwitterLink);fG.onClick(ss.mkdel(this,function(fK){this.$j.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(fG.element);var fH=new spiff.IconButton;fH.addClass('tab-shareIconButton');fH.addClass('tab-shareSocialFacebook');this.$9(fH.element,tab.Strings.ShareDialogFacebookLink);fH.onClick(ss.mkdel(this,function(fK){this.$j.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(fH.element)}else if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var fI=$('<span/>').appendTo(this.get_dom().shareLinkButtons);this.$h=this.$b();ReactDOM.render(this.$h,fI.get(0))}else{var fJ=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$j,this.$j.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(fJ.element)}},$9:function(e,fE){if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){e.attr('tabindex','0');e.attr('title',fE);e.attr('role','link')}},$b:function(){var e=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fF){this.$j.doSendEmailAction()}),buttonType:5,testId:'EmailButton',children:tab.Strings.ShareDialogEmailLink});var fE=React.createElement(SharedWidgets.InlineBlock,{children:e});return fE},$f:function(){this.get_dom().shareLinkTitle.html(this.$j.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$j.get_embedLabel());if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(this.$j.get_allowSharingDifferentViews()){this.$l=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[el,SharedWidgets.ToggleTextWidget,Object])).call(null,[this.$j.shareToggleButtonViewModel]);this.$l.addToDom(this.get_dom().shareStateArea)}this.$j.set_shouldShareOriginalView(false)}else{this.$d()}this.$g()},$d:function(){if(!this.$j.get_allowSharingDifferentViews()){return}var e;var fE;if(this.$i){var fF=$("<input type='radio' name='state' checked>"+this.$j.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(fF);this.get_dom().shareCurrentView.addClass('narrow');var fG=$("<input type='radio' name='state'>"+this.$j.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(fG);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(fF,null);fE=new spiff.ToggleButton(fG,null);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$j.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$j.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView,null);fE=new spiff.ToggleButton(this.get_dom().shareOriginalView,null)}var fH=new spiff.SelectableGroup;fH.addItem(e);fH.addItem(fE);fH.selectItem(e);this.$j.set_shouldShareOriginalView(false);fE.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fE.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.disposables.add$1(fH)},$e:function(e,fE){if(fE.get_propertyName()==='selected'){this.$j.set_shouldShareOriginalView(e.get_selected());this.$g()}},$g:function(){var e=this.$j.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var fE=this.$j.generateShareUrl();this.get_dom().shareLinkInput.val(fE);this.get_dom().shareLinkSection.show()}this.$j.generateEmbedCode().always(ss.mkdel(this,function(fF){this.get_dom().shareEmbedInput.val(fF)}))},onAddedToDom:function(){this.$f();spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[en]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[en])]);ss.initClass(en,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},add_selectedViewChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectedViewChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_viewType:function(){return em},get_viewModel:function(){return this},get_props:function(){var e=new ej;e.viewModel=this;return{children:React.createElement(ei,e),dialogWidth:260,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'share',title:tab.Strings.ToolbarShare,type:0}},get_allowSharingDifferentViews:function(){if(!eU.$0()||!tsConfig.statefulURL){return false}if(this.$b()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$c},set_shouldShareOriginalView:function(e){this.$c=e},get_shouldShowSocialShareOptions:function(){return eU.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$b:function(){return!tab.MiscUtil.isNullOrEmpty$3(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().legacySession.saveSharedView('',e,function(){})}},$9:function(e){this.set_shouldShareOriginalView(e);this.raiseActionEvent(this.$2$1)},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=en.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=en.$3(e,tabBootstrap.VizLayoutConstants.get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=en.$3(e,eU.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=en.$3(e,false,false,'size');e=en.$3(e,false,false,'commentingEnabled');e=en.$3(e,false,false,'isVizPortal');e=en.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},$a:function(e){e=en.$3(e,false,false,'jsonOnly');e=en.$3(e,false,false,'ignore_sticky_session');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;e=this.$a(e);if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var fE=tab.XhrUtil.guid;var fF=window.location;var fG=(tsConfig.forceHttpsForPublicEmbed?'https:':fF.protocol);var fH=fG+'//'+fF.hostname+en.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$3(fE)){e=fH+fE}else if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.guid)){e=fH+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation(null);var fE=tableau.util.parseUri(e.get_absoluteUri());var fF=en.$6(fE);var fG=this.$3(this.$7());var fH=tab.EscapingUtil.escapeHtml(en.$4());var fI;var fJ=tab.ModelUtils.findContentDashboard(null);if(fJ.get_isDashboard()&&fJ.get_deviceLayouts().length>0){fI=en.$0()}else{var fK=tab.DashboardClientCommands.getCurrentSheetSizeConstraints().pipe(function(fL){return en.$1(fL,0.75)},function(fL){return''});fI=fK}return fI.pipe(ss.mkdel(this,function(fL){return this.$2(fF,fG,fH,fL)}),function(fL){return''})},$3:function(e){var fE='';if(!tab.MiscUtil.isNullOrEmpty$3(e)){var fF=tab.EscapingUtil.escapeHtml;var fG=ss.coalesce(this.$6(),'#');fE="<noscript><a href='"+fF(fG)+"'>"+"<img alt='"+fF(tsConfig.embeddedTitle)+" ' src='"+fF(e)+"' style='border: none' /></a></noscript>"}return fE},$2:function(e,fE,fF,fG){var fH="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var fI=ss.formatString(fH,fF,fG,e);var fJ=window.location;var fK=this.$8(fJ,this.$7(),'');var fL=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",fF,fE,fK);return fL+fI},generateEmbedCode:function(){if(eU.$0()){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var fE=window.location;var fF=tab.EscapingUtil.escapeHtml;var fG=this.$6();var fH=tsConfig.embeddedTitle;var fI=this.$7();var fJ=this.$4();var fK=en.$8(fE);var fL="width='"+fJ.w+"' height='"+fJ.h+"'";var fM=this.$8(fE,fI,fL);var fN=ss.coalesce(fG,'#');var fO='';if(!tab.MiscUtil.isNullOrEmpty$3(fI)){fO="<noscript><a href='"+fF(fN)+"'>"+"<img alt='"+fF(fH)+" ' src='"+fF(fI)+"' style='border: none' /></a></noscript>"}var fP=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",fJ.w,fJ.h,fO,fM);var fQ=fK+fP;return e.resolve(fQ).promise()},$8:function(e,fE,fF){var fG=tabBootstrap.ViewerBootstrap.get_instance().location.search;var fH=tsConfig.repositoryUrl;var fI=tsConfig.site_root;var fJ=tab.EscapingUtil.escapeHtml;var fK="<object class='tableauViz' "+fF+" style='display:none;'>";var fL=ss.arrayClone(en.$d);fL.push('embed');fL.push('show_tabs');fL.push('loadOrderID');var fM=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);fK+="<param name='host_url' value='"+fJ(encodeURIComponent(fM+'//'+e.host+'/'))+"' /> ";fL.push('host_url');fK+="<param name='embed_code_version' value='"+this.embedCodeVersion+"' /> ";fL.push('embed_code_version');if(!this.get_allowSharingDifferentViews()){fK+="<param name='site_root' value='"+fJ(fI)+"' />";fK+="<param name='name' value='"+fJ(fH)+"' />";fL.push('site_root');fL.push('name');fK+="<param name='tabs' value='"+(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?'yes':'no')+"' />";fL.push('tabs')}else{var fN=this.generateShareBaseUrl();fK+="<param name='path' value='"+fJ(ss.replaceAllString(fN,fM+'//'+e.hostname+'/',''))+"' /> ";fL.push('path')}fK+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";fL.push('toolbar');if(eU.$0()){if(!tab.MiscUtil.isNullOrEmpty$3(fE)){var fO=ss.replaceAllString(fE,'_rss.png','.png');fK+="<param name='static_image' value='"+fJ(fO)+"' /> "}fK+="<param name='animate_transition' value='yes' />";fK+="<param name='display_static_image' value='yes' />";fK+="<param name='display_spinner' value='yes' />";fK+="<param name='display_overlay' value='yes' />";fK+="<param name='display_count' value='yes' />";fL.push('animate_transition');fL.push('display_static_image');fL.push('display_spinner');fL.push('display_overlay');fL.push('display_count')}if(fG.length>0){var fP=fG.substr(1).split('&');for(var fQ=0;fQ<fP.length;fQ++){var fR=fP[fQ].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var fS;var fT;if(ss.isValue(fR)&&fR.length===4){fS=fR[2];fT=fR[3]}else{fS='filter';fT=fP[fQ]}if(!tab.MiscUtil.isNullOrEmpty$3(fS)&&!ss.contains(fL,fS)){fK+="<param name='"+fJ(fS)+"' value='"+fJ(fT)+"' />"}}}fK+='</object>';return fK},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},doSendEmailAction:function(){eu.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){eu.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,en.$7())},doTwitterShareAction:function(){eu.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var fE=tsConfig.staticImage;if(!ss.isValue(fE)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var fF=fE.indexOf('/images/')+8;var fG=fE.substr(0,fF);fE=fG+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(fE,'https')){fE.replace('http','https')}return fE},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var fE=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;fE+=en.$5();return{w:e,h:fE}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var fE=this.$7();var fF=fE.split(String.fromCharCode(47));fF[fF.length-1]='thumb.png';var fG=fF.join('/');fG+='?vizqlid='+tab.CommandController.get().legacySession.get_id();return fG}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(ep,a,{},ss.EventArgs);ss.initClass(eq,a,{},ep);ss.initClass(er,a,{render:function(){var e=this.buildCommonDialogProps();var fE=React.createElement(SharedWidgets.DialogWidget,e);return fE},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var fE=[];var fF=spiff.DOMElements.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass});fE.push(fF);if(!ss.isNullOrEmptyString(this.props.detailsContent)){var fG={isExpanded:this.state.detailsAreExpanded,onExpand:ss.mkdel(this,function(){var fL=new es;fL.detailsAreExpanded=true;this.setState(fL)}),onCollapse:ss.mkdel(this,function(){var fL=new es;fL.detailsAreExpanded=false;this.setState(fL)}),direction:1,testId:'Dialog-Provider-Details'};var fH=(this.state.detailsAreExpanded?this.props.hideDetailsLabel:this.props.showDetailsLabel);fG.label=(ss.isValue(fH)?fH:'');var fI=React.createElement(SharedWidgets.ExpandoWidget,fG,[spiff.DOMElements.div({children:this.$2(this.props.detailsContent),className:spiff.Widget.selectableNodeClass})]);fE.push(fI)}if(ss.isValue(this.props.additionalLinks)){for(var fJ=0;fJ<this.props.additionalLinks.length;fJ++){var fK=this.props.additionalLinks[fJ];fE.push(spiff.DOMElements.p({},spiff.DOMElements.a({href:fK.url,target:'_blank',children:fK.displayText})))}}e.children=fE;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var fE='<br/>';e=ss.replaceAllString(e,'<br>',fE);e=ss.replaceAllString(e,'\n',fE);var fF=e.split(fE);var fG=[];var fH=er.textArea.value();for(var fI=0;fI<fF.length;fI++){var fJ=fF[fI];fH.innerHTML=fJ;var fK=spiff.DOMElements.p({children:fH.textContent});fG.push(fK)}return fG},$1:function(e){var fE={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var fF=0;fF<this.props.dialogButtons.length;fF++){var fG=this.props.dialogButtons[fF];this.$0(fG,fE)}}if(fE.buttons.length>0){var fH=React.createElement(SharedWidgets.DialogFooterButtonsWidget,fE);e.footerContent=fH;e.showFooter=true}},$0:function(e,fE){var fF={handleClick:ss.mkdel(this,function(fG){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,children:e.buttonText};fE.buttons.push(fF)}},React.Component);ss.initClass(es,a,{});ss.initClass(et,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,fE,fF,fG){if(fF){this.$9.close()}else if(ss.isValue(fG)&&fG&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,fE){},showTooltip:function(e){if(spiff.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var fE=$.fn.getTouchEvent(e);var fF=EventUtils.NormalizedEvent.Create(fE,e.target,null);var fG=fF.touches[0];var fH=this.$9.get_lastLocation()||{x:0,y:0};var fI={x:fG.pageX,y:fG.pageY};this.$9.set_lastLocation(fI);this.$9.move(fI);var fJ=tab.PointUtil.distance(fH,this.$9.get_lastLocation());if(fJ>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(fI);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var fK=ss.Int32.trunc(tab.DomUtil.getPageOffset$1($(e.target)).left);var fL=ss.Int32.trunc(tab.DomUtil.getPageOffset$1($(e.target)).top);if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:fG.pageX-fK,y:fG.pageY-fL})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,fE){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[de,ss.IDisposable]);ss.initClass(eu,a,{});ss.initClass(ev,a,{componentWillReceiveProps:function(e){if(ss.isValue(e.selfServiceSchedulesModule)&&ss.isNullOrUndefined(this.state.recurrenceModel)){this.setState({recurrenceModel:e.selfServiceSchedulesModule.get_defaultRecurrence()})}},handleIncludeSelection:function(e){this.setState(function(fE,fF){return _.extend({},fE,{includeValue:e})})},handleScheduleSelection:function(e){this.setState(function(fE,fF){return _.extend({},fE,{scheduleValue:e})})},$3:function(e){var fE=((e.length===0)?'':e[0].friendlyName);this.setState(ss.mkdel(this,function(fF,fG){return _.extend({},fF,{mode:0,users:e,usersText:this.$0(e.length,fE,tab.Strings.ToolbarSubscribeAddUsersPlaceholder)})}))},$1:function(e){var fE=((e.length===0)?'':e[0].name);this.setState(ss.mkdel(this,function(fF,fG){return _.extend({},fF,{mode:0,groups:e,groupsText:this.$0(e.length,fE,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder)})}))},$0:function(e,fE,fF){var fG=new ss.StringBuilder;if(e>0){fG.append(fE);if(e>1){fG.append(' + ');fG.append(e-1)}}else{fG.append(fF)}return fG.toString()},$2:function(e){this.setState(function(fE,fF){return _.extend({},fE,{sendOnlyWhenDataPresent:e})})},isSubscribeEnabled:function(){if(!this.props.isSelfServiceSchedulesEnabled&&(ss.isNullOrUndefined(this.props.schedules)||this.props.schedules.length===0)){return false}if(ss.isNullOrUndefined(this.state.subject)||this.state.subject.trim().length===0){return false}if(ss.isNullOrEmptyString(this.state.email)||!this.props.emailIsValid(this.state.email)){return false}if(tsConfig.allow_subscribe_others){return this.state.users.length>0||this.state.groups.length>0||this.state.selfSubscribe}else{return true}},$4:function(){if(ss.isNullOrEmptyString(this.props.email)){var e=function(fF){};var fE=ss.mkdel(this,function(){this.props.setEmail(this.state.email);this.$k()});tab.WorkgroupServerCommands.setUserEmail(this.state.email,fE,e)}else{this.$k()}},$k:function(){var e=(!tab.MiscUtil.isNullOrEmpty$3(this.state.message)?this.state.message:null);var fE=this.state.selfSubscribe;if(this.props.isSelfServiceSchedulesEnabled){this.props.createSubscriptionsWithSelfServiceSchedule(this.state.subject,this.state.includeValue==='1',this.state.recurrenceModel,fE,e,this.state.users,this.state.groups,this.state.sendOnlyWhenDataPresent)}else{this.props.createSubscriptions(this.state.subject,this.state.includeValue==='1',parseInt(this.state.scheduleValue),fE,e,this.state.users,this.state.groups,this.state.sendOnlyWhenDataPresent)}},render:function(){return spiff.DOMElements.div({className:'tab-subscribeView',style:{padding:'0px'}},this.$8())},$8:function(){switch(this.state.mode){case 0:{return this.$c()}case 1:{return this.$e()}case 2:{return this.$5(true)}case 3:{return this.$5(false)}default:{return this.$c()}}},$c:function(){return spiff.DOMElements.div({className:''},(tsConfig.allow_subscribe_others?this.$j():null),(tsConfig.allow_subscribe_others?this.$a():null),this.$b(),this.$g(),(ss.isNullOrEmptyString(this.props.email)?this.renderEmail():null),this.$i(),this.$f(),(this.props.sendOnlyWhenDataPresentCheckboxVisible?this.$9():null),(this.props.isSelfSubscribeCheckboxEnabled?this.$h():null),(tsConfig.is_mobile?null:this.$d()),this.$6())},$h:function(){return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.selfSubscribe,label:tab.Strings.SubscribeSelf,handleChange:ss.mkdel(this,function(e){this.setState({selfSubscribe:e})}),testId:'self-subscribe-checkbox',removeLeftMargin:true,containerStyle:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}})},$g:function(){if(this.props.isSelfServiceSchedulesEnabled){if(ss.isNullOrUndefined(this.props.selfServiceSchedulesModule)||ss.isNullOrUndefined(this.state.recurrenceModel)){return null}var e={testId:'subscription-schedule-label',style:{fontSize:SharedWidgets.TabStyles.Typography.Sizing.Small,lineHeight:'19px'}};var fE=React.createElement(SharedWidgets.InputLabelWidget,e,tab.Strings.ToolbarSubscribeSchedule);var fF={recurrenceModel:this.state.recurrenceModel};var fG={timeZonesEnabled:tab.FeatureFlags.isEnabled('UserTimeZone'),timeZoneDisplayName:tsConfig.userTimeZoneDisplayName,linkToUserSettings:this.props.userSettingsPageUrl};fF.timeZoneDetails=fG;fF.recurrenceModelChangedCallback=ss.mkdel(this,function(fL){this.setState({recurrenceModel:fL})});var fH=React.createElement(this.props.selfServiceSchedulesModule.get_selfServiceSchedulePaneComponent(),fF);return spiff.DOMElements.div({className:'tab-subscribeSchedule dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.MediumSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},fE,fH)}else{var fI=ss.mkdel(this,this.handleScheduleSelection);var fJ=2;var fK=React.createElement(SharedWidgets.DropdownWidget,{dropdownType:1,containerStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},label:tab.Strings.ToolbarSubscribeSchedule,menuItemInfos:this.props.schedules,onSelect:fI,selectedValue:this.state.scheduleValue,testId:'subscribe-schedule-dropdown',maxHeight:10*SharedWidgets.TabStyles.Sizing.ListRowHeight+2*SharedWidgets.TabStyles.Spacing.DefaultSpace+fJ});return spiff.DOMElements.div({className:'tab-subscribeSchedule dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.MediumSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},fK)}},$j:function(){var e=ss.mkdel(this,function(){this.setState(function(fF,fG){return _.extend({},fF,{mode:2})})});var fE=this.$7(e,tab.Strings.ToolbarSubscribeAddUsersLabel,this.state.usersText,'subscribe-users-input');return spiff.DOMElements.div({className:'tab-subscribeUsers',onClick:function(fF){e()}},fE)},$a:function(){var e=ss.mkdel(this,function(){this.setState(function(fF,fG){return _.extend({},fF,{mode:3})})});var fE=this.$7(e,tab.Strings.ToolbarSubscribeAddGroupsLabel,this.state.groupsText,'subscribe-groups-input');return spiff.DOMElements.div({className:'tab-subscribeGroups',onClick:function(fF){e()}},fE)},$b:function(){var e=[{value:'0',displayValue:tab.Strings.ToolbarSubscribeThisView},{value:'1',displayValue:tab.Strings.ToolbarSubscribeAllView}];var fE=ss.mkdel(this,this.handleIncludeSelection);var fF=React.createElement(SharedWidgets.DropdownWidget,{dropdownType:1,label:tab.Strings.ToolbarSubscribeInclude,menuItemInfos:ss.arrayClone(e),onSelect:fE,selectedValue:this.state.includeValue,testId:'subscribe-include-dropdown'});return spiff.DOMElements.div({className:'tab-subscribeViews dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}},fF)},renderEmail:function(){var e=React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:ss.mkdel(this,function(fE){this.setState({email:fE})}),text:this.state.email,maxLength:ey.maxSubscriptionEmailLength,floatingLabel:tab.Strings.ToolbarSubscribeEmailPlaceholder,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},testId:'subscribe-email-input',handleEnter:function(){}});return spiff.DOMElements.div({className:'tab-subscribeEmail'},e)},$i:function(){var e=React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:ss.mkdel(this,function(fE){this.setState(function(fF,fG){return _.extend({},fF,{subject:fE})})}),text:this.state.subject,floatingLabel:tab.Strings.ToolbarSubscribeSubjectPlaceholder,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},testId:'subscribe-subject-text',handleEnter:function(){}});return spiff.DOMElements.div({className:'tab-subscribeSubject'},e)},$f:function(){var e=ss.mkdel(this,function(){this.setState(function(fG,fH){return _.extend({},fG,{mode:1})})});var fE=(tab.MiscUtil.isNullOrEmpty$3(this.state.message)?tab.Strings.ToolbarSubscribeMessagePlaceholder:this.state.message);fE=ss.replaceAllString(fE,'\n',' ');var fF=this.$7(e,tab.Strings.ToolbarSubscribeMessageLabel,fE,'subscribe-message-input');return spiff.DOMElements.div({className:'tab-subscribeMessage',onClick:function(fG){e()}},fF)},$7:function(e,fE,fF,fG){return React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:function(fH){},text:fF,floatingLabel:fE,testId:fG,readOnly:true,hideErrorDiv:true,handleEnter:e,shouldSelectTextOnFocus:false,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.Disabled,fontStyle:'italic',textOverflow:'ellipsis'}})},$5:function(e){var fE=s.$ctor();fE.users=ss.arrayClone(this.state.users);fE.groups=ss.arrayClone(this.state.groups);fE.isUsers=e;fE.cancelSelection=ss.mkdel(this,function(){this.setState(function(fF,fG){return _.extend({},fF,{mode:0})})});fE.confirmSelection=function(){};fE.confirmUsersSelection=ss.mkdel(this,function(fF){this.$3(fF)});fE.confirmGroupsSelection=ss.mkdel(this,function(fF){this.$1(fF)});return React.createElement(q,fE)},$e:function(){return React.createElement(ez,{message:this.state.message,onCancelButtonClick:ss.mkdel(this,function(){this.setState(function(e,fE){return _.extend({},e,{mode:0})})}),onDoneButtonClick:ss.mkdel(this,function(e){this.setState(function(fE,fF){return _.extend({},fE,{mode:0,message:e})})})})},$9:function(){return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.sendOnlyWhenDataPresent,label:tab.Strings.ToolbarSubscribeDataPresentCheckbox,handleChange:ss.mkdel(this,this.$2),testId:'send-when-data-checkbox',disabled:this.state.includeValue==='1',removeLeftMargin:true,containerStyle:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}})},$d:function(){return spiff.DOMElements.a({className:'tab-manageSubscribers',href:this.props.subscriptionsPageUrl,target:'_tab',style:{color:SharedWidgets.TabStyles.Colors.ServerBlue,textDecoration:'none',marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}},tab.Strings.ManageSubscriptions)},$6:function(){var e=!this.isSubscribeEnabled();return spiff.DOMElements.div({className:'tabSubscribeButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fE){this.props.onCancel()}),buttonType:3,testId:'subscription-dialog-cancel',children:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fE){this.$4()}),buttonType:2,testId:'subscription-dialog-subscribe',children:tab.Strings.ToolbarSubscribeSubmitButton,disabled:e}))}},React.Component);ss.initClass(ew,a,{fetchAsyncDependencies:function(){return(this.props.isSelfServiceSchedulesEnabled?tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]):$.when.apply(null,null))},renderWhileWaiting:function(){return this.$3(this.props)},renderWithDependencies:function(e){var fE=this.props;if(ss.isValue(e)){fE=_.clone(this.props);fE.selfServiceSchedulesModule=e}return this.$3(fE)},$3:function(e){return React.createElement(ev,e)}},ss.makeGenericType(dJ,[tab.ISelfServiceSchedulesModule,ex,Object]));ss.initClass(ex,a,{});ss.initClass(ey,a,{add_schedulesChanged:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_schedulesChanged:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_subscribeSuccess:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_subscribeSuccess:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},add_subscribeCancel:function(e){this.$3$3=ss.delegateCombine(this.$3$3,e)},remove_subscribeCancel:function(e){this.$3$3=ss.delegateRemove(this.$3$3,e)},add_usersChanged:function(e){this.$3$4=ss.delegateCombine(this.$3$4,e)},remove_usersChanged:function(e){this.$3$4=ss.delegateRemove(this.$3$4,e)},add_groupsChanged:function(e){this.$3$5=ss.delegateCombine(this.$3$5,e)},remove_groupsChanged:function(e){this.$3$5=ss.delegateRemove(this.$3$5,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateCombine(this.$3$6,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateRemove(this.$3$6,e)},add_addSubscribersPopupStateChanged:function(e){this.$3$7=ss.delegateCombine(this.$3$7,e)},remove_addSubscribersPopupStateChanged:function(e){this.$3$7=ss.delegateRemove(this.$3$7,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e);this.add_subscribeCancel(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e);this.remove_subscribeCancel(e)},add_dialogHidden:function(e){this.$3$8=ss.delegateCombine(this.$3$8,e)},remove_dialogHidden:function(e){this.$3$8=ss.delegateRemove(this.$3$8,e)},add_modeChanged:function(e){this.$3$9=ss.delegateCombine(this.$3$9,e)},remove_modeChanged:function(e){this.$3$9=ss.delegateRemove(this.$3$9,e)},get_mode:function(){return this.$c},get_schedules:function(){return this.$d},get_viewType:function(){return ev},get_viewModel:function(){return this},get_subscribeProps:function(){this.createAddSubscribersViewModel(true);var e=new ex;e.addSubscribersComponentProps=this.addSubscribersViewModel.get_props();e.users=this.get_users();e.groups=this.get_groups();e.email=this.get_email();e.emailIsValid=ss.mkdel(this,this.$7);e.schedules=this.generateSchedules();e.defaultSubject=this.get_defaultSubject();e.onCancel=this.$3$3;e.createSubscriptions=ss.mkdel(this,function(fE,fF,fG,fH,fI,fJ,fK,fL){this.setDataAndCreateSubscriptions(fE,fF,fG,fH,fI,fJ,fK,fL)});e.createSubscriptionsWithSelfServiceSchedule=ss.mkdel(this,function(fE,fF,fG,fH,fI,fJ,fK,fL){this.setDataAndCreateSubscriptionsSelfService(fE,fF,fG,fH,fI,fJ,fK,fL)});e.setEmail=ss.mkdel(this,function(fE){this.set_email(fE)});e.subscriptionsPageUrl=this.get_subscriptionsPageUrl();e.userSettingsPageUrl=this.get_userSettingsPageUrl();e.sendOnlyWhenDataPresentCheckboxVisible=this.get_sendOnlyWhenDataPresentCheckboxVisible();e.isSelfSubscribeCheckboxEnabled=tsConfig.allow_subscribe_others;e.isSelfServiceSchedulesEnabled=ey.isSelfServiceSchedulesEnabled();return e},get_shouldSubscribeAllViews:function(){return this.$e},set_shouldSubscribeAllViews:function(e){this.$e=e;if(ss.staticEquals(this.$3$6,null)){return}this.$3$6()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$e},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$3$10},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$3$10=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$3$11},set_email:function(e){this.$3$11=e},get_message:function(){return this.$3$12},set_message:function(e){this.$3$12=e},get_subscriptionsPageUrl:function(){return this.$3$13},set_subscriptionsPageUrl:function(e){this.$3$13=e},get_userSettingsPageUrl:function(){return this.$3$14},set_userSettingsPageUrl:function(e){this.$3$14=e},get_users:function(){return this.$f},set_users:function(e){this.$f=e;this.raiseActionEvent(this.$3$4)},get_groups:function(){return this.$b},set_groups:function(e){this.$b=e;this.raiseActionEvent(this.$3$5)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$a:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},createUpdatedProps:function(){this.createAddSubscribersViewModel(true);var e=React.createElement(ew,this.get_subscribeProps());return{children:e,dialogWidth:400,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:false,showFooter:false,testId:'subscribe',title:tab.Strings.SubscribeTitle,type:0}},disposeViewModel:function(){this.set_users([]);this.set_groups([]);this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){this.set_users([]);this.set_groups([]);this.raiseActionEvent(this.$3$8);this.set_message(null)},createAddSubscribersViewModel:function(e){if(ss.isValue(this.addSubscribersViewModel)){this.addSubscribersViewModel.originalGroups=this.get_groups();this.addSubscribersViewModel.originalUsers=this.get_users();this.addSubscribersViewModel.groups=this.get_groups();this.addSubscribersViewModel.users=this.get_users();this.addSubscribersViewModel.isUsers=e;this.addSubscribersViewModel.updateProps();return}var fE=new t(this.get_users(),this.get_groups(),e);this.addSubscribersViewModel=fE},createAddSubscribersPopup:function(e,fE){if(ss.isValue(this.addSubscribersViewModel)){this.addSubscribersViewModel.originalGroups=this.get_groups();this.addSubscribersViewModel.originalUsers=this.get_users();this.addSubscribersViewModel.groups=this.get_groups();this.addSubscribersViewModel.users=this.get_users();this.addSubscribersViewModel.isUsers=fE;this.addSubscribersViewModel.updateProps();return}var fF=new t(this.get_users(),this.get_groups(),fE);this.addSubscribersViewModel=fF;var fG=spiff.UberPopupViewModel.createForContent$1(this.addSubscribersViewModel,e,ss.mkdel(this,this.$6),true);if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fG.options.horizontalAlign=1;fG.options.isToolbarFlyout=false;fG.options.isBeingPositionedRelativeToASharedDialogWidget=true}else{fG.options.isToolbarFlyout=true}fG.options.preferUp=eU.get_toolbarIsBottom();fG.options.horizontalAttach=1;fG.options.coverRelativeElement=true;var fH=function(){fG.hide(false)};fF.add_selectionCanceled(fH);var fI=ss.mkdel(this,function(fL){this.set_users(fL);fG.hide(false)});var fJ=ss.mkdel(this,function(fL){this.set_groups(fL);fG.hide(false)});fF.add_selectionConfirmedUser(fI);fF.add_selectionConfirmedGroup(fJ);fG.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){fF.remove_selectionCanceled(fH);fF.remove_selectionConfirmedUser(fI);fF.remove_selectionConfirmedGroup(fJ);this.raiseActionEvent(this.$3$7)})));if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){var fK=function(){fG.hide(false)};this.add_dialogHidden(fK);fG.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_dialogHidden(fK)})))}fG.show();this.raiseActionEvent(this.$3$7);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,fE,fF){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(fE)||fE.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$7(e)){return false}if(ss.isValue(this.addSubscribersViewModel)){return false}return fF||this.get_users().length>0||this.get_groups().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var fE=e;var fF=this.get_schedules();for(var fG=0;fG<fF.length;fG++){var fH=fF[fG];var fI=fH.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){fI=fH.get_scheduleFrequencyDescription()}fE.addItem(new spiff.ComboBoxItem(null,fI,fH,null,null))}if(fE.get_items().length>0){fE.set_selectedItem(fE.get_items()[0])}return fE},generateSchedules:function(){if(ey.isSelfServiceSchedulesEnabled()){return null}var e=this.get_schedules().length;var fE=new Array(e);for(var fF=0;fF<this.get_schedules().length;fF++){var fG=this.get_schedules()[fF];var fH=fG.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){fH=fG.get_scheduleFrequencyDescription()}fE[fF]={value:fF.toString(),displayValue:fH}}return ss.arrayClone(fE)},setDataAndCreateSubscriptions:function(e,fE,fF,fG,fH,fI,fJ,fK){this.set_shouldSubscribeAllViews(fE);this.set_sendOnlyWhenDataPresentCheckboxSelected(fK);this.set_users(fI);this.set_groups(fJ);this.createSubscriptions(e,this.get_schedules()[fF],fG,fH)},setDataAndCreateSubscriptionsSelfService:function(e,fE,fF,fG,fH,fI,fJ,fK){this.set_shouldSubscribeAllViews(fE);this.set_sendOnlyWhenDataPresentCheckboxSelected(fK);this.set_users(fI);this.set_groups(fJ);this.createSubscriptionsWithSelfServiceSchedule(e,fF,fG,fH)},createSubscription:function(e,fE){var fF=ss.mkdel(this,function(){this.raiseActionEvent(this.$3$2);dw.showNotification(tab.Strings.SubscribeSuccess,null)});var fG=function(){dw.showNotification(tab.Strings.SubscribeFailure,null)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),fE,this.$a(),fF,fG)},createSubscriptionWithSelfServiceSchedule:function(e,fE){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fF){fF.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),fE,this.$a(),this.$3$2)}))},createSubscriptions:function(e,fE,fF,fG){this.$5(e,fF,fE,false,fG)},createSubscriptionsWithSelfServiceSchedule:function(e,fE,fF,fG){this.$5(e,fF,fE,true,fG)},showMessageEditor:function(){this.$9(1)},showMainDialog:function(){this.$9(0)},$5:function(e,fE,fF,fG,fH){var fI=ss.mkdel(this,function(fN){var fO=(ss.keyExists(fN,'results')?fN['results'].length:0);dw.showNotification(tab.Strings.SubscribeOthersSuccess(fO),null);this.raiseActionEvent(this.$3$2)});var fJ=ss.mkdel(this,function(fN){var fO=fN['errors'];if(fO.length===1&&ss.isNullOrUndefined(fO[0]['id'])){dw.showNotification(tab.Strings.SubscribeFailure,null)}else{dw.showNotification(tab.Strings.SubscribeOthersFailed(fO.length),null);this.raiseActionEvent(this.$3$2)}});var fK=function(fN){dw.showNotification(tab.Strings.SubscribeFailure,null)};var fL=_.map(this.get_users(),function(fN){return fN.id.toString()});var fM=_.map(this.get_groups(),function(fN){return fN.id.toString()});if(fM.length===0){fM=null}if(fE&&!_.contains(fL,tsConfig.current_user_id.toString())){fL.push(tsConfig.current_user_id.toString())}if(fG){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fN){fN.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),fF,this.$a(),fL,fM,fI,fJ,fK,fH)}))}else{this.set_users([]);this.set_groups([]);tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),fL,fF,this.$a(),fI,fJ,fK,fH,fM)}},$6:function(){this.addSubscribersViewModel=tab.MiscUtil.dispose$1(this.addSubscribersViewModel)},$7:function(e){return cj.validate(e)},$9:function(e){this.$c=e;this.$8()},$8:function(){if(ss.isValue(this.$3$9)){this.$3$9(this,ss.EventArgs.Empty)}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IContent,spiff.IUberPopupContent,spiff.IDialogContent]);ss.initClass(ez,a,{render:function(){return spiff.DOMElements.div({},spiff.DOMElements.textarea(this.$2()),this.$3(),spiff.DOMElements.div({className:'tabSubscribeMessageEditorButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,this.$0()),React.createElement(SharedWidgets.ButtonWidget,this.$1())))},$3:function(){return(this.state.isWarning?spiff.DOMElements.div({className:ez.errorMessageClass+' '+(this.state.isError?'error':'warning')},this.state.warningMessage):null)},$2:function(){return{rows:this.$6,placeholder:tab.Strings.ToolbarSubscribeMessageEditorPlaceholder,className:ez.messageEditorClass,ref:this.$5,defaultValue:this.props.message,autoFocus:true,onChange:ss.mkdel(this,this.onChangeMessageHandler)}},onChangeMessageHandler:function(e){if(this.textAreaElement.value.length>=ez.characterWarningLimit){this.setState({isError:this.textAreaElement.value.length>ez.characterLimit,isWarning:true,warningMessage:tab.Strings.MessageCharacterLimit(this.textAreaElement.value.length,ez.characterLimit)})}else if(this.state.isError||this.state.isWarning){this.setState({isError:false,isWarning:false,warningMessage:null})}},$0:function(){return{handleClick:ss.mkdel(this,function(e){this.props.onCancelButtonClick()}),buttonType:3,testId:'subscription-message-editor-cancel',key:'messageEditorCancel',children:tab.Strings.SubscribeCancel,style:{marginRight:12}}},$1:function(){return{handleClick:ss.mkdel(this,function(e){this.$4(e)}),buttonType:2,testId:'subscription-message-editor-done',key:'messageEditorDone',children:tab.Strings.SubscribeDone,disabled:this.state.isError}}},React.Component);ss.initClass(eA,a,{},ss.EventArgs);ss.initClass(eB,a,{createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')};return{handleClick:function(fE){e()},buttonType:3,testId:'SheetReconnectEditConnection',children:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:18+'px',marginBottom:'auto',marginLeft:'auto',marginRight:30+'px'}}},determineIfConnectionClassSupported:function(){var e=$.Deferred();tab.DataConnectionUtils.isTableauServerSupportedInReconnectFlow(this.props.connectionClass).done(function(fE){e.resolve(fE)});return e.promise()}},eo);ss.initClass(eC,a,{get_textAngle:function(){return this.$k},set_textAngle:function(e){this.$k=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$g},get_alpha:function(){return this.$6.globalAlpha},set_alpha:function(e){if(e!==this.$6.globalAlpha){this.$6.globalAlpha=e}},get_globalCompositeOperation:function(){return this.$6.globalCompositeOperation},set_globalCompositeOperation:function(e){this.$6.globalCompositeOperation=e},get_font:function(){return this.$6.font},set_font:function(e){var fE=this.$d.normalizeFont(e);if(!ss.referenceEquals(fE,this.$6.font)){this.$6.font=fE}this.$e=eC.$0(fE)},get_lineCap:function(){return this.$8},set_lineCap:function(e){if(e!==this.$8){this.$6.lineCap=e;this.$8=e}},get_lineJoin:function(){return this.$9},set_lineJoin:function(e){if(e!==this.$9){this.$6.lineJoin=e;this.$9=e}},get_lineWidth:function(){return this.$6.lineWidth},set_lineWidth:function(e){if(e!==this.$6.lineWidth){this.$6.lineWidth=e;if(this.$f!=='solid'){this.$5()}}},get_linePattern:function(){return this.$f},set_linePattern:function(e){if(e!==this.$f){this.$f=e;this.$5()}},get_transformation:function(){return this.$m},set_transformation:function(e){this.$m.setTransform(e)},get_strokeStyle:function(){return this.$a},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$a)){this.$6.strokeStyle=e;this.$a=e}},get_shapeFillStyle:function(){return this.$h},set_shapeFillStyle:function(e){this.$h=e;this.$3(e)},get_shouldAntialias:function(){return this.$i},set_shouldAntialias:function(e){this.$i=e},get_shouldUnderlineText:function(){return this.$j},set_shouldUnderlineText:function(e){this.$j=e},get_textFillStyle:function(){return this.$l},set_textFillStyle:function(e){this.$l=e},get_textAlign:function(){return this.$6.textAlign},set_textAlign:function(e){this.$6.textAlign=e},get_textBaseline:function(){return this.$6.textBaseline},set_textBaseline:function(e){this.$6.textBaseline=e},get_currentClipRect:function(){return this.$b},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(eC.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(eC.defaultLineJoin);this.set_lineCap(eC.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(eC.defaultTextBaseline);this.set_textAlign(eC.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$i=true;this.$j=false},setClip:function(e){this.beginPath();this.$b=e;this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,fE,fF,fG,fH,fI){this.$6.arc(e,fE,fF,fG,fH,fI)},beginPath:function(){this.$6.beginPath()},bezierCurveTo:function(e,fE,fF,fG,fH,fI){this.$6.bezierCurveTo(e,fE,fF,fG,fH,fI)},clearRect:function(e,fE,fF,fG){this.$6.clearRect(e,fE,fF,fG)},closePath:function(){this.$6.closePath()},createLinearGradient:function(e,fE,fF,fG){return this.$6.createLinearGradient(e,fE,fF,fG)},drawImage1:function(e,fE,fF){this.$6.drawImage(e,fE,fF)},drawImage3:function(e,fE,fF,fG,fH){this.$6.drawImage(e,fE,fF,fG,fH)},drawImage4:function(e,fE,fF,fG,fH){this.$6.drawImage(e,fE,fF,fG,fH)},drawImage5:function(e,fE,fF,fG,fH,fI,fJ,fK,fL){this.$6.drawImage(e,fE,fF,fG,fH,fI,fJ,fK,fL)},fill:function(){this.$6.fill()},fillRect:function(e,fE,fF,fG){this.$6.fillRect(e,fE,fF,fG)},fillText1:function(e,fE,fF){if(this.$4()){var fG=ss.mkdel(this,function(fH){this.$6.fillText(fH,0,0)});this.$2(fG,e,fE,fF)}else{this.$6.fillText(e,fE,fF)}},fillText2:function(e,fE,fF,fG){if(this.$4()){var fH=ss.mkdel(this,function(fI){this.$6.fillText(fI,0,0,fG)});this.$2(fH,e,fE,fF)}else{this.$6.fillText(e,fE,fF,fG)}},lineTo:function(e,fE){this.$6.lineTo(e,fE)},measureText:function(e){return this.$6.measureText(e)},moveTo:function(e,fE){this.$6.moveTo(e,fE)},rect:function(e,fE,fF,fG){this.$6.rect(e,fE,fF,fG)},reset:function(){while(this.$g>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$6.restore();this.$8=this.$6.lineCap;this.$9=this.$6.lineJoin;this.$a=this.$6.strokeStyle;this.$7=this.$6.fillStyle;var e=this.$c.pop();e.$0(this);--this.$g},rotate:function(e){this.$m.rotate(e);this.$0()},save:function(){var e=new k(this.$f,this.$k,this.$h,this.$l,this.$i,this.$j,this.$m);this.$c.push(e);this.$6.save();++this.$g},scale:function(e,fE){if(e===1&&fE===1){return}this.$m.scale(e,fE);this.$0()},setTransform:function(e){this.$m.setTransform(e);this.$0()},resetTransform:function(){this.$m.reset();this.$0()},stroke:function(){this.$6.stroke()},strokeRect:function(e,fE,fF,fG){this.$6.strokeRect(e,fE,fF,fG)},strokeText1:function(e,fE,fF){},strokeText2:function(e,fE,fF,fG){},translate:function(e,fE){if(e===0&&fE===0){return}this.$m.translate(e,fE);this.$0()},$0:function(){var e=this.$m.get_matrix();this.$6.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$6.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$h)||!ss.referenceEquals(this.$h,this.$l)||this.$j},$2:function(e,fE,fF,fG){this.$6.save();var fH=this.$m.clone();this.translate(fF,fG);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$l);e(fE);if(this.$j){var fI=this.measureText(fE).width;var fJ=Math.round(Math.max(1,(this.$e-5)/10));var fK=Math.round((this.$e-5)/10);var fL=0;if(this.get_textAlign()==='center'){fL-=fI/2}else if(this.get_textAlign()==='end'){fL-=fI}this.$6.fillRect(fL,fK,fI,fJ)}this.$6.restore();this.$m.setTransform(fH);this.$7=null},$3:function(e){if(!ss.referenceEquals(e,this.$7)){this.$6.fillStyle=e;this.$7=e}},$5:function(){var e=null;var fE=0;switch(this.$f){case'solid':{e=[];break}case'dashed':{fE=this.$6.lineWidth;e=[eC.defaultLineDashDashed[0]*fE,eC.defaultLineDashDashed[1]*fE];break}case'dotted':{fE=this.$6.lineWidth;e=[eC.defaultLineDashDotted[0]*fE,eC.defaultLineDashDotted[1]*fE];break}}if(typeof(this.$6['setLineDash'])==='function'){this.$6.setLineDash(e)}else if('mozDash'in this.$6){this.$6['mozDash']=e}else if('webkitLineDash'in this.$6){this.$6['webkitLineDash']=e}}});ss.initClass(eD,a,{});ss.initClass(eE,a,{showFormatIndicator:function(){this.formatIndicatorElem.show()},hideFormatIndicator:function(){this.formatIndicatorElem.hide();if(ss.isValue(this.chevron)&&this.chevron.get_selected()){this.chevron.set_selected(false)}},minSizeHint:function(){if(ss.isValue(this.chevron)){var e=parseInt(this.chevron.element.css('top'));var fE=parseInt(this.chevron.element.css('right'));var fF=parseInt(this.chevron.element.css('height'));var fG=parseInt(this.chevron.element.css('width'));return{w:fG+2*fE,h:fF+2*e}}return{w:0,h:0}},addChevron:function(e){if(ss.isNullOrUndefined(this.chevron)){this.chevron=new spiff.ToggleButton($("<span class='tabAuthoringTitleEditArrow'/>"),null);this.chevron.add_click(e);this.formatIndicatorElem.append(this.chevron.element)}}},spiff.Template,[ss.IDisposable]);ss.initClass(eF,a,{$i:function(){return this.get_viewModel()},$h:function(){return this.get_template()},minSizeHint:function(){return this.$h().minSizeHint()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.$i().options.textSelectable){this.$h().contentElem.addClass('tab-selectable')}this.handleNewTextRegion();eg.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add(ss.mkdel(this,function(){eg.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.handleNewTextRegion))}))},handleNewTextRegion:function(){if(!this.$i().hasPresModel()){return}this.$a(this.$h().textRegionBoundaryElem);this.$b(this.$h().contentElem)},$c:function(){var e=new spiff.ShowMenuOptions(this.$h().chevron.element,false);e.activatedBy='Chevron';e.openedFrom=this.$e();var fE=e;this.$f(fE)},handleRightClick:function(e){var fE=new spiff.ShowMenuOptions(this.element,false);fE.cursorPosition={left:e.clientX,top:e.clientY};fE.activatedBy='ContextMenu';fE.openedFrom=this.$e();var fF=fE;this.$f(fF)},$f:function(e){var fE=ss.mkdel(this,function(fG){this.$g=true;this.$h().showFormatIndicator()});var fF=ss.mkdel(this,function(){this.$g=false;this.$h().hideFormatIndicator()});this.get_viewModel().showContextMenu(e,fE,fF)},handleDoubleClick:function(e){this.get_viewModel().openRichTextEditorDialogForTitle();cB.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom',this.$e()]))},$e:function(){return((tsConfig.current_sheet_type==='worksheet')?'WorksheetTitle':'WorksheetTitleOnDashboard')},handleHover:function(){this.$h().showFormatIndicator()},handleMouseLeave:function(){if(!this.$g){this.$h().hideFormatIndicator()}},$b:function(e){var fE={};e.removeAttr('style');e.html(this.$i().get_html());tab.FormattingConverters.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var fF=function(fN){fN.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),fF).on(this.createNamespacedEventName('touchend'),fF)}var fG=this.$i().get_orientation();var fH=eF.$3(fG);var fI=eF.$2(fG);if(fH||fI){var fJ=tab.DoubleUtil.roundToInt(e.parent().width());var fK=tab.DoubleUtil.roundToInt(e.parent().height());fE['width']=fK+'px';var fL='0%';if(fH){fE['bottom']='100%';fL='100%'}else if(fI){fE['top']='100%';fL='0%'}e.css(fE);fE['left']=eF.$1(fJ,tab.DoubleUtil.roundToInt(e.height()),this.$i().get_hAlign(),fG);eF.$0(e,'0% '+fL,fG.toString())}else{e.width('100%');var fM=tab.DoubleUtil.roundToInt(this.$h().domRoot.height());if(fM<=tab.DoubleUtil.roundToInt(e.height())&&!this.$d(e,fM)){fE['top']='0%'}else{switch(this.$i().get_vAlign()){case'v-align-center':{fE['top']='50%';fE['margin-top']=ss.Int32.div(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{fE['bottom']='0%';break}case'v-align-top':{fE['top']='0%';break}default:{break}}}}e.css(fE)},$d:function(e,fE){var fF=false;e.find('span').each(function(fG,fH){if(!fF&&ss.isValue(fH.style.lineHeight)){fF=parseInt(fH.style.lineHeight)>=fE}});return fF},$a:function(e){var fE=this.$i().get_styledBox();var fF=tab.FormattingConverters.getCSSBorderStyle(fE.borderStyle);var fG=ss.mkdict(['border-width',fE.uw+'px','border-color',fE.borderColor,'border-style',fF]);if(this.$i().get_styledBox().hasFill){this.$9(fG)}e.css(fG)},$9:function(e){var fE=tab.ColorModel.fromColorCode(this.$i().get_styledBox().fillColor);if(fE.get_a()<1){e['background-color']=fE.toString()}else{e['background-color']=fE.toString()}}},ss.makeGenericType(spiff.BaseView$1,[eG]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eG])]);eF.$ctor1.prototype=eF.prototype;ss.initClass(eG,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$5.get_hAlign()},get_html:function(){return this.$5.get_html()},get_orientation:function(){return this.$5.get_orientation()},get_vAlign:function(){return this.$5.get_vAlign()},get_styledBox:function(){return this.$5.get_styledBox()},get_presModelKey:function(){return this.$5.presModelKey},handleNewTextRegion:function(){this.$4()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$5.pm)},isTitle:function(){var e=tab.FeatureFlags.isEnabled('RichTextEditingWorksheetTitleInDashboard')&&tsConfig.current_sheet_type==='dashboard';return ss.referenceEquals(this.get_presModelKey().name,'visualTitle'.toString())&&(tsConfig.current_sheet_type==='worksheet'||e)},openRichTextEditorDialogForTitle:function(){tab.RichTextClientCommands.createWorksheetTitleRichTextEditor(this.$5.get_sheetName())},showContextMenu:function(e,fE,fF){if(!tsConfig.is_authoring){return}if(this.isTitle()){var fG=ss.mkdel(this,function(fJ){var fK=fJ.$$c['commands'];var fL=this.$3(e,fK,fE,fF);fL.show(e)});var fH=((tsConfig.current_sheet_type==='dashboard')?tsConfig.current_sheet_name:null);tab.SheetClientCommands.getTitleContextMenu(this.$5.get_sheetName(),fH,fG)}if(ss.referenceEquals(this.get_presModelKey().name,'visualCaption'.toString())&&tsConfig.current_sheet_type==='worksheet'){var fI=ss.mkdel(this,function(fJ){var fK=fJ.$$c['commands'];var fL=this.$3(e,fK,fE,fF);fL.show(e)});tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,fI)}},$3:function(e,fE,fF,fG){tab.Param.verifyValue(fE,'commands');var fH=tab.CommandsPresModelWrapper.create(fE);if(tab.MiscUtil.isNullOrEmpty$1(fH.get_commandItems())){if(ss.isValue(fG)){fG()}return null}var fI=[];fw.newMenuItemsFromCommands(fI,fE,ss.mkdel(this,function(fJ){return this.$2(e,fJ)}),null);return spiff.MenuViewModel.createForMenu(new spiff.Menu(fI),fw.commandMenuItemClicked,null,fG,fF,true)},$2:function(e,fE){var fF=fw.createDropdownMenuCommandHandler(fE);return function(){var fG=tab.CommandSerializer.deserialize(tab.CommandItemWrapper.create(fE).get_command(),false);if(tab.RichTextClientCommands.isRichTextEditingCommand(fG)){cB.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy',e.activatedBy,'RichTextEditorOpenedFrom',e.openedFrom]))}fF()}},$4:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eH,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eI,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:tab.DoubleUtil.roundToInt(this.element.scrollTop())}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[eJ]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eJ]),spiff.IScrollable]);ss.initClass(eJ,a,{},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eK,a,{get_keyCombos:function(){return tab.KeyCombos.op_Implicit((BrowserSupport.BrowserSupport.IsMac()?new tab.KeyCombo.$ctor3(new tab.KeyModifiers(false,true,false,false,true,false,false,false,false),70,[]):new tab.KeyCombo.$ctor2(122,[])))},isAllowed:function(e){return eT.shouldAllowFullScreen()&&tab.GlobalKeyboardShortcut.prototype.isAllowed.call(this,e)},executeShortcut:function(e){if(spiff.FullscreenUtil.get_inFullscreenMode()){spiff.FullscreenUtil.exitFullscreen()}else{spiff.FullscreenUtil.requestFullscreen(document.documentElement)}}},tab.GlobalKeyboardShortcut,[tab.IKeyboardShortcut]);ss.initClass(eM,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(eN,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$3$1},set_toolbarButton:function(e){this.$3$1=e},$c:function(){this.set_toolbarButton(new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText'));this.disposables.add$1(this.get_toolbarButton());this.get_toolbarButton().add_click(ss.mkdel(this,this.onClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_toolbarButton().remove_click(ss.mkdel(this,this.onClicked))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,fE){switch(fE.get_propertyName()){case'isActive':{this.get_toolbarButton().element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var fF=this.get_viewModel().get_enabled();this.get_toolbarButton().set_disabled(!fF);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(!fF){this.element.attr('aria-disabled','true')}else{this.element.removeAttr('aria-disabled')}this.element.attr('tabindex','-1')}if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')||tsConfig.is_authoring){this.element.attr('tabindex',(fF?'0':'-1'))}break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.get_toolbarButton().set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$e)){this.get_dom().get_image().removeClass(this.$e)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$e=this.get_viewModel().get_iconClass();break}}},onClicked:function(){if(ss.isValue(this.get_toolbarButton())&&!ss.staticEquals(this.get_viewModel().get_buttonAction(),null)){this.get_viewModel().execute()}if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){this.get_viewModel().showDialog()}else if(this.get_toolbarButton().element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.get_toolbarButton().element)}},$d:function(){this.get_dom().domRoot.show();this.get_viewModel().set_isHidden(false)},$9:function(){this.get_dom().domRoot.hide();this.get_viewModel().set_isHidden(true)},$b:function(){this.get_toolbarButton().element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.get_toolbarButton().element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[eO]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eO])]);ss.initClass(eO,a,{add_showDialogRequested:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_showDialogRequested:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverShown:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverShown:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_flyoverHidden:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_flyoverHidden:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_clickButtonRequested:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_clickButtonRequested:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_showButtonRequested:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_showButtonRequested:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideButtonRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideButtonRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_buttonAction:function(){return this.action},get_itemWrapper:function(){return this.$2$7},set_itemWrapper:function(e){this.$2$7=e},get_hintText:function(){var e=tab.KeyboardShortcutManager.findAssociatedShortcut(this.get_itemWrapper());return(ss.isNullOrUndefined(e)?null:e.get_hintText())},get_enabled:function(){return this.$7},set_enabled:function(e){if(!this.get_isSeparator()&&this.$7!==e){this.$7=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$9},set_iconClass:function(e){if(!this.get_isSeparator()&&!(ss.compareStrings(this.$9,e,false)===0)){this.$9=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$2$8},set_iconType:function(e){this.$2$8=e},get_isActive:function(){return this.$a},set_isActive:function(e){if(!this.get_isSeparator()&&this.$a!==e){this.$a=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$c},set_text:function(e){if(!this.get_isSeparator()&&!(ss.compareStrings(this.$c,e,false)===0)){this.$c=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$d},set_tooltipText:function(e){if(!this.get_isSeparator()&&!ss.referenceEquals(this.$d,e)){this.$d=e;this.notifyPropertyChanged('tooltipText')}},get_description:function(){return this.$6},set_description:function(e){if(!this.get_isSeparator()&&!ss.referenceEquals(this.$6,e)){this.$6=e;this.notifyPropertyChanged('description')}},get_isSeparator:function(){return this.$2$9},set_isSeparator:function(e){this.$2$9=e},get_isHidden:function(){return this.$2$10},set_isHidden:function(e){this.$2$10=e},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$b;if(ss.isValue(this.$2$2)){this.popupViewModel.add_shown(this.$2$2)}if(ss.isValue(this.$2$3)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},showDialog:function(){if(ss.staticEquals(this.$2$1,null)){return}this.$8().done(ss.mkdel(this,function(e){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(e)){this.$2$1(e)}}))},clickButton:function(){this.raiseActionEvent(this.$2$4)},showButton:function(){if(this.get_isHidden()){this.raiseActionEvent(this.$2$5)}},hideButton:function(){this.raiseActionEvent(this.$2$6)},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$5:function(){this.raiseActionEvent(this.$2$2)},$4:function(){this.raiseActionEvent(this.$2$3);this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$2);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eP,a,{createMenu:function(){return this.$e(null)},execute:function(){},dropdownClicked:function(e,fE){var fF=this.createMenu();if(!fF.menuItems.some(function(fJ){return fJ.enabled})){return null}var fG=spiff.MenuViewModel.createForMenu(fF,ss.mkdel(this,function(fJ){this.raiseActionEvent$1(spiff.MenuItem).call(this,fE,fJ);fw.commandMenuItemClicked(fJ)}),null,ss.mkdel(this,function(){this.set_isActive(false)}),null,true);var fH=new spiff.ShowMenuOptions(e,true);fH.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';var fI=fH;fG.show(fI);this.set_isActive(true);return fG}},eO,[ss.IDisposable,tab.IViewModel]);ss.initClass(eQ,a,{add_propsUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_propsUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_props:function(){return this.$3$2},set_props:function(e){this.$3$2=e},createMenu:function(){return this.$g(null)},$e:function(e){if(ss.compare(e,this.get_props().selectedValue)!==0){this.get_props().selectedValue=e;this.raiseActionEvent(this.$3$1);var fE=parseInt(e);var fF=this.$f.menuItems[fE];spiff.MenuViewModel.handleMenuActionItemClicked(fF)}}},eO,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eR,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eS,a,{get_toggleToText:function(){return this.$e},set_toggleToText:function(e){this.$e=e}},eO,[ss.IDisposable,tab.IViewModel]);ss.initClass(eT,a,{get_dom:function(){return this.get_template()},$u:function(){return this.$3$1},$v:function(e){this.$3$1=e},$B:function(){return this.$3$2},$C:function(e){this.$3$2=e},$x:function(){return this.$3$3},$y:function(e){this.$3$3=e},$D:function(){return this.$3$4},$E:function(e){this.$3$4=e},$s:function(){return this.$3$5},$t:function(e){this.$3$5=e},$F:function(){return this.$3$6},$G:function(e){this.$3$6=e},$z:function(){return this.$3$7},$A:function(e){this.$3$7=e},$w:function(){return this.$N.get_customViewsViewModel()},$H:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$I:function(e){this.get_dom().leftItems.toggleClass('narrow',e)},$r:function(){var e=this.$N.get_shouldForceLabelsBelowIcons();var fE=this.$N.get_canPutLabelsUnderneath();var fF=this.get_dom().toolbar.width();var fG=this.get_dom().leftItems;var fH=this.get_dom().rightItems;this.$H(!e);this.$I(false);eT.$3(this.$u());eT.$3(this.$x());eT.$3(this.$B());eT.$3(this.$s());eT.$3(this.$D());eT.$3(this.$F());eT.$3(this.$z());if(spiff.FullscreenUtil.get_inFullscreenMode()||eU.$0()){eT.$1(fG);eT.$1(fH);var fI=this.$O;var fJ=this.$K;if(!this.$c(fF,fI,fJ)){this.$I(true)}if(ss.isValue(this.$B())){if(!this.$c(fF,fI,fJ)){this.$B().element.hide();fI-=this.$J}}if(ss.isValue(this.$z())){if(!this.$c(fF,fI,fJ)){this.$z().element.hide()}}return}if(e){if(this.$c(fF,this.$P,this.$L)){eT.$4(fG);eT.$4(fH)}else{eT.$1(fG);eT.$1(fH)}return}if(this.$c(fF,this.$Q,this.$M)){eT.$4(fG);eT.$4(fH)}else if(this.$c(fF,this.$P,this.$L)&&fE){this.$H(false);eT.$4(fG);eT.$4(fH)}else if(this.$c(fF,this.$O,this.$M)){eT.$1(fG);eT.$4(fH)}else if(this.$c(fF,this.$Q,this.$K)){eT.$4(fG);eT.$1(fH)}else{eT.$1(fG);eT.$1(fH);var fK=this.$O;var fL=this.$K;if(ss.isValue(this.$B())){if(!this.$c(fF,fK,fL)){this.$B().element.hide();fK-=this.$J}}if(ss.isValue(this.$u())){if(!this.$c(fF,fK,fL)){this.$u().element.hide();fL-=this.$J}}if(ss.isValue(this.$x())){if(!this.$c(fF,fK,fL)){this.$x().element.hide();fL-=this.$J}}if(ss.isValue(this.$s())){if(!this.$c(fF,fK,fL)){this.$s().element.hide();fL-=this.$J}}if(ss.isValue(this.$F())){if(!this.$c(fF,fK,fL)){this.$F().element.hide();fL-=this.$J}}if(ss.isValue(this.$D())){if(!this.$c(fF,fK,fL)){this.$D().element.hide()}}}},$n:function(){var e=eU.get_toolbarHeight();if(this.get_viewModel().get_shouldShowCommenting()){e-=1}this.get_dom().toolbar.height(e);this.$o();this.rebuildNonVizItems();if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.find('.tabToolbarButton:not(.disabled)').first().attr('tabindex','0')}this.$k()},$o:function(){this.get_dom().leftItems.empty();if(eU.$0()){this.$a(this.get_dom().leftItems)}else{this.$b(this.get_dom().leftItems)}},$a:function(e){var fE=ss.getEnumerator(this.$N.get_nonVizItems());try{while(fE.moveNext()){var fF=fE.current();if(ss.equalsT('public-logo',fF.get_iconType())){var fG=eN.create(fF);e.append(fG.element)}}}finally{fE.dispose()}},$b:function(e){this.$C(null);var fE=ss.getEnumerator(this.$N.get_vizItems());try{while(fE.moveNext()){var fF=fE.current();var fG=eN.create(fF);e.append(fG.element);if(ss.equalsT('redo',fF.get_iconType())){this.$C(fG)}}}finally{fE.dispose()}if(tsConfig.is_metrics_enabled){var fH=new eO(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$N,this.$N.showPerformanceMetrics));var fI=eN.create(fH);e.append(fI.element)}},rebuildNonVizItems:function(){this.get_dom().rightItems.empty();if(eU.$0()){this.$b(this.get_dom().rightItems);this.$9(this.get_dom().rightItems)}else{this.$9(this.get_dom().rightItems)}},$9:function(e){if(!spiff.FullscreenUtil.get_inFullscreenMode()){this.$v(null);this.$y(null);var fE=ss.getEnumerator(this.$N.get_nonVizItems());try{while(fE.moveNext()){var fF=fE.current();var fG=eN.create(fF);if(!ss.equalsT('public-logo',fF.get_iconType())&&!ss.equalsT('alert',fF.get_iconType())){e.append(fG.element)}if(ss.equalsT('customviews',fF.get_iconType())){fG.get_dom().get_text().css('max-width','160px');this.$v(fG)}else if(ss.equalsT('edit',fF.get_iconType())){this.$y(fG)}else if(ss.equalsT('share',fF.get_iconType())){this.$E(fG)}else if(ss.equalsT('alert',fF.get_iconType())){this.$h(e,fG)}else if(ss.equalsT('subscribe',fF.get_iconType())){this.$G(fG)}}}finally{fE.dispose()}}if(this.get_viewModel().get_shouldShowCommenting()){this.$e(e)}if(ss.isValue(this.$N.get_deviceLayoutItem())&&!spiff.FullscreenUtil.get_inFullscreenMode()){this.$f(e)}if(eT.shouldAllowFullScreen()){this.$g(e)}this.updateCustomViewsButton()},$h:function(e,fE){if(tab.FeatureFlags.isEnabled('AlertSidePanel')){this.$d(e)}else{e.append(fE.element);this.$t(fE)}},$i:function(){this.$q();this.$n()},$e:function(e){var fE=function(){var fH=G.get_instance().get_rightAreaDrawerViewModel();fH.toggleCommenting()};var fF=new eO(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',fE);var fG=eN.create(fF);e.append(fG.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(fG)}))},$d:function(e){var fE=function(){var fH=G.get_instance().get_rightAreaDrawerViewModel();fH.toggleDataAlertsPanel()};var fF=new eO(tab.Strings.DataAlertToolbarButtonLabel,'tab-icon-alert',fE);var fG=eN.create(fF);e.append(fG.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(fG)}))},$f:function(e){var fE=eN.create(this.$N.get_deviceLayoutItem());e.append(fE.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(fE)}))},$g:function(e){var fE=(spiff.FullscreenUtil.get_inFullscreenMode()?new eO(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',spiff.FullscreenUtil.exitFullscreen):new eO(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){spiff.FullscreenUtil.requestFullscreen(document.documentElement)}));this.$A(eN.create(fE));e.append(this.$z().element)},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$u())){return}var e=this.$w().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$u().element.css('visibility','hidden')}else{this.$u().element.css('visibility','');this.$u().element.toggleClass('tab-customviews-modified',this.$w().get_dirty());var fE=tab.Strings.ToolbarCustomViewsTemplate(e);if(!ss.equalsT(this.$u().get_toolbarButton().get_label(),fE)){this.$u().get_toolbarButton().set_label(fE)}}},$k:function(){if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','-10000px')}this.get_dom().toolbar.width('10000px');eT.$2(this.get_dom().rightItems);eT.$3(this.$u());eT.$3(this.$x());eT.$3(this.$B());eT.$3(this.$s());eT.$3(this.$D());eT.$3(this.$F());if(this.$J===0){this.$H(!this.$N.get_shouldForceLabelsBelowIcons());eT.$1(this.get_dom().leftItems);eT.$1(this.get_dom().rightItems);this.$O=this.get_dom().leftItems.outerWidth(true);this.$K=this.get_dom().rightItems.outerWidth(true);this.$J=ss.coalesce(ss.Int32.trunc(this.get_dom().leftItems.children().first().outerWidth(true)),0)}eT.$4(this.get_dom().leftItems);eT.$4(this.get_dom().rightItems);if(this.$N.get_canPutLabelsUnderneath()){this.$H(false);this.$P=this.get_dom().leftItems.outerWidth(true);this.$L=this.get_dom().rightItems.outerWidth(true)}if(!this.$N.get_shouldForceLabelsBelowIcons()){this.$H(true);this.$Q=this.get_dom().leftItems.outerWidth(true);this.$M=this.get_dom().rightItems.outerWidth(true)}this.get_dom().toolbar.width('');if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','')}this.$j()},$q:function(){this.$Q=0;this.$P=0;this.$O=0;this.$M=0;this.$L=0;this.$K=0;this.$J=0},forceResizeToolbar:function(){this.$j()},$j:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var fE=this.get_dom().leftItems;var fF=this.get_dom().rightItems;if(fE.children().length===0&&fF.children().length===0){return}eT.$2(fF);this.$r();eT.$0(fF);this.$p()}finally{if(ss.isValue(e)){e.dispose()}}},$m:function(e){switch(e.which){case 37:{this.$l(-1);break}case 39:{this.$l(1);break}default:{return}}e.preventDefault();e.stopPropagation()},$l:function(e){var fE=this.element.find('.tabToolbarButton:not(.disabled):focusable');var fF=this.element.find('.tabToolbarButton:focus');if(ss.isValue(fF[0])){var fG=fE.index(fF[0]);fE.eq((fG+e)%fE.length).focus()}},$p:function(){var e=ss.getEnumerator(this.$N.get_nonVizItems());try{while(e.moveNext()){var fE=e.current();if(ss.isValue(fE.popupViewModel)){fE.popupViewModel.updatePosition()}}}finally{e.dispose()}},$c:function(e,fE,fF){return!(fE+fF>=e)}},ss.makeGenericType(spiff.BaseView$1,[eU]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eU])]);ss.initClass(eU,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_shouldShowViewCount:function(){return eU.$0()&&tsConfig.showViewCount&&eU.publicViewCount>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_shouldShowCommenting:function(){return this.$2$3},set_shouldShowCommenting:function(e){this.$2$3=e},get_canPutLabelsUnderneath:function(){return eU.get_toolbarHeight()>40},get_viewCount:function(){return eU.publicViewCount},set_viewCount:function(e){eU.publicViewCount=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_vizCommandItems:function(){return this.$d.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$d.get_nonVizCommandItems()},get_vizItems:function(){return this.$e},get_nonVizItems:function(){return this.$c},get_deviceLayoutItem:function(){return this.$2$4},set_deviceLayoutItem:function(e){this.$2$4=e},get_customViewsViewModel:function(){return this.$9},get_dialogHostViewModel:function(){return this.$2$5},set_dialogHostViewModel:function(e){this.$2$5=e},get_forceHideCustomViewsButton:function(){return this.$b},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){this.$9.dispose();this.get_dialogHostViewModel().dispose();this.$5();spiff.BaseViewModel.prototype.dispose.call(this)},$4:function(e,fE){for(var fF=0;fF<e.length;fF++){var fG=e[fF];var fH=tab.CommandItemWrapper.create(fG);tab.Param.verifyValue(fG,'commandItem');switch(fH.get_commandsType()){case'separator':{fE.push(eO.createSeparator());break}case'item':{if(eO.shouldShowButton(fH,this)){this.$2(fG,fE)}break}case'subcommands':{if(fH.get_iconRes()==='toggle-updates'){var fI={$:this.$3(tab.CommandsPresModelWrapper.create(fH.get_commands()).get_commandItems(),fE)};var fJ={$:tab.ApplicationModel.get_instance().get_workbook()};fJ.$.withDashboard(ss.mkdel({workbook:fJ,button:fI},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$e.length;e++){var fE=this.$e[e];fE.dispose()}ss.clear(this.$e);for(var fF=0;fF<this.$c.length;fF++){var fG=this.$c[fF];fG.dispose()}ss.clear(this.$c)},$7:function(e,fE){if(this.$b&&this.$9.get_hasCustomViews()){this.$b=false;this.$6(null)}},$8:function(){this.set_deviceLayoutItem(bT.buildViewModel(this.$a.get_deviceLayouts(),this.$a.get_autoGeneratedDeviceLayouts(),this.get_dialogHostViewModel()))},$2:function(e,fE){var fF=eO.createFromCommandItem(e,'tab-icon-',this);var fG=this.get_dialogHostViewModel();fF.add_showDialogRequested(ss.mkdel(fG,fG.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var fH=this.get_dialogHostViewModel();fF.remove_showDialogRequested(ss.mkdel(fH,fH.show))})));fE.push(fF)},$3:function(e,fE){if(e.length!==2){return null}var fF=eS.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(fF)){fE.push(fF)}return fF},$6:function(e){var fE=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$d.get_vizCommandItems(),this.$e)}this.$4(this.$d.get_nonVizCommandItems(),this.$c);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(fE)){fE.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$d.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().legacySession.saveAndOpenMetricsView()},showDialog:function(e){var fE=ss.getEnumerator(this.get_nonVizItems());try{while(fE.moveNext()){var fF=fE.current();if(ss.equalsT(e,fF.get_iconType())){if(e==='alert'){fF.execute()}else if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fF.showDialog()}else{fF.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black')}return}}}finally{fE.dispose()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eV,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$k},get_body:function(){return this.$i.get_body()},get_location:function(){return this.$o},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$j},set_horizontalOffset:function(e){this.$j=e},get_verticalOffset:function(){return this.$s},set_verticalOffset:function(e){this.$s=e},get_lastLocation:function(){return this.$l},set_lastLocation:function(e){this.$l=e},get_calculatedShownArgs:function(){return this.$h},get_showAbove:function(){return this.$n},set_showAbove:function(e){this.$n=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,fE){this.requestLayout(ss.mkdel(this,function(){if(!ss.staticEquals(fE,null)){fE()}this.get_body().empty().append(e)}),false)},allowMouseEventPassthrough:function(e){this.element.toggleClass('tab-allowMouseEventPassthrough',e)},isInSafeZone:function(e,fE){var fF=this.element.position();var fG=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fH=tab.DoubleUtil.roundToInt(this.element.outerHeight());var fI=10;var fJ=10;if(fE){fI+=this.get_horizontalOffset();fJ+=this.get_verticalOffset()}return e.x>=fF.left-fI&&e.x<=fF.left+fG+fI&&e.y>=fF.top-fJ&&e.y<=fF.top+fH+fJ},show:function(e,fE){if(ss.isNullOrUndefined(fE)||this.$q){this.close();return}this.set_lastLocation(fE);this.ensureAttachedAndSized();this.$p=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e,null)}else{this.get_body().empty().append(e);this.requestLayout(null,false)}},move:function(e){if(!this.$k||ss.isNullOrUndefined(e)||ss.isValue(this.$o)&&this.$o.x===e.x&&this.$o.y===e.y){return}this.$l=e;this.requestLayout(null,false)},close:function(){this.set_freezePositionWhileOpen(false);this.$p=false;if(!this.$k){return}this.detach();this.$k=false;this.onClosed()},hideUntilReposition:function(){this.element.hide();this.$p=true},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$h=null;this.set_freezePositionWhileOpen(false);this.requestLayout(null,false)},requestLayout:function(e,fE){if(!ss.staticEquals(e,null)){this.$m.push(e)}S.getViewport(ss.mkdel(this,function(fF){this.layoutTooltip(fF,fE)}))},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$d:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$d();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,fE){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(fE)){return null}this.$o=e;var fF=ss.isValue(this.$r)&&e.y>=ss.unbox(this.$r)-16;var fG=tab.DoubleUtil.roundToInt(this.element.height());var fH=tab.DoubleUtil.roundToInt(this.element.width());var fI=fE.getVisibleRoom(e,1);var fJ=fG+this.get_verticalOffset();var fK=fH+this.get_horizontalOffset();var fL;var fM;if(fI.roomRight>=fK){fL=true;fM=e.x+this.get_horizontalOffset()}else if(fI.roomLeft>=fK){fL=false;if(fI.roomAbove>=fJ||fI.roomBelow>=fJ){fM=e.x+ss.Int32.trunc(fI.roomRight)-fH}else{fM=e.x-fK}}else{fL=true;fM=Math.max(0,e.x-fH+ss.Int32.trunc(fI.roomRight))}var fN=(this.get_showAbove()?this.$7(e,fI,fJ,fK):this.$8(e,fI,fJ,fK,fF));var fO=fN<=e.y;var fP=new eq;if(fO){if(fL){fP.position='AR'}else{fP.position='AL'}}else if(fL){fP.position='BR'}else{fP.position='BL'}fP.shownX=fM;fP.shownY=fN;fP.tooltipAnchorY=fN;fP.origX=e.x;fP.origY=e.y;fP.viewport=fE;return fP},$g:function(e){if(ss.isValue(e)){var fE=this.$b(e.position);if(!this.element.hasClass(fE)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(fE)}this.$h=e}},$c:function(){if(ss.isValue(this.$h)){this.element.css(ss.mkdict(['left',this.$h.shownX+'px','top',this.$h.shownY+'px']))}},$b:function(e){var fE;switch(e){case'AR':{fE='tab-tooltipAR';break}case'AL':{fE='tab-tooltipAL';break}case'BL':{fE='tab-tooltipBL';break}case'BR':default:{fE='tab-tooltipBR';break}}return fE},layoutTooltip:function(e,fE){this.element.css(ss.mkdict(['top','0','left','0']));if(this.get_freezePositionWhileOpen()){this.$a()}else if(fE){var fF=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(fF)){return}this.$g(fF);this.$c()}else{this.$9();this.onPrePosition();var fG=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(fG)){}if(!this.$e(fG)){this.$c();return}this.$g(fG);this.onPositionCalculated();if(this.$p){this.$p=false;this.$f()}this.$c();this.onPositioned()}},$a:function(){this.$9();this.$f();this.$c();this.onPositioned()},$f:function(){this.element.show();this.$k=true;this.onShowed()},$9:function(){for(var e=0;e<this.$m.length;e++){var fE=this.$m[e];fE()}ss.clear(this.$m)},$e:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$p){return true}if(eq.areShownArgsSame(e,this.$h)){return false}return true},$8:function(e,fE,fF,fG,fH){var fI;if(!fH&&fE.roomBelow>=fF){fI=e.y+this.get_verticalOffset();this.$r=null}else if(!fH&&fE.roomAbove>=fF&&fE.roomRight>=fG){fI=e.y+(ss.Int32.trunc(fE.roomBelow)-fF+this.get_verticalOffset())}else if(fE.roomAbove>=fF){fI=e.y-fF;if(!ss.isValue(this.$r)){this.$r=e.y}}else{fI=Math.max(0,e.y-ss.Int32.trunc(fE.roomAbove))}return fI},$7:function(e,fE,fF,fG){var fH;if(fE.roomAbove>=fF){fH=e.y-fF;if(!ss.isValue(this.$r)){this.$r=e.y}}else if(fE.roomBelow>=fF){fH=e.y+this.get_verticalOffset();this.$r=null}else if(fE.roomAbove>=fF&&fE.roomRight>=fG){fH=e.y+(ss.Int32.trunc(fE.roomBelow)-fF+this.get_verticalOffset())}else{fH=Math.max(0,e.y-ss.Int32.trunc(fE.roomAbove))}return fH},setSuppressTooltip:function(e){this.$q=e;if(this.$q&&this.$k&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,da]);ss.initClass(eX,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.get_tooltip().get_isShown()},get_visualIDPresModel:function(){return this.$1$6},set_visualIDPresModel:function(e){this.$1$6=e},get_tooltip:function(){return this.$1$7},set_tooltip:function(e){this.$1$7=e},get_ubertip:function(){return this.$1$8},set_ubertip:function(e){this.$1$8=e},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$1$9},set_currentBehaviorType:function(e){this.$1$9=e},get_defaultBehaviorType:function(){return this.$1$10},set_defaultBehaviorType:function(e){this.$1$10=e},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$l)},$k:function(){return ss.mkdel(this,this.$4)},get_testUseOnlyLastHoveredObjectID:function(){return eX.$1},set_testUseOnlyLastHoveredObjectID:function(e){eX.$1=e},close:function(){this.get_tooltip().close()},hoverOverObject:function(e,fE,fF,fG,fH,fI,fJ,fK){if(!this.readyForHover){return}if(ss.isNullOrUndefined(fG)){return}var fL=this.getHoverBehavior(fJ);this.switchTooltipMode(fL);var fM=ss.referenceEquals(fG.toString(),eX.$1);var fN=ss.mkdel(this,function(fP){var fQ=fK==='viz'&&eX.isUbertipHtmlEmpty(fP);this.get_currentBehavior().hoverOverObject(e,fH,fQ,fM)});if(fJ==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(fI)&&!this.shouldForceRemoteTooltipForObject(fJ,fG)){if(fM){fN(this.get_ubertip().get_model())}else{var fO=this.getAffectedObjects('mark',fG);this.runBehaviorWithLocalUbertip(fN,fG,fO,fE,fF,fI,fK,fJ,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(fN,{x:fF.x,y:fF.y,w:0,h:0},fK,'on-hover',fJ,null,null,false,null)}},hoverOverWhitespace:function(e,fE){if(!this.readyForHover){return}var fF='W'===eX.$1;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!fF){var fG=this.needRemoteCommand(fE,'whitespace','on-hover',0,null);if(fG===1||fG===2){eX.$1='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},fE,'on-hover','whitespace',null,null,false,null)}}}else if(this.get_tooltip().get_isShown()){eX.$1='W';this.get_tooltip().close()}},hoverOverHeader:function(e,fE,fF,fG,fH){if(!this.readyForHover){return}var fI=fH.length>0&&tab.ActionUtils.getApplicableActions(this.get_visualIDPresModel().worksheet,'on-hover','url').length>0;if(fI){var fJ=!ss.referenceEquals(fH.toString(),eX.$1);this.hoverOverCoordinates(e,fE,fF,fG,null,fH,fJ)}else{this.hoverOverCoordinates(e,fE,fF,fG,null,null,false)}},hoverOverCoordinates:function(e,fE,fF,fG,fH,fI,fJ){if(!this.readyForHover){return}eX.$1=(ss.isValue(fI)?fI.toString():'U');var fK=this.getHoverBehavior(fF);this.switchTooltipMode(fK);var fL=ss.mkdel(this,function(fM){var fN=fG==='viz'&&eX.isUbertipHtmlEmpty(fM);this.get_currentBehavior().hoverOverObject(e,false,fN,false)});this.runBehaviorWithRemoteUbertip(fL,{x:fE.x,y:fE.y,w:0,h:0},fG,'on-hover',fF,fH,fI,fJ,null)},singleSelectComplete:function(e,fE,fF,fG,fH,fI,fJ){var fK=this.getSingleSelectBehavior(fI);this.switchTooltipMode(fK);this.suppressHoverIfNecesary();var fL=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fI==='mark'){var fM=this.getAffectedObjects(fI,fG);this.runBehaviorWithLocalUbertip(fL,fG,fM,fE,fF,fH,fJ,fI,'on-select')}else{var fN={x:fF.x,y:fF.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(fL,fN,fJ,'on-select',fI,null,null,false,null)}},singleSelectCoordinates:function(e,fE,fF,fG,fH){var fI=this.getSingleSelectBehavior(fG);this.switchTooltipMode(fI);var fJ=ss.mkdel(this,function(fK){this.$i(e)});this.runBehaviorWithRemoteUbertip(fJ,{x:fE.x,y:fE.y,w:0,h:0},fF,'on-select',fG,fH,null,false,null)},$i:function(e){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},multiSelectComplete:function(e,fE,fF){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var fG=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);eX.$1='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(fG,fE,fF,'on-select','unspecified',null,null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){eX.$1='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$8));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$c));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$b));this.get_ubertip().remove_ubertipMenuToggled(ss.mkdel(this,this.$e));this.get_ubertip().remove_ubertipMenuClosed(ss.mkdel(this,this.$d));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.get_tooltip().setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.get_defaultBehaviorType()},getHoverBehavior:function(e){return this.get_defaultBehaviorType()},shouldForceRemoteTooltipForObject:function(e,fE){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){eX.$2=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.get_tooltip().setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){this.$7(e)}))},$7:function(e){var fE=ss.isValue(e)&&e.tupleId===0;if(!fE&&!ss.referenceEquals(e.tupleId,eX.$2)){return}var fF=this.get_ubertip().get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(fF)&&fF.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(fF)}},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.get_ubertip().get_model())?this.get_ubertip().get_model().tooltipOffset:null);if(!_.isEqual(e,this.get_ubertip().get_model())){this.get_ubertip().set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var fE=this.get_currentBehavior();fE.detach();var fF=this.$2(e);fF.attach();this.set_currentBehaviorType(e);this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.get_ubertip().prepareForPositioning(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.get_ubertip().get_isShowingFullUbertip()){return}this.get_tooltip().forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_ubertip().showCommandAreaAndActions()}else{this.get_ubertip().hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,fE){var fF=null;if(this.get_hasContextProvider()){if(ss.contains(this.$l.getSelectedObjects(e),fE)){fF=this.$l.getSelectedObjects(e)}else{fF=[fE]}}return fF},isUbertipObjectSelected:function(e){if(ss.isNullOrUndefined(e)){return false}var fE=((this.get_hasContextProvider()&&e.interactedTupleId!==0)?this.$l.isMarkSelected(e.interactedTupleId):e.tupleSelected);if(fE){return true}var fF=e.refLineSelected||e.trendLineSelected;if(fF){return true}var fG=e.imageRegion;var fH=fG==='bottomaxis'||fG==='leftaxis'||fG==='rightaxis'||fG==='topaxis';if(fH){return true}var fI=fG==='xheader'||fG==='yheader';return fI},runBehaviorWithLocalUbertip:function(e,fE,fF,fG,fH,fI,fJ,fK,fL){var fM=fE.toString();if(!ss.referenceEquals(eX.$1,fM)){this.$o=tab.MiscUtil.clearTimeout(this.$o)}eX.$4+=1;eX.$3=this.get_visualIDPresModel();var fN=eX.$4;var fO=ss.mkdel(this,function(fS){this.$f(e,fE,fJ,fN,fS,fM)});var fP=ss.mkdel(this,function(fS){this.$g(fN,fS)});var fQ=new tab.LocalUbertipInfo(fE,fF,fI,false);var fR=this.needRemoteCommand(fJ,fK,fL,fE,fI);if(fR===1){tab.UberTipClientCommands.localAndRemoteUberTipCommand(fG,fJ,this.get_visualIDPresModel(),{x:fH.x,y:fH.y,w:0,h:0},fE,fQ,fO,fP,this.$k(),fL)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(fG,this.get_visualIDPresModel(),fQ,fO)}if(fR===2){this.$o=window.setTimeout(ss.mkdel(this,function(){tab.UberTipClientCommands.remoteOnlyUbertipCommand(fJ,this.get_visualIDPresModel(),{x:fH.x,y:fH.y,w:0,h:0},fP,this.$k(),fL,null,null,false,eX.$2)}),200)}},$g:function(e,fE){if(!this.$5(e.toString())||!ss.isValue(fE)){return}fE.requestId=e;this.updateModelFromServerResponse(fE)},$f:function(e,fE,fF,fG,fH,fI){if(!this.$5(fG.toString())){if(!ss.referenceEquals(this.get_visualIDPresModel(),eX.$3)){this.readyForHover=true}return}if(!ss.isValue(fH)){return}this.$3(fH,e,fG,fF,function(){eX.$1=fI;eX.$2=fE})},runBehaviorWithRemoteUbertip:function(e,fE,fF,fG,fH,fI,fJ,fK,fL){var fM=(ss.isValue(fJ)?fJ.toString():((fH==='whitespace')?'W':'U'));if(!ss.referenceEquals(eX.$1,fM)){this.$o=tab.MiscUtil.clearTimeout(this.$o)}eX.$4+=1;eX.$3=this.get_visualIDPresModel();var fN=eX.$4;var fO=ss.mkdel(this,function(fP){this.$h(e,fF,fN,fP,fM)});tab.UberTipClientCommands.remoteOnlyUbertipCommand(fF,this.get_visualIDPresModel(),fE,fO,this.$k(),fG,fI,fJ,fK,fL)},$h:function(e,fE,fF,fG,fH){if(!this.$5(fF.toString())){if(!ss.referenceEquals(this.get_visualIDPresModel(),eX.$3)){this.readyForHover=true}return}if(ss.isValue(fG)){this.$3(fG,e,fF,fE,null)}else{this.$1();eX.$1=fH}},needRemoteCommand:function(e,fE,fF,fG,fH){if(tsConfig.is_authoring&&this.get_currentBehaviorType()==='sticky'||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||fE!=='mark'&&fE!=='whitespace'||fF!=='on-hover'||this.$m||ss.isNullOrUndefined(this.$l)||this.$l.isMarkSelected(fG)){return 1}return(this.hasViT(fH)?2:0)},hasViT:function(e){return tab.FeatureFlags.isEnabled('VizInTooltip')&&tab.UbertipSerializer.paneContainsViT(tab.ModelUtils.getVisualModelFromVisualId(this.get_visualIDPresModel(),null),e)},$4:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$6:function(){if(!ss.isValue(tsConfig.current_sheet_name)){return true}var e=null;switch(tsConfig.current_sheet_type){case'dashboard':{e=this.get_visualIDPresModel().dashboard;break}case'worksheet':{e=this.get_visualIDPresModel().worksheet;break}case'story':{e=this.get_visualIDPresModel().storyboard;break}default:{break}}return ss.isValue(e)&&ss.referenceEquals(e,tsConfig.current_sheet_name)},$3:function(e,fE,fF,fG,fH){if(!this.$6()){this.$1();return}e.requestId=fF;this.modelUpdateCallback(e);if(!ss.staticEquals(fH,null)){fH()}if(fG==='viz'&&e.isExplicitlyEmpty){var fI=tab.MiscUtil.isNullOrEmpty(e.buttonModels)&&tab.MiscUtil.isNullOrEmpty$1(e.actions)&&tab.MiscUtil.isNullOrEmpty$1(e.actionPMs);var fJ=this.$l.getSelectedObjects('mark');var fK=ss.isValue(fJ)&&ss.isValue(this.get_tooltip().tupleId)&&ss.contains(fJ,this.get_tooltip().tupleId);if(!fK||fI){this.$1();return}}if(ss.isValue(fE)){fE(e)}},$1:function(){this.get_tooltip().close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$8:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$b:function(e,fE){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,fE)}},$c:function(e,fE){var fF=ss.isValue(fE.command)&&fE.command.get_commandType()===23;if(!fF){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,fE)}if(fF){this.$j()}},$j:function(){this.get_tooltip().set_freezePositionWhileOpen(true);var e=null;var fE=ss.isValue(eX.$2)&&ss.unbox(eX.$2)!==0;if(!fE){return}e=eX.$2;this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},'viz','on-select','mark',null,null,false,e)},$e:function(e){this.$n=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$d:function(){this.$n=false;this.get_currentBehavior().handleUbertipMenuClose()},$9:function(){this.get_tooltip().close()},$5:function(e){if(ss.isValue(e)&&!ss.referenceEquals(eX.$4.toString(),e)){return false}return true},$a:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$n){return}var fE=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(fE.x>e.pageX||fE.x+fE.w<=e.pageX||fE.y>e.pageY||fE.y+fE.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(eW,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.$p));eX.prototype.dispose.call(this)},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,fE){var fF=this.getAffectedObjects(e,fE);return e==='mark'&&ss.isValue(fF)&&fF.length>1},showCommandAreaAndActions:function(){this.get_ubertip().showCommandAreaAndActions()},$p:function(){this.get_tooltip().allowMouseEventPassthrough(false)}},eX);ss.initEnum(eY,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(eZ,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(fa,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initClass(fb,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$19},set_model:function(e){this.$19=e;this.$y()},get_isShowingFullUbertip:function(){return this.$13.is(':visible')||this.$10.is(':visible')},$Y:function(){return this.$17&&this.hasSummary()},dispose:function(){this.element.detach();this.$1e.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1e.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1c);this.$d();this.$e();spiff.Widget.prototype.dispose.call(this)},$d:function(){if(!ss.staticEquals(this.$12,null)){this.$1e.remove_positioned(this.$12);this.$12=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$19)){return false}var e=ss.isValue(this.$19.actionPMs)&&this.$19.actionPMs.length>0;var fE=ss.isValue(this.$19.actions)&&this.$19.actions.length>0;return e||fE},hasCommands:function(){if(ss.isNullOrUndefined(this.$19)){return false}return ss.isValue(this.$19.buttonModels)&&this.$19.buttonModels.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$19)){return false}return ss.isValue(this.$19.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingFullUbertip()&&e){this.$1e.requestLayout(ss.mkdel(this,function(){this.$I();this.$14.css('min-width','')}),false)}else{this.$I();this.$14.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1e.get_isShown()){this.element.css('width','');this.$E(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$x()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1e.get_calculatedShownArgs())){return}if(this.$z()){this.updateTooltipAnchor()}else{this.$F()}},$z:function(){return this.get_isShowingFullUbertip()&&!this.$1e.get_freezePositionWhileOpen()},updateTooltipAnchor:function(){if(!this.$b()){return}var e=this.$1e.get_calculatedShownArgs();if(e.shownY===e.tooltipAnchorY){var fE=tab.DoubleUtil.roundToInt(this.$13.outerHeight());e.tooltipAnchorY=e.shownY+fE}},$F:function(){this.$f();var e=this.get_isShowingFullUbertip();this.$I();var fE=!this.$1e.get_isShown()||tab.DoubleUtil.roundToInt(this.element.outerHeight())===0;if(fE){this.$E(false)}else{this.$G(e)}},$G:function(e){var fE=this.$1e.get_calculatedShownArgs();var fF={x:fE.shownX,y:fE.tooltipAnchorY};var fG=fE.viewport.getVisibleRoom(fF,1);var fH=ss.Int32.trunc(fG.roomBelow);var fI=ss.Int32.trunc(fG.roomRight);this.$E(false);this.$14.css('min-width',this.$g()+'px');var fJ=this.$o();if(fJ>this.$1b){this.$1b=fJ}this.$D(this.$1b);var fK=tab.DoubleUtil.roundToInt(this.element.outerHeight());var fL=tab.DoubleUtil.roundToInt(this.$13.outerHeight());var fM=this.$p(fK,fL);if(!e){if(fM>fH||fJ>fI){this.$B(fL);fM=this.$p(fK,fL)}}else if(fJ>fI){this.$C(fJ,fI)}if(fM>fH&&this.$10.outerHeight()>0){this.$S(fH,fM,fF.y)}else{this.$l(fL,fH,fM,fF.y,!e)}},$p:function(e,fE){return 2+(this.$b()?(e-fE):e)},$B:function(e){this.$1e.layoutTooltip(this.$1e.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$1a==='AL'||this.$J()){this.$1e.get_calculatedShownArgs().shownY=this.$1e.get_calculatedShownArgs().shownY+e;this.$1e.get_calculatedShownArgs().tooltipAnchorY=this.$1e.get_calculatedShownArgs().shownY}},$C:function(e,fE){var fF=this.$1e.get_calculatedShownArgs().shownX;var fG=2+e-fE;this.$1e.get_calculatedShownArgs().shownX=Math.max(0,fF-fG)},$S:function(e,fE,fF){var fG=2+fE-e;var fH=fF-fG;this.$1e.get_calculatedShownArgs().shownY=fH;if(!this.$b()){this.$1e.get_calculatedShownArgs().tooltipAnchorY=fH}},$l:function(e,fE,fF,fG,fH){var fI=this.$1e.get_calculatedShownArgs().tooltipAnchorY;if(this.$b()){fI-=e}var fJ=fG+fE;var fK=Math.min(fI,fJ-fF);this.$I();this.$d();this.$12=ss.mkdel(this,function(){this.$H(fE,fF,fK,fG,fH)});this.$1e.add_positioned(this.$12)},$H:function(e,fE,fF,fG,fH){this.$d();this.$E(fH);switch(this.$1a){case'BR':{if(fH){this.$X(fG-tab.DoubleUtil.roundToInt(this.$13.height()),false)}this.$X(fF,fH);break}case'AR':{if(e<fE||!this.$J()){this.$X(fF,fH)}break}case'BL':case'AL':{this.$X(fF,fH);break}default:{break}}},$X:function(e,fE){if(fE){this.$1e.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1e.element.css('top',e+'px')}},$b:function(){return this.$1a==='BL'||this.$1a==='BR'},$J:function(){return(this.$1a==='AR'||this.$1a==='BR')&&this.$1e.get_calculatedShownArgs().shownX>this.$1e.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$18){this.$18=false;if(tab.BaseSession.get_waitHandler().isBusy()){tab.BaseSession.get_waitHandler().reset()}}},hideSpinner:function(){if(tab.BaseSession.get_waitHandler().isBusy()){tab.BaseSession.get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$1a)&&this.$1a===this.$1e.get_calculatedShownArgs().position){return}switch(this.$1e.get_calculatedShownArgs().position){case'AL':case'AR':{this.$15.after(this.$13);this.$14.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$15.before(this.$13);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$1a=this.$1e.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$8()},$8:function(){if(this.element.width()===0){return}var e=this.$o();this.$D(e)},$o:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$19)){this.set_model(e);return}this.$19.requestId=e.requestId;this.$T(e);this.$L(e);this.$P(e);if(tab.VizDataUtils.objectContainsVizInTooltip(this.element)){this.$V(e)}},$P:function(e){var fE=[];var fF=null;var fG=null;if(ss.isValue(this.$19)){fF=fb.$7(e)||fb.$8(e);fG=fb.$4(this.$19,10)}if(ss.isValue(fF)){if(!this.$Y()){e.buttonModels=_.without(e.buttonModels,fF);e.buttonModels.push(fF);fE.push(e.buttonModels.length-1)}}else if(ss.isValue(fG)){e.buttonModels.push(fG)}this.$19.buttonModels=e.buttonModels;this.$O(fE)},$T:function(e){this.$19.selectionHtml=e.selectionHtml;this.$R();if(ss.isValue(this.$19.selectionHtml)&&this.get_isShowingFullUbertip()){this.$x();this.$8()}},$L:function(e){this.$19.actionPMs=e.actionPMs;this.$19.actions=e.actions;this.$K();this.$w()},$V:function(e){if(ss.referenceEquals(this.$19.tooltipHtml,e.tooltipHtml)){return}this.$v(e.tooltipHtml);this.$19.tooltipHtml=e.tooltipHtml;this.$U();this.$Q();this.$1e.requestLayout(null,false)},$w:function(){if(this.$18){this.$18=false;if(ss.isValue(this.$19)){for(var e=0;e<this.$19.actions.length;e++){var fE=this.$19.actions[e];if(ss.referenceEquals(fE.get_name(),this.$Z)){var fF=new p;fF.action=fE;var fG=fF;this.onActionExecuted(fG)}}}}},onCommandExecuted:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,e)}},onActionExecuted:function(e){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,e)}},$e:function(){this.$16.dispose()},$D:function(e){this.element.css('min-width',e+'px');this.$1b=e},$f:function(){this.element.css('min-width','')},$y:function(){this.$e();this.element.show();this.$U();this.$K();this.$O(null);this.$Q();this.$R();this.$x();var e=tab.MiscUtil.isNullOrEmpty$1(this.$19.actions);var fE=tab.MiscUtil.isNullOrEmpty$1(this.$19.actionPMs);var fF=ss.isNullOrEmptyString(this.$19.tooltipHtml);var fG=e&&fE&&fF;if(fG){this.$15.addClass('hide')}else{this.$15.removeClass('hide')}},$x:function(){this.$f();this.$15.css('height','');this.$13.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$D(e)}else if(this.element.width()>0){this.$1b=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$1b=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var fE=-1;var fF=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(fF)){fF=70}if(e>0&&this.$1b>0&&this.$1b>=e&&this.$1b-e<=ss.unbox(fF)){fE=this.$1b}return fE},$g:function(){var e=0;this.$14.find('li').each(function(fE,fF){e+=fF.firstChild.offsetWidth});return e},$I:function(){this.$1e.element.stop();this.$10.stop();this.$13.stop();this.$10.hide();this.$13.hide()},$E:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$10.show()}else{this.$10.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$13.slideDown('fast')}else{this.$13.show()}}},$U:function(){var e=$(this.$19.tooltipHtml);var fE=this.element.find('.tab-ubertipTooltip');var fF=fb.$5(fE);this.$c(e,fF);fE.html('').append(e);this.$W()},$v:function(e){var fE=tab.DomUtil.roomAroundPosition(this.$1e.element.position());var fF=$(e);var fG=fF.find('span[data-tableau="VizInTooltip"] img');var fH=fG.length;var fI=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var fJ=0;fJ<fH;fJ++){var fK=parseInt(fG[fJ].getAttribute('width'))+2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;fI+=parseInt(fG[fJ].getAttribute('height'));if(fK>=fE.roomRight||fI>=fE.roomBelow){this.$1e.hideUntilReposition();return}}var fL=$(this.$19.tooltipHtml);var fM=fL.find('span[data-tableau="VizInTooltip"]');var fN=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var fO=0;fO<fM.length;fO++){var fP=fM[fO];fN+=parseInt(fP.style.height)}if(tab.DoubleUtil.roundToInt(this.$1e.element.outerHeight())-fN+fI>=fE.roomBelow){this.$1e.hideUntilReposition()}},$W:function(){this.$1e.get_body().css('max-width','');this.$1e.element.css('max-width','');tab.VizDataUtils.updateLastVizInTooltipSizes(this.$19.tooltipHtml);var e=SharedWidgets.TabStyles.Spacing.MediumSpace*2;var fE=tab.VizDataUtils.widestVizInTooltip+e;if(fE>740){this.$1e.get_body().css('max-width',(fE+'px').toString());this.$1e.element.css('max-width',(fE+2+'px').toString())}},$c:function(e,fE){ss.clear(this.$1d);var fF=e.find('a.relax-selection');for(var fG=0;fG<fF.length;fG++){this.$A(fF,fG,fE)}},$A:function(e,fE,fF){var fG=e.eq(fE);var fH=fG.children().eq(0);fH.unwrap().unwrap();if(tab.MiscUtil.isNullOrEmpty$3(fH.eq(0).html())){fH.remove();return}if(tsConfig.allow_select){if(fH.css('text-decoration')==='underline'){fH.addClass('tab-selection-relaxation-underlined')}fH.addClass('tab-selection-relaxation');fH.css('text-decoration','');if(fE===fF){fH.addClass('tab-selection-relaxation-selected')}var fI=fG.attr('href');this.$1d.push(new n(fI,fH))}},$R:function(){if(ss.isNullOrUndefined(this.$19.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$19.selectionHtml).removeClass('hide')}},$a:function(e,fE,fF,fG){if(!e.get_hasItems()){return false}var fH=[];fw.newMenuItemsFromCommands(fH,e.get_wrappedCommandItemPresModel().get_commands(),fw.createDropdownMenuCommandHandler,tab.PermissionManager.buildCommandPermission());if(fH.length===0){return false}var fI=this.$j(e);var fJ=new spiff.MenuViewModel(true);fJ.set_menu(new spiff.Menu(fH));var fK=fJ;var fL=ss.mkdel(this,function(){this.$t(fK,fI)});fI.add_click(fL);fK.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var fM=function(){fK.hide()};this.$1e.add_closed(fM);this.$16.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fI.remove_click(fL);fK.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);fK.remove_hidden(ss.mkdel(this,this.$u));this.$1e.remove_closed(fM)})));if(fG){fI.element.fadeIn()}if(fF){fE.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var fN=$('<li></li>');fN.append(fI.element);fE.append(fN);this.$16.add$1(fK);tab.ObjectRegistry.newView(spiff.MenuView).call(null,[fK]);return true},$u:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},$t:function(e,fE){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$u));e.hide();if(!ss.staticEquals(this.$2$3,null)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$u));var fF=new spiff.ShowMenuOptions(fE.element,true);e.show(fF);if(!ss.staticEquals(this.$2$3,null)){this.$2$3(true)}}},$O:function(e){if(!this.$11){return}var fE=false;var fF=$('<ul></ul>');if(ss.isValue(this.$19.buttonModels)){for(var fG=0;fG<this.$19.buttonModels.length;++fG){var fH=this.$19.buttonModels[fG];if(fH.get_isPlaceholder()){continue}if(fH.get_isMenuButton()){var fI=ss.isValue(e)&&ss.contains(e,fG);fE=this.$a(fH.get_asMenuButton(),fF,fE,fI)||fE}else if(fH.get_status()!=='hidden'){var fJ=ss.isValue(e)&&ss.contains(e,fG);this.$9(fH,fF,fE,fJ);fE=true}}}this.$7(fF,fE);if(fE){this.$14.html('').append(fF).removeClass('hide')}else{this.$14.html('').addClass('hide')}},$9:function(e,fE,fF,fG){var fH=this.$i(e);fH.set_context(e.get_legacyCommandModel());this.$6(fH,ss.mkdel(this,this.$s));if(ss.keyExists(fb.$n,e.get_commandType())){fH.element.width(fb.$n[e.get_commandType()])}if(fG){fH.element.fadeIn()}if(fF){fE.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var fI=$('<li></li>');fI.append(fH.element);fE.append(fI)},$i:function(e){var fE=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var fF=fb.$a(fb.$6(e),e.get_name());var fG=$('<div>'+fF+'</div>');fE.setLabelContents(fG)}else{fE.set_label(e.get_name());fE.set_hoverTooltipText(e.get_description())}var fH=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.get_imageRes())){fH.append(e.get_commandType())}else{fH.append(fb.$6(e))}fH.append(' ').append(e.get_status());fE.element.addClass(fH.toString());if(e.get_status()==='disabled'){fE.set_disabled(true)}this.$16.add$1(fE);return fE},$j:function(e){var fE=(ss.isValue(e.get_imageRes())?this.$k(e):fb.$2(e));fb.$3(fE);this.$16.add$1(fE);return fE},$k:function(e){var fE=spiff.LabelButton.newMenuButton();fE.set_hoverTooltipText(e.get_description());var fF=fb.$9(e.get_wrappedCommandItemPresModel().get_iconRes());fb.$0(fE,fF);fb.$d(fE,e,fF);return fE},$7:function(e,fE){if(ss.isValue(this.get_model().buttonModels)){var fF=this.get_model().buttonModels;for(var fG=0;fG<fF.length;fG++){var fH=fF[fG];if(!fH.get_isPlaceholder()){continue}var fI=$("<li><div class='tab-separator'>&nbsp;</div></li>");var fJ=fb.$1(fH);this.$16.add$1(fJ);var fK=$('<li></li>');fK.append(fJ.element);if(fH.get_commandType()===10&&this.$Y()&&fE){var fL=_.filter(this.$19.buttonModels,function(fO){return fO.get_commandType()===2});if(ss.isValue(fL)){var fM=e.children().get(2);fI.insertAfter(fM);fK.insertAfter(fI)}else{var fN=e.children().get(0);fK.insertBefore(fN);fI.insertBefore(fN)}}else{if(fE){e.append(fI)}e.append(fK)}document.documentElement.appendChild(e.first().get(0));fb.$n[fH.get_commandType()]=tab.DoubleUtil.roundToInt(fJ.element.innerWidth());fJ.element.width(fb.$n[fH.get_commandType()]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,fE){var fF=function(){fE(e)};e.add_click(fF);this.$16.add$1(new tab.CallOnDispose(function(){e.remove_click(fF)}))},$s:function(e){var fE=new ba;fE.command=e.get_context();var fF=fE;this.onCommandExecuted(fF)},$q:function(e){var fE=new p;fE.action=e.get_context();var fF=fE;this.onActionExecuted(fF)},$r:function(e){var fE=e.get_context();if(tab.ActionUtils.ubertipActionNeedsToWaitForServerPresModel(fE)){tab.BaseSession.get_waitHandler().showAndLock();this.$18=true;this.$Z=e.get_labelElement().text()}else{var fF=tab.ModelUtils.getVisualModelFromVisualId(this.$19.visualId,null);var fG=[this.$19.tupleId];tab.UberTipClientCommands.executeUbertipAction(fE,fG,fF)}},$K:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$19.actions)&&tab.MiscUtil.isNullOrEmpty$1(this.$19.actionPMs)){this.$10.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$19.actions)){this.$N()}else{this.$M()}},$N:function(){var e=$('<ul></ul>');for(var fE=0;fE<this.$19.actions.length;fE++){var fF=this.$19.actions[fE];this.$h(e,fF.get_name(),fF,ss.mkdel(this,this.$q))}var fG=tab.DoubleUtil.roundToInt(this.element.height());this.$10.html('').append(e).removeClass('hide invisible');var fH=tab.DoubleUtil.roundToInt(this.element.height());if(fH!==fG){this.$1e.requestLayout(null,true)}},$M:function(){var e=$('<ul></ul>');var fE=tab.ModelUtils.getVisualModelFromVisualId(this.$19.visualId,null);if(!ss.isValue(fE)){return}var fF=false;var fG=true;for(var fH=0;fH<this.$19.actionPMs.length;fH++){var fI=this.$19.actionPMs[fH];var fJ=tab.ActionUtils.getActionType(fI);if(!this.$11&&fJ!=='highlight'){continue}var fK=fE.get_vizDataModel();var fL=[this.$19.tupleId];var fM=tab.ApplicationModel.get_instance().get_dataDictionary();var fN=(ss.isValue(fI.linkSpec)?fI.linkSpec.delimiter:null);var fO=tab.VizDataUtils.constructUrlFromString(fM,fI.name,fK,fL,fE.get_worksheetName(),fN);var fP=false;if(fJ==='url'){var fQ=tab.ActionUtils.getUrlActionPm(fI,fE,fL);fP=fQ.item2==='urlConstructionFail';if(ss.isNullOrUndefined(fQ.item1)||ss.isNullOrEmptyString(fO)){fG=false}}if(!fP){this.$h(e,fO,fI,ss.mkdel(this,this.$r))}if(fJ==='filter'||fJ==='url'){fF=true}}if(e.find('li').length>0){var fR=-1;if(ss.isValue(fE.get_sceneModel())){fR=fE.get_sceneModel().get_paneDescriptorCount()}else{}if(fR>1&&fF||!fG){this.$10.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$10.html('').append(e).removeClass('hide invisible')}}},$h:function(e,fE,fF,fG){var fH=spiff.LabelButton.newAnchorButton();fH.set_label(fE);fH.element.addClass('tab-action');fH.set_context(fF);this.$6(fH,fG);this.$16.add$1(fH);var fI=$('<li></li>');fI.append(fH.element);e.append(fI)},$Q:function(){tab.MiscUtil.dispose(this.$1c);if(ss.isNullOrUndefined(this.$19.contentCommands)){return}var e={};for(var fE=0;fE<this.$19.contentCommands.length;fE++){var fF=this.$19.contentCommands[fE];e[fF.get_name()]=fF}for(var fG=0;fG<this.$1d.length;fG++){var fH=this.$1d[fG];if(ss.keyExists(e,fH.$0())){this.$m(fH,e)}}},$m:function(e,fE){var fF=e.$2();var fG=new EventUtils.EventHandleSpec;fG.tap=ss.mkdel(this,function(){if(!fF.hasClass('tab-selection-relaxation-selected')){var fI=fE[e.$0()];this.$n(fF,fI)}});var fH=fG;this.$1c.push(new EventUtils.TableauEventHandler(fF.get(0),fH))},$n:function(e,fE){var fF=ss.mkdict(['isSelected',true]);e.data(fF);e.addClass('tab-selection-relaxation-selected');var fG=new ba;fG.command=fE;this.onCommandExecuted(fG)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(fc,a,{get_keyCombos:function(){return tab.KeyCombos.op_Implicit(new tab.KeyCombo.$ctor3(new tab.KeyModifiers(false,false,false,true,false,false,false,false,false),90,[]))},get_commandId:function(){return{ns:'tabdoc',cmd:'undo'}}},fd,[tab.IKeyboardShortcut]);ss.initClass(fe,a,{});ss.initClass(ff,a,{render:function(){var e=new EventUtils.EventHandleSpec;e.tap=ss.mkdel(this,function(fI){this.props.removeUser(this.props.user)});var fE=e;var fF=EventUtils.EventForwarder.span(fE,{className:'tabUserPillRemove'},'×');var fG=spiff.DOMElements.span({className:'tabUserPillName'},this.props.user.friendlyName);var fH=spiff.DOMElements.div(this.$1(),fG,fF);if(this.props.pillStatus===1){return React.createElement(SharedWidgets.ChromeTooltipWidget,{getContent:ss.mkdel(this,this.$0),defaultSide:'Bottom',width:232},[fH])}else{return fH}},$1:function(){var e='tabUserPill';var fE=this.props.user.friendlyName;var fF=this.props.pillStatus;if(fF===1){e+=' error';fE=null}else if(fF===2){e+=' pending'}return{className:e,title:fE}},$0:function(){var e=$.Deferred();var fE=spiff.DOMElements.div({className:'userPillErrorTooltip'},this.props.errorText);e.resolve(fE);return e}},React.Component);ss.initClass(fg,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(fH){return React.createElement(ff,{removeUser:this.props.removeUser,addUser:this.props.addUser,user:fH,pillStatus:(ss.staticEquals(this.props.userValidator,null)?0:this.props.userValidator(fH)),errorText:(!ss.staticEquals(this.props.invalidUserTextGenerator,null)?this.props.invalidUserTextGenerator(fH):'')})}));var fE=new spiff.ScrollingProps;fE.scrollY=true;fE.scrollbars=true;fE.alwaysShowScrollbarsIfScrollable=true;var fF=fE;var fG=spiff.ScrollingComponent.createScroller(fF,e);return spiff.DOMElements.div({className:'tabUserPillsComponent'},fG)}},React.Component);ss.initClass(fh,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(fE){return fE.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var fE=ss.remove(this.get_props().users,e);if(fE){this.raiseActionEvent(this.$2$1)}},setUsers:function(e){_.each(this.get_props().users,ss.mkdel(this,function(fE){this.removeUser(fE)}));_.each(e,ss.mkdel(this,function(fE){this.addUser(fE)}))}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fi,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},dd,[ss.IDisposable]);ss.initClass(fj,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.$3},get_viewWidget:function(){return this.$5},get_viewSession:function(){return this.$4},get_sheetName:function(){return this.$4.sheetId},dispose:function(){this.$5=null;this.$2.dispose()},setTiledViewer:function(e){this.$5=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var fE=e.layoutStatus;if(ss.isNullOrUndefined(fE)){return}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var fF=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.get_sheetName());if(fF.get_isVisualValid()){this.$5.doTiledViewerRefreshImages(fF.get_tileCacheUrl());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(fj.$1$1,null)){fj.$1$1(this.get_sheetName(),e)}this.$0(e)},incrementCacheVersion:function(){this.$3+=1}},null,[ss.IDisposable,tab.IViewController]);ss.initClass(fk,a,{get_toolbarViewModel:function(){return this.$g.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$h)){this.$h.dispose();this.$h=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var fE=tableau.types.ExportDialogType['ExportImage'];var fF=[];var fG=[];if(this.$g.get_isDashboard()){var fH={};var fI=this.$g.get_viewControllers();if(ss.isValue(fI)){$.each(fI,function(fJ,fK){var fL=fK.get_viewWidget().get_scrollPosition();var fM=fL.x;var fN=fL.y;if(fM!==0||fN!==0){fH[fK.get_sheetName()+'-x']=fM;fH[fK.get_sheetName()+'-y']=fN;fG.push({x:fM,y:fN});fF.push(fK.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,fE,fF,fG)},exportPdf:function(){if(tab.FeatureFlags.isEnabled('NewPdfDialog')){var e=new cp;e.triggerExportPdfUI()}else{if(ss.isValue(this.$h)){this.$h.dispose()}this.$g.$6(ss.mkdel(this,function(fE){this.$h=fE;this.$h.add_closed(ss.mkdel(this,function(){this.$h.dispose();this.$h=null}));this.$h.show()}))}},$3:function(){if(this.$g.get_autoUpdate()){this.$f()}},$5:function(){if(!this.$g.get_autoUpdate()){this.$f()}},$1:function(){return this.$g.get_autoUpdate()},$f:function(){this.$g.set_autoUpdate(!this.$g.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$g.get_autoUpdate());tab.BaseSession.autoUpdate=this.$g.get_autoUpdate();if(this.$g.get_autoUpdate()&&this.$g.get_invalid()){tab.CommandController.get().refreshLayout()}},$2:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(e){var fE;if(tsConfig.is_metrics_view){fE=this.$g.get_session().metricsViewDownloadUrl()}else{fE=this.$6(e)}window.open(fE)},$4:function(){tab.ToolbarServerCommands.refreshData()},$d:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('share')}},$9:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('customviews')}},$a:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('alert')}},$e:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('subscribe')}},$c:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showPerformanceMetrics()}},$b:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('download')}},$8:function(){},$7:function(){},$6:function(e){if(ss.isValue(e)){var fE=e.match(fk.$0);if(ss.isValue(fE)&&fE.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+fE[1]}}return e}},null,[ss.IDisposable]);ss.initClass(fl,a,{add_viewportChanged:function(e){var fE=ss.staticEquals(this.$1$1,null);this.$9(e);if(fE){this.$3()}},remove_viewportChanged:function(e){this.$a(e);if(ss.staticEquals(this.$1$1,null)){this.$4()}},$9:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$a:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_lastViewportRect:function(){return this.$1$2},set_lastViewportRect:function(e){this.$1$2=e},$5:function(){return(ss.isValue(tab.WindowHelper.get_windowParent().visualViewport)?tab.WindowHelper.get_windowParent().visualViewport:tab.WindowHelper.get_windowParent())},$3:function(){if(tabBootstrap.Utility.get_embedMode()!=='crossDomainEmbedded'){try{this.$5().addEventListener('scroll',ss.mkdel(this,this.$0));this.$0();return}catch(e){}}this.$8=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$2))},$4:function(){if(tabBootstrap.Utility.get_embedMode()!=='crossDomainEmbedded'){try{this.$5().removeEventListener('scroll',ss.mkdel(this,this.$0));return}catch(e){}}tab.WindowHelper.cancelAnimationFrame(this.$8)},$0:function(){if(this.$7){this.$6=true;return}this.$7=true;S.getViewport(ss.mkdel(this,this.$1))},$1:function(e){var fE=e.get_dimensions();var fF=ss.isNullOrUndefined(this.get_lastViewportRect())||!tab.RectUtil.isEqual(this.get_lastViewportRect(),fE);if(fF){this.set_lastViewportRect(fE);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}this.$7=false;if(this.$6){this.$6=false;this.$0()}},$2:function(){this.$0();this.$8=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$2))}});ss.initClass(fm,a,{});ss.initClass(fn,a,{});ss.initClass(fo,a,{handleCommandCompleted:function(){this.$0()},handleCommandError:function(){this.$0()},handleCommandStarted:function(e){this.$2=e;this.$1()},$1:function(){if(ss.isNullOrUndefined(this.$2)||ss.isNullOrUndefined(this.$2.get_remoteCommands())){return}var e=this.$2.get_remoteCommands();if(e.length!==1){return}if(ss.isNullOrUndefined(fo.$0)){this.parentNode=document.createElement('div');var fE=this.$3||{waitingTitle:tab.Strings.WaitDialogDefaultTitleStatus};fo.$0=React.createElement(fp,fE);ReactDOM.render(fo.$0,this.parentNode)}},$0:function(){if(!ss.staticEquals(this.$4,null)){this.$4()}fo.$0=null;this.$2=null;_.defer(ss.mkdel(this,this.dispose))}},Q,[ss.IDisposable,tab.IWaitForCommands]);ss.initClass(fp,a,{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.$0(),isModal:true,dialogBodyStyle:{height:200+'px',width:375+'px',overflow:'visible',padding:0},disableAutoFocus:true,onCloseRequest:function(){},positioningBehavior:0,shouldAdjustPositionOnWindowResize:true,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:false,showFooter:false,testId:'WaitingDialog',type:2,zIndex:1000})},$0:function(){return React.createElement(Cancel.WaitingComponent,{message:this.props.waitingMessage,showButton:false,title:this.props.waitingTitle})}},spiff.PureRenderComponent);ss.initClass(fq,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(fr,a,{get_zoneModel:function(){return this.$k.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$k.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$g:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$a()},$c:function(e,fE){if(fE.get_propertyName()==='isActiveZone'){this.$f()}},$a:function(){var e=fe.absolutizeURI(this.get_webZonePresModel().url,true);var fE=tab.WindowHelper.getLocation(window.window).protocol;if(fE==='https:'&&ss.startsWithString(e,'http:')){this.$d(e)}else{this.$e(this.get_webZonePresModel().url)}this.$f()},$d:function(e){var fE=(tsConfig.is_authoring?new cK(e):new cL(e));this.$g().updateContentTemplate(fE)},$e:function(e){if(ss.isNullOrUndefined(this.$h)){this.$h=new cU('frame_'+this.get_zoneModel().get_zoneId(),this.$j)}tab.DomUtil.resize(this.$h.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var fE=fe.absolutizeURI(e,true);this.$h.setSrc(fE,e);if(this.$h.domRoot.parent().length===0){this.$g().updateContentTemplate(this.$h)}},$9:function(){this.$j.setActive()},$f:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$i)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$i=e;this.$i.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(this.$i)}if(this.$j.get_isActiveZone()){this.$i.hide()}else{this.$i.show()}},$b:function(){this.$a()}},ss.makeGenericType(spiff.BaseView$1,[fs]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[fs])]);ss.initClass(fs,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ft,a,{componentDidMount:function(){this.$0.done(ss.mkdel(this,function(e){var fE=new fv;fE.componentType=e;this.setState(fE)}))},render:function(){if(ss.isNullOrUndefined(this.state.componentType)){return null}return React.createElement(this.state.componentType,this.props.initialProps)}},React.PureComponent);ss.initClass(fu,a,{});ss.initClass(fv,a,{});ss.initClass(fw,a,{});ss.initClass(fx,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fy,a,{get_dom:function(){return this.get_template()},get_containerNode:function(){return this.$h.get_containerNode()},get_dashboardView:function(){return this.$h},get_dashboardSpacerSize:function(){return(ss.isNullOrUndefined(this.get_dashboardView())?null:tab.DashboardSizeCalculator.calculateContainerSize(this.get_dashboardView().get_dashboardSize()))},dispose:function(){this.$e();this.$h=tab.MiscUtil.dispose$1(this.$h);this.$g=tab.MiscUtil.dispose$1(this.$g);if(ss.isValue(this.$i)){ReactDOM.unmountComponentAtNode(this.$i)}ss.makeGenericType(spiff.BaseView$1,[fz]).prototype.dispose.call(this)},$e:function(){var e=$(I.tabContainerSelector);e.appendTo(this.get_dom().centeringContainer)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();this.$a();this.get_dom().dashboardSpacer.scroll(ss.mkdel(this,function(e){this.$d()}));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_dom().dashboardSpacer.off('scroll')})))},$9:function(){var e=$(I.tabContainerSelector);e.appendTo(this.get_dom().dashboardSpacer)},$a:function(){if(ss.isValue(this.$j.get_dashboardViewModel())){if(tab.NaturalLanguageUtil.isNlpView()){tab.ModuleManager.load$1('natural-language-layout',[]).done(ss.mkdel(this,function(e){this.$i=dt.createNaturalLanguageLayoutParentElement();dt.whenNaturalLanguageLayoutModuleLoaded(e,this.$i)}))}this.$j.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$c));this.$j.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$c));this.$j.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$c))})));this.$h=tab.ObjectRegistry.newView(bu).call(null,[this.$j.get_dashboardViewModel()]);this.$h.addToDom(this.get_dom().dashboardSpacer);this.colorDashboardSpacer();this.get_dom().dashboardSpacer.css('visibility',(tab.NaturalLanguageUtil.isNlpView()?'hidden':'visible'))}this.resizeDashboardSpacer()},$c:function(){this.resizeDashboardSpacer();this.get_viewModel().raiseWorkbookResized()},resizeDashboardSpacer:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){var e=this.get_dashboardSpacerSize();if(ss.isValue(e)){var fE=null;fE=(tsConfig.is_authoring?{overflow:(this.get_viewModel().get_scrollDashboardArea()?'auto':'')}:{margin:'auto'});this.get_dom().dashboardSpacer.css(fE);var fF=(tsConfig.is_authoring?this.$j.get_dashboardContainerBounds():tab.DashboardSizeCalculator.asRect(e));tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),fF);var fG=tab.FeatureParamsLookup.getBool(57);if(fG){var fH={overflow:'hidden'};$(I.dashboardViewportSelector).css(fH)}else if(BrowserSupport.BrowserSupport.IsIE()){var fI=tab.DashboardSizeCalculator.get_dashboardViewportSizeWithTabs();var fJ={overflow:'hidden'};if(fI.w<e.w||fI.h<e.h){fJ.overflow='auto'}$(I.dashboardViewportSelector).css(fJ)}}else{var fK=this.$j.get_dashboardContainerBounds();var fL={overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){fL.overflow='auto'}this.get_dom().dashboardSpacer.css(fL);tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),fK);this.$f()}if(tsConfig.is_authoring){this.$d()}}},$d:function(){if(ss.isValue(this.get_viewModel().get_dashboardViewModel())&&this.get_viewModel().get_dashboardViewModel().get_isStory()){tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(function(e){e.fireCloseStoryUberMenu()})}},handleFullScreenChanged:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){if(tsConfig.isPublic){spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$c))})))}}else{spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$f))})))}},$f:function(){if(BrowserSupport.BrowserSupport.IsIE()&&BrowserSupport.BrowserSupport.BrowserVersion()<=11){this.get_dom().centeringContainer.css('height','');if(spiff.FullscreenUtil.get_inFullscreenMode()){var e=this.$j.get_dashboardContainerBounds().h;e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();e+=(tsConfig.toolbarContainerVis?tabBootstrap.VizLayoutConstants.get_vizToolbarHeight():0);this.get_dom().centeringContainer.css('height',e+'px')}}},colorDashboardSpacer:function(){var e=this.$j.get_dashboardBackgroundColor();if(ss.isValue(this.$j.get_dashboardViewModel())&&this.$j.get_dashboardViewModel().get_hasGutter()){e=''}this.get_dom().dashboardSpacer.css('background-color',e)},$b:function(){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(e){this.$g=e.createDataConnectionPromptView(this.$j.get_connectionPromptViewModel())}))}},ss.makeGenericType(spiff.BaseView$1,[fz]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[fz])]);ss.initClass(fz,a,{add_dashboardUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$7.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var fE=this.get_dashboardViewModel().get_size();var fF=this.get_dashboardPortSizeContainer();e=fE.w===fF.w&&fE.h===fF.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var fE=_.keys(e);for(var fF=0;fF<fE.length;fF++){var fG=fE[fF];var fH=e[fG];if(fH.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(fH.get_zoneContentViewModel())){return null}return fH.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var fE={l:0,t:0,w:e.w,h:e.h};return fE},get_dashboardContainerBounds:function(){var e=J.getClientBounds();return{l:0,t:0,w:e.w,h:e.h}},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_dashboardUpdated(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bv.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(fE){this.$5=fE.createDataConnectionPromptViewModel(e);this.raiseActionEvent(this.$2$2)}))}else{this.get_connectionPromptViewModel().get_promptUpdated()(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())},raiseWorkbookResized:function(){this.raiseActionEvent(fz.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(fA,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.tab-zone-padding')},get_contentHolder:function(){return this.get_zonePadding()}},spiff.Template,[ss.IDisposable]);ss.initClass(fB,a,{$u:function(){return this.$C},$v:function(e){this.$C=e;this.$b(ss.mkdel(this,function(){this.$C.addToDom(this.get_dom().get_contentHolder())}))},$w:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$u()},get_dom:function(){return this.get_template()},dispose:function(){this.$w().remove_updateZone(ss.mkdel(this,this.$m));this.$w().remove_resizeZone(ss.mkdel(this,this.$k));this.$w().remove_updateZIndex(ss.mkdel(this,this.$l));this.$w().remove_newZoneContent(ss.mkdel(this,this.$e));this.$w().remove_validStateChanged(ss.mkdel(this,this.$p));if(ss.isValue(this.$C)){this.$C.dispose();this.$C=null}this.$q();ss.makeGenericType(spiff.BaseView$1,[fC]).prototype.dispose.call(this)},$q:function(){if(ss.isValue(this.$A)){this.$A.dispose();this.$A.remove_click(ss.mkdel(this,this.$d));this.$A=null}},onViewModelPropertyChanged:function(e,fE){ss.makeGenericType(spiff.BaseView$1,[fC]).prototype.onViewModelPropertyChanged.call(this,e,fE);if(fE.get_propertyName()==='isActiveZone'){this.$r()}if(fE.get_propertyName()==='isReadyZone'){this.$s()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(ss.isNullOrUndefined(this.$A)){this.$A=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$A.setColor(this.$w().get_model().get_dashboardModel().get_backgroundColor());this.$A.set_opaque(true);this.$A.set_preventWebPageScroll(true);this.$A.add_click(ss.mkdel(this,this.$d))}this.$A.show()},$d:function(){this.$w().zoneGlassClicked()},$t:function(){if(ss.isValue(this.$A)&&tab.ApplicationModel.get_instance().get_autoUpdate()){this.$A.element.css('cursor','progress')}},$c:function(){this.$q()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$u())){this.$m();this.$k();if(ss.isValue(this.$w().get_zoneContentViewModel())){this.$e(this.$w().get_zoneContentViewModel())}this.$b(ss.mkdel(this,this.$p))}this.$b(ss.mkdel(this,function(){if(ss.contains(fB.$3,this.$w().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$w().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!BrowserSupport.BrowserSupport.IsIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(fE){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}}))},$r:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$s:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$m:function(){this.$l();this.get_template().domRoot.attr('id',fB.$0(this.get_viewModel().get_zoneId()));this.$r();var e=this.$w().get_zoneType();var fE=e==='layout-flow'||e==='layout-free-form'||e==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',fE);this.get_dom().get_zoneMargin().css(this.$w().get_marginCss());this.get_dom().get_zoneMargin().css(this.$w().get_borderCss());this.get_dom().get_zonePadding().css(this.$w().get_paddingCss());if(ss.contains(fB.zonesThatUseStyledBox,e)){this.get_dom().get_contentHolder().css(this.$w().get_contentContainerCss())}else{var fF=this.$w().get_backgroundColor();if(!ss.referenceEquals(fF,this.$x)){this.get_dom().get_contentHolder().css('background-color',fF);this.$x=fF}}this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',this.$w().get_contentHasDarkBackground());if(ss.isValue(this.$u())&&e==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$p()},$l:function(){var e=this.$w().get_zoneZIndex();if(e!==this.$B){this.$B=e;this.get_template().domRoot.css('z-index',e.toString())}},$k:function(){var e=this.$w();var fE={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};this.get_template().domRoot.css(fE)},$p:function(){if(!this.$w().get_valid()){this.$a();if(tab.ApplicationModel.get_instance().get_isOffline()){return}if(this.$w().get_isVisualValid()){this.$t()}}else{if(ss.isValue(this.$A)){if(!ss.staticEquals(fB.$3$1,null)){fB.$3$1()}}this.$c()}},$j:function(e,fE){var fF=tsConfig.current_sheet_type==='dashboard';var fG=tsConfig.current_sheet_type==='story'&&this.$o();if(e&&(fF||fG)){var fH=this.disposables;var fI=this.get_dom().domRoot[0];var fJ=this.get_viewModel();fH.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fI,ss.mkdel(fJ,fJ.openRichTextEditorDialog)))}var fK=new eF.$ctor1(fE,1);this.$v(fK)},$i:function(e,fE){var fF=tsConfig.current_sheet_type==='dashboard';var fG=tsConfig.current_sheet_type==='story'&&this.$w().get_model().get_isStorySpecific();var fH=tsConfig.current_sheet_type==='story'&&!this.$w().get_model().get_isStorySpecific()&&tab.FeatureFlags.isEnabled('RichTextEditingTextZoneDelta');if(e&&(fF||fG||fH)){var fI=this.disposables;var fJ=this.get_dom().domRoot[0];var fK=this.get_viewModel();fI.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fJ,ss.mkdel(fK,fK.openRichTextEditorDialog)))}var fL=new eF.$ctor1(fE,-1);this.$v(fL)},$h:function(e){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$v(tab.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fE){this.$v(fE.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fE){var fF=fE.createLegacyLegendView(e);this.$v(fF)}))}},$g:function(e){tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fE){this.$y=fE.newFlipboardNavigatorView(e).pipe(function(fF){return fF});this.$z.resolve(this.$w().get_zoneType());this.$y.done(ss.mkdel(this,function(fF){var fG=fF;this.$v(fG);this.$9()}))}))},$f:function(e){if(this.$w().get_objectType()==='button'){this.$v(tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[U,T,Object])).call(null,[e]))}else if(this.$w().get_objectType()==='extension'){this.$v(new ct(e,this.$w()))}},$e:function(e){var fE=this.$w().get_zoneType();var fF=tsConfig.is_authoring&&!tsConfig.is_mobile;switch(fE){case'title':{this.$j(fF,e);break}case'text':{this.$i(fF,e);break}case'size':case'shape':case'color':case'map':{this.$h(e);break}case'current-page':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fG){this.$v(fG.createPageView(e))}));break}case'filter':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fG){this.$v(fG.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{this.$v(tab.ObjectRegistry.newView(bL).call(null,[e]));break}case'paramctrl':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fG){this.$v(fG.createParameterControlView(e))}));break}case'flipboard-nav':{this.$g(e);break}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fG){this.$v(fG.newFlipboardView(e))}));break}case'web':{this.$v(new fr(e,this.$w()));break}case'dashboard-object':{this.$f(e);break}case'bitmap':{this.$v(new cY(e,this.$w()));break}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(fG){this.$v(fG.createPaneTableView(e))}));break}case'layout-flow':{this.$v(tab.ObjectRegistry.newView(cm).call(null,[e]));break}default:{break}}this.$9()},$o:function(){return ss.referenceEquals(this.$w().get_dashboardSheetName(),tsConfig.current_sheet_name)},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!BrowserSupport.BrowserSupport.IsIE()){if(ss.isValue(this.$u())){this.$u().get_rootElement().addClass('fade-in')}}},$n:function(e){this.$w().zoneEntered(true)},$b:function(e){if(ss.contains(fB.$2,this.$w().get_zoneType())){this.$z.done(ss.mkdel(this,function(){this.$y.done(e)}))}else{e()}}},ss.makeGenericType(spiff.BaseView$1,[fC]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[fC])]);ss.initClass(fC,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateZIndex:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateZIndex:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_resizeZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_resizeZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_zoneResized:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_zoneResized:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_newZoneContent:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_newZoneContent:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_validStateChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_validStateChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$n.get_zoneType()},get_objectType:function(){return this.$n.get_objectType()},get_x:function(){return this.$n.get_x()},get_y:function(){return this.$n.get_y()},get_width:function(){return this.$n.get_width()},get_height:function(){return this.$n.get_height()},get_contentHeight:function(){return this.$n.get_contentHeight()},get_contentWidth:function(){return this.$n.get_contentWidth()},get_contentX:function(){return this.$n.get_contentX()},get_contentY:function(){return this.$n.get_contentY()},get_model:function(){return this.$n},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$n.get_dashboardModel().get_isDashboard()},get_contentContainerStyle:function(){return this.$n.get_zoneCommonModel().get_contentStyle()},get_titleSize:function(){if(this.$n.get_hasTitle()){return{w:this.$n.pm.titleWidth,h:this.$n.pm.titleHeight}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(fC.$0,this.get_zoneType())){return false}return this.$l},get_isVisualValid:function(){return(ss.isValue(this.$m)?this.$m.get_isVisualValid():false)},get_zoneZIndex:function(){return fC.calculateZoneZIndex(this.$n)},get_zoneId:function(){return this.$n.get_zoneId()},get_associatedSheet:function(){return this.$n.get_associatedSheet()},get_backgroundColor:function(){var e='';if(this.$c()){e=this.$n.get_dashboardModel().get_zonePlaceholderColor()}return e},get_isActiveZone:function(){return this.$j},set_isActiveZone:function(e){if(this.$j!==e){this.$j=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$k},set_isReadyZone:function(e){if(this.$k!==e){this.$k=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$i},$g:function(){var e=this.$n.get_isFloating()&&this.$n.get_zoneType()==='layout-flow';var fE=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&fE&&this.$n.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$h},get_hasTitle:function(){return this.$n.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute','background-color':'rgba(0, 0, 0, 0)'};if(ss.isValue(this.get_model().get_drawnZoneColor())){e['background-color']=this.get_model().get_drawnZoneColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return $.extend({},this.get_styledBoxModel().get_borderTop().get_cssDictionary(),this.get_styledBoxModel().get_borderLeft().get_cssDictionary(),this.get_styledBoxModel().get_borderBottom().get_cssDictionary(),this.get_styledBoxModel().get_borderRight().get_cssDictionary())},get_contentContainerCss:function(){var e=tab.FormattingConverters.makeStyledBoxCssDict(this.get_contentContainerStyle().get_styledBoxPresModel(),true);if(!this.get_contentContainerStyle().get_hasFill()){e['background-color']=''}if(this.$c()){var fE=tab.ColorModel.fromColorCode(this.$n.get_dashboardModel().get_zonePlaceholderColor());e['background-color']=fE.toString()}return e},get_contentHasDarkBackground:function(){if(ss.contains(fB.zonesThatUseStyledBox,this.get_zoneType())){return this.get_contentContainerStyle().get_hasFill()&&!tab.ColorModel.fromColorCode(this.get_contentContainerStyle().get_fillColor()).isLuminanceAboveThreshold(0.314999997615814)}else{return!ss.isNullOrEmptyString(this.$n.get_drawnZoneColor())&&!tab.ColorModel.fromColorCode(this.$n.get_drawnZoneColor()).isLuminanceAboveThreshold(0.314999997615814)}},get_dashboardSheetName:function(){return this.get_model().get_dashboardModel().pm.sheetPath.sheetName},setActive:function(){tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),this.$n.get_dashboardModel().get_sheetPath())},zoneEntered:function(e){this.$n.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},zoneGlassClicked:function(){tabBootstrap.Utility.sendCommandWithContext('tableau.selectedDisabledZone')},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$m)){this.$m.remove_visualValidStateChanged(ss.mkdel(this,this.$f))}this.$n.remove_updateZone(ss.mkdel(this,this.$b));this.$n.get_zoneCommonModel().remove_resizeZone(ss.mkdel(this,this.$8));this.$n.remove_newZoneContent(ss.mkdel(this,this.$3));this.$n.remove_removeZoneContent(ss.mkdel(this,this.$7));this.$n.get_zoneCommonModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},openRichTextEditorDialog:function(e){switch(this.get_zoneType()){case'title':case'text':{tab.RichTextClientCommands.createTextObjectRichTextEditor(this.get_zoneId(),false);break}default:{break}}cB.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom',this.get_zoneType()+'-zone']))},$e:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$n.get_associatedSheet());if(!ss.referenceEquals(this.$m,e)){if(ss.isValue(this.$m)){this.$m.remove_visualValidStateChanged(ss.mkdel(this,this.$f))}this.$m=e;if(ss.isValue(this.$m)){this.$m.add_visualValidStateChanged(ss.mkdel(this,this.$f))}}},$b:function(){tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$e();this.$f();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}}))},$8:function(){this.raiseActionEvent(this.$2$3);this.raiseActionEvent(this.$2$4)},$a:function(){this.raiseActionEvent(this.$2$2)},$f:function(){var e=true;if(this.$n.get_isDependentOnViz()&&ss.isValue(this.$m)){e=this.$m.get_isVisualValidAndUpToDate()}if(e!==this.$l){this.$l=e;this.raiseActionEvent(this.$2$6)}},forceZoneValidState:function(e){if(e!==this.$l){this.$l=e;this.raiseActionEvent(this.$2$6)}},$2:function(){if(this.$g()){this.zoneContentViewModel=new cn(this.$n);this.$d(this.zoneContentViewModel)}},$6:function(e,fE){var fF=ss.mkdel(this,function(){this.$d(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var fG=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);var fH=fE;if(!ss.isValue(fH.get_quickFilterDisplayPresModel().quickFilter)){return}var fI=tab.ModelUtils.findMatchingFilterModel(fG,fH);if(ss.isValue(fI)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fJ){this.zoneContentViewModel=fJ.createLegacyQuickFilterDisplayViewModel(fH,fI);fF()}))}else{}},$5:function(e){var fE=ss.mkdel(this,function(){this.$d(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});if(this.$n.get_objectType()==='button'){this.zoneContentViewModel=new U(e,this);fE()}else if(this.$n.get_objectType()==='extension'){var fF=new cu(e,this);if(fF.get_isInitialized()){this.zoneContentViewModel=fF;fE();return}var fG=null;fG=ss.mkdel(this,function(){this.zoneContentViewModel=fF;fE();fF.remove_extensionZoneReady(fG)});fF.add_extensionZoneReady(fG)}},$4:function(e){var fE=ss.mkdel(this,function(){this.$d(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});if(tsConfig.allow_filter){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fF){this.zoneContentViewModel=fF.createPageViewModel(e);fE()}))}},$3:function(e){this.$i=false;this.$h=false;var fE=this.$n.get_zoneType();var fF=ss.mkdel(this,function(){this.$d(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var fG=this.$n.get_worksheetName();switch(fE){case'title':{this.zoneContentViewModel=new eG(e);break}case'text':{var fH=new eG(e);fH.options=new eD(false);this.zoneContentViewModel=fH;break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fI){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=fI.createCategoricalLegendViewModel(e,fE,fG,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=fI.createQuantitativeColorLegendViewModel(e,fG,this)}}else{this.zoneContentViewModel=fI.createLegacyLegendViewModel(e,fG,this)}fF()}));return}case'current-page':{this.$4(e);return}case'web':{this.zoneContentViewModel=new fs(e);break}case'dashboard-object':{this.$5(e);return}case'bitmap':{this.zoneContentViewModel=new cZ(e);break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fI){this.zoneContentViewModel=fI.newFlipboardNavigatorViewModel(e);fF()}));return}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fI){this.zoneContentViewModel=fI.newFlipboardViewModel(e,this);fF()}));return}case'filter':{this.$6(fG,e);return}case'highlighter':{this.zoneContentViewModel=new bN(e,tab.ModelUtils.getVisualId(fG),this);break}case'paramctrl':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fI){this.zoneContentViewModel=fI.createParameterControlViewModel(e);fF()}));return}case'viz':{if(tsConfig.is_metrics_authoring){return}tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(fI){this.zoneContentViewModel=fI.createPaneTableViewModel(e)}));break}case'layout-basic':default:{return}}fF()},$9:function(){this.notifyPropertyChanged('titleVisible')},$7:function(){this.dispose()},$d:function(e){if(!ss.staticEquals(this.$2$5,null)){this.$2$5(e)}},$c:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$n.get_hasContent();return e}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IZoneViewModel]);ss.initClass(fD,a,{});(function(){bf.$0=null})();(function(){cz.fontsReadyMetricName='AllFontsDownloaded';cz.uiStabilizedMetricName='UI Stabilized'})();(function(){dU.stylesheetId='tab-renderAndCheckFontLoader';dU.hiddenDivClass='tab-hiddenFontMeasurer';dU.baselineFontClass='tab-baselineFontMeasurer';dU.baselineFontName="'Courier New', Monaco, monospace";dU.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';dU.$4=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);dU.maxLengthToWaitForFontsToDownloadMilliseconds=120000;dU.fontLoadedCheckDelayPerTryMilliseconds=100;dU.ensureFirstRenderPassCompletedDelayMilliseconds=5;dU.maxNumberOfTriesToDownloadFont=1200})();(function(){eg.raiseFontPreparationCompleteDelay=200;var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Light'];var fE=new tab.DownloadableFontProperties;fE.set_fontFamily('Benton Sans');fE.set_weight('bold');fE.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];eg.drawerFontNames=[e,fE];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book'];var fE=new tab.DownloadableFontProperties;fE.set_fontFamily('Benton Sans Low-DPI');fE.set_weight('bold');fE.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];eg.drawerLowDpiFontNames=[e,fE];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Light'];var fE=new tab.DownloadableFontProperties;fE.set_fontFamily('Benton Sans');fE.set_weight('bold');fE.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];var fF=new tab.DownloadableFontProperties;fF.set_fontFamily('Benton Sans');fF.set_style('italic');fF.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book Italic'];eg.nlpFontNames=[e,fE,fF];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book'];var fE=new tab.DownloadableFontProperties;fE.set_fontFamily('Benton Sans Low-DPI');fE.set_weight('bold');fE.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];var fF=new tab.DownloadableFontProperties;fF.set_fontFamily('Benton Sans Low-DPI');fF.set_style('italic');fF.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans SemiDemi Italic'];eg.nlpLowDpiFontNames=[e,fE,fF];eg.$1=null})();(function(){cB.richTextEditingEventType='Formatting.RichTextEditing';cB.richTextEditorOpenedBy='RichTextEditorOpenedBy';cB.richTextEditorOpenedByDoubleClick='DoubleClick';cB.richTextEditorOpenedByContextMenu='ContextMenu';cB.richTextEditorOpenedByChevron='Chevron';cB.richTextEditorOpenedFrom='RichTextEditorOpenedFrom';cB.dashboard='Dashboard';cB.annotation='Annotation';cB.worksheetTitle='WorksheetTitle';cB.worksheetTitleOnDashboard='WorksheetTitleOnDashboard';cB.richTextEditorControl='EditorControl';cB.performanceEventType='Formatting_Performance';cB.performanceKeyMetric='PerformanceMetric';cB.performanceKeyIsInitial='IsInitial';cB.performanceKeyItemCount='ItemCount';cB.performanceKeyWidgetIdentifiers='WidgetIdentifiers';cB.performanceKeyElapsedTime='ElapsedTime'})();(function(){fw.colorSwatchMenuItemClass='colorSwatchMenuItem';fw.$5=['format-workbook']})();(function(){eE.contentElemClassName='tab-textRegion-content';eE.formatIndicatorElemClassName='tab-formatThisZone';eE.$2='tabAuthoringTitleEditArrow';eE.$1="<div {0} class='tab-textRegion'>\n            <div class='tab-textRegion-boundary'>\n                <div class='tab-textRegion-content'></div>\n            </div>\n            <div class='tab-formatThisZone'></div>\n        </div>"})();(function(){eF.formatIndicatorClass='tab-formatThisZone'})();(function(){bp.$3='Authoring';bp.$7='View';bp.$2='AltClick';bp.$6='SingleClick';bp.$4='DashboardAuthoring_ButtonNav';bp.$5='EnterSpaceKey'})();(function(){cr.$0="<div class='tab-extension-error'>{0}</div>"})();(function(){ck.$0="<div class='tab-extension-empty'></div>"})();(function(){cq.$0='<div><iframe></iframe></div>'})();(function(){cs.$0="<div class='tab-extension'></div>"})();(function(){bL.$0=312;bL.widgetClassName='tabDataHighlighterView';bL.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bL.searchResultsListItemClassName='tab-list-item';bL.searchResultsListItemLabelClassName='tab-list-item-label';bL.inactiveTextClassName='tabDataHighlighterViewInactiveText';bL.queryDelayTimerMs=200;tab.ObjectRegistry.registerType(bL,bL).call(null)})();(function(){cK.$0="<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"})();(function(){cL.$0="<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"})();(function(){cU.$0='<div><iframe></iframe></div>'})();(function(){fq.$0="<div class='tab-web'></div>"})();(function(){cW.$0=Math.pow(2,-23)})();(function(){cX.$0="<div class='tab-image'></div>"})();(function(){cY.emptyImageClass='tab-emptyImagePlaceholder';cY.$0='tab-centeredImageWrapper'})();(function(){cl.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(cm,cm).call(null)})();(function(){fA.$0="<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>"})();(function(){fB.$1='tabZoneReady';fB.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];fB.$3=['bitmap','color','shape','size','map','text','web','dashboard-object','paramctrl','filter','highlighter','empty','current-page'];fB.$2=['flipboard-nav'];fB.$3$1=null;tab.ObjectRegistry.registerType(fB,fB).call(null)})();(function(){fC.isActiveZonePropertyName='isActiveZone';fC.isReadyZonePropertyName='isReadyZone';fC.titleVisiblePropertyName='titleVisible';fC.$0=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard']})();(function(){fj.$1$1=null})();(function(){F.hideAppBannerCookie='hideAppBanner';F.redirectToAppStoreDelayInMS=1000;F.playStoreUrl='https://play.google.com/store/apps/details?id=com.Tableau.TableauApp';F.appStoreUrl='https://itunes.apple.com/app/tableau-mobile/id434633927'})();(function(){bE.$1='tab-dataAlertGenericErrorMessage';bE.$0='tab-dataAlertErrorDialogContent'})();(function(){tab.ObjectRegistry.registerType(dv,dv).call(null)})();(function(){tab.ObjectRegistry.registerType(cF,cF).call(null)})();(function(){cj.maxEmailLength=100})();(function(){bz.debounceTimeout=300;bz.maxTitleLength=256;bz.$0=18})();(function(){dR.autoCompleteDebounceTime=200;dR.rowHeight=26;dR.numberOfRowsInViewportWithoutSearchComponent=11})();(function(){bD.editDataAlertUrlParam=':editDataAlert';bD.resumeDataAlertUrlParam=':resumeDataAlert';bD.instanceIdUrlParam=':iid'})();(function(){cc.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){ek.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'/>\n                    <span class='tab-shareLinkInput'/>\n                </label>\n                <div class='tab-shareLinkButtons'/>\n            </div>";ek.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                    <span class='tab-shareEmbedInput'/>\n                </label>\n            </div>";ek.viewStateTemplateOld="\n            <div class='tab-shareViewStateSection ff-AccessibilityViewingToolbarOff'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";ek.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n            </div>";ek.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){ez.characterLimit=2000;ez.characterWarningLimit=1800;ez.messageEditorClass='tabSubscribeMessageEditor';ez.errorMessageClass='tabSubscribeMessageEditorErrorMessage'})();(function(){dG.$0="<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"})();(function(){M.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){bm.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){bn.$0='tab-customViews-rename-container';tab.ObjectRegistry.registerType(bn,bn).call(null)})();(function(){bo.maxCustomViewNameLength=255;bo.modeSelect=0;bo.modeManage=1;bo.$1=tab.Logger.getLogger(bo,null)})();(function(){bt.$0="<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>";bt.$1="<div id='tab-dashboard-region' class='tab-dashboard'/>"})();(function(){bu.dashboardRegionId='tab-dashboard-region';bu.dashboardGutterCssSelector='.tab-gutter';tab.ObjectRegistry.registerType(bu,bu).call(null)})();(function(){fx.centeringContainerSelector='#centeringContainer';fx.$1="<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>";fx.$2="<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"})();(function(){eM.$1='tabToolbarButtonImg';eM.$2='tabToolbarButtonText';eM.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){m.$0=10;m.$1=600})();(function(){fk.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){dX.$1="<div class='tab-right-area-drawer-module-loader'></div>"})();(function(){ea.$2="<div class='tab-right-area-drawer'></div>";ea.$1="<div id='right-panel'></div>"})();(function(){X.$7='Cancel_Dialog';X.$5='ElapsedTimeBeforeCancelledMS';X.$6='ElapsedTotalTimeShownMS';X.$4='CommandName';X.$8='CancelStatus';X.$a='Failure';X.$9='CompletedBeforeCancel'})();(function(){V.$0=null})();(function(){S.$b=new Array;S.$a=false;S.$c=null;S.$9=false;if(tabBootstrap.Utility.get_isEmbeddedInsideAnotherPage()){var e=window.addEventListener;if(ss.isValue(e)){e('message',S.$3,false)}else{var fE=S.$3;window.self.attachEvent('onmessage',fE)}S.$9=true}S.$a=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(BrowserSupport.BrowserSupport.IsIE()){S.$1()}})();(function(){dn.$1$1=null})();(function(){er.maxDialogWidth=600;er.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){dg.maxDialogWidth=600;dg.$0={position:'relative',borderColor:SharedWidgets.TabStyles.Colors.F6,borderWidth:SharedWidgets.TabStyles.Sizing.BorderWidth,borderStyle:'solid',padding:SharedWidgets.TabStyles.Spacing.DefaultSpace,maxHeight:'500px',overflowY:'auto',wordWrap:'break-word'};dg.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){eo.editConnectionTestID='SheetReconnectEditConnection';eo.$0='SheetReconnectSignIn'})();(function(){P.dashboardContainerSelector='.dashboardSpacer';P.overlayId='auth-overlay';P.messageEventName='message';P.frameTestHook='dse-frame'})();(function(){cC.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){cy.$0='FileReconnectLocateFile'})();(function(){cf.bodyContainer='<span></span>'})();(function(){bi.$0=false})();(function(){tab.ObjectRegistry.registerType(eb,eb).call(null)})();(function(){tab.ObjectRegistry.registerType(dY,dY).call(null)})();(function(){H.$2="<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>";H.$1="<div id='dashboard-viewport'></div>"})();(function(){eR.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>";eR.$1="\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){eN.$0='tabToolbarButtonFlyoverShown'})();(function(){eT.$7='hideLabels';eT.$a='showLabels';eT.$8='horizontalLabels';eT.$b='stackedLabels';eT.$9='narrow';eT.$6='tab-customviews-modified';eT.$c='.tabToolbarButton';eT.$5='160px';eT.$d=50;tab.ObjectRegistry.registerType(eT,eT).call(null);tab.KeyboardShortcutManager.registerShortcut(new fc);tab.KeyboardShortcutManager.registerShortcut(new dT);tab.KeyboardShortcutManager.registerShortcut(new eK)})();(function(){fy.dashboardSpacerSelector=tab.DomUtil.asClassSelector('dashboardSpacer');tab.ObjectRegistry.registerType(fy,fy).call(null)})();(function(){G.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';G.$4=null;G.$3=null;G.$5=null;G.$6=false;G.$1$1=null;G.$1$2=null;G.$1$3=null;h.$0()})();(function(){I.vizContainerSelector=tab.DomUtil.asIDSelector('viz-client-container');I.toolbarContainerSelector=tab.DomUtil.asIDSelector('toolbar-container');I.tabContainerSelector=tab.DomUtil.asIDSelector('tab-container');I.applicationContainerSelector=tab.DomUtil.asIDSelector('main-content');I.dashboardViewportSelector=tab.DomUtil.asIDSelector('dashboard-viewport');tab.ObjectRegistry.registerType(I,I).call(null)})();(function(){dt.$d=null})();(function(){eU.$1='tab-icon-';eU.$3='toggle-updates';eU.$2=430;eU.publicViewCount=0})();(function(){bA.$0=null;tab.StartupUtils.callOnceAfterInitialBootstrap(function(){tab.ApplicationModel.get_holder().addEventBinding(function(e){bA.$0=bA.new$1(tab.DataAlertDialogModel.get_instance(),bD.editDataAlertId(),bD.isResumeDataAlert())},function(e){bA.$0=tab.MiscUtil.dispose$1(bA.$0)})})})();(function(){ce.$0='http://public.tableau.com/s/download'})();(function(){en.currentViewPath='/shared/';en.$c='http://facebook.com';en.$9=0.75;en.$b=0.75;en.$a=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('ds');e.push('project');e.push('aux');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('showShareOptions');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');e.push('isVizPortal');en.$d=e})();(function(){ey.maxSubscriptionSubjectLength=256;ey.maxSubscriptionEmailLength=100;ey.$0='tabSubscriptionScheduleDropdown';ey.modeMainDialog=0;ey.modeMessage=1;ey.modeSubscribeUsers=2;ey.modeSubscribeGroups=3})();(function(){eO.iconTypeDownload='download';eO.iconTypeShare='share';eO.iconTypeCustomViews='customviews';eO.iconTypeSubscribe='subscribe';eO.iconTypeEdit='edit';eO.iconTypeRedo='redo';eO.iconTypeUndo='undo';eO.iconTypeRevert='revert';eO.iconTypeToggleDataUpdates='toggle-updates';eO.iconTypeRefreshData='refresh';eO.iconTypePublicLogo='public-logo';eO.pauseButton='Pause'})();(function(){bT.desktopLayoutIconClass='tab-icon-desktopLayout';bT.tabletLayoutIconClass='tab-icon-tabletLayout';bT.phoneLayoutIconClass='tab-icon-phoneLayout'})();(function(){tab.ObjectRegistry.registerType(dH,dH).call(null)})();(function(){tab.ObjectRegistry.registerType(em,em).call(null)})();(function(){cd.$1='tabDownloadData';cd.$0='tabDownloadCrosstab';cd.$2='tabDownloadImage';cd.$3='tabDownloadPdf';cd.$4='tabDownloadWorkbook';cd.$5='tabPublicApp';cd.$6=715;tab.ObjectRegistry.registerType(cd,cd).call(null)})();(function(){fz.$2$3=null})();(function(){J.vizClientContainerSelector='.tab-viz-client-container'})();(function(){ec.drawerWidthOpen=320;ec.drawerWidthClosed=0})();(function(){cA.$4=null;cA.$3=null})();(function(){eC.defaultLinePattern='solid';eC.defaultLineJoin='bevel';eC.defaultLineCap='butt';eC.defaultTextBaseline='alphabetic';eC.defaultTextAlign='start';eC.defaultLineDashDashed=[3,1];eC.defaultLineDashDotted=[1,1];eC.defaultLineWidth=1;eC.defaultColor='rgb(0,0,0)';eC.defaultTextColor='rgb(0,0,0)';eC.defaultTextAngle=0;eC.defaultFontName='Arial';eC.defaultFontSize=8;eC.defaultTextUnderline=false;eC.$1=0.01})();(function(){Y.halfPI=0.5*Math.PI;Y.onePI=Math.PI;Y.oneAndHalfPI=1.5*Math.PI;Y.twoPI=2*Math.PI;Y.angleEpsilon=0.000174000000697561})();(function(){bb.$1=':'})();(function(){bq.$3='DashboardAuthoring_AddNewObjectToDashboard';bq.$2='MethodAdded';bq.$1='IsTiled';bq.$0='AddedObjectType'})();(function(){br.type='Dashboard_LoadComplete';br.bothScrollableVizCount='BothScrollableVizCount';br.currentDeviceLayout='CurrentDeviceType';br.dashboardWidth='DashboardWidth';br.dashboardHeight='DashboardHeight';br.detectedDeviceType='DetectedDeviceType';br.filterZonesCount='FilterZonesCount';br.floatingZonesCount='FloatingZonesCount';br.highlighterZonesCount='HighlighterZonesCount';br.imageZonesCount='ImageZonesCount';br.isAutoGenerated='IsAutoGenerated';br.legendZonesCount='LegendZonesCount';br.pannableMapCount='PannableMapCount';br.parameterZonesCount='ParameterZonesCount';br.sheetType='SheetType';br.textZonesCount='TextZonesCount';br.vizCount='VizCount';br.xScrollableVizCount='XScrollableVizCount';br.yScrollableVizCount='YScrollableVizCount';br.viewId='ViewId'})();(function(){if(tsConfig.isUnitTestRun){return}tab.WorldUpdateInterceptor.get().add_onDashboardLoadComplete(function(){bs.track(tab.ModelUtils.findContentDashboard(null))})})();(function(){tab.StartupUtils.callOnceAfterInitialBootstrap(function(){tab.ApplicationModel.get_holder().addEventBinding(function(e){bG.removeLeftoverRefline(tab.DataAlertDialogModel.get_instance())},function(e){})})})();(function(){bK.warningToastTelemetryEventName='DataAlert_CreateAlertButtonClicked';bK.closeOrSubmitButtonClickedEventName='DataAlert_CloseOrSubmitButtonClicked';bK.errorMessageTypeProperty='ErrorMessageType';bK.errorMessageStringProperty='ErrorMessageString';bK.alertButtonClickedType='createAlertButtonClicked';bK.datasourceNoPasswordErrorType='datasourceNoEmbeddedPasswordError';bK.platformPropagatedErrorType='platformPropagatedError';bK.genericDataAlertInitErrorType='genericDataAlertInitError';bK.getDataSourcesApiFailedErrorType='getDataSourcesApiFailedError';bK.submitButtonPressedProperty='SubmitButtonPressed';bK.totalRecipientCountProperty='TotalRecipientCount';bK.invalidUnlicensedRecipientCountProperty='InvalidUnlicensedRecipientCount';bK.invalidViewPermissionsRecipientCountProperty='InvalidViewPermissionsRecipientCount';bK.invalidDownloadPermissionRecipientCountProperty='InvalidDownloadPermissionRecipientCount';bK.invalidEmailRecipientCountProperty='InvalidEmailRecipientCount';bK.operatorTypeProperty='OperatorType';bK.conditionMetProperty='ConditionMet';bK.emailFrequencyProperty='EmailFrequency';bK.submitButtonEnabledProperty='SubmitButtonEnabled';bK.currentUserHasEmailProperty='CurrentUserHasEmail';bK.editModeProperty='EditMode'})();(function(){bO.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){bQ.$6=6})();(function(){cH.simpleRectangleCollider=null;cH.simpleRectangleCollider=function(e,fE){var fF=e.get_geom().x;var fG=e.get_geom().x+e.get_geom().w;var fH=e.get_geom().y;var fI=e.get_geom().y+e.get_geom().h;var fJ=fE.x;var fK=fE.x+fE.w;var fL=fE.y;var fM=fE.y+fE.h;if(fI<fL){return false}if(fH>fM){return false}if(fG<fJ){return false}if(fF>fK){return false}return true}})();(function(){cJ.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){fi.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){dc.$2=0;dc.$1='tabIterButtonDisabled';dc.$0=100})();(function(){di.$0={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){dB.$1=null})();(function(){dp.leafletLibFileName='leaflet';dp.mapboxGLLibFileName='mapbox-gl';dp.nestedProjectExplorerLibFileName='nested-project-explorer';dp.rsaLibFilename='rsa';dp.naturalLanguageLayoutLibFileName='natural-language-layout';dp.naturalLanguageInputBoxLibFileName='natural-language-input-box';dp.naturalLanguageFieldsPanelLibFileName='natural-language-fields-panel';dp.extensionBootstrapLibFileName='api-platform-js';dp.dataAlertsPanelLibFileName='data-alerts-panel';dp.schemaViewerLibFileName='schema-viewer';dp.minSuffix='.min';dp.dataGridModuleDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.ISharedWidgetsDataGrid),null);dp.storyAuthoringDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.IStoryModule),null);dp.fileUploadDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.IFileUploadModule),null);var e=!tsConfig.isUnitTestRun;tab.ModuleManager.register(tab.IFileUploadModule).call(null,'FileUploadModule',null).andLoadOnDemandIf(e);var fE=tab.ModuleManager.register(tab.IConnectionDialogModule).call(null,'ConnectionDialogModule',null).andLoadOnDemandIf(e).moduleBeingConfigured;fE.addDependency(dp.dataGridModuleDependency);fE.addDependency(dp.fileUploadDependency);tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemandIf(e);if(tsConfig.is_authoring){tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring','StoryAuthoring').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(dp.storyAuthoringDependency);tab.ModuleManager.register(tab.IResizeHeadersModule).call(null,'ResizeHeadersModule',null).andLoadOnDemandIf(false);dp.$8()}else{tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e)}dp.$3(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(dp.dataGridModuleDependency);tab.ModuleManager.register(tab.IBinDialogModule).call(null,'BinDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IAliasDialogModule).call(null,'AliasDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(dp.dataGridModuleDependency);tab.ModuleManager.register(tab.ITrendLineDialogModule).call(null,'TrendLineDialog',null).andLoadOnDemandIf(e);dp.$2(e);tab.ModuleManager.registerTypicalRawJsModule('rsa').andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDataConnectionModule).call(null,'DataConnection',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsDataGrid).call(null,'SharedWidgetsDataGridModule',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.ISharedWidgetsPlayground).call(null,'SharedWidgetsPlayground',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadDialogModule).call(null,'DownloadDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadAsVersionDialogModule).call(null,'DownloadAsVersionDialog',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.IDeviceLayoutSelectorModule).call(null,'DeviceLayoutSelector',null).andLoadOnDemandIf(e);if(tab.NaturalLanguageUtil.isNlpView()){dp.$7(e)}dp.$9(e);tab.ModuleManager.registerTypicalRawJsModule('nested-project-explorer').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(dp.dataGridModuleDependency);tab.ModuleManager.registerRawJsModule('@tableau/api-platform-js','api-platform-js','api-platform-js').andLoadOnDemandIf(e).andExportResultAs('ExtensionsApi');dp.$6(e);if(tsConfig.is_mobile){tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneMobile',null).andLoadOnDemandIf(false)}else{tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneWeb',null).andLoadOnDemandIf(false)}tab.ModuleManager.register(tab.ISavingModule).call(null,'Saving',null).andLoadOnDemandIf(e);if(tab.FeatureFlags.isEnabled('RuntimeWebIncrementalUpdate')&&tab.RuntimeUtil.isRuntimeSupported()){tab.ModuleManager.registerRawJsModule('runtimeweb','runtimeweb','runtimeweb.pretty').andLoadOnDemandIf(true)}dp.$4(e);$(function(){define('$',function(){return $});define('jquery',function(){return $});define('React',function(){return React});define('ReactDOM',function(){return ReactDOM});define('react',function(){return React});define('react-dom',function(){return ReactDOM});define('SharedWidgets',function(){return SharedWidgets});define('@tableau/preslayer-api-contract',function(){var fF=new Object;fF.Instance=tab.PluginPresentationLayer.get_instance();return fF});define('@tableau/file-picker-api-contract',function(){var fF=new Object;fF.Instance=dB.get_instance();return fF});define('@tableau/telemetry-api-contract',function(){var fF=new Object;fF.Instance=tab.PluginTelemetry.get_instance();return fF});define('@tableau/shared-widgets',function(){return SharedWidgets});define('@tableau/widgets',function(){return SharedWidgets});define('@tableau/natural-language-input-box',function(){return NaturalLanguageInputBox});define('@tableau/natural-language-fields-panel',function(){return NaturalLanguageFieldsPanel});define('@tableau/browser-support',function(){return BrowserSupport.BrowserSupport});define('@tableau/eventutils',function(){return EventUtils})})})();(function(){dx.$0="<img class='tab-overlayImage'/>"})();(function(){dL.minTitleHeight=17;dL.titlePadding=3;dL.fiItem='FIItem';dL.fiItemSelector='.FIItem';dL.cfInnerContainer='CFInnerContainer';dL.cfInnerContainerSelector='.CFInnerContainer'})();(function(){dM.containerClass='tab-legacy-dropdown-container';dM.containerBorderClass='tab-legacy-qf-bordered';dM.summaryClass='tab-legacy-dropdown-summary';dM.iconContainerClass='tab-legacy-dropdown-icon-container';dM.iconClass='tab-legacy-dropdown-icon'})();(function(){dN.containerClass='tab-legacy-qf-readout-container';dN.containerBorderClass='tab-legacy-qf-bordered';dN.textClass='tab-legacy-qf-readout-text';dN.iconClass='tab-legacy-qf-readout-icon'})();(function(){dQ.autoCompleteDebounceTime=200;dQ.rowHeight=26;dQ.numberOfRowsInViewport=6})();(function(){et.$0='.SmoothTooltipBehavior'})();(function(){eH.$0="<div class='tvimagesContainer'></div>"})();(function(){fa.$0='.tab-tooltipContent';fa.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){eV.defaultVerticalOffset=16;eV.defaultHorizonalOffset=16;eV.$4=16;eV.$2=10;eV.belowRightClass='tab-tooltipBR';eV.belowLeftClass='tab-tooltipBL';eV.aboveRightClass='tab-tooltipAR';eV.aboveLeftClass='tab-tooltipAL';eV.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';eV.$5=null;eV.$3='Tooltip layout was requested, but tooltip position cannot be calulated (shownArgs is null).'})();(function(){fb.$m="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";fb.$r='.tab-ubertipTooltip';fb.$s='.tab-ubertipTooltip span[data-tableau="VizInTooltip"]';fb.$j='.tab-ubertipContent';fb.$e='.tab-ubertipActions';fb.$g='.tab-ubertipCommandArea';fb.$i='.tab-ubertipCommands';fb.$h='.tab-clear';fb.$p='.tab-ubertipSelected';fb.$o='tab-selection-relaxation-selected';fb.$f="<li><div class='tab-separator'>&nbsp;</div></li>";fb.$k=70;fb.$l=2;fb.$q=740;fb.$n=null;fb.$n={}})();(function(){fn.$1$1=null;fn.$1$2=null})();(function(){eX.whitespaceObjectId='W';eX.unknownObjectId='U';eX.$0='mouseleave.basemode';eX.$4=0;eX.$3=null;eX.$2=null;eX.$1='U';eX.vizInTooltipDelayTimerMs=200})();(function(){fl.$0=null})();(function(){fo.$0=null})()})();;
/*! BEGIN RuntimeUI */
(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlruntimeui')})();;
/*! BEGIN RuntimeRendered */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlruntimerendered');var b=function(o){spiff.PureRenderComponent.call(this,o)};b.__typeName='tab.AxisComponent';global.tab.AxisComponent=b;var c=function(o){spiff.PureRenderComponent.call(this,o)};c.__typeName='tab.AxisHolderComponent';global.tab.AxisHolderComponent=c;var d=function(o,p){this.$3=null;g.call(this,o);this.$3=p;this.reactView=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[e,c,Object])).call(null,[p]);this.reactView.addToDom(o)};d.__typeName='tab.AxisHolderElement';global.tab.AxisHolderElement=d;var e=function(o,p){this.$7=null;this.$a=null;this.$5=null;this.$b=null;this.$9=null;this.$c=0;this.$6=0;this.$8=0;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$7=o.get_finalDataStore().AxisOutput;this.$a=p;this.$b=o.get_finalDataStore().VisualLayout;if(this.$a==='bottomaxis'||this.$a==='topaxis'){this.$5=o.get_finalDataStore().XAxisDescriptor;this.$6=0}else{this.$6=1}if(this.$a==='bottomaxis'){this.$8=1;this.$9=this.$b.SceneMarginLeafLayouts.BottomLeafElementLayout}if(this.$a==='topaxis'){this.$8=1;this.$9=this.$b.SceneMarginLeafLayouts.TopLeafElementLayout}if(this.$a==='leftaxis'){this.$8=0;this.$9=this.$b.SceneMarginLeafLayouts.LeftLeafElementLayout}if(this.$a==='rightaxis'){this.$8=0;this.$9=this.$b.SceneMarginLeafLayouts.RightLeafElementLayout}};e.__typeName='tab.AxisHolderViewModel';global.tab.AxisHolderViewModel=e;var f=function(){this.dataType=0;this.min=0;this.max=0;this.rangeType=0;this.scaleType=0;this.foldState=0;this.isReversed=false;this.includeZero=false;this.uniqueID=0;this.axisTitle=null;this.axisSubtitle=null;this.titlePadding=0;this.titleStyleIndex=0;this.key$1=null;this.width=0};f.__typeName='tab.AxisProps';global.tab.AxisProps=f;var g=function(o){this.$2={x:0,y:0};this.$1={w:0,h:0};this.$0={w:0,h:0};this.reactView=null;this.domNode=null;this.$1$1=null;this.domNode=o};g.__typeName='tab.BaseSceneMarginElement';global.tab.BaseSceneMarginElement=g;var h=function(o){spiff.PureRenderComponent.call(this,o)};h.__typeName='tab.BottomHeaderComponent';global.tab.BottomHeaderComponent=h;var i=function(){this.text=null;this.width=0;this.height=0;this.top=0;this.left=0;this.rotation=0;this.key$1=null;this.style=null};i.__typeName='tab.BottomHeaderProps';global.tab.BottomHeaderProps=i;var j=function(){};j.__typeName='tab.DatastoreHeaderAdapter';j.buildFromDatastore=function(o,p){return{totalFillColor:tab.ColorModel.fromArgbInt(o.TotalFillColor[p]),selectedTextColor:tab.ColorModel.fromArgbInt(o.SelectedTextColor[p]),selectedFillColor:tab.ColorModel.fromArgbInt(o.SelectedFillColor[p]),subtotalFillColor:tab.ColorModel.fromArgbInt(o.SubtotalFillColor[p]),brushedColor:tab.ColorModel.fromArgbInt(o.BrushedColor[p]),hoverColor:tab.ColorModel.fromArgbInt(o.HoverColor[p]),tickColor:tab.ColorModel.fromArgbInt(o.TickColor[p]),fillColor:tab.ColorModel.fromArgbInt(o.FillColor[p]),bandSize:o.BandSize[p],bandLevel:o.BandLevel[p],bandColor:tab.ColorModel.fromArgbInt(o.BandColor[p]),textColor:tab.ColorModel.fromArgbInt(o.TextColor[p]),isXAxis:o.IsXAxis[p],selectedTickColor:tab.ColorModel.fromArgbInt(o.SelectedTickColor[p]),fieldName:o.FieldName[p]}};j.buildHeadersFromAxisDescriptor=function(o){var p={};var q={};for(var r=0;r<o.Nodes.Id.length;r++){var s=o.Nodes.Id[r];var t={label:o.Nodes.Label[r],isLeaf:o.Nodes.IsLeaf[r],id:s,headerId:o.Nodes.HeaderId[r],children:[]};q[s]=t;var u=o.Nodes.ParentId[r];if(u!==-1){q[u].children.push(t)}}for(var v=0;v<o.Headers.Id.length;v++){var w=o.Headers.Id[v];p[w]={id:w,duplicateFieldIndex:o.Headers.DuplicateFieldIndex[v],header:q[o.Headers.NodeId[v]]}}for(var x=0;x<o.PerHeaderFields.HeaderId.length;x++){var y=p[o.PerHeaderFields.HeaderId[x]];y.dataType=o.PerHeaderFields.DataType[x]}return p};global.tab.DatastoreHeaderAdapter=j;var k=function(){};k.__typeName='tab.DatastorePropsBuilder';k.titleStyleFromDatastore=function(o){return{textOrientation:tab.EnumConversions.textOrientFromInt(o.text_orientation),fontStyle:tab.EnumConversions.tableauFontStyleFromInt(o.font_style),textWrapMode:o.text_wrap_mode,hAlign:o.hAlign,vAlign:o.vAlign,fontWeight:tab.EnumConversions.fontWeightFromInt(o.font_weight),textDecoration:o.text_decoration,font:o.font,color:tab.ColorModel.fromArgbInt(o.text_style_color)}};global.tab.DatastorePropsBuilder=k;var l=function(o){spiff.PureRenderComponent.call(this,o)};l.__typeName='tab.HeaderHolderComponent';global.tab.HeaderHolderComponent=l;var m=function(o,p){this.$3=null;g.call(this,o);this.$3=p;this.reactView=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[n,l,Object])).call(null,[p]);this.reactView.addToDom(o)};m.__typeName='tab.HeaderHolderElement';global.tab.HeaderHolderElement=m;var n=function(o,p){this.$6=null;this.$5=null;this.$7={w:0,h:0};ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$6=o;this.$5=p};n.__typeName='tab.HeaderHolderViewModel';global.tab.HeaderHolderViewModel=n;ss.initClass(b,a,{render:function(){return spiff.DOMElements.div({className:'tab-vizAxisWrapper',style:{width:this.props.width+'%'}},spiff.DOMElements.div({className:'tab-vizAxis'},this.props.axisTitle))}},spiff.PureRenderComponent);ss.initClass(c,a,{render:function(){var o=_.map(this.props.axes,function(r){var s={className:'tab-vizAxisItem',key:r.key$1};return spiff.DOMElements.div(s,React.createElement(b,r))});var p=spiff.DOMElements.div({className:'tab-vizAxisHolderWrapper'},spiff.DOMElements.div({className:'tab-vizAxisHolder',style:{width:this.props.width+'px'}},o));var q=_.map(this.props.bottomHeaders,function(r){var s={className:'tab-vizAxisItem',key:r.key$1};return spiff.DOMElements.div(s,React.createElement(h,r))});return spiff.DOMElements.div({className:'tab-vizAxisHolderWrapper'},spiff.DOMElements.div({className:'tab-vizAxisHolder',style:{width:this.props.width+'px',height:this.props.height+'px'}},q))}},spiff.PureRenderComponent);ss.initClass(g,a,{add_loadComplete:function(o){this.$1$1=ss.delegateCombine(this.$1$1,o)},remove_loadComplete:function(o){this.$1$1=ss.delegateRemove(this.$1$1,o)},get_canScrollX:function(){return true},get_canScrollY:function(){return true},get_docSize:function(){return this.$1},get_actualViewSize:function(){return this.$0},set_actualViewSize:function(o){this.$0=o},get_effectiveViewSize:function(){return this.$0},get_hasContent:function(){return true},get_scrollPos:function(){return this.$2},set_scrollPos:function(o){this.$2=o},setXPos:function(o){var p=this.get_scrollPos();this.set_scrollPos({x:o,y:p.y});this.reactView.get_rootElement().children().scrollLeft(o)},setYPos:function(o){var p=this.get_scrollPos();this.set_scrollPos({x:p.x,y:o});this.reactView.get_rootElement().children().scrollTop(o)},refreshImages:function(o){},destroy:function(){},resize:null,reset:function(o,p){this.$1=p;this.resize({w:o.w,h:o.h})}},null,[spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(d,a,{resize:function(o){this.$3.set_width(o.w)}},g,[spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(e,a,{get_width:function(){return this.$c},set_width:function(o){this.$c=o;this.incrementProps()},createInitialProps:function(){return this.createUpdatedProps()},createUpdatedProps:function(){var o=this.$7.YAxisTable;if(this.$a==='bottomaxis'||this.$a==='topaxis'){o=this.$7.XAxisTable}var p=this.$b.SceneMarginLayout.PixelSize[this.$6];var q=j.buildFromDatastore(this.$7.Style,this.$6);var r=_.filter(_.map(o.FoldState,function(x,y){return{key:y,value:x}}),function(x){return x.value===0});var s=_.filter(this.$5.Nodes.Label,function(x,y){return y!==0});var t=0;var u=this.$9.AlongAxisPixelSize[0];var v=_.map(s,ss.mkdel(this,function(x){var y=t;t+=u;var z=new i;z.width=u;z.height=p;z.rotation=this.$8;z.left=y;z.top=0;z.key$1=this.$a+y;z.text=x;z.style=q;return z}));var w=_.map(r,ss.mkdel(this,function(x){var y=x.key;var z=new f;z.dataType=o.DataType[y];z.min=o.Min[y];z.max=o.Max[y];z.rangeType=o.RangeType[y];z.scaleType=o.ScaleType[y];z.foldState=o.FoldState[y];z.isReversed=o.IsReversed[y];z.includeZero=o.IncludeZero[y];z.uniqueID=o.UniqueID[y];z.axisTitle=(ss.isNullOrUndefined(o.AxisTitle)?'':o.AxisTitle[y]);z.axisSubtitle=(ss.isNullOrUndefined(o.AxisSubtitle)?'':o.AxisSubtitle[y]);z.titlePadding=o.TitlePadding[y];z.titleStyleIndex=o.TitleStyleIndex[y];z.width=100/r.length;z.key$1=this.$a+y;return z}));return{axes:w,bottomHeaders:v,width:this.$c,height:p,style:q}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(f,a,{});ss.initClass(h,a,{render:function(){var o=null;if(this.props.rotation===1){o={top:this.props.top+this.props.height,left:this.props.left,width:this.props.height,height:this.props.width,textAlign:'right',transform:'rotate(-90deg)',transformOrigin:'0% 0%'}}else{o={top:this.props.top,left:this.props.left,width:this.props.width,height:this.props.height}}return spiff.DOMElements.div({className:'tab-vizBottomHeaderWrapper',style:o},spiff.DOMElements.div({className:'tab-vizBottomHeader'},this.props.text))}},spiff.PureRenderComponent);ss.initClass(i,a,{});ss.initClass(j,a,{});ss.initClass(k,a,{});ss.initClass(l,a,{render:function(){return spiff.DOMElements.div({className:'tab-vizHeaderHolder',style:{width:this.props.width+'px',height:this.props.height+'px',background:this.props.background}},'Header')}},spiff.PureRenderComponent);ss.initClass(m,a,{resize:function(o){this.$3.set_size(o)}},g,[spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(n,a,{get_size:function(){return this.$7},set_size:function(o){this.$7=o;this.incrementProps()},createInitialProps:function(){return{}},createUpdatedProps:function(){return{width:this.$7.w,height:this.$7.h,background:((this.$5==='xheader')?'Aquamarine':'Plum')}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])])})();;
/*! BEGIN VizZone */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzone');var b=function(){};b.__typeName='tab.$0';var c=function(){};c.__typeName='tab.$1';var d=function(L,cG){this.$1$1=null;this.$1$2=0;this.$1(L);this.$3(cG)};d.__typeName='tab.$10';var e=function(){this.$3=[]};e.__typeName='tab.$11';e.$1=function(L,cG,cH){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var cI=cG.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(cI)||ss.isNullOrUndefined(cI.get_visualListPM().drawItems)){return}var cJ=cI.get_visualListPM().drawItems;var cK={};var cL=L.ri.length;for(var cM=0;cM<cL;cM++){var cN=L.ri[cM];cK[cN.r]=cN}var cO=null;if(ss.isValue(cG)&&ss.isValue(cG.get_scene())){cO=cG.get_scene().get_imageDictionary()}var cP=tab.RenderUtil.calculatePixelRatio(true);var cQ=cG.get_visualModel().get_backgroundColor();var cR=[{name:'uleft'.toString(),node:cH.topLeftSpacer},{name:'uright'.toString(),node:cH.topRightSpacer},{name:'lleft'.toString(),node:cH.bottomLeftSpacer},{name:'lright'.toString(),node:cH.bottomRightSpacer}];for(var cS=0;cS<cR.length;cS++){var cT=cR[cS];var cU=cK[cT.name];if(ss.isNullOrUndefined(cU)){continue}var cV=cT.node;var cW=cV.get(0).firstChild;var cX=ss.safeCast(cW,ss.isValue(cW)&&(ss.isInstanceOfType(cW,Element)&&cW.tagName==='CANVAS'));if(ss.isNullOrUndefined(cX)){continue}e.$2(cX,cQ,cP,cU,cJ,cO)}};e.$2=function(L,cG,cH,cI,cJ,cK){var cL=(cG.get_isOpaque()?'opaque':'transparent');var cM=tab.CanvasRenderer.getRenderContext(L,cL);cM.clearRect(0,0,L.width,L.height);cM.set_shapeFillStyle(cG.toString());cM.fillRect(0,0,L.width,L.height);cM.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(cH,1)){tab.CanvasUtil.scaleCanvasDrawing(cM,cH)}var cN=new z(L,cM,bg.defaultColors);cN.set_renderOffset({x:cI.x,y:cI.y});var cO=cN;cO.renderDrawItems(cJ,null,cK,null)};e.$0=function(L,cG){var cH=L.get(0).firstChild;if(!(ss.compareStrings(cH.tagName,cG,true)===0)){cH=document.createElement(cG);L.children().first().replaceWith(cH)}return cH};var f=function(){this.$4=null;this.$1=0;this.$1=-1};f.__typeName='tab.$12';var g=function(L){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=L;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};g.__typeName='tab.$2';var h=function(L){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=L.get_alpha();this.$4=L.get_lineJoin();this.$3=L.get_lineCap();this.$5=L.get_linePattern();this.$8=L.get_strokeStyle();this.$6=L.get_lineWidth();this.$a=L.get_textAngle();this.$2=L.get_font();this.$7=L.get_shapeFillStyle();this.$b=L.get_textFillStyle();this.$9=L.get_textAlign()};h.__typeName='tab.$3';var i=function(L,cG){this.$1=null;this.$0=null;this.$1=L;this.$0=cG};i.__typeName='tab.$4';var j=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};j.__typeName='tab.$5';var k=function(L){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=L;this.$9=false;this.$a=0};k.__typeName='tab.$6';var l=function(L){this.$a=0;this.$c=-1;this.$b=null;this.$9=true;this.$1$1=null;this.$1$2=null;this.$a=L;this.$c=-1;this.$9=true};l.__typeName='tab.$7';var m=function(L,cG){this.$1$1=null;this.$1$2=0;this.$1(L);this.$3(cG)};m.__typeName='tab.$8';var n=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var L=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(L);this.$7.css(L);this.$6.css('left','0px');this.$7.css('right','0px');if(BrowserSupport.BrowserSupport.IsIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};n.__typeName='tab.$9';var o=function(L){this.$4=null;this.dragType=0;this.visualId=null;this.dragDictionary=null;this.dragOffset=null;this.vizRegion=null;this.scrollOffset=null;this.$3=new s;this.$4=null;this.dragType=0;this.visualId=L.visualId;this.dragDictionary=null;this.dragOffset={x:0,y:0};this.vizRegion={x:0,y:0,w:0,h:0};this.scrollOffset={x:0,y:0}};o.__typeName='tab.AnnotationDragHandler';o.getBestConnectionPoint=function(L,cG){var cH=tab.RectXYUtil.getCenter(cG);var cI=cG.x;var cJ=cG.x+cG.w;var cK=cG.y;var cL=cG.y+cG.h;var cM=cH.x;var cN=cH.y;var cO=L.x>=cI&&L.x<=cJ&&L.y<=cK;var cP=L.x>=cI&&L.x<=cJ&&L.y>=cL;var cQ=L.y>=cK&&L.y<=cL&&L.x<=cI;var cR=tab.PointUtil.subtract(L,{x:cI,y:cK});var cS=tab.PointUtil.subtract(L,{x:cJ,y:cK});var cT=tab.PointUtil.subtract(L,{x:cI,y:cL});var cU=tab.PointUtil.subtract(L,{x:cJ,y:cL});if(cO||-cR.y>=Math.abs(cR.x)||-cS.y>Math.abs(cS.x)){return{x:cM,y:cK}}if(cP||cT.y>=Math.abs(cT.x)||cU.y>Math.abs(cU.x)){return{x:cM,y:cL}}if(cQ||Math.abs(cR.y)<=-cR.x||Math.abs(cT.y)<-cT.x){return{x:cI,y:cN}}return{x:cJ,y:cN}};global.tab.AnnotationDragHandler=o;var p=function(){};p.__typeName='tab.AnnotationDragType';global.tab.AnnotationDragType=p;var q=function(L){this.$0=null;X.call(this,L)};q.__typeName='tab.AnnotationHitTestLink';q.getHitTestResult=function(L,cG){var cH=(ss.isValue(L)?{x:L.x,y:L.y,w:1,h:1}:null);for(var cI=cG.length-1;cI>=0;cI--){if(tab.RectXYUtil.intersectsWith(cH,cG[cI].get_boundingBox())){return[new Z.$ctor1(cG[cI].get_objectId(),2,3)]}}return[Z.createEmptyHitTestResult()]};global.tab.AnnotationHitTestLink=q;var r=function(L,cG){this.visible=false;this.selectedAnnotations=null;this.hoverAnnotation=null;this.visualId=null;this.getAnnotationDictionary=null;this.$d=null;this.$c=null;this.dragHandler=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.visible=false;this.visualId=L;this.getAnnotationDictionary=cG;this.selectedAnnotations={};this.hoverAnnotation=null;this.dragHandler=new o(this);this.$c={x:0,y:0}};r.__typeName='tab.AnnotationSelectionChromeViewModel';r.canAnnotationInCurrentSheetType=function(){return tsConfig.current_sheet_type!=='story'||tab.FeatureFlags.isEnabled('AnnotationInStory')};global.tab.AnnotationSelectionChromeViewModel=r;var s=function(){this.rectShadow=null;this.point1=null;this.point2=null};s.__typeName='tab.AnnotationShadow';global.tab.AnnotationShadow=s;var t=function(){};t.__typeName='tab.AnnotationTelemetryUtil';t.$0=function(L){switch(L){case'area':{return'Area'}case'mark':{return'Mark'}case'point':{return'Point'}default:{return null}}};t.reportCreatedAnnotationTelemetry=function(L){t.$1(L,'Create','Context Menu')};t.reportDeletedAnnotationTelemetry=function(L){t.$1(null,'Delete',L)};t.reportMovedAnnotationTelemetry=function(L){t.$1(t.$0(L),'Move','Drag')};t.reportMovedAnnotationPointTargetTelemetry=function(){t.$1('Point','Move Point Target','Drag')};t.reportResizeAnnotationTelemetry=function(L){t.$1(t.$0(L),'Resize','Drag')};t.$1=function(L,cG,cH){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Annotations',ss.mkdict(['AnnotationType',L,'Action',cG,'ActionFrom',cH]))}};global.tab.AnnotationTelemetryUtil=t;var u=function(L,cG,cH,cI){this.$1=null;this.$0=null;this.$3=null;this.$2=null;this.$0=cI;this.$3=L;this.$1=_.keys(cG);this.$2=cH};u.__typeName='tab.AnnotationVizContextMenuItemsHandler';global.tab.AnnotationVizContextMenuItemsHandler=u;var v=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot;this.canvasElt.css('display','block')};v.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=v;var w=function(L){var cG=function(cH,cI){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$d=null;this.$h=null;this.$i=0;this.$j=null;this.$f=null;this.$k=null;this.$g=false;this.$e=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[L]).call(this,cH,new v);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$h={x:0,y:0};this.$g=false;this.$d=cI;this.context=tab.CanvasRenderer.getRenderContext(this.canvasElt,cI);this.$i=tab.RenderUtil.calculatePixelRatio(true);tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(cG,w,[L],{add_sizeChange:function(cH){this.$3$1=ss.delegateCombine(this.$3$1,cH)},remove_sizeChange:function(cH){this.$3$1=ss.delegateRemove(this.$3$1,cH)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(cH){if(!ss.isValue(this.canvasElt)){return}if(tab.CanvasUtil.isOverCanvasSizeLimit(cH.w,cH.h,this.get_pixelRatio())){this.$i=1}if(this.get_effectiveViewSize().w!==cH.w||this.get_effectiveViewSize().h!==cH.h){this.$f={w:cH.w,h:cH.h};tab.CanvasUtil.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$f);if(this.$d==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor().toString());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$f)){return this.$f}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$i},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(cH){if(!tab.PointUtil.equals(this.scrollOffset,cH)){var cI=tab.PointDUtil.timesScalar(cH,this.$i);var cJ=tab.PointDUtil.round(cI);var cK=tab.PointUtil.subtract(cJ,this.$h);var cL=tab.PointUtil.subtract(cH,this.scrollOffset);this.$h=cJ;this.scrollOffset=cH;if(this.get_backgroundFillColor().get_isOpaque()){if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var cM={x:-cL.x,y:-cL.y};var cN=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),cM);this.set_dirtyRect(cN)}if(cL.x!==0&&cL.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var cO=cK.x;var cP=cK.y;var cQ=this.get_actualViewSize().w-Math.abs(cO);var cR=((cO>0)?cO:0);var cS=((cO>0)?0:-cO);var cT=this.get_actualViewSize().h-Math.abs(cP);var cU=((cP>0)?cP:0);var cV=((cP>0)?0:-cP);if(cQ<=0||cT<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,cR,cU,cQ,cT,cS,cV,cQ,cT);var cW={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(cL.x>0){cW.x=cW.w-cL.x}else if(cL.x<0){cW.w=-cL.x}if(cL.y>0){cW.y=cW.h-cL.y}else if(cL.y<0){cW.h=-cL.y}if(cL.x===0){cW.h=Math.abs(cL.y)}if(cL.y===0){cW.w=Math.abs(cL.x)}cW=tab.RectXYUtil.dialate(cW,3);this.invalidateRect(cW,true)}}}else{this.invalidate(true)}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(cH){if(ss.isValue(this.context)){this.context.dirtyRect=cH}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$j)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$j));this.$j=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[L]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(cH){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.$c(cH)},invalidateRect:function(cH,cI){var cJ;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){cJ=tab.RectXYUtil.clone(cH)}else{cJ=tab.RectXYUtil.union(this.get_dirtyRect(),cH)}if(cJ.x<0){cJ.x=0}if(cJ.x+cJ.w>this.get_effectiveViewSize().w){cJ.w=this.get_effectiveViewSize().w-cJ.x}if(cJ.y<0){cJ.y=0}if(cJ.y+cJ.h>this.get_effectiveViewSize().h){cJ.h=this.get_effectiveViewSize().h-cJ.y}this.set_dirtyRect(cJ);this.$c(cI)},setXPos:function(cH){this.set_scrollPos({x:cH,y:this.get_scrollPos().y})},setYPos:function(cH){this.set_scrollPos({x:this.get_scrollPos().x,y:cH})},redraw:null,redrawFinished:null,$c:function(cH){if(cH){this.$a();this.redraw();this.$9();if(ss.isValue(this.$j)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$j));this.$j=null}this.redrawFinished()}else if(ss.isNullOrUndefined(this.$j)){this.$a();this.$j=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$b))}},$b:function(){if(ss.isValue(this.$j)){this.$c(true)}},$a:function(){this.$k=this.$k||tab.BaseSession.get_waitHandler();var cH=!this.$g&&this.$k.isBusy();if(cH){this.$k.addref(false,true);this.$g=true;return true}if(ss.isNullOrUndefined(this.$e)){this.$e=tab.CompletionMonitor.get_instance().hold(1)}return false},$9:function(){if(this.$g){this.$k=this.$k||tab.BaseSession.get_waitHandler();this.$k.release();this.$g=false}if(ss.isValue(this.$e)){this.$e.dispose();this.$e=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable]});return cG};w.__typeName='tab.CanvasView$1';ss.initGenericClass(w,a,1);global.tab.CanvasView$1=w;var x=function(L,cG){this.$i=null;this.$j=null;this.$k=null;cc.call(this,L,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=cG};x.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=x;var y=function(){this.$0=null;this.$1=null;cd.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};y.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=y;var z=function(L,cG,cH){this.$c=null;tab.CanvasRenderer.call(this,L,cG);this.$c=cH||bg.defaultColors};z.__typeName='tab.DisplayList2DRenderer';z.setTextProperties=function(L,cG,cH){L.set_textFillStyle(cG.color);var cI=new ss.StringBuilder;if(cG.fontStyle==='font-style-italic'){cI.append('italic ')}if(cG.fontWeight==='font-weight-bold'){cI.append('bold ')}if(ss.isValue(cG.textDecoration)&&cG.textDecoration==='text-decoration-underline'){L.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(cH)||cH<=0){cH=cG.fontSize}var cJ=z.$1(cG.fontName);cI.append(cH+'pt '+cJ);L.set_font(cI.toString());L.set_textBaseline(tab.FormattingConverters.getTextBaseline(cG.valign))};z.resolveLineCap=function(L,cG){var cH='butt';if(L!=='dashed'&&L!=='dotted'){cH=(ss.isValue(cG)?tab.CanvasRenderer.toCanvasLineCap(cG):tab.TabRenderContext2D.defaultLineCap)}return cH};z.$1=function(L){var cG=z.$a.cl[L];if(ss.isValue(cG)){return cG}var cH=ss.trimString(L,[39,34]);var cI=cH.split(' ');var cJ=[];for(var cK=cI.length;cK>0;--cK){cJ.push(tab.FormattingConverters.addQuotationMarks(cI.join(' '),true));cI.pop()}tab.FormattingConverters.addDefaultFontForTableau(cJ);var cL=cJ.join(', ');z.$a.add(L,cL);return cL};z.$0=function(L,cG){var cH=cG;L.set_textFillStyle(tab.ColorModel.convertColorForCanvas(cH.color));if(ss.isValue(cH.angle)){var cI=cH.angle*Math.PI/180;L.set_textAngle(cI)}else{L.set_textAngle(0)}var cJ=new ss.StringBuilder;if(cH.isItalics){cJ.append('italic ')}if(cH.isBold){cJ.append('bold ')}if(cH.isStrikeThrough){}var cK=tab.TabRenderContext2D.defaultTextAlign;if(L.get_isTextAngleHorizontal()){var cL=cH.horizontalLabelAlignment||'h-align-left';if(cL==='h-align-right'){cK='end'}}else{var cM=cH.verticalLabelAlignment||'v-align-top';if(L.get_textAngle()<0&&cM==='v-align-top'||L.get_textAngle()>0&&cM==='v-align-bottom'){cK='end'}}L.set_textAlign(cK);L.set_shouldUnderlineText(cH.isUnderlined||false);var cN=cH.fontName||'Arial';cN=z.$1(cN);var cO=cH.pointSize||8;cJ.append(cO+'pt '+cN);L.set_font(cJ.toString())};z.$2=function(L,cG,cH){var cI=cG;if(cI.points.length!==4){return}var cJ=cI.points[2]-cI.points[0];var cK=cI.points[3]-cI.points[1];var cL=cI.points[0]+cJ/2;var cM=cI.points[1]+cK/2;var cN=((cJ<cK)?cJ:cK)/2;var cO=((cJ<cK)?1:(cJ/cK));var cP=((cK<cJ)?1:(cK/cJ));L.save();L.beginPath();L.translate(cL,cM);L.scale(cO,cP);L.arc(0,0,cN,0,tab.CanvasRenderer.twoPI,false);L.closePath();if(cH){L.fill()}else{L.stroke()}L.restore()};z.$3=function(L,cG,cH){var cI=cG.pointsF;if(!cH&&Math.round(L.get_lineWidth())%2===1){cI=ss.arrayClone(cI);for(var cJ=0,cK=cI.length;cJ<cK;++cJ){cI[cJ]+=0.5}}var cL=cG.pathElements;var cM=Math.floor(cI.length/2);if(cM<2){return}L.beginPath();var cN=0;for(var cO=0;cO<cL.length;cO++){var cP=cL[cO];switch(cP){case'moveto':{{L.moveTo(cI[cN],cI[cN+1]);cN+=2}break}case'lineto':{{L.lineTo(cI[cN],cI[cN+1]);cN+=2}break}case'curveto':{{L.bezierCurveTo(cI[cN],cI[cN+1],cI[cN+2],cI[cN+3],cI[cN+4],cI[cN+5]);cN+=6}break}default:{{}break}}}if(cH){L.fill()}else{L.stroke()}};z.$5=function(L){switch(L.type){case'draw-pen':case'draw-solid-brush':case'draw-gradient-brush':case'clip-rect':case'draw-text-props':case'transform':case'transform-pop':case'transform-push':case'draw-antialias':{return true}}return false};z.$6=function(L,cG){if(!cG){return L}var cH=z.$4(L);if(cH.length===0){return L}var cI=ss.arrayClone(L);var cJ=function(cO,cP){var cQ=cI[cO];cI[cO]=cI[cP];cI[cP]=cQ};for(var cK=0;cK<cH.length;cK++){var cL=cH[cK];for(var cM=0;cM<ss.Int32.div(cL.length,2);++cM){var cN=cL.length-1-cM;cJ(cL[cM].item1,cL[cN].item1);cJ(cL[cM].item2,cL[cN].item2)}}return cI};z.$4=function(L){var cG=[];var cH=-99999999;var cI=false;var cJ=-1;var cK=[];for(var cL=0;cL<L.length;cL++){var cM=L[cL];if(cM.type==='draw-text-props'){var cN=cM;cI=ss.isValue(cN.horizontalLabelAlignment)&&cN.horizontalLabelAlignment==='h-align-right';cJ=cL}else if(cI&&cM.type==='draw-text'){var cO=cM;var cP=cO.points[1];if(cP!==cH){if(cK.length>=2){cG.push(cK)}cK=[]}cK.push({item1:cJ,item2:cL});cH=cP}}if(cK.length>=2){cG.push(cK)}return cG};global.tab.DisplayList2DRenderer=z;var A=function(){};A.__typeName='tab.DisplayList2DUtils';A.rectXYFromDrawRect=function(L){return{x:L[0],y:L[1],w:L[2]-L[0],h:L[3]-L[1]}};A.rectXYFromRoundedRect=function(L,cG){if(!(L.length===26&&cG.length===5)||L.length===30&&cG.length===7||L.length===34&&cG.length===9){return null}var cH=2147483647;var cI=-2147483648;var cJ=2147483647;var cK=-2147483648;var cL=0;for(var cM=0;cM<cG.length;cM++){var cN=cG[cM];switch(cN){case'lineto':case'moveto':{cL+=2;break}case'curveto':{cL+=4;cH=Math.min(cH,ss.Int32.trunc(L[cL]));cI=Math.max(cI,ss.Int32.trunc(L[cL]));cJ=Math.min(cJ,ss.Int32.trunc(L[cL+1]));cK=Math.max(cK,ss.Int32.trunc(L[cL+1]));cL+=2;break}default:{break}}}var cO=[cH,cJ,cI,cK];return A.rectXYFromDrawRect(cO)};global.tab.DisplayList2DUtils=A;var B=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};B.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=B;var C=function(){};C.__typeName='tab.EmptyContentProvider';global.tab.EmptyContentProvider=C;var D=function(L,cG){React.Component.call(this,L,cG)};D.__typeName='tab.FloatingMenuFlyoutButtonComponent';global.tab.FloatingMenuFlyoutButtonComponent=D;var E=function(){};E.__typeName='tab.FloatingToolbarButton';global.tab.FloatingToolbarButton=E;var F=function(){};F.__typeName='tab.FloatingToolbarButtonPressEventProperties';global.tab.FloatingToolbarButtonPressEventProperties=F;var G=function(L,cG){React.Component.call(this,L,cG)};G.__typeName='tab.FloatingToolbarContainerComponent';global.tab.FloatingToolbarContainerComponent=G;var H=function(L){this.$w=false;this.$x=false;this.$u=false;this.$v=false;this.$q=true;this.$r=true;this.$p=null;this.$n='rectangleSelect';this.$o=null;this.$t=null;this.$s=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$o={};this.$o['radialSelect']={iconClassName:'tab-radial-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRadialSelectionTooltipMobile,onTap:ss.mkdel(this,this.$b)};this.$o['lassoSelect']={iconClassName:'tab-lasso-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsLassoSelectionTooltipMobile,onTap:ss.mkdel(this,this.$9)};this.$o['rectangleSelect']={iconClassName:'tab-rectangle-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltipMobile,isSelected:true,onTap:ss.mkdel(this,this.$c)};this.$o['appendSelect']={iconClassName:'tab-append-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsAppendTooltip,onTap:ss.mkdel(this,this.$6)};this.$t={iconClassName:'tab-rectangle-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltipMobile,isSelected:true,onTap:ss.mkdel(this,this.$d),shouldShowFlyoutCaret:true};this.$s={iconClassName:'tab-pan-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsPanTooltipMobile,onTap:ss.mkdel(this,this.$a)};L.add_toolbarToolModeUpdated(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_toolbarToolModeUpdated(ss.mkdel(this,this.$f))})));this.$f(L.get_currentPointerToolMode());L.add_appendModeUpdated(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_appendModeUpdated(ss.mkdel(this,this.$7))})));this.$7(L.get_isAppendMode())};H.__typeName='tab.FloatingToolbarContainerViewModel';H.$0=function(L){switch(L){case'pan-map':{return'pan'}case'radial-selection':{return'radialSelect'}case'lasso-selection':{return'lassoSelect'}case'rectangular-selection':default:{return'rectangleSelect'}}};H.$1=function(L){switch(L){case'pan':{return'pan-map'}case'radialSelect':{return'radial-selection'}case'lassoSelect':{return'lasso-selection'}case'rectangleSelect':{return'rectangular-selection'}default:{return'no-tools'}}};global.tab.FloatingToolbarContainerViewModel=H;var I=function(L,cG){this.$7=null;this.$8=null;this.$9=0;this.$a=0;React.Component.call(this,L,cG);this.$7=ss.mkdel(this,function(cH){this.$8=cH})};I.__typeName='tab.FloatingToolbarPositioningComponent';global.tab.FloatingToolbarPositioningComponent=I;var J=function(){};J.__typeName='tab.FloatingToolbarShowEventProperties';global.tab.FloatingToolbarShowEventProperties=J;var K=function(){};K.__typeName='tab.FloatingToolbarTelemetry';K.$0=function(){return tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('GestureModelTelemetry')&&tab.GestureModelSettings.get_newModelEnabled()};K.trackButtonPress=function(L){if(K.$0()){tab.OnlineAnalyticsClient.logEvent('Viz_FloatingToolbar_ButtonPress',ss.mkdict(['ButtonName',L]))}};K.trackShow=function(L,cG,cH,cI){if(K.$0()){tab.OnlineAnalyticsClient.logEvent('Viz_FloatingToolbar_Show',ss.mkdict(['MapsSearchShown',L,'ToolsShown',cG,'PanAvailable',cH,'HomeShown',cI]))}};global.tab.FloatingToolbarTelemetry=K;var M=function(L,cG,cH,cI,cJ){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$8=null;this.toolbarType=null;this.$7=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(L);this.api=cG;this.toolbarType=cH;this.canZoomHome=false;this.geoSearchEnabled=cJ;this.element.css({top:cI+'px'})};M.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=M;var N=function(L){this.zoomToolbar=null;this.$1=null;this.$0=null;this.$0=L};N.__typeName='tab.FloatingZoomToolbarView';global.tab.FloatingZoomToolbarView=N;var O=function(){};O.__typeName='tab.GeometryUtil';O.domainToPixelGeometry=function(L,cG,cH,cI){switch(L.geometryType){case'multiPolygon':{O.domainToPixelMultipolygon(L.multiPolygon,cG,cH,cI);break}case'multiPoint':{var cJ=0;var cK=L.multiPoint;O.domainToPixelCoordinateArray(cK.pointsF,cG,cH,cI,cJ);break}case'multiLineString':{var cL=L.multiLine;O.domainToPixelMultiline(cL,cG,cH,cI);break}default:{break}}};O.domainToPixelMultipolygon=function(L,cG,cH,cI){var cJ=L.polygonList;var cK=cJ.length;var cL=6;for(var cM=0;cM<cK;cM++){var cN=cJ[cM].lineList;var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP].pointsF;O.domainToPixelCoordinateArray(cQ,cG,cH,cI,cL)}}};O.domainToPixelMultiline=function(L,cG,cH,cI){var cJ=L.lineList.length;var cK=4;for(var cL=0;cL<cJ;cL++){var cM=L.lineList[cL].pointsF;O.domainToPixelCoordinateArray(cM,cG,cH,cI,cK)}};O.domainToPixelCoordinateArray=function(L,cG,cH,cI,cJ){var cK=3;var cL=cH.w/cG.w;var cM=cH.h/cG.h;var cN=L.length;if(cN<2){return}var cO=null;var cP=null;var cQ=0;for(var cR=0;cR<cN;cR+=2){var cS=O.$5(L[cR],cG.x,cH.x,cL);var cT=O.$5(L[cR+1],cG.y,cH.y,cM);var cU=cQ+cN-cR;if(cI&&cU>cJ){var cV=cS*3<<0;var cW=cT*3<<0;if(cV===cO&&cW===cP){continue}cO=cV;cP=cW}L[cQ]=cS;L[cQ+1]=cT;cQ+=2}L.length=cQ};O.isGeometryPresModelFeatureEmpty=function(L){switch(L.geometryType){case'multiPoint':{return L.multiPoint.pointsF.length===0}case'multiPolygon':{return L.multiPolygon.polygonList.length===0}case'multiLineString':{return L.multiLine.lineList.length===0}default:{return false}}};O.$5=function(L,cG,cH,cI){return(L-cG)*cI+cH};O.isPointInPoly=function(L,cG,cH){if(ss.isValue(cH)&&cH!==0){return O.polygonIntersectsDoubleRect(L,{x:cG.x-ss.unbox(cH),y:cG.y-ss.unbox(cH),w:ss.unbox(cH)*2,h:ss.unbox(cH)*2})}var cI=0;var cJ=L.length;for(var cK=0;cK<cJ;cK+=2){var cL=L[cK];var cM=L[cK+1];var cN=(cK+2)%cJ;var cO=L[cN];var cP=L[cN+1];if(cM<=cG.y){if(cP>cG.y){if(O.$6(cL,cM,cO,cP,cG.x,cG.y)>0){++cI}}}else if(cP<=cG.y){if(O.$6(cL,cM,cO,cP,cG.x,cG.y)<0){--cI}}}return cI!==0};O.isPointInPolygon=function(L,cG){var cH=false;var cI=0;for(var cJ=0;cJ<L.lineList.length;cJ++){var cK=L.lineList[cJ];var cL=O.isPointInPoly(cK.pointsF,cG,null);if(cI===0){if(cL){cH=true}else{break}}else if(cL){cH=false;break}cI++}return cH};O.isPointInMultipolygon=function(L,cG){var cH=false;for(var cI=0;cI<L.polygonList.length;cI++){var cJ=L.polygonList[cI];cH=O.isPointInPolygon(cJ,cG);if(cH){break}}return cH};O.lineToQuad=function(L,cG){var cH=cG/2;var cI={x:L[0],y:L[1]};var cJ={x:L[2],y:L[3]};var cK=cJ.x-cI.x;var cL=cJ.y-cI.y;var cM=Math.sqrt(cK*cK+cL*cL);if(cM===0){return O.makeQuadFromPoints(cI,cI,cI,cI)}var cN={x:cH*(cK/cM),y:cH*(cL/cM)};var cO={x:-cN.y,y:cN.x};var cP={x:cI.x+cO.x,y:cI.y+cO.y};var cQ={x:cI.x-cO.x,y:cI.y-cO.y};var cR={x:cJ.x+cO.x,y:cJ.y+cO.y};var cS={x:cJ.x-cO.x,y:cJ.y-cO.y};return O.makeQuadFromPoints(cP,cQ,cS,cR)};O.makeQuadFromPoints=function(L,cG,cH,cI){var cJ=new Array(8);cJ[0]=L.x;cJ[1]=L.y;cJ[2]=cG.x;cJ[3]=cG.y;cJ[4]=cH.x;cJ[5]=cH.y;cJ[6]=cI.x;cJ[7]=cI.y;return cJ};O.isPointInMultiLineString=function(L,cG,cH){var cI=L.lineList;var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK].pointsF;var cM=cL.length;if(cM<4||cM%2===1){continue}for(var cN=0;cN<cM-2;cN+=2){var cO=new Array(4);cO[0]=cL[cN];cO[1]=cL[cN+1];cO[2]=cL[cN+2];cO[3]=cL[cN+3];if(O.isPointInPoly(O.lineToQuad(cO,cH),cG,null)){return true}if(cN>=2){var cP={x:cL[cN],y:cL[cN+1]};var cQ={center:cP,radius:cH/2};if(O.isPointInCircle(cG,cQ)){return true}}}}return false};O.isPointInMultipoint=function(L,cG,cH){var cI=L.pointsF;var cJ={center:cG,radius:cH};for(var cK=0;cK<cI.length;cK=cK+2){var cL=cI[cK];var cM=cI[cK+1];var cN={x:cL,y:cM};if(O.isPointInCircle(cN,cJ)){return true}}return false};O.getGeometrySelectionTransform=function(L,cG,cH,cI){if(!L){return tab.Transform.pixelToDomain(cG,cH,cI)}return tab.Transform.none()};O.multipolygonIntersectsDoubleRect=function(L,cG){for(var cH=0;cH<L.polygonList.length;cH++){var cI=L.polygonList[cH];for(var cJ=0;cJ<cI.lineList.length;cJ++){var cK=cI.lineList[cJ];if(O.polygonIntersectsDoubleRect(cK.pointsF,cG)){return true}}}return false};O.multiLineStringIntersectsDoubleRect=function(L,cG,cH){for(var cI=0;cI<L.lineList.length;cI++){var cJ=L.lineList[cI];var cK=cJ.pointsF;var cL=cK.length;if(cL<4||cL%2===1){continue}for(var cM=0;cM<cL-2;cM+=2){var cN=new Array(4);cN[0]=cK[cM];cN[1]=cK[cM+1];cN[2]=cK[cM+2];cN[3]=cK[cM+3];if(O.polygonIntersectsDoubleRect(O.lineToQuad(cN,cH),cG)){return true}if(cM>=2){var cO={x:cK[cM],y:cK[cM+1]};var cP={center:cO,radius:cH/2};var cQ=O.$1(cG);if(O.polygonIntersectsCircle(cQ,cP)){return true}}}}return false};O.multipointIntersectsDoubleRect=function(L,cG,cH){return O.multipointIntersectsPolygon(L,O.$1(cG),cH)};O.multipolygonIntersectsPolygon=function(L,cG){for(var cH=0;cH<L.polygonList.length;cH++){var cI=L.polygonList[cH];for(var cJ=0;cJ<cI.lineList.length;cJ++){var cK=cI.lineList[cJ];if(O.$7(cK.pointsF,cG)){return true}}}return false};O.multiLineStringIntersectsPolygon=function(L,cG,cH){for(var cI=0;cI<L.lineList.length;cI++){var cJ=L.lineList[cI];var cK=cJ.pointsF;var cL=cK.length;if(cL<4||cL%2===1){continue}for(var cM=0;cM<cL-2;cM+=2){var cN=new Array(4);cN[0]=cK[cM];cN[1]=cK[cM+1];cN[2]=cK[cM+2];cN[3]=cK[cM+3];if(O.$7(O.lineToQuad(cN,cH),cG)){return true}if(cM>=2){var cO={x:cK[cM],y:cK[cM+1]};var cP={center:cO,radius:cH/2};if(O.polygonIntersectsCircle(cG,cP)){return true}}}}return false};O.multipointIntersectsPolygon=function(L,cG,cH){var cI=L.pointsF;var cJ={center:{x:0,y:0},radius:cH};for(var cK=0;cK<cI.length;cK=cK+2){var cL=cI[cK];var cM=cI[cK+1];var cN={x:cL,y:cM};cJ.center=cN;if(O.polygonIntersectsCircle(cG,cJ)){return true}}return false};O.polygonIntersectsRect=function(L,cG){return O.$7(L,O.$2(cG))};O.polygonIntersectsDoubleRect=function(L,cG){return O.$7(L,O.$1(cG))};O.$7=function(L,cG){if(L.length===0||cG.length===0){return false}if(O.isPointInPoly(cG,{x:L[0],y:L[1]},null)){return true}if(O.isPointInPoly(L,{x:cG[0],y:cG[1]},null)){return true}if(L.length>cG.length){var cH=L;L=cG;cG=cH}for(var cI=0,cJ=L.length;cI<cJ;cI+=2){var cK=(cI+2)%cJ;if(O.$8(cG,L[cI],L[cI+1],L[cK],L[cK+1])){return true}}return false};O.$8=function(L,cG,cH,cI,cJ){var cK=cI-cG;var cL=cJ-cH;var cM=L.length;for(var cN=0;cN<cM;cN+=2){var cO=(cN+2)%cM;var cP=L[cN];var cQ=L[cN+1];var cR=L[cO];var cS=L[cO+1];var cT=cK*(cQ-cJ)-cL*(cP-cI);var cU=cK*(cS-cJ)-cL*(cR-cI);if(cT<0&&cU<0||cT>0&&cU>0){continue}var cV=cR-cP;var cW=cS-cQ;var cX=cV*(cH-cS)-cW*(cG-cR);var cY=cV*(cJ-cS)-cW*(cI-cR);if(cT!==0&&cU!==0){if(cX<0&&cY>0||cX>0&&cY<0){return true}else if(cX!==0&&cY!==0){continue}}var cZ=[cX,cY,cT,cU];var da=[cG,cH,cI,cJ,cP,cQ,cR,cS];if(O.$4(cZ,da)){return true}}return false};O.$4=function(L,cG){var cH=[4,4,0,0];var cI=[6,6,2,2];for(var cJ=0,cK=0,cL=4;cJ<cL;cJ++,cK+=2){if(L[cJ]===0){var cM=cG[cK];var cN=cG[cK+1];var cO=cG[cH[cJ]];var cP=cG[cH[cJ]+1];var cQ=cG[cI[cJ]];var cR=cG[cI[cJ]+1];if(cM>=Math.min(cO,cQ)&&cM<=Math.max(cO,cQ)&&cN>=Math.min(cP,cR)&&cN<=Math.max(cP,cR)){return true}}}return false};O.multipolygonIntersectsCircle=function(L,cG){for(var cH=0;cH<L.polygonList.length;cH++){var cI=L.polygonList[cH];for(var cJ=0;cJ<cI.lineList.length;cJ++){var cK=cI.lineList[cJ];if(O.polygonIntersectsCircle(cK.pointsF,cG)){return true}}}return false};O.multiLineStringIntersectsCircle=function(L,cG,cH){for(var cI=0;cI<L.lineList.length;cI++){var cJ=L.lineList[cI];var cK=cJ.pointsF;var cL=cK.length;if(cL<4||cL%2===1){continue}for(var cM=0;cM<cL-2;cM+=2){var cN=new Array(4);cN[0]=cK[cM];cN[1]=cK[cM+1];cN[2]=cK[cM+2];cN[3]=cK[cM+3];if(O.polygonIntersectsCircle(O.lineToQuad(cN,cH),cG)){return true}if(cM>=2){var cO={x:cK[cM],y:cK[cM+1]};var cP={center:cO,radius:cH/2};if(O.circleIntersectsCircle(cG,cP)){return true}}}}return false};O.multipointIntersectsCircle=function(L,cG,cH){var cI=L.pointsF;var cJ={center:{x:0,y:0},radius:cH};for(var cK=0;cK<cI.length;cK=cK+2){var cL=cI[cK];var cM=cI[cK+1];var cN={x:cL,y:cM};cJ.center=cN;if(O.circleIntersectsCircle(cG,cJ)){return true}}return false};O.circleIntersectsCircle=function(L,cG){var cH=Math.pow(L.center.x-cG.center.x,2)+Math.pow(L.center.y-cG.center.y,2);return Math.pow(L.radius+cG.radius,2)>=cH};O.polygonIntersectsCircle=function(L,cG){if(L.length===0||cG.radius===0){return false}if(O.isPointInPoly(L,cG.center,null)){return true}if(O.isPointInCircle({x:L[0],y:L[1]},cG)){return true}var cH=cG.radius*cG.radius;for(var cI=0,cJ=L.length;cI<cJ;cI+=2){var cK=L[cI];var cL=L[cI+1];var cM=(cI+2)%cJ;var cN=L[cM];var cO=L[cM+1];var cP=cO-cL;var cQ=cN-cK;var cR=cQ*cQ+cP*cP;var cS=((cG.center.x-cK)*cQ+(cG.center.y-cL)*cP)/cR;cS=Math.min(1,Math.max(0,cS));var cT=cK+cS*cQ;var cU=cL+cS*cP;cQ=cT-cG.center.x;cP=cU-cG.center.y;cR=cQ*cQ+cP*cP;if(cH>cR){return true}}return false};O.circleIntersectsRect=function(L,cG){if(L.radius<=0){return false}var cH=O.$0(cG);for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(O.isPointInCircle(cJ,L)){return true}}if(tab.RectXYUtil.inRectPointF(cG,L.center)){return true}var cK=cG.w/2;var cL=cG.h/2;var cM={x:cG.x+cK,y:cG.y+cL};if(L.center.y<cG.y||L.center.y>=cG.y+cG.h){return L.center.x>cG.x&&L.center.x<cG.x+cG.w&&Math.abs(cM.y-L.center.y)<cL+L.radius}if(L.center.x<cG.x||L.center.x>=cG.x+cG.w){return L.center.y>cG.y&&L.center.y<cG.y+cG.h&&Math.abs(cM.x-L.center.x)<cK+L.radius}return false};O.normalizeAngle=function(L){var cG=L%O.twoPI;if(cG<0){cG+=O.twoPI}return cG};O.isInBetweenAngles=function(L,cG,cH){var cI=false;if(cG>cH){var cJ=cG;cG=cH;cH=cJ;cI=true}if(cG<=L&&cH>=L){return!cI}return cI};O.isPointInCircle=function(L,cG){var cH=Math.pow(L.x-cG.center.x,2)+Math.pow(L.y-cG.center.y,2);var cI=cG.radius*cG.radius;var cJ=cH<cI;return cJ};O.isPointInWedge=function(L,cG,cH,cI){if(!O.isPointInCircle(L,cG)){return false}var cJ=L.x-cG.center.x;var cK=L.y-cG.center.y;var cL=Math.atan2(cK,cJ);cL=O.normalizeAngle(cL);return O.isInBetweenAngles(cL,cH,cI)};O.rectIntersectsWedge=function(L,cG,cH,cI){var cJ=O.$0(L);for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];if(O.isPointInWedge(cL,cG,cH,cI)){return true}}if(tab.RectXYUtil.inRectPointF(L,cG.center)){return true}var cM=O.$3(cG,cH,cI);return O.polygonIntersectsRect(cM,L)};O.polygonIntersectsWedge=function(L,cG,cH,cI){if(L.length===0){return false}if(O.isPointInWedge({x:L[0],y:L[1]},cG,cH,cI)){return true}if(O.isPointInPoly(L,cG.center,null)){return true}var cJ=O.$3(cG,cH,cI);return O.$7(cJ,L)};O.circleIntersectsWedge=function(L,cG,cH,cI){if(L.radius<=0){return false}if(O.isPointInWedge(L.center,cG,cH,cI)){return true}if(O.isPointInCircle(cG.center,L)){return true}var cJ=O.$3(cG,cH,cI);return O.polygonIntersectsCircle(cJ,L)};O.$3=function(L,cG,cH){while(cG>cH){cH+=O.twoPI}var cI=cG;var cJ=new Array(4);cJ[0]=L.center.x;cJ[1]=L.center.y;cJ[2]=L.center.x+Math.cos(cI)*L.radius;cJ[3]=L.center.y+Math.sin(cI)*L.radius;while(cI<cH){var cK=Math.min(cI+O.$9,cH);cJ.push(L.center.x+Math.cos(cK)*L.radius);cJ.push(L.center.y+Math.sin(cK)*L.radius);cI=cK}return cJ};O.areRectanglesIntersecting=function(L,cG){return tab.RectXYUtil.intersectsWith(L,cG)};O.getSquaredDistanceToCenter=function(L,cG){var cH=L.x+L.w/2;var cI=L.y+L.h/2;var cJ=cH-cG.x;var cK=cI-cG.y;return cJ*cJ+cK*cK};O.getSquaredDistanceToNearestSide=function(L,cG){var cH=L.y;var cI=L.y+L.h;var cJ=L.x;var cK=L.x+L.w;var cL,cM;if(cG.x<cJ){cL=cJ-cG.x}else if(cG.x>cK){cL=cG.x-cK}else{cL=0}if(cG.y<cH){cM=cH-cG.y}else if(cG.y>cI){cM=cG.y-cI}else{cM=0}return cL*cL+cM*cM};O.getSquaredDistanceToCircumference=function(L,cG){var cH=Math.sqrt(O.getSquaredDistanceToCenter(L,cG))-Math.min(L.w,L.h)/2;cH=Math.max(cH,0);return cH*cH};O.getSquaredDistanceToLineSegment=function(L,cG,cH){var cI,cJ;if(cH.x<cG.x){var cK=cG;cG=cH;cH=cK}var cL=cH.x-cG.x;var cM=cH.y-cG.y;var cN=cL*cL+cM*cM;if(cN===0){cI=L.x-cG.x;cJ=L.y-cG.y;return cI*cI+cJ*cJ}var cO=((L.x-cG.x)*cL+(L.y-cG.y)*cM)/cN;var cP;var cQ;if(cO<0){cP=cG.x;cQ=cG.y}else if(cO>1){cP=cH.x;cQ=cH.y}else{cP=cG.x+cO*cL;cQ=cG.y+cO*cM}cI=L.x-cP;cJ=L.y-cQ;return cI*cI+cJ*cJ};O.degreeToRad=function(L){return L*(Math.PI/180)};O.radToDegree=function(L){return L*(180/Math.PI)};O.haversineDistance=function(L,cG,cH){var cI=O.degreeToRad(cG.item1-L.item1);var cJ=O.degreeToRad(L.item2);var cK=O.degreeToRad(cG.item2);var cL=cK-cJ;var cM=Math.pow(Math.sin(cL/2),2)+Math.cos(cJ)*Math.cos(cK)*Math.pow(Math.sin(cI/2),2);var cN=2*Math.atan2(Math.sqrt(cM),Math.sqrt(1-cM));return cN*cH};O.$6=function(L,cG,cH,cI,cJ,cK){return(cH-L)*(cK-cG)-(cJ-L)*(cI-cG)};O.$0=function(L){var cG=new Array(4);cG[0]={x:L.x,y:L.y};cG[1]={x:L.x+L.w,y:L.y};cG[2]={x:L.x+L.w,y:L.y+L.h};cG[3]={x:L.x,y:L.y+L.h};return cG};O.$2=function(L){var cG=new Array(8);cG[0]=L.x;cG[1]=L.y;cG[2]=L.x+L.w;cG[3]=L.y;cG[4]=cG[2];cG[5]=L.y+L.h;cG[6]=L.x;cG[7]=cG[5];return cG};O.$1=function(L){var cG=new Array(8);cG[0]=L.x;cG[1]=L.y;cG[2]=L.x+L.w;cG[3]=L.y;cG[4]=cG[2];cG[5]=L.y+L.h;cG[6]=L.x;cG[7]=cG[5];return cG};global.tab.GeometryUtil=O;var P=function(L){this.$b=null;this.$a=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!BrowserSupport.BrowserSupport.IsGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$b=L;this.$a=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.get_button().element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$9))})));this.get_button().addToDom(this.element)};P.__typeName='tab.GotoMyLocationButton';P.$0=function(){if(BrowserSupport.BrowserSupport.IsChrome()&&BrowserSupport.BrowserSupport.GoogleChromeVersion()>=50){return true}if(BrowserSupport.BrowserSupport.IsIos()&&BrowserSupport.BrowserSupport.IosVersion()>=10){return true}if(BrowserSupport.BrowserSupport.IsSafari()&&BrowserSupport.BrowserSupport.SafariVersion()>=10){return true}return false};global.tab.GotoMyLocationButton=P;var Q=function(L,cG){tab.CanvasRenderer.call(this,L,cG)};Q.__typeName='tab.GridLinesRenderer';Q.$9=function(L,cG,cH,cI){return Q.$a(cG)&&(Q.$5(L)||Q.$6(L))||Q.$b(L,cH)||Q.$c(L,cI)};Q.$a=function(L){return!ss.isNullOrUndefined(L)};Q.$5=function(L){return!ss.isNullOrUndefined(L.X)&&!ss.isNullOrUndefined(L.X.LineWidth)};Q.$6=function(L){return!ss.isNullOrUndefined(L.Y)&&!ss.isNullOrUndefined(L.Y.LineWidth)};Q.$7=function(L,cG){var cH=L.XAxisTable.IsReversed;return cH.length>=cG+1&&cH[cG]};Q.$8=function(L,cG){var cH=L.YAxisTable.IsReversed;return cH.length>=cG+1&&cH[cG]};Q.$b=function(L,cG){return L.IsQuantitativeTickType[cG]&&!ss.isNullOrUndefined(L.X)&&!ss.isNullOrUndefined(L.X.ZeroLineWidth)};Q.$c=function(L,cG){return L.IsQuantitativeTickType[cG]&&!ss.isNullOrUndefined(L.Y)&&!ss.isNullOrUndefined(L.Y.ZeroLineWidth)};Q.$2=function(L,cG){return(cG?(1-L):L)};Q.$3=function(L,cG,cH){return Q.$2(cG,cH)*L.w};Q.$4=function(L,cG,cH){return Q.$2(cG,cH)*L.h};Q.$0=function(L,cG,cH){return ss.round(L.x+Q.$3(L,cG,cH))};Q.$1=function(L,cG,cH){return ss.round(L.y+L.h-Q.$4(L,cG,cH))};global.tab.GridLinesRenderer=Q;var R=function(L,cG,cH,cI,cJ,cK,cL){this.$D=null;this.$E=null;this.$C=null;bC.call(this,L,cG);this.$E={};var cM=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var cN=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+cM.length;var cO=2;var cP=cJ-4;var cQ=cK-4;var cR=cH-cP/2;var cS=cI-cQ/2;var cT=cJ-1;var cU=cK-1;var cV=cH-cT/2;var cW=cI-cU/2;var cX=this.$B(cN);var cY=this.$B(cN);var cZ=this.$B(cN);var da=this.$B(cN);var db=this.$B(cN);var dc=this.$B(cN);for(var dd=0;dd<cN;dd++){var de;if(dd<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){de=_.keys(tab.SceneDataUtil.shapeMapping)[dd];cZ.dataValues[dd]=cP;da.dataValues[dd]=cQ;db.dataValues[dd]=cR;dc.dataValues[dd]=cS}else{de=cM[dd-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];cZ.dataValues[dd]=cT;da.dataValues[dd]=cU;db.dataValues[dd]=cV;dc.dataValues[dd]=cW}this.$E[de]=dd;cY.dataValues[dd]=de;cX.dataValues[dd]=dd.toString()}var df={};var dg='pdKey';df.PDMarks={};df.PDMarks[dg]={};var dh=df.PDMarks[dg];var di={shape_id:cY.dataValues,tuple_id:cX.dataValues,size:cZ.dataValues,width:cZ.dataValues,height:da.dataValues};var dj=di;dj['left']=db.dataValues;dj['top']=dc.dataValues;dh.Encodings=di;dh.color=(new tab.ColorModel(0,0,0,1)).toArgbInt();var dk={Parameters:{}};var dl=dk.Parameters;dl.background_color=cL.toArgbInt();dl.PrimitiveType=4;dh.MarkLayoutData=dk;di.x=new Array(di.width.length);di.y=new Array(di.width.length);for(var dm=0;dm<di.x.length;++dm){di.x[dm]=cH;di.y[dm]=cI}var dn={Rect:[0,0,cJ,cK]};var dp=new tab.PaneMarksInfo(0,cN);var dq=new bY;df.PDMarks={};df.PDMarks['pdKey']=dh;this.$D=new bE.$ctor1('pdKey',dq,dn,dp,null,'pdKey',df,0)};R.__typeName='tab.HackyShapeSwatchRenderer';global.tab.HackyShapeSwatchRenderer=R;var S=function(){};S.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=S;var T=function(L,cG,cH,cI,cJ){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=L;if(ss.isNullOrUndefined(cI)||tab.RectXYUtil.isEmpty(cI)){this.$2=null}else{this.$2=cI}this.$4=cH;this.$9=cJ;this.$3=cG;this.$1=[]};T.__typeName='tab.HitTargetNode';T.findPaneNode=function(L){if(ss.isNullOrUndefined(L)){return null}while(L.$3!==0){if(L.get_nodeType()===1){return L}L=L.get_parent()}return null};T.createRootNode=function(){return new T({x:0,y:0,w:9999999,h:9999999},0,-1,null,0)};global.tab.HitTargetNode=T;var U=function(L,cG,cH){this.$1=null;this.$2=null;this.$3=null;this.$1=cH;this.$2=cG;this.$3=L};U.__typeName='tab.HitTestChain';U.$0=function(L,cG,cH){var cI={};for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];if(ss.keyExists(cI,cK)){continue}switch(cK){case 0:{if(tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){cI[cK]=new q(cG)}break}case 1:{cI[cK]=new bV(cG,cH);break}case 2:{cI[cK]=new cr(cG);break}case 3:{cI[cK]=new bB(cG,cH);break}}}return cI};U.$4=function(L,cG,cH,cI){if(!ss.isValue(L)||!ss.isValue(cG)){return null}var cJ=U.$0(L.concat(cG),cH,cI);return new U(L,cG,cJ)};U.$3=function(L,cG,cH){if(!ss.isValue(L)){return null}var cI=U.$0(L,cG,cH);return new U(L,L,cI)};U.createHitTestChain=function(L,cG){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return U.$1(L,cG)}else{return U.$2(L)}};U.$2=function(L){return U.$3(U.$8,L,null)};U.$1=function(L,cG){return(r.canAnnotationInCurrentSheetType()?U.$4(U.$7,U.$5,L,cG):U.$3(U.$6,L,cG))};global.tab.HitTestChain=U;var V=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var L=$('.tab-tvView .tabCanvas');this.$4=L.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};V.__typeName='tab.HitTestDebugger';V.get_instance=function(){if(ss.isNullOrUndefined(V.$1)){V.$1=new V}return V.$1};global.tab.HitTestDebugger=V;var W=function(L){this.$5=null;this.$5=L};W.__typeName='tab.HitTester';W.$0=function(L,cG,cH,cI,cJ){switch(cJ){case'area':{return bC.areaMarkExactHitTest(L,cG.x-cI,cG.y,cH)}case'line':{return bC.lineMarkExactHitTest(L,cG.x-cI,cG.y,cH)}case'multipolygon':{return bC.multipolygonMarkExactHitTest(L,cG.x-cI,cG.y,cH)}case'pie':{return bC.pieMarkExactHitTest(L,cG.x-cI,cG.y,cH)}case'shape':{return bC.shapeMarkExactHitTest(L,cG.x-cI,cG.y,cH)}case'bar':case'square':{return bC.barMarkExactHitTest(L,cG.x-cI,cG.y,cH)}case'text':{return bC.textMarkExactHitTest(L,cG.x-cI,cG.y,cH)}default:{var cK={x:cG.x-Math.round(cI),y:cG.y,w:cG.w,h:cG.h};return tab.RectXYUtil.intersectsWith(cK,L.getMarkBounds(cH))}}};W.$1=function(L,cG,cH,cI,cJ){switch(cJ){case'line':{return bC.lineMarkNearHitTest(L,cG.x-cI,cG.y,cH)}case'multipolygon':{return bC.multipolygonMarkNearHitTest(L,cG.x-cI,cG.y,cH)}case'shape':{return bC.shapeMarkNearHitTest(L,cG.x-cI,cG.y,cH)}case'bar':case'square':{return bC.barMarkNearHitTest(L,cG.x-cI,cG.y,cH)}case'text':{return bC.textMarkNearHitTest(L,cG.x-cI,cG.y,cH)}case'area':{return bC.areaMarkNearHitTest(L,cG.x-cI,cG.y,cH)}default:{return false}}};W.rectangleAreaHit=function(L,cG,cH,cI,cJ,cK){var cL=(cJ.get_isNull()?cH:tab.RectXYUtil.offsetRectF(cH,{x:-cJ.get_translateX(),y:-cJ.get_translateY()}));switch(cK){case'area':{return bC.areaMarkRectangleAreaHitTest(L,cL,cI)}case'line':{return bC.lineMarkRectangleAreaHitTest(L,cL,cI)}case'multipolygon':{return bC.multipolygonMarkRectangleAreaHitTest(L,cL,cI)}case'pie':{return bC.pieMarkRectangleAreaHitTest(L,cL,cI)}case'shape':{return bC.shapeMarkRectangleAreaHitTest(L,cL,cI)}case'text':{return bC.textMarkRectangleAreaHitTest(L,cL,cI)}case'bar':case'square':{return bC.barMarkRectangleAreaHitTest(L,cL,cI)}default:{return tab.RectXYUtil.intersectsWith(cH,cG)}}};W.circleAreaHit=function(L,cG,cH,cI,cJ,cK,cL){var cM=(cJ.get_isNull()?cH:tab.CircleUtil.offsetCircle(cH,{x:-cJ.get_translateX(),y:-cJ.get_translateY()}));var cN=(cJ.get_isNull()?cG:tab.RectXYUtil.offsetRectF(cG,{x:-cJ.get_translateX(),y:-cJ.get_translateY()}));switch(cK){case'area':{return bC.areaMarkCircleAreaHitTest(L,cM,cI,cN,cL)}case'line':{return bC.lineMarkCircleAreaHitTest(L,cM,cI,cN,cL)}case'multipolygon':{return bC.multipolygonMarkCircleAreaHitTest(L,cM,cI,cN,cL)}case'pie':{return bC.pieMarkCircleAreaHitTest(L,cM,cI,cL)}case'shape':{return bC.shapeMarkCircleAreaHitTest(L,cM,cI,cL)}case'text':{return bC.textMarkCircleAreaHitTest(L,cM,cI,cN,cL)}case'bar':case'square':{return bC.barMarkCircleAreaHitTest(L,cM,cI,cN,cL)}default:{return O.circleIntersectsRect(cH,cG)}}};W.polyAreaHit=function(L,cG,cH,cI,cJ,cK){var cL=(cJ.get_isNull()?cG:tab.RectXYUtil.offsetRectF(cG,{x:-cJ.get_translateX(),y:-cJ.get_translateY()}));switch(cK){case'area':{return bC.areaMarkPolygonAreaHitTest(L,cH,cI,cL)}case'line':{return bC.lineMarkPolygonAreaHitTest(L,cH,cI,cL)}case'multipolygon':{return bC.multipolygonMarkPolygonAreaHitTest(L,cH,cI,cL)}case'pie':{return bC.pieMarkPolygonAreaHitTest(L,cH,cI)}case'shape':{return bC.shapeMarkPolygonAreaHitTest(L,cH,cI)}case'text':{return bC.textMarkPolygonAreaHitTest(L,cH,cI,cL)}case'bar':case'square':{return bC.barMarkPolygonAreaHitTest(L,cH,cI,cL)}default:{return O.polygonIntersectsRect(cH,cL)}}};W.getTransformInfo=function(L,cG){var cH=L.paneRect;var cI=cG.get_worldOffset();return tab.Transform.offset(cH.x+cI,cH.y)};global.tab.HitTester=W;var X=function(L){this.paneTableVM=null;this.paneTableVM=L};X.__typeName='tab.HitTestLink';global.tab.HitTestLink=X;var Y=function(){};Y.__typeName='tab.HitTestLinkType';global.tab.HitTestLinkType=Y;var Z=function(L){Z.$ctor1.call(this,((L.get_visualPart()==='marks')?L.get_tupleId():L.get_index()),(ss.keyExists(Z.$1,L.get_visualPart())?Z.$1[L.get_visualPart()]:1),(ss.keyExists(Z.$0,L.get_hitType())?Z.$0[L.get_hitType()]:0))};Z.__typeName='tab.HitTestResult';Z.$ctor1=function(L,cG,cH){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=L;this.$0=cG;this.$1=cH;this.$3=cH!==0};Z.createEmptyHitTestResult=function(){return new Z.$ctor1(0,0,0)};Z.tieBreak=function(L,cG){if(L.get_hitType()>cG.get_hitType()||L.get_hitType()===cG.get_hitType()&&(L.get_hitObjectType()>cG.get_hitObjectType()||L.get_hitObjectType()===cG.get_hitObjectType()&&L.get_id()>cG.get_id())){return L}return cG};Z.getIdsFromHitTestResults=function(L,cG){var cH=new Set;for(var cI=0;cI<L.length;cI++){var cJ=L[cI];cH.add(cJ.get_id())}var cK=tab.SetUtilities.getValues(ss.Int32).call(null,cH);if(cG){cK.sort(function(cL,cM){return cL-cM})}return cK};Z.hasExactHit=function(L){for(var cG=0;cG<L.length;cG++){var cH=L[cG];if(cH.get_hitType()===3){return true}}return false};Z.tieBreakHits=function(L,cG){var cH=Z.createEmptyHitTestResult();var cI=Z.createEmptyHitTestResult();for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];if(cK.get_hitType()===3){return cK}if(cK.get_hitType()!==0&&cH.get_hitType()===0){cH=cK}}for(var cL=0;cL<cG.length;cL++){var cM=cG[cL];if(cM.get_hitType()===3){return cM}if(cM.get_hitType()!==0&&cI.get_hitType()===0){cI=cM}}if(cH.get_hitType()!==0){return cH}if(cI.get_hitType()!==0){return cI}return Z.createEmptyHitTestResult()};global.tab.HitTestResult=Z;var ba=function(){};ba.__typeName='tab.HitTestStructureBuilder';ba.buildBinnedHitTestStructure=function(L,cG){var cH=T.createRootNode();var cI=0;var cJ=L.get_runtimeData().get_annexedData().Panes;for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=ba.$2(L,cL);for(var cN=0;cN<cM.length;cN++){var cO=cM[cN];var cP=L.getPaneDrawInfo(cO);var cQ=cP.get_mapExtentOrPaneRect();var cR=new T(cQ,1,-1,null,0);var cS=bY.getPaneMarksKey(cO);cR.set_paneKey(cS);cR.set_paneIndex(cO.get_paneIndex());cR.set_paneOrderIndex(cI++);cH.addNode(cR);var cT=Math.ceil(cQ.w/cG);for(var cU=0;cU<cG;++cU){var cV=cU*cT+cQ.x;var cW=cQ.y;var cX=cT;var cY=cQ.h;var cZ=new T({x:cV,y:cW,w:cX,h:cY},2,-1,null,0);cR.addNode(cZ)}var da=ba.buildMarkBounds(cP,0,cP.markCount-1,cP.getAllMarkBounds());for(var db=0;db<da.length;db++){var dc=da[db];var dd=cR.get_children();for(var de=0;de<dd.length;de++){var df=dd[de];if(tab.RectXYUtil.intersectsWith(dc.get_boundingBox(),df.get_boundingBox())){df.addNode(dc)}}}}}return cH};ba.buildLinearHitTestStructure=function(L){var cG=T.createRootNode();var cH=0;var cI=L.get_runtimeData().safeFetchMarkPanes();for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];var cL=ba.$2(L,cK);for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];var cO=L.getPaneDrawInfo(cN);if(!ss.isValue(cO)){continue}var cP=ba.$0(cN,cO,cH);cG.addNode(cP);cH++}}return cG};ba.buildTrendLineHitTestStructure=function(L,cG,cH){var cI=L.pointsF;var cJ=L.pathElements;var cK=Math.floor(cI.length/2);if(cK<2){return new T({x:0,y:0,w:0,h:0},0,-1,null,0)}var cL=[];var cM=0;for(var cN=0;cN<cJ.length;cN++){var cO=cJ[cN];switch(cO){case'moveto':{{cM+=2}break}case'lineto':{{if(ss.isValue(cI[cM+3])){var cP=[cI[cM],cI[cM+1],cI[cM+2],cI[cM+3]];var cQ=ss.Int32.trunc(Math.min(cP[0],cP[2]));var cR=ss.Int32.trunc(Math.min(cP[1],cP[3]));var cS=ss.Int32.trunc(Math.max(cP[0],cP[2]))-cQ;var cT=ss.Int32.trunc(Math.max(cP[1],cP[3]))-cR;var cU={x:cQ,y:cR,w:cS,h:cT};cU=tab.RectXYUtil.dialate(cU,ss.Int32.trunc(cG));var cV=new T(cU,5,cH,null,0);cL.push(cV)}cM+=2}break}case'curveto':{{cM+=6}break}default:{{}break}}}var cW=ba.$1(cL,4);return cW};ba.buildMarkBounds=function(L,cG,cH,cI){var cJ=cH-cG+1;var cK=[];var cL=0;for(var cM=cG;cM<=cH;++cM){var cN=cI[cM].item1;var cO=cI[cM].item2;var cP=L.getMarkInstanceOffsets(cM);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cN;var cT=cO;var cU=cP[cR];if(cU!==0){var cV=ss.Int32.trunc(cU);cS=tab.RectXYUtil.offsetRectXY(cN,cV,0);cT=(ss.isValue(cO)?tab.RectXYUtil.offsetRectXY(cO,cV,0):null)}cK[cL]=new T(cS,3,cM,cT,cU);++cL}}return cK};ba.print=function(L,cG){var cH='';var cI=cG;while(cI>0){cH+=' ';--cI}console.log(cH+L.get_objectId());if(L.get_nodeType()!==3){L.get_children().forEach(function(cJ){ba.print(cJ,cG+1)})}};ba.$2=function(L,cG){var cH=[];var cI=cG.DrawPanes;for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];var cL=cK;var cM=tab.EnumConversions.visualPartFromInt(cL[0]);if(cM==='marks'){var cN=cL[1];var cO=new tab.PaneMarksInfo.$ctor1(L.get_runtimeData().get_finalDataStore().Viewpoint.PerPaneExtents,L.get_runtimeData().get_paneStoreTable(),cN,L.$g,cG.Row,cG.Column);cH.push(cO)}}return cH};ba.$1=function(L,cG){var cH=L;while(cH.length>1){var cI=[];for(var cJ=0;cJ<cH.length;cJ+=cG){var cK=cG;var cL=cH.length-cJ;if(cL<cG){cK=cL}var cM=[];var cN=null;for(var cO=0;cO<cK;++cO){var cP=cH[cJ+cO];cM.push(cP);if(cO===0){cN={x:cP.get_boundingBox().x,y:cP.get_boundingBox().y,w:cP.get_boundingBox().w,h:cP.get_boundingBox().h}}else{cN=tab.RectXYUtil.union(cN,cM[cO].get_boundingBox())}}var cQ=new T(cN,4,-1,null,0);cQ.addNodes(cM);cI.push(cQ)}cH=cI}if(cH.length!==1){}var cR=T.createRootNode();cR.addNodes(cH);return cR};ba.$0=function(L,cG,cH){var cI=cG.get_mapExtentOrPaneRect();var cJ=new T(cI,1,-1,null,0);var cK=bY.getPaneMarksKey(L);cJ.set_paneKey(cK);cJ.set_paneIndex(L.get_paneIndex());cJ.set_paneOrderIndex(cH);var cL=(cG.hasUserPanes?cG.userPaneCount:1);var cM=cG.paneRect.x;var cN=cG.paneRect.y;var cO=cG.getAllMarkBounds();for(var cP=0;cP<cL;++cP){var cQ=tab.RectXYUtil.offsetRectXY(cG.getUserPaneRectByIndex(cP),cM,cN);var cR=new T(cQ,6,-1,null,0);var cS=cG.getUserPaneMarkRange(cP);var cT=ba.buildMarkBounds(cG,cS.firstMark,cS.lastMark,cO);cR.addNodes(cT);cJ.addNode(cR)}return cJ};global.tab.HitTestStructureBuilder=ba;var bb=function(){};bb.__typeName='tab.IHitTestLink';global.tab.IHitTestLink=bb;var bc=function(L,cG,cH,cI,cJ){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=L;this.$1=cG;this.$3=cH;this.$0=cI;this.$4=cJ};bc.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=bc;var bd=function(L){this.$0=null;ss.EventArgs.call(this);this.$0=L};bd.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=bd;var be=function(){};be.__typeName='tab.IMapControl';global.tab.IMapControl=be;var bf=function(){};bf.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=bf;var bg=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=bg.defaultHighlightBgColor;this.selectionBgColor=bg.defaultSelectionBgColor;this.highlightTextColor=bg.defaultHighlightTextColor;this.selectionTextColor=bg.defaultSelectionTextColor};bg.__typeName='tab.InteractionColorModel';bg.extractInteractionColors=function(L){var cG=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightBgColor);var cH=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightTextColor);var cI=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectBgColor);var cJ=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectionTextColor);if(!cG&&!cI&&!cJ&&!cH){return bg.defaultColors}var cK=new bg;cK.highlightBgColor=(cG?tab.ColorModel.fromColorCode(L.highlightBgColor):cK.highlightBgColor);cK.selectionBgColor=(cI?tab.ColorModel.fromColorCode(L.selectBgColor):cK.selectionBgColor);cK.highlightTextColor=(cH?tab.ColorModel.fromColorCode(L.highlightTextColor):cK.highlightTextColor);cK.selectionTextColor=(cJ?tab.ColorModel.fromColorCode(L.selectionTextColor):cK.selectionTextColor);return cK};global.tab.InteractionColorModel=bg;var bh=function(){};bh.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=bh;var bi=function(){};bi.__typeName='tab.IVizContextMenuItemsHandler';global.tab.IVizContextMenuItemsHandler=bi;var bj=function(){};bj.__typeName='tab.IZoomToolbarContainer';global.tab.IZoomToolbarContainer=bj;var bk=function(){this.$h=null;this.$n=null;this.$k=null;this.$j=null;this.$l={w:100,h:100};this.$m=null;this.$p=null;this.$q=0;this.$o=false;this.$i=null};bk.__typeName='tab.LeafletMapControl';bk.$0=function(L){var cG=256;var cH=document.createElement('canvas');cH.width=cG;cH.height=cG;var cI=tab.CanvasRenderer.getRenderContext(cH,'transparent');cI.set_shapeFillStyle(L);cI.fillRect(0,0,256,256);var cJ=cH.toDataURL('png',null);return cJ};bk.$1=function(cG){return new L.LatLng(cG.item1,cG.item2)};global.tab.LeafletMapControl=bk;var bl=function(L){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=L;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};bl.__typeName='tab.LineAttribute';global.tab.LineAttribute=bl;var bm=function(L){this.$1=null;this.$1=[];this.$0(L)};bm.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=bm;var bn=function(L,cG,cH){this.$2=null;cB.call(this,L,cG);this.$2=cH};bn.__typeName='tab.LocalRenderVizHitTestDebouncer';global.tab.LocalRenderVizHitTestDebouncer=bn;var bo=function(L,cG){this.$1=null;this.$2=null;this.$1=L;this.$2=cG};bo.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=bo;var bp=function(){};bp.__typeName='tab.LocalRenderVizSelectionDispatcher';bp.doSingleSelect=function(L,cG,cH,cI,cJ,cK){switch(L.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([L.get_id()],cK,cH,false,function(){cI(L)});break}case'refline':{tab.SelectionClientCommands.selectRefLinesLocal([L.get_id()],cK,cH,function(){cI(L)});break}case'visualparts':{var cL={x:cG.x,y:cG.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip('viz',cL,cH,cK,function(){cI(L)},cJ,null);break}default:{if(L.get_hitType()!==0){cI(L)}var cM=cJ==='always-clear'||cJ==='default'&&cH==='simple';if(cM){tab.SelectionClientCommands.clearAllSelections(cK)}break}}};bp.doMultiSelect=function(L,cG,cH,cI){var cJ=Z.getIdsFromHitTestResults(L,false);if(tab.MiscUtil.isNullOrEmpty$2(cJ)){if(cG==='simple'){tab.SelectionClientCommands.clearAllSelections(cI)}return false}else{tab.SelectionClientCommands.selectMarksLocal(cJ,cI,cG,true,cH);return true}};global.tab.LocalRenderVizSelectionDispatcher=bp;var bq=function(){this.attributionBackground=null;this.attributionLink=null;this.attributionLink2=null;spiff.Template.call(this,$(bq.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink');this.attributionLink2=this.getElementBySelector('.tabMapAttributionLink2')};bq.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=bq;var br=function(){};br.__typeName='tab.MapboxExpression';br.replaceString=function(L,cG,cH){if(tab.MiscUtil.isNullOrEmpty$3(cH)){return L}var cI=ss.safeCast(L,String);if(ss.isValue(cI)){if(ss.referenceEquals(cI,cG)){return cH}else{return cI}}var cJ=ss.safeCast(L,Array);if(ss.isNullOrUndefined(cJ)){return L}var cK=ss.arrayClone(cJ);for(var cL=0;cL<cK.length;++cL){cK[cL]=br.replaceString(cK[cL],cG,cH)}return cK};global.tab.MapboxExpression=br;var bs=function(){this.$B=null;this.$F=null;this.$E=null;this.$G={w:100,h:100};this.$C=false;this.$D=false;this.$H='unknown'};bs.__typeName='tab.MapboxMapControl';bs.$1=function(L,cG){L=L.replace(bs.$5,cG);var cH={};cH['url']=L;return cH};bs.$0=function(L,cG,cH,cI,cJ,cK){var cL=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(L)){cL=1}var cM={x:ss.Int32.trunc((cG+cK)*cL),y:ss.Int32.trunc((cH+cK)*cL),w:Math.max(ss.Int32.trunc((cI-2*cK)*cL),1),h:Math.max(ss.Int32.trunc((cJ-2*cK)*cL),1)};return cM};global.tab.MapboxMapControl=bs;var bt=function(){};bt.__typeName='tab.MapControlMetrics';bt.createLoadMapContext=function(L,cG){var cH=ss.mkdict(['viz',cG]);return tabBootstrap.MetricsController.createContext(L+'_CreateMap',32,JSON.stringify(cH))};bt.createInteractiveContext=function(L,cG){var cH=ss.mkdict(['viz',cG]);return tabBootstrap.MetricsController.createContext(L+'_FirstInteractive',32,JSON.stringify(cH))};global.tab.MapControlMetrics=bt;var bu=function(){};bu.__typeName='tab.MapControlTelemetry';bu.logMapCreateDone=function(L){tab.OnlineAnalyticsClient.logEvent('MapControl_CreateMap_Done',L)};global.tab.MapControlTelemetry=bu;var bv=function(){};bv.__typeName='tab.MapControlType';global.tab.MapControlType=bv;var bw=function(){};bw.__typeName='tab.MapRenderType';global.tab.MapRenderType=bw;var bx=function(L,cG){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[by,Object,Object]).call(this,tab.ObjectRegistry.newView(by).call(null,[L.viewModel]),L,cG);this.get_widget().set_isVisible(true);this.get_widget().set_isCollapsed(true)};bx.__typeName='tab.MapsSearchComponent';global.tab.MapsSearchComponent=bx;var by=function(L,cG){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$l=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$o=null;this.$m=false;this.$n=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[bz]).call(this,L,cG.get_template());this.mapsSearchViewModel=L;this.mapsSearchViewTemplate=cG;this.mapsSearchView=cG.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$l.get_domRoot());this.$l.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.add_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.add_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.add_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.add_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.add_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.add_blurInputElementCalled(ss.mkdel(this,this.$a));this.$i();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.remove_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.remove_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.remove_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.remove_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.remove_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.remove_blurInputElementCalled(ss.mkdel(this,this.$a));this.$h()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$e)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$f)));if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new P(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};by.__typeName='tab.MapsSearchView';by.newMapsSearchViewTemplate=function(){return new j};global.tab.MapsSearchView=by;var bz=function(L){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;spiff.BaseViewModel.call(this);this.$2=L};bz.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=bz;var bA=function(){};bA.__typeName='tab.MarkRange';bA.isInstanceOfType=function(){return true};global.tab.MarkRange=bA;var bB=function(L,cG){this.$1=null;this.$2=null;X.call(this,L);this.$2=cG};bB.__typeName='tab.MarksHitTestLink';bB.hitTestMarks=function(L,cG,cH,cI,cJ){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return[]}var cK;{var cL=tabBootstrap.MetricsController.createContext('HitTestMarks',256,null);try{var cM=(ss.isValue(cH)?cH:bB.buildHitTester(cI));cK=(ss.isValue(cJ)?cJ.hitTest(cM,cG,cI):cM.hitTest(L,cG,cI))}finally{if(ss.isValue(cL)){cL.dispose()}}}if(cK.length>0){return cK}else{return[]}};bB.buildHitTester=function(L){var cG=ba.buildLinearHitTestStructure(L);return new W(cG)};bB.getPaneKeysByHitTesting=function(L,cG){var cH=bB.buildHitTester(cG);var cI={x:L.x,y:L.y,w:1,h:1};var cJ=cH.hitTestPanes(cI);return cJ};global.tab.MarksHitTestLink=bB;var bC=function(L,cG){tab.CanvasRenderer.call(this,L,cG)};bC.__typeName='tab.MarksRenderer';bC.multipolygonMarkBuildMarkBound=function(L,cG){var cH='empty';var cI=L.getMarkGeometry(L.c.get('geometry').gv(cG));if(ss.isValue(cI)){cH=cI.geometryType}switch(cH){case'multiPolygon':{var cJ={x:0,y:0,w:0,h:0};{var cK=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)));bC.bBoxGeometry(cJ,cK,0,L.getMarkGeometry(L.c.get('geometry').gv(cG)))}return cJ;break}case'multiLineString':{var cL={x:0,y:0,w:0,h:0};{var cM=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)));bC.bBoxGeometry(cL,cM,L.c.get('size').gv(cG)/2,L.getMarkGeometry(L.c.get('geometry').gv(cG)))}return cL;break}case'multiPoint':{var cN={x:0,y:0,w:0,h:0};{var cO=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)));bC.bBoxGeometry(cN,cO,3.5,L.getMarkGeometry(L.c.get('geometry').gv(cG)))}return cN;break}case'empty':{var cP={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(cP,L.c.get('x').gv(cG),L.c.get('y').gv(cG),3.5)}return cP;break}default:{break}}return{x:0,y:0,w:0,h:0}};bC.multipolygonMarkExactHitTest=function(L,cG,cH,cI){var cJ=O.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI));var cK='empty';var cL=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cL)){cK=cL.geometryType}switch(cK){case'multiPolygon':{{if(O.isPointInMultipolygon(cL.multiPolygon,cJ.transformPoint({x:cG,y:cH}))){return true}}return false;break}case'multiLineString':{{if(O.isPointInMultiLineString(cL.multiLine,cJ.transformPoint({x:cG,y:cH}),L.c.get('size').gv(cI))){return true}}return false;break}case'multiPoint':{{if(O.isPointInMultipoint(cL.multiPoint,cJ.transformPoint({x:cG,y:cH}),3.5)){return true}}return false;break}case'empty':{{if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:3})){return true}}return false;break}default:{break}}return true};bC.multipolygonMarkNearHitTest=function(L,cG,cH,cI){var cJ=O.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI));var cK='empty';var cL=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cL)){cK=cL.geometryType}switch(cK){case'multiPolygon':{return false;break}case'multiLineString':{{if(O.isPointInMultiLineString(cL.multiLine,cJ.transformPoint({x:cG,y:cH}),L.c.get('size').gv(cI)+20)){return true}}return false;break}case'multiPoint':{return false;break}case'empty':{return false;break}default:{break}}return false};bC.multipolygonMarkGetHitTestExpansion=function(L,cG){var cH=null;{cH={w:10,h:10}}return cH;return{w:0,h:0}};bC.multipolygonMarkGetDistanceToMark=function(L,cG,cH,cI){var cJ='empty';var cK=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cK)){cJ=cK.geometryType}switch(cJ){case'multiPolygon':{return O.getSquaredDistanceToCenter(L.getMarkBounds(cI),{x:cG,y:cH});break}case'multiLineString':{return O.getSquaredDistanceToCenter(L.getMarkBounds(cI),{x:cG,y:cH});break}case'multiPoint':{return O.getSquaredDistanceToCenter(L.getMarkBounds(cI),{x:cG,y:cH});break}case'empty':{return O.getSquaredDistanceToCenter(L.getMarkBounds(cI),{x:cG,y:cH});break}default:{break}}return O.getSquaredDistanceToCenter(L.getMarkBounds(cI),{x:cG,y:cH})};bC.multipolygonMarkRectangleAreaHitTest=function(L,cG,cH){var cI=O.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH));var cJ='empty';var cK=L.getMarkGeometry(L.c.get('geometry').gv(cH));if(ss.isValue(cK)){cJ=cK.geometryType}switch(cJ){case'multiPolygon':{{if(O.multipolygonIntersectsDoubleRect(cK.multiPolygon,cI.transformRect(cG))){return true}}return false;break}case'multiLineString':{{if(O.multiLineStringIntersectsDoubleRect(cK.multiLine,cI.transformRect(cG),L.c.get('size').gv(cH))){return true}}return false;break}case'multiPoint':{{if(O.multipointIntersectsDoubleRect(cK.multiPoint,cI.transformRect(cG),3.5)){return true}}return false;break}case'empty':{{if(O.circleIntersectsRect({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:3},cG)){return true}}return false;break}default:{break}}return true};bC.multipolygonMarkCircleAreaHitTest=function(L,cG,cH,cI,cJ){var cK=O.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH));if(cJ){var cL='empty';var cM=L.getMarkGeometry(L.c.get('geometry').gv(cH));if(ss.isValue(cM)){cL=cM.geometryType}switch(cL){case'multiPolygon':{break}case'multiLineString':{{{if(O.multiLineStringIntersectsCircle(cM.multiLine,cK.transformCircle(cG),0)){return true}}return false}break}case'multiPoint':{{{if(O.multipointIntersectsCircle(cM.multiPoint,cK.transformCircle(cG),0)){return true}}return false}break}case'empty':{{{return O.isPointInCircle({x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},cG)}}break}default:{break}}}{var cN='empty';var cO=L.getMarkGeometry(L.c.get('geometry').gv(cH));if(ss.isValue(cO)){cN=cO.geometryType}switch(cN){case'multiPolygon':{{if(O.multipolygonIntersectsCircle(cO.multiPolygon,cK.transformCircle(cG))){return true}}return false;break}case'multiLineString':{{if(O.multiLineStringIntersectsCircle(cO.multiLine,cK.transformCircle(cG),L.c.get('size').gv(cH))){return true}}return false;break}case'multiPoint':{{if(O.multipointIntersectsCircle(cO.multiPoint,cK.transformCircle(cG),3.5)){return true}}return false;break}case'empty':{{if(O.circleIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:3})){return true}}return false;break}default:{break}}}return O.circleIntersectsRect(cG,cI)};bC.multipolygonMarkPolygonAreaHitTest=function(L,cG,cH,cI){var cJ=O.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH));var cK='empty';var cL=L.getMarkGeometry(L.c.get('geometry').gv(cH));if(ss.isValue(cL)){cK=cL.geometryType}switch(cK){case'multiPolygon':{{if(O.multipolygonIntersectsPolygon(cL.multiPolygon,cJ.transformPolygon(cG))){return true}}return false;break}case'multiLineString':{{if(O.multiLineStringIntersectsPolygon(cL.multiLine,cJ.transformPolygon(cG),L.c.get('size').gv(cH))){return true}}return false;break}case'multiPoint':{{if(O.multipointIntersectsPolygon(cL.multiPoint,cJ.transformPolygon(cG),3.5)){return true}}return false;break}case'empty':{{if(O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:3})){return true}}return false;break}default:{break}}return O.polygonIntersectsRect(cG,cI)};bC.areaMarkBuildMarkBound=function(L,cG){var cH=L.c.get('l_neighbor').gv(cG);var cI=L.c.get('r_neighbor').gv(cG);var cJ=L.lineInterpolation;var cK={x:0,y:0,w:0,h:0};if(cH!==-1){var cL=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),(L.c.get('x_next').gv(cH)+L.c.get('x_prev').gv(cG))/2,(L.c.get('y_next').gv(cH)+L.c.get('y_prev').gv(cG))/2);tab.RectXYUtil.unionInPlace(cK,cL);var cM=tab.RectXYUtil.rectXYFromCorners$2((L.c.get('x1').gv(cH)+L.c.get('x1').gv(cG))/2,(L.c.get('y1').gv(cH)+L.c.get('y1').gv(cG))/2,L.c.get('x_prev').gv(cG),L.c.get('y_prev').gv(cG));tab.RectXYUtil.unionInPlace(cK,cM);tab.RectXYUtil.outsetRectInPlace(cK,10,10)}if(cI!==-1){var cN=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),(L.c.get('x_prev').gv(cI)+L.c.get('x_next').gv(cG))/2,(L.c.get('y_prev').gv(cI)+L.c.get('y_next').gv(cG))/2);tab.RectXYUtil.unionInPlace(cK,cN);var cO=tab.RectXYUtil.rectXYFromCorners$2((L.c.get('x1').gv(cI)+L.c.get('x1').gv(cG))/2,(L.c.get('y1').gv(cI)+L.c.get('y1').gv(cG))/2,L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG));tab.RectXYUtil.unionInPlace(cK,cO);tab.RectXYUtil.outsetRectInPlace(cK,10,10)}if(cH===-1&&cI===-1){var cP=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x').gv(cG),L.c.get('y').gv(cG));{var cQ=20-cP.w;var cR=20-cP.h;if(cQ>0||cR>0){cP=tab.RectXYUtil.outsetRect(cP,Math.max(0,Math.ceil(cQ/2)),Math.max(0,Math.ceil(cR/2)))}}tab.RectXYUtil.unionInPlace(cK,cP)}return cK};bC.areaMarkExactHitTest=function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cI);var cK=L.c.get('r_neighbor').gv(cI);var cL=L.lineInterpolation;if(cJ!==-1){var cM=new Array(8);cM[0]=L.c.get('x1').gv(cI);cM[1]=L.c.get('y1').gv(cI);cM[2]=(L.c.get('x1').gv(cJ)+L.c.get('x1').gv(cI))/2;cM[3]=(L.c.get('y1').gv(cJ)+L.c.get('y1').gv(cI))/2;cM[4]=(L.c.get('x_next').gv(cJ)+L.c.get('x_prev').gv(cI))/2;cM[5]=(L.c.get('y_next').gv(cJ)+L.c.get('y_prev').gv(cI))/2;cM[6]=L.c.get('x_prev').gv(cI);cM[7]=L.c.get('y_prev').gv(cI);if(O.isPointInPoly(cM,{x:cG,y:cH},0)){return true}}if(cK!==-1){var cN=new Array(8);cN[0]=L.c.get('x1').gv(cI);cN[1]=L.c.get('y1').gv(cI);cN[2]=(L.c.get('x1').gv(cK)+L.c.get('x1').gv(cI))/2;cN[3]=(L.c.get('y1').gv(cK)+L.c.get('y1').gv(cI))/2;cN[4]=(L.c.get('x_prev').gv(cK)+L.c.get('x_next').gv(cI))/2;cN[5]=(L.c.get('y_prev').gv(cK)+L.c.get('y_next').gv(cI))/2;cN[6]=L.c.get('x_next').gv(cI);cN[7]=L.c.get('y_next').gv(cI);if(O.isPointInPoly(cN,{x:cG,y:cH},0)){return true}}if(cJ===-1&&cK===-1){return true}return false};bC.areaMarkNearHitTest=function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cI);var cK=L.c.get('r_neighbor').gv(cI);var cL=L.lineInterpolation;if(cJ!==-1){var cM=new Array(8);cM[0]=L.c.get('x1').gv(cI);cM[1]=L.c.get('y1').gv(cI);cM[2]=(L.c.get('x1').gv(cJ)+L.c.get('x1').gv(cI))/2;cM[3]=(L.c.get('y1').gv(cJ)+L.c.get('y1').gv(cI))/2;cM[4]=(L.c.get('x_next').gv(cJ)+L.c.get('x_prev').gv(cI))/2;cM[5]=(L.c.get('y_next').gv(cJ)+L.c.get('y_prev').gv(cI))/2;cM[6]=L.c.get('x_prev').gv(cI);cM[7]=L.c.get('y_prev').gv(cI);if(O.isPointInPoly(cM,{x:cG,y:cH},10)){return true}}if(cK!==-1){var cN=new Array(8);cN[0]=L.c.get('x1').gv(cI);cN[1]=L.c.get('y1').gv(cI);cN[2]=(L.c.get('x1').gv(cK)+L.c.get('x1').gv(cI))/2;cN[3]=(L.c.get('y1').gv(cK)+L.c.get('y1').gv(cI))/2;cN[4]=(L.c.get('x_prev').gv(cK)+L.c.get('x_next').gv(cI))/2;cN[5]=(L.c.get('y_prev').gv(cK)+L.c.get('y_next').gv(cI))/2;cN[6]=L.c.get('x_next').gv(cI);cN[7]=L.c.get('y_next').gv(cI);if(O.isPointInPoly(cN,{x:cG,y:cH},10)){return true}}if(cJ===-1&&cK===-1){return true}return false};bC.areaMarkGetHitTestExpansion=function(L,cG){return{w:0,h:0}};bC.areaMarkGetDistanceToMark=function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cI);var cK=L.c.get('r_neighbor').gv(cI);var cL=L.c.get('x1').gv(cI);var cM=L.c.get('y1').gv(cI);var cN=L.c.get('x_prev').gv(cI);var cO=L.c.get('y_prev').gv(cI);var cP=L.c.get('x_next').gv(cI);var cQ=L.c.get('y_next').gv(cI);var cR;{var cS=cG-cL;var cT=cH-cM;var cU=cS*cS+cT*cT;cR=cU}if(cJ!==-1){var cV=(L.c.get('x1').gv(cJ)+cL)/2;var cW=(L.c.get('y1').gv(cJ)+cM)/2;var cX=(L.c.get('x_next').gv(cJ)+cL)/2;var cY=(L.c.get('y_next').gv(cJ)+cM)/2;var cZ={x:(cL+cN)/2,y:(cM+cO)/2};var da={x:(cV+cX)/2,y:(cW+cY)/2};var db=O.getSquaredDistanceToLineSegment({x:cG,y:cH},cZ,da);cR=Math.min(cR,db)}else{var dc={x:cL,y:cM};var dd={x:cP,y:cQ};var de=O.getSquaredDistanceToLineSegment({x:cG,y:cH},dc,dd);cR=Math.min(cR,de)}if(cK!==-1){var df=(L.c.get('x1').gv(cK)+cL)/2;var dg=(L.c.get('y1').gv(cK)+cM)/2;var dh=(L.c.get('x_prev').gv(cK)+cL)/2;var di=(L.c.get('y_prev').gv(cK)+cM)/2;var dj={x:(cL+cP)/2,y:(cM+cQ)/2};var dk={x:(df+dh)/2,y:(dg+di)/2};var dl=O.getSquaredDistanceToLineSegment({x:cG,y:cH},dj,dk);cR=Math.min(cR,dl)}else if(cJ!==-1){var dm={x:cL,y:cM};var dn={x:cN,y:cO};var dp=O.getSquaredDistanceToLineSegment({x:cG,y:cH},dm,dn);cR=Math.min(cR,dp)}return cR};bC.areaMarkRectangleAreaHitTest=function(L,cG,cH){{if(O.circleIntersectsRect({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:2.5},cG)){return true}}{if(O.circleIntersectsRect({center:{x:L.c.get('x1').gv(cH),y:L.c.get('y1').gv(cH)},radius:2.5},cG)){return true}}return false};bC.areaMarkCircleAreaHitTest=function(L,cG,cH,cI,cJ){if(cJ){}{if(O.circleIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:2.5})){return true}}{if(O.circleIntersectsCircle(cG,{center:{x:L.c.get('x1').gv(cH),y:L.c.get('y1').gv(cH)},radius:2.5})){return true}}return false};bC.areaMarkPolygonAreaHitTest=function(L,cG,cH,cI){{if(O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:2.5})){return true}}{if(O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x1').gv(cH),y:L.c.get('y1').gv(cH)},radius:2.5})){return true}}return false};bC.getMarkLabelBoundingBox=function(L,cG){var cH={x:0,y:0,w:0,h:0};{var cI=L.getMarkLabelProperty('x',cG);var cJ=L.getMarkLabelProperty('y',cG);var cK=L.getMarkLabelProperty('width',cG);var cL=-L.getMarkLabelProperty('height',cG);cI+=0;cJ+=0;if(cL<0){cJ+=cL;cL=Math.abs(cL)}tab.RectXYUtil.set$1(cH,Math.floor(cI),Math.floor(cJ),Math.floor(cK),Math.floor(cL))}return cH};bC.pieMarkExactHitTest=function(L,cG,cH,cI){var cJ=L.c.get('size').gv(cI)/2;var cK=L.c.get('theta').gv(cI);var cL=L.c.get('theta1').gv(cI);if(cK>cL){var cM=cK;cK=cL;cL=cM}var cN={x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)};var cO={center:cN,radius:cJ};if(cL-cK>=1){return O.isPointInCircle({x:cG,y:cH},cO)}cK=tab.CanvasRenderer.toCanvasAngle(cK);cL=tab.CanvasRenderer.toCanvasAngle(cL);cK=O.normalizeAngle(cK);cL=O.normalizeAngle(cL);return O.isPointInWedge({x:cG,y:cH},cO,cK,cL)};bC.pieMarkRectangleAreaHitTest=function(L,cG,cH){var cI=L.c.get('size').gv(cH)/2;var cJ=L.c.get('theta').gv(cH);var cK=L.c.get('theta1').gv(cH);if(cJ>cK){var cL=cJ;cJ=cK;cK=cL}var cM={x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)};var cN={center:cM,radius:cI};if(cK-cJ>=1){return O.circleIntersectsRect(cN,cG)}cJ=tab.CanvasRenderer.toCanvasAngle(cJ);cK=tab.CanvasRenderer.toCanvasAngle(cK);cJ=O.normalizeAngle(cJ);cK=O.normalizeAngle(cK);return O.rectIntersectsWedge(cG,{center:cM,radius:cI},cJ,cK)};bC.pieMarkPolygonAreaHitTest=function(L,cG,cH){var cI=L.c.get('size').gv(cH)/2;var cJ=L.c.get('theta').gv(cH);var cK=L.c.get('theta1').gv(cH);if(cJ>cK){var cL=cJ;cJ=cK;cK=cL}var cM={x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)};var cN={center:cM,radius:cI};if(cK-cJ>=1){return O.polygonIntersectsCircle(cG,cN)}cJ=tab.CanvasRenderer.toCanvasAngle(cJ);cK=tab.CanvasRenderer.toCanvasAngle(cK);cJ=O.normalizeAngle(cJ);cK=O.normalizeAngle(cK);return O.polygonIntersectsWedge(cG,{center:cM,radius:cI},cJ,cK)};bC.pieMarkCircleAreaHitTest=function(L,cG,cH,cI){if(cI){{{return O.isPointInCircle({x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},cG)}}}var cJ=L.c.get('size').gv(cH)/2;var cK=L.c.get('theta').gv(cH);var cL=L.c.get('theta1').gv(cH);if(cK>cL){var cM=cK;cK=cL;cL=cM}var cN={x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)};var cO={center:cN,radius:cJ};if(cL-cK>=1){return O.circleIntersectsCircle(cO,cG)}cK=tab.CanvasRenderer.toCanvasAngle(cK);cL=tab.CanvasRenderer.toCanvasAngle(cL);cK=O.normalizeAngle(cK);cL=O.normalizeAngle(cL);return O.circleIntersectsWedge(cG,{center:cN,radius:cJ},cK,cL)};bC.getPieBoundingBox=function(L,cG){var cH={x:0,y:0,w:0,h:0};var cI=L.c.get('size').gv(cG)/2;{tab.RectXYUtil.unionInPlace(cH,bC.$1(L.c.get('x').gv(cG),L.c.get('y').gv(cG),cI,L.c.get('theta').gv(cG),L.c.get('theta1').gv(cG)))}if(L.c.get('draw_border').gv(cG)){tab.RectXYUtil.unionInPlace(cH,bC.$1(L.c.get('x').gv(cG),L.c.get('y').gv(cG),cI,L.c.get('theta').gv(cG),L.c.get('theta1').gv(cG)))}return cH};bC.textMarkBuildMarkBound=function(L,cG){var cH={x:0,y:0,w:0,h:0};if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cI=L.c.get('x').gv(cG);var cJ=L.c.get('y').gv(cG);var cK=L.c.get('width').gv(cG);var cL=-L.c.get('height').gv(cG);cI+=-L.c.get('width').gv(cG)/2;cJ+=L.c.get('height').gv(cG)/2;if(cL<0){cJ+=cL;cL=Math.abs(cL)}tab.RectXYUtil.set$1(cH,Math.floor(cI),Math.floor(cJ),Math.floor(cK),Math.floor(cL))}if(L.clipCase!==0&&L.useCellClipForSelection){var cM=L.c.get('x').gv(cG);var cN=L.c.get('y').gv(cG);var cO=L.c.get('clip_width').gv(cG);var cP=-L.c.get('clip_height').gv(cG);cM+=-L.c.get('clip_width').gv(cG)/2;cN+=L.c.get('clip_height').gv(cG)/2;if(cP<0){cN+=cP;cP=Math.abs(cP)}tab.RectXYUtil.set$1(cH,Math.floor(cM),Math.floor(cN),Math.floor(cO),Math.floor(cP))}return cH};bC.textMarkExactHitTest=function(L,cG,cH,cI){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return bC.$8(L.c.get('y').gv(cI)+L.c.get('height').gv(cI)/2,L.c.get('x').gv(cI)+-L.c.get('width').gv(cI)/2,-L.c.get('height').gv(cI),L.c.get('width').gv(cI),0,0,L.minBarHeight,L.minBarWidth,cG,cH)}if(L.clipCase!==0&&L.useCellClipForSelection){return bC.$8(L.c.get('y').gv(cI)+L.c.get('clip_height').gv(cI)/2,L.c.get('x').gv(cI)+-L.c.get('clip_width').gv(cI)/2,-L.c.get('clip_height').gv(cI),L.c.get('clip_width').gv(cI),0,0,L.minBarHeight,L.minBarWidth,cG,cH)}return false};bC.textMarkNearHitTest=function(L,cG,cH,cI){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return bC.$8(L.c.get('y').gv(cI)+(L.c.get('height').gv(cI)/2+10),L.c.get('x').gv(cI)+(-L.c.get('width').gv(cI)/2-10),-L.c.get('height').gv(cI)-20,L.c.get('width').gv(cI)+20,0,0,L.minBarHeight,L.minBarWidth,cG,cH)}if(L.clipCase!==0&&L.useCellClipForSelection){return bC.$8(L.c.get('y').gv(cI)+L.c.get('clip_height').gv(cI)/2,L.c.get('x').gv(cI)+-L.c.get('clip_width').gv(cI)/2,-L.c.get('clip_height').gv(cI),L.c.get('clip_width').gv(cI),0,0,L.minBarHeight,L.minBarWidth,cG,cH)}return false};bC.textMarkGetHitTestExpansion=function(L,cG){var cH=null;if(!(L.clipCase!==0&&L.useCellClipForSelection)){cH={w:10,h:10}}if(L.clipCase!==0&&L.useCellClipForSelection){cH={w:L.c.get('clip_width').gv(cG)/2,h:L.c.get('clip_height').gv(cG)/2}}return cH};bC.textMarkGetDistanceToMark=function(L,cG,cH,cI){var cJ=L.getMarkBounds(cI);return O.getSquaredDistanceToNearestSide(cJ,{x:cG,y:cH})};bC.textMarkRectangleAreaHitTest=function(L,cG,cH){return true};bC.textMarkCircleAreaHitTest=function(L,cG,cH,cI,cJ){if(cJ){{{return O.isPointInCircle({x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},cG)}}}return O.circleIntersectsRect(cG,cI)};bC.textMarkPolygonAreaHitTest=function(L,cG,cH,cI){return O.polygonIntersectsRect(cG,cI)};bC.barMarkBuildMarkBound=function(L,cG){var cH={x:0,y:0,w:0,h:0};var cI=ss.Int32.trunc(L.c.get('size').gv(cG)+0.5)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var cJ=L.c.get('y').gv(cG);var cK=L.c.get('y1').gv(cG);var cL=L.c.get('x').gv(cG);var cM=L.c.get('x1').gv(cG);bC.$2(L,cH,cJ,cL,cK,cM)}if(!L.scaleMarksInX&&L.scaleMarksInY){var cN=L.c.get('y').gv(cG);var cO=L.c.get('y1').gv(cG);var cP=L.c.get('x').gv(cG)-cI;var cQ=L.c.get('x').gv(cG)+cI;bC.$2(L,cH,cN,cP,cO,cQ)}if(L.scaleMarksInX&&!L.scaleMarksInY){var cR=L.c.get('y').gv(cG)-cI;var cS=L.c.get('y').gv(cG)+cI;var cT=L.c.get('x').gv(cG);var cU=L.c.get('x1').gv(cG);bC.$2(L,cH,cR,cT,cS,cU)}if(!L.scaleMarksInX&&!L.scaleMarksInY){var cV=L.c.get('y').gv(cG)-cI;var cW=L.c.get('y').gv(cG)+cI;var cX=L.c.get('x').gv(cG)-cI;var cY=L.c.get('x').gv(cG)+cI;bC.$2(L,cH,cV,cX,cW,cY)}return cH};bC.barMarkExactHitTest=function(L,cG,cH,cI){var cJ=L.c.get('size').gv(cI)/2;var cK=L.c.get('size').gv(cI)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var cL=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cM=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cN=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var cO=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var cP={x:cN,y:cL,w:cO-cN,h:cM-cL};tab.RectXYUtil.outsetRectInPlace(cP,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cP,cG,cH)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY){var cQ=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cR=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cS=Math.floor(Math.min(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var cT=Math.ceil(Math.max(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var cU={x:cS,y:cQ,w:cT-cS,h:cR-cQ};tab.RectXYUtil.outsetRectInPlace(cU,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cU,cG,cH)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY){var cV=Math.floor(Math.min(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var cW=Math.ceil(Math.max(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var cX=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var cY=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var cZ={x:cX,y:cV,w:cY-cX,h:cW-cV};tab.RectXYUtil.outsetRectInPlace(cZ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cZ,cG,cH)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY){var da=Math.floor(Math.min(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var db=Math.ceil(Math.max(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dc=Math.floor(Math.min(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dd=Math.ceil(Math.max(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var de={x:dc,y:da,w:dd-dc,h:db-da};tab.RectXYUtil.outsetRectInPlace(de,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(de,cG,cH)){return true}}return false};bC.barMarkNearHitTest=function(L,cG,cH,cI){var cJ=L.c.get('clip_width').gv(cI)/2;var cK=L.c.get('clip_height').gv(cI)/2;var cL=L.c.get('size').gv(cI)/2;var cM=L.c.get('size').gv(cI)/2;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cN=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cO=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cP=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var cQ=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var cR={x:cP,y:cN,w:cQ-cP,h:cO-cN};tab.RectXYUtil.outsetRectInPlace(cR,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cR,cG,cH)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cS=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cT=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var cU=Math.floor(Math.min(L.c.get('x').gv(cI)-cL,L.c.get('x').gv(cI)+cL));var cV=Math.ceil(Math.max(L.c.get('x').gv(cI)-cL,L.c.get('x').gv(cI)+cL));var cW={x:cU,y:cS,w:cV-cU,h:cT-cS};tab.RectXYUtil.outsetRectInPlace(cW,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cW,cG,cH)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cX=Math.floor(Math.min(L.c.get('y').gv(cI)-cM,L.c.get('y').gv(cI)+cM));var cY=Math.ceil(Math.max(L.c.get('y').gv(cI)-cM,L.c.get('y').gv(cI)+cM));var cZ=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var da=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var db={x:cZ,y:cX,w:da-cZ,h:cY-cX};tab.RectXYUtil.outsetRectInPlace(db,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(db,cG,cH)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var dc=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var dd=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var de=Math.floor(Math.min(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var df=Math.ceil(Math.max(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dg={x:de,y:dc,w:df-de,h:dd-dc};tab.RectXYUtil.outsetRectInPlace(dg,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(dg,cG,cH)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var dh=Math.floor(Math.min(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var di=Math.ceil(Math.max(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dj=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var dk=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var dl={x:dj,y:dh,w:dk-dj,h:di-dh};tab.RectXYUtil.outsetRectInPlace(dl,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dl,cG,cH)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var dm=Math.floor(Math.min(L.c.get('y').gv(cI)-cM,L.c.get('y').gv(cI)+cM));var dn=Math.ceil(Math.max(L.c.get('y').gv(cI)-cM,L.c.get('y').gv(cI)+cM));var dp=Math.floor(Math.min(L.c.get('x').gv(cI)-cL,L.c.get('x').gv(cI)+cL));var dq=Math.ceil(Math.max(L.c.get('x').gv(cI)-cL,L.c.get('x').gv(cI)+cL));var dr={x:dp,y:dm,w:dq-dp,h:dn-dm};tab.RectXYUtil.outsetRectInPlace(dr,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(dr,cG,cH)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var ds=Math.floor(Math.min(L.c.get('y').gv(cI)-cM,L.c.get('y').gv(cI)+cM));var dt=Math.ceil(Math.max(L.c.get('y').gv(cI)-cM,L.c.get('y').gv(cI)+cM));var du=Math.floor(Math.min(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dv=Math.ceil(Math.max(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dw={x:du,y:ds,w:dv-du,h:dt-ds};tab.RectXYUtil.outsetRectInPlace(dw,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(dw,cG,cH)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var dx=Math.floor(Math.min(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dy=Math.ceil(Math.max(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dz=Math.floor(Math.min(L.c.get('x').gv(cI)-cL,L.c.get('x').gv(cI)+cL));var dA=Math.ceil(Math.max(L.c.get('x').gv(cI)-cL,L.c.get('x').gv(cI)+cL));var dB={x:dz,y:dx,w:dA-dz,h:dy-dx};tab.RectXYUtil.outsetRectInPlace(dB,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dB,cG,cH)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dC=Math.floor(Math.min(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dD=Math.ceil(Math.max(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dE=Math.floor(Math.min(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dF=Math.ceil(Math.max(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dG={x:dE,y:dC,w:dF-dE,h:dD-dC};tab.RectXYUtil.outsetRectInPlace(dG,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dG,cG,cH)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dH=Math.floor(Math.min(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dI=Math.ceil(Math.max(L.c.get('y').gv(cI)-cK,L.c.get('y').gv(cI)+cK));var dJ=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var dK=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var dL={x:dJ,y:dH,w:dK-dJ,h:dI-dH};tab.RectXYUtil.outsetRectInPlace(dL,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dL,cG,cH)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dM=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var dN=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var dO=Math.floor(Math.min(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dP=Math.ceil(Math.max(L.c.get('x').gv(cI)-cJ,L.c.get('x').gv(cI)+cJ));var dQ={x:dO,y:dM,w:dP-dO,h:dN-dM};tab.RectXYUtil.outsetRectInPlace(dQ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dQ,cG,cH)){return true}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dR=Math.floor(Math.min(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var dS=Math.ceil(Math.max(L.c.get('y').gv(cI),L.c.get('y1').gv(cI)));var dT=Math.floor(Math.min(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var dU=Math.ceil(Math.max(L.c.get('x').gv(cI),L.c.get('x1').gv(cI)));var dV={x:dT,y:dR,w:dU-dT,h:dS-dR};tab.RectXYUtil.outsetRectInPlace(dV,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dV,cG,cH)){return true}}return false};bC.barMarkGetHitTestExpansion=function(L,cG){var cH=null;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cH={w:10,h:10}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cH={w:5,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cH={w:10,h:5}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){cH={w:L.c.get('clip_width').gv(cG)/2,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){cH={w:10,h:L.c.get('clip_height').gv(cG)/2}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cH={w:5,h:5}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){cH={w:5,h:L.c.get('clip_height').gv(cG)}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){cH={w:L.c.get('clip_width').gv(cG)/2,h:10}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cH={w:L.c.get('clip_width').gv(cG)/2,h:L.c.get('clip_height').gv(cG)/2}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cH={w:L.c.get('clip_width').gv(cG)/2,h:L.c.get('clip_height').gv(cG)/2}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cH={w:L.c.get('clip_width').gv(cG)/2,h:L.c.get('clip_height').gv(cG)/2}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cH={w:L.c.get('clip_width').gv(cG)/2,h:L.c.get('clip_height').gv(cG)/2}}return cH};bC.barMarkGetDistanceToMark=function(L,cG,cH,cI){var cJ=L.getMarkBounds(cI);return O.getSquaredDistanceToNearestSide(cJ,{x:cG,y:cH})};bC.barMarkRectangleAreaHitTest=function(L,cG,cH){return true};bC.barMarkCircleAreaHitTest=function(L,cG,cH,cI,cJ){if(cJ){if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){{return O.isPointInCircle({x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},cG)}}}return O.circleIntersectsRect(cG,cI)};bC.barMarkPolygonAreaHitTest=function(L,cG,cH,cI){return O.polygonIntersectsRect(cG,cI)};bC.lineMarkBuildMarkBound=function(L,cG){var cH=L.c.get('l_neighbor').gv(cG);var cI=L.c.get('r_neighbor').gv(cG);var cJ=L.lineInterpolation;var cK={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(cK,L.c.get('x').gv(cG),L.c.get('y').gv(cG),(L.c.get('size').gv(cG)+20)/2)}if(cH!==-1&&cJ==='lim-linear'){bC.$0(cK,(L.c.get('x').gv(cH)+L.c.get('x').gv(cG))/2,(L.c.get('y').gv(cH)+L.c.get('y').gv(cG))/2,(L.c.get('size').gv(cH)+L.c.get('size').gv(cG))/2+20,L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)+20)}if(cI!==-1&&cJ==='lim-linear'){bC.$0(cK,L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)+20,(L.c.get('x').gv(cG)+L.c.get('x').gv(cI))/2,(L.c.get('y').gv(cG)+L.c.get('y').gv(cI))/2,(L.c.get('size').gv(cG)+L.c.get('size').gv(cI))/2+20)}if(cI!==-1&&(cJ==='lim-step'||cJ==='lim-jump')){tab.RectXYUtil.encompassCircleInPlace(cK,L.c.get('x').gv(cI),L.c.get('y').gv(cG),(L.c.get('size').gv(cG)+20)/2)}if(cH!==-1&&cJ==='lim-step'){bC.$0(cK,L.c.get('x').gv(cG),L.c.get('y').gv(cH),L.c.get('size').gv(cH)+20,L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)+20)}if(cI!==-1&&(cJ==='lim-step'||cJ==='lim-jump')){bC.$0(cK,L.c.get('x').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG)+20,L.c.get('x').gv(cI),L.c.get('y').gv(cG),L.c.get('size').gv(cG)+20)}return cK};bC.lineMarkExactHitTest=function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cI);var cK=L.c.get('r_neighbor').gv(cI);var cL=L.lineInterpolation;{if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2})){return true}}if(cJ!==-1&&cL==='lim-linear'){if(bC.$9(cG,cH,(L.c.get('x').gv(cJ)+L.c.get('x').gv(cI))/2,(L.c.get('y').gv(cJ)+L.c.get('y').gv(cI))/2,(L.c.get('size').gv(cJ)+L.c.get('size').gv(cI))/2,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI))){return true}}if(cK!==-1&&cL==='lim-linear'){if(bC.$9(cG,cH,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI),(L.c.get('x').gv(cI)+L.c.get('x').gv(cK))/2,(L.c.get('y').gv(cI)+L.c.get('y').gv(cK))/2,(L.c.get('size').gv(cI)+L.c.get('size').gv(cK))/2)){return true}}if(cK!==-1&&(cL==='lim-step'||cL==='lim-jump')){if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cK),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2})){return true}}if(cJ!==-1&&cL==='lim-step'){if(bC.$9(cG,cH,L.c.get('x').gv(cI),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ),L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI))){return true}}if(cK!==-1&&(cL==='lim-step'||cL==='lim-jump')){if(bC.$9(cG,cH,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI),L.c.get('x').gv(cK),L.c.get('y').gv(cI),L.c.get('size').gv(cI))){return true}}return false};bC.lineMarkNearHitTest=function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cI);var cK=L.c.get('r_neighbor').gv(cI);var cL=L.lineInterpolation;{if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:(L.c.get('size').gv(cI)+20)/2})){return true}}if(cJ!==-1&&cL==='lim-linear'){if(bC.$9(cG,cH,(L.c.get('x').gv(cJ)+L.c.get('x').gv(cI))/2,(L.c.get('y').gv(cJ)+L.c.get('y').gv(cI))/2,(L.c.get('size').gv(cJ)+L.c.get('size').gv(cI))/2+20,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI)+20)){return true}}if(cK!==-1&&cL==='lim-linear'){if(bC.$9(cG,cH,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI)+20,(L.c.get('x').gv(cI)+L.c.get('x').gv(cK))/2,(L.c.get('y').gv(cI)+L.c.get('y').gv(cK))/2,(L.c.get('size').gv(cI)+L.c.get('size').gv(cK))/2+20)){return true}}if(cK!==-1&&(cL==='lim-step'||cL==='lim-jump')){if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cK),y:L.c.get('y').gv(cI)},radius:(L.c.get('size').gv(cI)+20)/2})){return true}}if(cJ!==-1&&cL==='lim-step'){if(bC.$9(cG,cH,L.c.get('x').gv(cI),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ)+20,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI)+20)){return true}}if(cK!==-1&&(cL==='lim-step'||cL==='lim-jump')){if(bC.$9(cG,cH,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI)+20,L.c.get('x').gv(cK),L.c.get('y').gv(cI),L.c.get('size').gv(cI)+20)){return true}}return false};bC.lineMarkGetHitTestExpansion=function(L,cG){return{w:0,h:0}};bC.lineMarkGetDistanceToMark=function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cI);var cK=L.c.get('r_neighbor').gv(cI);var cL=L.c.get('x1').gv(cI);var cM=L.c.get('y1').gv(cI);var cN;{var cO=cG-cL;var cP=cH-cM;var cQ=cO*cO+cP*cP;cN=cQ}if(cJ!==-1){var cR={x:(L.c.get('x').gv(cJ)+cL)/2,y:(L.c.get('y').gv(cJ)+cM)/2};var cS={x:cL,y:cM};var cT=O.getSquaredDistanceToLineSegment({x:cG,y:cH},cR,cS);cN=Math.min(cN,cT)}if(cK!==-1){var cU={x:cL,y:cM};var cV={x:(L.c.get('x').gv(cK)+cL)/2,y:(L.c.get('y').gv(cK)+cM)/2};var cW=O.getSquaredDistanceToLineSegment({x:cG,y:cH},cU,cV);cN=Math.min(cN,cW)}return cN};bC.lineMarkRectangleAreaHitTest=function(L,cG,cH){{if(O.circleIntersectsRect({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)/2},cG)){return true}}return false};bC.lineMarkCircleAreaHitTest=function(L,cG,cH,cI,cJ){if(cJ){{{return O.isPointInCircle({x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},cG)}}}{if(O.circleIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)/2})){return true}}return false};bC.lineMarkPolygonAreaHitTest=function(L,cG,cH,cI){{if(O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)/2})){return true}}return false};bC.shapeMarkBuildMarkBound=function(L,cG){var cH=L.c.get('shape_id').gv(cG);switch(cH){case'shapeIDCircle':{var cI={x:0,y:0,w:0,h:0};{var cJ=Math.round(L.c.get('x').gv(cG));var cK=Math.round(L.c.get('y').gv(cG));var cL=Math.ceil(L.c.get('size').gv(cG)*0.958333333333333/2);var cM=2*cL;tab.RectXYUtil.unionInPlace$1(cI,cJ-cL,cK-cL,cM,cM)}return cI}case'shapeIDFilledCircle':{var cN={x:0,y:0,w:0,h:0};{var cO=Math.round(L.c.get('x').gv(cG));var cP=Math.round(L.c.get('y').gv(cG));var cQ=Math.ceil(L.c.get('size').gv(cG)*0.979166666666667/2);var cR=2*cQ;tab.RectXYUtil.unionInPlace$1(cN,cO-cQ,cP-cQ,cR,cR)}return cN}case'shapeIDUnscaledFilledCircle':{var cS={x:0,y:0,w:0,h:0};{var cT=Math.round(L.c.get('x').gv(cG));var cU=Math.round(L.c.get('y').gv(cG));var cV=Math.ceil(L.c.get('size').gv(cG)/2);var cW=2*cV;tab.RectXYUtil.unionInPlace$1(cS,cT-cV,cU-cV,cW,cW)}return cS}case'shapeIDSquare':{var cX={x:0,y:0,w:0,h:0};{var cY=Math.round(L.c.get('x').gv(cG));var cZ=Math.round(L.c.get('y').gv(cG));var da=Math.ceil(L.c.get('size').gv(cG)*0.895833333333333/2);var db=2*da;tab.RectXYUtil.unionInPlace$1(cX,cY-da,cZ-da,db,db)}return cX}case'shapeIDFilledSquare':{var dc={x:0,y:0,w:0,h:0};{var dd=Math.round(L.c.get('x').gv(cG));var de=Math.round(L.c.get('y').gv(cG));var df=Math.ceil(L.c.get('size').gv(cG)*0.9375/2);var dg=2*df;tab.RectXYUtil.unionInPlace$1(dc,dd-df,de-df,dg,dg)}return dc}case'shapeIDAsterisk':{var dh={x:0,y:0,w:0,h:0};{var di=Math.round(L.c.get('x').gv(cG));var dj=Math.round(L.c.get('y').gv(cG));var dk=Math.ceil(L.c.get('size').gv(cG)*0.958333333333333/2);var dl=2*dk;tab.RectXYUtil.unionInPlace$1(dh,di-dk,dj-dk,dl,dl)}return dh}case'shapeIDPlus':{var dm={x:0,y:0,w:0,h:0};{var dn=Math.round(L.c.get('x').gv(cG));var dp=Math.round(L.c.get('y').gv(cG));var dq=Math.ceil(L.c.get('size').gv(cG)*0.916666666666667/2);var dr=2*dq;tab.RectXYUtil.unionInPlace$1(dm,dn-dq,dp-dq,dr,dr)}return dm}case'shapeIDFilledPlus':{var ds={x:0,y:0,w:0,h:0};{var dt=Math.round(L.c.get('x').gv(cG));var du=Math.round(L.c.get('y').gv(cG));var dv=Math.ceil(L.c.get('size').gv(cG)*0.9375/2);var dw=2*dv;tab.RectXYUtil.unionInPlace$1(ds,dt-dv,du-dv,dw,dw)}return ds}case'shapeIDTimes':{var dx={x:0,y:0,w:0,h:0};{var dy=Math.round(L.c.get('x').gv(cG));var dz=Math.round(L.c.get('y').gv(cG));var dA=Math.ceil(L.c.get('size').gv(cG)*0.875/2);var dB=2*dA;tab.RectXYUtil.unionInPlace$1(dx,dy-dA,dz-dA,dB,dB)}return dx}case'shapeIDFilledTimes':{var dC={x:0,y:0,w:0,h:0};{var dD=Math.round(L.c.get('x').gv(cG));var dE=Math.round(L.c.get('y').gv(cG));var dF=Math.ceil(L.c.get('size').gv(cG)*0.9375/2);var dG=2*dF;tab.RectXYUtil.unionInPlace$1(dC,dD-dF,dE-dF,dG,dG)}return dC}case'shapeIDDiamond':{var dH={x:0,y:0,w:0,h:0};{var dI=Math.round(L.c.get('x').gv(cG));var dJ=Math.round(L.c.get('y').gv(cG));var dK=Math.ceil(L.c.get('size').gv(cG)*1.04166666666667/2);var dL=2*dK;tab.RectXYUtil.unionInPlace$1(dH,dI-dK,dJ-dK,dL,dL)}return dH}case'shapeIDFilledDiamond':{var dM={x:0,y:0,w:0,h:0};{var dN=Math.round(L.c.get('x').gv(cG));var dO=Math.round(L.c.get('y').gv(cG));var dP=Math.ceil(L.c.get('size').gv(cG)*1.04166666666667/2);var dQ=2*dP;tab.RectXYUtil.unionInPlace$1(dM,dN-dP,dO-dP,dQ,dQ)}return dM}case'shapeIDTriangle':{var dR={x:0,y:0,w:0,h:0};{var dS=Math.round(L.c.get('x').gv(cG));var dT=Math.round(L.c.get('y').gv(cG));var dU=Math.ceil(L.c.get('size').gv(cG)*0.895833333333333/2);var dV=2*dU;tab.RectXYUtil.unionInPlace$1(dR,dS-dU,dT-dU,dV,dV)}return dR}case'shapeIDFilledTriangle':{var dW={x:0,y:0,w:0,h:0};{var dX=Math.round(L.c.get('x').gv(cG));var dY=Math.round(L.c.get('y').gv(cG));var dZ=Math.ceil(L.c.get('size').gv(cG)*0.916666666666667/2);var ea=2*dZ;tab.RectXYUtil.unionInPlace$1(dW,dX-dZ,dY-dZ,ea,ea)}return dW}case'shapeIDDownTriangle':{var eb={x:0,y:0,w:0,h:0};{var ec=Math.round(L.c.get('x').gv(cG));var ed=Math.round(L.c.get('y').gv(cG));var ee=Math.ceil(L.c.get('size').gv(cG)*0.895833333333333/2);var ef=2*ee;tab.RectXYUtil.unionInPlace$1(eb,ec-ee,ed-ee,ef,ef)}return eb}case'shapeIDFilledDownTriangle':{var eg={x:0,y:0,w:0,h:0};{var eh=Math.round(L.c.get('x').gv(cG));var ei=Math.round(L.c.get('y').gv(cG));var ej=Math.ceil(L.c.get('size').gv(cG)*0.916666666666667/2);var ek=2*ej;tab.RectXYUtil.unionInPlace$1(eg,eh-ej,ei-ej,ek,ek)}return eg}case'shapeIDLeftTriangle':{var el={x:0,y:0,w:0,h:0};{var em=Math.round(L.c.get('x').gv(cG));var en=Math.round(L.c.get('y').gv(cG));var eo=Math.ceil(L.c.get('size').gv(cG)*0.895833333333333/2);var ep=2*eo;tab.RectXYUtil.unionInPlace$1(el,em-eo,en-eo,ep,ep)}return el}case'shapeIDFilledLeftTriangle':{var eq={x:0,y:0,w:0,h:0};{var er=Math.round(L.c.get('x').gv(cG));var es=Math.round(L.c.get('y').gv(cG));var et=Math.ceil(L.c.get('size').gv(cG)*0.916666666666667/2);var eu=2*et;tab.RectXYUtil.unionInPlace$1(eq,er-et,es-et,eu,eu)}return eq}case'shapeIDRightTriangle':{var ev={x:0,y:0,w:0,h:0};{var ew=Math.round(L.c.get('x').gv(cG));var ex=Math.round(L.c.get('y').gv(cG));var ey=Math.ceil(L.c.get('size').gv(cG)*0.895833333333333/2);var ez=2*ey;tab.RectXYUtil.unionInPlace$1(ev,ew-ey,ex-ey,ez,ez)}return ev}case'shapeIDFilledRightTriangle':{var eA={x:0,y:0,w:0,h:0};{var eB=Math.round(L.c.get('x').gv(cG));var eC=Math.round(L.c.get('y').gv(cG));var eD=Math.ceil(L.c.get('size').gv(cG)*0.916666666666667/2);var eE=2*eD;tab.RectXYUtil.unionInPlace$1(eA,eB-eD,eC-eD,eE,eE)}return eA}case'shapeIDFilledStar':{var eF={x:0,y:0,w:0,h:0};{var eG=Math.round(L.c.get('x').gv(cG));var eH=Math.round(L.c.get('y').gv(cG));var eI=Math.ceil(L.c.get('size').gv(cG)*1.09166666666667/2);var eJ=2*eI;tab.RectXYUtil.unionInPlace$1(eF,eG-eI,eH-eI,eJ,eJ)}return eF}default:{if(cH>null){var eK=Math.round(L.c.get('x').gv(cG));var eL=Math.round(L.c.get('y').gv(cG));var eM=Math.ceil(L.c.get('size').gv(cG));var eN=Math.ceil(eM/2);var eO={x:eK-eN,y:eL-eN,w:eM,h:eM};return eO}break}}return{x:0,y:0,w:0,h:0}};bC.shapeMarkExactHitTest=function(L,cG,cH,cI){var cJ=L.c.get('shape_id').gv(cI);switch(cJ){case'shapeIDCircle':{{if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(O.isPointInCircle({x:cG,y:cH},{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2})){return true}}return false}case'shapeIDSquare':{{var cK=L.c.get('size').gv(cI)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cK,L.c.get('y').gv(cI)-cK,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,cG,cH)){return true}}return false}case'shapeIDFilledSquare':{{var cL=L.c.get('size').gv(cI)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cL,L.c.get('y').gv(cI)-cL,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,cG,cH)){return true}}return false}case'shapeIDAsterisk':{{var cM=L.c.get('size').gv(cI)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cM,L.c.get('y').gv(cI)-cM,L.c.get('size').gv(cI)*0.958333333333333,L.c.get('size').gv(cI)*0.958333333333333,cG,cH)){return true}}return false}case'shapeIDPlus':{{var cN=L.c.get('size').gv(cI)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cN,L.c.get('y').gv(cI)-cN,L.c.get('size').gv(cI)*0.916666666666667,L.c.get('size').gv(cI)*0.916666666666667,cG,cH)){return true}}return false}case'shapeIDFilledPlus':{{var cO=L.c.get('size').gv(cI)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cO,L.c.get('y').gv(cI)-cO,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,cG,cH)){return true}}return false}case'shapeIDTimes':{{var cP=L.c.get('size').gv(cI)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cP,L.c.get('y').gv(cI)-cP,L.c.get('size').gv(cI)*0.875,L.c.get('size').gv(cI)*0.875,cG,cH)){return true}}return false}case'shapeIDFilledTimes':{{var cQ=L.c.get('size').gv(cI)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cQ,L.c.get('y').gv(cI)-cQ,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,cG,cH)){return true}}return false}case'shapeIDDiamond':{{var cR=L.c.get('size').gv(cI)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cR,L.c.get('y').gv(cI)-cR,L.c.get('size').gv(cI)*1.04166666666667,L.c.get('size').gv(cI)*1.04166666666667,cG,cH)){return true}}return false}case'shapeIDFilledDiamond':{{var cS=L.c.get('size').gv(cI)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cS,L.c.get('y').gv(cI)-cS,L.c.get('size').gv(cI)*1.04166666666667,L.c.get('size').gv(cI)*1.04166666666667,cG,cH)){return true}}return false}case'shapeIDTriangle':{{var cT=L.c.get('size').gv(cI)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cT,L.c.get('y').gv(cI)-cT,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,cG,cH)){return true}}return false}case'shapeIDFilledTriangle':{{var cU=L.c.get('size').gv(cI)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cU,L.c.get('y').gv(cI)-cU,L.c.get('size').gv(cI)*0.916666666666667,L.c.get('size').gv(cI)*0.916666666666667,cG,cH)){return true}}return false}case'shapeIDDownTriangle':{{var cV=L.c.get('size').gv(cI)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cV,L.c.get('y').gv(cI)-cV,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,cG,cH)){return true}}return false}case'shapeIDFilledDownTriangle':{{var cW=L.c.get('size').gv(cI)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cW,L.c.get('y').gv(cI)-cW,L.c.get('size').gv(cI)*0.916666666666667,L.c.get('size').gv(cI)*0.916666666666667,cG,cH)){return true}}return false}case'shapeIDLeftTriangle':{{var cX=L.c.get('size').gv(cI)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cX,L.c.get('y').gv(cI)-cX,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,cG,cH)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var cY=L.c.get('size').gv(cI)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cY,L.c.get('y').gv(cI)-cY,L.c.get('size').gv(cI)*0.916666666666667,L.c.get('size').gv(cI)*0.916666666666667,cG,cH)){return true}}return false}case'shapeIDRightTriangle':{{var cZ=L.c.get('size').gv(cI)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-cZ,L.c.get('y').gv(cI)-cZ,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,cG,cH)){return true}}return false}case'shapeIDFilledRightTriangle':{{var da=L.c.get('size').gv(cI)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-da,L.c.get('y').gv(cI)-da,L.c.get('size').gv(cI)*0.916666666666667,L.c.get('size').gv(cI)*0.916666666666667,cG,cH)){return true}}return false}case'shapeIDFilledStar':{{var db=L.c.get('size').gv(cI)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-db,L.c.get('y').gv(cI)-db,L.c.get('size').gv(cI)*1.09166666666667,L.c.get('size').gv(cI)*1.09166666666667,cG,cH)){return true}}return false}default:{if(cJ>null){var dc=L.c.get('size').gv(cI);var dd=dc/2;return tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cI)-dd,L.c.get('y').gv(cI)-dd,dc,dc,cG,cH)}break}}return true};bC.shapeMarkNearHitTest=function(L,cG,cH,cI){var cJ=L.c.get('shape_id').gv(cI);switch(cJ){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};bC.shapeMarkGetHitTestExpansion=function(L,cG){var cH=null;{cH={w:10,h:10}}return cH};bC.shapeMarkGetDistanceToMark=function(L,cG,cH,cI){var cJ=L.c.get('shape_id').gv(cI);switch(cJ){case'shapeIDCircle':{var cK=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cK,{x:cG,y:cH})}case'shapeIDFilledCircle':{var cL=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cL,{x:cG,y:cH})}case'shapeIDUnscaledFilledCircle':{var cM=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cM,{x:cG,y:cH})}case'shapeIDSquare':{var cN=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cN,{x:cG,y:cH})}case'shapeIDFilledSquare':{var cO=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cO,{x:cG,y:cH})}case'shapeIDAsterisk':{var cP=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cP,{x:cG,y:cH})}case'shapeIDPlus':{var cQ=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cQ,{x:cG,y:cH})}case'shapeIDFilledPlus':{var cR=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cR,{x:cG,y:cH})}case'shapeIDTimes':{var cS=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cS,{x:cG,y:cH})}case'shapeIDFilledTimes':{var cT=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cT,{x:cG,y:cH})}case'shapeIDDiamond':{var cU=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cU,{x:cG,y:cH})}case'shapeIDFilledDiamond':{var cV=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cV,{x:cG,y:cH})}case'shapeIDTriangle':{var cW=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cW,{x:cG,y:cH})}case'shapeIDFilledTriangle':{var cX=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cX,{x:cG,y:cH})}case'shapeIDDownTriangle':{var cY=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cY,{x:cG,y:cH})}case'shapeIDFilledDownTriangle':{var cZ=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(cZ,{x:cG,y:cH})}case'shapeIDLeftTriangle':{var da=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(da,{x:cG,y:cH})}case'shapeIDFilledLeftTriangle':{var db=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(db,{x:cG,y:cH})}case'shapeIDRightTriangle':{var dc=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(dc,{x:cG,y:cH})}case'shapeIDFilledRightTriangle':{var dd=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(dd,{x:cG,y:cH})}case'shapeIDFilledStar':{var de=L.getMarkBounds(cI);return O.getSquaredDistanceToCircumference(de,{x:cG,y:cH})}default:{break}}return O.getSquaredDistanceToCenter(L.getMarkBounds(cI),{x:cG,y:cH})};bC.shapeMarkRectangleAreaHitTest=function(L,cG,cH){var cI=L.c.get('shape_id').gv(cH);switch(cI){case'shapeIDCircle':{return O.circleIntersectsRect({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)*0.958333333333333/2},cG)}case'shapeIDFilledCircle':{return O.circleIntersectsRect({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)*0.979166666666667/2},cG)}case'shapeIDUnscaledFilledCircle':{return O.circleIntersectsRect({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)/2},cG)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};bC.shapeMarkCircleAreaHitTest=function(L,cG,cH,cI){if(cI){{{return O.isPointInCircle({x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},cG)}}}var cJ=L.c.get('shape_id').gv(cH);switch(cJ){case'shapeIDCircle':{return O.circleIntersectsCircle({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)*0.958333333333333/2},cG)}case'shapeIDFilledCircle':{return O.circleIntersectsCircle({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)*0.979166666666667/2},cG)}case'shapeIDUnscaledFilledCircle':{return O.circleIntersectsCircle({center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)/2},cG)}case'shapeIDSquare':{var cK={x:0,y:0,w:0,h:0};{var cL=Math.round(L.c.get('x').gv(cH));var cM=Math.round(L.c.get('y').gv(cH));var cN=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var cO=2*cN;tab.RectXYUtil.unionInPlace$1(cK,cL-cN,cM-cN,cO,cO)}return O.circleIntersectsRect(cG,cK)}case'shapeIDFilledSquare':{var cP={x:0,y:0,w:0,h:0};{var cQ=Math.round(L.c.get('x').gv(cH));var cR=Math.round(L.c.get('y').gv(cH));var cS=Math.ceil(L.c.get('size').gv(cH)*0.9375/2);var cT=2*cS;tab.RectXYUtil.unionInPlace$1(cP,cQ-cS,cR-cS,cT,cT)}return O.circleIntersectsRect(cG,cP)}case'shapeIDAsterisk':{var cU={x:0,y:0,w:0,h:0};{var cV=Math.round(L.c.get('x').gv(cH));var cW=Math.round(L.c.get('y').gv(cH));var cX=Math.ceil(L.c.get('size').gv(cH)*0.958333333333333/2);var cY=2*cX;tab.RectXYUtil.unionInPlace$1(cU,cV-cX,cW-cX,cY,cY)}return O.circleIntersectsRect(cG,cU)}case'shapeIDPlus':{var cZ={x:0,y:0,w:0,h:0};{var da=Math.round(L.c.get('x').gv(cH));var db=Math.round(L.c.get('y').gv(cH));var dc=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var dd=2*dc;tab.RectXYUtil.unionInPlace$1(cZ,da-dc,db-dc,dd,dd)}return O.circleIntersectsRect(cG,cZ)}case'shapeIDFilledPlus':{var de={x:0,y:0,w:0,h:0};{var df=Math.round(L.c.get('x').gv(cH));var dg=Math.round(L.c.get('y').gv(cH));var dh=Math.ceil(L.c.get('size').gv(cH)*0.9375/2);var di=2*dh;tab.RectXYUtil.unionInPlace$1(de,df-dh,dg-dh,di,di)}return O.circleIntersectsRect(cG,de)}case'shapeIDTimes':{var dj={x:0,y:0,w:0,h:0};{var dk=Math.round(L.c.get('x').gv(cH));var dl=Math.round(L.c.get('y').gv(cH));var dm=Math.ceil(L.c.get('size').gv(cH)*0.875/2);var dn=2*dm;tab.RectXYUtil.unionInPlace$1(dj,dk-dm,dl-dm,dn,dn)}return O.circleIntersectsRect(cG,dj)}case'shapeIDFilledTimes':{var dp={x:0,y:0,w:0,h:0};{var dq=Math.round(L.c.get('x').gv(cH));var dr=Math.round(L.c.get('y').gv(cH));var ds=Math.ceil(L.c.get('size').gv(cH)*0.9375/2);var dt=2*ds;tab.RectXYUtil.unionInPlace$1(dp,dq-ds,dr-ds,dt,dt)}return O.circleIntersectsRect(cG,dp)}case'shapeIDDiamond':{var du={x:0,y:0,w:0,h:0};{var dv=Math.round(L.c.get('x').gv(cH));var dw=Math.round(L.c.get('y').gv(cH));var dx=Math.ceil(L.c.get('size').gv(cH)*1.04166666666667/2);var dy=2*dx;tab.RectXYUtil.unionInPlace$1(du,dv-dx,dw-dx,dy,dy)}return O.circleIntersectsRect(cG,du)}case'shapeIDFilledDiamond':{var dz={x:0,y:0,w:0,h:0};{var dA=Math.round(L.c.get('x').gv(cH));var dB=Math.round(L.c.get('y').gv(cH));var dC=Math.ceil(L.c.get('size').gv(cH)*1.04166666666667/2);var dD=2*dC;tab.RectXYUtil.unionInPlace$1(dz,dA-dC,dB-dC,dD,dD)}return O.circleIntersectsRect(cG,dz)}case'shapeIDTriangle':{var dE={x:0,y:0,w:0,h:0};{var dF=Math.round(L.c.get('x').gv(cH));var dG=Math.round(L.c.get('y').gv(cH));var dH=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var dI=2*dH;tab.RectXYUtil.unionInPlace$1(dE,dF-dH,dG-dH,dI,dI)}return O.circleIntersectsRect(cG,dE)}case'shapeIDFilledTriangle':{var dJ={x:0,y:0,w:0,h:0};{var dK=Math.round(L.c.get('x').gv(cH));var dL=Math.round(L.c.get('y').gv(cH));var dM=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var dN=2*dM;tab.RectXYUtil.unionInPlace$1(dJ,dK-dM,dL-dM,dN,dN)}return O.circleIntersectsRect(cG,dJ)}case'shapeIDDownTriangle':{var dO={x:0,y:0,w:0,h:0};{var dP=Math.round(L.c.get('x').gv(cH));var dQ=Math.round(L.c.get('y').gv(cH));var dR=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var dS=2*dR;tab.RectXYUtil.unionInPlace$1(dO,dP-dR,dQ-dR,dS,dS)}return O.circleIntersectsRect(cG,dO)}case'shapeIDFilledDownTriangle':{var dT={x:0,y:0,w:0,h:0};{var dU=Math.round(L.c.get('x').gv(cH));var dV=Math.round(L.c.get('y').gv(cH));var dW=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var dX=2*dW;tab.RectXYUtil.unionInPlace$1(dT,dU-dW,dV-dW,dX,dX)}return O.circleIntersectsRect(cG,dT)}case'shapeIDLeftTriangle':{var dY={x:0,y:0,w:0,h:0};{var dZ=Math.round(L.c.get('x').gv(cH));var ea=Math.round(L.c.get('y').gv(cH));var eb=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var ec=2*eb;tab.RectXYUtil.unionInPlace$1(dY,dZ-eb,ea-eb,ec,ec)}return O.circleIntersectsRect(cG,dY)}case'shapeIDFilledLeftTriangle':{var ed={x:0,y:0,w:0,h:0};{var ee=Math.round(L.c.get('x').gv(cH));var ef=Math.round(L.c.get('y').gv(cH));var eg=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var eh=2*eg;tab.RectXYUtil.unionInPlace$1(ed,ee-eg,ef-eg,eh,eh)}return O.circleIntersectsRect(cG,ed)}case'shapeIDRightTriangle':{var ei={x:0,y:0,w:0,h:0};{var ej=Math.round(L.c.get('x').gv(cH));var ek=Math.round(L.c.get('y').gv(cH));var el=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var em=2*el;tab.RectXYUtil.unionInPlace$1(ei,ej-el,ek-el,em,em)}return O.circleIntersectsRect(cG,ei)}case'shapeIDFilledRightTriangle':{var en={x:0,y:0,w:0,h:0};{var eo=Math.round(L.c.get('x').gv(cH));var ep=Math.round(L.c.get('y').gv(cH));var eq=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var er=2*eq;tab.RectXYUtil.unionInPlace$1(en,eo-eq,ep-eq,er,er)}return O.circleIntersectsRect(cG,en)}case'shapeIDFilledStar':{var es={x:0,y:0,w:0,h:0};{var et=Math.round(L.c.get('x').gv(cH));var eu=Math.round(L.c.get('y').gv(cH));var ev=Math.ceil(L.c.get('size').gv(cH)*1.09166666666667/2);var ew=2*ev;tab.RectXYUtil.unionInPlace$1(es,et-ev,eu-ev,ew,ew)}return O.circleIntersectsRect(cG,es)}default:{var ex=Math.round(L.c.get('x').gv(cH));var ey=Math.round(L.c.get('y').gv(cH));var ez=Math.ceil(L.c.get('size').gv(cH));var eA=Math.ceil(ez/2);var eB={x:ex-eA,y:ey-eA,w:ez,h:ez};return O.circleIntersectsRect(cG,eB)}}};bC.shapeMarkPolygonAreaHitTest=function(L,cG,cH){var cI=L.c.get('shape_id').gv(cH);switch(cI){case'shapeIDCircle':{return O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)*0.958333333333333/2})}case'shapeIDFilledCircle':{return O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return O.polygonIntersectsCircle(cG,{center:{x:L.c.get('x').gv(cH),y:L.c.get('y').gv(cH)},radius:L.c.get('size').gv(cH)/2})}case'shapeIDSquare':{var cJ={x:0,y:0,w:0,h:0};{var cK=Math.round(L.c.get('x').gv(cH));var cL=Math.round(L.c.get('y').gv(cH));var cM=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var cN=2*cM;tab.RectXYUtil.unionInPlace$1(cJ,cK-cM,cL-cM,cN,cN)}return O.polygonIntersectsRect(cG,cJ)}case'shapeIDFilledSquare':{var cO={x:0,y:0,w:0,h:0};{var cP=Math.round(L.c.get('x').gv(cH));var cQ=Math.round(L.c.get('y').gv(cH));var cR=Math.ceil(L.c.get('size').gv(cH)*0.9375/2);var cS=2*cR;tab.RectXYUtil.unionInPlace$1(cO,cP-cR,cQ-cR,cS,cS)}return O.polygonIntersectsRect(cG,cO)}case'shapeIDAsterisk':{var cT={x:0,y:0,w:0,h:0};{var cU=Math.round(L.c.get('x').gv(cH));var cV=Math.round(L.c.get('y').gv(cH));var cW=Math.ceil(L.c.get('size').gv(cH)*0.958333333333333/2);var cX=2*cW;tab.RectXYUtil.unionInPlace$1(cT,cU-cW,cV-cW,cX,cX)}return O.polygonIntersectsRect(cG,cT)}case'shapeIDPlus':{var cY={x:0,y:0,w:0,h:0};{var cZ=Math.round(L.c.get('x').gv(cH));var da=Math.round(L.c.get('y').gv(cH));var db=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var dc=2*db;tab.RectXYUtil.unionInPlace$1(cY,cZ-db,da-db,dc,dc)}return O.polygonIntersectsRect(cG,cY)}case'shapeIDFilledPlus':{var dd={x:0,y:0,w:0,h:0};{var de=Math.round(L.c.get('x').gv(cH));var df=Math.round(L.c.get('y').gv(cH));var dg=Math.ceil(L.c.get('size').gv(cH)*0.9375/2);var dh=2*dg;tab.RectXYUtil.unionInPlace$1(dd,de-dg,df-dg,dh,dh)}return O.polygonIntersectsRect(cG,dd)}case'shapeIDTimes':{var di={x:0,y:0,w:0,h:0};{var dj=Math.round(L.c.get('x').gv(cH));var dk=Math.round(L.c.get('y').gv(cH));var dl=Math.ceil(L.c.get('size').gv(cH)*0.875/2);var dm=2*dl;tab.RectXYUtil.unionInPlace$1(di,dj-dl,dk-dl,dm,dm)}return O.polygonIntersectsRect(cG,di)}case'shapeIDFilledTimes':{var dn={x:0,y:0,w:0,h:0};{var dp=Math.round(L.c.get('x').gv(cH));var dq=Math.round(L.c.get('y').gv(cH));var dr=Math.ceil(L.c.get('size').gv(cH)*0.9375/2);var ds=2*dr;tab.RectXYUtil.unionInPlace$1(dn,dp-dr,dq-dr,ds,ds)}return O.polygonIntersectsRect(cG,dn)}case'shapeIDDiamond':{var dt={x:0,y:0,w:0,h:0};{var du=Math.round(L.c.get('x').gv(cH));var dv=Math.round(L.c.get('y').gv(cH));var dw=Math.ceil(L.c.get('size').gv(cH)*1.04166666666667/2);var dx=2*dw;tab.RectXYUtil.unionInPlace$1(dt,du-dw,dv-dw,dx,dx)}return O.polygonIntersectsRect(cG,dt)}case'shapeIDFilledDiamond':{var dy={x:0,y:0,w:0,h:0};{var dz=Math.round(L.c.get('x').gv(cH));var dA=Math.round(L.c.get('y').gv(cH));var dB=Math.ceil(L.c.get('size').gv(cH)*1.04166666666667/2);var dC=2*dB;tab.RectXYUtil.unionInPlace$1(dy,dz-dB,dA-dB,dC,dC)}return O.polygonIntersectsRect(cG,dy)}case'shapeIDTriangle':{var dD={x:0,y:0,w:0,h:0};{var dE=Math.round(L.c.get('x').gv(cH));var dF=Math.round(L.c.get('y').gv(cH));var dG=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var dH=2*dG;tab.RectXYUtil.unionInPlace$1(dD,dE-dG,dF-dG,dH,dH)}return O.polygonIntersectsRect(cG,dD)}case'shapeIDFilledTriangle':{var dI={x:0,y:0,w:0,h:0};{var dJ=Math.round(L.c.get('x').gv(cH));var dK=Math.round(L.c.get('y').gv(cH));var dL=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var dM=2*dL;tab.RectXYUtil.unionInPlace$1(dI,dJ-dL,dK-dL,dM,dM)}return O.polygonIntersectsRect(cG,dI)}case'shapeIDDownTriangle':{var dN={x:0,y:0,w:0,h:0};{var dO=Math.round(L.c.get('x').gv(cH));var dP=Math.round(L.c.get('y').gv(cH));var dQ=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var dR=2*dQ;tab.RectXYUtil.unionInPlace$1(dN,dO-dQ,dP-dQ,dR,dR)}return O.polygonIntersectsRect(cG,dN)}case'shapeIDFilledDownTriangle':{var dS={x:0,y:0,w:0,h:0};{var dT=Math.round(L.c.get('x').gv(cH));var dU=Math.round(L.c.get('y').gv(cH));var dV=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var dW=2*dV;tab.RectXYUtil.unionInPlace$1(dS,dT-dV,dU-dV,dW,dW)}return O.polygonIntersectsRect(cG,dS)}case'shapeIDLeftTriangle':{var dX={x:0,y:0,w:0,h:0};{var dY=Math.round(L.c.get('x').gv(cH));var dZ=Math.round(L.c.get('y').gv(cH));var ea=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var eb=2*ea;tab.RectXYUtil.unionInPlace$1(dX,dY-ea,dZ-ea,eb,eb)}return O.polygonIntersectsRect(cG,dX)}case'shapeIDFilledLeftTriangle':{var ec={x:0,y:0,w:0,h:0};{var ed=Math.round(L.c.get('x').gv(cH));var ee=Math.round(L.c.get('y').gv(cH));var ef=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var eg=2*ef;tab.RectXYUtil.unionInPlace$1(ec,ed-ef,ee-ef,eg,eg)}return O.polygonIntersectsRect(cG,ec)}case'shapeIDRightTriangle':{var eh={x:0,y:0,w:0,h:0};{var ei=Math.round(L.c.get('x').gv(cH));var ej=Math.round(L.c.get('y').gv(cH));var ek=Math.ceil(L.c.get('size').gv(cH)*0.895833333333333/2);var el=2*ek;tab.RectXYUtil.unionInPlace$1(eh,ei-ek,ej-ek,el,el)}return O.polygonIntersectsRect(cG,eh)}case'shapeIDFilledRightTriangle':{var em={x:0,y:0,w:0,h:0};{var en=Math.round(L.c.get('x').gv(cH));var eo=Math.round(L.c.get('y').gv(cH));var ep=Math.ceil(L.c.get('size').gv(cH)*0.916666666666667/2);var eq=2*ep;tab.RectXYUtil.unionInPlace$1(em,en-ep,eo-ep,eq,eq)}return O.polygonIntersectsRect(cG,em)}case'shapeIDFilledStar':{var er={x:0,y:0,w:0,h:0};{var es=Math.round(L.c.get('x').gv(cH));var et=Math.round(L.c.get('y').gv(cH));var eu=Math.ceil(L.c.get('size').gv(cH)*1.09166666666667/2);var ev=2*eu;tab.RectXYUtil.unionInPlace$1(er,es-eu,et-eu,ev,ev)}return O.polygonIntersectsRect(cG,er)}default:{var ew=Math.round(L.c.get('x').gv(cH));var ex=Math.round(L.c.get('y').gv(cH));var ey=Math.ceil(L.c.get('size').gv(cH));var ez=Math.ceil(ey/2);var eA={x:ew-ez,y:ex-ez,w:ey,h:ey};return O.polygonIntersectsRect(cG,eA)}}};bC.renderMultipolygonMarkHoverOverlayImage=function(L,cG,cH){var cI='empty';var cJ=cG.getMarkGeometry(cG.c.get('geometry').gv(cH));if(ss.isValue(cJ)){cI=cJ.geometryType}switch(cI){case'multiPolygon':{{var cK=cG.getMarkInstanceOffsets(cH);var cL=cK.length;for(var cM=0;cM<cL;cM++){var cN=cK[cM];bC.$d(L,cN);{var cO=bC.$e();if(!cG.hasPixelGeometry){L.save();L.translate(cG.c.get('x').gv(cH),cG.c.get('y').gv(cH));L.scale(cG.c.get('size').gv(cH),cG.c.get('size').gv(cH))}tab.CanvasRenderer.createMultipolygonPath(L,cJ);if(!cG.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-cO);L.set_strokeStyle(cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone']);L.stroke()}if(cN!==0){L.restore()}}}break}case'multiLineString':{{var cP=cG.getMarkInstanceOffsets(cH);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];bC.$d(L,cS);var cT='colorOverrideNone';if(!cG.hasPixelGeometry){L.save();L.translate(cG.c.get('x').gv(cH),cG.c.get('y').gv(cH));L.scale(cG.c.get('size').gv(cH),cG.c.get('size').gv(cH))}tab.CanvasRenderer.createMultiLinePath(L,cJ);if(!cG.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,cG.c.get('size').gv(cH)+3.5,cG.c.get('selected_halo_color').gv(cH)[cT]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,cJ.multiLine,cG.c.get('size').gv(cH)+3.5,1.75,cG.c.get('selected_halo_color').gv(cH)[cT]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,cG.c.get('size').gv(cH),cG.c.get('selected_halo_color').gv(cH)[cT])}if(cS!==0){L.restore()}}}break}case'multiPoint':{{var cU=cG.getMarkInstanceOffsets(cH);var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bC.$d(L,cX);{var cY=bC.$e();if(!cG.hasPixelGeometry){L.save();L.translate(cG.c.get('x').gv(cH),cG.c.get('y').gv(cH));L.scale(cG.c.get('size').gv(cH),cG.c.get('size').gv(cH))}tab.CanvasRenderer.createMultipointPath(L,7,cJ);if(!cG.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-cY);L.set_strokeStyle(cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone']);L.stroke()}if(cX!==0){L.restore()}}}break}case'empty':{{var cZ=cG.getMarkInstanceOffsets(cH);var da=cZ.length;for(var db=0;db<da;db++){var dc=cZ[db];bC.$d(L,dc);{var dd=bC.$e();tab.CanvasRenderer.createPlaceholderPath(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),7);L.set_lineWidth(1.75-dd);L.set_strokeStyle(cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone']);L.stroke()}if(dc!==0){L.restore()}}}break}default:{break}}};bC.renderMultipolygonMarkPressedOverlayImage=function(L,cG,cH){var cI='empty';var cJ=cG.getMarkGeometry(cG.c.get('geometry').gv(cH));if(ss.isValue(cJ)){cI=cJ.geometryType}switch(cI){case'multiPolygon':{{var cK=cG.getMarkInstanceOffsets(cH);var cL=cK.length;for(var cM=0;cM<cL;cM++){var cN=cK[cM];bC.$d(L,cN);{var cO=bC.$e();if(!cG.hasPixelGeometry){L.save();L.translate(cG.c.get('x').gv(cH),cG.c.get('y').gv(cH));L.scale(cG.c.get('size').gv(cH),cG.c.get('size').gv(cH))}tab.CanvasRenderer.createMultipolygonPath(L,cJ);if(!cG.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-cO);L.set_strokeStyle(cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone']);L.stroke()}if(cN!==0){L.restore()}}}break}case'multiLineString':{{var cP=cG.getMarkInstanceOffsets(cH);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];bC.$d(L,cS);var cT='colorOverrideNone';if(!cG.hasPixelGeometry){L.save();L.translate(cG.c.get('x').gv(cH),cG.c.get('y').gv(cH));L.scale(cG.c.get('size').gv(cH),cG.c.get('size').gv(cH))}tab.CanvasRenderer.createMultiLinePath(L,cJ);if(!cG.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,cG.c.get('size').gv(cH)+5,cG.c.get('selected_halo_color').gv(cH)[cT]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,cJ.multiLine,cG.c.get('size').gv(cH)+5,2.5,cG.c.get('selected_halo_color').gv(cH)[cT]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,cG.c.get('size').gv(cH),cG.c.get('selected_halo_color').gv(cH)[cT])}if(cS!==0){L.restore()}}}break}case'multiPoint':{{var cU=cG.getMarkInstanceOffsets(cH);var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bC.$d(L,cX);{var cY=bC.$e();if(!cG.hasPixelGeometry){L.save();L.translate(cG.c.get('x').gv(cH),cG.c.get('y').gv(cH));L.scale(cG.c.get('size').gv(cH),cG.c.get('size').gv(cH))}tab.CanvasRenderer.createMultipointPath(L,7,cJ);if(!cG.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-cY);L.set_strokeStyle(cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone']);L.stroke()}if(cX!==0){L.restore()}}}break}case'empty':{{var cZ=cG.getMarkInstanceOffsets(cH);var da=cZ.length;for(var db=0;db<da;db++){var dc=cZ[db];bC.$d(L,dc);{var dd=bC.$e();tab.CanvasRenderer.createPlaceholderPath(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),7);L.set_lineWidth(2.5-dd);L.set_strokeStyle(cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone']);L.stroke()}if(dc!==0){L.restore()}}}break}default:{break}}};bC.renderAreaMarkHoverOverlayImage=function(L,cG,cH){var cI=false;if(cH-1>0&&!cG.isMarkEndPrimitive(cH-1)){cI=cI||cG.isMarkHighlighted(cH-1)}if(cH+1<cG.markCount&&!cG.isMarkEndPrimitive(cH)){cI=cI||cG.isMarkHighlighted(cH+1)}var cJ;var cK=cG.c.get('x').gv(cH);var cL=cG.c.get('y').gv(cH);if(cG.isMarkSelected(cH)){cJ=cG.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque'];{var cM=cG.c.get('draw_border').gv(cH);var cN=7+(cM?2:0);tab.CanvasRenderer.renderCircle(L,0+cK,0+cL,cN,cJ,4)}cJ=cG.getMarkColors(cH)['colorOverrideOpaque'];{var cO=cG.getMarkInstanceOffsets(cH);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bC.$d(L,cR);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,7,cJ);if(cR!==0){L.restore()}}}cK=cG.c.get('x1').gv(cH);cL=cG.c.get('y1').gv(cH);cJ=cG.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque'];{var cS=cG.c.get('draw_border').gv(cH);var cT=7+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cK,0+cL,cT,cJ,4)}cJ=cG.getMarkColors(cH)['colorOverrideOpaque'];{var cU=cG.getMarkInstanceOffsets(cH);var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bC.$d(L,cX);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,7,cJ);if(cX!==0){L.restore()}}}}else if(cG.isMarkHighlighted(cH)&&!cI){cJ=cG.c.get('selected_multi_prim_halo_color').gv(cH)['colorOverrideNone'];{var cY=cG.getMarkInstanceOffsets(cH);var cZ=cY.length;for(var da=0;da<cZ;da++){var db=cY[da];bC.$d(L,db);{var dc=cG.c.get('draw_border').gv(cH);var dd=7+(dc?2:0);tab.CanvasRenderer.renderCircle(L,0+cK,0+cL,dd,cJ,4)}if(db!==0){L.restore()}}}cJ=cG.getMarkColors(cH)['colorOverrideNone'];{var de=cG.getMarkInstanceOffsets(cH);var df=de.length;for(var dg=0;dg<df;dg++){var dh=de[dg];bC.$d(L,dh);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,7,cJ);if(dh!==0){L.restore()}}}cK=cG.c.get('x1').gv(cH);cL=cG.c.get('y1').gv(cH);cJ=cG.c.get('selected_multi_prim_halo_color').gv(cH)['colorOverrideNone'];{var di=cG.getMarkInstanceOffsets(cH);var dj=di.length;for(var dk=0;dk<dj;dk++){var dl=di[dk];bC.$d(L,dl);{var dm=cG.c.get('draw_border').gv(cH);var dn=7+(dm?2:0);tab.CanvasRenderer.renderCircle(L,0+cK,0+cL,dn,cJ,4)}if(dl!==0){L.restore()}}}cJ=cG.getMarkColors(cH)['colorOverrideNone'];{var dp=cG.getMarkInstanceOffsets(cH);var dq=dp.length;for(var dr=0;dr<dq;dr++){var ds=dp[dr];bC.$d(L,ds);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,7,cJ);if(ds!==0){L.restore()}}}}else{cJ=(cG.drawBorder?cG.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var dt=cG.getMarkInstanceOffsets(cH);var du=dt.length;for(var dv=0;dv<du;dv++){var dw=dt[dv];bC.$d(L,dw);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,5,cJ);if(dw!==0){L.restore()}}}cK=cG.c.get('x1').gv(cH);cL=cG.c.get('y1').gv(cH);cJ=(cG.drawBorder?cG.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var dx=cG.getMarkInstanceOffsets(cH);var dy=dx.length;for(var dz=0;dz<dy;dz++){var dA=dx[dz];bC.$d(L,dA);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,5,cJ);if(dA!==0){L.restore()}}}}};bC.renderAreaMarkPressedOverlayImage=function(L,cG,cH){var cI=(cG.drawBorder?cG.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var cJ=cG.c.get('x').gv(cH);var cK=cG.c.get('y').gv(cH);{var cL=cG.getMarkInstanceOffsets(cH);var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];bC.$d(L,cO);tab.CanvasRenderer.renderFilledCircle(L,0+cJ,0+cK,7,cI);if(cO!==0){L.restore()}}}cJ=cG.c.get('x1').gv(cH);cK=cG.c.get('y1').gv(cH);{var cP=cG.getMarkInstanceOffsets(cH);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];bC.$d(L,cS);tab.CanvasRenderer.renderFilledCircle(L,0+cJ,0+cK,7,cI);if(cS!==0){L.restore()}}}};bC.renderPieHoverOverlayImage=function(L,cG,cH){var cI=cG.getMarkInstanceOffsets(cH);var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK];bC.$d(L,cL);var cM=cG.c.get('size').gv(cH)/2;var cN=cG.c.get('draw_border').gv(cH);var cO=(!!cN?1:0);var cP=cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone'];var cQ=cG.c.get('theta').gv(cH);var cR=cG.c.get('theta1').gv(cH);var cS=cQ>cR;if(Math.abs(cQ-cR)>=1){tab.CanvasRenderer.renderCircle(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),(cM+cO)*2,cP,1)}else{tab.CanvasRenderer.renderWedge(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),cM,cQ,cR,cP,1+cO,cS)}if(cL!==0){L.restore()}}};bC.renderPiePressedOverlayImage=function(L,cG,cH){var cI=cG.getMarkInstanceOffsets(cH);var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK];bC.$d(L,cL);var cM=cG.c.get('size').gv(cH)/2;var cN=cG.c.get('draw_border').gv(cH);var cO=(!!cN?1:0);var cP=cG.c.get('selected_halo_color').gv(cH)['colorOverrideNone'];var cQ=cG.c.get('theta').gv(cH);var cR=cG.c.get('theta1').gv(cH);var cS=cQ>cR;if(Math.abs(cQ-cR)>=1){tab.CanvasRenderer.renderCircle(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),(cM+cO)*2,cP,2)}else{tab.CanvasRenderer.renderWedge(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),cM,cQ,cR,cP,2+cO,cS)}if(cL!==0){L.restore()}}};bC.renderTextHoverOverlayImage=function(L,cG,cH){if(!(cG.clipCase!==0&&cG.useCellClipForSelection)){{var cI=cG.getMarkInstanceOffsets(cH);var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK];bC.$d(L,cL);var cM=-cG.c.get('width').gv(cH)/2;var cN=cG.c.get('height').gv(cH)/2-1;var cO=cG.c.get('x').gv(cH)+cM;var cP=cG.c.get('y').gv(cH)+cN;var cQ=cG.c.get('x').gv(cH)+cG.c.get('width').gv(cH)+cM;var cR=cG.c.get('y').gv(cH)+cN;var cS=1;var cT=cQ-cO;var cU=[cO,cP+cS-1,cO+cT,cP+cS-1];L.set_lineCap('square');L.set_lineWidth(cS);L.set_strokeStyle(cG.getMarkColors(cH)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,cU,false,true);if(cL!==0){L.restore()}}}}if(cG.clipCase!==0&&cG.useCellClipForSelection){{var cV=cG.getMarkInstanceOffsets(cH);var cW=cV.length;for(var cX=0;cX<cW;cX++){var cY=cV[cX];bC.$d(L,cY);{var cZ=2;var da=cG.c.get('x').gv(cH)-cG.c.get('clip_width').gv(cH)/2+cZ;var db=cG.c.get('x').gv(cH)+cG.c.get('clip_width').gv(cH)/2-cZ;var dc=cG.c.get('y').gv(cH)-cG.c.get('clip_height').gv(cH)/2+cZ;var dd=cG.c.get('y').gv(cH)+cG.c.get('clip_height').gv(cH)/2-cZ;bC.$3(L,cG,cH,da,db,dc,dd,cG.getMarkColors(cH),!!false,Math.floor(1))}if(cY!==0){L.restore()}}}}};bC.renderTextPressedOverlayImage=function(L,cG,cH){if(!(cG.clipCase!==0&&cG.useCellClipForSelection)){{var cI=cG.getMarkInstanceOffsets(cH);var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK];bC.$d(L,cL);var cM=-cG.c.get('width').gv(cH)/2;var cN=cG.c.get('height').gv(cH)/2-1;var cO=cG.c.get('x').gv(cH)+cM;var cP=cG.c.get('y').gv(cH)+cN;var cQ=cG.c.get('x').gv(cH)+cG.c.get('width').gv(cH)+cM;var cR=cG.c.get('y').gv(cH)+cN;var cS=2;var cT=cQ-cO;var cU=[cO,cP+cS-1,cO+cT,cP+cS-1];L.set_lineCap('square');L.set_lineWidth(cS);L.set_strokeStyle(cG.getMarkColors(cH)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,cU,false,true);if(cL!==0){L.restore()}}}}if(cG.clipCase!==0&&cG.useCellClipForSelection){{var cV=cG.getMarkInstanceOffsets(cH);var cW=cV.length;for(var cX=0;cX<cW;cX++){var cY=cV[cX];bC.$d(L,cY);{var cZ=2;var da=cG.c.get('x').gv(cH)-cG.c.get('clip_width').gv(cH)/2+cZ;var db=cG.c.get('x').gv(cH)+cG.c.get('clip_width').gv(cH)/2-cZ;var dc=cG.c.get('y').gv(cH)-cG.c.get('clip_height').gv(cH)/2+cZ;var dd=cG.c.get('y').gv(cH)+cG.c.get('clip_height').gv(cH)/2-cZ;bC.$3(L,cG,cH,da,db,dc,dd,cG.getMarkColors(cH),!!false,Math.floor(2))}if(cY!==0){L.restore()}}}}};bC.renderBarHoverOverlayImage=function(L,cG,cH){var cI=ss.Int32.trunc(cG.c.get('size').gv(cH)+0.5)/2;var cJ=1;if(cG.scaleMarksInX&&cG.scaleMarksInY){{var cK=cG.getMarkInstanceOffsets(cH);var cL=cK.length;for(var cM=0;cM<cL;cM++){var cN=cK[cM];bC.$d(L,cN);{var cO=0;var cP=cG.c.get('x').gv(cH)+cO;var cQ=cG.c.get('x1').gv(cH)-cO;var cR=cG.c.get('y').gv(cH)+cO;var cS=cG.c.get('y1').gv(cH)-cO;bC.$3(L,cG,cH,cP,cQ,cR,cS,cG.c.get('selected_halo_color').gv(cH),!!false,Math.floor(cJ))}if(cN!==0){L.restore()}}}}if(!cG.scaleMarksInX&&cG.scaleMarksInY){{var cT=cG.getMarkInstanceOffsets(cH);var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];bC.$d(L,cW);{var cX=0;var cY=cG.c.get('x').gv(cH)-cI+cX;var cZ=cG.c.get('x').gv(cH)+cI-cX;var da=cG.c.get('y').gv(cH)+cX;var db=cG.c.get('y1').gv(cH)-cX;bC.$3(L,cG,cH,cY,cZ,da,db,cG.c.get('selected_halo_color').gv(cH),!!false,Math.floor(cJ))}if(cW!==0){L.restore()}}}}if(cG.scaleMarksInX&&!cG.scaleMarksInY){{var dc=cG.getMarkInstanceOffsets(cH);var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bC.$d(L,df);{var dg=0;var dh=cG.c.get('x').gv(cH)+dg;var di=cG.c.get('x1').gv(cH)-dg;var dj=cG.c.get('y').gv(cH)-cI+dg;var dk=cG.c.get('y').gv(cH)+cI-dg;bC.$3(L,cG,cH,dh,di,dj,dk,cG.c.get('selected_halo_color').gv(cH),!!false,Math.floor(cJ))}if(df!==0){L.restore()}}}}if(!cG.scaleMarksInX&&!cG.scaleMarksInY){{var dl=cG.getMarkInstanceOffsets(cH);var dm=dl.length;for(var dn=0;dn<dm;dn++){var dp=dl[dn];bC.$d(L,dp);{var dq=0;var dr=cG.c.get('x').gv(cH)-cI+dq;var ds=cG.c.get('x').gv(cH)+cI-dq;var dt=cG.c.get('y').gv(cH)-cI+dq;var du=cG.c.get('y').gv(cH)+cI-dq;bC.$3(L,cG,cH,dr,ds,dt,du,cG.c.get('selected_halo_color').gv(cH),!!true,Math.floor(cJ))}if(dp!==0){L.restore()}}}}};bC.renderBarPressedOverlayImage=function(L,cG,cH){var cI=ss.Int32.trunc(cG.c.get('size').gv(cH)+0.5)/2;var cJ=2;if(cG.scaleMarksInX&&cG.scaleMarksInY){{var cK=cG.getMarkInstanceOffsets(cH);var cL=cK.length;for(var cM=0;cM<cL;cM++){var cN=cK[cM];bC.$d(L,cN);{var cO=0;var cP=cG.c.get('x').gv(cH)+cO;var cQ=cG.c.get('x1').gv(cH)-cO;var cR=cG.c.get('y').gv(cH)+cO;var cS=cG.c.get('y1').gv(cH)-cO;bC.$3(L,cG,cH,cP,cQ,cR,cS,cG.c.get('selected_halo_color').gv(cH),!!false,Math.floor(cJ))}if(cN!==0){L.restore()}}}}if(!cG.scaleMarksInX&&cG.scaleMarksInY){{var cT=cG.getMarkInstanceOffsets(cH);var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];bC.$d(L,cW);{var cX=0;var cY=cG.c.get('x').gv(cH)-cI+cX;var cZ=cG.c.get('x').gv(cH)+cI-cX;var da=cG.c.get('y').gv(cH)+cX;var db=cG.c.get('y1').gv(cH)-cX;bC.$3(L,cG,cH,cY,cZ,da,db,cG.c.get('selected_halo_color').gv(cH),!!false,Math.floor(cJ))}if(cW!==0){L.restore()}}}}if(cG.scaleMarksInX&&!cG.scaleMarksInY){{var dc=cG.getMarkInstanceOffsets(cH);var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bC.$d(L,df);{var dg=0;var dh=cG.c.get('x').gv(cH)+dg;var di=cG.c.get('x1').gv(cH)-dg;var dj=cG.c.get('y').gv(cH)-cI+dg;var dk=cG.c.get('y').gv(cH)+cI-dg;bC.$3(L,cG,cH,dh,di,dj,dk,cG.c.get('selected_halo_color').gv(cH),!!false,Math.floor(cJ))}if(df!==0){L.restore()}}}}if(!cG.scaleMarksInX&&!cG.scaleMarksInY){{var dl=cG.getMarkInstanceOffsets(cH);var dm=dl.length;for(var dn=0;dn<dm;dn++){var dp=dl[dn];bC.$d(L,dp);{var dq=0;var dr=cG.c.get('x').gv(cH)-cI+dq;var ds=cG.c.get('x').gv(cH)+cI-dq;var dt=cG.c.get('y').gv(cH)-cI+dq;var du=cG.c.get('y').gv(cH)+cI-dq;bC.$3(L,cG,cH,dr,ds,dt,du,cG.c.get('selected_halo_color').gv(cH),!!true,Math.floor(cJ))}if(dp!==0){L.restore()}}}}};bC.renderLineMarkHoverOverlayImage=function(L,cG,cH){var cI=false;if(cH-1>0&&!cG.isMarkEndPrimitive(cH-1)){cI=cI||cG.isMarkHighlighted(cH-1)}if(cH+1<cG.markCount&&!cG.isMarkEndPrimitive(cH)){cI=cI||cG.isMarkHighlighted(cH+1)}var cJ;var cK=cG.c.get('x').gv(cH);var cL=cG.c.get('y').gv(cH);if(cG.isMarkSelected(cH)){cJ=cG.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque'];{var cM=cG.c.get('draw_border').gv(cH);var cN=cG.c.get('size').gv(cH)+4+4+(cM?2:0);tab.CanvasRenderer.renderCircle(L,0+cK,0+cL,cN,cJ,4)}cJ=cG.getMarkColors(cH)['colorOverrideOpaque'];{var cO=cG.getMarkInstanceOffsets(cH);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bC.$d(L,cR);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,cG.c.get('size').gv(cH)+4+4,cJ);if(cR!==0){L.restore()}}}}else if(cG.isMarkHighlighted(cH)&&!cI){cJ=cG.c.get('selected_multi_prim_halo_color').gv(cH)['colorOverrideNone'];{var cS=cG.getMarkInstanceOffsets(cH);var cT=cS.length;for(var cU=0;cU<cT;cU++){var cV=cS[cU];bC.$d(L,cV);{var cW=cG.c.get('draw_border').gv(cH);var cX=cG.c.get('size').gv(cH)+4+4+(cW?2:0);tab.CanvasRenderer.renderCircle(L,0+cK,0+cL,cX,cJ,4)}if(cV!==0){L.restore()}}}cJ=cG.getMarkColors(cH)['colorOverrideNone'];{var cY=cG.getMarkInstanceOffsets(cH);var cZ=cY.length;for(var da=0;da<cZ;da++){var db=cY[da];bC.$d(L,db);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,cG.c.get('size').gv(cH)+4+4,cJ);if(db!==0){L.restore()}}}}else{cJ=cG.getMarkColors(cH)['colorOverrideNone'];{var dc=cG.getMarkInstanceOffsets(cH);var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bC.$d(L,df);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,cG.c.get('size').gv(cH)+4,cJ);if(df!==0){L.restore()}}}}};bC.renderLineMarkPressedOverlayImage=function(L,cG,cH){var cI=cG.getMarkColors(cH)['colorOverrideNone'];var cJ=cG.c.get('x').gv(cH);var cK=cG.c.get('y').gv(cH);{var cL=cG.getMarkInstanceOffsets(cH);var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];bC.$d(L,cO);tab.CanvasRenderer.renderFilledCircle(L,0+cJ,0+cK,cG.c.get('size').gv(cH)+8,cI);if(cO!==0){L.restore()}}}};bC.shapeHasLayerContent=function(L,cG){var cH=false;switch(L){case'shapeIDCircle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDSquare':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDPlus':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDTimes':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDDiamond':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(cG){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cH=true;break}default:{break}}break}default:{cH=true;break}}return cH};bC.getShapeMarkSpriteSize=function(L,cG,cH){var cI=0;switch(L){case'shapeIDCircle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+6);break}case'pressedOverlay':{cI=Math.ceil(cH+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'border':{cI=Math.ceil(cH+2);break}case'hoverOverlay':{cI=Math.ceil(cH+2);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'border':{cI=Math.ceil(cH+2);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDSquare':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'border':{cI=Math.ceil(cH+2);break}case'hoverOverlay':{cI=Math.ceil(cH+2);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+6);break}case'pressedOverlay':{cI=Math.ceil(cH+8);break}default:{break}}break}case'shapeIDPlus':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+3);break}case'pressedOverlay':{cI=Math.ceil(cH+5);break}default:{break}}break}case'shapeIDTimes':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDDiamond':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+6);break}case'pressedOverlay':{cI=Math.ceil(cH+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+5);break}case'pressedOverlay':{cI=Math.ceil(cH+7);break}default:{break}}break}case'shapeIDTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+6);break}case'pressedOverlay':{cI=Math.ceil(cH+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+2);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+2);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+2);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+4);break}case'pressedOverlay':{cI=Math.ceil(cH+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+4);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+4);break}case'hoverOverlay':{cI=Math.ceil(cH+2);break}case'pressedOverlay':{cI=Math.ceil(cH+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(cG){case'normalUnder':{cI=Math.ceil(cH+6);break}case'normalOn':{cI=Math.ceil(cH+2);break}case'selectedUnder':{cI=Math.ceil(cH+6);break}case'hoverOverlay':{cI=Math.ceil(cH+10);break}case'pressedOverlay':{cI=Math.ceil(cH+14);break}default:{break}}break}default:{break}}return cI};bC.renderShapeHoverOverlayImage=function(L,cG,cH){var cI=cG.c.get('shape_id').gv(cH);var cJ=cG.c.get('x').gv(cH);var cK=cG.c.get('y').gv(cH);if(cG.shouldStampThisShapeMark(cH)){var cL=cG.c.get('size').gv(cH);var cM=bC.getShapeMarkSpriteSize(cI,'normalOn',cL)+2;var cN=cM/2;cJ=(cJ-cN+0.5<<0)+cN;cK=(cK-cN+0.5<<0)+cN}switch(cI){case'shapeIDCircle':{bC.renderShapeIDCircleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledCircle':{bC.renderShapeIDFilledCircleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDUnscaledFilledCircle':{bC.renderShapeIDUnscaledFilledCircleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDSquare':{bC.renderShapeIDSquareHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledSquare':{bC.renderShapeIDFilledSquareHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDAsterisk':{bC.renderShapeIDAsteriskHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDPlus':{bC.renderShapeIDPlusHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledPlus':{bC.renderShapeIDFilledPlusHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDTimes':{bC.renderShapeIDTimesHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledTimes':{bC.renderShapeIDFilledTimesHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDDiamond':{bC.renderShapeIDDiamondHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledDiamond':{bC.renderShapeIDFilledDiamondHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDTriangle':{bC.renderShapeIDTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledTriangle':{bC.renderShapeIDFilledTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDDownTriangle':{bC.renderShapeIDDownTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledDownTriangle':{bC.renderShapeIDFilledDownTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDLeftTriangle':{bC.renderShapeIDLeftTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledLeftTriangle':{bC.renderShapeIDFilledLeftTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDRightTriangle':{bC.renderShapeIDRightTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledRightTriangle':{bC.renderShapeIDFilledRightTriangleHoverOverlayImage(L,cG,cJ,cK,cH);break}case'shapeIDFilledStar':{bC.renderShapeIDFilledStarHoverOverlayImage(L,cG,cJ,cK,cH);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(cI))){var cO=cG.getMarkInstanceOffsets(cH);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];if(cR!==0){L.save();L.translate(cR,0)}bC.$b(L,cG,cH,'hoverOverlay','colorOverrideNone');if(cR!==0){L.restore()}}}else{bC.renderShapeIDCircleHoverOverlayImage(L,cG,cJ,cK,cH)}break}}};bC.renderShapePressedOverlayImage=function(L,cG,cH){var cI=cG.getMarkIndexFromTupleId(cH);var cJ=cG.c.get('shape_id').gv(cI);var cK=cG.c.get('x').gv(cI);var cL=cG.c.get('y').gv(cI);if(cG.shouldStampThisShapeMark(cI)){var cM=cG.c.get('size').gv(cI);var cN=bC.getShapeMarkSpriteSize(cJ,'normalOn',cM)+2;var cO=cN/2;cK=(cK-cO+0.5<<0)+cO;cL=(cL-cO+0.5<<0)+cO}switch(cJ){case'shapeIDCircle':{bC.renderShapeIDCirclePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledCircle':{bC.renderShapeIDFilledCirclePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDUnscaledFilledCircle':{bC.renderShapeIDUnscaledFilledCirclePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDSquare':{bC.renderShapeIDSquarePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledSquare':{bC.renderShapeIDFilledSquarePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDAsterisk':{bC.renderShapeIDAsteriskPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDPlus':{bC.renderShapeIDPlusPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledPlus':{bC.renderShapeIDFilledPlusPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDTimes':{bC.renderShapeIDTimesPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledTimes':{bC.renderShapeIDFilledTimesPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDDiamond':{bC.renderShapeIDDiamondPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledDiamond':{bC.renderShapeIDFilledDiamondPressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDTriangle':{bC.renderShapeIDTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledTriangle':{bC.renderShapeIDFilledTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDDownTriangle':{bC.renderShapeIDDownTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledDownTriangle':{bC.renderShapeIDFilledDownTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDLeftTriangle':{bC.renderShapeIDLeftTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledLeftTriangle':{bC.renderShapeIDFilledLeftTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDRightTriangle':{bC.renderShapeIDRightTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledRightTriangle':{bC.renderShapeIDFilledRightTrianglePressedOverlayImage(L,cG,cK,cL,cI);break}case'shapeIDFilledStar':{bC.renderShapeIDFilledStarPressedOverlayImage(L,cG,cK,cL,cI);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(cJ))){var cP=cG.getMarkInstanceOffsets(cI);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];if(cS!==0){L.save();L.translate(cS,0)}bC.$b(L,cG,cI,'pressedOverlay','colorOverrideNone');if(cS!==0){L.restore()}}}else{bC.renderShapeIDCirclePressedOverlayImage(L,cG,cK,cL,cI)}break}}};bC.renderShapeIDCircleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=cG.c.get('draw_border').gv(cJ);var cS=cG.c.get('size').gv(cJ)*0.958333333333333+2+(cR?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cS,cK,1)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDCirclePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=cG.c.get('draw_border').gv(cJ);var cS=cG.c.get('size').gv(cJ)*0.958333333333333+3+(cR?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cS,cK,2)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledCircleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=cG.c.get('draw_border').gv(cJ);var cS=cG.c.get('size').gv(cJ)*0.979166666666667+(cR?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cS,cK,1)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledCirclePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=cG.c.get('draw_border').gv(cJ);var cS=cG.c.get('size').gv(cJ)*0.979166666666667+1+(cR?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cS,cK,2)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDUnscaledFilledCircleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=cG.c.get('draw_border').gv(cJ);var cS=cG.c.get('size').gv(cJ)+(cR?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cS,cK,1)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDUnscaledFilledCirclePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=cG.c.get('draw_border').gv(cJ);var cS=cG.c.get('size').gv(cJ)+1+(cR?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cS,cK,2)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDSquareHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);tab.CanvasRenderer.renderRectangle(L,cL+0,cM+0,cG.c.get('size').gv(cJ)*0.895833333333333+3,cG.c.get('size').gv(cJ)*0.895833333333333+3,cK,1);if(cQ!==0){L.restore()}}}};bC.renderShapeIDSquarePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);tab.CanvasRenderer.renderRectangle(L,cL+0,cM+0,cG.c.get('size').gv(cJ)*0.895833333333333+4,cG.c.get('size').gv(cJ)*0.895833333333333+4,cK,2);if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledSquareHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);tab.CanvasRenderer.renderRectangle(L,cL+0,cM+0,cG.c.get('size').gv(cJ)*0.9375+1,cG.c.get('size').gv(cJ)*0.9375+1,cK,1);if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledSquarePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);tab.CanvasRenderer.renderRectangle(L,cL+0,cM+0,cG.c.get('size').gv(cJ)*0.9375+2,cG.c.get('size').gv(cJ)*0.9375+2,cK,2);if(cQ!==0){L.restore()}}}};bC.renderShapeIDAsteriskHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(36);var cS=(cG.c.get('size').gv(cJ)*0.958333333333333+2)/2;var cT=0.899999976158142*cS;var cU=(cG.c.get('size').gv(cJ)*0.958333333333333+6)/4;var cV=2.5;var cW=1.5;cR[0]=-cV+cL;cR[1]=0+cM;cR[2]=-cT+cL;cR[3]=cU-cV+cM;cR[4]=cW-cT+cL;cR[5]=cU+cM;cR[6]=-cW+cL;cR[7]=cV+cM;cR[8]=-cW+cL;cR[9]=cS+cM;cR[10]=cW+cL;cR[11]=cS+cM;cR[12]=cW+cL;cR[13]=cV+cM;cR[14]=cT-cW+cL;cR[15]=cU+cM;cR[16]=cT+cL;cR[17]=cU-cV+cM;cR[18]=cV+cL;cR[19]=0+cM;cR[20]=cT+cL;cR[21]=cV-cU+cM;cR[22]=cT-cW+cL;cR[23]=-cU+cM;cR[24]=cW+cL;cR[25]=-cV+cM;cR[26]=cW+cL;cR[27]=-cS+cM;cR[28]=-cW+cL;cR[29]=-cS+cM;cR[30]=-cW+cL;cR[31]=-cV+cM;cR[32]=cW-cT+cL;cR[33]=-cU+cM;cR[34]=-cT+cL;cR[35]=cV-cU+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDAsteriskPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(36);var cS=(cG.c.get('size').gv(cJ)*0.958333333333333+4)/2;var cT=0.899999976158142*cS;var cU=(cG.c.get('size').gv(cJ)*0.958333333333333+8)/4;var cV=3;var cW=2;cR[0]=-cV+cL;cR[1]=0+cM;cR[2]=-cT+cL;cR[3]=cU-cV+cM;cR[4]=cW-cT+cL;cR[5]=cU+cM;cR[6]=-cW+cL;cR[7]=cV+cM;cR[8]=-cW+cL;cR[9]=cS+cM;cR[10]=cW+cL;cR[11]=cS+cM;cR[12]=cW+cL;cR[13]=cV+cM;cR[14]=cT-cW+cL;cR[15]=cU+cM;cR[16]=cT+cL;cR[17]=cU-cV+cM;cR[18]=cV+cL;cR[19]=0+cM;cR[20]=cT+cL;cR[21]=cV-cU+cM;cR[22]=cT-cW+cL;cR[23]=-cU+cM;cR[24]=cW+cL;cR[25]=-cV+cM;cR[26]=cW+cL;cR[27]=-cS+cM;cR[28]=-cW+cL;cR[29]=-cS+cM;cR[30]=-cW+cL;cR[31]=-cV+cM;cR[32]=cW-cT+cL;cR[33]=-cU+cM;cR[34]=-cT+cL;cR[35]=cV-cU+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDPlusHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=(cG.c.get('size').gv(cJ)*0.916666666666667+2)/2;var cT=1.5;cR[0]=-cT+cL;cR[1]=-cS+cM;cR[2]=-cT+cL;cR[3]=-cT+cM;cR[4]=-cS+cL;cR[5]=-cT+cM;cR[6]=-cS+cL;cR[7]=cT+cM;cR[8]=-cT+cL;cR[9]=cT+cM;cR[10]=-cT+cL;cR[11]=cS+cM;cR[12]=cT+cL;cR[13]=cS+cM;cR[14]=cT+cL;cR[15]=cT+cM;cR[16]=cS+cL;cR[17]=cT+cM;cR[18]=cS+cL;cR[19]=-cT+cM;cR[20]=cT+cL;cR[21]=-cT+cM;cR[22]=cT+cL;cR[23]=-cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDPlusPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=(cG.c.get('size').gv(cJ)*0.916666666666667+3)/2;var cT=2;cR[0]=-cT+cL;cR[1]=-cS+cM;cR[2]=-cT+cL;cR[3]=-cT+cM;cR[4]=-cS+cL;cR[5]=-cT+cM;cR[6]=-cS+cL;cR[7]=cT+cM;cR[8]=-cT+cL;cR[9]=cT+cM;cR[10]=-cT+cL;cR[11]=cS+cM;cR[12]=cT+cL;cR[13]=cS+cM;cR[14]=cT+cL;cR[15]=cT+cM;cR[16]=cS+cL;cR[17]=cT+cM;cR[18]=cS+cL;cR[19]=-cT+cM;cR[20]=cT+cL;cR[21]=-cT+cM;cR[22]=cT+cL;cR[23]=-cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledPlusHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=cG.c.get('size').gv(cJ)*0.9375/2;var cT=cS/3;cR[0]=-cT+cL;cR[1]=-cS+cM;cR[2]=-cT+cL;cR[3]=-cT+cM;cR[4]=-cS+cL;cR[5]=-cT+cM;cR[6]=-cS+cL;cR[7]=cT+cM;cR[8]=-cT+cL;cR[9]=cT+cM;cR[10]=-cT+cL;cR[11]=cS+cM;cR[12]=cT+cL;cR[13]=cS+cM;cR[14]=cT+cL;cR[15]=cT+cM;cR[16]=cS+cL;cR[17]=cT+cM;cR[18]=cS+cL;cR[19]=-cT+cM;cR[20]=cT+cL;cR[21]=-cT+cM;cR[22]=cT+cL;cR[23]=-cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledPlusPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=(cG.c.get('size').gv(cJ)*0.9375+1)/2;var cT=(cG.c.get('size').gv(cJ)*0.9375+3)/6;cR[0]=-cT+cL;cR[1]=-cS+cM;cR[2]=-cT+cL;cR[3]=-cT+cM;cR[4]=-cS+cL;cR[5]=-cT+cM;cR[6]=-cS+cL;cR[7]=cT+cM;cR[8]=-cT+cL;cR[9]=cT+cM;cR[10]=-cT+cL;cR[11]=cS+cM;cR[12]=cT+cL;cR[13]=cS+cM;cR[14]=cT+cL;cR[15]=cT+cM;cR[16]=cS+cL;cR[17]=cT+cM;cR[18]=cS+cL;cR[19]=-cT+cM;cR[20]=cT+cL;cR[21]=-cT+cM;cR[22]=cT+cL;cR[23]=-cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDTimesHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=(cG.c.get('size').gv(cJ)*0.875+4)/2;var cT=2;cR[0]=-cS+cT+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=-cS+cT+cM;cR[4]=-cT+cL;cR[5]=0+cM;cR[6]=-cS+cL;cR[7]=cS-cT+cM;cR[8]=-cS+cT+cL;cR[9]=cS+cM;cR[10]=0+cL;cR[11]=cT+cM;cR[12]=cS-cT+cL;cR[13]=cS+cM;cR[14]=cS+cL;cR[15]=cS-cT+cM;cR[16]=cT+cL;cR[17]=0+cM;cR[18]=cS+cL;cR[19]=-cS+cT+cM;cR[20]=cS-cT+cL;cR[21]=-cS+cM;cR[22]=0+cL;cR[23]=-cT+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDTimesPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=(cG.c.get('size').gv(cJ)*0.875+4)/2;var cT=3;cR[0]=-cS+cT+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=-cS+cT+cM;cR[4]=-cT+cL;cR[5]=0+cM;cR[6]=-cS+cL;cR[7]=cS-cT+cM;cR[8]=-cS+cT+cL;cR[9]=cS+cM;cR[10]=0+cL;cR[11]=cT+cM;cR[12]=cS-cT+cL;cR[13]=cS+cM;cR[14]=cS+cL;cR[15]=cS-cT+cM;cR[16]=cT+cL;cR[17]=0+cM;cR[18]=cS+cL;cR[19]=-cS+cT+cM;cR[20]=cS-cT+cL;cR[21]=-cS+cM;cR[22]=0+cL;cR[23]=-cT+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledTimesHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=cG.c.get('size').gv(cJ)*0.9375/2;var cT=cG.c.get('size').gv(cJ)*0.9375/4;cR[0]=-cT+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=-cT+cM;cR[4]=-cT+cL;cR[5]=0+cM;cR[6]=-cS+cL;cR[7]=cT+cM;cR[8]=-cT+cL;cR[9]=cS+cM;cR[10]=0+cL;cR[11]=cT+cM;cR[12]=cT+cL;cR[13]=cS+cM;cR[14]=cS+cL;cR[15]=cT+cM;cR[16]=cT+cL;cR[17]=0+cM;cR[18]=cS+cL;cR[19]=-cT+cM;cR[20]=cT+cL;cR[21]=-cS+cM;cR[22]=0+cL;cR[23]=-cT+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledTimesPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(24);var cS=cG.c.get('size').gv(cJ)*0.9375/2;var cT=cG.c.get('size').gv(cJ)*0.9375/4;cR[0]=-cT+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=-cT+cM;cR[4]=-cT+cL;cR[5]=0+cM;cR[6]=-cS+cL;cR[7]=cT+cM;cR[8]=-cT+cL;cR[9]=cS+cM;cR[10]=0+cL;cR[11]=cT+cM;cR[12]=cT+cL;cR[13]=cS+cM;cR[14]=cS+cL;cR[15]=cT+cM;cR[16]=cT+cL;cR[17]=0+cM;cR[18]=cS+cL;cR[19]=-cT+cM;cR[20]=cT+cL;cR[21]=-cS+cM;cR[22]=0+cL;cR[23]=-cT+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDDiamondHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(8);var cS=(cG.c.get('size').gv(cJ)*1.04166666666667+3)/2;cR[0]=0+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=0+cM;cR[4]=0+cL;cR[5]=cS+cM;cR[6]=cS+cL;cR[7]=0+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDDiamondPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(8);var cS=(cG.c.get('size').gv(cJ)*1.04166666666667+4)/2;cR[0]=0+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=0+cM;cR[4]=0+cL;cR[5]=cS+cM;cR[6]=cS+cL;cR[7]=0+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledDiamondHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(8);var cS=cG.c.get('size').gv(cJ)*1.04166666666667/2;cR[0]=0+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=0+cM;cR[4]=0+cL;cR[5]=cS+cM;cR[6]=cS+cL;cR[7]=0+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledDiamondPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(8);var cS=(cG.c.get('size').gv(cJ)*1.04166666666667+2)/2;cR[0]=0+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=0+cM;cR[4]=0+cL;cR[5]=cS+cM;cR[6]=cS+cL;cR[7]=0+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+3)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+6)/2;cR[0]=0+cL;cR[1]=-cT+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+4)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+8)/2;cR[0]=0+cL;cR[1]=-cT+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=cG.c.get('size').gv(cJ)*0.916666666666667/2;cR[0]=0+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.916666666666667+1)/2;cR[0]=0+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDDownTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+2.5)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+6)/2;cR[0]=0+cL;cR[1]=cT+cM;cR[2]=-cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=-cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDDownTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+4)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+8)/2;cR[0]=0+cL;cR[1]=cT+cM;cR[2]=-cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=-cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledDownTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=cG.c.get('size').gv(cJ)*0.916666666666667/2;cR[0]=0+cL;cR[1]=cS+cM;cR[2]=-cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=-cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledDownTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.916666666666667+1)/2;cR[0]=0+cL;cR[1]=cS+cM;cR[2]=-cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=-cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDLeftTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+3)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+6)/2;cR[0]=-cT+cL;cR[1]=0+cM;cR[2]=cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDLeftTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+4)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+8)/2;cR[0]=-cT+cL;cR[1]=0+cM;cR[2]=cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledLeftTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=cG.c.get('size').gv(cJ)*0.916666666666667/2;cR[0]=-cS+cL;cR[1]=0+cM;cR[2]=cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledLeftTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.916666666666667+1)/2;cR[0]=-cS+cL;cR[1]=0+cM;cR[2]=cS+cL;cR[3]=-cS+cM;cR[4]=cS+cL;cR[5]=cS+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDRightTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+3)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+6)/2;cR[0]=-cS+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cT+cL;cR[5]=0+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDRightTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.895833333333333+4)/2;var cT=(cG.c.get('size').gv(cJ)*0.895833333333333+8)/2;cR[0]=-cS+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cT+cL;cR[5]=0+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledRightTriangleHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=cG.c.get('size').gv(cJ)*0.916666666666667/2;cR[0]=-cS+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cS+cL;cR[5]=0+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledRightTrianglePressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(6);var cS=(cG.c.get('size').gv(cJ)*0.916666666666667+1)/2;cR[0]=-cS+cL;cR[1]=-cS+cM;cR[2]=-cS+cL;cR[3]=cS+cM;cR[4]=cS+cL;cR[5]=0+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledStarHoverOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(20);var cS=cG.c.get('size').gv(cJ)*1.09166666666667+2;var cT=cS*0.3877;var cU=cS/2;cR[0]=0+cL;cR[1]=-cU+cS*0.0246+cM;cR[2]=-cU+cS*0.3817+cL;cR[3]=-cU+cT+cM;cR[4]=-cU+cL;cR[5]=-cU+cT+cM;cR[6]=-cU+cS*0.3088+cL;cR[7]=-cU+cS*0.612+cM;cR[8]=-cU+cS*0.1909+cL;cR[9]=-cU+cS*0.9751+cM;cR[10]=0+cL;cR[11]=-cU+cS*0.7507+cM;cR[12]=-cU+cS*0.8085+cL;cR[13]=-cU+cS*0.9751+cM;cR[14]=-cU+cS*0.6905+cL;cR[15]=-cU+cS*0.612+cM;cR[16]=cU+cL;cR[17]=-cU+cT+cM;cR[18]=-cU+cS*0.6176+cL;cR[19]=-cU+cT+cM;L.set_lineWidth(1);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.renderShapeIDFilledStarPressedOverlayImage=function(L,cG,cH,cI,cJ){var cK=cG.c.get('selected_halo_color').gv(cJ)['colorOverrideNone'];var cL=cH;var cM=cI;{var cN=cG.getMarkInstanceOffsets(cJ);var cO=cN.length;for(var cP=0;cP<cO;cP++){var cQ=cN[cP];bC.$d(L,cQ);{var cR=new Array(20);var cS=cG.c.get('size').gv(cJ)*1.09166666666667+4;var cT=cS*0.3877;var cU=cS/2;cR[0]=0+cL;cR[1]=-cU+cS*0.0246+cM;cR[2]=-cU+cS*0.3817+cL;cR[3]=-cU+cT+cM;cR[4]=-cU+cL;cR[5]=-cU+cT+cM;cR[6]=-cU+cS*0.3088+cL;cR[7]=-cU+cS*0.612+cM;cR[8]=-cU+cS*0.1909+cL;cR[9]=-cU+cS*0.9751+cM;cR[10]=0+cL;cR[11]=-cU+cS*0.7507+cM;cR[12]=-cU+cS*0.8085+cL;cR[13]=-cU+cS*0.9751+cM;cR[14]=-cU+cS*0.6905+cL;cR[15]=-cU+cS*0.612+cM;cR[16]=cU+cL;cR[17]=-cU+cT+cM;cR[18]=-cU+cS*0.6176+cL;cR[19]=-cU+cT+cM;L.set_lineWidth(2);L.set_strokeStyle(cK);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cR,true,true)}if(cQ!==0){L.restore()}}}};bC.$e=function(){return(BrowserSupport.BrowserSupport.IsChrome()?0.400000005960464:0)};bC.$d=function(L,cG){if(!tab.DoubleUtil.isApproximatelyEqual(cG,0)){L.save();L.translate(cG,0)}};bC.$2=function(L,cG,cH,cI,cJ,cK){var cL=Math.min(cH,cJ);var cM=Math.max(cH,cJ);var cN=Math.min(cI,cK);var cO=Math.max(cI,cK);var cP=bC.roundStartAndExtent(cL,cM-cL,L.minBarHeight);var cQ=bC.roundStartAndExtent(cN,cO-cN,L.minBarWidth);tab.RectXYUtil.unionInPlace$1(cG,cQ.item1,cP.item1,Math.floor(cQ.item2),Math.floor(cP.item2))};bC.$3=function(L,cG,cH,cI,cJ,cK,cL,cM,cN,cO){var cP=cG.c.get('draw_border').gv(cH);var cQ=(cP?1:0);var cR=((cG.markType==='text')?0:1);var cS=Math.min(cI,cJ);var cT=Math.min(cK,cL);var cU=Math.abs(cJ-cI);var cV=Math.abs(cL-cK);var cW=bC.roundStartAndExtent(cT,cV,cG.minBarHeight);var cX=bC.roundStartAndExtent(cS,cU,cG.minBarWidth);cS=cX.item1-cR;cT=cW.item1-cR;cU=cX.item2+cO+cQ+cR-1;cV=cW.item2+cO+cQ+cR-1;if(cN){cU=cV=Math.min(cU,cV)}if(!cG.isWrappedDomain){var cY=cG.getUserPaneRectByMark(cH);if(!tab.RectXYUtil.intersectsWith$1(cY,Math.floor(cS),Math.floor(cT),Math.floor(cU),Math.floor(cV))){return}if(cY.x>=cS){var cZ=cY.x+cO-1;cU-=cZ-cS;cS=cZ}if(cY.x+cY.w<=cS+cU){cU=cY.x+cY.w-cS-1}if(cY.y>=cT){var da=cY.y+cO-1;cV-=da-cT;cT=da}if(cY.y+cY.h<=cT+cV){cV=cY.y+cY.h-cT-1}}L.set_lineJoin('miter');bC.$a(L,cS,cT,cU,cV,cM['colorOverrideNone'],cO,cG.minBarWidth,cG.minBarHeight,false)};bC.bBoxGeometry=function(L,cG,cH,cI){var cJ={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(cI.geometryType){case'multiPolygon':{tab.CanvasRenderer.boundsMultipolygon(cI.multiPolygon,cJ);break}case'multiLineString':{tab.CanvasRenderer.boundsMultilineString(cI.multiLine,cJ);break}case'multiPoint':{tab.CanvasRenderer.boundsCoordinateArray(cI.multiPoint.pointsF,cJ);break}default:{return}}var cK=cG.transformBounds(cJ);tab.DoubleRectXYUtil.outsetRectInPlace(cK,cH,cH);tab.RectXYUtil.unionInPlace(L,tab.DoubleRectXYUtil.toEncompassingRectXY(cK))};bC.$7=function(L,cG,cH,cI){switch(cH){case'highlightedUnder':case'normalUnder':{return L.c.get('halo_color').gv(cG)[cI]}case'selectedOn':case'highlightedOn':case'normalOn':{return L.getMarkColors(cG)[cI]}case'border':{return L.getBorderColors(cG)[cI]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return L.c.get('selected_halo_color').gv(cG)[cI]}}return bC.$g};bC.$4=function(L,cG,cH,cI,cJ){var cK=100000;switch(L){case 0:{return{x:ss.Int32.trunc(cG),y:ss.Int32.trunc(cH),w:ss.Int32.trunc(cI),h:ss.Int32.trunc(cJ)}}case 1:{cH=-100000;cJ=200000;break}case 2:{cG=-100000;cI=200000;break}}var cL=bC.roundStartAndExtent(cH,cJ,0);var cM=bC.roundStartAndExtent(cG,cI,0);return{x:ss.Int32.trunc(cM.item1),y:ss.Int32.trunc(cL.item1),w:ss.Int32.trunc(cM.item2),h:ss.Int32.trunc(cL.item2)}};bC.$6=function(L,cG,cH,cI,cJ,cK){var cL=Math.atan2(cJ-cG,cI-L);var cM=Math.cos(cL);var cN=Math.sin(cL);cH/=2;cK/=2;var cO=cH*cN;var cP=cK*cN;var cQ=cH*cM;var cR=cK*cM;var cS=new Array(8);cS[0]=L+cO;cS[1]=cG-cQ;cS[2]=cI+cP;cS[3]=cJ-cR;cS[4]=cI-cP;cS[5]=cJ+cR;cS[6]=L-cO;cS[7]=cG+cQ;return cS};bC.$9=function(L,cG,cH,cI,cJ,cK,cL,cM){var cN=bC.$6(cH,cI,cJ,cK,cL,cM);return O.isPointInPoly(cN,{x:L,y:cG},null)};bC.$0=function(L,cG,cH,cI,cJ,cK,cL){var cM=bC.$6(cG,cH,cI,cJ,cK,cL);var cN=cM[0];var cO=cN;var cP=cM[1];var cQ=cP;var cR=cM.length;for(var cS=0;cS<cR;cS=cS+2){cN=Math.min(cN,cM[cS]);cO=Math.max(cO,cM[cS]);cP=Math.min(cP,cM[cS+1]);cQ=Math.max(cQ,cM[cS+1])}tab.RectXYUtil.unionInPlace(L,{x:cN<<0,y:cP<<0,w:(cO-cN<<0)+1,h:(cQ-cP<<0)+1})};bC.$1=function(L,cG,cH,cI,cJ){if(cI>cJ){var cK=cI;cI=cJ;cJ=cK}if(cJ-cI>=1){var cL=Math.ceil(2*cH);return{x:Math.floor(L-cH),y:Math.floor(cG-cH),w:cL,h:cL}}var cM=tab.CanvasRenderer.toCanvasAngle(cI);var cN=tab.CanvasRenderer.toCanvasAngle(cJ);var cO=[];cO.push({x:L,y:cG});cO.push({x:L+cH*Math.cos(cM),y:cG+cH*Math.sin(cM)});cO.push({x:L+cH*Math.cos(cN),y:cG+cH*Math.sin(cN)});var cP=cO;cM=O.normalizeAngle(cM);cN=O.normalizeAngle(cN);if(O.isInBetweenAngles(0,cM,cN)){cP.push({x:L+cH,y:cG})}if(O.isInBetweenAngles(tab.CanvasRenderer.halfPI,cM,cN)){cP.push({x:L,y:cG+cH})}if(O.isInBetweenAngles(tab.CanvasRenderer.onePI,cM,cN)){cP.push({x:L-cH,y:cG})}if(O.isInBetweenAngles(tab.CanvasRenderer.oneAndHalfPI,cM,cN)){cP.push({x:L,y:cG-cH})}var cQ=Number.POSITIVE_INFINITY;var cR=Number.POSITIVE_INFINITY;var cS=Number.NEGATIVE_INFINITY;var cT=Number.NEGATIVE_INFINITY;for(var cU=0;cU<cP.length;cU++){var cV=cP[cU];cQ=Math.min(cQ,cV.x);cR=Math.min(cR,cV.y);cS=Math.max(cS,cV.x);cT=Math.max(cT,cV.y)}return tab.RectXYUtil.rectXYFromMinAndMax(cQ,cR,cS,cT)};bC.roundStartAndExtent=function(L,cG,cH){var cI=Math.round(L+cG);L=Math.round(L);cG=Math.max(Math.abs(cI-L),cH);return{item1:L,item2:cG}};bC.$8=function(L,cG,cH,cI,cJ,cK,cL,cM,cN,cO){if(cH<0){L+=cH;cH=Math.abs(cH)}if(cI<0){cG+=cI;cI=Math.abs(cI)}var cP=bC.roundStartAndExtent(L-cJ,cH+cJ+cJ,cL+cJ+cJ);var cQ=bC.roundStartAndExtent(cG-cK,cI+cK+cK,cM+cK+cK);var cR={x:ss.Int32.trunc(cQ.item1),y:ss.Int32.trunc(cP.item1),w:ss.Int32.trunc(cQ.item2),h:ss.Int32.trunc(cP.item2)};if(tab.RectXYUtil.inRectPointF(cR,{x:cN,y:cO})){return true}return false};bC.$b=function(L,cG,cH,cI,cJ){var cK=cG.c.get('shape_id').gv(cH);if(ss.isValue(cK)){var cL=tab.ApplicationModel.get_instance().get_shapeManager();var cM=cL.getImageElement(cK);if(!ss.isValue(cM)){tab.CanvasRenderer.renderCircle(L,cG.c.get('x').gv(cH),cG.c.get('y').gv(cH),cG.c.get('size').gv(cH),bC.$7(cG,cH,cI,cJ),2);return}if(!cM.complete){return}var cN=cG.hasConstantColor;var cO=cG.c.get('size').gv(cH);var cP=cG.c.get('left').gv(cH);var cQ=cG.c.get('top').gv(cH);var cR;var cS;if(cM.naturalWidth>cM.naturalHeight){var cT=cM.naturalWidth/cM.naturalHeight;cR=cO;cS=cO/cT;cQ+=Math.round((cO-cS)/2)}else{var cU=cM.naturalHeight/cM.naturalWidth;cR=cO/cU;cS=cO;cP+=Math.round((cO-cR)/2)}cR=Math.round(cR);cS=Math.round(cS);var cV=bC.$5(cG,cH,cI,cJ);cI=((cI==='normalOn'&&cJ==='colorOverrideOpaque')?'selectedOn':cI);var cW=tab.ShapeManager.getCacheKey$1(cK,cI,cJ,cV.toString(),cR,cS);var cX=cL.getCachedCanvas(cW);if(ss.isNullOrUndefined(cX)){var cY=null;switch(cI){case'normalUnder':case'highlightedUnder':case'selectedUnder':{cY=function(){return ce.generateSelectedUnderCustomShape(cM,cV,tab.ShapeManager.selectionBorderSize,cR,cS)};break}case'normalOn':{if(cN){if(cJ==='colorOverrideFog'){cY=function(){return ce.applyFoggingToImage(cM,cG.foggedBackgroundColor,cG.fogBlendFactor,cR,cS)}}}else{cY=function(){return ce.colorTransformImage(cM,cV,cR,cS)}}break}case'highlightedOn':{if(!cN){cY=function(){return ce.colorTransformImage(cM,cV,cR,cS)}}break}case'selectedOn':{if(!cN){cY=function(){cV=tab.ColorModel.fromColorModelPlusAlpha(cV,255);return ce.colorTransformImage(cM,cV,cR,cS)}}break}case'hoverOverlay':{cY=function(){return ce.generateOverlayForShape(cM,cV,tab.ShapeManager.selectionBorderSize,cR,cS)};break}case'pressedOverlay':{cY=function(){return ce.generateOverlayForShape(cM,cV,tab.ShapeManager.selectionBorderSize*2,cR,cS)};break}}if(!ss.isValue(cY)){cY=function(){return ce.generateCanvasAndPrescaleAsNeeded(cM,cR,cS)}}cX=cL.generateCachedCanvas(cW,cY)}if(ss.isValue(cX)){switch(cI){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{L.drawImage3(cX,cP-tab.ShapeManager.selectionBorderSize,cQ-tab.ShapeManager.selectionBorderSize,cX.width,cX.height);break}case'pressedOverlay':{L.drawImage3(cX,cP-tab.ShapeManager.selectionBorderSize*2,cQ-tab.ShapeManager.selectionBorderSize*2,cX.width,cX.height);break}case'normalOn':{L.set_alpha(cV.get_a());L.drawImage3(cX,cP,cQ,cR,cS);break}default:{L.drawImage3(cX,cP,cQ,cR,cS);break}}}else{}}};bC.$5=function(L,cG,cH,cI){var cJ=bC.$7(L,cG,cH,cI);return tab.ColorModel.fromColorCode(cJ)};bC.$a=function(L,cG,cH,cI,cJ,cK,cL,cM,cN,cO){L.set_lineWidth(cL);L.set_strokeStyle(cK);var cP=((Math.round(cL)%2===0)?0:0.5);var cQ=bC.roundStartAndExtent(cH,cJ,cN);var cR=bC.roundStartAndExtent(cG,cI,cM);if(cO){var cS=Math.min(cR.item2,cQ.item2);cR={item1:cR.item1,item2:cS};cQ={item1:cQ.item1,item2:cS}}L.strokeRect(cR.item1+cP,cQ.item1+cP,cR.item2,cQ.item2)};bC.$c=function(L,cG,cH,cI,cJ,cK,cL,cM,cN){L.set_shapeFillStyle(cK);{var cO=bC.roundStartAndExtent(cH,cJ,cM);cH=cO.item1;cJ=cO.item2;var cP=bC.roundStartAndExtent(cG,cI,cL);cG=cP.item1;cI=cP.item2}if(cN){cI=cJ=Math.min(cI,cJ)}L.fillRect(cG,cH,cI,cJ)};global.tab.MarksRenderer=bC;var bD=function(){};bD.__typeName='tab.NodeType';global.tab.NodeType=bD;var bE=function(){this.hasPixelGeometry=false;this.worldWidth=0;this.sceneInfo=null;this.c=new Map;this.$j=null;this.$p=null;this.$q=null;this.domainExtents=null;this.$n=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap=new Map;this.$g=null;this.$l=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$m=null;this.$i=new Set;this.$o=false;this.shapeMarkStampingDecision=null;this.$h=null;this.$k=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.$1$1=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$f=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;if(ss.isNullOrUndefined(bE.textAngleInRad)){bE.textAngleInRad=new Map;bE.textAngleInRad.set(1,0);bE.textAngleInRad.set(2,-Math.PI*0.5);bE.textAngleInRad.set(3,Math.PI*0.5)}if(ss.isNullOrUndefined(bE.$d)){bE.$d=new Map;bE.$d.set('theta',{x:0,y:1});bE.$d.set('theta1',{x:0,y:1});bE.$d.set('size',{x:0,y:4096});bE.$d.set('text_run_x',{x:0,y:4096});bE.$d.set('text_run_direction_x',{x:0,y:4096});bE.$d.set('text_run_y',{x:0,y:4096});bE.$d.set('text_run_direction_y',{x:0,y:4096});for(var L=0;L<bE.$7.length;L++){var cG=bE.$7[L];bE.$d.set(cG,{x:0,y:0})}for(var cH=0;cH<bE.$8.length;cH++){var cI=bE.$8[cH];bE.$d.set(cI,{x:0,y:0})}}if(ss.isNullOrUndefined(bE.$e)){bE.$e=[];bE.$e.push(0)}this.setDefaultLabelLookupValues()};bE.__typeName='tab.PaneDrawInfo';bE.$ctor1=function(L,cG,cH,cI,cJ,cK,cL,cM){bE.call(this);if(ss.isNullOrUndefined(cH)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(cI)){throw new ss.ArgumentNullException('paneMarks')}this.skipClipping=false;this.paneDrawInfoKey=cK;this.sceneInfo=cG;this.paneMarks=cI;this.forceOpaqueColors=false;this.pdMarksKey=L;this.paneColumn=cH.Column;this.paneRow=cH.Row;this.paneRect={x:cH.Rect[0],y:cH.Rect[1],w:cH.Rect[2],h:cH.Rect[3]};this.set_paneIndex(cM);this.domainExtents=null;var cN=ss.isValue(cL.Viewpoint)&&ss.isValue(cL.Viewpoint.PerPaneExtents);if(cN){this.domainExtents=bE.getPaneDomainExtents(cL.Viewpoint.PerPaneExtents,cM)}this.markCount=bE.getNumPaneItems(this.paneMarks);var cO=cL.PDMarks[L];var cP=cO.MarkLayoutData;var cQ=cP.Parameters;this.markType=tab.EnumConversions.primitiveFromInt(cQ.PrimitiveType);this.showLabels=ss.isValue(cO.ShowLabels)&&cO.ShowLabels;this.labelMode=(ss.isValue(cO.LabelMode)?cO.LabelMode:'mlm-default');this.set_paneFlags(cQ.pane_flags);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=bE.$3(cL.PDMarks[L],cI.get_startIndex(),this.markCount);this.hasConstantColor=!cO.has_per_mark_color_encoding;var cR=tab.ColorModel.white;if(this.c.has('background_color')){var cS=this.c.get('background_color');cR=tab.ColorModel.fromArgbInt(cS.v[(cS.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(cR);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(cR,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(cG.sceneUserPaneInfo);this.processColors(cJ);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}var cT=ss.isValue(cP.TextCompositionInputKeys)&&cP.TextCompositionInputKeys.is_text_table===true;this.parseTextInfo(cO.TextRunTable,cO.TextStyleTable,false,cT);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=null;if(cN){this.mapExtents=bE.buildMapExtentsRect(cL.Viewpoint.PerPaneExtents,cM,this.domainExtents,this.paneRect)}this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};bE.getNumPaneItems=function(L){return L.get_endIndex()-L.get_startIndex()};bE.getPaneDomainExtents=function(L,cG){return tab.DoubleRectXYUtil.constructDoubleRectXY(L.DomainLeft[cG],L.DomainTop[cG],L.DomainRight[cG],L.DomainBottom[cG])};bE.buildMapExtentsRect=function(L,cG,cH,cI){if(ss.isNullOrUndefined(L.MapDomainBottom)||ss.isNullOrUndefined(L.MapDomainTop)||ss.isNullOrUndefined(L.MapDomainLeft)||ss.isNullOrUndefined(L.MapDomainRight)||L.MapDomainLeft[cG]===L.MapDomainRight[cG]||L.MapDomainBottom[cG]===L.MapDomainTop[cG]){return null}return{x:ss.Int32.trunc(bE.domainToPixelX(L.MapDomainLeft[cG],cH,cI)),y:ss.Int32.trunc(bE.domainToPixelY(L.MapDomainTop[cG],cH,cI)),w:ss.Int32.trunc(bE.domainToPixelWidth(L.MapDomainRight[cG]-L.MapDomainLeft[cG],cH,cI)),h:ss.Int32.trunc(bE.domainToPixelHeight(L.MapDomainBottom[cG]-L.MapDomainTop[cG],cH,cI))}};bE.$3=function(L,cG,cH){var cI=new Map;var cJ=L;var cK=new ss.ObjectEnumerator(cJ);try{while(cK.moveNext()){var cL=cK.current();if(!ss.referenceEquals(cL.value,L.Encodings)&&!ss.referenceEquals(cL.value,L.MarkLayoutData)){var cM=[cL.value];cI.set(cL.key,tab.VisualColumnIterator.create(cM))}}}finally{cK.dispose()}var cN=L.MarkLayoutData.Parameters;var cO=new ss.ObjectEnumerator(cN);try{while(cO.moveNext()){var cP=cO.current();var cQ=[cP.value];cI.set(cP.key,tab.VisualColumnIterator.create(cQ))}}finally{cO.dispose()}var cR=L.Encodings;var cS=new ss.ObjectEnumerator(cR);try{while(cS.moveNext()){var cT=cS.current();var cU=cT.value;cI.set(cT.key,tab.VisualColumnIterator.create(Array.prototype.slice.call(cU,cG,cG+cH)))}}finally{cS.dispose()}return cI};bE.domainToPixelX=function(L,cG,cH){return O.$5(L,cG.x,cH.x,cH.w/cG.w)};bE.domainToPixelY=function(L,cG,cH){return O.$5(L,cG.y,cH.y,cH.h/cG.h)};bE.domainToPixelWidth=function(L,cG,cH){return L/cG.w*cH.w};bE.domainToPixelHeight=function(L,cG,cH){return L/cG.h*cH.h};bE.$0=function(L,cG){var cH=new ss.StringBuilder;if(ss.keyExists(L,'font_style')&&parseInt(L['font_style'].dataValues[cG].toString())===1){cH.append('italic ')}if(ss.keyExists(L,'font_weight')&&parseInt(L['font_weight'].dataValues[cG].toString())===1){cH.append('bold ')}var cI=parseInt(L['font_size'].dataValues[cG].toString());cI=Math.max(6,cI);var cJ=L['font'].dataValues[cG];cJ=z.$1(cJ);cH.append(cI+'pt '+cJ);return cH.toString()};bE.$1=function(L,cG){var cH=new ss.StringBuilder;if(!ss.isNullOrUndefined(L.font_style)&&parseInt(L.font_style[cG].toString())===1){cH.append('italic ')}if(!ss.isNullOrUndefined(L.font_weight)&&parseInt(L.font_weight[cG].toString())===1){cH.append('bold ')}var cI=parseInt(L.font_size[cG].toString());cI=Math.max(6,cI);var cJ=L.font[cG];cJ=z.$1(cJ);cH.append(cI+'pt '+cJ);return cH.toString()};bE.getTextAngleInRad=function(L){return bE.textAngleInRad.get(L)};bE.getMarkBoundingBox=function(L,cG,cH,cI){var cJ;switch(L){case'shape':{cJ=bC.shapeMarkBuildMarkBound(cH,cG);break}case'bar':case'square':{cJ=bC.barMarkBuildMarkBound(cH,cG);break}case'pie':{cJ=bC.getPieBoundingBox(cH,cG);break}case'text':{cJ=bC.textMarkBuildMarkBound(cH,cG);break}case'label':{cJ=bC.getMarkLabelBoundingBox(cH,cG);break}case'line':{cJ=bC.lineMarkBuildMarkBound(cH,cG);break}case'area':{cJ=bC.areaMarkBuildMarkBound(cH,cG);break}case'multipolygon':{cJ=bC.multipolygonMarkBuildMarkBound(cH,cG);break}default:{cJ=bE.$2(cH,cG);break}}if(cH.hasUserPanes){tab.RectXYUtil.intersectInPlace(cJ,cI)}return cJ};bE.$2=function(L,cG){var cH=L.c.get('x').gv(cG);var cI=L.c.get('y').gv(cG);var cJ=L.c.get('size').gv(cG);var cK=Math.ceil(cJ);return{x:Math.floor(cH-cJ/2+0.5),y:Math.floor(cI-cJ/2+0.5),w:cK,h:cK}};global.tab.PaneDrawInfo=bE;var bF=function(L,cG){this.$y=null;this.$z=null;this.$A=null;tab.CanvasRenderer.call(this,L,cG);var cH=(ss.isValue(this.$A)?this.$A.colorModel:bg.defaultColors);this.$y=new z(L,cG,cH);this.$z=new bU(L,cG)};bF.__typeName='tab.PaneTable2DRenderer';bF.renderHoverOverlay=function(L,cG,cH){if(ss.isNullOrUndefined(cH)||ss.isNullOrUndefined(cG)){return}{var cI=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var cJ=cG.getMarkIndexFromTupleId(L);switch(cG.markType){case'area':{bC.renderAreaMarkHoverOverlayImage(cH,cG,cJ);break}case'bar':case'square':{bC.renderBarHoverOverlayImage(cH,cG,cJ);break}case'line':{bC.renderLineMarkHoverOverlayImage(cH,cG,cJ);break}case'multipolygon':{bC.renderMultipolygonMarkHoverOverlayImage(cH,cG,cJ);break}case'pie':{bC.renderPieHoverOverlayImage(cH,cG,cJ);break}case'shape':{bC.renderShapeHoverOverlayImage(cH,cG,cJ);break}case'text':{bC.renderTextHoverOverlayImage(cH,cG,cJ);break}}}finally{if(ss.isValue(cI)){cI.dispose()}}}};bF.renderPressedOverlay=function(L,cG,cH){if(ss.isNullOrUndefined(cH)||ss.isNullOrUndefined(cG)){return}{var cI=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var cJ=cG.getMarkIndexFromTupleId(L);switch(cG.markType){case'area':{bC.renderAreaMarkPressedOverlayImage(cH,cG,cJ);break}case'bar':case'square':{bC.renderBarPressedOverlayImage(cH,cG,cJ);break}case'line':{bC.renderLineMarkPressedOverlayImage(cH,cG,cJ);break}case'multipolygon':{bC.renderMultipolygonMarkPressedOverlayImage(cH,cG,cJ);break}case'pie':{bC.renderPiePressedOverlayImage(cH,cG,cJ);break}case'shape':{bC.renderShapePressedOverlayImage(cH,cG,L);break}case'text':{bC.renderTextPressedOverlayImage(cH,cG,cJ);break}}}finally{if(ss.isValue(cI)){cI.dispose()}}}};bF.anInstantRefLineIsPresent=function(L){if(ss.isValue(L.get_finalDataStore().InstantRefLines)){var cG=new ss.ObjectEnumerator(L.get_finalDataStore().InstantRefLines);try{while(cG.moveNext()){var cH=cG.current();if(cH.value.LayoutElements.Value.length>0){return true}}}finally{cG.dispose()}}var cI=L.get_annexedData().Panes;for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];var cL=cK.DrawPanes;for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];var cO=cN;var cP=tab.EnumConversions.visualPartFromInt(cO[0]);if(cP==='ref-lines'){return true}}}return false};bF.$0=function(L,cG,cH){L[0]=cG.x;L[1]=cG.y;L[2]=cH.x;L[3]=cH.y};bF.calculateColorForState=function(L,cG,cH,cI){if(cG==='selected'&&cH){if(tab.ColorModel.isFullyTransparent(L)){return'rgba(0,0,0,1)'}return L.toString()}if(cG==='hover'&&cH){return L.toHoverColor().toString()}if(cG==='fogged'){return tab.SceneDataUtil.fogColorTransform(L,cI.item2,cI.item1).toString()}return L.toString()};bF.getFogBlendFactorAndBackgroundColor=function(L){if(ss.isValue(L)&&ss.isValue(L.fogBlendFactor)&&ss.isValue(L.foggedBackgroundColor)){return{item1:L.fogBlendFactor,item2:L.foggedBackgroundColor}}else{var cG=tab.ColorModel.white;var cH=tab.SceneDataUtil.getFogBlendFactor(cG);var cI=tab.SceneDataUtil.applyFogToBackgroundColor(cG,cH);return{item1:cH,item2:cI}}};global.tab.PaneTable2DRenderer=bF;var bG=function(L,cG,cH){ss.makeGenericType(cx,[bN]).call(this,L,cG,cH);this.renderer=new bF(this.canvasElt,this.context);var cI=_.keys(L.get_vizRegionMap());for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];if(!ss.contains(bN.blackListVisualParts,cK)){L.get_vizRegionMap()[cK].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};bG.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=bG;var bH=function(){this.$0=null};bH.__typeName='tab.PaneTableGeometryArgCache';global.tab.PaneTableGeometryArgCache=bH;var bI=function(L,cG,cH){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.set_regionGeometry(L);this.set_visibleGeometry(cG);this.set_geometryWithRegions(cH)};bI.__typeName='tab.PaneTableGeometryBundle';global.tab.PaneTableGeometryBundle=bI;var bJ=function(){};bJ.__typeName='tab.PaneTableGeometryComputer';bJ.computeGeometry=function(L){var cG=bJ.$5(L.geometry);var cH=new bW(cG,L.containerBox.w,L.containerBox.h);var cI=cH.getVisibleGeometry(cG,L.containerBox.w);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){bJ.$4(cG,cI)}return new bI(cH,cI,cG)};bJ.$5=function(L){var cG={};$.extend(true,cG,L);var cH=cG.ri.length;for(var cI=0;cI<cH;cI++){cG[cG.ri[cI].r]=cG.ri[cI]}return cG};bJ.$4=function(L,cG){if(ss.isValue(L.bottomaxis)){bJ.$0(L);bJ.$2(cG)}if(ss.isValue(L.rightaxis)){bJ.$1(L);bJ.$3(cG)}};bJ.$1=function(L){var cG=[L.xheader,L.bottomaxis,L.topaxis,L.viz];for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];if(ss.isValue(cI)){cI.w+=1}}};bJ.$0=function(L){var cG=[L.yheader,L.rightaxis,L.leftaxis,L.viz];for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];if(ss.isValue(cI)){cI.h+=1}}};bJ.$3=function(L){var cG=[L.xheaderArea,L.bottomaxisArea,L.topaxisArea,L.vizArea];for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];if(ss.isValue(cI)){cI.w+=1}}};bJ.$2=function(L){var cG=[L.yheaderArea,L.rightaxisArea,L.leftaxisArea,L.vizArea];for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];if(ss.isValue(cI)){cI.h+=1}}};bJ.computeVizScrollCapabilities=function(L){var cG={containerBox:L.get_containerGeometry(),geometry:L.get_geometryModel().pm};var cH=bJ.computeGeometry(cG);var cI=cH.get_geometryWithRegions().viz;var cJ=cH.get_visibleGeometry().vizArea;if(ss.isNullOrUndefined(cI)||ss.isNullOrUndefined(cJ)){return 0}var cK=0;if(cI.w>cJ.w){cK|=1}if(cI.h>cJ.h){cK|=2}return cK};global.tab.PaneTableGeometryComputer=bJ;var bK=function(L,cG,cH){this.$X=null;this.$Q=[];this.$P=new k('hover');this.$T=new k('press');this.$N=false;this.$V=null;this.$O=false;this.$L=[];this.$S=null;this.$M=null;this.$R='normal';this.$W=false;this.$U=null;ss.makeGenericType(cx,[bN]).call(this,L,cG,'transparent');this.renderer=new bF(this.canvasElt,this.context);this.$U=new bU(this.canvasElt,this.context);this.$X=cH;var cI=$(this.canvasElt);cI.css('position','absolute');cI.css('left','0px');cI.css('top','0px')};bK.__typeName='tab.PaneTableOverlayView';bK.$0=function(L,cG){var cH=new Set;if(ss.isValue(L)&&L.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,cH,L)}if(ss.isValue(cG)&&cG.length>0){var cI=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,cI,cG);cH=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,cH,cI)}return tab.SetUtilities.getValues(ss.Int32).call(null,cH)};global.tab.PaneTableOverlayView=bK;var bL=function(L){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,L);var cG=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=cG('.tab-clip');this.yLabel=cG('.tab-tvYLabel');this.leftAxis=cG('.tab-tvLeftAxis');this.rightAxis=cG('.tab-tvRightAxis');this.xLabel=cG('.tab-tvXLabel');this.bottomAxis=cG('.tab-tvBottomAxis');this.topAxis=cG('.tab-tvTopAxis');this.view=cG('.tab-tvView');this.title=cG('.tab-tvTitle');this.caption=cG('.tab-tvCaption');this.topLeftSpacer=cG('.tab-tvTLSpacer');this.topRightSpacer=cG('.tab-tvTRSpacer');this.bottomLeftSpacer=cG('.tab-tvBLSpacer');this.bottomRightSpacer=cG('.tab-tvBRSpacer');this.borders=cG('.tvViewportBorders');this.borders.append($(bL.$0))};bL.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=bL;var bM=function(L,cG){this.regions={};this.floatingZoomToolbarView=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$Z=[];this.$14=0;this.$13={x:0,y:0};this.$12=0;this.$17=null;this.isAnimationOccurring=false;this.vizTooltip=null;this.$16=null;this.$Q=null;this.$T=false;this.$10=null;this.$W=0;this.$11=null;this.$X=null;this.$Y=null;this.$O=null;this.$V=false;this.$15=null;this.$P=null;this.$U=null;this.$R=new e;this.regionParts=null;this.$S=null;this.$3$1=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.$3$2=null;ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).call(this,L,cG);this.dom=cG;this.regionParts=new bO(cG);this.get_controller().setTiledViewer(this);this.$14=(new Date).getTime();this.dom.view.attr('id','view'+this.$f());this.dom.domRoot.attr('tb-test-id',tab.EscapingUtil.escapeHtml(this.get_paneTableVM().get_visualId().worksheet));this.floatingZoomToolbarView=new N(this);var cH=L.get_visualModel();this.$M(cH);this.$F(cH);this.$D();this.$C();this.$A();this.$H(cH);this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$i));if(ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$h))}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$i));if(ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$h))}})));this.set_geometryBundle(new bI(null,null,null));this.$S=new bH};bM.__typeName='tab.PaneTableView';bM.addVizDragApprover=function(L){bM.removeVizDragApprover(L);bM.$7.push(L)};bM.removeVizDragApprover=function(L){ss.remove(bM.$7,L)};bM.addVizDragHandler=function(L){bM.removeVizDragHandler(L);bM.$8.push(L)};bM.addAsyncVizDragHandler=function(L){bM.removeAsyncVizDragHandler(L);bM.$4.push(L)};bM.removeVizDragHandler=function(L){ss.remove(bM.$8,L)};bM.removeAsyncVizDragHandler=function(L){ss.remove(bM.$4,L)};bM.$1=function(L,cG){if(cG==='viz'){return L[1]}return(ss.contains(bO.headerRegions,cG)?L[2]:L[0])};bM.$2=function(L,cG,cH){var cI=cG.length;for(var cJ=0;cJ<cI;cJ++){var cK=cG[cJ];if(cH.x+cK<=L){cH.x+=cK}else{cH.w=cK;return}}};bM.$3=function(L,cG,cH){var cI=cG.length;for(var cJ=0;cJ<cI;cJ++){var cK=cG[cJ];if(cH.y+cK<=L){cH.y+=cK}else{cH.h=cK;return}}};bM.findTitles=function(){return $('.tab-tvTitle')};bM.$0=function(L,cG){var cH=2;var cI={x:L.x,y:L.y};if(cG.w>4){cI=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(cI,cG,cH)}else{cI={x:cG.x+ss.Int32.div(cG.w,2),y:cI.y}}if(cG.h>4){cI=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(cI,cG,cH)}else{cI={x:cI.x,y:cG.y+ss.Int32.div(cG.h,2)}}return cI};bM.guessTooltipTargetTypeFromRegion=function(L){switch(L){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};bM.isViewDataAccessEnabled=function(){return tab.ApplicationModel.get_instance().get_toolbar().isLegacyMenuItemEnabled('exportdata')};global.tab.PaneTableView=bM;var bN=function(L){this.$G={};this.$D=null;this.$B=null;this.$x=null;this.$z=null;this.$y=null;this.$u=null;this.$F=null;this.$w=null;this.$E=null;this.$s=null;this.$A=false;this.$C=null;this.$v=null;this.$t=null;this.borderHighlighted=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.deferredResizerFactory=null;this.deferredHeaderResizerManagerViewModel=null;this.deferredCellResizerManagerViewModel=null;this.$2$7=null;this.$2$8=null;spiff.BaseViewModel.call(this);this.$D=L;this.$w=[];this.$B=new bY;var cG=new ss.Lazy(ss.mkdel(this,function(){return U.createHitTestChain(this,this.$B)}));this.$x=new bo(cG,this.$B);if(ss.isValue(this.$D)){if(ss.isValue(this.$D.get_selectionsModel())){this.$C=this.$D.get_selectionsModel().createSelectionsToken()}if(ss.isValue(this.$D.get_selectionsModel().tupleSelection)){this.$D.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$D.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$D.get_brushingsModel().tupleSelection)){this.$D.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$D.get_sceneModel())){this.$D.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$A=false}this.$D.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$D.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$D.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$D.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$D.add_vizNavigationSettingChanged(ss.mkdel(this,this.$g));this.$D.add_newVisual(ss.mkdel(this,this.$f));this.$D.add_newVisual(ss.mkdel(this,this.$a));this.$D.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));if(tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){this.$D.add_annotationHitBoxesChanged(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$D.remove_annotationHitBoxesChanged(ss.mkdel(this,this.$d))})))}}var cH=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$n()});this.$F=new cn('viz',(ss.isValue(this.$D)?this.$D.get_defaultMapTool():'no-tools'));this.set_floatingToolbarContainerVM(new H(this.$F));this.set_smoothTooltipsOnboardingVM(new ch);this.$l();this.$j();this.$i();this.$k();this.$h();tab.ServerFontLoader.get_instance().add_fontPreparationComplete(cH);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(cH)}));this.$q()};bN.__typeName='tab.PaneTableViewModel';bN.updateSceneInfoFromVisualModel=function(L,cG){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(cG)){return}var cH=cG.pm.colorDictionary;var cI=cG.pm.scene;var cJ=(ss.isValue(cG.get_selectionsModel().tupleSelection)?cG.get_selectionsModel():null);var cK=(ss.isValue(cG.get_impliedSelectionModel())?cG.get_impliedSelectionModel():null);var cL=(ss.isValue(cG.get_brushingsModel().tupleSelection)?cG.get_brushingsModel():null);var cM=((ss.isValue(cG.get_sceneModel())&&ss.isValue(cG.get_sceneModel().get_referenceLines()))?cG.get_sceneModel().get_referenceLines():null);var cN=cG.get_hiddenTuples();var cO=cG.get_filteredTuples();var cP=bN.$0(cG);L.setSceneData(cI,cJ,cK,cL,cH,cN,cO,cG.get_runtimeData(),cM,cP);if(ss.isValue(cG.get_runtimeData())){L.setLabelInfo(cG.get_runtimeData(),cI.currentPage)}L.setIsTargetOfBrushingAction(cG.get_isBrushedFromAction());L.setEmptyHighlightFogAll(cG.get_emptyHighlightFogAll())};bN.$1=function(L,cG,cH){switch(L.get_reason()){case 1:{if(cG.hasTupleSelection()){return true}return ss.isValue(cH)&&cH.get_selectionType()==='tuples'&&cH.get_ids().length>0}case 2:{return L.get_invalidateViz()||L.get_objectIds().length>0}default:{return false}}};bN.$0=function(L){var cG=L.get_geometryModel().pm;var cH=null;if(ss.isValue(cG)&&ss.isValue(cG.ri)){var cI=cG.ri;for(var cJ=0;cJ<cI.length;cJ++){if(cI[cJ].r==='viz'){cH={x:0,y:0,w:cI[cJ].w,h:cI[cJ].h};break}}}return cH};global.tab.PaneTableViewModel=bN;var bO=function(L){this.$1=null;this.$2=null;this.$1=L;this.$2=this.$0()};bO.__typeName='tab.PaneTableViewRegionParts';global.tab.PaneTableViewRegionParts=bO;var bP=function(){};bP.__typeName='tab.PaneTableViewWebMetrics';bP.createWheelZoomFullyCompleteContext=function(){return tabBootstrap.MetricsController.createContext('WheelZoomFullyComplete',32,null)};global.tab.PaneTableViewWebMetrics=bP;var bQ=function(L,cG){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;cc.call(this,L,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=cG;this.$n=null;this.$o=null};bQ.__typeName='tab.PolyShapeSelector';bQ.$0=function(L,cG,cH){return L>=cG&&cG>=cH||L<=cG&&cG<=cH};global.tab.PolyShapeSelector=bQ;var bR=function(){this.$0=null;this.$1=0;cd.call(this);this.$0=[];this.$1=0};bR.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=bR;var bS=function(){this.$d=null;this.$e=null;cc.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};bS.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=bS;var bT=function(){this.$0=null;this.$1=null;cd.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};bT.__typeName='tab.RectShapeState';global.tab.RectShapeState=bT;var bU=function(L,cG){this.$O='normal';this.$N=null;bC.call(this,L,cG)};bU.__typeName='tab.ReferenceLinesRenderer';global.tab.ReferenceLinesRenderer=bU;var bV=function(L,cG){this.$6=null;this.$5=null;X.call(this,L);this.$6=cG};bV.__typeName='tab.RefLineHitTestLink';bV.hitTestRefLines=function(L,cG,cH){var cI=Z.createEmptyHitTestResult();var cJ=[];for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=bV.hitTestRefLine(cL.drawItems,cG,cH);if(cM.get_hitType()!==0){if(cH){cI=Z.tieBreak(cM,cI)}else{cJ.push(cM)}}}return bV.$5(cH,cI,cJ)};bV.$2=function(L,cG){var cH=[];for(var cI=0;cI<L.length;cI++){var cJ=L[cI];if(cJ.type==='clip-rect'&&cG==='refpart-clip-rect'){cH.push(cJ)}else if(cJ.type==='draw-group'){var cK=cJ;var cL=_.find(cK.drawItems,function(cM){return cM.type==='draw-text'});if(cG==='refpart-text'&&ss.isValue(cL)){cH.push(cJ)}else if(cG==='refpart-geom'&&ss.isNullOrUndefined(cL)){cH.push(cJ)}}}return cH};bV.$4=function(L,cG,cH,cI,cJ){var cK=tab.RectXYUtil.dialate(cH,cv.visualPartNearHitTestExpansionPixels);var cL=1;var cM=new Z.$ctor1(cJ,cG,0);for(var cN=0;cN<L.length;cN++){var cO=L[cN];switch(cO.type){case'draw-pen':{var cP=cO;if(ss.isValue(cP.strokeWidth)){cL=cP.strokeWidth}break}case'draw-polyline':case'draw-fill-rect':{var cQ=cO;var cR=ss.isValue(cQ.useForOverlayHitTest)&&!cQ.useForOverlayHitTest;var cS={x:cQ.points[0],y:cQ.points[1]};var cT={x:cQ.points[2],y:cQ.points[3]};var cU=tab.RectXYUtil.rectXYFromCorners$1(cS,cT);if(cO.type==='draw-polyline'){if(cL<3){cU=tab.RectXYUtil.dialate(cU,1)}}var cV=cI&&tab.RectXYUtil.intersectsWith(cK,cU);var cW=(!cI||cV)&&tab.RectXYUtil.intersectsWith(cH,cU);if(cW){cM=new Z.$ctor1(cJ,cG,3);if(cR){cM.doNotRenderOverlay()}return cM}if(cV){cM=new Z.$ctor1(cJ,cG,2);if(cR){cM.doNotRenderOverlay()}}break}default:{break}}}return cM};bV.hitTestRefLine=function(L,cG,cH){var cI=Z.createEmptyHitTestResult();var cJ=bV.$2(L,'refpart-text');cI=bV.$3(cJ,5,cG,cH,cI);if(cI.get_hitType()===3){return cI}var cK=bV.$2(L,'refpart-geom');cI=bV.$3(cK,4,cG,cH,cI);return cI};bV.$3=function(L,cG,cH,cI,cJ){for(var cK=L.length-1;cK>=0;cK--){var cL=L[cK];var cM=bV.$4(cL.drawItems,cG,cH,cI,cL.objectId);if(cM.get_hitType()===3){return cM}if(cM.get_hitType()===2&&cJ.get_hitType()===0){cJ=cM}}return cJ};bV.$7=function(L,cG){if(cG.get_hitType()===3){return cG}if(cG.get_hitType()===2&&L.get_hitType()===0){return cG}return L};bV.$6=function(L,cG){var cH=Z.createEmptyHitTestResult();if(L.get_nodeType()===8){cH=bV.$1(L,cG)}if(cH.get_hitType()===2||L.get_nodeType()===9){var cI=bV.$0(L,cG);if(cI.get_hitType()===3){cH=cI}}return cH};bV.$1=function(L,cG){var cH=Z.createEmptyHitTestResult();var cI=tab.RectXYUtil.dialate({x:cG.x,y:cG.y,w:0,h:0},7);var cJ=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(L.get_boundingBox(),cI);if(cJ){cH=new Z.$ctor1(L.get_objectId(),6,2)}return cH};bV.$0=function(L,cG){var cH=Z.createEmptyHitTestResult();var cI=tab.RectXYUtil.dialate({x:cG.x,y:cG.y,w:0,h:0},1);var cJ=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(L.get_boundingBox(),cI);if(cJ){cH=new Z.$ctor1(L.get_objectId(),6,3)}return cH};bV.$5=function(L,cG,cH){if(L){if(cG.get_hitType()===0){return[Z.createEmptyHitTestResult()]}return[cG]}return cH};global.tab.RefLineHitTestLink=bV;var bW=function(L,cG,cH){this.$2=0;this.$1=0;this.$a=0;this.$9=0;this.$7=0;this.$8=0;this.$d=0;this.$0=0;this.$c=0;this.$b=0;this.$6=0;this.$5=0;this.$4=0;this.$3=0;if(ss.isValue(L.title)){this.$1=bW.$0(this.$1,L.title)}if(ss.isValue(L.xheader)){this.$7=L.xheader.x;this.$a=L.xheader.w;this.$1=bW.$0(this.$1,L.xheader)}if(ss.isValue(L.bottomaxis)){this.$7=L.bottomaxis.x;this.$a=L.bottomaxis.w;this.$1=bW.$0(this.$1,L.bottomaxis)}if(ss.isValue(L.topaxis)){this.$1=bW.$0(this.$1,L.topaxis)}if(ss.isValue(L.viz)){this.$7=L.viz.x;this.$a=L.viz.w;this.$1=bW.$0(this.$1,L.viz)}if(ss.isValue(L.caption)){this.$1=bW.$0(this.$1,L.caption)}if(ss.isValue(L.yheader)){this.$8=L.yheader.y;this.$9=L.yheader.h;this.$2=bW.$1(this.$2,L.yheader)}if(ss.isValue(L.leftaxis)){this.$8=L.leftaxis.y;this.$9=L.leftaxis.h;this.$2=bW.$1(this.$2,L.leftaxis)}if(ss.isValue(L.rightaxis)){this.$2=bW.$1(this.$2,L.rightaxis)}if(ss.isValue(L.viz)){this.$8=L.viz.y;this.$9=L.viz.h;this.$2=bW.$1(this.$2,L.viz)}if(this.$9>0){var cI=this.$1;if(this.$2>cG){cI+=tab.Metrics.get_scrollH()}if(cI>cH){this.$6=tab.Metrics.get_scrollW()}}if(this.$a>0&&this.$2>cG){this.$5=tab.Metrics.get_scrollH()}if(BrowserSupport.BrowserSupport.IsIE()&&this.$6>0){this.$6+=1}if(BrowserSupport.BrowserSupport.IsIE()&&this.$5>0){this.$5+=1}if(this.$9>0){var cJ=this.$1-this.$9;this.$b=cH-cJ-this.$5;this.$b=Math.min(this.$9,this.$b);this.$0=this.$9-this.$b}if(this.$a>0){var cK=this.$2-this.$a;this.$c=cG-cK-this.$6;this.$c=Math.min(this.$a,this.$c);this.$d=this.$a-this.$c}this.$3=Math.min(this.$1-this.$0,cH);this.$4=Math.min(this.$2-this.$d,cG);if(this.$b<0){this.$b=0}if(this.$c<0){this.$c=0}};bW.__typeName='tab.RegionGeometry';bW.$1=function(L,cG){var cH=cG.x+cG.w;return Math.max(L,cH)};bW.$0=function(L,cG){var cH=cG.y+cG.h;return Math.max(L,cH)};global.tab.RegionGeometry=bW;var bX=function(){};bX.__typeName='tab.RuntimeUIModule';bX.get_instance=function(){if(ss.isNullOrUndefined(bX.$0)){tab.ModuleManager.load(bh).call(null,[]).done(function(L){bX.$0=L})}return bX.$0};global.tab.RuntimeUIModule=bX;var bY=function(){this.$n=new Map;this.$u=new Map;this.$s=new Map;this.$r=new Map;this.$m=new Map;this.$q=false;this.$k=false;this.$p=null;this.$o=new Map;this.$l=new Map;this.$t=new Map;this.$v=null;this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$1$1=null;this.$g=0;this.$h=0;this.$1$2=null;this.customShapes=[];this.$g=0;this.$h=0};bY.__typeName='tab.SceneInfo';bY.getPaneMarksKey$1=function(L,cG,cH){return L+'_'+cG['columnIndex'.toString()]+'_'+cG['rowIndex'.toString()]+'_'+cH};bY.getPaneMarksKey=function(L){return bY.getPaneMarksKey$1(L.get_paneKey(),L.get_paneId(),L.get_paneIndex())};bY.extractCustomShapes=function(L){var cG=[];if(!ss.isValue(L)){return cG}var cH=L.get_finalDataStore();var cI=cH.PDMarks;var cJ=_.keys(cI);for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=cI[cL];var cN=cM.Encodings;if(ss.isValue(cN.shape_id)){var cO=cN.shape_id;for(var cP=0;cP<cO.length;cP++){var cQ=cO[cP];if(ss.isValue(cQ)&&tab.SceneDataUtil.isCustomShape(cQ)){cG.push(cQ)}}}var cR=cM.MarkLayoutData;var cS=cR.Parameters;if(ss.isValue(cS.shape_id)){var cT=cS.shape_id;if(tab.SceneDataUtil.isCustomShape(cT)){cG.push(cT)}}}return cG};bY.$0=function(L,cG,cH){var cI=L.paneRect.x;var cJ=L.paneRect.y;cG.forEach(function(cK,cL){tab.RectXYUtil.offsetRectXYInPlace(cK,cI,cJ);cH.set(cL,cK)})};global.tab.SceneInfo=bY;var bZ=function(L){bZ.$0.call(this,L.xPixelOffsets,L.yPixelOffsets)};bZ.__typeName='tab.SceneUserPaneInfo';bZ.$0=function(L,cG){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=L;this.$4=cG;this.$1=ss.isValue(L)&&L.length>0;this.$2=ss.isValue(cG)&&cG.length>0;this.$0=(this.$1?(L.length-1):1);this.$5=(this.$2?(cG.length-1):1)};global.tab.SceneUserPaneInfo=bZ;var ca=function(L,cG){cB.call(this,L,cG)};ca.__typeName='tab.ServerRenderVizHitTestDebouncer';global.tab.ServerRenderVizHitTestDebouncer=ca;var cb=function(L){this.$3=new Set;this.$2=null;this.$2=L;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};cb.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=cb;var cc=function(L,cG,cH){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(L)?'0':L.w.toString());this.$a=(ss.isNullOrUndefined(L)?'0':L.h.toString());this.$7=cG;this.$4=cH};cc.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=cc;var cd=function(){};cd.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=cd;var ce=function(){};ce.__typeName='tab.ShapeUtil';ce.generateSelectedUnderCustomShape=function(L,cG,cH,cI,cJ){var cK=ce.colorTransformImage(L,cG,cI,cJ);var cL=document.createElement('canvas');var cM=cH*2;cL.width=Math.ceil(cI+cM);cL.height=Math.ceil(cJ+cM);var cN=cL.getContext('2d');cN.drawImage(cK,0,0,cI,cJ);cN.drawImage(cK,cH,0,cI,cJ);cN.drawImage(cK,cM,0,cI,cJ);cN.drawImage(cK,cM,cH,cI,cJ);cN.drawImage(cK,cM,cM,cI,cJ);cN.drawImage(cK,cH,cM,cI,cJ);cN.drawImage(cK,0,cM,cI,cJ);cN.drawImage(cK,0,cH,cI,cJ);return cL};ce.generateOverlayForShape=function(L,cG,cH,cI,cJ){var cK=ce.generateSelectedUnderCustomShape(L,cG,cH,cI,cJ);var cL=cK.getContext('2d');cL.globalCompositeOperation='destination-out';cL.drawImage(L,cH,cH,cI,cJ);return cK};ce.colorTransformImage=function(L,cG,cH,cI){var cJ=ce.generateCanvasAndPrescaleAsNeeded(L,cH,cI);var cK=cJ.getContext('2d');var cL=cK.getImageData(0,0,cJ.width,cJ.height);var cM=cL.data.length;for(var cN=0;cN<cM;cN+=4){if(cL.data[cN+3]>0){cL.data[cN]=cG.get_r();cL.data[cN+1]=cG.get_g();cL.data[cN+2]=cG.get_b()}}cK.putImageData(cL,0,0);return cJ};ce.applyFoggingToImage=function(L,cG,cH,cI,cJ){var cK=ce.generateCanvasAndPrescaleAsNeeded(L,cI,cJ);var cL=cK.getContext('2d');var cM=cL.getImageData(0,0,cK.width,cK.height);for(var cN=0;cN<cM.data.length;cN+=4){if(cM.data[cN+3]>0){cM.data[cN]=Math.round(cG.get_r()+cM.data[cN]*cH);cM.data[cN+1]=Math.round(cG.get_g()+cM.data[cN+1]*cH);cM.data[cN+2]=Math.round(cG.get_b()+cM.data[cN+2]*cH)}}cL.putImageData(cM,0,0);return cK};ce.generateCanvasAndPrescaleAsNeeded=function(L,cG,cH){var cI=document.createElement('canvas');if(!ss.isValue(L)){return cI}if(L.width>cG*2&&L.height>cH*2){cI.width=Math.max(ss.Int32.div(L.naturalWidth,2),1);cI.height=Math.max(ss.Int32.div(L.naturalHeight,2),1)}else{cI.width=L.naturalWidth;cI.height=L.naturalHeight}var cJ=cI.getContext('2d');cJ.drawImage(L,0,0,cI.width,cI.height);return cI};global.tab.ShapeUtil=ce;var cf=function(L,cG,cH){this.$q=null;ss.makeGenericType(cx,[ct]).call(this,L,cG,(cH.get_visualModel().get_backgroundColor().get_isOpaque()?'opaque':'transparent'));var cI=(ss.isValue(cH.get_scene())?cH.get_scene().colorModel:bg.defaultColors);this.renderer=new z(this.canvasElt,this.context,cI);this.$q=cH;this.$q.add_propertyChanged(ss.mkdel(this,this.$p))};cf.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=cf;var cg=function(L,cG){this.$3=null;this.$5=null;this.$2=false;this.$4=0;React.Component.call(this,L,cG);this.$3=ss.mkdel(this,function(cH){this.$0()});this.state={visible:L.visible,transitionDurationMs:L.transitionDurationMs,transitionDelayMs:L.transitionDelayMs,animationId:0}};cg.__typeName='tab.SmoothTooltipsOnboardingComponent';global.tab.SmoothTooltipsOnboardingComponent=cg;var ch=function(){this.$a=false;this.$9=0;this.$8=0;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};ch.__typeName='tab.SmoothTooltipsOnboardingViewModel';global.tab.SmoothTooltipsOnboardingViewModel=ch;var ci=function(){};ci.__typeName='tab.TickPlacement';ci.getTickPlacement=function(L,cG,cH,cI,cJ){var cK=L.PerHeaderMajorTickPlacement;var cL=ci.$a(L,cH);var cM=ci.$e(cK,cH);var cN=[];switch(cL){case 3:{var cO=ci.$8(cK,cH);var cP=ci.$9(L,cO);cN=(cJ?ci.$j(cG,cP,cI,cM):ci.$k(cG,cP,cI,cM));break}case 2:{cN=ci.$2(cG,cK,cH,cI,cJ,cM);break}case 1:{if(cJ){var cQ=ci.$5(cG,cK.Spacing[cH],false);var cR=ci.$5(cG,cK.Origin[cH],cI);cN=ci.$h(cG,cQ,cR,cM)}else{var cS=ci.$6(cG,cK.Spacing[cH],false);var cT=ci.$6(cG,cK.Origin[cH],cI);cN=ci.$i(cG,cS,cT,cM)}break}default:{break}}return cN};ci.$c=function(L){return!ss.isNullOrUndefined(L.EncodedTickPositions)&&!ss.isNullOrUndefined(L.PerHeaderMajorTickPlacement.EncodedTickPositionsIndex)};ci.$b=function(L){return!ss.isNullOrUndefined(L.DateTimeOrigin)&&!ss.isNullOrUndefined(L.DateTimeSpacing)&&!ss.isNullOrUndefined(L.DateTimeSpacingUnit)&&!ss.isNullOrUndefined(L.EncodingMin)&&!ss.isNullOrUndefined(L.EncodingMax)};ci.$d=function(L){return!ss.isNullOrUndefined(L.Spacing)&&!ss.isNullOrUndefined(L.Origin)};ci.$f=function(L,cG,cH){return!cH&&(Math.floor(cG)===L.x||Math.floor(cG)===L.x+L.w)};ci.$g=function(L,cG,cH){return!cH&&(Math.floor(cG)===L.y||Math.floor(cG)===L.y+L.h)};ci.$e=function(L,cG){return(!ss.isNullOrUndefined(L.IncludeViewEdges)?L.IncludeViewEdges[cG]:true)};ci.$8=function(L,cG){return L.EncodedTickPositionsIndex[cG]};ci.$9=function(L,cG){return L.EncodedTickPositions[cG]};ci.$4=function(L,cG){return(cG?(1-L):L)};ci.$5=function(L,cG,cH){return ci.$4(cG,cH)*L.w};ci.$6=function(L,cG,cH){return ci.$4(cG,cH)*L.h};ci.$0=function(L,cG,cH){return Math.floor(L.x+ci.$5(L,cG,cH))};ci.$1=function(L,cG,cH){return Math.floor(L.y+L.h-ci.$6(L,cG,cH))};ci.$7=function(L){return L+'Z'};ci.$3=function(L,cG,cH){var cI=tab.DateUtil.dateTimeAsOleDate(cH)-tab.DateUtil.dateTimeAsOleDate(cG);return(tab.DateUtil.dateTimeAsOleDate(L)-tab.DateUtil.dateTimeAsOleDate(cG))/cI};ci.$a=function(L,cG){var cH=L.PerHeaderMajorTickPlacement;if(ci.$c(L)){var cI=ci.$8(cH,cG);if(cI>=0&&cI<=2147483647){return 3}}if(ci.$b(cH)){var cJ=cH.DateTimeSpacing[cG];if(cJ>0){return 2}}if(ci.$d(cH)){var cK=cH.Spacing[cG];if(cK>1.40129846432482E-45){return 1}}return 0};ci.$h=function(L,cG,cH,cI){cG=((cG<2)?2:cG);var cJ=cH%cG;var cK=L.x+cJ;var cL=L.x+L.w;var cM=[];do{if(!ci.$f(L,cK,cI)){cM.push(ss.round(cK))}cK+=cG}while(ss.round(cK)<cL);return cM};ci.$i=function(L,cG,cH,cI){cG=((cG<2)?2:cG);var cJ=cH%cG;var cK=L.y+L.h-cJ;var cL=[];do{if(!ci.$g(L,cK,cI)){cL.push(ss.round(cK))}cK-=cG}while(ss.round(cK)>=L.y);return cL};ci.$j=function(L,cG,cH,cI){var cJ=[];for(var cK=0;cK<cG.length;cK++){var cL=cG[cK];var cM=ci.$0(L,cL,cH);if(L.x<=cM&&L.x+L.w>=cM&&!ci.$f(L,cM,cI)){cJ.push(cM)}}return cJ};ci.$k=function(L,cG,cH,cI){var cJ=[];for(var cK=0;cK<cG.length;cK++){var cL=cG[cK];var cM=ci.$1(L,cL,cH);if(L.y<=cM&&L.y+L.h>=cM&&!ci.$g(L,cM,cI)){cJ.push(cM)}}return cJ};ci.$2=function(L,cG,cH,cI,cJ,cK){var cL=new Date(ci.$7(cG.DateTimeOrigin[cH]));var cM=new Date(ci.$7(cG.EncodingMin[cH]));var cN=new Date(ci.$7(cG.EncodingMax[cH]));var cO=tab.EnumConversions.datePeriodTypeFromInt(cG.DateTimeSpacingUnit[cH]);var cP=cG.DateTimeSpacing[cH];var cQ=cL;var cR=[];do{if(cM<=cQ&&cN>cQ){var cS=ci.$3(cQ,cM,cN);if(cJ){var cT=ci.$0(L,cS,cI);if(!ci.$f(L,cT,cK)){cR.push(cT)}}else{var cU=ci.$1(L,cS,cI);if(!ci.$g(L,cU,cK)){cR.push(cU)}}}cQ=tab.DateUtil.adjustDateByPeriodInUTC(cQ,cO,cP)}while(cQ<cN);return cR};global.tab.TickPlacement=ci;var cj=function(L,cG,cH,cI,cJ,cK){this.$8=null;this.backgroundMap=cj.$1();this.disposables=new tab.DisposableHolder;this.allowPanZoomActions=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.regionContent=new C;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.zoomAnimationProtectionGlass=null;this.$9=null;this.$c=null;this.$b=null;this.$a=null;this.$7=false;this.$6=false;this.$e=null;this.$d=null;this.$9=L;this.connectNode=$(cG);this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$8=this.connectNode.find('.tvimagesContainer');this.allowPanZoomActions=cH;this.domPanZoomRect=new bS;this.$b=new bS;this.$c=cI;this.paneTableViewModel=cJ;this.waitingOnPanZoomServerResponse='normal';this.$d=cK;if(this.$9==='viz'){this.makeDomDragImage()}this.get_toolModeViewModel().add_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode));this.$e=new cu};cj.__typeName='tab.TiledViewerRegion';cj.$0=function(L,cG,cH){var cI=1/cH;var cJ=((L.x>0)?(cG.x%L.x):cG.x);var cK=((L.y>0)?(cG.y%L.y):cG.y);var cL={x:cJ,y:cK};var cM={scaleX:cI,scaleY:cI,time:500,transformOrigin:cL,scale:1,translateX:0,translateY:0};return cM};cj.$2=function(L,cG,cH,cI){var cJ=((cH<1)?-1:((cH>1)?1:0));var cK=((cI<1)?-1:((cI>1)?1:0));var cL={x:cJ,y:cK};var cM=cj.getCenterPoint(L);var cN=Math.floor((cM.x-cG.x)*cL.x*cH);var cO=Math.floor((cM.y-cG.y)*cL.y*cI);var cP={translateX:cN,translateY:cO,scaleX:cH,scaleY:cI,time:777,scale:1,transformOrigin:null};return cP};cj.getCenterPoint=function(L){var cG=Math.floor(L.w/2)+L.x;var cH=Math.floor(L.h/2)+L.y;return{x:cG,y:cH}};cj.getCenterPointFromRectXY=function(L){var cG=Math.floor(L.w/2)+L.x;var cH=Math.floor(L.h/2)+L.y;return{x:cG,y:cH}};cj.getCanvasElement=function(L){if(tab.FeatureFlags.isEnabled('MapboxVector')){return L.find('.tabCanvas').get(0)}return L.find('canvas').get(0)};cj.$1=function(){if(tab.FeatureFlags.isEnabled('MapboxVector')){return new bs}return new bk};global.tab.TiledViewerRegion=cj;var ck=function(){};ck.__typeName='tab.TiledViewerRegionMetrics';ck.createMapZoomLocalWorkCompleteContext=function(){return tabBootstrap.MetricsController.createContext('MapZoomLocalWorkComplete',32,null)};ck.createMapZoomFullyCompleteContext=function(){return tabBootstrap.MetricsController.createContext('MapZoomFullyComplete',32,null)};global.tab.TiledViewerRegionMetrics=ck;var cl=function(){};cl.__typeName='tab.TiledViewerRegionWebMetrics';cl.createZoomRectLocalWorkCompleteContext=function(){return tabBootstrap.MetricsController.createContext('ZoomRectLocalWorkComplete',32,null)};cl.createZoomRectFullyCompleteContext=function(){return tabBootstrap.MetricsController.createContext('ZoomRectFullyComplete',32,null)};cl.createPanMapMouseUpFullyCompleteContext=function(){return tabBootstrap.MetricsController.createContext('PanMapMouseUpFullyComplete',32,null)};cl.createPanMapMouseUpLocalWorkCompleteContext=function(){return tabBootstrap.MetricsController.createContext('PanMapMouseUpLocalWorkComplete',32,null)};global.tab.TiledViewerRegionWebMetrics=cl;var cm=function(L,cG,cH,cI,cJ){this.$c=null;this.$d=null;this.$f=null;this.$k=null;this.$h=null;this.$i=null;this.$o=0;this.$p=0;this.$m=null;this.$b=null;this.$n=0;this.$g=null;this.$r=null;this.$q=0;this.$j=0;this.$l=false;this.$e=false;this.$1$1=null;this.$g=cI;this.$c=L;this.$k=cG;this.$r=cH;this.$l=cJ;this.$f={x:0,y:0,w:0,h:0,r:''};this.$m={w:0,h:0};this.$d=new B;this.$d.add_imageLoaded(ss.mkdel(this,this.$5));this.$d.add_imageTimedOut(ss.mkdel(this,this.$6));this.$d.add_complete(ss.mkdel(this,this.$7));this.$i=[];this.$h=$('.tvimagesContainer',this.$c);this.$e=true};cm.__typeName='tab.TiledWindow';global.tab.TiledWindow=cm;var cn=function(L,cG){this.$5=null;this.$8=null;this.$7=false;this.$6=null;this.$2$1=null;this.$2$2=null;this.defaultPointerToolMode=null;this.currentModifierKeyToolMode=null;this.isDeferringModeChanges=false;spiff.BaseViewModel.call(this);this.set_isAppendMode(false);this.isDeferringModeChanges=false;if(L==='viz'){this.currentModifierKeyToolMode='no-tools'}this.setLockedPointerToolMode(cG)};cn.__typeName='tab.ToolModeViewModel';global.tab.ToolModeViewModel=cn;var co=function(L,cG){tab.TooltipBaseMode.call(this,'disabled',L,cG)};co.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=co;var cp=function(L,cG,cH,cI){cq.call(this,L,cG,cH,cI)};cp.__typeName='tab.TooltipOfflineResponsiveMode';global.tab.TooltipOfflineResponsiveMode=cp;var cq=function(L,cG,cH,cI){this.$M=null;this.$O=null;this.$N=null;this.$L=null;this.$K=false;this.$J=false;tab.TooltipBaseMode.call(this,'smooth',L,cG);var cJ=this.get_currentBehavior();cJ.attach();cJ.add_onMouseStop(ss.mkdel(this,this.$F));this.$L=cH;this.$J=cI;this.$M=cq.$0();this.$O=cq.$2();this.$N=cq.$1();this.$A();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.$H));this.get_tooltip().add_closed(ss.mkdel(this,this.$G))};cq.__typeName='tab.TooltipResponsiveMode';cq.$0=function(){cq.$3++;return'mousemove.TooltipResponsiveMode'+cq.$3};cq.$2=function(){cq.$3++;return'touchmove.TooltipResponsiveMode'+cq.$3};cq.$1=function(){cq.$3++;return'mouseout.TooltipResponsiveMode'+cq.$3};global.tab.TooltipResponsiveMode=cq;var cr=function(L){this.$1=null;X.call(this,L)};cr.__typeName='tab.TrendLineHitTestLink';cr.hitTestTrendLines=function(L,cG,cH){var cI=Z.createEmptyHitTestResult();var cJ=[];for(var cK=L.length-1;cK>=0;cK--){var cL=cr.$0(L[cK],cG,cH);if(cL.get_hitType()===3){if(cH){return[cL]}else{cJ.push(cL)}}if(cH&&cL.get_hitType()===2&&cI.get_hitType()===0){cI=cL}}if(cH){if(cI.get_hitType()===0){return[Z.createEmptyHitTestResult()]}return[cI]}return cJ};cr.$0=function(L,cG,cH){var cI=Z.createEmptyHitTestResult();if(cH){var cJ=tab.RectXYUtil.dialate(cG,cv.visualPartNearHitTestExpansionPixels);var cK=cr.$1(L,cJ);if(ss.isValue(cK)){cI=new Z.$ctor1(ss.unbox(cK),3,2)}}if(cI.get_hitType()===2||!cH){var cL=cr.$1(L,cG);if(ss.isValue(cL)){cI=new Z.$ctor1(ss.unbox(cL),3,3)}}return cI};cr.$1=function(L,cG){var cH=new Array;cH.push(L);while(cH.length>0){var cI=cH.pop();var cJ=tab.RectXYUtil.intersectsWith(cI.get_boundingBox(),cG);if(cJ){if(cI.get_nodeType()===4||cI.get_nodeType()===0){var cK=cI.get_children();cK.forEach(function(cL){cH.push(cL)})}else if(cI.get_nodeType()===5){return cI.get_objectId()}}}return null};global.tab.TrendLineHitTestLink=cr;var cs=function(L,cG){this.$g=null;this.$b=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=L;var cH=L.$1;var cI=L.$2;var cJ=L.$5*L.$0;this.$d=new Array(cJ+1);this.$h=new Array(cJ);this.$c=(cH?new Array(cJ):null);this.$f=(cI?new Array(cJ):null);this.$e=new Array(cG.markCount);this.$b=this.$2(cG)};cs.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=cs;var ct=function(L,cG,cH,cI,cJ){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=L;this.$a=cG;this.$8=cH;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(cI)){this.$9=cI.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(cJ)){this.$3=cJ.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(cI)||ss.isValue(cJ)){this.$2()}var cK=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});tab.ServerFontLoader.get_instance().add_fontPreparationComplete(cK);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(cK)}))};ct.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=ct;var cu=function(){};cu.__typeName='tab.VisualObjectBoundsComputerAndHitTester';global.tab.VisualObjectBoundsComputerAndHitTester=cu;var cv=function(){};cv.__typeName='tab.VisualPartsHitTest';global.tab.VisualPartsHitTest=cv;var cw=function(){};cw.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=cw;var cx=function(L){var cG=function(cH,cI,cJ){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$o=null;this.$4$1=null;ss.makeGenericType(w,[L]).call(this,cH,cJ);this.$o=cI;this.containers=$('.tvimagesContainer',this.$o);this.add_sizeChange(ss.mkdel(this,this.$m))};ss.registerGenericClassInstance(cG,cx,[L],{add_loadComplete:function(cH){this.$4$1=ss.delegateCombine(this.$4$1,cH)},remove_loadComplete:function(cH){this.$4$1=ss.delegateRemove(this.$4$1,cH)},get_docSize:function(){return this.completeDocSize},get_hasContent:function(){return true},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$m));this.renderer=null;ss.makeGenericType(w,[L]).prototype.dispose.call(this)},refreshImages:function(cH){},reset:function(cH,cI){if(ss.isNullOrUndefined(cH)){return}var cJ={w:cH.w,h:cH.h};var cK=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(cJ,this.completeDocSize);this.completeDocSize=cJ;this.containers.width(cH.w);this.containers.height(cH.h);if(cK){this.$n()}},copyContent:function(cH){cH.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$l());tab.CanvasUtil.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(cH,cI){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$l:function(){var cH=this.get_pixelRatio();var cI=this.get_dirtyRect();var cJ=cI.x*cH;var cK=cI.y*cH;var cL=(cI.x+cI.w)*cH;var cM=(cI.y+cI.h)*cH;var cN=Math.floor(cJ);var cO=Math.floor(cK);return{x:cN,y:cO,w:Math.ceil(cL)-cN,h:Math.ceil(cM)-cO}},$m:function(){this.$n()},$n:function(){var cH=this.get_effectiveViewSize();var cI={x:Math.min(this.completeDocSize.w-cH.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-cH.h,this.scrollOffset.y)};cI.x=Math.max(0,cI.x);cI.y=Math.max(0,cI.y);this.set_scrollPos(cI)}},function(){return ss.makeGenericType(w,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable,tab.IRegionContentProvider]});return cG};cx.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(cx,a,1);global.tab.VisualRegionCanvasView$1=cx;var cy=function(L,cG,cH){cy.$ctor1.call(this,L.get_id(),L.get_hitObjectType(),cG,cH)};cy.__typeName='tab.VizContextMenuItemsHandler';cy.$ctor1=function(L,cG,cH,cI){this.$0=0;this.$2=0;this.$3=null;this.$1=null;this.$0=L;this.$3=cI;this.$2=cG;this.$1=cH};global.tab.VizContextMenuItemsHandler=cy;var cz=function(L){this.isHidden=false;this.location=null;this.vizOverlayDiv=null;this.$8=null;this.$7=null;this.$9=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.vizOverlayDiv=L;this.isHidden=true;this.$9={x:0,y:0}};cz.__typeName='tab.VizContextMenuViewModel';global.tab.VizContextMenuViewModel=cz;var cA=function(L,cG,cH,cI,cJ,cK,cL){this.$0=null;this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.set_instanceId(++cA.$0);this.set_region(L);this.set_paneId(cG);this.set_paneColumnIndex(cH);this.set_paneRowIndex(cI);this.set_regionCoordinates(cJ);this.set_pageCoordinates(cK);this.$0=cL};cA.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=cA;var cB=function(L,cG){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(L,'paneTable');tab.Param.verifyValue(cG,'region');this.paneTable=L;this.region=cG;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var cH=this.region.toLocalCoordsEvent(this.lastEvent,false);var cI=tab.PointUtil.add(cH,this.region.getLocalOffsetPoint(false));this.hitTest(cH,cI)}),250)};cB.__typeName='tab.VizHitTestDebouncer';global.tab.VizHitTestDebouncer=cB;var cC=function(){};cC.__typeName='tab.VizZoneFactory';global.tab.VizZoneFactory=cC;var cD=function(L,cG){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=L;this.$0=cG};cD.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=cD;var cE=function(L){this.$0=0;ss.EventArgs.call(this);this.$0=L};cE.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=cE;var cF=function(){};cF.__typeName='tab.ZoomComputer';cF.resolveDesiredZoom=function(L,cG){if(!L.get_hasPresModel()){return cG}var cH=ss.coalesce(L.get_intermediateTileLevels(),1);var cI=Math.floor(cG*cH)/cH;cI+=Math.log(ss.coalesce(L.get_maxStretch(),1))/Math.LN2;var cJ=Math.ceil(cG*cH)/cH;cJ+=Math.log(ss.coalesce(L.get_minShrink(),1))/Math.LN2;return((cG+0.05<cJ)?Math.min(cI,cG):Math.max(cJ,cG))};cF.resolveDesiredScale=function(L,cG){var cH=Math.log(cG)/Math.LN2;var cI=cF.resolveDesiredZoom(L.get_rasterMapSourceModel(),L.get_requestZoom()+cH);var cJ=cI-L.get_requestZoom();var cK=Math.pow(2,cJ);return cK};cF.incrementZoom=function(L,cG){var cH=L+cG;return cH};cF.combineTileZoomAndStretch=function(L,cG){return L+Math.log(cG)/Math.LN2};global.tab.ZoomComputer=cF;ss.initClass(b,a,{});ss.initEnum(c,a,{$3:0,$1:1,$0:2,$2:3});ss.initClass(d,a,{$0:function(){return this.$1$1},$1:function(L){this.$1$1=L},$2:function(){return this.$1$2},$3:function(L){this.$1$2=L}});ss.initClass(e,a,{$1:function(){this.$3=[]},$2:function(L,cG,cH){if(ss.isValue(cH)){var cI=e.$0(L,'canvas');var cJ=tab.RenderUtil.calculatePixelRatio(true);var cK=L[0];tab.CanvasUtil.setCanvasSizeAndDensify(cI,cJ,{w:cK.offsetWidth,h:cK.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){e.$0(L,'div')}else{e.$0(L,'img');this.$3.push({name:cG,node:L})}},$0:function(L,cG,cH){if(this.$3.length>0){var cI=this.$3.length;for(var cJ=0;cJ<cI;cJ++){var cK=this.$3[cJ].node;if(ss.isValue(cK)){var cL=cG.formatRegionTileURL(L,this.$3[cJ].name,cH);var cM=cK.children().first();var cN=tab.RenderUtil.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(cN,1)){cM.css('width',cK[0].offsetWidth+'px')}cM.attr('src',cL)}}}}});ss.initClass(f,a,{$2:function(){return this.$4},$3:function(L){this.$4=L},$0:function(L,cG){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),L)&&this.$1===cG}});ss.initClass(g,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(h,a,{$0:function(L){L.set_alpha(this.$1);L.set_lineJoin(this.$4);L.set_lineCap(this.$3);L.set_linePattern(this.$5);L.set_strokeStyle(this.$8);L.set_lineWidth(this.$6);L.set_textAngle(this.$a);L.set_font(this.$2);L.set_shapeFillStyle(this.$7);L.set_textFillStyle(this.$b);L.set_textAlign(this.$9)}});ss.initClass(i,a,{});ss.initInterface(bf,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(j,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,bf]);ss.initClass(k,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(L,cG,cH){this.$a=L;this.$8=cG;this.$9=true;this.$b=cH},$0:function(){this.$9=false;this.$b=null},$2:function(L,cG){return this.$1(L,cG)&&this.$9},$1:function(L,cG){return this.$a===L&&this.$8===cG}});ss.initClass(l,a,{$d:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},$e:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},$f:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},$g:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},$8:function(){return!this.$9},$1:function(){this.$0()},$7:function(L){if(ss.isNullOrUndefined(L)){this.$5();return}if(this.$c!==-1){window.clearTimeout(this.$c);this.$c=-1}this.$b=L;this.$9=false;this.$0();var cG=true;var cH=L.get_imageNode();var cI=$(cH);if(ss.isNullOrUndefined(cH)){var cJ=document.createElement('img');L.set_imageNode(cJ);cH=cJ;cI=$(cH)}else{cG=tab.DoubleUtil.roundToInt(cI.width())!==L.get_bounds().w||tab.DoubleUtil.roundToInt(cI.height())!==L.get_bounds().h;cH.style.visibility=''}if(cG){$(cH).css(ss.mkdict(['left',L.get_bounds().l+'px','top',L.get_bounds().t+'px']))}cI.on('load',ss.mkdel(this,this.$3));cI.on('error',ss.mkdel(this,this.$2));cI.on('abort',ss.mkdel(this,this.$3));this.$c=window.setTimeout(ss.mkdel(this,function(){this.$4()}),600000);var cK=cI.attr('src');if(!BrowserSupport.BrowserSupport.ImageLoadIsSynchronous()){cI.attr('src',L.get_src())}else{window.setTimeout(function(){cI.attr('src',L.get_src())},0)}if(ss.referenceEquals(L.get_src(),cK)&&!BrowserSupport.BrowserSupport.RaisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$3(null)}),0)}},$0:function(){if(ss.isValue(this.$b)&&ss.isValue(this.$b.get_imageNode())){var L=$(this.$b.get_imageNode());if(ss.isValue(L)){L.on('load',ss.mkdel(this,this.$3));L.on('error',ss.mkdel(this,this.$3));L.on('abort',ss.mkdel(this,this.$3))}}},$2:function(L){if(ss.isValue(L.currentTarget)){L.currentTarget.style.visibility='none'}this.$3(L)},$3:function(L){window.clearTimeout(this.$c);this.$c=-1;if(this.$9){return}this.$9=true;this.$5()},$4:function(){this.$9=true;this.$c=-1;this.$0();this.$6()},$5:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new cD(this.$a,this.$b))}},$6:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new cE(this.$a))}}});ss.initClass(m,a,{$0:function(){return this.$1$1},$1:function(L){this.$1$1=L},$2:function(){return this.$1$2},$3:function(L){this.$1$2=L}});ss.initClass(n,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(L){var cG=ss.mkdict(['backgroundColor',L.get_mapBGFillColor()]);this.$6.css(cG);this.$7.css(cG);var cH=ss.mkdict(['backgroundColor',L.get_mapHolderBackgroundColor()]);this.$8.css(cH)},$1:function(L,cG){var cH=ss.mkdict(['width',L+'px']);if(cG){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(cH);this.$7.css(cH)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(o,a,{get_dragObjectDictionary:function(){if(ss.isNullOrUndefined(this.dragDictionary)){this.dragDictionary=ss.mkdict([r.movePointTargetHandler,2,r.resizeHandlerPre+r.SE,9,r.resizeHandlerPre+r.NE,7,r.resizeHandlerPre+r.SW,10,r.resizeHandlerPre+r.NW,8,r.resizeHandlerPre+r.n,3,r.resizeHandlerPre+r.s,5,r.resizeHandlerPre+r.e,4,r.resizeHandlerPre+r.w,6])}return this.dragDictionary},get_isDragging:function(){return this.dragType!==0&&ss.isValue(this.get_currentAnnotation())},get_isResizing:function(){return this.get_isDragging()&&this.dragType!==1&&this.dragType!==2&&(tab.FeatureFlags.isEnabled('AnnotationAreaResize')||tab.FeatureFlags.isEnabled('AnnotationMarkAndPointResize'))},get_isMovingPointTarget:function(){return this.get_isDragging()&&this.dragType===2&&tab.FeatureFlags.isEnabled('AnnotationMovePointTarget')},get_currentAnnotation:function(){return this.$4},set_currentAnnotation:function(L){this.$4=L},get_domRegion:function(){return this.vizRegion},set_domRegion:function(L){this.vizRegion=L},get_validRegion:function(){return this.convertToAbsolute$1({x:0,y:0,w:this.get_domRegion().w-o.regionPadding,h:this.get_domRegion().h-o.regionPadding})},get_snappingRegion:function(){var L=(ss.isValue(this.get_currentAnnotation())?this.get_currentAnnotation().areaRect.w:0);var cG=(ss.isValue(this.get_currentAnnotation())?this.get_currentAnnotation().areaRect.h:0);var cH=this.get_validRegion();cH.w=cH.w-L;cH.h=cH.h-cG;return cH},getShadow:function(L){this.$3.rectShadow=this.getBodyShadow(L);var cG=this.$0(L);this.$3.point1=cG.point1;this.$3.point2=cG.point2;return this.$3},getBodyShadow:function(L){if(!this.get_isDragging()||this.get_isMovingPointTarget()){return null}if(this.get_isResizing()){return this.convertToRelative$1(this.generateNewAnnotationRegion(this.convertToAbsolute(L)))}var cG=tab.PointUtil.subtract(L,this.dragOffset);var cH=this.convertToRelative$1(this.get_snappingRegion());var cI=tab.RectXYUtil.clampCoords(cG,cH);return{x:cI.x,y:cI.y,w:this.get_currentAnnotation().areaRect.w,h:this.get_currentAnnotation().areaRect.h}},$0:function(L){var cG=new s;if(!tab.FeatureFlags.isEnabled('AnnotationMovePointTarget')||!this.get_isDragging()||this.get_isResizing()||this.get_currentAnnotation().annotateEnum==='area'){cG.point1=null;cG.point2=null}else if(this.dragType===1){var cH=tab.PointUtil.fromPresModel(this.get_currentAnnotation().targetPoint);cH=this.convertToRelative(cH);var cI=o.getBestConnectionPoint(cH,this.$3.rectShadow);cG.point1=cI;cG.point2=cH}else{var cJ=tab.PointUtil.subtract(L,this.dragOffset);var cK=this.convertToRelative$1(this.get_validRegion());var cL=tab.RectXYUtil.clampCoords(cJ,cK);var cM=tab.RectXYUtil.getCenter(tab.RectXYUtil.fromPresModel(this.get_currentAnnotation().areaRect));cM=this.convertToRelative(cM);var cN=ss.Int32.div(this.get_currentAnnotation().areaRect.w,2);var cO=ss.Int32.div(this.get_currentAnnotation().areaRect.h,2);var cP={x:cM.x-cN,y:cM.y-cO,w:this.get_currentAnnotation().areaRect.w,h:this.get_currentAnnotation().areaRect.h};var cQ=o.getBestConnectionPoint(L,cP);cG.point1=cQ;cG.point2=cL}return cG},canMoveAnnotation:function(L,cG){return L.get_hitObjectType()===2&&tab.FeatureFlags.isEnabled('AnnotationMove')&&ss.keyExists(cG,L.get_id())},onHandlerMouseDown:function(L,cG){this.dragType=this.get_dragObjectDictionary()[L];this.set_currentAnnotation(cG)},canDrag:function(L,cG){return tsConfig.is_authoring&&r.canAnnotationInCurrentSheetType()&&ss.isValue(cG)&&(this.get_isResizing()||this.canMoveAnnotation(L,cG)||this.get_isMovingPointTarget())},clearDrag:function(){this.dragOffset.x=0;this.dragOffset.y=0;this.set_currentAnnotation(null);this.dragType=0},dragStarted:function(L,cG,cH){if(this.canDrag(L,cG)){if(!this.get_isResizing()&&!this.get_isMovingPointTarget()&&this.canMoveAnnotation(L,cG)){this.dragType=1;this.set_currentAnnotation(cG[L.get_id()]);this.$2(cH,this.get_currentAnnotation())}return true}this.clearDrag();return false},$2:function(L,cG){this.dragOffset.x=L.x-cG.areaRect.x;this.dragOffset.y=L.y-cG.areaRect.y},dragEnded:function(L){if(!this.get_isDragging()){return false}if(this.dragType===1){var cG=tab.PointUtil.subtract(L,this.dragOffset);var cH=tab.RectXYUtil.clampCoords(cG,this.get_snappingRegion());tab.AnnotationClientCommands.moveAnnotation(this.get_currentAnnotation(),this.visualId,cH);t.reportMovedAnnotationTelemetry(this.get_currentAnnotation().annotateEnum)}else if(this.dragType===2){var cI=tab.RectXYUtil.clampCoords(L,this.get_validRegion());tab.AnnotationClientCommands.movePointTargetAnnotation(this.get_currentAnnotation(),this.visualId,cI);t.reportMovedAnnotationPointTargetTelemetry()}else if(this.dragType!==0){var cJ=this.generateNewAnnotationRegion(L);if(ss.isValue(cJ)){tab.AnnotationClientCommands.resizeAnnotation(this.get_currentAnnotation(),this.visualId,cJ);t.reportResizeAnnotationTelemetry(this.get_currentAnnotation().annotateEnum)}}this.clearDrag();return true},generateNewAnnotationRegion:function(L){var cG=this.get_currentAnnotation().areaRect;var cH={x:L.x,y:L.y};var cI=cG.x;var cJ=cG.y;var cK=cG.x+cG.w;var cL=cG.y+cG.h;var cM=null;switch(this.dragType){case 9:{cM={x:cI,y:cJ};break}case 7:{cM={x:cI,y:cL};break}case 8:{cM={x:cK,y:cL};break}case 10:{cM={x:cK,y:cJ};break}case 3:{cM={x:cI,y:cL};cH.x=cK;break}case 5:{cM={x:cI,y:cJ};cH.x=cK;break}case 4:{cM={x:cI,y:cJ};cH.y=cL;cH.x=this.$1(cH.x,cI);break}case 6:{cM={x:cK,y:cJ};cH.y=cL;cH.x=this.$1(cH.x,cK);break}default:{return null}}cH=tab.RectXYUtil.clampCoords(cH,this.get_validRegion());return tab.RectXYUtil.rectXYFromCorners$2(cH.x,cH.y,cM.x,cM.y)},$1:function(L,cG){if(this.get_currentAnnotation().annotateEnum==='area'){return L}if(this.dragType===4){return Math.max(cG+o.minWidth,L)}if(this.dragType===6){return Math.min(cG-o.minWidth,L)}return L},convertToAbsolute:function(L){return tab.PointUtil.add(L,this.scrollOffset)},convertToRelative:function(L){return tab.PointUtil.subtract(L,this.scrollOffset)},convertToAbsolute$1:function(L){return tab.RectXYUtil.offsetRectXY(L,this.scrollOffset.x,this.scrollOffset.y)},convertToRelative$1:function(L){return tab.RectXYUtil.offsetRectXY(L,-this.scrollOffset.x,-this.scrollOffset.y)}});ss.initEnum(p,a,{none:0,move:1,movePointTarget:2,resizeN:3,resizeE:4,resizeS:5,resizeW:6,resizeNE:7,resizeNW:8,resizeSE:9,resizeSW:10});ss.initInterface(bb,a,{hitTest:null,clearCache:null},[ss.IDisposable]);ss.initClass(X,a,{hitTest:null,clearCache:function(){return},dispose:function(){return}},null,[ss.IDisposable,bb]);ss.initClass(q,a,{get_hitTestStructures:function(){if(ss.isValue(this.$0)){return this.$0}this.$0=[];var L=this.paneTableVM.get_visualModel().getAnnotationList();if(!ss.isValue(L)){return this.$0}for(var cG=0;cG<L.length;cG++){var cH=L[cG];var cI=tab.RecordCast.rectPresModelAsRectXY(cH.areaRect);this.$0.push(new T(cI,7,cH.annotationId,null,0));if(ss.isValue(cH.textRect)){this.$0.push(new T(tab.RecordCast.rectPresModelAsRectXY(cH.textRect),7,cH.annotationId,null,0))}}return this.$0},hitTest:function(L,cG){return q.getHitTestResult(L,this.get_hitTestStructures())},clearCache:function(){this.$0=null}},X,[ss.IDisposable,bb]);ss.initClass(r,a,{get_annotationDictionary:function(){return this.getAnnotationDictionary()},$b:function(){var L=[];if(this.visible){L=this.nonNullAnnotations()}return L},nonNullAnnotations:function(){return tab.ListExtensions.where(Object).call(null,_.values(this.selectedAnnotations),function(L){return ss.isValue(L)})},isCaretMenuOpened:function(){return ss.isValue(this.$d)&&!this.$d.isHidden},setBounds:function(L){this.dragHandler.set_domRegion(L);this.updateRegionScroll();this.incrementProps()},updateRegionScroll:function(){if(ss.isValue(tab.ApplicationModel.get_instance().pm)&&!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.dragHandler.get_domRegion().x=this.dragHandler.scrollOffset.x;this.dragHandler.get_domRegion().y=this.dragHandler.scrollOffset.y}else{this.dragHandler.get_domRegion().x=0;this.dragHandler.get_domRegion().y=0}},setContextMenuViewModel:function(L){this.$d=L},$6:function(L,cG){var cH=this.hoverAnnotation;var cI=_.keys(this.selectedAnnotations);if(!cG||!tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')){ss.clearKeys(this.selectedAnnotations)}if(ss.keyExists(this.selectedAnnotations,L)&&!ss.referenceEquals(this.hoverAnnotation,this.selectedAnnotations[L])){delete this.selectedAnnotations[L]}else{this.hoverAnnotation=null;this.selectedAnnotations[L]=this.get_annotationDictionary()[L]}this.visible=tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')&&ss.getKeyCount(this.selectedAnnotations)>0;if(!ss.referenceEquals(cH,this.hoverAnnotation)||!ss.referenceEquals(cI,_.keys(this.selectedAnnotations))){this.incrementProps()}},handleAnnotationClicked:function(L,cG,cH){if(!r.canAnnotationInCurrentSheetType()||!tsConfig.is_authoring){return}if(this.$a(L,cG,cH)){return}this.$6(L,cH)},onHover:function(L){var cG=this.hoverAnnotation;if(L.get_hitObjectType()!==2||ss.keyExists(this.selectedAnnotations,L.get_id())){this.hoverAnnotation=null;this.visible=this.$7()}else if(!this.dragHandler.get_isDragging()){this.hoverAnnotation=this.get_annotationDictionary()[L.get_id()];this.visible=true}if(!ss.referenceEquals(cG,this.hoverAnnotation)){this.incrementProps()}},clearSelection:function(){if(!r.canAnnotationInCurrentSheetType()||!tsConfig.is_authoring){return}ss.clearKeys(this.selectedAnnotations);this.dragHandler.clearDrag();this.visible=ss.isValue(this.hoverAnnotation);this.incrementProps()},hideAll:function(){this.visible=false;this.incrementProps()},scrollX:function(L){this.dragHandler.scrollOffset.x=L;this.updateRegionScroll();this.incrementProps()},scrollY:function(L){this.dragHandler.scrollOffset.y=L;this.updateRegionScroll();this.incrementProps()},dragStarted:function(L,cG){if(BrowserSupport.BrowserSupport.IsSafari()){window.getSelection().removeAllRanges()}if(this.dragHandler.dragStarted(L,this.selectedAnnotations,cG)){var cH=this.dragHandler.get_currentAnnotation();ss.clearKeys(this.selectedAnnotations);this.selectedAnnotations[cH.annotationId]=cH;this.incrementProps();return true}this.hoverAnnotation=null;return false},onDrag:function(L){this.$c=this.dragHandler.convertToRelative(L);this.incrementProps()},dragEnded:function(L){if(BrowserSupport.BrowserSupport.IsSafari()){window.getSelection().removeAllRanges()}this.dragHandler.dragEnded(L);this.incrementProps()},update:function(){var L=this.get_annotationDictionary();_.map(Object.keys(this.selectedAnnotations),ss.mkdel(this,function(cG){return this.selectedAnnotations[cG]=L[cG]}));this.visible=this.$7();this.incrementProps()},deleteSelectedAnnotationsFromKeystroke:function(){var L=Array.prototype.slice.call(ss.arrayFromEnumerable(Object.keys(this.selectedAnnotations)));this.clearSelection();if(L.length>0&&tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation')&&tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')){tab.AnnotationClientCommands.removeAnnotation(L,this.visualId);t.reportDeletedAnnotationTelemetry('Delete Key')}},handleRightClick:function(L,cG){this.$9(L.get_id(),cG,'ContextMenu',false)},$8:function(L,cG,cH){this.$9(L,cG,'Chevron',cH)},$5:function(){this.dragHandler.clearDrag();this.incrementProps()},createUpdatedProps:function(){return{visible:this.visible,renderRegion:this.dragHandler.get_domRegion(),hoveredAnnotation:this.hoverAnnotation,annotations:this.$b(),scrollOffset:this.dragHandler.scrollOffset,onHandlerMouseDown:ss.mkdel(this.dragHandler,this.dragHandler.onHandlerMouseDown),clearMouseUp:ss.mkdel(this,this.$5),shadow:this.dragHandler.getShadow(this.$c)}},$9:function(L,cG,cH,cI){if(!ss.keyExists(this.selectedAnnotations,L)){this.$6(L,cI)}var cJ=new u(this.visualId,this.selectedAnnotations,cH,ss.mkdel(this,function(){this.clearSelection()}));this.$d.show(cG,[cJ])},$a:function(L,cG,cH){if(ss.isNullOrUndefined(cG)||!tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')||!cG.target.classList.contains('tabAuthoringAnnotationChevronIcon')||!ss.keyExists(this.get_annotationDictionary(),L)||ss.isNullOrUndefined(this.get_annotationDictionary()[L])){return false}var cI=this.get_annotationDictionary()[L];var cJ={x:cI.areaRect.x+cI.areaRect.w,y:cI.areaRect.y};var cK=cG.target.getBoundingClientRect();var cL={x:cJ.x-ss.Int32.trunc(cK.width),y:cJ.y+ss.Int32.trunc(cK.height)};this.$8(L,cL,cH);return true},$7:function(){return this.nonNullAnnotations().length>0||ss.isValue(this.hoverAnnotation)},isDragging:function(){return this.dragHandler.get_isDragging()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initInterface(bi,a,{buildMenuItems:null,handleItemClicked:null});ss.initClass(u,a,{buildMenuItems:function(){var L=[];if(tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation')&&this.$1.length>0){var cG=((this.$1.length>1)?tab.Strings.DeleteSelectedAnnotationFromVizContextMenu:tab.Strings.DeleteAnnotationFromVizContextMenu);L.push({value:'Delete Annotation',displayValue:cG,disabled:false})}if(this.$1.length===1){L.push({value:'Edit Annotation',displayValue:tab.Strings.EditAnnotationFromVizContextMenu,disabled:false})}return L},handleItemClicked:function(L){switch(L){case'Delete Annotation':{tab.AnnotationClientCommands.removeAnnotation(this.$1,this.$3);t.reportDeletedAnnotationTelemetry(this.$2);break}case'Edit Annotation':{tab.RichTextClientCommands.createAnnotationRichTextEditor(this.$3.worksheet,this.$1);tab.FormattingTelemetryClient.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy',this.$2,'RichTextEditorOpenedFrom','Annotation']));break}default:{throw new ss.Exception('Unknown menu option '+L)}}if(!ss.staticEquals(this.$0,null)){this.$0()}}},null,[bi]);ss.initClass(v,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cc,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(L){this.$9=L},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(L){this.$8={x:L.x,y:L.y}},dragStarted:function(L,cG,cH){this.$6={x:L,y:cG};this.$3=cH;this.$2={x:0,y:0}},recordScrollingOffsets:function(L){this.$c={x:L.x,y:L.y}},updateAndRenderShape:function(L){this.constrainShape(L);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(L){this.$8={x:L.pageX-this.$3.x,y:L.pageY-this.$3.y};if(ss.isInstanceOfType(this,x)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(L,cG){this.get_dragStart().x-=L;this.get_dragStart().y-=cG;this.$c.x+=L;this.$c.y+=cG;this.$2.x+=L;this.$2.y+=cG;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(L){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);L.append(this.$5)},show:null,hide:null,hitTest:function(L,cG,cH){var cI=cG||this.isSingleSelect();return(cI?this.$0(L,cH):this.$1(L,cH))},$0:function(L,cG){var cH={x:this.$8.x,y:this.$8.y,w:1,h:1};var cI=L.hitTestBoundingBoxes(cH,true,cG);return L.hitTestSingle(cH,cG,cI)},$1:function(L,cG){var cH=L.hitTestBoundingBoxes(this.get_hitTestingBox(),false,cG);var cI=[];var cJ=this.get_hitTestingBox();for(var cK=cH.length-1;cK>=0;cK--){var cL=cH[cK];var cM=cL.get_objectId();if(cM<0){continue}var cN=T.findPaneNode(cL);if(ss.isNullOrUndefined(cN)){continue}var cO=cG.getPaneDrawInfoFromKey(cN.get_paneKey());var cP=W.getTransformInfo(cO,cL);var cQ=tab.RectXYUtil.intersect(cJ,cN.get_boundingBox());var cR=this.shapeAreaHit(cQ,cO,cL,cP);if(cR){cI.push(new Z.$ctor1(cO.c.get('tuple_id').gv(cM),7,1))}}return cI},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(L){if(this.isStateObjectTypeCorrect(L)){L.updateLastState()}},getStateDiff:function(L){if(this.isStateObjectTypeCorrect(L)){this.saveCurrentState(L);return L.getStateDiff()}var cG=new Array(1);cG[0]=this.get_hitTestingBox();return cG},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(x,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(L){return tab.CircleUtil.boundingBox((L?this.$j:this.$i))},updateSpecificShape:function(L){var cG=this.get_dragStart().x-this.get_connectNodePos().x;var cH=this.get_dragStart().y-this.get_connectNodePos().y;var cI=Math.sqrt(Math.pow(cG-L.x,2)+Math.pow(cH-L.y,2));this.$i={center:{x:cG+this.get_drawOffsets().x,y:cH+this.get_drawOffsets().y},radius:cI};this.$j={center:{x:cG+this.get_totalScrollOffset().x,y:cH+this.get_totalScrollOffset().y},radius:cI};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var L={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var cG=this.$d(L);if(cG>0){this.displayDistance(cG)}},$d:function(L){var cG=this.$k.get_latLongRect();if(ss.isNullOrUndefined(cG)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var cH={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var cI={x:cH.x+(L.x-this.$i.center.x),y:cH.y};var cJ=(cG.maxLatitude-cG.minLatitude)/this.$k.get_mapHeight();var cK=cG.maxLatitude-cJ*cH.y;var cL={item1:cG.minLongitude,item2:cK};var cM={item1:cG.maxLongitude,item2:cK};var cN=O.haversineDistance(cL,cM,this.$k.get_earthRadius());var cO=cN/this.$k.get_mapWidth();return Math.abs(cI.x-cH.x)*cO},displayDistance:function(L){var cG=this.get_dom().find('.tabDistanceReadout');cG.text(this.$e(L));var cH={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(cG.height()),2)};cG.css('left',cH.x+'px');cG.css('top',cH.y+'px')},$e:function(L){var cG=this.$k.get_smallUnitDisplay();if(L>=this.$k.get_unitTransition()){L/=this.$k.get_smallToLargeUnitDivisor();cG=this.$k.get_largeUnitDisplay()}var cH=tab.DoubleUtil.sigFigs(L,this.$k.get_sigFigs());var cI=0;if(cH!==0){var cJ=Math.floor(Math.log(Math.abs(cH))/Math.log(10))+1;cI=Math.max(0,this.$k.get_sigFigs()-cJ)}var cK=cH.toFixed(cI);if(this.$k.get_decimalMark()===','&&cK.indexOf('.')!==-1){cK=ss.replaceAllString(cK,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',cK,cG)},formatReadoutTestHook:function(L){return this.$e(L)},computeRadialDistanceTestHook:function(L){return this.$d(L)},renderShape:function(){var L=this.get_dom().find('.circle_crosshair');var cG=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());L.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());L.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());cG.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var L=this.get_dom().find('.tabDistanceReadout');var cG=this.get_dom().find('.circle_radius');if(this.$g()){L.css('font-size',this.$k.get_fontSizePixels());L.css('color',this.$k.get_fontColor());L.show();cG.show()}else{L.hide();cG.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(L,cG,cH,cI){var cJ=this.$g();return W.circleAreaHit(cG,cH.get_boundingBox(),this.$j,cH.get_objectId(),cI,cG.markType,cJ)},sendSelectionCommand:function(L,cG,cH,cI){var cJ=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$j,cG,cH,cI,cJ)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new y)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var cG=L;cG.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),y)){return true}}return false}},cc);ss.initClass(cd,a,{updateLastState:null,getStateDiff:null});ss.initClass(y,a,{saveCurrentState:function(L){this.$0=tab.CircleUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var L=new Array(1);L[0]=tab.CircleUtil.boundingBox(this.$0);return L}},cd);ss.initClass(z,a,{renderVisualListHelper:function(L,cG){var cH=L.get_visualListPM().drawItems;this.renderDrawItems(cH,L,cG,null)},renderDrawItems:function(L,cG,cH,cI){var cJ=this.get_currentContext();var cK=cJ.get_numberSavedStates();var cL=4;for(var cM=0;cM<L.length;++cM){var cN=L[cM];if(true&&cM<cL&&cN.type==='transform'){}else if(cN.type==='draw-group'){var cO=cN;this.$9(cG,cO,cH,cI)}else{this.$b(cJ,cN,cH,null,cI,false)}}while(cJ.get_numberSavedStates()>cK){cJ.restore()}},renderVisualList:function(L,cG){this.startCachingVisibleRect();var cH=this.get_visibleRect();if(ss.isValue(L.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(L.get_defaultBackgroundColor());this.get_currentContext().fillRect(cH.x,cH.y,cH.w,cH.h)}this.renderVisualListHelper(L,cG);this.stopCachingVisibleRect()},renderDrawItemList:function(L){this.renderDrawItems(L,null,null,null)},renderCanvasBorders:function(L){var cG=L.get_visualListPM().visualPart;var cH=L.get_visualListPM().drawItems;for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(cJ.type==='draw-pen'||cJ.type==='draw-solid-brush'){this.renderDrawItemDefaultOptions(this.get_currentContext(),cJ)}else if(cJ.type==='draw-polyline'){var cK=this.get_currentCanvas().width;var cL=this.get_currentCanvas().height;var cM=cJ;var cN=cM.points;if(ss.contains(z.$b,cG)){if(Math.abs(cN[3]-cN[1])>=cL){var cO={};cO.type=cJ.type;cO.points=[0,0,0,cL];this.renderDrawItemDefaultOptions(this.get_currentContext(),cO);cO.points[0]+=cK-1;cO.points[2]+=cK-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),cO);return}}else if(ss.contains(z.$c,cG)){if(Math.abs(cN[2]-cN[0])>=this.get_currentCanvas().width){var cP={};cP.type=cJ.type;cP.points=[0,0,cK,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),cP);cP.points[1]+=cL-1;cP.points[3]+=cL-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),cP);return}}}}},renderDrawItemDefaultOptions:function(L,cG){this.$b(L,cG,null,null,null,false)},$b:function(L,cG,cH,cI,cJ,cK){if(!ss.isValue(L)||!ss.isValue(cG)){return}switch(cG.type){case'draw-pen':{{var cL=cG;L.set_lineJoin((ss.isValue(cL.lineJoin)?tab.CanvasRenderer.toCanvasLineJoin(cL.lineJoin):tab.TabRenderContext2D.defaultLineJoin));var cM=cL.linePattern||tab.TabRenderContext2D.defaultLinePattern;L.set_lineCap(z.resolveLineCap(cM,cL.lineCap));L.set_linePattern(cM);L.set_strokeStyle(tab.ColorModel.convertColorForCanvas(cL.color)||'rgb(0,0,0)');L.set_lineWidth(cL.strokeWidth||1)}break}case'draw-solid-brush':{{var cN=cG;L.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(cN.color))}break}case'draw-gradient-brush':{{var cO=cG;var cP=cO.pt1;var cQ=cO.pt2;var cR=L.createLinearGradient(cP.x,cP.y,cQ.x,cQ.y);cR.addColorStop(0,tab.ColorModel.convertColorForCanvas(cO.color1));cR.addColorStop(1,tab.ColorModel.convertColorForCanvas(cO.color2));L.set_shapeFillStyle(cR)}break}case'draw-rect':{{var cS=cG;if(cS.points.length!==4){return}var cT=A.rectXYFromDrawRect(cS.points);L.strokeRect(cT.x,cT.y,cT.w,cT.h)}break}case'draw-fill-rect':{{var cU=cG;if(cU.points.length!==4){return}var cV=A.rectXYFromDrawRect(cU.points);L.fillRect(cV.x,cV.y,cV.w,cV.h)}break}case'draw-ellipse':{{z.$2(L,cG,false)}break}case'draw-fill-ellipse':{{z.$2(L,cG,true)}break}case'draw-polyline':{{var cW=cG;var cX=cW.points;tab.CanvasRenderer.strokePath(L,cX,false,true)}break}case'draw-polygon':{{var cY=cG;tab.CanvasRenderer.strokePath(L,cY.points,true,true)}break}case'draw-fill-polygon':{{var cZ=cG;tab.CanvasRenderer.fillPath(L,cZ.points,true)}break}case'draw-fill-path':{{z.$3(L,cG,true)}break}case'draw-path':{{z.$3(L,cG,false)}break}case'clip-rect':{{var da=cG;if(da.points.length===4){if(true&&da.points[2]-da.points[0]===2){break}L.setClip({x:da.points[0],y:da.points[1],w:da.points[2]-da.points[0],h:da.points[3]-da.points[1]})}}break}case'draw-text':{{var db=cG;if(db.points.length!==2){return}var dc=db.points[0];var dd=db.points[1];var de=-1;if(ss.isValue(cI)&&cI.w!==0&&cI.h!==0){var df;var dg;if(L.get_isTextAngleHorizontal()){df=((cI.x>dc)?dc:(dc-cI.x));dg=cI.w}else{df=((cI.y>dd)?dd:(dd-cI.y));dg=cI.h}de=Math.max(df,dg-df)}this.renderText(db.text,dc,dd,de,null,cK)}break}case'draw-text-props':{{z.$0(L,cG)}break}case'transform':{{var dh=cG;if(ss.isValue(dh.transformOffset)&&dh.transformOffset.length===2){L.translate(dh.transformOffset[0],dh.transformOffset[1])}if(ss.isValue(dh.transformScale)&&dh.transformScale.length===2){L.scale(dh.transformScale[0],dh.transformScale[1])}if(ss.isValue(dh.transformAngle)){L.rotate(dh.transformAngle*Math.PI/180)}}break}case'transform-pop':{{var di=new h(L);L.restore();di.$0(L)}break}case'transform-push':{{L.save()}break}case'draw-antialias':{{var dj=cG;L.set_shouldAntialias(dj.state)}break}case'draw-image':{{var dk=cG;if(ss.isValue(cH)&&cH.has(dk.imageHash)){var dl=cH.get(dk.imageHash);if(ss.isValue(dl)&&dl.complete){L.save();if(ss.isValue(cJ)){L.setClip(cJ)}L.set_alpha(dk.alpha);L.drawImage4(dl,dk.destBox[0],dk.destBox[1],dk.destBox[2]-dk.destBox[0],dk.destBox[3]-dk.destBox[1]);L.restore()}}else{}}break}default:{{}break}}},$9:function(L,cG,cH,cI){var cJ=ss.isValue(L)&&L.get_visualListPM().visualPart==='annotations';this.clearPrevTextRunInfo();var cK=this.get_currentContext();var cL=false;cG.extentsX=cG.extentsX||0;cG.extentsY=cG.extentsY||0;cG.extentsWidth=cG.extentsWidth||0;cG.extentsHeight=cG.extentsHeight||0;var cM={x:cG.extentsX,y:cG.extentsY,w:cG.extentsWidth,h:cG.extentsHeight};var cN=tab.RectXYUtil.offsetRect(cK.dirtyRect,this.get_renderOffset());if(cG.extentsWidth>0&&cG.extentsHeight>0&&(!this.isRectVisible(cM)||!tab.RectXYUtil.intersectsWith(cN,cM))){cL=true}var cO=this.$a(L,cG,cL);var cP=z.$6(cG.drawItems,cJ);for(var cQ=0;cQ<cP.length;cQ++){var cR=cP[cQ];if(cO.$0()&&cR.type==='draw-solid-brush'){var cS=cR;cO.$2=tab.ColorModel.convertColorForCanvas(cS.color)}else{var cT=null;if(cO.$0()&&cR.type==='draw-text-props'){var cU=cR;cO.$3=tab.ColorModel.convertColorForCanvas(cU.color);cT=cK.get_textFillStyle()}if(!cL||z.$5(cR)){this.$b(cK,cR,cH,cM,cI,cJ)}if(ss.isValue(cT)){cK.set_textFillStyle(cT)}}}if(cO.$0()){cK.set_shapeFillStyle(cO.$2);cK.set_textFillStyle(cO.$3)}},$a:function(L,cG,cH){var cI=null;if(!cH&&ss.isValue(L)){if(L.isSelected(cG)){cI=new g('selected')}else if(L.isBrushed(cG)){cI=new g('highlighted')}else if(L.isNodeOrAxisHovered(cG)){cI=new g('hover')}}if(ss.isNullOrUndefined(cI)){return new g('normal')}var cJ=this.get_currentContext();cI.$2=cJ.get_shapeFillStyle();cI.$3=cJ.get_textFillStyle();switch(cI.$1()){case'selected':{cJ.set_textFillStyle(this.$c.selectionTextColor.toRgba());cJ.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{cJ.set_textFillStyle(this.$c.highlightTextColor.toRgba());cJ.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{cJ.set_textFillStyle('rgb(0,0,0)');cJ.set_shapeFillStyle('rgb(245,245,245)');break}}var cK=ss.isValue(cG.offsetX)||ss.isValue(cG.offsetY);if(cK){cG.offsetX=cG.offsetX||0;cG.offsetY=cG.offsetY||0;cJ.translate(-cG.offsetX,-cG.offsetY)}cJ.fillRect(cG.extentsX,cG.extentsY,cG.extentsWidth,cG.extentsHeight);if(cK){cJ.translate(cG.offsetX,cG.offsetY)}return cI}},tab.CanvasRenderer);ss.initClass(A,a,{});ss.initClass(B,a,{add_complete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_complete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},add_imageLoaded:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},remove_imageLoaded:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},add_imageTimedOut:function(L){this.$1$3=ss.delegateCombine(this.$1$3,L)},remove_imageTimedOut:function(L){this.$1$3=ss.delegateRemove(this.$1$3,L)},addImage:function(L){if(!ss.isValue(L)){return}for(var cG=0,cH=this.$3.length;cG<cH;cG++){if(!this.$3[cG].$8()){this.$2++;this.$3[cG].$7(L);return}}if(this.$3.length<2){var cI=new l(this.$3.length);cI.$d(ss.mkdel(this,this.onWorkerFinished));cI.$f(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(cI);this.$2++;cI.$7(L)}else{this.$1.push(L)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var L=0;L<this.$3.length;L++){var cG=this.$3[L];cG.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(L,cG){if(ss.isValue(this.$1$2)){this.$1$2(this,new bd(cG.get_image()))}this.$0(cG.get_workerID())},onWorkerTimedOut:function(L,cG){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(cG.get_workerID())},$0:function(L){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[L].$7(this.$1.shift());this.$2++}}});ss.initClass(C,a,{add_loadComplete:function(L){},remove_loadComplete:function(L){},get_canScrollX:function(){return false},get_canScrollY:function(){return false},get_docSize:function(){return{w:0,h:0}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return{w:0,h:0}},get_scrollPos:function(){return{x:0,y:0}},set_scrollPos:function(L){},get_hasContent:function(){return false},setXPos:function(L){},setYPos:function(L){},refreshImages:function(L){},destroy:function(){},reset:function(L,cG){}},null,[spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(D,a,{render:function(){var L='fztButton';if(this.props.isSelected){L+=' selected'}var cG=['tab-fzt-toggle-button-icon',this.props.iconClassName,(this.props.shouldShowAppendSubIcon?'tab-select-tool-append-mode':null)].join(' ');var cH=(ss.isNullOrEmptyString(this.props.buttonTooltip)?null:spiff.DOMElements.div({className:'tab-mobileTooltip',key:'tooltipText'},this.props.buttonTooltip));var cI=(this.props.shouldShowFlyoutCaret?spiff.DOMElements.div({className:'tab-floating-toolbar-flyout-caret',key:'caretIcon'}):null);return EventUtils.EventForwarder.span(this.$0(),{className:L,title:this.props.buttonTooltip,role:'button'},spiff.DOMElements.div({className:cG,key:'buttonIcon'}),cI,cH)},$1:function(L){this.props.onTap()},$0:function(){var L=new EventUtils.EventHandleSpec;L.tap=ss.mkdel(this,this.$1);return L}},React.Component);ss.initEnum(E,a,{radialSelect:'radialSelect',lassoSelect:'lassoSelect',rectangleSelect:'rectangleSelect',appendSelect:'appendSelect',pan:'pan',zoomHome:'zoomHome',close:'close',currentSelectionTool:'currentSelectionTool'},true);ss.initClass(F,a,{});ss.initClass(G,a,{render:function(){return(this.props.showToolbar?ss.mkdel(this,this.renderContainer)():null)},renderContainer:function(){return React.createElement(I,{getAnchorPosition:this.props.getAnchorPosition},[this.$2(),(this.props.showMapsSearch?ss.mkdel(this,this.$3)():null),this.$7()])},$2:function(){return EventUtils.EventForwarder.div(this.$0(),{className:'tab-floating-toolbar-close-button-container',role:'button',title:tab.Strings.PanZoomSelectToolsCloseButtonTooltipMobile,key:'closeButton'},spiff.DOMElements.div({className:'tab-floating-toolbar-close-button'}))},$3:function(){return React.createElement(bx,this.props.mapsSearchProps)},$7:function(){var L=this.props.showTools||this.props.showPanAndZoom&&!this.props.isHomeButtonHidden;return spiff.DOMElements.div({className:['FloatingZoomToolbar','tabSuppressVizTooltipsAndOverlays'].join(' '),key:'tools'},(L?ss.mkdel(this,this.$6)():null),this.$8())},$6:function(){return spiff.DOMElements.div({className:'fztButtonContainer'},(this.props.showTools?ss.mkdel(this,this.$5)():null),((this.props.showTools&&this.props.showPanAndZoom)?ss.mkdel(this,this.$4)():null),((this.props.showPanAndZoom&&!this.props.isHomeButtonHidden)?ss.mkdel(this,this.$9)():null))},$5:function(){return spiff.DOMElements.div({className:'fztSelectionToolContainer'},React.createElement(D,this.props.selectedButtonProps))},$4:function(){return React.createElement(D,this.props.panButtonProps)},$9:function(){return React.createElement(D,this.props.homeButtonProps)},$8:function(){var L=spiff.DOMElements.div({className:'fztFlyOutContainer'},spiff.DOMElements.div({className:'fztFlyOutButtons'},React.createElement(D,this.props.radialSelectButtonProps),React.createElement(D,this.props.lassoSelectButtonProps),React.createElement(D,this.props.rectangleSelectButtonProps),React.createElement(D,this.props.appendSelectButtonProps)));return(this.props.isFlyoutCollapsed?null:L)},$1:function(L){this.props.onClose()},$0:function(){var L=new EventUtils.EventHandleSpec;L.tap=ss.mkdel(this,this.$1);return L}},React.Component);ss.initClass(H,a,{add_dismissRequested:function(L){this.$3$1=ss.delegateCombine(this.$3$1,L)},remove_dismissRequested:function(L){this.$3$1=ss.delegateRemove(this.$3$1,L)},add_toolSelectionRequested:function(L){this.$3$2=ss.delegateCombine(this.$3$2,L)},remove_toolSelectionRequested:function(L){this.$3$2=ss.delegateRemove(this.$3$2,L)},add_appendModeSettingRequested:function(L){this.$3$3=ss.delegateCombine(this.$3$3,L)},remove_appendModeSettingRequested:function(L){this.$3$3=ss.delegateRemove(this.$3$3,L)},add_zoomHomeRequested:function(L){this.$3$4=ss.delegateCombine(this.$3$4,L)},remove_zoomHomeRequested:function(L){this.$3$4=ss.delegateRemove(this.$3$4,L)},get_mapsSearchViewModel:function(){return this.$3$5},set_mapsSearchViewModel:function(L){this.$3$5=L},$k:function(){return this.$o['appendSelect'].isSelected},$l:function(){return this.$s.isSelected},$j:function(){return this.$x&&!this.$u&&!this.$v&&this.$r},$m:function(){return this.$t.isSelected&&!this.$j()},showToolbar:function(L){this.$w=true;this.$p=L;this.incrementProps();K.trackShow(this.$u,this.$x,this.$v,!this.$r)},hideToolbar:function(){if(!this.$w){return}this.$w=false;this.incrementProps()},showTools:function(L){this.$x=L;if(!L){this.$q=true}this.incrementProps()},showMapsSearch:function(){this.$u=true;this.incrementProps()},hideMapsSearch:function(){this.$u=false;this.incrementProps()},shouldEnablePanAndZoom:function(L){this.$v=L;this.incrementProps()},updateZoomHomeState:function(L){this.$r=L;this.incrementProps()},$f:function(L){if(L==='pan-map'){this.$h()}else{var cG=H.$0(L);this.$i(cG)}},$7:function(L){this.$o['appendSelect'].isSelected=L;this.$t.shouldShowAppendSubIcon=L;this.incrementProps()},$h:function(){this.$s.isSelected=true;this.$o[this.$n].isSelected=false;this.$t.isSelected=false;this.incrementProps()},$i:function(L){this.$o[this.$n].isSelected=false;this.$o[L].isSelected=true;this.$n=L;this.$t.iconClassName=this.$o[L].iconClassName;this.$t.buttonTooltip=this.$o[L].buttonTooltip;this.$t.isSelected=true;this.$s.isSelected=false;this.incrementProps()},$5:function(){this.$q=true;this.incrementProps()},$6:function(){var L=!this.$k();this.raiseActionEvent$1(Boolean).call(this,this.$3$3,L);this.$5();K.trackButtonPress('appendSelect'.toString())},$b:function(){this.$e('radialSelect')},$9:function(){this.$e('lassoSelect')},$c:function(){this.$e('rectangleSelect')},$a:function(){this.$e('pan')},$e:function(L){this.raiseActionEvent$1(Object).call(this,this.$3$2,H.$1(L));this.$5();K.trackButtonPress(L.toString())},$8:function(){this.raiseActionEvent(this.$3$4);this.$5();K.trackButtonPress('zoomHome'.toString())},$d:function(){if(this.$l()){this.raiseActionEvent$1(Object).call(this,this.$3$2,H.$1(this.$n))}else{this.$q=!this.$q;this.incrementProps()}K.trackButtonPress('currentSelectionTool'.toString())},$g:function(){this.raiseActionEvent(this.$3$1);K.trackButtonPress('close'.toString())},createInitialProps:function(){return{onClose:ss.mkdel(this,this.$g),homeButtonProps:{iconClassName:'tab-map-home',buttonTooltip:tab.Strings.PanZoomSelectToolsZoomHomeTooltip,onTap:ss.mkdel(this,this.$8)}}},createUpdatedProps:function(){var L=$.extend({},this.$t,{isSelected:this.$m()});return{mapsSearchProps:{viewModel:this.get_mapsSearchViewModel(),key:'mapsSearchContainer'},showToolbar:this.$w,showTools:this.$x,showMapsSearch:this.$u,showPanAndZoom:this.$v,panButtonProps:this.$s,radialSelectButtonProps:this.$o['radialSelect'],lassoSelectButtonProps:this.$o['lassoSelect'],rectangleSelectButtonProps:this.$o['rectangleSelect'],appendSelectButtonProps:this.$o['appendSelect'],selectedButtonProps:L,isFlyoutCollapsed:this.$q,isHomeButtonHidden:this.$r,getAnchorPosition:this.$p}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(I,a,{$0:function(){tab.ViewportChangeDetector.get_instance().add_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().add_scrolled(ss.mkdel(this,this.$2))},$3:function(){tab.ViewportChangeDetector.get_instance().remove_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().remove_scrolled(ss.mkdel(this,this.$2))},componentDidMount:function(){this.$5();this.$0();this.$2()},componentWillUnmount:function(){this.$3()},$5:function(){if(ss.isValue(this.$8)){this.$8.style.display='none'}},$6:function(){if(ss.isValue(this.$8)){this.$8.style.display=''}},$2:function(){if(ss.isNullOrUndefined(tab.ViewportChangeDetector.get_instance().get_lastViewportRect())){return}this.$5();tab.WindowHelper.cancelAnimationFrame(this.$9);this.$a=tab.DateUtil.get_nowAsTime();this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))},$1:function(){var L=tab.DateUtil.get_nowAsTime();if(L-this.$a>=300){this.$4()}else{this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))}},$4:function(){if(ss.isValue(this.$8)){var L=tab.Application.get_instance().get_client().get_dashboardViewport();var cG=tab.ViewportChangeDetector.get_instance().get_lastViewportRect();var cH={x:cG.l,y:cG.t};var cI=L.convertPointFromPageToDashboardCoords(cH);var cJ={l:cI.x,t:cI.y,w:cG.w,h:cG.h};var cK=tab.RectUtil.intersect(cJ,L.get_visibleRect());var cL=this.props.getAnchorPosition();var cM=L.convertPointFromPageToDashboardCoords(cL);this.$8.style.left=Math.max(cM.x,cK.l)+'px';this.$8.style.top=Math.max(cM.y,cK.t)+'px';this.$6()}},render:function(){return spiff.DOMElements.div({className:'tab-floating-toolbar-container',ref:this.$7},this.props.children)}},React.Component);ss.initClass(J,a,{});ss.initClass(K,a,{});ss.initClass(M,a,{get_currentToolMode:function(){return this.$8},set_currentToolMode:function(L){if(L!==this.$8){var cG=this.$8;this.$8=L;this.toolModeChanged(cG)}else if(L===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(L,true)}},get_floatingToolbarType:function(){return this.toolbarType},dispose:function(){try{this.disposables.dispose()}catch(L){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(L){this.canZoomHome=L;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(L){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(L?'':'none')})}if(!L){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')});this.$7=L},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(L){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(L?'':'none')})}},toggleFlyout:function(L){if(!this.$7){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var cG=this.flyOutButton.element.position();var cH=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:cG.top+'px',left:cH+'px'});this.updateFlyOutVisibility(true)}},addButton:function(L,cG,cH){var cI=new spiff.Button($(document.createElement('div')));cI.set_hoverTooltipText(cH);var cJ=cI;this.$6(L,cJ,cG);return cJ},addToggleButton:function(L,cG,cH){var cI=new spiff.ToggleButton($(document.createElement('span')),null);cI.set_hoverTooltipText(cH);var cJ=cI;this.$6(L,cJ,cG);return cJ},addSpacer:function(){var L=$(document.createElement('div'));L.addClass('fztSpacer');this.buttonContainer.append(L)},$6:function(L,cG,cH){cG.element.addClass(cH);cG.element.addClass('fztButton');L.append(cG.element);this.disposables.add$1(cG)},setToolMode:function(L,cG){if(L===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(L)}this.api.setPointerToolMode(this.get_currentToolMode(),cG)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(L,cG){switch(L){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,cG);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,cG)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,cG)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,cG);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,cG);break}default:{break}}},selectButton:function(L,cG){var cH=ss.safeCast(L,spiff.ToggleButton);if(ss.isValue(cH)){cH.set_selected(cG)}},toolModeChanged:function(L){this.updateButtonState(L,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(N,a,{get_toolBarIsOffOrHome:function(){return ss.isNullOrUndefined(this.zoomToolbar)||this.zoomToolbar.get_floatingToolbarType()==='homeOnlyToolbar'},resetPointerToolbarMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$1!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode();return true}return false},updateZoomToolbar:function(L){this.$1=L;if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose();this.zoomToolbar=null;if(this.$1!=='hide'){this.createZoomToolbar();this.showFloatingZoomToolbar(true)}}if(this.$0.get_shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar())}},determineToolbarType:function(){var L='fullToolbar';if(!this.$0.get_shouldShowTools()){L='homeOnlyToolbar'}else if(!this.$0.allowPanZoomActions()){L='disablePanZoomToolbar'}if(tsConfig.is_mobile){if(L==='fullToolbar'&&this.$0.isVizLargerThanScreen()){return'disablePanZoomToolbar'}}return L},showFloatingZoomToolbar:function(L){if(L&&this.$1!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(L)}},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}var L=tsConfig.is_mobile&&tab.GestureModelSettings.get_newModelEnabled();if(ss.isNullOrUndefined(this.zoomToolbar)&&!L){var cG=this.$0.get_zoomToolbarContainerDiv();var cH=this.$0.get_isMapSearchEnabled();var cI=this.$0.get_zoomToolbarOperations();var cJ=this.determineToolbarType();var cK=this.$0.get_zoomToolbarOffset();var cL=tab.ObjectRegistry.resolve(M).call(null,[cG,cI,cJ,cK,cH]);cL.addClass('tabSuppressVizTooltipsAndOverlays');this.zoomToolbar=cL}},enableUserInteraction:function(L){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(L)}},resetVisualState:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetVisualState()}},setToolMode:function(L,cG){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(L,cG);return true}return false},dispose:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}}},null,[ss.IDisposable]);ss.initClass(O,a,{});ss.initClass(P,a,{get_button:function(){return this.$a},$9:function(){var L={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$7),ss.mkdel(this,this.$8),L);if(tsConfig.is_mobile){K.trackButtonPress('gotoMyLocation')}},$7:function(L){var cG={};var cH=Math.abs(0.0063306021306998);var cI=Math.abs(L.coords.latitude);var cJ=89.9936693978693;if(cI>cJ){cG.minLatitude=((L.coords.latitude<0)?-90:(L.coords.latitude-cH));cG.maxLatitude=((L.coords.latitude<0)?(L.coords.latitude+cH):90)}else{cG.minLatitude=L.coords.latitude-cH;cG.maxLatitude=L.coords.latitude+cH}var cK;var cL=Math.cos(O.degreeToRad(cI));var cM=3.49343234718729E-05;if(cL<cM){cK=180}else{cK=0.7/(111.32*cL)}cG.minLongitude=L.coords.longitude-cK;cG.maxLongitude=L.coords.longitude+cK;tab.MapClientCommands.boundingBoxPan(this.$b,cG)},$6:function(L){var cG='';if(L.code===L.PERMISSION_DENIED){if(P.$0()){cG=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{cG=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(L.code===L.TIMEOUT){cG=tab.Strings.GotoMyLocationTimeoutError}else if(L.code===L.POSITION_UNAVAILABLE){if(P.$0()){cG=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{cG=tab.Strings.GotoMyLocationPositionUnavailableError}}else{cG=tab.Strings.GotoMyLocationPositionUnavailableError}return cG},$8:function(L){var cG=this.$6(L);var cH=this.element.offset();var cI={x:tab.DoubleUtil.roundToInt(cH.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(cH.top)};if(tsConfig.is_mobile){cI.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}tab.NotificationViewModel.showGeoLocationNotification(cG,-1,{x:cI.x,y:cI.y})}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(Q,a,{$9:function(L,cG,cH,cI){var cJ=[L,cG,cH,cI];tab.CanvasRenderer.strokePath(this.get_currentContext(),cJ,false,true)},$a:function(L,cG,cH){this.get_currentContext().set_linePattern(cG);this.get_currentContext().set_lineCap(((cG==='solid')?'square':'butt'));this.get_currentContext().set_strokeStyle(tab.ColorModel.fromArgbInt(L).toString());this.get_currentContext().set_lineWidth(cH)},renderGridLines:function(L,cG,cH,cI){var cJ=L.GridLines;var cK=L.TickPlacement;var cL=L.PaneCount;var cM=L.AxisOutput;var cN=cH+cL.ColumnCount;if(!Q.$9(cJ,cK,cG,cN)){return}this.get_currentContext().save();this.get_currentContext().set_lineJoin(tab.TabRenderContext2D.defaultLineJoin);this.get_currentContext().set_shouldAntialias(false);this.get_currentContext().setClip(cI);var cO=Q.$7(cM,cG);var cP=Q.$8(cM,cH);var cQ=(Q.$b(cJ,cG)?Q.$0(cI,cJ.ZeroPoint[cG],cO):Number.NaN);var cR=(Q.$c(cJ,cN)?Q.$1(cI,cJ.ZeroPoint[cN],cP):Number.NaN);if(Q.$a(cK)){if(Q.$5(cJ)){this.$a(cJ.X.LineColor,tab.EnumConversions.linePatternFromInt(cJ.X.LineStyle),cJ.X.LineWidth);var cS=ci.getTickPlacement(cK,cI,cG,cO,true);var cT=cI.y;var cU=cI.y+cI.h;for(var cV=0;cV<cS.length;cV++){var cW=cS[cV];if(!(cW===cQ)){this.$9(cW,cT,cW,cU)}}}if(Q.$6(cJ)){this.$a(cJ.Y.LineColor,tab.EnumConversions.linePatternFromInt(cJ.Y.LineStyle),cJ.Y.LineWidth);var cX=ci.getTickPlacement(cK,cI,cN,cP,false);var cY=cI.x;var cZ=cI.x+cI.w;for(var da=0;da<cX.length;da++){var db=cX[da];if(!(db===cR)){this.$9(cY,db,cZ,db)}}}}if(!isNaN(cQ)){this.$a(cJ.X.ZeroLineColor,tab.EnumConversions.linePatternFromInt(cJ.X.ZeroLineStyle),cJ.X.ZeroLineWidth);var dc=ss.round(cQ);if(dc>=cI.x&&dc<=cI.x+cI.w){this.$9(dc,cI.y,dc,cI.y+cI.h)}}if(!isNaN(cR)){this.$a(cJ.Y.ZeroLineColor,tab.EnumConversions.linePatternFromInt(cJ.Y.ZeroLineStyle),cJ.Y.ZeroLineWidth);var dd=ss.round(cR);if(dd>=cI.y&&dd<=cI.y+cI.h){this.$9(cI.x,dd,cI.x+cI.w,dd)}}this.get_currentContext().restore()}},tab.CanvasRenderer);ss.initClass(bC,a,{renderMultipolygonMark:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);this.get_currentContext().save();switch(cH){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,cR,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}if(cI||cJ){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,cR,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,cR,'normalOn',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,cR,'normalOn',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,cR,'selectedUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,cR,'normalOn',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawMultipolygonMarkLayer:function(L,cG,cH,cI){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}var cJ=((cH!=='normalOn')?0:bC.$e());var cK='empty';var cL=L.getMarkGeometry(L.c.get('geometry').gv(cG));if(ss.isValue(cL)){cK=cL.geometryType}switch(cK){case'multiPolygon':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(cG),L.c.get('y').gv(cG));this.get_currentContext().scale(L.c.get('size').gv(cG),L.c.get('size').gv(cG))}tab.CanvasRenderer.createMultipolygonPath(this.get_currentContext(),cL);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(cH){case'normalUnder':{{this.strokeCurrentPath(2-cJ,L.c.get('halo_color').gv(cG)[cI])}break}case'selectedUnder':{{this.strokeCurrentPath(2-cJ,L.c.get('selected_halo_color').gv(cG)[cI])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(cG)[cI])}if(L.c.get('draw_border').gv(cG)){this.strokeCurrentPath(1-cJ,L.c.get('border_color').gv(cG)[cI])}break}default:{break}}break}case'multiLineString':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(cG),L.c.get('y').gv(cG));this.get_currentContext().scale(L.c.get('size').gv(cG),L.c.get('size').gv(cG))}tab.CanvasRenderer.createMultiLinePath(this.get_currentContext(),cL);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(cH){case'normalUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(cG)+4,L.c.get('halo_color').gv(cG)[cI])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),cL.multiLine,L.c.get('size').gv(cG)+4,2,L.c.get('halo_color').gv(cG)[cI])}break}case'selectedUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(cG)+4,L.c.get('selected_halo_color').gv(cG)[cI])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),cL.multiLine,L.c.get('size').gv(cG)+4,2,L.c.get('selected_halo_color').gv(cG)[cI])}break}case'normalOn':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(cG),L.getMarkColors(cG)[cI])}break}default:{break}}break}case'multiPoint':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(cG),L.c.get('y').gv(cG));this.get_currentContext().scale(L.c.get('size').gv(cG),L.c.get('size').gv(cG))}tab.CanvasRenderer.createMultipointPath(this.get_currentContext(),7,cL);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(cH){case'normalUnder':{{this.strokeCurrentPath(2-cJ,L.c.get('halo_color').gv(cG)[cI])}break}case'selectedUnder':{{this.strokeCurrentPath(2-cJ,L.c.get('selected_halo_color').gv(cG)[cI])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(cG)[cI])}if(L.c.get('draw_border').gv(cG)){this.strokeCurrentPath(1-cJ,L.c.get('border_color').gv(cG)[cI])}break}default:{break}}break}case'empty':{tab.CanvasRenderer.createPlaceholderPath(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),7);switch(cH){case'normalUnder':{{this.strokeCurrentPath(2-cJ,L.c.get('halo_color').gv(cG)[cI])}break}case'selectedUnder':{{this.strokeCurrentPath(2-cJ,L.c.get('selected_halo_color').gv(cG)[cI])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(cG)[cI])}if(L.c.get('draw_border').gv(cG)){this.strokeCurrentPath(1-cJ,L.c.get('border_color').gv(cG)[cI])}break}default:{break}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderAreaMark:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);var cP=L.get_lineDrawState();this.get_currentContext().save();switch(cH){case'normalUnderPass':{break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cQ=cP.get_lineAttributes();for(var cR=0;cR<cQ.length;cR++){var cS=cQ[cR];if(cS.get_lineState()!=='lineStateNormal'){continue}var cT=cS.worldOffsets;var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];bC.$d(this.get_currentContext(),cW);{for(var cX=0;cX<cS.marksNeedingDraw.length;cX++){var cY=cS.marksNeedingDraw[cX];this.drawAreaMarkLayer(L,cY,'edgeOn',cK,cS.startIndex)}}if(cW!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';var cZ=cP.get_lineAttributes();for(var da=0;da<cZ.length;da++){var db=cZ[da];if(db.get_lineState()!=='lineStateHighlighted'){continue}var dc=db.worldOffsets;var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bC.$d(this.get_currentContext(),df);{for(var dg=0;dg<db.marksNeedingDraw.length;dg++){var dh=db.marksNeedingDraw[dg];this.drawAreaMarkLayer(L,dh,'edgeOn',cK,db.startIndex)}}if(df!==0){this.get_currentContext().restore()}}}var di=cP.get_lineAttributes();for(var dj=0;dj<di.length;dj++){var dk=di[dj];if(dk.get_lineState()!=='lineStateHighlighted'){continue}var dl=dk.worldOffsets;var dm=dl.length;for(var dn=0;dn<dm;dn++){var dp=dl[dn];bC.$d(this.get_currentContext(),dp);if(!dk.get_allHighlighted()){{for(var dq=0;dq<dk.marksNeedingDraw.length;dq++){var dr=dk.marksNeedingDraw[dq];if(L.getMarkState(dr)==='markStateHighlighted'){this.drawAreaMarkLayer(L,dr,'highlightedUnder1',cK,dk.startIndex);this.drawAreaMarkLayer(L,dr,'highlightedUnder',cK,dk.startIndex)}}}{for(var ds=0;ds<dk.marksNeedingDraw.length;ds++){var dt=dk.marksNeedingDraw[ds];if(L.getMarkState(dt)==='markStateHighlighted'){this.drawAreaMarkLayer(L,dt,'highlightedOn1',cK,dk.startIndex);this.drawAreaMarkLayer(L,dt,'highlightedOn',cK,dk.startIndex)}}}}if(dp!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';var du=cP.get_lineAttributes();for(var dv=0;dv<du.length;dv++){var dw=du[dv];if(dw.get_lineState()!=='lineStateSelected'){continue}var dx=dw.worldOffsets;var dy=dx.length;for(var dz=0;dz<dy;dz++){var dA=dx[dz];bC.$d(this.get_currentContext(),dA);{for(var dB=0;dB<dw.marksNeedingDraw.length;dB++){var dC=dw.marksNeedingDraw[dB];this.drawAreaMarkLayer(L,dC,'edgeOn',cK,dw.startIndex)}}if(dA!==0){this.get_currentContext().restore()}}}var dD=cP.get_lineAttributes();for(var dE=0;dE<dD.length;dE++){var dF=dD[dE];if(dF.get_lineState()!=='lineStateSelected'){continue}var dG=dF.worldOffsets;var dH=dG.length;for(var dI=0;dI<dH;dI++){var dJ=dG[dI];bC.$d(this.get_currentContext(),dJ);if(!dF.get_allHighlighted()){{for(var dK=0;dK<dF.marksNeedingDraw.length;dK++){var dL=dF.marksNeedingDraw[dK];if(L.getMarkState(dL)==='markStateHighlighted'){this.drawAreaMarkLayer(L,dL,'highlightedUnder1',cK,dF.startIndex);this.drawAreaMarkLayer(L,dL,'highlightedUnder',cK,dF.startIndex)}}}{for(var dM=0;dM<dF.marksNeedingDraw.length;dM++){var dN=dF.marksNeedingDraw[dM];if(L.getMarkState(dN)==='markStateHighlighted'){this.drawAreaMarkLayer(L,dN,'highlightedOn1',cK,dF.startIndex);this.drawAreaMarkLayer(L,dN,'highlightedOn',cK,dF.startIndex)}}}}if(dJ!==0){this.get_currentContext().restore()}}}var dO=cP.get_lineAttributes();for(var dP=0;dP<dO.length;dP++){var dQ=dO[dP];if(dQ.get_lineState()!=='lineStateSelected'){continue}var dR=dQ.worldOffsets;var dS=dR.length;for(var dT=0;dT<dS;dT++){var dU=dR[dT];bC.$d(this.get_currentContext(),dU);{for(var dV=0;dV<dQ.marksNeedingDraw.length;dV++){var dW=dQ.marksNeedingDraw[dV];if(L.getMarkState(dW)==='markStateSelected'){this.drawAreaMarkLayer(L,dW,'selectedUnder1',cK,dQ.startIndex);this.drawAreaMarkLayer(L,dW,'selectedUnder',cK,dQ.startIndex)}}}{for(var dX=0;dX<dQ.marksNeedingDraw.length;dX++){var dY=dQ.marksNeedingDraw[dX];if(L.getMarkState(dY)==='markStateSelected'){this.drawAreaMarkLayer(L,dY,'selectedOn1',cK,dQ.startIndex);this.drawAreaMarkLayer(L,dY,'selectedOn',cK,dQ.startIndex)}}}if(dU!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawAreaMarkLayer:function(L,cG,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cG);var cL=L.c.get('r_neighbor').gv(cG);var cM=L.clipCase;if(cM!==0){this.get_currentContext().save();this.clipRect(cM,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}var cN=L.drawBorder;switch(cH){case'edgeOn':{if(L.c.get('r_neighbor').gv(cG)!==-1){var cO=[Math.round(L.c.get('x1').gv(cG)),Math.round(L.c.get('y1').gv(cG)),Math.round(L.c.get('x1').gv(cL)),Math.round(L.c.get('y1').gv(cL)),Math.round(L.c.get('x_prev').gv(cL)),Math.round(L.c.get('y_prev').gv(cL)),Math.round(L.c.get('x_next').gv(cG)),Math.round(L.c.get('y_next').gv(cG))];this.get_currentContext().set_lineJoin('miter');this.$b(cO,L.getMarkColors(cJ)[cI])}if(cN&&L.c.get('r_neighbor').gv(cG)!==-1){var cP=[L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x1').gv(cL),L.c.get('y1').gv(cL)];this.$c(cP,1,L.c.get('border_color').gv(cG)[cI],true)}if(cN&&L.c.get('r_neighbor').gv(cG)!==-1){var cQ=[L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG),L.c.get('x_prev').gv(cL),L.c.get('y_prev').gv(cL)];this.$c(cQ,1,L.c.get('border_color').gv(cG)[cI],true)}if(cN&&(L.c.get('l_neighbor').gv(cG)!==-1&&L.c.get('r_neighbor').gv(cG)!==-1)){var cR=[L.c.get('x_prev').gv(cG),L.c.get('y_prev').gv(cG),L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG)];this.$c(cR,1,L.c.get('border_color').gv(cG)[cI],true)}if(cN&&L.c.get('l_neighbor').gv(cG)===-1){var cS=[L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG)];this.$c(cS,1,L.c.get('border_color').gv(cG)[cI],true)}if(cN&&L.c.get('r_neighbor').gv(cG)===-1){var cT=[L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x_prev').gv(cG),L.c.get('y_prev').gv(cG)];this.$c(cT,1,L.c.get('border_color').gv(cG)[cI],true)}if(!cN&&L.c.get('r_neighbor').gv(cG)!==-1){var cU=[L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x1').gv(cL),L.c.get('y1').gv(cL)];this.$c(cU,1,L.getMarkColors(cJ)[cI],true)}if(!cN&&L.c.get('r_neighbor').gv(cG)!==-1){var cV=[L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG),L.c.get('x_prev').gv(cL),L.c.get('y_prev').gv(cL)];this.$c(cV,1,L.getMarkColors(cJ)[cI],true)}if(!cN&&(L.c.get('l_neighbor').gv(cG)!==-1&&L.c.get('r_neighbor').gv(cG)!==-1)){var cW=[L.c.get('x_prev').gv(cG),L.c.get('y_prev').gv(cG),L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG)];this.$c(cW,1,L.getMarkColors(cJ)[cI],true)}if(!cN&&L.c.get('l_neighbor').gv(cG)===-1){var cX=[L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x_next').gv(cG),L.c.get('y_next').gv(cG)];this.$c(cX,1,L.getMarkColors(cJ)[cI],true)}if(!cN&&L.c.get('r_neighbor').gv(cG)===-1){var cY=[L.c.get('x1').gv(cG),L.c.get('y1').gv(cG),L.c.get('x_prev').gv(cG),L.c.get('y_prev').gv(cG)];this.$c(cY,1,L.getMarkColors(cJ)[cI],true)}break}case'selectedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(cG),0+L.c.get('y1').gv(cG),5,L.getMarkColors(cG)[cI])}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(cG),0+L.c.get('y1').gv(cG),5,L.c.get('selected_halo_color').gv(cG)[cI],4)}break}case'selectedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),5,L.getMarkColors(cG)[cI])}break}case'selectedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),5,L.c.get('selected_halo_color').gv(cG)[cI],4)}break}case'highlightedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(cG),0+L.c.get('y1').gv(cG),5,L.getMarkColors(cG)[cI])}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(cG),0+L.c.get('y1').gv(cG),5,L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}break}case'highlightedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),5,L.getMarkColors(cG)[cI])}break}case'highlightedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),5,L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}break}default:{break}}if(cM!==0){this.get_currentContext().restore()}},renderMarkLabels:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);this.get_currentContext().save();var cP=this.$A(L);switch(cH){case'normalUnderPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{var cQ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cR=cM;cR<=cN;cR++){if(!L.markHasLabel(cR)||!L.markLabelNeedsDraw(cR,cQ)){continue}if(L.getMarkLabelState(cR)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(cR),L.c.get('cell_y').gv(cR),L.c.get('clip_width').gv(cR),L.c.get('clip_height').gv(cR))}var cS=L.getMarkLabelInstanceOffsets(cR);var cT=cS.length;for(var cU=0;cU<cT;cU++){var cV=cS[cU];if(cV!==0){this.get_currentContext().save();this.get_currentContext().translate(cV,0)}this.drawMarkLabelLayer(L,cR,'normalUnder',cK);if(cV!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}cK='colorOverrideNone';{var cW=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cX=cM;cX<=cN;cX++){if(!L.markHasLabel(cX)||!L.markLabelNeedsDraw(cX,cW)){continue}if(L.getMarkLabelState(cX)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(cX),L.c.get('cell_y').gv(cX),L.c.get('clip_width').gv(cX),L.c.get('clip_height').gv(cX))}var cY=L.getMarkLabelInstanceOffsets(cX);var cZ=cY.length;for(var da=0;da<cZ;da++){var db=cY[da];if(db!==0){this.get_currentContext().save();this.get_currentContext().translate(db,0)}this.drawMarkLabelLayer(L,cX,'normalUnder',cK);if(db!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}cK='colorOverrideNone';{var dc=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dd=cM;dd<=cN;dd++){if(!L.markHasLabel(dd)||!L.markLabelNeedsDraw(dd,dc)){continue}if(L.getMarkLabelState(dd)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dd),L.c.get('cell_y').gv(dd),L.c.get('clip_width').gv(dd),L.c.get('clip_height').gv(dd))}var de=L.getMarkLabelInstanceOffsets(dd);var df=de.length;for(var dg=0;dg<df;dg++){var dh=de[dg];if(dh!==0){this.get_currentContext().save();this.get_currentContext().translate(dh,0)}this.drawMarkLabelLayer(L,dd,'normalUnder',cK);if(dh!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{var di=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dj=cM;dj<=cN;dj++){if(!L.markHasLabel(dj)||!L.markLabelNeedsDraw(dj,di)){continue}if(L.getMarkLabelState(dj)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dj),L.c.get('cell_y').gv(dj),L.c.get('clip_width').gv(dj),L.c.get('clip_height').gv(dj))}var dk=L.getMarkLabelInstanceOffsets(dj);var dl=dk.length;for(var dm=0;dm<dl;dm++){var dn=dk[dm];if(dn!==0){this.get_currentContext().save();this.get_currentContext().translate(dn,0)}var dp=this.get_currentContext().get_textAlign()==='end';var dq=L.getMarkLabelProperty('text_run_offset',dj);var dr=L.getMarkLabelProperty('text_run_count',dj);var ds=dr>1;for(var dt=0;dt<dr;dt++){var du=dt+dq;if(dp){du=dq+dr-dt-1}this.drawLabelRunLayer(L,dj,'normalOn',cK,du,ds,cP)}this.clearPrevTextRunInfo();if(dn!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';{var dv=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dw=cM;dw<=cN;dw++){if(!L.markHasLabel(dw)||!L.markLabelNeedsDraw(dw,dv)){continue}if(L.getMarkLabelState(dw)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dw),L.c.get('cell_y').gv(dw),L.c.get('clip_width').gv(dw),L.c.get('clip_height').gv(dw))}var dx=L.getMarkLabelInstanceOffsets(dw);var dy=dx.length;for(var dz=0;dz<dy;dz++){var dA=dx[dz];if(dA!==0){this.get_currentContext().save();this.get_currentContext().translate(dA,0)}var dB=this.get_currentContext().get_textAlign()==='end';var dC=L.getMarkLabelProperty('text_run_offset',dw);var dD=L.getMarkLabelProperty('text_run_count',dw);var dE=dD>1;for(var dF=0;dF<dD;dF++){var dG=dF+dC;if(dB){dG=dC+dD-dF-1}this.drawLabelRunLayer(L,dw,'highlightedOn',cK,dG,dE,cP)}this.clearPrevTextRunInfo();if(dA!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(cI||cJ){cK='colorOverrideOpaque';{var dH=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dI=cM;dI<=cN;dI++){if(!L.markHasLabel(dI)||!L.markLabelNeedsDraw(dI,dH)){continue}if(L.getMarkLabelState(dI)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dI),L.c.get('cell_y').gv(dI),L.c.get('clip_width').gv(dI),L.c.get('clip_height').gv(dI))}var dJ=L.getMarkLabelInstanceOffsets(dI);var dK=dJ.length;for(var dL=0;dL<dK;dL++){var dM=dJ[dL];if(dM!==0){this.get_currentContext().save();this.get_currentContext().translate(dM,0)}this.drawMarkLabelLayer(L,dI,'selectedUnder',cK);if(dM!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';{var dN=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dO=cM;dO<=cN;dO++){if(!L.markHasLabel(dO)||!L.markLabelNeedsDraw(dO,dN)){continue}if(L.getMarkLabelState(dO)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dO),L.c.get('cell_y').gv(dO),L.c.get('clip_width').gv(dO),L.c.get('clip_height').gv(dO))}var dP=L.getMarkLabelInstanceOffsets(dO);var dQ=dP.length;for(var dR=0;dR<dQ;dR++){var dS=dP[dR];if(dS!==0){this.get_currentContext().save();this.get_currentContext().translate(dS,0)}var dT=this.get_currentContext().get_textAlign()==='end';var dU=L.getMarkLabelProperty('text_run_offset',dO);var dV=L.getMarkLabelProperty('text_run_count',dO);var dW=dV>1;for(var dX=0;dX<dV;dX++){var dY=dX+dU;if(dT){dY=dU+dV-dX-1}this.drawLabelRunLayer(L,dO,'normalOn',cK,dY,dW,cP)}this.clearPrevTextRunInfo();if(dS!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawMarkLabelLayer:function(L,cG,cH,cI){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}switch(cH){case'normalUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var cJ=L.getMarkLabelProperty('x',cG);var cK=L.getMarkLabelProperty('y',cG);var cL=L.getMarkLabelProperty('width',cG);var cM=-L.getMarkLabelProperty('height',cG);if(cM<0){cK+=cM;cM=Math.abs(cM)}var cN=0;var cO=0;var cP;if(L.isMarkImpliedSelected(cG)){cP=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{cP=L.getMarkLabelProperty('halo_color',cG)[cI]}bC.$c(this.get_currentContext(),cJ+cN,cK+cO,cL,cM,cP,0,0,false)}}{if(L.isMarkDebug(cG)){var cQ=L.getMarkLabelProperty('x',cG);var cR=L.getMarkLabelProperty('y',cG);var cS=L.getMarkLabelProperty('width',cG);var cT=-L.getMarkLabelProperty('height',cG);if(cT<0){cR+=cT;cT=Math.abs(cT)}var cU=0;var cV=0;var cW;if(L.isMarkImpliedSelected(cG)){cW=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{cW=L.c.get('halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),cQ+cU,cR+cV,cS,cT,cW,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var cX=L.getMarkLabelProperty('x',cG);var cY=L.getMarkLabelProperty('y',cG);var cZ=L.getMarkLabelProperty('width',cG);var da=-L.getMarkLabelProperty('height',cG);if(da<0){cY+=da;da=Math.abs(da)}var db=0;var dc=0;var dd;if(L.isMarkImpliedSelected(cG)){dd=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{dd=L.getMarkLabelProperty('halo_color',cG)[cI]}bC.$c(this.get_currentContext(),cX+db,cY+dc,cZ,da,dd,0,0,false)}}{if(L.isMarkDebug(cG)){var de=L.getMarkLabelProperty('x',cG);var df=L.getMarkLabelProperty('y',cG);var dg=L.getMarkLabelProperty('width',cG);var dh=-L.getMarkLabelProperty('height',cG);if(dh<0){df+=dh;dh=Math.abs(dh)}var di=0;var dj=0;var dk;if(L.isMarkImpliedSelected(cG)){dk=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{dk=L.c.get('halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),de+di,df+dj,dg,dh,dk,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawTextRunLayer:function(L,cG,cH,cI,cJ,cK,cL){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}switch(cH){case'normalUnder':{break}case'normalOn':{var cM=L.getTextRunProperty('text_style_id',cJ);cL(cM);var cN=L.$6(cM,cG,cI);var cO=L.getTextRunProperty('text_run',cJ);var cP=L.getMarkLabelProperty('x',cG)+L.getTextRunProperty('text_run_x',cJ);var cQ=L.getMarkLabelProperty('y',cG)+L.getTextRunProperty('text_run_y',cJ);var cR=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cG):L.getMarkLabelProperty('height',cG));this.renderText(cO,cP,cQ,cR,cN,cK);break}case'highlightedUnder':{break}case'highlightedOn':{var cS=L.getTextRunProperty('text_style_id',cJ);cL(cS);var cT=L.$6(cS,cG,cI);var cU=L.getTextRunProperty('text_run',cJ);var cV=L.getMarkLabelProperty('x',cG)+L.getTextRunProperty('text_run_x',cJ);var cW=L.getMarkLabelProperty('y',cG)+L.getTextRunProperty('text_run_y',cJ);var cX=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cG):L.getMarkLabelProperty('height',cG));this.renderText(cU,cV,cW,cX,cT,cK);break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawLabelRunLayer:function(L,cG,cH,cI,cJ,cK,cL){if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}switch(cH){case'normalUnder':{break}case'normalOn':{var cM=L.getTextRunProperty('text_style_id',cJ);cL(cM);var cN=L.$6(cM,cG,cI);var cO=L.getTextRunProperty('text_run',cJ);var cP=L.getMarkLabelProperty('x',cG)+L.getTextRunProperty('text_run_x',cJ);var cQ=L.getMarkLabelProperty('y',cG)+L.getTextRunProperty('text_run_y',cJ);var cR=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cG):L.getMarkLabelProperty('height',cG));this.renderText(cO,cP,cQ,cR,cN,cK);break}case'highlightedUnder':{break}case'highlightedOn':{var cS=L.getTextRunProperty('text_style_id',cJ);cL(cS);var cT=L.$6(cS,cG,cI);var cU=L.getTextRunProperty('text_run',cJ);var cV=L.getMarkLabelProperty('x',cG)+L.getTextRunProperty('text_run_x',cJ);var cW=L.getMarkLabelProperty('y',cG)+L.getTextRunProperty('text_run_y',cJ);var cX=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cG):L.getMarkLabelProperty('height',cG));this.renderText(cU,cV,cW,cX,cT,cK);break}case'selectedUnder':{break}default:{break}}if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().restore()}},renderPieMark:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);var cP=L.get_lineDrawState();this.get_currentContext().save();switch(cH){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cQ=cP.get_lineAttributes();for(var cR=0;cR<cQ.length;cR++){var cS=cQ[cR];var cT=cS.worldOffsets;var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];bC.$d(this.get_currentContext(),cW);{for(var cX=0;cX<cS.marksNeedingDraw.length;cX++){var cY=cS.marksNeedingDraw[cX];this.drawPieMarkLayer(L,cY,'normalUnder',cK)}}if(cW!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cZ=cP.get_lineAttributes();for(var da=0;da<cZ.length;da++){var db=cZ[da];if(db.get_lineState()!=='lineStateNormal'){continue}var dc=db.worldOffsets;var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bC.$d(this.get_currentContext(),df);{for(var dg=0;dg<db.marksNeedingDraw.length;dg++){var dh=db.marksNeedingDraw[dg];this.drawPieMarkLayer(L,dh,'normalOn',cK)}}if(df!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){var di=cP.get_lineAttributes();for(var dj=0;dj<di.length;dj++){var dk=di[dj];if(dk.get_lineState()!=='lineStateHighlighted'){continue}var dl=dk.worldOffsets;var dm=dl.length;for(var dn=0;dn<dm;dn++){var dp=dl[dn];bC.$d(this.get_currentContext(),dp);cK='colorOverrideFog';{for(var dq=0;dq<dk.marksNeedingDraw.length;dq++){var dr=dk.marksNeedingDraw[dq];if(L.getMarkState(dr)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,dr,'normalOn',cK)}}cK='colorOverrideNone';{for(var ds=0;ds<dk.marksNeedingDraw.length;ds++){var dt=dk.marksNeedingDraw[ds];if(L.getMarkState(dt)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,dt,'highlightedOn',cK)}}if(dp!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(cI||cJ){var du=cP.get_lineAttributes();for(var dv=0;dv<du.length;dv++){var dw=du[dv];if(dw.get_lineState()!=='lineStateSelected'){continue}var dx=dw.worldOffsets;var dy=dx.length;for(var dz=0;dz<dy;dz++){var dA=dx[dz];bC.$d(this.get_currentContext(),dA);cK='colorOverrideFog';{for(var dB=0;dB<dw.marksNeedingDraw.length;dB++){var dC=dw.marksNeedingDraw[dB];if(L.getMarkState(dC)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,dC,'normalOn',cK)}}cK='colorOverrideNone';{for(var dD=0;dD<dw.marksNeedingDraw.length;dD++){var dE=dw.marksNeedingDraw[dD];if(L.getMarkState(dE)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,dE,'highlightedOn',cK)}}cK='colorOverrideOpaque';{for(var dF=0;dF<dw.marksNeedingDraw.length;dF++){var dG=dw.marksNeedingDraw[dF];if(L.getMarkState(dG)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,dG,'selectedUnder',cK)}}{for(var dH=0;dH<dw.marksNeedingDraw.length;dH++){var dI=dw.marksNeedingDraw[dH];if(L.getMarkState(dI)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,dI,'selectedOn',cK)}}if(dA!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawPieMarkLayer:function(L,cG,cH,cI){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}switch(cH){case'normalUnder':{var cJ=L.c.get('size').gv(cG)/2;{var cK=L.c.get('theta').gv(cG);var cL=L.c.get('theta1').gv(cG);var cM=cK>cL;var cN=L.c.get('halo_color').gv(cG)[cI];var cO=false;if(Math.abs(cK-cL)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),cJ*2,cN,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),cJ,cK,cL,cN,4,cM,cO)}}break}case'normalOn':{var cP=L.c.get('size').gv(cG)/2;{var cQ=L.c.get('theta').gv(cG);var cR=L.c.get('theta1').gv(cG);if(cQ>cR){var cS=cQ;cQ=cR;cR=cS}var cT=L.c.get('x').gv(cG);var cU=L.c.get('y').gv(cG);var cV=L.getMarkColors(cG)[cI];if(L.c.get('alpha').gv(cG)>=1){var cW=tab.CanvasRenderer.toCanvasAngle(cQ);var cX=tab.CanvasRenderer.toCanvasAngle(cR);if(Math.abs(cX-cW)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cV);this.get_currentContext().moveTo(cT,cU);this.get_currentContext().lineTo(cT+Math.cos(cW)*cP,cU+Math.sin(cW)*cP);this.get_currentContext().stroke()}}if(Math.abs(cQ-cR)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cT,cU,cP*2,cV)}else{this.renderFilledWedge(cT,cU,cP,cQ,cR,cV)}}if(L.c.get('draw_border').gv(cG)){var cY=L.c.get('theta').gv(cG);var cZ=L.c.get('theta1').gv(cG);var da=cY>cZ;var db=L.c.get('border_color').gv(cG)[cI];var dc=true;if(Math.abs(cY-cZ)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),cP*2,db,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),cP,cY,cZ,db,1,da,dc)}}break}case'highlightedUnder':{var dd=L.c.get('size').gv(cG)/2;{var de=L.c.get('theta').gv(cG);var df=L.c.get('theta1').gv(cG);var dg=de>df;var dh=L.c.get('halo_color').gv(cG)[cI];var di=false;if(Math.abs(de-df)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dd*2,dh,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dd,de,df,dh,4,dg,di)}}break}case'highlightedOn':{var dj=L.c.get('size').gv(cG)/2;{var dk=L.c.get('theta').gv(cG);var dl=L.c.get('theta1').gv(cG);if(dk>dl){var dm=dk;dk=dl;dl=dm}var dn=L.c.get('x').gv(cG);var dp=L.c.get('y').gv(cG);var dq=L.getMarkColors(cG)[cI];if(L.c.get('alpha').gv(cG)>=1){var dr=tab.CanvasRenderer.toCanvasAngle(dk);var ds=tab.CanvasRenderer.toCanvasAngle(dl);if(Math.abs(ds-dr)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(dq);this.get_currentContext().moveTo(dn,dp);this.get_currentContext().lineTo(dn+Math.cos(dr)*dj,dp+Math.sin(dr)*dj);this.get_currentContext().stroke()}}if(Math.abs(dk-dl)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),dn,dp,dj*2,dq)}else{this.renderFilledWedge(dn,dp,dj,dk,dl,dq)}}if(L.c.get('draw_border').gv(cG)){var dt=L.c.get('theta').gv(cG);var du=L.c.get('theta1').gv(cG);var dv=dt>du;var dw=L.c.get('border_color').gv(cG)[cI];var dx=true;if(Math.abs(dt-du)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dj*2,dw,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dj,dt,du,dw,1,dv,dx)}}break}case'selectedUnder':{var dy=L.c.get('size').gv(cG)/2;{var dz=L.c.get('theta').gv(cG);var dA=L.c.get('theta1').gv(cG);var dB=dz>dA;var dC=L.c.get('selected_halo_color').gv(cG)[cI];var dD=false;if(Math.abs(dz-dA)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dy*2,dC,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dy,dz,dA,dC,4,dB,dD)}}break}case'selectedOn':{var dE=L.c.get('size').gv(cG)/2;{var dF=L.c.get('theta').gv(cG);var dG=L.c.get('theta1').gv(cG);if(dF>dG){var dH=dF;dF=dG;dG=dH}var dI=L.c.get('x').gv(cG);var dJ=L.c.get('y').gv(cG);var dK=L.getMarkColors(cG)[cI];if(L.c.get('alpha').gv(cG)>=1){var dL=tab.CanvasRenderer.toCanvasAngle(dF);var dM=tab.CanvasRenderer.toCanvasAngle(dG);if(Math.abs(dM-dL)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(dK);this.get_currentContext().moveTo(dI,dJ);this.get_currentContext().lineTo(dI+Math.cos(dL)*dE,dJ+Math.sin(dL)*dE);this.get_currentContext().stroke()}}if(Math.abs(dF-dG)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),dI,dJ,dE*2,dK)}else{this.renderFilledWedge(dI,dJ,dE,dF,dG,dK)}}if(L.c.get('draw_border').gv(cG)){var dN=L.c.get('theta').gv(cG);var dO=L.c.get('theta1').gv(cG);var dP=dN>dO;var dQ=L.c.get('border_color').gv(cG)[cI];var dR=true;if(Math.abs(dN-dO)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dE*2,dQ,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cG),L.c.get('y').gv(cG),dE,dN,dO,dQ,1,dP,dR)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderTextMarks:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);this.get_currentContext().save();var cP=this.$A(L);switch(cH){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawTextMarkLayer(L,cS,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,cS,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}var cT=this.get_currentContext().get_textAlign()==='end';var cU=L.c.get('text_run_offset').gv(cS);var cV=L.c.get('text_run_count').gv(cS);var cW=cV>1;for(var cX=0;cX<cV;cX++){var cY=cX+cU;if(cT){cY=cU+cV-cX-1}this.drawTextRunLayer(L,cS,'normalOn',cK,cY,cW,cP)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{if(cI||cJ){if(!(L.get_hasBackground()&&L.get_hasHalos())){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,cS,'highlightedUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}}break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}var cT=this.get_currentContext().get_textAlign()==='end';var cU=L.c.get('text_run_offset').gv(cS);var cV=L.c.get('text_run_count').gv(cS);var cW=cV>1;for(var cX=0;cX<cV;cX++){var cY=cX+cU;if(cT){cY=cU+cV-cX-1}this.drawTextRunLayer(L,cS,'normalOn',cK,cY,cW,cP)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawTextMarkLayer(L,cS,'selectedUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bC.$d(this.get_currentContext(),cR);for(var cS=cM;cS<=cN;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}var cT=this.get_currentContext().get_textAlign()==='end';var cU=L.c.get('text_run_offset').gv(cS);var cV=L.c.get('text_run_count').gv(cS);var cW=cV>1;for(var cX=0;cX<cV;cX++){var cY=cX+cU;if(cT){cY=cU+cV-cX-1}this.drawTextRunLayer(L,cS,'normalOn',cK,cY,cW,cP)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawTextMarkLayer:function(L,cG,cH,cI){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cG),L.c.get('cell_y').gv(cG),L.c.get('clip_width').gv(cG),L.c.get('clip_height').gv(cG))}switch(cH){case'normalUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cJ=L.c.get('x').gv(cG);var cK=L.c.get('y').gv(cG);var cL=L.c.get('width').gv(cG);var cM=-L.c.get('height').gv(cG);if(cM<0){cK+=cM;cM=Math.abs(cM)}var cN=-L.c.get('width').gv(cG)/2;var cO=L.c.get('height').gv(cG)/2;var cP;if(L.isMarkImpliedSelected(cG)){cP=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{cP=L.c.get('halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),cJ+cN,cK+cO,cL,cM,cP,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var cQ=L.c.get('x').gv(cG);var cR=L.c.get('y').gv(cG);var cS=L.c.get('clip_width').gv(cG);var cT=-L.c.get('clip_height').gv(cG);if(cT<0){cR+=cT;cT=Math.abs(cT)}var cU=-L.c.get('clip_width').gv(cG)/2;var cV=L.c.get('clip_height').gv(cG)/2;var cW;if(L.isMarkImpliedSelected(cG)){cW=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{cW=L.c.get('halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),cQ+cU,cR+cV,cS,cT,cW,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasHaloHighlightColor()&&!(L.clipCase!==0&&L.useCellClipForSelection)){var cX=L.c.get('x').gv(cG);var cY=L.c.get('y').gv(cG);var cZ=L.c.get('width').gv(cG);var da=-L.c.get('height').gv(cG);if(da<0){cY+=da;da=Math.abs(da)}var db=-L.c.get('width').gv(cG)/2;var dc=L.c.get('height').gv(cG)/2;var dd;if(L.isMarkImpliedSelected(cG)){dd=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{dd=L.c.get('highlighted_halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),cX+db,cY+dc,cZ,da,dd,0,0,false)}}{if(L.get_hasHaloHighlightColor()&&(L.clipCase!==0&&L.useCellClipForSelection)){var de=L.c.get('x').gv(cG);var df=L.c.get('y').gv(cG);var dg=L.c.get('clip_width').gv(cG);var dh=-L.c.get('clip_height').gv(cG);if(dh<0){df+=dh;dh=Math.abs(dh)}var di=-L.c.get('clip_width').gv(cG)/2;var dj=L.c.get('clip_height').gv(cG)/2;var dk;if(L.isMarkImpliedSelected(cG)){dk=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{dk=L.c.get('highlighted_halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),de+di,df+dj,dg,dh,dk,0,0,false)}}break}case'selectedUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var dl=L.c.get('x').gv(cG);var dm=L.c.get('y').gv(cG);var dn=L.c.get('width').gv(cG);var dp=-L.c.get('height').gv(cG);if(dp<0){dm+=dp;dp=Math.abs(dp)}var dq=-L.c.get('width').gv(cG)/2;var dr=L.c.get('height').gv(cG)/2;var ds;if(L.isMarkImpliedSelected(cG)){ds=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{ds=L.c.get('selected_halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),dl+dq,dm+dr,dn,dp,ds,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var dt=L.c.get('x').gv(cG);var du=L.c.get('y').gv(cG);var dv=L.c.get('clip_width').gv(cG);var dw=-L.c.get('clip_height').gv(cG);if(dw<0){du+=dw;dw=Math.abs(dw)}var dx=-L.c.get('clip_width').gv(cG)/2;var dy=L.c.get('clip_height').gv(cG)/2;var dz;if(L.isMarkImpliedSelected(cG)){dz=L.c.get('selected_halo_color').gv(cG)['colorOverrideOpaque']}else{dz=L.c.get('selected_halo_color').gv(cG)[cI]}bC.$c(this.get_currentContext(),dt+dx,du+dy,dv,dw,dz,0,0,false)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderBarMark:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(cH){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,cO,cR,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,cO,cR,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,cO,cR,'normalOn',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,cO,cR,'highlightedOn',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,cO,cR,'selectedUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';if(L.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(L.getInsetPaneClipRect(cG,2))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,cO,cR,'selectedOn',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}if(L.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},drawBarMarkLayer:function(L,cG,cH,cI,cJ){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}switch(cI){case'normalUnder':{var cK=ss.Int32.trunc(L.c.get('size').gv(cH)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var cL=L.c.get('x').gv(cH);var cM=L.c.get('x1').gv(cH);var cN=L.c.get('y').gv(cH);var cO=L.c.get('y1').gv(cH);var cP=Math.min(cL,cM);var cQ=Math.min(cN,cO);var cR=Math.abs(cM-cL)+0;var cS=Math.abs(cO-cN)+0;bC.$a(this.get_currentContext(),cP,cQ,cR,cS,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var cT=L.c.get('x').gv(cH)-cK;var cU=L.c.get('x').gv(cH)+cK;var cV=L.c.get('y').gv(cH);var cW=L.c.get('y1').gv(cH);var cX=Math.min(cT,cU);var cY=Math.min(cV,cW);var cZ=Math.abs(cU-cT)+0;var da=Math.abs(cW-cV)+0;bC.$a(this.get_currentContext(),cX,cY,cZ,da,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var db=L.c.get('x').gv(cH);var dc=L.c.get('x1').gv(cH);var dd=L.c.get('y').gv(cH)-cK;var de=L.c.get('y').gv(cH)+cK;var df=Math.min(db,dc);var dg=Math.min(dd,de);var dh=Math.abs(dc-db)+0;var di=Math.abs(de-dd)+0;bC.$a(this.get_currentContext(),df,dg,dh,di,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var dj=L.c.get('x').gv(cH)-cK;var dk=L.c.get('x').gv(cH)+cK;var dl=L.c.get('y').gv(cH)-cK;var dm=L.c.get('y').gv(cH)+cK;var dn=Math.min(dj,dk);var dp=Math.min(dl,dm);var dq=Math.abs(dk-dj)+0;var dr=Math.abs(dm-dl)+0;bC.$a(this.get_currentContext(),dn,dp,dq,dr,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,true)}}break}case'normalOn':{var ds=ss.Int32.trunc(L.c.get('size').gv(cH)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var dt=L.c.get('x').gv(cH);var du=L.c.get('x1').gv(cH);var dv=L.c.get('y').gv(cH);var dw=L.c.get('y1').gv(cH);var dx=Math.min(dt,du);var dy=Math.min(dv,dw);var dz=Math.abs(du-dt)+0;var dA=Math.abs(dw-dv)+0;bC.$c(this.get_currentContext(),dx-0,dy-0,dz+0,dA+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var dB=L.c.get('x').gv(cH);var dC=L.c.get('x1').gv(cH);var dD=L.c.get('y').gv(cH);var dE=L.c.get('y1').gv(cH);var dF=Math.min(dB,dC);var dG=Math.min(dD,dE);var dH=Math.abs(dC-dB)+0;var dI=Math.abs(dE-dD)+0;bC.$a(this.get_currentContext(),dF,dG,dH,dI,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var dJ=L.c.get('x').gv(cH)-ds;var dK=L.c.get('x').gv(cH)+ds;var dL=L.c.get('y').gv(cH);var dM=L.c.get('y1').gv(cH);var dN=Math.min(dJ,dK);var dO=Math.min(dL,dM);var dP=Math.abs(dK-dJ)+0;var dQ=Math.abs(dM-dL)+0;bC.$c(this.get_currentContext(),dN-0,dO-0,dP+0,dQ+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var dR=L.c.get('x').gv(cH)-ds;var dS=L.c.get('x').gv(cH)+ds;var dT=L.c.get('y').gv(cH);var dU=L.c.get('y1').gv(cH);var dV=Math.min(dR,dS);var dW=Math.min(dT,dU);var dX=Math.abs(dS-dR)+0;var dY=Math.abs(dU-dT)+0;bC.$a(this.get_currentContext(),dV,dW,dX,dY,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var dZ=L.c.get('x').gv(cH);var ea=L.c.get('x1').gv(cH);var eb=L.c.get('y').gv(cH)-ds;var ec=L.c.get('y').gv(cH)+ds;var ed=Math.min(dZ,ea);var ee=Math.min(eb,ec);var ef=Math.abs(ea-dZ)+0;var eg=Math.abs(ec-eb)+0;bC.$c(this.get_currentContext(),ed-0,ee-0,ef+0,eg+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var eh=L.c.get('x').gv(cH);var ei=L.c.get('x1').gv(cH);var ej=L.c.get('y').gv(cH)-ds;var ek=L.c.get('y').gv(cH)+ds;var el=Math.min(eh,ei);var em=Math.min(ej,ek);var en=Math.abs(ei-eh)+0;var eo=Math.abs(ek-ej)+0;bC.$a(this.get_currentContext(),el,em,en,eo,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ep=L.c.get('x').gv(cH)-ds;var eq=L.c.get('x').gv(cH)+ds;var er=L.c.get('y').gv(cH)-ds;var es=L.c.get('y').gv(cH)+ds;var et=Math.min(ep,eq);var eu=Math.min(er,es);var ev=Math.abs(eq-ep)+0;var ew=Math.abs(es-er)+0;bC.$c(this.get_currentContext(),et-0,eu-0,ev+0,ew+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var ex=L.c.get('x').gv(cH)-ds;var ey=L.c.get('x').gv(cH)+ds;var ez=L.c.get('y').gv(cH)-ds;var eA=L.c.get('y').gv(cH)+ds;var eB=Math.min(ex,ey);var eC=Math.min(ez,eA);var eD=Math.abs(ey-ex)+0;var eE=Math.abs(eA-ez)+0;bC.$a(this.get_currentContext(),eB,eC,eD,eE,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedUnder':{var eF=ss.Int32.trunc(L.c.get('size').gv(cH)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var eG=L.c.get('x').gv(cH);var eH=L.c.get('x1').gv(cH);var eI=L.c.get('y').gv(cH);var eJ=L.c.get('y1').gv(cH);var eK=Math.min(eG,eH);var eL=Math.min(eI,eJ);var eM=Math.abs(eH-eG)+0;var eN=Math.abs(eJ-eI)+0;bC.$a(this.get_currentContext(),eK,eL,eM,eN,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var eO=L.c.get('x').gv(cH)-eF;var eP=L.c.get('x').gv(cH)+eF;var eQ=L.c.get('y').gv(cH);var eR=L.c.get('y1').gv(cH);var eS=Math.min(eO,eP);var eT=Math.min(eQ,eR);var eU=Math.abs(eP-eO)+0;var eV=Math.abs(eR-eQ)+0;bC.$a(this.get_currentContext(),eS,eT,eU,eV,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var eW=L.c.get('x').gv(cH);var eX=L.c.get('x1').gv(cH);var eY=L.c.get('y').gv(cH)-eF;var eZ=L.c.get('y').gv(cH)+eF;var fa=Math.min(eW,eX);var fb=Math.min(eY,eZ);var fc=Math.abs(eX-eW)+0;var fd=Math.abs(eZ-eY)+0;bC.$a(this.get_currentContext(),fa,fb,fc,fd,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var fe=L.c.get('x').gv(cH)-eF;var ff=L.c.get('x').gv(cH)+eF;var fg=L.c.get('y').gv(cH)-eF;var fh=L.c.get('y').gv(cH)+eF;var fi=Math.min(fe,ff);var fj=Math.min(fg,fh);var fk=Math.abs(ff-fe)+0;var fl=Math.abs(fh-fg)+0;bC.$a(this.get_currentContext(),fi,fj,fk,fl,L.c.get('halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedOn':{var fm=ss.Int32.trunc(L.c.get('size').gv(cH)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var fn=L.c.get('x').gv(cH);var fo=L.c.get('x1').gv(cH);var fp=L.c.get('y').gv(cH);var fq=L.c.get('y1').gv(cH);var fr=Math.min(fn,fo);var fs=Math.min(fp,fq);var ft=Math.abs(fo-fn)+0;var fu=Math.abs(fq-fp)+0;bC.$c(this.get_currentContext(),fr-0,fs-0,ft+0,fu+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var fv=L.c.get('x').gv(cH);var fw=L.c.get('x1').gv(cH);var fx=L.c.get('y').gv(cH);var fy=L.c.get('y1').gv(cH);var fz=Math.min(fv,fw);var fA=Math.min(fx,fy);var fB=Math.abs(fw-fv)+0;var fC=Math.abs(fy-fx)+0;bC.$a(this.get_currentContext(),fz,fA,fB,fC,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var fD=L.c.get('x').gv(cH)-fm;var fE=L.c.get('x').gv(cH)+fm;var fF=L.c.get('y').gv(cH);var fG=L.c.get('y1').gv(cH);var fH=Math.min(fD,fE);var fI=Math.min(fF,fG);var fJ=Math.abs(fE-fD)+0;var fK=Math.abs(fG-fF)+0;bC.$c(this.get_currentContext(),fH-0,fI-0,fJ+0,fK+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var fL=L.c.get('x').gv(cH)-fm;var fM=L.c.get('x').gv(cH)+fm;var fN=L.c.get('y').gv(cH);var fO=L.c.get('y1').gv(cH);var fP=Math.min(fL,fM);var fQ=Math.min(fN,fO);var fR=Math.abs(fM-fL)+0;var fS=Math.abs(fO-fN)+0;bC.$a(this.get_currentContext(),fP,fQ,fR,fS,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var fT=L.c.get('x').gv(cH);var fU=L.c.get('x1').gv(cH);var fV=L.c.get('y').gv(cH)-fm;var fW=L.c.get('y').gv(cH)+fm;var fX=Math.min(fT,fU);var fY=Math.min(fV,fW);var fZ=Math.abs(fU-fT)+0;var ga=Math.abs(fW-fV)+0;bC.$c(this.get_currentContext(),fX-0,fY-0,fZ+0,ga+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gb=L.c.get('x').gv(cH);var gc=L.c.get('x1').gv(cH);var gd=L.c.get('y').gv(cH)-fm;var ge=L.c.get('y').gv(cH)+fm;var gf=Math.min(gb,gc);var gg=Math.min(gd,ge);var gh=Math.abs(gc-gb)+0;var gi=Math.abs(ge-gd)+0;bC.$a(this.get_currentContext(),gf,gg,gh,gi,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var gj=L.c.get('x').gv(cH)-fm;var gk=L.c.get('x').gv(cH)+fm;var gl=L.c.get('y').gv(cH)-fm;var gm=L.c.get('y').gv(cH)+fm;var gn=Math.min(gj,gk);var go=Math.min(gl,gm);var gp=Math.abs(gk-gj)+0;var gq=Math.abs(gm-gl)+0;bC.$c(this.get_currentContext(),gn-0,go-0,gp+0,gq+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gr=L.c.get('x').gv(cH)-fm;var gs=L.c.get('x').gv(cH)+fm;var gt=L.c.get('y').gv(cH)-fm;var gu=L.c.get('y').gv(cH)+fm;var gv=Math.min(gr,gs);var gw=Math.min(gt,gu);var gx=Math.abs(gs-gr)+0;var gy=Math.abs(gu-gt)+0;bC.$a(this.get_currentContext(),gv,gw,gx,gy,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedUnder':{var gz=ss.Int32.trunc(L.c.get('size').gv(cH)+0.5)/2;var gA=1;{var gB=L.c.get('x').gv(cH);var gC=L.c.get('x1').gv(cH);var gD=L.c.get('y').gv(cH);var gE=L.c.get('y1').gv(cH);var gF=Math.min(gB,gC);var gG=Math.min(gD,gE);var gH=Math.abs(gC-gB)+0;var gI=Math.abs(gE-gD)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&!this.$9(cG,gF,gG,gH,gI)){bC.$a(this.get_currentContext(),gF,gG,gH,gI,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{var gJ=L.c.get('x').gv(cH);var gK=L.c.get('x1').gv(cH);var gL=L.c.get('y').gv(cH);var gM=L.c.get('y1').gv(cH);var gN=Math.min(gJ,gK);var gO=Math.min(gL,gM);var gP=Math.abs(gK-gJ)+0;var gQ=Math.abs(gM-gL)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&this.$9(cG,gN,gO,gP,gQ)){bC.$c(this.get_currentContext(),gN-2,gO-2,gP+4,gQ+4,L.c.get('selected_halo_color').gv(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var gR=L.c.get('x').gv(cH);var gS=L.c.get('x1').gv(cH);var gT=L.c.get('y').gv(cH);var gU=L.c.get('y1').gv(cH);var gV=Math.min(gR,gS);var gW=Math.min(gT,gU);var gX=Math.abs(gS-gR)+gA;var gY=Math.abs(gU-gT)+gA;bC.$a(this.get_currentContext(),gV,gW,gX,gY,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{var gZ=L.c.get('x').gv(cH)-gz;var ha=L.c.get('x').gv(cH)+gz;var hb=L.c.get('y').gv(cH);var hc=L.c.get('y1').gv(cH);var hd=Math.min(gZ,ha);var he=Math.min(hb,hc);var hf=Math.abs(ha-gZ)+0;var hg=Math.abs(hc-hb)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&!this.$9(cG,hd,he,hf,hg)){bC.$a(this.get_currentContext(),hd,he,hf,hg,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{var hh=L.c.get('x').gv(cH)-gz;var hi=L.c.get('x').gv(cH)+gz;var hj=L.c.get('y').gv(cH);var hk=L.c.get('y1').gv(cH);var hl=Math.min(hh,hi);var hm=Math.min(hj,hk);var hn=Math.abs(hi-hh)+0;var ho=Math.abs(hk-hj)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&this.$9(cG,hl,hm,hn,ho)){bC.$c(this.get_currentContext(),hl-2,hm-2,hn+4,ho+4,L.c.get('selected_halo_color').gv(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hp=L.c.get('x').gv(cH)-gz;var hq=L.c.get('x').gv(cH)+gz;var hr=L.c.get('y').gv(cH);var hs=L.c.get('y1').gv(cH);var ht=Math.min(hp,hq);var hu=Math.min(hr,hs);var hv=Math.abs(hq-hp)+gA;var hw=Math.abs(hs-hr)+gA;bC.$a(this.get_currentContext(),ht,hu,hv,hw,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{var hx=L.c.get('x').gv(cH);var hy=L.c.get('x1').gv(cH);var hz=L.c.get('y').gv(cH)-gz;var hA=L.c.get('y').gv(cH)+gz;var hB=Math.min(hx,hy);var hC=Math.min(hz,hA);var hD=Math.abs(hy-hx)+0;var hE=Math.abs(hA-hz)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&!this.$9(cG,hB,hC,hD,hE)){bC.$a(this.get_currentContext(),hB,hC,hD,hE,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{var hF=L.c.get('x').gv(cH);var hG=L.c.get('x1').gv(cH);var hH=L.c.get('y').gv(cH)-gz;var hI=L.c.get('y').gv(cH)+gz;var hJ=Math.min(hF,hG);var hK=Math.min(hH,hI);var hL=Math.abs(hG-hF)+0;var hM=Math.abs(hI-hH)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&this.$9(cG,hJ,hK,hL,hM)){bC.$c(this.get_currentContext(),hJ-2,hK-2,hL+4,hM+4,L.c.get('selected_halo_color').gv(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var hN=L.c.get('x').gv(cH);var hO=L.c.get('x1').gv(cH);var hP=L.c.get('y').gv(cH)-gz;var hQ=L.c.get('y').gv(cH)+gz;var hR=Math.min(hN,hO);var hS=Math.min(hP,hQ);var hT=Math.abs(hO-hN)+gA;var hU=Math.abs(hQ-hP)+gA;bC.$a(this.get_currentContext(),hR,hS,hT,hU,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,false)}}{var hV=L.c.get('x').gv(cH)-gz;var hW=L.c.get('x').gv(cH)+gz;var hX=L.c.get('y').gv(cH)-gz;var hY=L.c.get('y').gv(cH)+gz;var hZ=Math.min(hV,hW);var ia=Math.min(hX,hY);var ib=Math.abs(hW-hV)+0;var ic=Math.abs(hY-hX)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&!this.$9(cG,hZ,ia,ib,ic)){bC.$a(this.get_currentContext(),hZ,ia,ib,ic,L.c.get('selected_halo_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,true)}}{var id=L.c.get('x').gv(cH)-gz;var ie=L.c.get('x').gv(cH)+gz;var ig=L.c.get('y').gv(cH)-gz;var ih=L.c.get('y').gv(cH)+gz;var ii=Math.min(id,ie);var ij=Math.min(ig,ih);var ik=Math.abs(ie-id)+0;var il=Math.abs(ih-ig)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&this.$9(cG,ii,ij,ik,il)){bC.$c(this.get_currentContext(),ii-2,ij-2,ik+4,il+4,L.c.get('selected_halo_color').gv(cH)[cJ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var im=L.c.get('x').gv(cH)-gz;var io=L.c.get('x').gv(cH)+gz;var ip=L.c.get('y').gv(cH)-gz;var iq=L.c.get('y').gv(cH)+gz;var ir=Math.min(im,io);var it=Math.min(ip,iq);var iu=Math.abs(io-im)+gA;var iv=Math.abs(iq-ip)+gA;bC.$a(this.get_currentContext(),ir,it,iu,iv,L.c.get('border_color').gv(cH)[cJ],4,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedOn':{var iw=ss.Int32.trunc(L.c.get('size').gv(cH)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var ix=L.c.get('x').gv(cH);var iy=L.c.get('x1').gv(cH);var iz=L.c.get('y').gv(cH);var iA=L.c.get('y1').gv(cH);var iB=Math.min(ix,iy);var iC=Math.min(iz,iA);var iD=Math.abs(iy-ix)+0;var iE=Math.abs(iA-iz)+0;bC.$c(this.get_currentContext(),iB-0,iC-0,iD+0,iE+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var iF=L.c.get('x').gv(cH);var iG=L.c.get('x1').gv(cH);var iH=L.c.get('y').gv(cH);var iI=L.c.get('y1').gv(cH);var iJ=Math.min(iF,iG);var iK=Math.min(iH,iI);var iL=Math.abs(iG-iF)+0;var iM=Math.abs(iI-iH)+0;bC.$a(this.get_currentContext(),iJ,iK,iL,iM,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var iN=L.c.get('x').gv(cH)-iw;var iO=L.c.get('x').gv(cH)+iw;var iP=L.c.get('y').gv(cH);var iQ=L.c.get('y1').gv(cH);var iR=Math.min(iN,iO);var iS=Math.min(iP,iQ);var iT=Math.abs(iO-iN)+0;var iU=Math.abs(iQ-iP)+0;bC.$c(this.get_currentContext(),iR-0,iS-0,iT+0,iU+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var iV=L.c.get('x').gv(cH)-iw;var iW=L.c.get('x').gv(cH)+iw;var iX=L.c.get('y').gv(cH);var iY=L.c.get('y1').gv(cH);var iZ=Math.min(iV,iW);var ja=Math.min(iX,iY);var jb=Math.abs(iW-iV)+0;var jc=Math.abs(iY-iX)+0;bC.$a(this.get_currentContext(),iZ,ja,jb,jc,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var jd=L.c.get('x').gv(cH);var je=L.c.get('x1').gv(cH);var jf=L.c.get('y').gv(cH)-iw;var jg=L.c.get('y').gv(cH)+iw;var jh=Math.min(jd,je);var ji=Math.min(jf,jg);var jj=Math.abs(je-jd)+0;var jk=Math.abs(jg-jf)+0;bC.$c(this.get_currentContext(),jh-0,ji-0,jj+0,jk+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var jl=L.c.get('x').gv(cH);var jm=L.c.get('x1').gv(cH);var jn=L.c.get('y').gv(cH)-iw;var jo=L.c.get('y').gv(cH)+iw;var jp=Math.min(jl,jm);var jq=Math.min(jn,jo);var jr=Math.abs(jm-jl)+0;var js=Math.abs(jo-jn)+0;bC.$a(this.get_currentContext(),jp,jq,jr,js,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var jt=L.c.get('x').gv(cH)-iw;var ju=L.c.get('x').gv(cH)+iw;var jv=L.c.get('y').gv(cH)-iw;var jw=L.c.get('y').gv(cH)+iw;var jx=Math.min(jt,ju);var jy=Math.min(jv,jw);var jz=Math.abs(ju-jt)+0;var jA=Math.abs(jw-jv)+0;bC.$c(this.get_currentContext(),jx-0,jy-0,jz+0,jA+0,L.getMarkColors(cH)[cJ],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var jB=L.c.get('x').gv(cH)-iw;var jC=L.c.get('x').gv(cH)+iw;var jD=L.c.get('y').gv(cH)-iw;var jE=L.c.get('y').gv(cH)+iw;var jF=Math.min(jB,jC);var jG=Math.min(jD,jE);var jH=Math.abs(jC-jB)+0;var jI=Math.abs(jE-jD)+0;bC.$a(this.get_currentContext(),jF,jG,jH,jI,L.c.get('border_color').gv(cH)[cJ],1,L.minBarWidth,L.minBarHeight,true)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderLineMark:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);var cP=L.get_lineDrawState();this.get_currentContext().save();switch(cH){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cQ=cP.get_lineAttributes();for(var cR=0;cR<cQ.length;cR++){var cS=cQ[cR];if(cS.get_lineState()!=='lineStateNormal'){continue}var cT=cS.worldOffsets;var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];bC.$d(this.get_currentContext(),cW);{for(var cX=0;cX<cS.marksNeedingDraw.length;cX++){var cY=cS.marksNeedingDraw[cX];if(L.c.get('l_neighbor').gv(cY)!==-1||L.c.get('r_neighbor').gv(cY)!==-1){this.drawLineMarkLayer(L,cY,'normalUnder',cK)}}}{for(var cZ=0;cZ<cS.marksNeedingDraw.length;cZ++){var da=cS.marksNeedingDraw[cZ];this.drawLineMarkLayer(L,da,'edgeUnder',cK);if(L.c.get('l_neighbor').gv(da)===-1&&L.c.get('r_neighbor').gv(da)===-1||L.shouldShowMarker(da)){this.drawLineMarkLayer(L,da,'blobUnder',cK)}}}if(cW!==0){this.get_currentContext().restore()}}}var db=cP.get_lineAttributes();for(var dc=0;dc<db.length;dc++){var dd=db[dc];if(dd.get_lineState()!=='lineStateHighlighted'){continue}var de=dd.worldOffsets;var df=de.length;for(var dg=0;dg<df;dg++){var dh=de[dg];bC.$d(this.get_currentContext(),dh);{for(var di=0;di<dd.marksNeedingDraw.length;di++){var dj=dd.marksNeedingDraw[di];if(L.c.get('l_neighbor').gv(dj)!==-1||L.c.get('r_neighbor').gv(dj)!==-1){this.drawLineMarkLayer(L,dj,'normalUnder',cK)}}}{for(var dk=0;dk<dd.marksNeedingDraw.length;dk++){var dl=dd.marksNeedingDraw[dk];this.drawLineMarkLayer(L,dl,'edgeUnder',cK);if(L.c.get('l_neighbor').gv(dl)===-1&&L.c.get('r_neighbor').gv(dl)===-1||L.shouldShowMarker(dl)){this.drawLineMarkLayer(L,dl,'blobUnder',cK)}}}if(dh!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var dm=cP.get_lineAttributes();for(var dn=0;dn<dm.length;dn++){var dp=dm[dn];if(dp.get_lineState()!=='lineStateNormal'){continue}var dq=dp.worldOffsets;var dr=dq.length;for(var ds=0;ds<dr;ds++){var dt=dq[ds];bC.$d(this.get_currentContext(),dt);var du=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){du=dp.endIndex-dp.startIndex>1}if(du){var dv=((!L.isWrappedDomain&&L.markType==='line')?dp.sloppyBoundingBox:null);this.beginOffScreenRender(dv);L.forceOpaqueColors=true}}{for(var dw=0;dw<dp.marksNeedingDraw.length;dw++){var dx=dp.marksNeedingDraw[dw];if(L.c.get('l_neighbor').gv(dx)!==-1||L.c.get('r_neighbor').gv(dx)!==-1){this.drawLineMarkLayer(L,dx,'normalOn',cK)}else{this.drawLineMarkLayer(L,dx,'blobOn',cK)}}}{for(var dy=0;dy<dp.marksNeedingDraw.length;dy++){var dz=dp.marksNeedingDraw[dy];this.drawLineMarkLayer(L,dz,'edgeOn',cK)}}if(L.get_hasGlobalTransparency()){if(du){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var dA=0;dA<dp.marksNeedingDraw.length;dA++){var dB=dp.marksNeedingDraw[dA];if(L.shouldShowMarker(dB)){this.drawLineMarkLayer(L,dB,'blobOn',cK)}}}if(dt!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';var dC=cP.get_lineAttributes();for(var dD=0;dD<dC.length;dD++){var dE=dC[dD];if(dE.get_lineState()!=='lineStateHighlighted'){continue}var dF=dE.worldOffsets;var dG=dF.length;for(var dH=0;dH<dG;dH++){var dI=dF[dH];bC.$d(this.get_currentContext(),dI);var dJ=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){dJ=dE.endIndex-dE.startIndex>1}if(dJ){var dK=((!L.isWrappedDomain&&L.markType==='line')?dE.sloppyBoundingBox:null);this.beginOffScreenRender(dK);L.forceOpaqueColors=true}}{for(var dL=0;dL<dE.marksNeedingDraw.length;dL++){var dM=dE.marksNeedingDraw[dL];if(!(L.getMarkState(dM)==='markStateHighlighted')){cK='colorOverrideFog'}if(!(L.getMarkState(dM)==='markStateHighlighted'&&!dE.get_allHighlighted())){if(L.c.get('l_neighbor').gv(dM)!==-1||L.c.get('r_neighbor').gv(dM)!==-1){this.drawLineMarkLayer(L,dM,'normalOn',cK)}else{this.drawLineMarkLayer(L,dM,'blobOn',cK)}}cK='colorOverrideNone'}}{for(var dN=0;dN<dE.marksNeedingDraw.length;dN++){var dO=dE.marksNeedingDraw[dN];if(L.getMarkState(dO)!=='markStateHighlighted'||L.c.get('r_neighbor').gv(dO)!==-1&&L.getMarkState(L.c.get('r_neighbor').gv(dO))!=='markStateHighlighted'){cK='colorOverrideFog'}this.drawLineMarkLayer(L,dO,'edgeOn',cK);cK='colorOverrideNone'}}if(L.get_hasGlobalTransparency()){if(dJ){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var dP=0;dP<dE.marksNeedingDraw.length;dP++){var dQ=dE.marksNeedingDraw[dP];if(!(L.getMarkState(dQ)==='markStateHighlighted')){cK='colorOverrideFog'}if(!(L.getMarkState(dQ)==='markStateHighlighted'&&!dE.get_allHighlighted())){if(L.shouldShowMarker(dQ)){this.drawLineMarkLayer(L,dQ,'blobOn',cK)}}cK='colorOverrideNone'}}{for(var dR=0;dR<dE.marksNeedingDraw.length;dR++){var dS=dE.marksNeedingDraw[dR];if(L.getMarkState(dS)==='markStateHighlighted'&&!dE.get_allHighlighted()){this.drawLineMarkLayer(L,dS,'highlightedUnder',cK)}}}{for(var dT=0;dT<dE.marksNeedingDraw.length;dT++){var dU=dE.marksNeedingDraw[dT];if(L.getMarkState(dU)==='markStateHighlighted'&&!dE.get_allHighlighted()){this.drawLineMarkLayer(L,dU,'highlightedOn',cK)}}}if(dI!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(cI||cJ){cK='colorOverrideNone';var dV=cP.get_lineAttributes();for(var dW=0;dW<dV.length;dW++){var dX=dV[dW];if(dX.get_lineState()!=='lineStateSelected'){continue}var dY=dX.worldOffsets;var dZ=dY.length;for(var ea=0;ea<dZ;ea++){var eb=dY[ea];bC.$d(this.get_currentContext(),eb);{for(var ec=0;ec<dX.marksNeedingDraw.length;ec++){var ed=dX.marksNeedingDraw[ec];this.drawLineMarkLayer(L,ed,'selectedUnder1',cK);this.drawLineMarkLayer(L,ed,'selectedEdgeUnder',cK)}}if(eb!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';var ee=cP.get_lineAttributes();for(var ef=0;ef<ee.length;ef++){var eg=ee[ef];if(eg.get_lineState()!=='lineStateSelected'){continue}var eh=eg.worldOffsets;var ei=eh.length;for(var ej=0;ej<ei;ej++){var ek=eh[ej];bC.$d(this.get_currentContext(),ek);{for(var el=0;el<eg.marksNeedingDraw.length;el++){var em=eg.marksNeedingDraw[el];if(L.c.get('l_neighbor').gv(em)!==-1||L.c.get('r_neighbor').gv(em)!==-1){this.drawLineMarkLayer(L,em,'normalOn',cK)}else{this.drawLineMarkLayer(L,em,'blobOn',cK)}}}{for(var en=0;en<eg.marksNeedingDraw.length;en++){var eo=eg.marksNeedingDraw[en];this.drawLineMarkLayer(L,eo,'edgeOn',cK)}}{for(var ep=0;ep<eg.marksNeedingDraw.length;ep++){var eq=eg.marksNeedingDraw[ep];if(L.shouldShowMarker(eq)){this.drawLineMarkLayer(L,eq,'blobOn',cK)}}}if(!eg.get_allHighlighted()){{for(var er=0;er<eg.marksNeedingDraw.length;er++){var es=eg.marksNeedingDraw[er];if(L.getMarkState(es)==='markStateHighlighted'){this.drawLineMarkLayer(L,es,'highlightedUnder',cK)}}}{for(var et=0;et<eg.marksNeedingDraw.length;et++){var eu=eg.marksNeedingDraw[et];if(L.getMarkState(eu)==='markStateHighlighted'){this.drawLineMarkLayer(L,eu,'highlightedOn',cK)}}}}{for(var ev=0;ev<eg.marksNeedingDraw.length;ev++){var ew=eg.marksNeedingDraw[ev];if(L.getMarkState(ew)==='markStateSelected'){this.drawLineMarkLayer(L,ew,'selectedUnder',cK)}}}{for(var ex=0;ex<eg.marksNeedingDraw.length;ex++){var ey=eg.marksNeedingDraw[ex];if(L.getMarkState(ey)==='markStateSelected'){this.drawLineMarkLayer(L,ey,'highlightedOn',cK)}}}if(ek!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawLineMarkLayer:function(L,cG,cH,cI){var cJ=L.c.get('l_neighbor').gv(cG);var cK=L.c.get('r_neighbor').gv(cG);switch(cH){case'normalUnder':{var cL=cK!==-1;var cM=L.lineInterpolation;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('halo_color').gv(cG)[cI],4)}if(cL&&(cM==='lim-step'||cM==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cK)-L.c.get('x').gv(cG)+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('halo_color').gv(cG)[cI],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.getMarkColors(cG)[cI])}}break}case'blobUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG)+3,L.c.get('halo_color').gv(cG)[cI],4)}break}case'blobOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG)+3,L.getMarkColors(cG)[cI])}}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG)+4,L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}break}case'highlightedOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG)+4,L.getMarkColors(cG)[cI])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG)+4,L.c.get('selected_halo_color').gv(cG)[cI],4)}break}case'selectedUnder1':{var cN=cK!==-1;var cO=L.lineInterpolation;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}if(cN&&(cO==='lim-step'||cO==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cK)-L.c.get('x').gv(cG)+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}break}case'edgeUnder':{var cP=cK!==-1;var cQ=L.lineInterpolation;if(cP&&cQ==='lim-linear'){this.$d(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cK),L.c.get('size').gv(cG),L.c.get('size').gv(cK),L.c.get('halo_color').gv(cG)[cI],4)}if(cP&&cQ==='lim-step'){this.$d(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('size').gv(cG),L.c.get('halo_color').gv(cG)[cI],4)}if(cP&&cQ==='lim-step'){this.$d(L.c.get('x').gv(cK),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cK),L.c.get('size').gv(cG),L.c.get('size').gv(cK),L.c.get('halo_color').gv(cG)[cI],4)}if(cP&&cQ==='lim-jump'){this.$d(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('size').gv(cG),L.c.get('halo_color').gv(cG)[cI],4)}break}case'selectedEdgeUnder':{var cR=cK!==-1;var cS=L.lineInterpolation;if(cR&&cS==='lim-linear'){this.$d(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cK),L.c.get('size').gv(cG),L.c.get('size').gv(cK),L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}if(cR&&cS==='lim-step'){this.$d(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('size').gv(cG),L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}if(cR&&cS==='lim-step'){this.$d(L.c.get('x').gv(cK),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cK),L.c.get('size').gv(cG),L.c.get('size').gv(cK),L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}if(cR&&cS==='lim-jump'){this.$d(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('size').gv(cG),L.c.get('selected_multi_prim_halo_color').gv(cG)[cI],4)}break}case'edgeOn':{var cT=cK!==-1;var cU=L.lineInterpolation;if(cT&&cU==='lim-linear'){if(L.isLineSegmentVisible(cG,cK)){var cV=cI;if(L.isLineSegmentFiltered(cG,cK)){cI='colorOverrideFog'}this.$a(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cK),L.c.get('size').gv(cG),L.c.get('size').gv(cK),L.getMarkColors(cG)[cI],L.getMarkColors(cK)[cI])}}if(cT&&(cU==='lim-step'||cU==='lim-jump')){if(L.isLineSegmentVisible(cG,cK)){var cW=cI;if(L.isLineSegmentFiltered(cG,cK)){cI='colorOverrideFog'}this.$a(L.c.get('x').gv(cG),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.c.get('size').gv(cG),L.getMarkColors(cG)[cI],L.getMarkColors(cG)[cI])}}if(cT&&(cU==='lim-step'||cU==='lim-jump')){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),L.c.get('x').gv(cK)-L.c.get('x').gv(cG)+L.c.get('x').gv(cG),0+L.c.get('y').gv(cG),L.c.get('size').gv(cG),L.getMarkColors(cG)[cI])}if(cT&&cU==='lim-step'){if(L.isLineSegmentVisible(cG,cK)){var cX=cI;if(L.isLineSegmentFiltered(cG,cK)){cI='colorOverrideFog'}this.$a(L.c.get('x').gv(cK),L.c.get('x').gv(cK),L.c.get('y').gv(cG),L.c.get('y').gv(cK),L.c.get('size').gv(cG),L.c.get('size').gv(cK),L.getMarkColors(cG)[cI],L.getMarkColors(cK)[cI])}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderShapeMark:function(L,cG,cH){var cI=L.get_hasSelection();var cJ=L.get_hasBrushing();var cK='colorOverrideNone';var cL=L.getUserPaneMarkRange(cG);var cM=cL.firstMark;var cN=cL.lastMark;var cO=L.getUserPaneRectByIndex(cG);switch(cH){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,cR,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}if(cI||cJ){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,cR,'normalUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(cI||cJ){cK='colorOverrideFog'}else{cK='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,cR,'normalOn',cK);if(L.drawBorder){this.drawShapeMarkLayer(L,cR,'border',cK)}}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cI||cJ){cK='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,cR,'normalOn',cK);if(L.drawBorder){this.drawShapeMarkLayer(L,cR,'border',cK)}}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,cR,'selectedUnder',cK)}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cI||cJ){cK='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cP,cQ){bC.$d(this.get_currentContext(),cQ);for(var cR=cM;cR<=cN;cR++){if(cP.has(cR)){continue}if(!L.markNeedsDraw(cR)){continue}if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,cR,'normalOn',cK);if(L.drawBorder){this.drawShapeMarkLayer(L,cR,'border',cK)}}if(!tab.DoubleUtil.isApproximatelyEqual(cQ,0)){this.get_currentContext().restore()}}))}}break}}},drawShapeMarkLayer:function(L,cG,cH,cI){var cJ=L.c.get('shape_id').gv(cG);if(!bC.shapeHasLayerContent(cJ,cH)){return}var cK=L.c.get('x').gv(cG);var cL=L.c.get('y').gv(cG);var cM=L.shouldStampThisShapeMark(cG);if(!cM){this.renderShapeMarkLayer(L,cK,cL,cG,cH,cI,false);return}var cN=L.c.get('size').gv(cG);var cO=bC.$7(L,cG,cH,cI);var cP=bC.getShapeMarkSpriteSize(cJ,cH,cN)+2;var cQ=cP/2;var cR=cL-cQ;var cS=cK-cQ;var cT=this.get_currentContext();var cU=tab.ShapeManager.getCacheKey(cJ,cH,cI,cO,cN);var cV=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(cU);if(ss.isNullOrUndefined(cV)){var cW=function(){var cX=document.createElement('canvas');var cY=new tab.TabRenderContext2D(cX.getContext('2d'));tab.CanvasUtil.sizeCanvasWithHighDPISupport(cX,cY,{w:cP,h:cP});if(tab.FeatureParamsLookup.getBool(38)){cY.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');cY.fillRect(0,0,cP,cP)}var cZ=new bC(cX,cY);cZ.renderShapeMarkLayer(L,cQ,cQ,cG,cH,cI,true);return cX};cV=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(cU,cW)}if(ss.isValue(cV)){cT.drawImage3(cV,cS+0.5<<0,cR+0.5<<0,cP,cP)}else{this.renderShapeMarkLayer(L,cK,cL,cG,cH,cI,false)}},renderShapeMarkLayer:function(L,cG,cH,cI,cJ,cK,cL){var cM=L.clipCase!==0&&!cL;if(cM){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cI),L.c.get('cell_y').gv(cI),L.c.get('clip_width').gv(cI),L.c.get('clip_height').gv(cI))}var cN=L.c.get('shape_id').gv(cI);switch(cN){case'shapeIDCircle':{this.$g(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledCircle':{this.$j(L,cG,cH,cI,cJ,cK);break}case'shapeIDUnscaledFilledCircle':{this.$z(L,cG,cH,cI,cJ,cK);break}case'shapeIDSquare':{this.$w(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledSquare':{this.$p(L,cG,cH,cI,cJ,cK);break}case'shapeIDAsterisk':{this.$f(L,cG,cH,cI,cJ,cK);break}case'shapeIDPlus':{this.$u(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledPlus':{this.$n(L,cG,cH,cI,cJ,cK);break}case'shapeIDTimes':{this.$x(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledTimes':{this.$r(L,cG,cH,cI,cJ,cK);break}case'shapeIDDiamond':{this.$h(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledDiamond':{this.$k(L,cG,cH,cI,cJ,cK);break}case'shapeIDTriangle':{this.$y(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledTriangle':{this.$s(L,cG,cH,cI,cJ,cK);break}case'shapeIDDownTriangle':{this.$i(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledDownTriangle':{this.$l(L,cG,cH,cI,cJ,cK);break}case'shapeIDLeftTriangle':{this.$t(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledLeftTriangle':{this.$m(L,cG,cH,cI,cJ,cK);break}case'shapeIDRightTriangle':{this.$v(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledRightTriangle':{this.$o(L,cG,cH,cI,cJ,cK);break}case'shapeIDFilledStar':{this.$q(L,cG,cH,cI,cJ,cK);break}default:{bC.$b(this.get_currentContext(),L,cI,cJ,cK);break}}if(cM){this.get_currentContext().restore()}},$g:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.958333333333333,L.c.get('halo_color').gv(cI)[cK],4)}break}case'normalOn':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.958333333333333,L.getMarkColors(cI)[cK],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.958333333333333,L.c.get('selected_halo_color').gv(cI)[cK],4)}break}default:{break}}},$j:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.979166666666667,L.c.get('halo_color').gv(cI)[cK],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.979166666666667,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.979166666666667,L.c.get('selected_halo_color').gv(cI)[cK],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI)*0.979166666666667,L.c.get('border_color').gv(cI)[cK],1)}break}default:{break}}},$z:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI),L.c.get('halo_color').gv(cI)[cK],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI),L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI),L.c.get('selected_halo_color').gv(cI)[cK],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cG,0+cH,L.c.get('size').gv(cI),L.c.get('border_color').gv(cI)[cK],1)}break}default:{break}}},$w:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cG+0,cH+0,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('halo_color').gv(cI)[cK],4)}break}case'normalOn':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cG+0,cH+0,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,L.getMarkColors(cI)[cK],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cG+0,cH+0,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('size').gv(cI)*0.895833333333333,L.c.get('selected_halo_color').gv(cI)[cK],4)}break}default:{break}}},$p:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cG+0,cH+0,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,L.c.get('halo_color').gv(cI)[cK],4)}break}case'normalOn':{{this.renderFilledRectangle(cG+0,cH+0,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,L.getMarkColors(cI)[cK])}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cG+0,cH+0,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,L.c.get('selected_halo_color').gv(cI)[cK],4)}break}case'border':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cG+0,cH+0,L.c.get('size').gv(cI)*0.9375,L.c.get('size').gv(cI)*0.9375,L.c.get('border_color').gv(cI)[cK],1)}break}default:{break}}},$f:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.958333333333333/2;var cM=0.899999976158142*cL;var cN=L.c.get('size').gv(cI)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var cO=cG;var cP=cH;var cQ=new Array(4);cQ[0]=cO+0;cQ[1]=cP+-cL;cQ[2]=cO+0;cQ[3]=cP+cL;this.$c(cQ,4,L.c.get('halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var cR=cG;var cS=cH;var cT=new Array(4);cT[0]=cR+-cM;cT[1]=cS+-cN;cT[2]=cR+cM;cT[3]=cS+cN;this.$c(cT,4,L.c.get('halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var cU=cG;var cV=cH;var cW=new Array(4);cW[0]=cU+cM;cW[1]=cV+-cN;cW[2]=cU+-cM;cW[3]=cV+cN;this.$c(cW,4,L.c.get('halo_color').gv(cI)[cK],true)}}break}case'normalOn':{var cX=L.c.get('size').gv(cI)*0.958333333333333/2;var cY=0.899999976158142*cX;var cZ=L.c.get('size').gv(cI)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var da=cG;var db=cH;var dc=new Array(4);dc[0]=da+0;dc[1]=db+-cX;dc[2]=da+0;dc[3]=db+cX;this.$c(dc,2,L.getMarkColors(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var dd=cG;var de=cH;var df=new Array(4);df[0]=dd+-cY;df[1]=de+-cZ;df[2]=dd+cY;df[3]=de+cZ;this.$c(df,2,L.getMarkColors(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var dg=cG;var dh=cH;var di=new Array(4);di[0]=dg+cY;di[1]=dh+-cZ;di[2]=dg+-cY;di[3]=dh+cZ;this.$c(di,2,L.getMarkColors(cI)[cK],true)}}break}case'selectedUnder':{var dj=L.c.get('size').gv(cI)*0.958333333333333/2;var dk=0.899999976158142*dj;var dl=L.c.get('size').gv(cI)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var dm=cG;var dn=cH;var dp=new Array(4);dp[0]=dm+0;dp[1]=dn+-dj;dp[2]=dm+0;dp[3]=dn+dj;this.$c(dp,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var dq=cG;var dr=cH;var ds=new Array(4);ds[0]=dq+-dk;ds[1]=dr+-dl;ds[2]=dq+dk;ds[3]=dr+dl;this.$c(ds,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var dt=cG;var du=cH;var dv=new Array(4);dv[0]=dt+dk;dv[1]=du+-dl;dv[2]=dt+-dk;dv[3]=du+dl;this.$c(dv,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}break}default:{break}}},$u:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var cM=cG;var cN=cH;var cO=new Array(4);cO[0]=cM+0;cO[1]=cN+-cL;cO[2]=cM+0;cO[3]=cN+cL;this.$c(cO,4,L.c.get('halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var cP=cG;var cQ=cH;var cR=new Array(4);cR[0]=cP+-cL;cR[1]=cQ+0;cR[2]=cP+cL;cR[3]=cQ+0;this.$c(cR,4,L.c.get('halo_color').gv(cI)[cK],true)}}break}case'normalOn':{var cS=L.c.get('size').gv(cI)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var cT=cG;var cU=cH;var cV=new Array(4);cV[0]=cT+0;cV[1]=cU+-cS;cV[2]=cT+0;cV[3]=cU+cS;this.$c(cV,2,L.getMarkColors(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var cW=cG;var cX=cH;var cY=new Array(4);cY[0]=cW+-cS;cY[1]=cX+0;cY[2]=cW+cS;cY[3]=cX+0;this.$c(cY,2,L.getMarkColors(cI)[cK],true)}}break}case'selectedUnder':{var cZ=L.c.get('size').gv(cI)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var da=cG;var db=cH;var dc=new Array(4);dc[0]=da+0;dc[1]=db+-cZ;dc[2]=da+0;dc[3]=db+cZ;this.$c(dc,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var dd=cG;var de=cH;var df=new Array(4);df[0]=dd+-cZ;df[1]=de+0;df[2]=dd+cZ;df[3]=de+0;this.$c(df,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}break}default:{break}}},$n:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.9375/2;var cM=cL/3;{{var cN=cG;var cO=cH;var cP=new Array(24);cP[0]=cN+-cM;cP[1]=cO+-cL;cP[2]=cN+-cM;cP[3]=cO+-cM;cP[4]=cN+-cL;cP[5]=cO+-cM;cP[6]=cN+-cL;cP[7]=cO+cM;cP[8]=cN+-cM;cP[9]=cO+cM;cP[10]=cN+-cM;cP[11]=cO+cL;cP[12]=cN+cM;cP[13]=cO+cL;cP[14]=cN+cM;cP[15]=cO+cM;cP[16]=cN+cL;cP[17]=cO+cM;cP[18]=cN+cL;cP[19]=cO+-cM;cP[20]=cN+cM;cP[21]=cO+-cM;cP[22]=cN+cM;cP[23]=cO+-cL;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cI)*0.9375/2;var cR=cQ/3;{{var cS=cG;var cT=cH;var cU=new Array(24);cU[0]=cS+-cR;cU[1]=cT+-cQ;cU[2]=cS+-cR;cU[3]=cT+-cR;cU[4]=cS+-cQ;cU[5]=cT+-cR;cU[6]=cS+-cQ;cU[7]=cT+cR;cU[8]=cS+-cR;cU[9]=cT+cR;cU[10]=cS+-cR;cU[11]=cT+cQ;cU[12]=cS+cR;cU[13]=cT+cQ;cU[14]=cS+cR;cU[15]=cT+cR;cU[16]=cS+cQ;cU[17]=cT+cR;cU[18]=cS+cQ;cU[19]=cT+-cR;cU[20]=cS+cR;cU[21]=cT+-cR;cU[22]=cS+cR;cU[23]=cT+-cQ;this.$b(cU,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cV=L.c.get('size').gv(cI)*0.9375/2;var cW=cV/3;{{var cX=cG;var cY=cH;var cZ=new Array(24);cZ[0]=cX+-cW;cZ[1]=cY+-cV;cZ[2]=cX+-cW;cZ[3]=cY+-cW;cZ[4]=cX+-cV;cZ[5]=cY+-cW;cZ[6]=cX+-cV;cZ[7]=cY+cW;cZ[8]=cX+-cW;cZ[9]=cY+cW;cZ[10]=cX+-cW;cZ[11]=cY+cV;cZ[12]=cX+cW;cZ[13]=cY+cV;cZ[14]=cX+cW;cZ[15]=cY+cW;cZ[16]=cX+cV;cZ[17]=cY+cW;cZ[18]=cX+cV;cZ[19]=cY+-cW;cZ[20]=cX+cW;cZ[21]=cY+-cW;cZ[22]=cX+cW;cZ[23]=cY+-cV;this.get_currentContext().set_lineJoin('miter');this.$e(cZ,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$x:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.875/2;{{this.get_currentContext().set_lineCap('square');var cM=cG;var cN=cH;var cO=new Array(4);cO[0]=cM+-cL;cO[1]=cN+-cL;cO[2]=cM+cL;cO[3]=cN+cL;this.$c(cO,4,L.c.get('halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var cP=cG;var cQ=cH;var cR=new Array(4);cR[0]=cP+-cL;cR[1]=cQ+cL;cR[2]=cP+cL;cR[3]=cQ+-cL;this.$c(cR,4,L.c.get('halo_color').gv(cI)[cK],true)}}break}case'normalOn':{var cS=L.c.get('size').gv(cI)*0.875/2;{{this.get_currentContext().set_lineCap('square');var cT=cG;var cU=cH;var cV=new Array(4);cV[0]=cT+-cS;cV[1]=cU+-cS;cV[2]=cT+cS;cV[3]=cU+cS;this.$c(cV,2,L.getMarkColors(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var cW=cG;var cX=cH;var cY=new Array(4);cY[0]=cW+-cS;cY[1]=cX+cS;cY[2]=cW+cS;cY[3]=cX+-cS;this.$c(cY,2,L.getMarkColors(cI)[cK],true)}}break}case'selectedUnder':{var cZ=L.c.get('size').gv(cI)*0.875/2;{{this.get_currentContext().set_lineCap('square');var da=cG;var db=cH;var dc=new Array(4);dc[0]=da+-cZ;dc[1]=db+-cZ;dc[2]=da+cZ;dc[3]=db+cZ;this.$c(dc,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}{{this.get_currentContext().set_lineCap('square');var dd=cG;var de=cH;var df=new Array(4);df[0]=dd+-cZ;df[1]=de+cZ;df[2]=dd+cZ;df[3]=de+-cZ;this.$c(df,4,L.c.get('selected_halo_color').gv(cI)[cK],true)}}break}default:{break}}},$r:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.9375/2;var cM=L.c.get('size').gv(cI)*0.9375/4;{{var cN=cG;var cO=cH;var cP=new Array(24);cP[0]=cN+-cM;cP[1]=cO+-cL;cP[2]=cN+-cL;cP[3]=cO+-cM;cP[4]=cN+-cM;cP[5]=cO+0;cP[6]=cN+-cL;cP[7]=cO+cM;cP[8]=cN+-cM;cP[9]=cO+cL;cP[10]=cN+0;cP[11]=cO+cM;cP[12]=cN+cM;cP[13]=cO+cL;cP[14]=cN+cL;cP[15]=cO+cM;cP[16]=cN+cM;cP[17]=cO+0;cP[18]=cN+cL;cP[19]=cO+-cM;cP[20]=cN+cM;cP[21]=cO+-cL;cP[22]=cN+0;cP[23]=cO+-cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cI)*0.9375/2;var cR=L.c.get('size').gv(cI)*0.9375/4;{{var cS=cG;var cT=cH;var cU=new Array(24);cU[0]=cS+-cR;cU[1]=cT+-cQ;cU[2]=cS+-cQ;cU[3]=cT+-cR;cU[4]=cS+-cR;cU[5]=cT+0;cU[6]=cS+-cQ;cU[7]=cT+cR;cU[8]=cS+-cR;cU[9]=cT+cQ;cU[10]=cS+0;cU[11]=cT+cR;cU[12]=cS+cR;cU[13]=cT+cQ;cU[14]=cS+cQ;cU[15]=cT+cR;cU[16]=cS+cR;cU[17]=cT+0;cU[18]=cS+cQ;cU[19]=cT+-cR;cU[20]=cS+cR;cU[21]=cT+-cQ;cU[22]=cS+0;cU[23]=cT+-cR;this.$b(cU,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cV=L.c.get('size').gv(cI)*0.9375/2;var cW=L.c.get('size').gv(cI)*0.9375/4;{{var cX=cG;var cY=cH;var cZ=new Array(24);cZ[0]=cX+-cW;cZ[1]=cY+-cV;cZ[2]=cX+-cV;cZ[3]=cY+-cW;cZ[4]=cX+-cW;cZ[5]=cY+0;cZ[6]=cX+-cV;cZ[7]=cY+cW;cZ[8]=cX+-cW;cZ[9]=cY+cV;cZ[10]=cX+0;cZ[11]=cY+cW;cZ[12]=cX+cW;cZ[13]=cY+cV;cZ[14]=cX+cV;cZ[15]=cY+cW;cZ[16]=cX+cW;cZ[17]=cY+0;cZ[18]=cX+cV;cZ[19]=cY+-cW;cZ[20]=cX+cW;cZ[21]=cY+-cV;cZ[22]=cX+0;cZ[23]=cY+-cW;this.get_currentContext().set_lineJoin('miter');this.$e(cZ,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$h:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*1.04166666666667/2;{{var cM=cG;var cN=cH;var cO=new Array(8);cO[0]=cM+0;cO[1]=cN+-cL;cO[2]=cM+-cL;cO[3]=cN+0;cO[4]=cM+0;cO[5]=cN+cL;cO[6]=cM+cL;cO[7]=cN+0;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*1.04166666666667/2;{{var cQ=cG;var cR=cH;var cS=new Array(8);cS[0]=cQ+0;cS[1]=cR+-cP;cS[2]=cQ+-cP;cS[3]=cR+0;cS[4]=cQ+0;cS[5]=cR+cP;cS[6]=cQ+cP;cS[7]=cR+0;this.get_currentContext().set_lineJoin('miter');this.$e(cS,2,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*1.04166666666667/2;{{var cU=cG;var cV=cH;var cW=new Array(8);cW[0]=cU+0;cW[1]=cV+-cT;cW[2]=cU+-cT;cW[3]=cV+0;cW[4]=cU+0;cW[5]=cV+cT;cW[6]=cU+cT;cW[7]=cV+0;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$k:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*1.04166666666667/2;{{var cM=cG;var cN=cH;var cO=new Array(8);cO[0]=cM+0;cO[1]=cN+-cL;cO[2]=cM+-cL;cO[3]=cN+0;cO[4]=cM+0;cO[5]=cN+cL;cO[6]=cM+cL;cO[7]=cN+0;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*1.04166666666667/2;{{var cQ=cG;var cR=cH;var cS=new Array(8);cS[0]=cQ+0;cS[1]=cR+-cP;cS[2]=cQ+-cP;cS[3]=cR+0;cS[4]=cQ+0;cS[5]=cR+cP;cS[6]=cQ+cP;cS[7]=cR+0;this.$b(cS,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*1.04166666666667/2;{{var cU=cG;var cV=cH;var cW=new Array(8);cW[0]=cU+0;cW[1]=cV+-cT;cW[2]=cU+-cT;cW[3]=cV+0;cW[4]=cU+0;cW[5]=cV+cT;cW[6]=cU+cT;cW[7]=cV+0;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$y:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+0;cO[1]=cN+-cL;cO[2]=cM+-cL;cO[3]=cN+cL;cO[4]=cM+cL;cO[5]=cN+cL;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+0;cS[1]=cR+-cP;cS[2]=cQ+-cP;cS[3]=cR+cP;cS[4]=cQ+cP;cS[5]=cR+cP;this.get_currentContext().set_lineJoin('miter');this.$e(cS,2,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+0;cW[1]=cV+-cT;cW[2]=cU+-cT;cW[3]=cV+cT;cW[4]=cU+cT;cW[5]=cV+cT;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$s:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+0;cO[1]=cN+-cL;cO[2]=cM+-cL;cO[3]=cN+cL;cO[4]=cM+cL;cO[5]=cN+cL;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+0;cS[1]=cR+-cP;cS[2]=cQ+-cP;cS[3]=cR+cP;cS[4]=cQ+cP;cS[5]=cR+cP;this.$b(cS,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+0;cW[1]=cV+-cT;cW[2]=cU+-cT;cW[3]=cV+cT;cW[4]=cU+cT;cW[5]=cV+cT;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$i:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+0;cO[1]=cN+cL;cO[2]=cM+-cL;cO[3]=cN+-cL;cO[4]=cM+cL;cO[5]=cN+-cL;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+0;cS[1]=cR+cP;cS[2]=cQ+-cP;cS[3]=cR+-cP;cS[4]=cQ+cP;cS[5]=cR+-cP;this.get_currentContext().set_lineJoin('miter');this.$e(cS,2,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+0;cW[1]=cV+cT;cW[2]=cU+-cT;cW[3]=cV+-cT;cW[4]=cU+cT;cW[5]=cV+-cT;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$l:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+0;cO[1]=cN+cL;cO[2]=cM+-cL;cO[3]=cN+-cL;cO[4]=cM+cL;cO[5]=cN+-cL;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+0;cS[1]=cR+cP;cS[2]=cQ+-cP;cS[3]=cR+-cP;cS[4]=cQ+cP;cS[5]=cR+-cP;this.$b(cS,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+0;cW[1]=cV+L.c.get('size').gv(cI)*0.916666666666667/2;cW[2]=cU+-cT;cW[3]=cV+-cT;cW[4]=cU+cT;cW[5]=cV+-cT;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$t:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+-cL;cO[1]=cN+0;cO[2]=cM+cL;cO[3]=cN+-cL;cO[4]=cM+cL;cO[5]=cN+cL;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+-cP;cS[1]=cR+0;cS[2]=cQ+cP;cS[3]=cR+-cP;cS[4]=cQ+cP;cS[5]=cR+cP;this.get_currentContext().set_lineJoin('miter');this.$e(cS,2,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+-cT;cW[1]=cV+0;cW[2]=cU+cT;cW[3]=cV+-cT;cW[4]=cU+cT;cW[5]=cV+cT;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$m:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+-cL;cO[1]=cN+0;cO[2]=cM+cL;cO[3]=cN+-cL;cO[4]=cM+cL;cO[5]=cN+cL;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+-cP;cS[1]=cR+0;cS[2]=cQ+cP;cS[3]=cR+-cP;cS[4]=cQ+cP;cS[5]=cR+cP;this.$b(cS,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+-cT;cW[1]=cV+0;cW[2]=cU+cT;cW[3]=cV+-cT;cW[4]=cU+cT;cW[5]=cV+cT;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$v:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+-cL;cO[1]=cN+-cL;cO[2]=cM+-cL;cO[3]=cN+cL;cO[4]=cM+cL;cO[5]=cN+0;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+-cP;cS[1]=cR+-cP;cS[2]=cQ+-cP;cS[3]=cR+cP;cS[4]=cQ+cP;cS[5]=cR+0;this.get_currentContext().set_lineJoin('miter');this.$e(cS,2,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.895833333333333/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+-cT;cW[1]=cV+-cT;cW[2]=cU+-cT;cW[3]=cV+cT;cW[4]=cU+cT;cW[5]=cV+0;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$o:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cM=cG;var cN=cH;var cO=new Array(6);cO[0]=cM+-cL;cO[1]=cN+-cL;cO[2]=cM+-cL;cO[3]=cN+cL;cO[4]=cM+cL;cO[5]=cN+0;this.get_currentContext().set_lineJoin('miter');this.$e(cO,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cP=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cQ=cG;var cR=cH;var cS=new Array(6);cS[0]=cQ+-cP;cS[1]=cR+-cP;cS[2]=cQ+-cP;cS[3]=cR+cP;cS[4]=cQ+cP;cS[5]=cR+0;this.$b(cS,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cT=L.c.get('size').gv(cI)*0.916666666666667/2;{{var cU=cG;var cV=cH;var cW=new Array(6);cW[0]=cU+-cT;cW[1]=cV+-cT;cW[2]=cU+-cT;cW[3]=cV+cT;cW[4]=cU+cT;cW[5]=cV+0;this.get_currentContext().set_lineJoin('miter');this.$e(cW,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},$q:function(L,cG,cH,cI,cJ,cK){switch(cJ){case'normalUnder':{var cL=L.c.get('size').gv(cI)*1.09166666666667;var cM=cL/2;var cN=cL*0.3877;{{var cO=cG;var cP=cH;var cQ=new Array(20);cQ[0]=cO+0;cQ[1]=cP+(-cM+cL*0.0246);cQ[2]=cO+(-cM+cL*0.3817);cQ[3]=cP+(-cM+cN);cQ[4]=cO+-cM;cQ[5]=cP+(-cM+cN);cQ[6]=cO+(-cM+cL*0.3088);cQ[7]=cP+(-cM+cL*0.612);cQ[8]=cO+(-cM+cL*0.1909);cQ[9]=cP+(-cM+cL*0.9751);cQ[10]=cO+0;cQ[11]=cP+(-cM+cL*0.7507);cQ[12]=cO+(-cM+cL*0.8085);cQ[13]=cP+(-cM+cL*0.9751);cQ[14]=cO+(-cM+cL*0.6905);cQ[15]=cP+(-cM+cL*0.612);cQ[16]=cO+cM;cQ[17]=cP+(-cM+cN);cQ[18]=cO+(-cM+cL*0.6176);cQ[19]=cP+(-cM+cN);this.get_currentContext().set_lineJoin('miter');this.$e(cQ,4,L.c.get('halo_color').gv(cI)[cK])}}break}case'normalOn':{var cR=L.c.get('size').gv(cI)*1.09166666666667;var cS=cR/2;var cT=cR*0.3877;{{var cU=cG;var cV=cH;var cW=new Array(20);cW[0]=cU+0;cW[1]=cV+(-cS+cR*0.0246);cW[2]=cU+(-cS+cR*0.3817);cW[3]=cV+(-cS+cT);cW[4]=cU+-cS;cW[5]=cV+(-cS+cT);cW[6]=cU+(-cS+cR*0.3088);cW[7]=cV+(-cS+cR*0.612);cW[8]=cU+(-cS+cR*0.1909);cW[9]=cV+(-cS+cR*0.9751);cW[10]=cU+0;cW[11]=cV+(-cS+cR*0.7507);cW[12]=cU+(-cS+cR*0.8085);cW[13]=cV+(-cS+cR*0.9751);cW[14]=cU+(-cS+cR*0.6905);cW[15]=cV+(-cS+cR*0.612);cW[16]=cU+cS;cW[17]=cV+(-cS+cT);cW[18]=cU+(-cS+cR*0.6176);cW[19]=cV+(-cS+cT);this.$b(cW,L.getMarkColors(cI)[cK])}}break}case'selectedUnder':{var cX=L.c.get('size').gv(cI)*1.09166666666667;var cY=cX/2;var cZ=cX*0.3877;{{var da=cG;var db=cH;var dc=new Array(20);dc[0]=da+0;dc[1]=db+(-cY+cX*0.0246);dc[2]=da+(-cY+cX*0.3817);dc[3]=db+(-cY+cZ);dc[4]=da+-cY;dc[5]=db+(-cY+cZ);dc[6]=da+(-cY+cX*0.3088);dc[7]=db+(-cY+cX*0.612);dc[8]=da+(-cY+cX*0.1909);dc[9]=db+(-cY+cX*0.9751);dc[10]=da+0;dc[11]=db+(-cY+cX*0.7507);dc[12]=da+(-cY+cX*0.8085);dc[13]=db+(-cY+cX*0.9751);dc[14]=da+(-cY+cX*0.6905);dc[15]=db+(-cY+cX*0.612);dc[16]=da+cY;dc[17]=db+(-cY+cZ);dc[18]=da+(-cY+cX*0.6176);dc[19]=db+(-cY+cZ);this.get_currentContext().set_lineJoin('miter');this.$e(dc,4,L.c.get('selected_halo_color').gv(cI)[cK])}}break}default:{break}}},drawPredictionBandLayer:function(L,cG,cH,cI,cJ,cK){switch(cH){case'normalUnder':{var cL=cJ.qrgbColor;if(L.isTupleVisible(cJ.tupleIds[cG])){if((cG===0||!L.isTupleVisible(cJ.tupleIds[cG-1]))&&(cG+1>=cJ.upperEnd.length||!L.isTupleVisible(cJ.tupleIds[cG+1]))){var cM=ss.Int32.div(cJ.widths[cG],2)+2.5;if(cJ.useYAxis){var cN=L.thisDomainToPixelY(cJ.upperEnd[cG]);var cO=L.thisDomainToPixelY(cJ.lowerEnd[cG]);var cP=L.thisDomainToPixelX(cJ.oppositeAxis[cG]);{var cQ=[cP-cM,cN,cP-cM,cO,cP+cM,cO,cP+cM,cN];this.$b(cQ,L.getOneColorAlpha(cL,cI,cK))}}else{var cR=L.thisDomainToPixelX(cJ.upperEnd[cG]);var cS=L.thisDomainToPixelX(cJ.lowerEnd[cG]);var cT=L.thisDomainToPixelY(cJ.oppositeAxis[cG]);{var cU=[cR,cT-cM,cS,cT-cM,cS,cT+cM,cR,cT+cM];this.$b(cU,L.getOneColorAlpha(cL,cI,cK))}}}else if(cG+1<cJ.tupleIds.length&&L.isTupleVisible(cJ.tupleIds[cG+1])){var cV=L.lineInterpolation;if(cJ.useYAxis){var cW=L.thisDomainToPixelY(cJ.upperEnd[cG]);var cX=L.thisDomainToPixelY(cJ.lowerEnd[cG]);var cY=L.thisDomainToPixelX(cJ.oppositeAxis[cG]);var cZ=L.thisDomainToPixelX(cJ.oppositeAxis[cG+1]);if(cV==='lim-step'||cV==='lim-jump'){{var da=[cY,cX,cZ,cX,cZ,cW,cY,cW];this.$b(da,L.getOneColorAlpha(cL,cI,cK))}}else{var db=L.thisDomainToPixelY(cJ.upperEnd[cG+1]);var dc=L.thisDomainToPixelY(cJ.lowerEnd[cG+1]);{var dd=[cY,cX,cZ,dc,cZ,db,cY,cW];this.$b(dd,L.getOneColorAlpha(cL,cI,cK))}}}else{var de=L.thisDomainToPixelX(cJ.upperEnd[cG]);var df=L.thisDomainToPixelX(cJ.lowerEnd[cG]);var dg=L.thisDomainToPixelX(cJ.upperEnd[cG+1]);var dh=L.thisDomainToPixelX(cJ.lowerEnd[cG+1]);var di=L.thisDomainToPixelY(cJ.oppositeAxis[cG]);var dj=L.thisDomainToPixelY(cJ.oppositeAxis[cG+1]);if(cV==='lim-step'||cV==='lim-jump'){{var dk=[df,di,df,dj,de,dj,de,di];this.$b(dk,L.getOneColorAlpha(cL,cI,cK))}}else{{var dl=[df,di,dh,dj,dg,dj,de,di];this.$b(dl,L.getOneColorAlpha(cL,cI,cK))}}}}}break}}},renderPredictionBand:function(L,cG,cH,cI){var cJ='colorOverrideNone';var cK=255;var cL=cH;var cM=0;var cN=1;var cO=2;var cP=cM;for(var cQ=0;cQ<cL.lineTupleIds.length;cQ++){var cR=cL.lineTupleIds[cQ];if(L.isTupleSelected(cR)){cP=cO;break}if(cP!==cN&&L.isTupleHighlighted(cR)){cP=cN}}if(cP!==cO){for(var cS=0;cS<cL.tupleIds.length;cS++){var cT=cL.tupleIds[cS];if(L.isTupleSelected(cT)){cP=cO;break}if(cP!==cN&&L.isTupleHighlighted(cT)){cP=cN}}}switch(cG){case'normalUnderPass':{if(cP===cM&&cI==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){cJ='colorOverrideFog'}else{cJ='colorOverrideNone'}var cU=cL.tupleIds.length;for(var cV=0;cV<cU;cV++){this.drawPredictionBandLayer(L,cV,'normalUnder',cJ,cL,cK)}}break}case'highlightedUnderPass':{if(cP===cN&&cI==='underMark'){var cW=cL.tupleIds.length;for(var cX=0;cX<cW;cX++){if(L.isTupleHighlighted(cL.tupleIds[cX])&&((cX===0||!L.isTupleVisible(cL.tupleIds[cX-1]))&&(cX+1>=cL.upperEnd.length||!L.isTupleVisible(cL.tupleIds[cX+1]))||cX+1<cL.tupleIds.length&&L.isTupleVisible(cL.tupleIds[cX+1])&&L.isTupleHighlighted(cL.tupleIds[cX+1]))){cJ='colorOverrideNone'}else{cJ='colorOverrideFog'}this.drawPredictionBandLayer(L,cX,'normalUnder',cJ,cL,cK)}}break}case'selectedUnderPass':{if(cP===cO&&cI==='underMark'){cJ='colorOverrideReplaceAlpha';cK=76.5;var cY=cL.tupleIds.length;for(var cZ=0;cZ<cY;cZ++){this.drawPredictionBandLayer(L,cZ,'normalUnder',cJ,cL,cK)}}break}}},drawPredictionWhiskerLayer:function(L,cG,cH,cI,cJ,cK){switch(cH){case'border':{if(L.isTupleVisible(cJ.tupleIds[cG])){var cL=ss.Int32.div(cJ.widths[cG]-1,2);if(cJ.useYAxis){var cM=ss.Int32.trunc(L.thisDomainToPixelX(cJ.oppositeAxis[cG]));var cN=ss.Int32.trunc(L.thisDomainToPixelY(cJ.upperEnd[cG]));var cO=ss.Int32.trunc(L.thisDomainToPixelY(cJ.lowerEnd[cG]));var cP=cN-0.5;var cQ=cO+1.5;var cR=cM-0.5-cL;var cS=cM+1.5+cL;var cT=cN+1.5;var cU=cO-0.5;var cV=cM-0.5;var cW=cM+1.5;{var cX=[cR,cP,cS,cP,cS,cT,cW,cT,cW,cU,cS,cU,cS,cQ,cR,cQ,cR,cU,cV,cU,cV,cT,cR,cT];this.renderLineLoop(cX,1,L.getOneColorAlpha(cJ.qrgbColor,cI,cK))}}else{var cY=ss.Int32.trunc(L.thisDomainToPixelY(cJ.oppositeAxis[cG]));var cZ=ss.Int32.trunc(L.thisDomainToPixelX(cJ.lowerEnd[cG]));var da=ss.Int32.trunc(L.thisDomainToPixelX(cJ.upperEnd[cG]));var db=cY-0.5-cL;var dc=cY+1.5+cL;var dd=cZ-0.5;var de=da+1.5;var df=cY-0.5;var dg=cY+1.5;var dh=cZ+1.5;var di=da-0.5;{var dj=[dd,db,dh,db,dh,df,di,df,di,db,de,db,de,dc,di,dc,di,dg,dh,dg,dh,dc,dd,dc];this.renderLineLoop(dj,1,L.getOneColorAlpha(cJ.qrgbColor,cI,cK))}}}break}case'normalUnder':{if(L.isTupleVisible(cJ.tupleIds[cG])){var dk=ss.Int32.div(cJ.widths[cG]-1,2);var dl=cJ.qrgbColors[cG];if(cJ.useYAxis){var dm=ss.Int32.trunc(L.thisDomainToPixelX(cJ.oppositeAxis[cG]));var dn=ss.Int32.trunc(L.thisDomainToPixelY(cJ.upperEnd[cG]));var dp=ss.Int32.trunc(L.thisDomainToPixelY(cJ.lowerEnd[cG]));{var dq=[dm-dk,dn+0.5,dm+dk+1,dn+0.5];this.$c(dq,1,L.getOneColorAlpha(dl,cI,cK),false)}{var dr=[dm-dk,dp+0.5,dm+dk+1,dp+0.5];this.$c(dr,1,L.getOneColorAlpha(dl,cI,cK),false)}{var ds=[dm+0.5,dn+1,dm+0.5,dp];this.$c(ds,1,L.getOneColorAlpha(dl,cI,cK),false)}}else{var dt=ss.Int32.trunc(L.thisDomainToPixelY(cJ.oppositeAxis[cG]));var du=ss.Int32.trunc(L.thisDomainToPixelX(cJ.lowerEnd[cG]));var dv=ss.Int32.trunc(L.thisDomainToPixelX(cJ.upperEnd[cG]));{var dw=[du+0.5,dt-dk,du+0.5,dt+dk+1];this.$c(dw,1,L.getOneColorAlpha(dl,cI,cK),false)}{var dx=[dv+0.5,dt-dk,dv+0.5,dt+dk+1];this.$c(dx,1,L.getOneColorAlpha(dl,cI,cK),false)}{var dy=[du+1,dt+0.5,dv,dt+0.5];this.$c(dy,1,L.getOneColorAlpha(dl,cI,cK),false)}}}break}}},renderPredictionWhisker:function(L,cG,cH,cI){var cJ='colorOverrideNone';var cK=255;var cL=cH;switch(cG){case'normalUnderPass':{if(!cL.renderOnTop&&cI==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){cJ='colorOverrideFog'}else{cJ='colorOverrideNone'}var cM=cL.tupleIds.length;for(var cN=0;cN<cM;cN++){if(!L.isTupleHighlighted(cL.tupleIds[cN])&&!L.isTupleSelected(cL.tupleIds[cN])){this.drawPredictionWhiskerLayer(L,cN,'border',cJ,cL,cK);this.drawPredictionWhiskerLayer(L,cN,'normalUnder',cJ,cL,cK)}}}break}case'normalOnPass':{if(cL.renderOnTop&&cI==='underLabel'){if(L.get_hasSelection()||L.get_hasBrushing()){cJ='colorOverrideFog'}else{cJ='colorOverrideNone'}var cO=cL.tupleIds.length;for(var cP=0;cP<cO;cP++){if(!L.isTupleHighlighted(cL.tupleIds[cP])&&!L.isTupleSelected(cL.tupleIds[cP])){this.drawPredictionWhiskerLayer(L,cP,'border',cJ,cL,cK);this.drawPredictionWhiskerLayer(L,cP,'normalUnder',cJ,cL,cK)}}}break}case'selectedUnderPass':{if(!cL.renderOnTop&&cI==='underMark'){var cQ=cL.tupleIds.length;for(var cR=0;cR<cQ;cR++){if(L.isTupleSelected(cL.tupleIds[cR])){cJ='colorOverrideReplaceAlpha';cK=63.75;this.drawPredictionWhiskerLayer(L,cR,'border',cJ,cL,cK);cJ='colorOverrideReplaceAlpha';cK=cL.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,cR,'normalUnder',cJ,cL,cK)}}}break}case'selectedOnPass':{if(cL.renderOnTop&&cI==='underLabel'){var cS=cL.tupleIds.length;for(var cT=0;cT<cS;cT++){if(L.isTupleSelected(cL.tupleIds[cT])){cJ='colorOverrideReplaceAlpha';cK=63.75;this.drawPredictionWhiskerLayer(L,cT,'border',cJ,cL,cK);cJ='colorOverrideReplaceAlpha';cK=cL.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,cT,'normalUnder',cJ,cL,cK)}}}break}case'highlightedUnderPass':{if(!cL.renderOnTop&&cI==='underMark'){cJ='colorOverrideNone';var cU=cL.tupleIds.length;for(var cV=0;cV<cU;cV++){if(L.isTupleHighlighted(cL.tupleIds[cV])){this.drawPredictionWhiskerLayer(L,cV,'border',cJ,cL,cK);this.drawPredictionWhiskerLayer(L,cV,'normalUnder',cJ,cL,cK)}}}break}case'highlightedOnPass':{if(cL.renderOnTop&&cI==='underLabel'){cJ='colorOverrideNone';var cW=cL.tupleIds.length;for(var cX=0;cX<cW;cX++){if(L.isTupleHighlighted(cL.tupleIds[cX])){this.drawPredictionWhiskerLayer(L,cX,'border',cJ,cL,cK);this.drawPredictionWhiskerLayer(L,cX,'normalUnder',cJ,cL,cK)}}}break}}},$9:function(L,cG,cH,cI,cJ){var cK=1;var cL=2*cK;return!tab.RectXYUtil.completelyContains$1(L,ss.Int32.trunc(cG)-cK,ss.Int32.trunc(cH)-cK,ss.Int32.trunc(cI)+cL,ss.Int32.trunc(cJ)+cL)},clipRect:function(L,cG,cH,cI,cJ){if(L===0){return}this.get_currentContext().setClip(bC.$4(L,cG,cH,cI,cJ))},$c:function(L,cG,cH,cI){var cJ=this.get_currentContext();cJ.set_linePattern('solid');cJ.set_lineWidth(cG);cJ.set_strokeStyle(cH);tab.CanvasRenderer.strokePath(cJ,L,false,cI)},renderLineLoop:function(L,cG,cH){var cI=this.get_currentContext();cI.set_linePattern('solid');cI.set_lineWidth(cG);cI.set_strokeStyle(cH);tab.CanvasRenderer.strokePath(cI,L,true,false)},$d:function(L,cG,cH,cI,cJ,cK,cL,cM){var cN=this.get_currentContext();cN.set_linePattern('solid');cN.set_lineWidth(cM);cN.set_strokeStyle(cL);var cO=Math.atan2(cI-cH,cG-L);var cP=Math.cos(cO);var cQ=Math.sin(cO);cJ/=2;cK/=2;var cR=cJ*cQ;var cS=cK*cQ;var cT=cJ*cP;var cU=cK*cP;cN.beginPath();cN.moveTo(L+cR,cH-cT);cN.lineTo(cG+cS,cI-cU);cN.lineTo(cG-cS,cI+cU);cN.lineTo(L-cR,cH+cT);cN.closePath();cN.stroke()},$a:function(L,cG,cH,cI,cJ,cK,cL,cM){var cN;var cO=this.get_currentContext();if(ss.referenceEquals(cL,cM)){cN=cL}else{var cP=cO.createLinearGradient(L,cH,cG,cI);cP.addColorStop(0,cL);cP.addColorStop(1,cM);cN=cP}if(cJ===cK){cO.set_lineWidth(cJ);cO.set_linePattern('solid');cO.set_strokeStyle(cN);cO.beginPath();cO.moveTo(L,cH);cO.lineTo(cG,cI);cO.closePath();cO.stroke()}else{var cQ=Math.atan2(cI-cH,cG-L);var cR=Math.cos(cQ);var cS=Math.sin(cQ);cJ/=2;cK/=2;var cT=cJ*cS;var cU=cK*cS;var cV=cJ*cR;var cW=cK*cR;cO.beginPath();cO.moveTo(L+cT,cH-cV);cO.lineTo(cG+cU,cI-cW);cO.lineTo(cG-cU,cI+cW);cO.lineTo(L-cT,cH+cV);cO.closePath();cO.set_shapeFillStyle(cN);cO.fill()}},$e:function(L,cG,cH){var cI=this.get_currentContext();cI.set_lineWidth(cG);cI.set_strokeStyle(cH);tab.CanvasRenderer.strokePath(cI,L,true,true)},$b:function(L,cG){var cH=this.get_currentContext();cH.set_shapeFillStyle(cG);tab.CanvasRenderer.fillPath(cH,L,true)},$A:function(L){this.get_currentContext().set_shapeFillStyle(L.$6(0,-1,'colorOverrideNone'));var cG=this.createStyleSettersAndSetDominantStyle(L.get_textStyleColumns());return cG}},tab.CanvasRenderer);ss.initClass(R,a,{get_currentContext:function(){if(ss.isValue(this.$C)){return this.$C}return tab.CanvasRenderer.prototype.get_currentContext.call(this)},$B:function(L){var cG={dataValues:new Array(L)};return cG},containsShape:function(L){return ss.isValue(this.$E[L.toString()])},renderSwatch:function(L,cG,cH){this.$C=L;var cI=(cH?'colorOverrideFog':'colorOverrideOpaque');this.drawShapeMarkLayer(this.$D,this.$E[cG.toString()],'normalOn',cI)}},bC);ss.initEnum(S,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initClass(T,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(L){this.$8=L},get_paneKey:function(){return this.$6},set_paneKey:function(L){this.$6=L},get_paneIndex:function(){return this.$5},set_paneIndex:function(L){this.$5=L},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(L){this.$7=L},addNode:function(L){this.$1.push(L);L.set_parent(this)},addNodes:function(L){ss.arrayAddRange(this.$1,L);for(var cG=0;cG<L.length;cG++){var cH=L[cG];cH.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initClass(U,a,{$0:function(L,cG,cH){var cI=[];if(L.length===0){return cI}var cJ=new Array;for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=this.$1[cL];if(ss.isValue(cM)){cJ.push(cM.hitTest(cG,cH))}}do cI=[Z.tieBreakHits(cJ.pop(),cI)];while(cJ.length>0);return cI},getHitTestLink:function(L){return this.$1[L]},onTapHitTest:function(L,cG){return this.$0(this.$3,L,cG)},onHoverHitTest:function(L,cG){return this.$0(this.$2,L,cG)},clearCache:function(){var L=ss.getEnumerator(Object.keys(this.$1));try{while(L.moveNext()){var cG=L.current();this.$1[cG].clearCache()}}finally{L.dispose()}}});ss.initClass(V,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(L){this.clear();this.$0(L)},debugDrawBoundingBoxesHierarchies:function(L){this.clear();for(var cG=0;cG<L.length;cG++){var cH=L[cG];this.$0(cH)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(L){var cG=new Array;cG.push(L);while(cG.length>0){var cH=cG.shift();if(cH.get_nodeType()===2){var cI=cH.get_boundingBox();this.get_context2D().save();if(V.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(cI.x,cI.y,cI.w,cI.h);this.get_context2D().restore();++V.$0}if(cH.get_nodeType()===3||cH.get_nodeType()===5){var cJ=cH.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(cJ.x,cJ.y,cJ.w,cJ.h);this.get_context2D().restore()}if(cH.get_nodeType()===4){var cK=cH.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(cK.x,cK.y,cK.w,cK.h);this.get_context2D().restore()}var cL=cH.get_children();cL.forEach(function(cM){cG.push(cM)})}}});ss.initClass(W,a,{hitTestPanes:function(L){var cG=[];var cH=new Array;cH.push(this.$5);while(cH.length>0){var cI=cH.pop();var cJ=tab.RectXYUtil.intersectsWith(cI.get_boundingBox(),L);if(cJ){if(cI.get_nodeType()===1){cG.push(cI.get_paneKey())}else{var cK=cI.get_children();cK.forEach(function(cL){cH.push(cL)})}}}return cG},hitTest:function(L,cG,cH){if(tab.RectXYUtil.isEmpty(L)){return[]}var cI=this.hitTestBoundingBoxes(L,cG,cH);return(cG?this.hitTestSingle(L,cH,cI):this.$1(L,cH,cI))},hitTestSingle:function(L,cG,cH){var cI=L.x+ss.Int32.div(L.w,2);var cJ=L.y+ss.Int32.div(L.h,2);var cK={};var cL=[];for(var cM=cH.length-1;cM>=0;cM--){var cN=cH[cM];if(cN.get_objectId()<0){continue}var cO=T.findPaneNode(cN);if(ss.isNullOrUndefined(cO)){continue}if(ss.isNullOrUndefined(cK[cO.get_paneIndex()])){cK[cO.get_paneIndex()]=[];cL.push(cO)}cK[cO.get_paneIndex()].push(cN)}var cP=[];var cQ=[];var cR={};for(var cS=0;cS<cL.length;cS++){var cT=cL[cS];var cU=cG.getPaneDrawInfoFromKey(cT.get_paneKey());var cV=tab.RectXYUtil.offsetRect(L,{x:-cU.paneRect.x,y:-cU.paneRect.y});var cW=cK[cT.get_paneIndex()];for(var cX=0;cX<cW.length;cX++){var cY=cW[cX];var cZ=cU.getMarkState(cY.get_objectId());var da=cY.get_worldOffset();var db=cU.c.get('tuple_id').gv(cY.get_objectId());var dc=false;if(ss.isValue(cY.get_labelBox())){dc=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cY.get_labelBox(),L)}if(dc){cP.push(new Z.$ctor1(db,8,3));cR[db]={item1:cT.get_paneOrderIndex(),item2:cZ}}var dd=W.$0(cU,cV,cY.get_objectId(),da,cU.markType);if(dd){cP.push(new Z.$ctor1(db,7,3));cR[db]={item1:cT.get_paneOrderIndex(),item2:cZ}}else if(cP.length===0){var de=W.$1(cU,cV,cY.get_objectId(),da,cU.markType);if(de){var df;switch(cU.markType){case'line':{df=bC.lineMarkGetDistanceToMark(cU,cI,cJ,cY.get_objectId());break}case'bar':case'square':{df=bC.barMarkGetDistanceToMark(cU,cI,cJ,cY.get_objectId());break}case'shape':{df=bC.shapeMarkGetDistanceToMark(cU,cI,cJ,cY.get_objectId());break}case'text':{df=bC.textMarkGetDistanceToMark(cU,cI,cJ,cY.get_objectId());break}case'area':{df=bC.areaMarkGetDistanceToMark(cU,cI,cJ,cY.get_objectId());break}default:{df=O.getSquaredDistanceToCenter(cY.get_boundingBox(),{x:cI,y:cJ});break}}var dg=new Z.$ctor1(db,7,2);cQ.push({item1:dg,item2:df});cR[db]={item1:cT.get_paneOrderIndex(),item2:cZ}}else{}}}}if(cP.length>0){var dh=this.$4(cP,cR);if(dh.get_hitType()===3){return[dh]}}if(cQ.length>0){var di=this.$3(cQ,cR);if(di.get_hitType()===2){return[di]}}return[]},$1:function(L,cG,cH){var cI=[];for(var cJ=cH.length-1;cJ>=0;cJ--){var cK=cH[cJ];var cL=cK.get_objectId();if(cL<0){continue}var cM=T.findPaneNode(cK);if(ss.isNullOrUndefined(cM)){continue}var cN=cG.getPaneDrawInfoFromKey(cM.get_paneKey());var cO=W.getTransformInfo(cN,cK);var cP=W.rectangleAreaHit(cN,cK.get_boundingBox(),L,cL,cO,cN.markType);if(cP){cI.push(new Z.$ctor1(cN.c.get('tuple_id').gv(cL),7,1))}}return cI},hitTestBoundingBoxes:function(L,cG,cH){if(tab.RectXYUtil.isEmpty(L)){return[]}var cI=[];var cJ=new Array;var cK={};cJ.push(this.$5);while(cJ.length>0){var cL=cJ.pop();var cM=L;if(cG&&ss.isValue(cH)&&cL.get_nodeType()===3){var cN=T.findPaneNode(cL);if(ss.isValue(cN)){var cO=cN.get_paneKey();if(ss.keyExists(cK,cO)){cM=cK[cO]}else{var cP=cH.getPaneDrawInfoFromKey(cN.get_paneKey());if(ss.isValue(cP)){var cQ;switch(cP.markType){case'multipolygon':{cQ=bC.multipolygonMarkGetHitTestExpansion(cP,cL.get_objectId());break}case'bar':case'square':{cQ=bC.barMarkGetHitTestExpansion(cP,cL.get_objectId());break}case'shape':{cQ=bC.shapeMarkGetHitTestExpansion(cP,cL.get_objectId());break}case'text':{cQ=bC.textMarkGetHitTestExpansion(cP,cL.get_objectId());break}case'area':{cQ=bC.areaMarkGetHitTestExpansion(cP,cL.get_objectId());break}default:{cQ=null;break}}if(ss.isValue(cQ)&&!tab.SizeUtil.isEmpty(cQ)){cM=tab.RectXYUtil.outsetRectSizeF(cM,cQ)}}cK[cO]=cM}}}var cR=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cL.get_boundingBox(),cM);if(!cR&&cG&&ss.isValue(cL.get_labelBox())){cR=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cL.get_labelBox(),L)}if(cR){if(cL.get_nodeType()===3){cI.push(cL)}else{var cS=cL.get_children();cS.forEach(function(cT){cJ.push(cT)})}}}return cI},$4:function(L,cG){if(L.length===0){return Z.createEmptyHitTestResult()}var cH=Z.createEmptyHitTestResult();L.sort(function(cL,cM){return((cL.get_id()>cM.get_id())?-1:1)});for(var cI=0;cI<L.length;cI++){var cJ=L[cI];if(!ss.keyExists(cG,cJ.get_id())){continue}if(cG[cJ.get_id()].item2==='markStateInvisible'){continue}if(cH.get_hitType()===0){cH=cJ}else{var cK=this.$0(cJ.get_id(),cH.get_id(),cG);if(cK>0){cH=cJ}else if(cK===0){if(cJ.get_hitObjectType()>cH.get_hitObjectType()){cH=cJ}}}}return cH},$3:function(L,cG){if(L.length===0){return Z.createEmptyHitTestResult()}var cH=Z.createEmptyHitTestResult();var cI=null;L.sort(function(cN,cO){return((cN.item1.get_id()>cO.item1.get_id())?-1:1)});for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];var cL=cK.item1;var cM=cK.item2;if(!ss.keyExists(cG,cL.get_id())){continue}if(cG[cL.get_id()].item2==='markStateInvisible'){continue}if(cH.get_hitType()===0){cH=cL;cI=cM}else if(ss.Nullable$1.lt(cM,cI)){cH=cL;cI=cM}else if(cM===cI&&this.$0(cL.get_id(),cH.get_id(),cG)>0){cH=cL}}return cH},$0:function(L,cG,cH){var cI=cH[L];var cJ=cH[cG];var cK=this.$2(cI.item2);var cL=this.$2(cJ.item2);if(cK>cL){return 1}if(cK===cL){var cM=cI.item1;var cN=cJ.item1;if(cM>cN){return 1}if(cM===cN){return 0}}return-1},$2:function(L){switch(L){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initEnum(Y,a,{annotation:0,refLine:1,trendLine:2,marks:3});ss.initClass(Z,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 6:{return'semantic-ref-line'}case 4:case 5:{return'ref-line'}case 3:{return'trend-line'}case 7:case 8:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 6:{return'refline'}case 4:case 5:case 3:{return'visualparts'}case 7:case 8:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}},null,[tab.IHitTestResult]);Z.$ctor1.prototype=Z.prototype;ss.initClass(ba,a,{});ss.initClass(bc,a,{get_imageNode:function(){return this.$2},set_imageNode:function(L){this.$2=L},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(bd,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initInterface(be,a,{get_enabled:null,zoomOnPoint:null,anchorZoom:null,zoomRect:null,moveToBounds:null,panTo:null,updateLocalCenter:null,updateLocalMapDataForZoomAround:null,touchMove:null,touchEnd:null,pinchScale:null,splatOverlayToMapForTransition:null,createMap:null,destroyMap:null,resize:null,setScrollX:null,setScrollY:null,removeMarkOverlay:null},[ss.IDisposable]);ss.initClass(bg,a,{});ss.initInterface(bh,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(bj,a,{get_zoomToolbarContainerDiv:null,get_isMapSearchEnabled:null,get_shouldEnableZoomHomeToolbar:null,get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldShowTools:null,allowPanZoomActions:null,isVizLargerThanScreen:null});ss.initClass(bk,a,{get_enabled:function(){return ss.isValue(this.$h)&&this.$k.get_useFastMaps()},$f:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$k.get_allowLocalPanAndZoom()&&ss.isValue(this.$j)){return this.$j.$0()}else{return new L.LatLng(this.$k.get_centerLatitude(),this.$k.get_centerLongitude())}},$g:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$k.get_allowLocalPanAndZoom()&&ss.isValue(this.$j)){return this.$j.$2()}else{return this.$k.get_zoom()}},zoomOnPoint:function(cG,cH){var cI=$.Deferred();if(!this.get_enabled()){return cI.resolve(false)}this.$9(ss.mkdel(this,function(cJ){var cK=cF.incrementZoom(this.$g(),cH);var cL;if(ss.isNullOrUndefined(cG)){cL=cJ.getCenter()}else{cL=cJ.containerPointToLatLng(new L.Point(cG.x,cG.y))}_.defer(ss.mkdel(this,function(){this.$b(cL,cK,true).done(function(){cI.resolve(true)})}))}));return cI},anchorZoom:function(cG,cH,cI){var cJ=$.Deferred();if(!this.get_enabled()){return cJ.resolve(false)}this.$9(ss.mkdel(this,function(cK){var cL=cK.containerPointToLatLng(new L.Point(cH.x,cH.y));_.defer(ss.mkdel(this,function(){this.$c(cL,cG,cI).done(function(){cJ.resolve(true)})}))}));return cJ},zoomRect:function(cG){var cH=$.Deferred();if(!this.get_enabled()){return cH.resolve(false)}this.$9(ss.mkdel(this,function(cI){var cJ=cI.containerPointToLatLng(new L.Point(cG.x,cG.y+cG.h));var cK=cI.containerPointToLatLng(new L.Point(cG.x+cG.w,cG.y));var cL=new L.LatLngBounds(cJ,cK);var cM=new L.Point(cG.x+ss.Int32.div(cG.w,2),cG.y+ss.Int32.div(cG.h,2));var cN=cI.containerPointToLatLng(cM);var cO=this.$7(cI,cL);var cP=this.$d(cI,cO);this.$b(cN,cO,cP).done(function(){cH.resolve(cP)})}));return cH},moveToBounds:function(cG){var cH=$.Deferred();if(!this.get_enabled()){return cH.resolve(false)}this.$9(ss.mkdel(this,function(cI){var cJ=new L.LatLng(cG.minLatitude,cG.minLongitude);var cK=new L.LatLng(cG.maxLatitude,cG.maxLongitude);var cL=new L.LatLngBounds(cJ,cK);var cM=new L.LatLng((cG.maxLatitude+cG.minLatitude)*0.5,(cG.maxLongitude+cG.minLongitude)*0.5);var cN=this.$7(cI,cL);var cO=this.$d(cI,cN);this.$b(cM,cN,cO).done(ss.mkdel(this,function(){if(!cO){this.removeMarkOverlay()}cH.resolve(cO)}))}));return cH},$7:function(L,cG){var cH=L.getBoundsZoom(cG,true);return cF.resolveDesiredZoom(this.$k.get_rasterMapSourceModel(),cH)},$d:function(L,cG){return Math.abs(L.getZoom()-cG)<=2},panTo:function(cG,cH){var cI=$.Deferred();if(!this.get_enabled()){return cI.resolve(false)}this.$9(ss.mkdel(this,function(cJ){var cK=cJ.latLngToContainerPoint(this.$f());var cL=new L.Point(cK.x-cG,cK.y-cH);var cM=cJ.containerPointToLatLng(cL);var cN=new Object;cN.animate=false;var cO=cN;cJ.panTo(cM,cO);cI.resolve(true)}));return cI},updateLocalCenter:function(cG,cH){this.$9(ss.mkdel(this,function(cI){var cJ=cI.latLngToContainerPoint(this.$f());var cK=new L.Point(cJ.x-cG,cJ.y-cH);var cL=cI.containerPointToLatLng(cK);var cM=this.$g();this.$j=new m(cL,cM)}))},updateLocalMapDataForZoomAround:function(cG,cH){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')){return}this.$9(ss.mkdel(this,function(cI){var cJ=Math.pow(2,cH-this.$g());var cK=cI.getSize().divideBy(2);var cL=cI.containerPointToLatLng(new L.Point(cG.x,cG.y));var cM=(new L.Point(cL.lat,cL.lng)).subtract(cK).multiplyBy(1-1/cJ);var cN=cI.containerPointToLatLng(cK.add(cM));this.$j=new m(cN,cH)}))},touchMove:function(cG,cH,cI){if(isNaN(cI)||isNaN(cH)||isNaN(cG)){return}if(tab.DoubleUtil.isApproximatelyEqual(cI,1)&&!this.$o){this.panTo(cG,cH);return}this.$h.done(ss.mkdel(this,function(cJ){if(!this.$o){var cK=cJ.getPanes();$(cK.mapPane).addClass('leaflet-touching');$(cK.overlayPane).addClass('leaflet-touching');this.$i=new L.Point(cG,cH)}this.$o=true;tab.WindowHelper.cancelAnimationFrame(this.$q);this.$q=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=cF.combineTileZoomAndStretch(this.$g(),cI);this.$1(cJ,L,cI,cG,cH)}))}))},pinchScale:function(L,cG,cH){},touchEnd:function(L,cG,cH){this.$9(ss.mkdel(this,function(cI){this.$a(cI);if(this.$o){var cJ=cF.combineTileZoomAndStretch(this.$g(),cH);var cK=cF.resolveDesiredZoom(this.$k.get_rasterMapSourceModel(),cJ);cH=Math.pow(2,cK-this.$g());this.$1(cI,cK,cH,L,cG)}this.$o=false}))},splatOverlayToMapForTransition:function(cG){if(ss.isNullOrUndefined(this.$h)){return}var cH=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);this.$h.done(ss.mkdel(this,function(cI){if(ss.isValue(this.$n)){return}var cJ=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(cG)){cJ=1}var cK=Math.floor(2*cJ);var cL={x:cK,y:cK,w:cG.width-2*cK,h:cG.height-2*cK};var cM=Math.floor(cI.latLngToContainerPoint(bk.$1(bk.$6)).y*cJ);var cN=Math.floor(cI.latLngToContainerPoint(bk.$1(bk.$8)).y*cJ);if(cN<cG.height){cL.h=cN}if(cM>0){cL.y+=cM;cL.h-=cM}var cO=new Object;cO.pixelRatio=cJ;var cP=cO;this.$n=new L.CanvasOverlay(cI.getBounds(),cP);cI.addLayer(this.$n);var cQ=this.$n.getCanvas();var cR=tab.CanvasRenderer.getRenderContext(cQ,'transparent');var cS={x:cK,y:cK,w:cL.w,h:cL.h};cR.drawImage5(cG,cL.x,cL.y,cL.w,cL.h,cS.x,cS.y,cS.w,cS.h);cG.width=cG.width;cH.dispose()}))},createMap:function(L,cG){tab.ModuleManager.loadCss(tsConfig.external_static_asset_prefix+'/css/leaflet.css');this.$k=cG;this.$j=null;this.$p=new n;this.$p.domRoot.appendTo(L);if(ss.isValue(this.$l)){tab.DomUtil.setMarginBox(this.$p.$4(),{l:0,t:0,w:this.$l.w,h:this.$l.h})}var cH=$.Deferred();var cI=$.Deferred();this.$h=cI;tab.ModuleManager.load$1('leaflet',[]).done(ss.mkdel(this,function(cJ){this.$2(cI,cH)}));return cH},$2:function(cG,cH){if(!this.get_enabled()){cH.reject();return}var cI=(new Date).getTime();var cJ=false;var cK=bt.createLoadMapContext('Leaflet',this.$k.get_sheetName());var cL=function(){if(document.hidden){cJ=true}};document.addEventListener('visibilitychange',cL);var cM=this.$3();var cN=new L.Map(this.$p.$4(),cM);cN.once('load',function(L){cH.resolve()});cN.setView(this.$f(),this.$g());var cO=this.$5();this.$m=new L.TileLayer(this.$k.get_tileUrl(),cO);this.$m.once('load',ss.mkdel(this,function(L){if(!cJ){var cR=(new Date).getTime()-cI;bu.logMapCreateDone(this.$4(cR));cK.dispose()}document.removeEventListener('visibilitychange',cL)}));this.$e();cN.addLayer(this.$m);this.$k.add_newMapServerInfo(ss.mkdel(this,this.$8));if(this.$k.get_hasWashout()&&this.$k.get_hasValidTileLayer()){var cP=this.$k.get_washoutColor();var cQ=bk.$0(cP.toRgb());cO.opacity=cP.get_a();cN.addLayer(new L.TileLayer(cQ,cO))}this.$p.$3(this.$k);this.$0(this.$g(),false);cG.resolve(cN)},$e:function(){var L=(this.$k.get_hasValidTileLayer()?1:0);this.$m.setOpacity(L)},destroyMap:function(){var L=$.Deferred();if(ss.isValue(this.$p)){this.$p.dispose();this.$p=null}var cG=ss.mkdel(this,function(){if(ss.isValue(this.$k)){this.$k.remove_newMapServerInfo(ss.mkdel(this,this.$8));this.$k=null}L.resolve()});if(ss.isValue(this.$h)){this.$h.done(function(cH){cH.remove();cG()});this.$h=null}else{cG()}return L},$8:function(){this.$9(ss.mkdel(this,function(L){if(L._animatingZoom){window.setTimeout(ss.mkdel(this,this.$8),10)}else{this.$e();this.$j=null;var cG=this.$f();var cH=L.latLngToContainerPoint(L.getCenter());var cI=L.latLngToContainerPoint(cG);var cJ=Math.abs(L.getZoom()-this.$g());if(cJ>0.001){}var cK=cJ<0.01&&cH.distanceTo(cI)<8;this.$b(cG,this.$g(),cK);this.$6(L)}}))},$6:function(L){var cG=$(L.getPanes().tilePane).find('.leaflet-tile-container');for(var cH=0;cH<cG.length;++cH){if(!tab.MiscUtil.isNullOrEmpty$3(cG[cH].style.visibility)){L._onZoomTransitionEnd();break}}},resize:function(L,cG){var cH={w:L,h:cG};if(tab.SizeUtil.equals(cH,this.$l)){return}this.$l=cH;this.$9(ss.mkdel(this,function(cI){tab.DomUtil.setMarginBox(cI.getContainer(),{l:0,t:0,w:cH.w,h:cH.h});cI.invalidateSize(false);this.$0(this.$g(),false);this.$p.$2()}))},setScrollX:function(L){this.$9(function(cG){cG.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$9(function(cG){cG.getContainer().style.top=-L+'px'})},removeMarkOverlay:function(){if(ss.isNullOrUndefined(this.$h)){return}this.$h.done(ss.mkdel(this,function(L){if(ss.isNullOrUndefined(this.$n)){return}L.removeLayer(this.$n);this.$n=null;this.$6(L);this.$a(L)}))},dispose:function(){this.destroyMap()},$3:function(){var L=new Object;L.zoomControl=false;L.attributionControl=false;return L},$5:function(){var L=new Object;L.maxZoom=100;L.maxNativeZoom=this.$k.get_maxZoom();L.minZoom=this.$k.get_minZoom();L.continuousZoom=true;L.intermediateTileLevels=ss.isValue(this.$k.get_rasterMapSourceModel().get_intermediateTileLevels())&&this.$k.get_rasterMapSourceModel().get_intermediateTileLevels()>1;var cG=this.$k.get_rasterMapSourceModel().get_mapTileSize();L.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(cG);L.tileSize=cG;return L},$c:function(L,cG,cH){var cI=$.Deferred();var cJ=new Object;cJ.animate=cH;var cK=cJ;if(cG<0){return cI.resolve(false)}this.$h.done(ss.mkdel(this,function(cL){if(cL._animatingZoom){this.$6(cL)}cL.once('moveend',function(cM){cI.resolve(true)});cL.setZoomAround(L,cG,cK);this.$0(cG,true)}));return cI},$b:function(L,cG,cH){var cI=$.Deferred();var cJ=new Object;cJ.animate=cH;var cK=cJ;if(cG<0){return cI.resolve(false)}this.$h.done(ss.mkdel(this,function(cL){if(cL._animatingZoom){this.$6(cL)}if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')){this.$j=new m(L,cG)}cL.once('moveend',function(cM){cI.resolve(cH)});cL.setView(L,cG,cK);this.$0(cG,cH)}));return cI},$0:function(L,cG){var cH=L+tab.MapUtil.getLeafletZoomOffsetForTileSize(this.$k.get_rasterMapSourceModel().get_mapTileSize());var cI=tab.MapUtil.getVisiblePixelWidth(cH,this.$k.get_numWorldRepeats(),this.$k.get_rasterMapSourceModel().get_mapTileSize());var cJ=this.$p.$5();var cK=Math.ceil((cJ-cI)/2);cK=Math.max(cK,0);this.$p.$1(cK,cG)},$1:function(cG,cH,cI,cJ,cK){var cL=new L.Point(cJ,cK);cL=cL.subtract(this.$i);var cM=cG.containerPointToLayerPoint(cG.getSize().divideBy(2));var cN=(new L.Point(0,0)).subtract(cL).divideBy(cI);var cO=cM.add(cN);var cP=cG.layerPointToLatLng(cO);if(isNaN(cP.lat)||isNaN(cP.lng)){return}cG._animateZoom(cP,cH,cM,cI,cL);this.$0(cH,false)},$a:function(L){$(L.getPanes().mapPane).removeClass('leaflet-touching');$(L.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$q)},$9:function(L){if(!this.get_enabled()){return}this.$h.done(L)},$4:function(L){var cG={};cG['MapControlType']='Leaflet';cG['ZoomLevel']=this.$k.get_requestZoom();cG['WashOut']=this.$k.get_washoutColor().toString();cG['NumRepeatBackground']=this.$k.get_numWorldRepeats();cG['RenderMode']='Client';cG['ElapsedTime']=L;cG['HardwareConcurrency']=window.navigator.hardwareConcurrency;return cG}},null,[ss.IDisposable,be]);ss.initClass(bl,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(bm,a,{get_lineAttributes:function(){return this.$1},$0:function(L){ss.clear(this.$1);var cG=L.markCount;var cH=new bl(0);for(var cI=0;cI<cG;cI++){var cJ=L.getMarkBounds(cI);tab.RectXYUtil.unionInPlace(cH.boundingBox,cJ);var cK=L.getMarkState(cI);if(cK==='markStateSelected'){cH.selectedCount++;if(L.isMarkHighlighted(cI)){cH.highlightedCount++}}else if(cK==='markStateHighlighted'){cH.highlightedCount++}if(L.markNeedsDraw(cI)){cH.marksNeedingDraw.push(cI)}if(L.isMarkEndPrimitive(cI)){cH.worldOffsets=L.getWorldInstanceOffsets(cH.boundingBox.x,cH.boundingBox.x+cH.boundingBox.w);cH.endIndex=cI;cH.sloppyBoundingBox=tab.RectXYUtil.outsetRect(cH.boundingBox,4,4);this.$1.push(cH);cH=new bl(cI+1)}}}});ss.initClass(cB,a,{add_updated:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_updated:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_current:function(){return this.$0},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.setCurrent(null)},isWithinLastHitTestDistance:function(L){if(this.get_hasHit()){var cG=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.isWithinDistance(this.$0.get_regionCoordinates(),cG,20)}return false},getLastHitTestDistance:function(L){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var cG=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.distance(this.$0.get_regionCoordinates(),cG)}return-1},getAsync:function(L){var cG=$.Deferred();if(this.isWithinLastHitTestDistance(L)){cG.resolve(this.$0)}else{var cH=null;cH=ss.mkdel(this,function(cI){this.remove_updated(cH);cG.resolve(cI)});this.add_updated(cH);this.update(L)}return cG.promise()},update:function(L){this.lastEvent=L;this.$1.invokeActionDelayed()},makePaneSpecId:function(L,cG){return cG*this.paneTable.get_numColumns()+L},setCurrent:function(L){this.$0=L;if(ss.isValue(this.$1$1)){this.$1$1(L)}},hitTest:null},null,[ss.IDisposable,tab.IVizHitTestDebouncer]);ss.initClass(bn,a,{hitTest:function(L,cG){var cH=this.$2.getPaneDrawInfoFromSelectionAnchor(L);if(ss.isValue(cH)){var cI=this.$2.onTapHitTest(L);var cJ=this.makePaneSpecId(cH.paneColumn,cH.paneRow);this.setCurrent(new cA(this.region,cJ,cH.paneColumn,cH.paneRow,L,cG,cI))}else{this.setCurrent(null)}}},cB,[ss.IDisposable,tab.IVizHitTestDebouncer]);ss.initClass(bo,a,{$0:function(){return this.$1.value()},onTapHitTest:function(L){if(ss.isNullOrUndefined(this.$0())){return Z.createEmptyHitTestResult()}return this.$0().onTapHitTest(L,true)[0]},onHoverHitTest:function(L){if(ss.isNullOrUndefined(this.$0())){return Z.createEmptyHitTestResult()}return this.$0().onHoverHitTest(L,true)[0]},clearCache:function(){this.$0().clearCache()},getPaneDrawInfoFromSelectionAnchor:function(L){var cG=bB.getPaneKeysByHitTesting(L,this.$2);if(cG.length===0){return null}return this.$2.getPaneDrawInfoFromKey(cG[0])},hitTestMarksAgainstSelectionShape:function(L){return bB.hitTestMarks(null,false,null,this.$2,L)}});ss.initClass(bp,a,{});ss.initClass(bq,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(br,a,{});ss.initClass(bs,a,{get_enabled:function(){return ss.isValue(this.$B)&&this.$F.get_useFastMaps()},$z:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$F.get_allowLocalPanAndZoom()&&ss.isValue(this.$E)){return this.$E.$0()}else{return new mapboxgl.LngLat(this.$F.get_centerLongitude(),this.$F.get_centerLatitude())}},$A:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$F.get_allowLocalPanAndZoom()&&ss.isValue(this.$E)){return this.$E.$2()}else{return this.$F.get_zoom()}},get_testMap:function(){if(this.$B.state()!=='resolved'){return null}var L=null;this.$B.done(function(cG){L=cG});return L},zoomOnPoint:function(L,cG){return this.$9(ss.mkdel(this,function(cH){var cI=cF.incrementZoom(this.$A(),cG);var cJ;if(ss.isNullOrUndefined(L)){cJ=cH.getCenter()}else{cJ=cH.unproject(new mapboxgl.Point(L.x,L.y))}this.$c(cH,cJ,cI,true)}))},anchorZoom:function(L,cG,cH){return this.$9(ss.mkdel(this,function(cI){var cJ=cI.unproject(new mapboxgl.Point(cG.x,cG.y));this.$b(cI,cJ,L,cH)}))},zoomRect:function(L){return this.$9(ss.mkdel(this,function(cG){var cH=cG.unproject(new mapboxgl.Point(L.x,L.y+L.h));var cI=cG.unproject(new mapboxgl.Point(L.x+L.w,L.y));var cJ=new mapboxgl.LngLatBounds(cH,cI);this.$e(cG,cJ,true)}))},moveToBounds:function(L){return this.$9(ss.mkdel(this,function(cG){var cH=new mapboxgl.LngLat(L.minLongitude,L.minLatitude);var cI=new mapboxgl.LngLat(L.maxLongitude,L.maxLatitude);var cJ=new mapboxgl.LngLatBounds(cH,cI);this.$e(cG,cJ,true)}))},panTo:function(L,cG){return this.$9(ss.mkdel(this,function(cH){var cI=cH.project(this.$z());var cJ=new mapboxgl.Point(cI.x-L,cI.y-cG);var cK=cH.unproject(cJ);var cL={animate:false};cH.panTo(cK,cL)}))},$9:function(L){var cG=$.Deferred();if(!this.$C){return cG.resolve(false)}this.$n(ss.mkdel(this,function(cH){L(cH);this.$y(cH).done([function(){cG.resolve(true)}])}));return cG},updateLocalCenter:function(L,cG){this.$E=null;this.$m(ss.mkdel(this,function(cH){this.$y(cH).done([ss.mkdel(this,function(){var cI=cH.project(this.$z());var cJ=new mapboxgl.Point(cI.x-L,cI.y-cG);var cK=cH.unproject(cJ);var cL=this.$A();this.$E=new d(cK,cL)})])}))},updateLocalMapDataForZoomAround:function(L,cG){this.$E=null;this.$m(ss.mkdel(this,function(cH){this.$y(cH).done([ss.mkdel(this,function(){var cI=cH.getCenter();this.$E=new d(cI,cG)})])}))},pinchScale:function(L,cG,cH){if(!tab.DoubleUtil.isApproximatelyEqual(cH,1)){this.$n(ss.mkdel(this,function(cI){var cJ=cF.combineTileZoomAndStretch(this.$A(),cH);var cK=new mapboxgl.Point(L,cG);var cL=cI.unproject(cK);this.$b(cI,cL,cJ,false)}))}},touchMove:function(L,cG,cH){this.panTo(L,cG)},touchEnd:function(L,cG,cH){},splatOverlayToMapForTransition:function(L){this.$n(ss.mkdel(this,function(cG){var cH=this.$h(cG);if(ss.isNullOrUndefined(cH)){return}var cI=cH.getCanvas();var cJ=this.$1(cG);var cK=cJ.x;var cL=cJ.y;var cM=cJ.w;var cN=cJ.h;var cO=2;var cP=bs.$0(L,cK,cL,cM,cN,cO);var cQ=bs.$0(cI,0,0,cM,cN,cO);var cR=tab.CanvasRenderer.getRenderContext(cI,'transparent');cR.drawImage5(L,cP.x,cP.y,cP.w,cP.h,cQ.x,cQ.y,cQ.w,cQ.h);L.width=L.width;cH.play()}))},removeMarkOverlay:function(){this.$n(ss.mkdel(this,function(L){var cG=this.$h(L);if(ss.isNullOrUndefined(cG)){return}this.$3(L);L.once('render',function(cH){cG.pause()});cG.play()}))},createMap:function(L,cG){this.$F=cG;this.$0();this.$E=null;var cH=$.Deferred();var cI=$.Deferred();this.$B=cI;cH.fail([function(){cI.reject()}]);var cJ=this.$d();tab.ModuleManager.load$1('mapbox-gl',[]).done(ss.mkdel(this,function(cK){cJ.done(ss.mkdel(this,function(cL){this.$4(cI,cH,L,cL)})).fail(function(){cH.reject()})}));return cH},$d:function(){var L=this.$g();if(ss.isNullOrUndefined(L)){return $.Deferred().reject()}var cG={};cG['access_token']=L.get_accessToken();var cH=cG;return $.getJSON(L.get_styleJsonUrl(),cH,null).fail(ss.mkdel(this,function(cI,cJ,cK){this.$k(cI.status)}))},$4:function(L,cG,cH,cI){if(!this.get_enabled()){cG.reject();return}var cJ=this.$g();if(!cJ.get_hasPresModel()){cG.reject();return}var cK=(new Date).getTime();var cL=bt.createLoadMapContext('MapboxGLJS',this.$F.get_sheetName());var cM=bt.createInteractiveContext('MapboxGLJS',this.$F.get_sheetName());var cN=false;var cO=function(){if(document.hidden){cN=true}};document.addEventListener('visibilitychange',cO);cN=cN||document.hidden;mapboxgl.accessToken=cJ.get_accessToken();mapboxgl.config.API_URL=cJ.get_baseUrl();var cP=document.createElement('div');if(ss.isValue(this.$G)){tab.DomUtil.setMarginBox(cP,{l:0,t:0,w:this.$G.w,h:this.$G.h})}cH.append(cP);if(ss.isNullOrUndefined(document.getElementById('hideMapboxLogoStyle'))){cH.append(this.$6())}this.$p(cI,cJ);this.$w(cI.layers,cJ);var cQ=this.$5(cP,cJ,cI);var cR=new mapboxgl.Map(cQ);cR.once('load',ss.mkdel(this,function(cS){if(!cN){var cT=(new Date).getTime()-cK;bu.logMapCreateDone(this.$7(cJ,cT));cL.dispose()}document.removeEventListener('visibilitychange',cO);this.$D=true;cG.resolve()}));cR.once('style.load',ss.mkdel(this,function(cS){if(!cN){cM.dispose()}this.$C=true}));cR.on('style.load',ss.mkdel(this,function(cS){this.$t(cR);cR.once('render',ss.mkdel(this,function(cT){this.$3(cR);this.$2(cR)}));cR.moveLayer('overlay_canvas_layer','overlay_canvas_layer')}));cR.on('error',ss.mkdel(this,function(cS){if(cS.error.name==='AJAXError'){this.$k(cS.error.status)}}));cR.on('zoom',ss.mkdel(this,function(cS){this.$2(cR)}));cR.on('resize',ss.mkdel(this,function(cS){this.$2(cR);this.$3(cR)}));if(cR&&cR.transform){cR.transform.latRange=null}if(cR&&cR.transform){cR.transform.maxValidLatitude=Infinity}cR.jumpTo({center:this.$z(),zoom:this.$A()});L.resolve(cR)},$k:function(L){if(ss.isNullOrUndefined(this.$F)){return}if(L===401||L===404){var cG=new tab.ReportMapboxParamsFailureCmd;cG.c['visualIdPresModel']=tab.ModelUtils.getVisualId(this.$F.get_sheetName());cG.invoke()}},$6:function(){var L=document.createElement('style');L.setAttribute('id','hideMapboxLogoStyle');L.innerHTML='a.mapboxgl-ctrl-logo {display: none}';return L},$0:function(){if(ss.isNullOrUndefined(this.$F)){return}this.$F.add_newMapServerInfo(ss.mkdel(this,this.$j));var L=this.$F.get_mapboxMapSourceModel();if(ss.isNullOrUndefined(L)){return}L.add_styleRefreshRequired(ss.mkdel(this,this.$l))},$8:function(){if(ss.isNullOrUndefined(this.$F)){return}this.$F.remove_newMapServerInfo(ss.mkdel(this,this.$j));var L=this.$F.get_mapboxMapSourceModel();if(ss.isNullOrUndefined(L)){return}L.remove_styleRefreshRequired(ss.mkdel(this,this.$l))},$5:function(L,cG,cH){var cI={container:L,attributionControl:false,interactive:false,trackResize:false,minZoom:this.$F.get_minZoom(),maxZoom:this.$F.get_maxZoom(),localIdeographFontFamily:'Arial, sans-serif'};cI.style=cH;var cJ=cG.get_baseUrl();if(ss.isValue(cJ)&&cJ.length>0){cI.transformRequest=function(cK,cL){return bs.$1(cK,cJ)}}return cI},destroyMap:function(){var L=$.Deferred();this.$C=false;this.$D=false;var cG=ss.mkdel(this,function(){if(ss.isValue(this.$F)){this.$8();this.$F=null}L.resolve()});if(ss.isValue(this.$B)){this.$B.done(function(cH){var cI=cH.getContainer();cI.parentNode.removeChild(cI);cH.remove();cG()}).fail(cG);this.$B=null}else{cG()}return L},$j:function(){this.$m(ss.mkdel(this,function(L){this.$y(L).done([ss.mkdel(this,function(){this.$E=null;var cG=this.$z();L.stop();this.$c(L,cG,this.$A(),false)})])}))},$l:function(){this.$m(ss.mkdel(this,function(L){this.$d().done(ss.mkdel(this,function(cG){var cH=this.$g();if(ss.isNullOrUndefined(cH)){return}this.$p(cG,cH);this.$w(cG.layers,cH);L.setStyle(cG,{diff:false,localIdeographFontFamily:'Arial, sans-serif'})}))}))},resize:function(L,cG){var cH={w:L,h:cG};if(tab.SizeUtil.equals(cH,this.$G)){return}this.$G=cH;this.$m(function(cI){tab.DomUtil.setMarginBox(cI.getContainer(),{l:0,t:0,w:cH.w,h:cH.h});cI.resize()})},setScrollX:function(L){this.$m(function(cG){cG.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$m(function(cG){cG.getContainer().style.top=-L+'px'})},dispose:function(){this.destroyMap()},$m:function(L){if(!this.get_enabled()){return}this.$B.done(L)},$n:function(L){if(!this.get_enabled()||!this.$C){return}this.$B.done(L)},$o:function(L){if(!this.get_enabled()||!this.$D){return}this.$B.done(L)},$y:function(L){var cG=$.Deferred();if(L.isMoving()){L.once('moveend',function(cH){cG.resolve()})}else{cG.resolve()}return cG},$b:function(L,cG,cH,cI){this.$a(L,null,cG,cH,cI)},$c:function(L,cG,cH,cI){this.$a(L,cG,null,cH,cI)},$a:function(L,cG,cH,cI,cJ){if(cI<0){return}if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&ss.isValue(cG)){this.$E=new d(cG,cI)}var cK={center:cG,around:cH,zoom:cI,animate:cJ,duration:250};L.easeTo(cK)},$e:function(L,cG,cH){var cI={linear:true,animate:cH,duration:250};L.fitBounds(cG,cI)},$s:function(L,cG,cH){var cI=ss.safeCast(br.replaceString(L.filter,cG,cH),Array);if(ss.isNullOrUndefined(cI)){return}L.filter=cI},$r:function(L,cG,cH){var cI=L.layout;if(ss.isNullOrUndefined(cI)){return}var cJ=cI['text-field'];if(ss.isNullOrUndefined(cJ)){return}var cK=br.replaceString(cI['text-field'],cG,cH);if(ss.isNullOrUndefined(cK)){return}cI['text-field']=cK},$v:function(L){if(ss.isNullOrUndefined(L.getSource('overlay_canvas_source'))){var cG=document.createElement('canvas');cG.width=L.getCanvas().width;cG.height=L.getCanvas().height;L.addSource('overlay_canvas_source',{type:'canvas',animate:false,canvas:cG,coordinates:[[0,1],[1,1],[1,0],[0,0]]})}if(ss.isNullOrUndefined(L.getLayer('overlay_canvas_layer'))){L.addLayer({id:'overlay_canvas_layer',source:'overlay_canvas_source',type:'raster',paint:{'raster-fade-duration':0}})}},$x:function(L){var cG=this.$F.get_hasWashout()&&this.$F.get_hasValidTileLayer()&&this.$F.get_washoutColor().get_a()>0&&ss.isNullOrUndefined(L.getLayer('washout_layer'));if(!cG){return}var cH=0.999999;var cI={id:'washout_layer',type:'background',paint:{'background-color':'#ffffff','background-opacity':Math.min(cH,this.$F.get_washoutColor().get_a())}};L.addLayer(cI)},$q:function(L,cG){var cH=cG.get_dataRequestUrl();var cI=cG.get_dataColorRamp();if(ss.isNullOrEmptyString(cH)||ss.isNullOrEmptyString(cI)){return}if(ss.isNullOrUndefined(L.getSource('tableau_data_source'))){L.addSource('tableau_data_source',{type:'vector',url:cH})}if(ss.isNullOrUndefined(L.getLayer('tableau_data_layer'))){var cJ=cG.get_dataInsertAbove();var cK=cG.get_dataSourceLayer();var cL=cG.get_dataOpacity();var cM={type:'fill',id:'tableau_data_layer',source:'tableau_data_source','source-layer':cK};var cN=1;var cO=L.getStyle().layers;for(var cP=0;cP<cO.length;++cP){if(ss.referenceEquals(cO[cP].id,cJ)){cN=cP+1;break}}if(cN<cO.length){L.addLayer(cM,cO[cN].id)}else{L.addLayer(cM)}L.setPaintProperty('tableau_data_layer','fill-opacity',JSON.parse(cL));L.setPaintProperty('tableau_data_layer','fill-color',JSON.parse(cI))}},$u:function(L,cG,cH){var cI=cH.get_enabledMapLayerIds();cI.add('tableau_data_layer');cI.add('washout_layer');cI.add('overlay_canvas_layer');for(var cJ=0;cJ<cG.length;cJ++){var cK=cG[cJ];var cL=cI.has(cK.id);L.setLayoutProperty(cK.id,'visibility',(cL?'visible':'none'))}},$w:function(L,cG){var cH=cG.get_mapCodeFilterKeyword();var cI=cG.get_mapCode();var cJ=cG.get_languageCodePropertyKeyword();var cK=cG.get_languageCode();for(var cL=0;cL<L.length;cL++){var cM=L[cL];this.$s(cM,cH,cI);this.$r(cM,cJ,cK)}},$t:function(L){if(ss.isNullOrUndefined(this.$F)){return}var cG=this.$F.get_mapboxMapSourceModel();if(!cG.get_hasPresModel()){return}this.$q(L,cG);this.$x(L);this.$v(L);var cH=L.getStyle().layers;this.$u(L,cH,cG)},$p:function(L,cG){if(!tab.FeatureFlags.isEnabled('MapboxVectorSimplifyStyleOnWeb')){return}var cH=cG.get_enabledMapLayerIds();L.layers=L.layers.filter(function(cO){return cH.has(cO.id)||ss.referenceEquals(cO.id,cG.get_dataInsertAbove())});var cI=new Set;for(var cJ=0;cJ<L.layers.length;cJ++){var cK=L.layers[cJ];if(ss.isValue(cK.source)){cI.add(cK.source)}}var cL={};var cM=new ss.ObjectEnumerator(L.sources);try{while(cM.moveNext()){var cN=cM.current();if(cI.has(cN.key)){cL[cN.key]=cN.value}}}finally{cM.dispose()}L.sources=cL},$h:function(L){return L.getSource('overlay_canvas_source')},$f:function(L){var cG=L.getCanvas();var cH=ss.safeCast(cG.getContext('webgl'),WebGLRenderingContext);if(ss.isNullOrUndefined(cH)){cH=ss.safeCast(cG.getContext('experimental-webgl'),WebGLRenderingContext)}var cI=ss.safeCast(cH.getExtension('WEBGL_debug_renderer_info'),Object);if(ss.isValue(cI)){this.$H=ss.safeCast(cH.getParameter(cI.UNMASKED_RENDERER_WEBGL),String)}return cH},$g:function(){if(ss.isNullOrUndefined(this.$F)){return null}var L=this.$F.get_mapboxMapSourceModel();if(!L.get_hasPresModel()){return null}return L},$3:function(L){var cG=this.$h(L);if(ss.isNullOrUndefined(cG)){return}var cH=cG.getCanvas();var cI=this.$1(L);var cJ=tab.RenderUtil.calculatePixelRatio(true);var cK=cI.w;var cL=cI.h;if(tab.CanvasUtil.isOverCanvasSizeLimit(cK,cL,cJ)){cJ=1}tab.CanvasUtil.setCanvasSizeAndDensify(cH,cJ,{w:cK,h:cL});if(cI.h===0){return}var cM=cI.x;var cN=cI.x+cI.w;var cO=cI.y;var cP=cI.y+cI.h;var cQ=[L.unproject([cM,cO]).toArray(),L.unproject([cN,cO]).toArray(),L.unproject([cN,cP]).toArray(),L.unproject([cM,cP]).toArray()];cG.setCoordinates(cQ)},$2:function(L){var cG=this.$f(L);if(ss.isNullOrUndefined(cG)){return}var cH=this.$1(L);var cI=window.devicePixelRatio;cG.enable(3089);cG.scissor(ss.Int32.trunc(cH.x*cI),ss.Int32.trunc(0*cI),ss.Int32.trunc(cH.w*cI),ss.Int32.trunc(L.getContainer().offsetHeight*cI))},$i:function(L){return ss.Int32.trunc(L.project(bs.$4).x-L.project(bs.$3).x)},$1:function(L){var cG=this.$i(L)*this.$F.get_numWorldRepeats();var cH=ss.Int32.trunc(L.project(bs.$3).y);var cI=ss.Int32.trunc(L.project(bs.$4).y);var cJ=L.project(L.getCenter());var cK=Math.max(ss.Int32.trunc(cJ.x)-ss.Int32.div(cG,2),0);var cL=Math.min(ss.Int32.trunc(cJ.x)+ss.Int32.div(cG,2),L.getContainer().offsetWidth);var cM=Math.min(Math.max(cH,0),L.getContainer().offsetHeight);var cN=Math.min(Math.max(cI,0),L.getContainer().offsetHeight);return{x:cK,y:cM,w:cL-cK,h:cN-cM}},$7:function(L,cG){var cH={};cH['MapControlType']='MapboxGLJS';cH['MapStyle']=L.get_styleJsonUrl();cH['MapCode']=L.get_mapCode();cH['ZoomLevel']=this.$F.get_requestZoom();cH['WashOut']=this.$F.get_washoutColor().toString();cH['NumRepeatBackground']=this.$F.get_numWorldRepeats();cH['RenderMode']='Client';cH['AllowLocalPanAndZoom']=this.$F.get_allowLocalPanAndZoom();cH['ElapsedTime']=cG;cH['HardwareConcurrency']=window.navigator.hardwareConcurrency;cH['Renderer']=this.$H;return cH}},null,[ss.IDisposable,be]);ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initClass(bx,a,{handleWidgetPropertyChanged:function(L,cG){},updateWidgetState:function(L){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[by,Object,Object]));ss.initClass(by,a,{get_compositeSearchWidget:function(){return this.$l},get_isCollapsed:function(){return this.$m},set_isCollapsed:function(L){this.$m=L;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$m);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$m)},get_isVisible:function(){return this.$n},set_isVisible:function(L){if(tab.FeatureParamsLookup.getBool(28)===true){L=true}if(this.$n===L){return}this.$n=L;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$n?'':'none'))},$e:function(L){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$f:function(L){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$b:function(L){this.$h();if(L.trim().length===0){this.handleRemoveSuggestionList()}else{this.$k();this.$j()}},showNewSuggestions:function(L,cG){if(!ss.referenceEquals(L,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(cG)){return}this.$o=tab.MiscUtil.dispose(this.$o);this.$o=[];for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];this.$o.push(spiff.ListItemViewModel.newListItem(cH.toString(),cI,false,false,false))}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$k:function(){if(ss.isNullOrUndefined(this.$o)){return}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$9:function(L){var cG=$("<span class='tab-list-item-label'/>");var cH='<span/>';var cI=$(cH);var cJ=$(cH);cI.addClass('tabMapsSearchViewSuggestionDisplayName');var cK=L.geographicSearchCandidateDisplayName;var cL=ss.trimEndString(this.$l.get_textInputView().get_text());if(ss.startsWithString(cK.toLowerCase(),cL.toLowerCase())){var cM=$(cH);cM.addClass('tabMapsSearchViewSuggestionActiveSearchText');cM.text(cK.substr(0,cL.length));cI.append(cM);var cN=$(cH);cN.text(cK.substr(cL.length));cI.append(cN)}else{cI.text(L.geographicSearchCandidateDisplayName)}cG.append(cI);cJ.addClass('tabMapsSearchViewSuggestionParentName');cJ.text(L.geographicSearchCandidateParentName);cG.append(cJ);return cG},handleEnterKeyPress:function(){this.$h();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.handleRemoveSuggestionList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(L){this.$h();this.handleRemoveSuggestionList();this.mapsSearchViewModel.moveMapToSuggestionListItem(L)},handleCollapseSearchWidget:function(){this.set_isCollapsed(true)},$d:function(L){this.set_isVisible(L)},$c:function(){this.get_compositeSearchWidget().get_textInputView().set_text('')},handleRemoveSuggestionList:function(){this.$l.removeList();this.$o=tab.MiscUtil.dispose(this.$o)},$a:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},setGeoLocationButtonVisibility:function(L){if(L){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$h();this.set_isCollapsed(!this.$m);if(!this.$m){if(!BrowserSupport.BrowserSupport.IsIE()){this.$l.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$g),200)},$h:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$g:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$h()},updateSearchTextValue:function(L){var cG=L.geographicSearchCandidateDisplayName;if(!ss.isNullOrEmptyString(L.geographicSearchCandidateParentName)){cG+=', '+L.geographicSearchCandidateParentName}this.get_compositeSearchWidget().setSearchText(cG)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$l.get_textInputView().get_inputElement())},handleEnableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')})},createListItemContent:function(L){return this.$9(L.get_data())},$i:function(){var L=this.get_compositeSearchWidget().get_textInputView().get_inputElement();if(!ss.staticEquals(this.mapsSearchViewModel.get_focusInHandler(),null)){L.focusin(this.mapsSearchViewModel.get_focusInHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_focusOutHandler(),null)){L.focusout(this.mapsSearchViewModel.get_focusOutHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_keypressHandler(),null)){L.keypress(this.mapsSearchViewModel.get_keypressHandler())}},dispose:function(){this.$l.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[bz]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[bz]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bz]),spiff.IListItemContentCreator]);ss.initClass(bz,a,{add_receivedNewSuggestions:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_receivedNewSuggestions:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_updateTextInputValue:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_updateTextInputValue:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_onMoveMapToBounds:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_onMoveMapToBounds:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_visibilityChanged:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_visibilityChanged:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_userInteractionEnabled:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_userInteractionEnabled:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},add_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateCombine(this.$2$7,L)},remove_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateRemove(this.$2$7,L)},add_suggestionListRemoved:function(L){this.$2$8=ss.delegateCombine(this.$2$8,L)},remove_suggestionListRemoved:function(L){this.$2$8=ss.delegateRemove(this.$2$8,L)},add_blurInputElementCalled:function(L){this.$2$9=ss.delegateCombine(this.$2$9,L)},remove_blurInputElementCalled:function(L){this.$2$9=ss.delegateRemove(this.$2$9,L)},get_visualID:function(){return this.$2},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)&&BrowserSupport.BrowserSupport.IsGeolocationSupported()},get_focusInHandler:function(){return this.$2$10},set_focusInHandler:function(L){this.$2$10=L},get_focusOutHandler:function(){return this.$2$11},set_focusOutHandler:function(L){this.$2$11=L},get_keypressHandler:function(){return this.$2$12},set_keypressHandler:function(L){this.$2$12=L},commitToSearchString:function(L){L=L.trim();this.sendGeographicSearchQuery(L,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(L){this.sendGeographicSearchQuery(L,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(L){if(ss.isValue(this.$2$2)){this.$2$2(L)}if(ss.isValue(this.$2$3)){this.$2$3(L.mapLatLongRect)}tab.MapClientCommands.boundingBoxPan(this.$2,L.mapLatLongRect)},moveMapToSuggestionListItem:function(L){var cG=L.get_data();this.moveMapToCandidateBounds(cG)},moveToTopGeographicCandidate:function(L){var cG=L.geographicSearchCandidateList;if(cG.length===0){}else{var cH=cG[0];this.moveMapToCandidateBounds(cH)}},processGeographicSuggestions:function(L){if(!ss.isValue(this.$2$1)){return}var cG=[];for(var cH=0;cH<L.geographicSearchCandidateList.length;cH++){cG.push(L.geographicSearchCandidateList[cH])}this.$2$1(L.geographicSearchSearchString,cG)},sendGeographicSearchQuery:function(L,cG,cH){var cI=tsConfig.workbookLocale||'en_US'.toLowerCase();tab.MapClientCommands.geographicSearchQuery(this.$2,L,cI,cG,cH)},collapseSearchWidget:function(){this.raiseActionEvent(this.$2$4)},setVisible:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$5,L)},enableUserInteraction:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$6,L)},restoreInitialTextInputValue:function(){this.raiseActionEvent(this.$2$7)},removeSuggestionList:function(){this.raiseActionEvent(this.$2$8)},blurInputElement:function(){this.raiseActionEvent(this.$2$9)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bA,a,{});ss.initClass(bB,a,{hitTest:function(L,cG){var cH=(ss.isValue(L)?{x:L.x,y:L.y,w:1,h:1}:null);return bB.hitTestMarks(cH,cG,this.$0(),this.$2,null)},$0:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=bB.buildHitTester(this.$2)}return this.$1},clearCache:function(){this.$1=null}},X,[ss.IDisposable,bb]);ss.initEnum(bD,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6,annotation:7,refLine:8,refLineLabel:9});ss.initClass(bE,a,{setDefaultLabelLookupValues:function(){this.c.set('label_index',tab.VisualColumnIterator.create([-1]))},addLabelInfo:function(L,cG,cH){this.$j=bE.$3(L,cG,cH-cG);this.transformColumnData(this.$j);var cI=this.$j.get('tuple_id');var cJ=[];if(ss.isValue(cI)){var cK=new Array(this.markCount);for(var cL=0;cL<this.markCount;cL++){cK[cL]=-1}for(var cM=0;cM<cI.length;cM++){var cN=this.tupleToIndexMap.get(cI.v[(cI.c?0:cM)]);if(ss.isValue(cN)){cK[cN]=cM;cJ.push(cN)}}this.c.set('label_index',tab.VisualColumnIterator.create(cK))}cI=this.c.get('tuple_id');var cO=new Map;var cP=new Array(this.markCount);this.$d(cJ,ss.mkdel(this,function(cV,cW){if(ss.isValue(cV)){var cX=bE.getMarkBoundingBox('label',cV,this,cW);cO.set(cI.v[(cI.c?0:cV)],cX);cP[cV]=cX}}));var cQ=this.$1(cP);this.markLabelWorldOffsets=cQ.$1;this.markLabelInstanceOffsets=cQ.$0;var cR;if(this.$j.has('pane_flags')){var cS=this.$j.get('pane_flags');cR=cS.v[(cS.c?0:0)]}else{cR=0}var cT=cR;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(cT,'clip-to-cell-x');var cU=ss.isValue(L.MarkLayoutData)&&ss.isValue(L.MarkLayoutData.TextCompositionInputKeys)&&L.MarkLayoutData.TextCompositionInputKeys.is_text_table===true;this.parseTextInfo(L.TextRunTable,L.TextStyleTable,true,cU);this.sceneInfo.$1(this,cO)},get_paneIndex:function(){return this.$1$1},set_paneIndex:function(L){this.$1$1=L},get_hasLabels:function(){return ss.isValue(this.$j)},get_hasSelection:function(){return this.sceneInfo.get_hasSelection()},get_hasBrushing:function(){return this.sceneInfo.get_hasBrushing()},get_lineDrawState:function(){if(this.$k===null){this.$k=new bm(this)}return this.$k},get_hasBackground:function(){var L=this.c.has('pane_has_background');if(L){var cG=this.c.get('pane_has_background');L=cG.v[(cG.c?0:0)]===true}return L},get_hasHalos:function(){var L=this.c.has('has_halos');if(L){var cG=this.c.get('has_halos');L=cG.v[(cG.c?0:0)]===true}return L},get_hasHaloHighlightColor:function(){return this.c.has('highlighted_halo_color')&&this.c.get('highlighted_halo_color').isValid},get_borderColor:function(){var L;if(this.c.has('border_color')){var cG=this.c.get('border_color');L=cG.v[(cG.c?0:0)]}else{L=null}return L},get_textStyleColumns:function(){return this.$q},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.get_paneKey()},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$n},set_paneFlags:function(L){this.$n=L;this.$8()},$e:function(){return this.sceneInfo.$i()},getTextRunProperty:function(L,cG){if(ss.isNullOrUndefined(this.$p)||!this.$p.has(L)||ss.isNullOrUndefined(this.$p.get(L))){return null}var cH=this.$p.get(L);return cH.v[(cH.c?0:cG)]},markHasLabel:function(L){return this.c.get('label_index').gv(L)!==-1},getOneColorAlpha:function(L,cG,cH){var cI=null;this.$h=this.$h||new Map;if(!this.$h.has(L)){cI=tab.ColorModel.fromArgbInt(L);var cJ=tab.SceneDataUtil.createColorCollection(cI,this.foggedBackgroundColor,this.fogBlendFactor);this.$h.set(L,cJ)}var cK=this.$h.get(L);if(cG==='colorOverrideReplaceAlpha'){cI=cI||tab.ColorModel.fromArgbInt(L);return tab.ColorModel.fromColorModelPlusAlpha(cI,cH/255).toRgba()}return cK[cG]},$5:function(L,cG){var cH=this.c.get(cG).gv(L);if(this.$i.has(L)){var cI={};cI['colorOverrideFog']=cH['colorOverrideFog'];cI['colorOverrideNone']=cH['colorOverrideFog'];cI['colorOverrideOpaque']=cH['colorOverrideFog'];cH=cI}return cH},getMarkColors:function(L){var cG='color';if(this.forceOpaqueColors&&this.c.get('opaque_color').isValid){cG='opaque_color'}return this.$5(L,cG)},getBorderColors:function(L){return this.$5(L,'border_color')},getMarkGeometry:function(L){return this.sceneInfo.$7(this.pdMarksKey,L)},isMarkPropertyConstant:function(L){return this.c.get(L).c},computeDirtyMarks:function(L){this.$g=new Map;var cG=tab.RectXYUtil.completelyContains(L,this.paneRect);var cH=this.c.get('tuple_id');for(var cI=0;cI<this.markCount;cI++){var cJ=cH.v[(cH.c?0:cI)];if(!this.isTupleVisible(cJ)){continue}if(cG){this.$g.set(cI,true);continue}if(this.markType==='line'||this.markType==='area'){this.$g.set(cI,true)}else{var cK=this.$7(cJ);var cL=this.getMarkInstanceOffsets(cI);if(tab.RectXYUtil.intersectsWithAny$1(L,cK,cL)){this.$g.set(cI,true)}}}},clearDirtyMarks:function(){this.$g=null},markNeedsDraw:function(L){return ss.isValue(this.$g)&&this.$g.has(L)},markLabelNeedsDraw:function(L,cG){if(this.getMarkState(L)==='markStateInvisible'){return false}var cH=this.getMarkLabelBounds(L);var cI=this.getMarkLabelInstanceOffsets(L);return tab.RectXYUtil.intersectsWithAny$1(cG,cH,cI)},refreshMarkState:function(){this.$l=this.sceneInfo.computeTupleStates(this.c.get('tuple_id'));this.$i=this.sceneInfo.computeFilteredMarks(this.c.get('tuple_id'));this.$m=new Map;for(var L=0;L<this.markCount;L++){if(this.$3(L)){this.$m.set(L,true)}}if(this.$9()){this.$k=new bm(this)}},getMarkState:function(L){if(ss.isValue(this.$l)&&this.$l.length>L){return this.$l[L]}return this.$2(L)},getMarkLabelState:function(L){if(this.$9()){var cG=this.get_lineDrawState().get_lineAttributes();for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];if(cI.startIndex<=L&&L<=cI.endIndex){switch(cI.get_lineState()){case'lineStateHighlighted':{return(this.$a(L)?'markStateHighlighted':this.getMarkState(L))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$a(L)){return this.getMarkState(L)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(L)},getMarkLabelProperty:function(L,cG){if(this.markType==='text'){return this.c.get(L).gv(cG)}var cH=this.c.get('label_index').gv(cG);if(cH===-1){return null}var cI=this.$j.get(L);return cI.v[(cI.c?0:cH)]},getAllMarkBounds:function(){var L=new Array(this.markCount);var cG=this.c.get('tuple_id');var cH=this.c.get('label_index');for(var cI=0;cI<this.markCount;cI++){var cJ=cG.v[(cG.c?0:cI)];var cK=this.sceneInfo.getMarkBoundingBox(cJ);var cL=((cH.v[(cH.c?0:cI)]===-1)?null:this.sceneInfo.$6(cJ));L[cI]={item1:cK,item2:cL}}return L},getMarkBounds:function(L){var cG=this.c.get('tuple_id');return this.$7(cG.v[(cG.c?0:L)])},getMarkIndexFromTupleId:function(L){return this.tupleToIndexMap.get(L)},containsTuple:function(L){return this.tupleToIndexMap.has(L)},getMarkLabelBounds:function(L){var cG=this.sceneInfo;var cH=this.c.get('tuple_id');return cG.$6(cH.v[(cH.c?0:L)])},getInsetPaneClipRect:function(L,cG){var cH=2*cG;var cI=this.getUserPaneRectByIndex(L);return{x:cI.x+cG,y:cI.y+cG,w:cI.w-cH,h:cI.h-cH}},getUserPaneRectByMark:function(L){if(this.hasUserPanes){return this.$f.$8(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(L){if(this.hasUserPanes){return this.$f.$7(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(L){if(this.hasUserPanes){return this.$f.$8(this.getMarkIndexFromTupleId(L))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneMarkCount:function(L){if(!this.hasUserPanes){return this.markCount}else{return this.$f.$5(L)}},getUserPaneMarkRange:function(L){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$f.$6(L)}},getUserPaneIndexByMark:function(L){if(!this.hasUserPanes){return 0}else{return this.$f.$4(L)}},initStaticProperties:function(){var L=this.c.has('draw_border');if(L){var cG=this.c.get('draw_border');L=cG.v[(cG.c?0:0)]}this.drawBorder=L;var cH=this.c.has('wrap_domain');if(cH){var cI=this.c.get('wrap_domain');cH=cI.v[(cI.c?0:0)]}this.isWrappedDomain=cH;var cJ;if(this.c.has('alpha')){var cK=this.c.get('alpha');cJ=cK.v[(cK.c?0:0)]}else{cJ=1}this.globalAlpha=cJ;var cL;if(this.c.has('line_interp')){var cM=this.c.get('line_interp');cL=cM.v[(cM.c?0:0)]}else{cL='lim-linear'}this.lineInterpolation=cL;var cN;if(this.c.has('min_bar_width')){var cO=this.c.get('min_bar_width');cN=cO.v[(cO.c?0:0)]}else{cN=0}this.minBarWidth=cN;var cP;if(this.c.has('min_bar_height')){var cQ=this.c.get('min_bar_height');cP=cQ.v[(cQ.c?0:0)]}else{cP=0}this.minBarHeight=cP},$c:function(L){if(!this.hasUserPanes){var cG=this.getUserPaneRectByIndex(0);var cH=this.markCount;for(var cI=0;cI<cH;++cI){L(cI,cG)}}else{this.$f.$9(L)}},$d:function(L,cG){if(!this.hasUserPanes){var cH=this.getUserPaneRectByIndex(0);for(var cI=0;cI<L.length;cI++){var cJ=L[cI];cG(cJ,cH)}}else{this.$f.$a(L,cG)}},getMarkInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return bE.$e}return this.markInstanceOffsets[L]},getMarkLabelInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return bE.$e}return this.markLabelInstanceOffsets[L]},getWorldInstanceOffsets:function(L,cG){if(!this.isWrappedDomain){return bE.$e}var cH=Math.min(ss.Int32.trunc(this.worldWidth),this.paneRect.w);L-=cH;cG+=cH;var cI=this.get_mapExtentOrPaneRect();var cJ=Math.ceil((cI.x-cG)/this.worldWidth);var cK=Math.floor((cI.x+cI.w-L)/this.worldWidth);var cL=cK-cJ+1;var cM=new Array(cL);var cN=cJ*this.worldWidth;for(var cO=0;cO<cL;cO++,cN+=this.worldWidth){cM[cO]=cN}return cM},getWorldOffsetBounds:function(L){var cG=[];var cH=this.getWorldInstanceOffsets(L.x,L.x+L.w);var cI=cH.length;for(var cJ=0;cJ<cI;cJ++){var cK=cH[cJ];if(cK!==0){var cL=tab.RectXYUtil.offsetRectXY(L,ss.Int32.trunc(cK)|0,0);cG.push(cL)}else{cG.push(L)}}return cG},isTupleSelected:function(L){return L!==0&&this.sceneInfo.$c(L)},isMarkSelected:function(L){var cG=this.c.get('tuple_id');return this.isTupleSelected(cG.v[(cG.c?0:L)])},isMarkImpliedSelected:function(L){var cG=this.c.get('tuple_id');var cH=cG.v[(cG.c?0:L)];return cH!==0&&this.sceneInfo.$b(cH)},isTupleHighlighted:function(L){return L!==0&&this.sceneInfo.$a(L)},isMarkHighlighted:function(L){var cG=this.c.get('tuple_id');var cH=cG.v[(cG.c?0:L)];return this.isTupleHighlighted(cH)},isTupleVisible:function(L){return L!==0&&this.sceneInfo.$d(L)},isLineSegmentVisible:function(L,cG){return this.getMarkState(L)!=='markStateInvisible'&&this.getMarkState(cG)!=='markStateInvisible'},isLineSegmentFiltered:function(L,cG){return this.$i.has(L)||this.$i.has(cG)},shouldStampThisShapeMark:function(L){if(this.$o){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(L>=this.markCount){return false}return this.shapeMarkStampingDecision[L]},isMarkEndPrimitive:function(L){var cG=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(cG,'endprimitive')},isMarkDebug:function(L){var cG=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(cG,'debug')},shouldShowMarker:function(L){if(ss.isNullOrUndefined(this.$m)){return this.$3(L)}return this.$m.has(L)},$6:function(L,cG,cH){var cI=null;if(cG>=0&&!this.hasConstantColor&&this.markType==='text'){cI=this.getMarkColors(cG)}else if(ss.isValue(this.$q)&&this.$q.has('text_style_color')){var cJ=this.$q.get('text_style_color');cI=cJ.v[(cJ.c?0:L)]}if(ss.isNullOrUndefined(cI)){return'black'}if(cG!==-1&&this.$i.has(cG)){cH='colorOverrideFog'}return cI[cH]},thisDomainToPixelX:function(L){return bE.domainToPixelX(L,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(L){return bE.domainToPixelY(L,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(L){return bE.domainToPixelWidth(L,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(L){return bE.domainToPixelHeight(L,this.domainExtents,this.paneRect)},$9:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$a:function(L){return this.getMarkLabelProperty('label_one_per_group',L)},$3:function(L){var cG=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(cG,'marked')||tab.SceneDataUtil.isMarkFlagSet(cG,'markediflabel')&&this.markHasLabel(L)&&!this.$a(L)},setUserPaneInfo:function(L){if(ss.isNullOrUndefined(L)){return}if(this.markType==='text'){return}this.$f=new cs(L,this);this.userPaneCount=this.$f.$b;this.hasUserPanes=true},processColors:function(L){var cG=this.$b();if(ss.isNullOrUndefined(L)||!this.c.has('color_idx')){if(cG){this.$0()}return}var cH=tab.VisualColumnHelpers.buildColorTable(L,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var cI=null;if(cG){cI=tab.VisualColumnHelpers.buildOpaqueColorTable(cH)}var cJ=this.c.get('color_idx');var cK=cJ.length;var cL=new Array(cK);var cM=(cG?new Array(cK):null);for(var cN=0;cN<cK;cN++){var cO=cJ.v[(cJ.c?0:cN)];cL[cN]=cH[cO];if(cG){cM[cN]=cI[cO]}}this.c.set('color',tab.VisualColumnIterator.create(cL));if(cG){this.c.set('opaque_color',tab.VisualColumnIterator.create(cM))}this.c.delete('color_idx')},$0:function(){var L=this.c.get('color');if(ss.isValue(L)){var cG=new Array(L.length);for(var cH=0;cH<L.length;++cH){cG[cH]=tab.SceneDataUtil.createOpaqueColorCollection(L.v[(L.c?0:cH)])}this.c.set('opaque_color',tab.VisualColumnIterator.create(cG))}},buildTupleLookup:function(){this.tupleToIndexMap.clear();var L=this.c.get('tuple_id');if(!ss.isNullOrUndefined(L)){var cG=L.length;for(var cH=0;cH<cG;cH++){this.tupleToIndexMap.set(L.v[(L.c?0:cH)],cH)}}},$7:function(L){return this.sceneInfo.getMarkBoundingBox(L)},$b:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(L){var cG=tab.VisualColumnHelpers.transformColumn(L.get('alpha'),function(cW){return cW/255});for(var cH=0;cH<bE.$4.length;cH++){var cI=bE.$4[cH];var cJ={$:cG&&cI==='text_style_color'};var cK;if(cJ.$){var cL=L.get('alpha');cK=cL.v[(cL.c?0:0)]}else{cK=1}var cM={$:cK};tab.VisualColumnHelpers.transformColumn(L.get(cI),ss.mkdel({useAlpha:cJ,colorAlpha:cM,$this:this},function(cW){var cX=tab.ColorModel.fromArgbInt(cW);if(this.useAlpha.$){cX=new tab.ColorModel(cX.get_r(),cX.get_g(),cX.get_b(),this.colorAlpha.$*cX.get_a())}return tab.SceneDataUtil.createColorCollection(cX,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(L.get('shape_id'),function(cW){return tab.SceneDataUtil.shapeMapping[cW]||cW});tab.VisualColumnHelpers.transformColumn(L.get('line_interp'),function(cW){return tab.SceneDataUtil.lineInterpolationMapping[cW]||cW});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){bE.$d.forEach(ss.mkdel(this,function(cW,cX){var cY;var cZ;var da=cX+'_int';if(ss.contains(bE.$7,cX)){var db=100*Math.max(1,this.paneRect.w);cY=this.domainExtents.w/db;cZ=this.domainExtents.x}else if(ss.contains(bE.$8,cX)){var dc=100*Math.max(1,this.paneRect.h);cY=this.domainExtents.h/dc;cZ=this.domainExtents.y}else{cY=(bE.$d.get(cX).y-bE.$d.get(cX).x)/32767;cZ=bE.$d.get(cX).x}var dd=tab.VisualColumnHelpers.transformColumn(L.get(da),function(de){return(ss.isValue(de)?(de*cY+cZ):null)});if(dd){L.set(cX,L.get(da));L.delete(da)}}));var cN={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var cO=0;cO<bE.$7.length;cO++){var cP=bE.$7[cO];tab.VisualColumnHelpers.transformColumn(L.get(cP),ss.mkdel(this,function(cW){return bE.domainToPixelX(cW,this.domainExtents,cN)}))}for(var cQ=0;cQ<bE.$6.length;cQ++){var cR=bE.$6[cQ];tab.VisualColumnHelpers.transformColumn(L.get(cR),ss.mkdel(this,function(cW){return bE.domainToPixelWidth(cW,this.domainExtents,this.paneRect)}))}for(var cS=0;cS<bE.$8.length;cS++){var cT=bE.$8[cS];tab.VisualColumnHelpers.transformColumn(L.get(cT),ss.mkdel(this,function(cW){return bE.domainToPixelY(cW,this.domainExtents,cN)}))}for(var cU=0;cU<bE.$5.length;cU++){var cV=bE.$5[cU];tab.VisualColumnHelpers.transformColumn(L.get(cV),ss.mkdel(this,function(cW){return bE.domainToPixelHeight(cW,this.domainExtents,this.paneRect)}))}}},$4:function(L,cG){var cH=new Map;if(!ss.isNullOrUndefined(L.font)){var cI=L.font;var cJ=cI.length;var cK=new Array(cJ);for(var cL=0;cL<cJ;++cL){cK[cL]=bE.$1(L,cL)}cH.set('font',tab.VisualColumnIterator.create(cK));var cM=L;var cN=_.keys(cM);for(var cO=0;cO<cN.length;cO++){var cP=cN[cO];if(!ss.contains(bE.$9,cP)){var cQ=cM[cP];cH.set(cP,tab.VisualColumnIterator.create(tab.VisualColumnHelpers.copyArray(cQ,0,cQ.length)))}}if(cG){var cR=this.c.get('alpha').gv(0);if(ss.isValue(cR)){cH.set('alpha',tab.VisualColumnIterator.create([cR*255]))}}this.transformColumnData(cH);tab.VisualColumnHelpers.transformColumn(cH.get('text_orientation'),function(cS){return bE.textAngleInRad.get(cS)});tab.VisualColumnHelpers.transformColumn(cH.get('text_alignment'),function(cS){var cT='start';var cU=cS;if(cU===2){cT='end'}return cT})}return cH},prepareLeftRight:function(){var L=new Array(this.markCount);var cG=new Array(this.markCount);for(var cH=0;cH<this.markCount;++cH){L[cH]=-1;cG[cH]=-1}var cI=0;var cJ=this.c.get('mark_flags');for(var cK=0;cK<this.markCount;cK++){var cL=cJ.v[(cJ.c?0:cK)];if(!tab.SceneDataUtil.isMarkFlagSet(cL,'end')){cG[cK]=cK+1;L[cK+1]=cK}if(tab.SceneDataUtil.isMarkFlagSet(cL,'closedprimitive')){cG[cK]=cI;L[cI]=cK}if(tab.SceneDataUtil.isMarkFlagSet(cL,'endprimitive')){cI=cK+1}}this.c.set('l_neighbor',tab.VisualColumnIterator.create(L));this.c.set('r_neighbor',tab.VisualColumnIterator.create(cG))},setupBoundingBoxes:function(){var L=this.c.get('tuple_id');var cG=new Map;var cH=new Array(this.markCount);this.$c(ss.mkdel(this,function(cR,cS){var cT=bE.getMarkBoundingBox(this.markType,cR,this,cS);cG.set(L.v[(L.c?0:cR)],cT);cH[cR]=cT}));if(this.markType==='pie'){var cI=new bm(this);var cJ=cI.get_lineAttributes();for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=[];var cN=L.v[(L.c?0:cL.startIndex)];cM.push(cN);var cO=tab.RectXYUtil.clone(cG.get(cN));for(var cP=cL.startIndex+1;cP<=cL.endIndex;++cP){cN=L.v[(L.c?0:cP)];cM.push(cN);tab.RectXYUtil.unionInPlace(cO,cG.get(cN))}this.sceneInfo.$0(this,cO,cM)}}var cQ=this.$1(cH);this.markWorldOffsets=cQ.$1;this.markInstanceOffsets=cQ.$0;this.sceneInfo.$2(this,cG)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var L=[];var cG=[];var cH=this.c.get('shape_id');var cI=this.c.get('x');var cJ=this.c.get('y');var cK=this.c.get('size');for(var cL=0;cL<this.markCount;++cL){if(tab.SceneDataUtil.isCustomShape(cH.v[(cH.c?0:cL)])){var cM=cK.v[(cK.c?0:cL)]/2;L[cL]=Math.round(cI.v[(cI.c?0:cL)]-cM);cG[cL]=Math.round(cJ.v[(cJ.c?0:cL)]-cM)}}if(L.length>0){this.c.set('left',tab.VisualColumnIterator.create(L));this.c.set('top',tab.VisualColumnIterator.create(cG))}}},setupShapeMarkStampingMap:function(){if(this.markCount<bE.shapeMarkStampingRatio){return}if(BrowserSupport.BrowserSupport.IsIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}}var L=this.isMarkPropertyConstant('color');var cG=this.isMarkPropertyConstant('size');var cH=this.isMarkPropertyConstant('shape_id');if(cH){var cI=this.c.get('shape_id').gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(cI)){return}if(L&&cG){this.$o=true;return}}var cJ=this.c.get('size');var cK=this.c.get('shape_id');var cL={};var cM=new Array(this.markCount);for(var cN=0;cN<this.markCount;cN++){cM[cN]=false;var cO=[];if(!cG){cO.push(cJ.v[(cJ.c?0:cN)])}if(!cH){var cP=cK.v[(cK.c?0:cN)];if(!tab.SceneDataUtil.isSupportedStampShape(cP)){continue}cO.push(cP)}if(!L){var cQ=this.getMarkColors(cN);cO.push(cQ['colorOverrideNone'])}var cR=cO.toString();if(!ss.keyExists(cL,cR)){cL[cR]=[]}cL[cR].push(cN)}var cS=false;var cT=0;var cU=_.keys(cL);for(var cV=0;cV<cU.length;cV++){var cW=cU[cV];var cX=cL[cW];if(cX.length>=bE.shapeMarkStampingRatio){for(var cY=0;cY<cX.length;cY++){var cZ=cX[cY];cM[cZ]=true;cT++}cS=true}}if(cT===this.markCount){this.$o=true;this.shapeMarkStampingDecision=null}else if(cS){this.shapeMarkStampingDecision=cM}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(L,cG,cH,cI){if(!ss.isNullOrUndefined(L)){this.$p=new Map;var cJ=L;var cK=new ss.ObjectEnumerator(cJ);try{while(cK.moveNext()){var cL=cK.current();var cM=cL.value;this.$p.set(cL.key,tab.VisualColumnIterator.create(cM))}}finally{cK.dispose()}if(!cH&&!cI){this.$p.set('text_run_x',this.$p.get('text_run_x_remote'));this.$p.set('text_run_y',this.$p.get('text_run_y_remote'))}}if(ss.isValue(cG)){this.$q=this.$4(cG,!cH)}},$1:function(L){var cG=new Map;var cH=null;if(!this.isWrappedDomain){cG.set(0,new Set);return new i(cG,cH)}var cI=L.length;cH=new Array(cI);for(var cJ=0;cJ<cI;cJ++){var cK=L[cJ];if(ss.isNullOrUndefined(cK)){continue}cH[cJ]=this.getWorldInstanceOffsets(cK.x+this.paneRect.x,cK.x+cK.w+this.paneRect.x);var cL=cH[cJ];for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];if(!cG.has(cN)){cG.set(cN,new Set);for(var cO=0;cO<this.markCount;cO++){cG.get(cN).add(cO)}}cG.get(cN).delete(cJ)}}var cP=new i(cG,cH);return cP},$8:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$n,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$n,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$n,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$n,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$n,'has-cells-y')},$2:function(L){var cG=this.c.get('tuple_id');var cH=[cG.v[(cG.c?0:L)]];var cI=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(cH));return cI[0]}});bE.$ctor1.prototype=bE.prototype;ss.initClass(bF,a,{drawReferenceLineAndTrendLineGroup:function(L,cG,cH,cI,cJ){var cK=false;var cL=null;var cM=null;var cN=null;for(var cO=0;cO<L.length;cO++){var cP=L[cO];var cQ=cP.type==='draw-fill-rect'||cP.type==='draw-text';var cR=cG==='hover'||cG==='selected';var cS=true;if(cQ&&cR){var cT=tab.ColorModel.fromColorCode(cH.get_shapeFillStyle());if(cT.get_a()<1){if(cG==='hover'){continue}cS=false}}var cU=cP.type==='draw-pen'||cP.type==='draw-solid-brush'||cP.type==='draw-text-props';if(cI||cU){if((cU||!cS)&&cK){cH.set_strokeStyle(cL.toString());cH.set_shapeFillStyle(cM.toString());cH.set_textFillStyle(cN.toString());cK=false}if((ss.isValue(cJ)||cG!=='normal')&&!cK&&!cU&&cS){var cV=cP.type==='draw-polyline'||cP.type==='draw-path'||cP.type==='draw-rect'||cP.type==='draw-fill-rect';cL=tab.ColorModel.fromColorCode(cH.get_strokeStyle());cM=tab.ColorModel.fromColorCode(cH.get_shapeFillStyle());cN=tab.ColorModel.fromColorCode(cH.get_textFillStyle());var cW=bF.calculateColorForState(cL,cG,cV,cJ);var cX=bF.calculateColorForState(cM,cG,cV,cJ);var cY=bF.calculateColorForState(cN,cG,cV,cJ);cK=!ss.referenceEquals(cW,cL.toString())||!ss.referenceEquals(cX,cM.toString())||!ss.referenceEquals(cY,cN.toString());if(cK){cH.set_strokeStyle(cW);cH.set_shapeFillStyle(cX);cH.set_textFillStyle(cY)}}this.renderVisualParts(cH,cP)}}if(cK){cH.set_strokeStyle(cL.toString());cH.set_shapeFillStyle(cM.toString());cH.set_textFillStyle(cN.toString())}},renderScene:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$A=L.get_scene();var cG=this.$A.scene;if(!ss.isValue(cG)){return}this.$y.setRenderOffsetNoTranslate(this.get_renderOffset());var cH=this.get_currentContext().get_numberSavedStates();var cI=L.get_mapServerModel().get_useFastMaps();if(!cI){this.$x(L.get_vizRegionMap(),L.get_drawFirstParts())}var cJ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var cK=3;cJ=tab.RectXYUtil.outsetRect(cJ,cK,cK);this.$A.prepareForDraw(cJ);var cL=(ss.isValue(this.$A.get_runtimeData())?this.$A.get_runtimeData().get_annexedData().Panes:null);this.$o(cL,cI);this.$A.cleanupFromDraw();this.$x(L.get_vizRegionMap(),L.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>cH){this.get_currentContext().restore()}},renderViewportBorders:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$A=L.get_scene();var cG=this.$A.scene;if(ss.isNullOrUndefined(cG)){return}var cH=null;var cI=L.get_scene().get_runtimeData();if(cI===Object(cI)){cH=this.$b(L.get_scene().get_runtimeData().get_panes())}if(ss.isNullOrUndefined(cH)){return}var cJ=[];var cK=this.get_currentCanvas().width-1;var cL=this.get_currentCanvas().height-1;var cM={x:0,y:0};var cN={x:cK,y:0};var cO={x:0,y:cL};var cP={x:cK,y:cL};var cQ=false;var cR=false;for(var cS=0;cS<cH.drawItems.length;cS++){var cT=cH.drawItems[cS];if(cT.type==='clip-rect'||cT.type==='transform'){continue}if(cT.type==='draw-polyline'){var cU=tab.MiscUtil.cloneObject(cT);if(cU.points[1]===cU.points[3]){if(cQ){bF.$0(cU.points,cO,cP)}else{bF.$0(cU.points,cM,cN)}cQ=true}else{if(cR){bF.$0(cU.points,cN,cP)}else{bF.$0(cU.points,cM,cO)}cR=true}cJ.push(cU)}else{cJ.push(cT)}}this.get_currentContext().save();this.$h(cJ,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(L,cG,cH){var cI=L.get_vizRegionMap()['axis-rules'];if(ss.isValue(cI)){var cJ=function(cR,cS){var cT={type:'draw-polyline',points:new Array(4)};bF.$0(cT.points,cR,cS);return cT};var cK=tab.RenderUtil.calculatePixelRatio(true);var cL=this.get_currentCanvas().height-1;var cM=[];var cN=cI.get_visualListPM().drawItems;for(var cO=0;cO<cN.length;cO++){var cP=cN[cO];if(cP.type==='draw-pen'){cM.push(cP)}else if(cP.type==='draw-polyline'){var cQ=cP;if(cQ.points[0]===cQ.points[2]){cM.push(cJ({x:0,y:-cH.y},{x:0,y:Math.round(cK*cG.h)-cH.y}))}else if(cQ.points[1]===cQ.points[3]){cM.push(cJ({x:-cH.x,y:cL},{x:Math.round(cK*cG.w)-cH.x,y:cL}))}}}this.get_currentContext().save();this.$h(cM,null,'axis-rules');this.get_currentContext().restore()}},$b:function(L){for(var cG=0;cG<L.length;cG++){var cH=L[cG];for(var cI=0;cI<cH.drawPane.length;cI++){var cJ=cH.drawPane[cI];if(cJ.visualPart==='pane-borders'){return cJ}}}return null},$x:function(L,cG){if(tab.MiscUtil.isNullOrEmpty$2(L)||ss.getKeyCount(L)===0){return}for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];var cJ=L[cI];if(!ss.contains(bN.blackListVisualParts,cI)&&cI!=='axis-rules'){if(ss.isValue(cJ)){this.get_currentContext().save();var cK=this.$A.get_imageDictionary();this.$y.renderVisualListHelper(cJ,cK);this.get_currentContext().restore()}}}},$v:function(L,cG){if(!ss.isValue(L)){return}this.get_currentContext().save();this.$h(L.drawItems,cG,L.visualPart);this.get_currentContext().restore()},$o:function(L,cG){if(!ss.isValue(L)){return}var cH=this.$9(L);if(!cG){this.$g(cH)}if(ss.isValue(this.$A.get_runtimeData().get_finalDataStore().GridLines)){this.$i(cH)}this.startCachingVisibleRect();this.$l(cH);this.stopCachingVisibleRect();this.$w(cH,'foreground')},$g:function(L){var cG=['background','decoration','ref-bands','cell-borders','misc'];for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];var cL=cK.item1;var cM=cK.item2;var cN=cL.DrawPanes;for(var cO=0;cO<cN.length;cO++){var cP=cN[cO];var cQ=cP;var cR=tab.EnumConversions.visualPartFromInt(cQ[0]);var cS=cR===cI;if(!cS&&cI==='misc'){cS=this.$a(cR)==='background'&&cG.indexOf(cR)<0}if(cS){var cT=tab.RuntimeUtil.visualListFromDrawPane(cP);this.$v(cT,cM)}}if(cI==='ref-bands'){this.$q(cM)}}}},$i:function(L){var cG=new Q(this.get_currentCanvas(),this.get_currentContext());for(var cH=0;cH<L.length;cH++){var cI=L[cH];var cJ=cI.item1;var cK=cJ.DrawPanes;for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=cM;var cO=tab.EnumConversions.visualPartFromInt(cN[0]);if(cO==='decoration'){var cP={x:cJ.Rect[0],y:cJ.Rect[1],w:cJ.Rect[2],h:cJ.Rect[3]};cG.renderGridLines(this.$A.get_runtimeData().get_finalDataStore(),cJ.Column,cJ.Row,cP)}}}},$w:function(L,cG){for(var cH=0;cH<L.length;cH++){var cI=L[cH];var cJ=cI.item1;var cK=cI.item2;var cL=cJ.DrawPanes;for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];var cO=cN;var cP=tab.EnumConversions.visualPartFromInt(cO[0]);if(cG===this.$a(cP)){var cQ=tab.RuntimeUtil.visualListFromDrawPane(cN);this.$v(cQ,cK)}}}},$9:function(L){var cG=[];for(var cH=0;cH<L.length;cH++){var cI=L[cH];if(this.$e(cI)){cG.push({item1:cI,item2:this.$A.getPaneDrawInfoAssociatedWithPane(cI)})}}return cG},$l:function(L){for(var cG=0;cG<bF.$4.length;cG++){var cH=bF.$4[cG];for(var cI=0;cI<bF.$3.length;cI++){var cJ=bF.$3[cI];for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=cL.item1;var cN=cL.item2;if(ss.isNullOrUndefined(cN)){continue}if(cJ==='marks'||cJ==='label'){this.$k(cM.DrawPanes,cN,cH,cJ)}else{this.$t(cN,cH,cJ);this.$p(cM.PredictionMarks,cN,cH,cJ)}}}}},$h:function(L,cG,cH){if(!ss.isValue(L)){return}var cI=this.$A.get_imageDictionary();if(cH!=='ref-lines'&&cH!=='ref-bands'&&cH!=='trend-lines'){var cJ=null;if(cH==='decoration'){if(ss.isValue(cG)){cJ=cG.mapExtents}}this.$y.renderDrawItems(L,null,cI,cJ)}else{if(this.$d(cH,cG)){return}var cK=this.$A.selections.refLineSelection;var cL=!cK.isEmpty;var cM=this.$A.selections.trendLineSelection;var cN=!cM.isEmpty;var cO=this.$A.brushings.trendLineSelection;var cP=null;for(var cQ=0;cQ<L.length;cQ++){var cR=L[cQ];if(cR.type==='draw-group'){var cS=cR;var cT=false;var cU=false;switch(cH){case'ref-lines':{cT=cK.isObjectSelected(cS.objectId);cU=!cT&&(cL||cN);break}case'ref-bands':{cU=(cL||cN)&&!cK.isObjectSelected(cS.objectId);break}case'trend-lines':{if(cS.objectId>2147483647){if(!cO.isEmpty){continue}cT=false;cU=false}else{cT=cM.isObjectSelected(cS.objectId);cU=!cT&&!cO.isObjectSelected(cS.objectId)&&(this.$A.get_hasBrushing()||this.$A.get_hasSelection())}break}}var cV=(cU?'fogged':(cT?'selected':'normal'));if(cU&&ss.isNullOrUndefined(cP)){cP=bF.getFogBlendFactorAndBackgroundColor(cG)}this.drawReferenceLineAndTrendLineGroup(cS.drawItems,cV,this.get_currentContext(),true,(cU?cP:null))}else{this.renderVisualParts(this.get_currentContext(),cR)}}}},renderVisualParts:function(L,cG){this.$y.renderDrawItemDefaultOptions(L,cG)},$e:function(L){return this.isRectVisible({x:L.Rect[0],y:L.Rect[1],w:L.Rect[2],h:L.Rect[3]})},$u:function(L,cG,cH,cI,cJ,cK){this.get_currentContext().save();if(!L.skipClipping){this.get_currentContext().setClip(cK)}this.get_currentContext().translate(L.paneRect.x,L.paneRect.y);cJ(L,cG,cH,cI);this.get_currentContext().restore()},$f:function(L,cG,cH){if(L.markCount===0){return}var cI=new bC(this.get_currentCanvas(),this.get_currentContext());cI.setRenderOffsetNoTranslate(this.get_renderOffset());if(!L.hasUserPanes){this.$u(L,0,cI,cG,cH,L.get_mapExtentOrPaneRect());return}var cJ=L.userPaneCount;var cK=L.paneRect.x;var cL=L.paneRect.y;for(var cM=0;cM<cJ;++cM){var cN=L.getUserPaneRectByIndex(cM);cN=tab.RectXYUtil.offsetRectXY(cN,cK,cL);var cO=L.getUserPaneMarkCount(cM);if(cO>0&&this.isRectVisible(cN)){this.$u(L,cM,cI,cG,cH,cN)}}},$k:function(L,cG,cH,cI){for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];var cL=cK;var cM=tab.EnumConversions.visualPartFromInt(cL[0]);if(cM==='marks'){if(cI==='marks'){this.$n(cG,cH);break}else if(cI==='label'){if(cG.get_hasLabels()){this.$m(cG,cH);break}}}}},$n:function(L,cG){this.$f(L,cG,ss.mkdel(this,this.$j))},$m:function(L,cG){this.$f(L,cG,function(cH,cI,cJ,cK){cJ.renderMarkLabels(cH,cI,cK)})},$j:function(L,cG,cH,cI){var cJ=L.markType;switch(cJ){case'shape':{{cH.renderShapeMark(L,cG,cI)}break}case'square':case'bar':{{cH.renderBarMark(L,cG,cI)}break}case'pie':{{cH.renderPieMark(L,cG,cI)}break}case'line':{{cH.renderLineMark(L,cG,cI)}break}case'area':{{cH.renderAreaMark(L,cG,cI)}break}case'text':{{cH.renderTextMarks(L,cG,cI)}break}case'multipolygon':{{cH.renderMultipolygonMark(L,cG,cI)}break}default:{break}}},$a:function(L){switch(L){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'},$c:function(L){if(L.get_instantRefLineIsEnabled()&&bF.anInstantRefLineIsPresent(this.$A.get_runtimeData())){return'fogged'}var cG=this.$A.selections.refLineSelection;var cH=this.$A.selections.trendLineSelection.isEmpty;if(cG.isEmpty&&cH){return'normal'}if(cG.isObjectSelected(L.get_id())){return'selected'}return'fogged'},$p:function(L,cG,cH,cI){if(!ss.isNullOrUndefined(L)){for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];var cL=tab.RuntimeUtil.renderNodeFromPredictionMark(cK);switch(cL.type){case'prediction-band':{var cM=new bC(this.get_currentCanvas(),this.get_currentContext());cM.setRenderOffsetNoTranslate(this.get_renderOffset());cM.renderPredictionBand(cG,cH,cL,cI);break}case'prediction-whisker':{var cN=new bC(this.get_currentCanvas(),this.get_currentContext());cN.setRenderOffsetNoTranslate(this.get_renderOffset());cN.renderPredictionWhisker(cG,cH,cL,cI);break}}}}},$q:function(L){this.$s(L,'normalUnderPass','background',function(cG,cH){return cG.getRefBands(cH)},function(cG,cH){return cG.getInstantRefBands(cH)})},$t:function(L,cG,cH){this.$s(L,cG,cH,function(cI,cJ){return cI.getRefLines(cJ)},function(cI,cJ){return cI.getInstantRefLines(cJ)})},$s:function(L,cG,cH,cI,cJ){if(ss.isNullOrUndefined(this.$A)||ss.isNullOrUndefined(L)||ss.isNullOrUndefined(this.$A.get_referenceLines())){return}this.$z.setRenderOffsetNoTranslate(this.get_renderOffset());var cK=this.$A.get_referenceLines();var cL=L.get_paneDescriptorKey();this.$r(L,cI(cK,cL),ss.mkdel(this,this.$c),cG,cH);this.$r(L,cJ(cK,cL),function(cM){return'normal'},cG,cH)},$r:function(L,cG,cH,cI,cJ){for(var cK=0;cK<cG.length;cK++){var cL=cG[cK];this.$z.renderReferenceLines(cL,cH,L,cI,cJ)}},$d:function(L,cG){return(L==='ref-lines'||L==='ref-bands')&&ss.isValue(this.$A.get_referenceLines())&&ss.isValue(cG)&&this.$A.get_referenceLines().getInstantRefLines(cG.get_paneDescriptorKey()).length>0}},tab.CanvasRenderer);ss.initClass(bG,a,{$q:function(){return this.get_viewModel()},$p:function(){return this.renderer},get_isContentOpaque:function(){return!this.$q().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.$q().get_visualModel().get_backgroundColor()},performRender:function(){var L='viz: '+this.$q().get_sheetId();{var cG=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),16,L);try{this.renderer.clear();this.$p().renderScene(this.$q())}finally{if(ss.isValue(cG)){cG.dispose()}}}},onViewModelPropertyChanged:function(L,cG){if(cG.get_propertyName()==='borderHighlight'){return}var cH=this.$q().getAndClearInvalidationRects();if(cH.length===0){this.invalidate(false)}else{var cI=tab.RectXYUtil.unionAll(cH);var cJ=3;tab.RectXYUtil.outsetRectInPlace(cI,cJ,cJ);tab.RectXYUtil.offsetRectXYInPlace(cI,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(cI,false)}},postRenderFinalPass:function(){this.$p().renderViewportBorders(this.$q());this.$p().renderAxisRulers(this.$q(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(cx,[bN]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bN]),spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(bH,a,{update:function(L){var cG=ss.isValue(this.$0)&&_.isEqual(L,this.$0);if(!cG){this.$0=L}return cG},clear:function(){this.$0=null}});ss.initClass(bI,a,{get_regionGeometry:function(){return this.$1$1},set_regionGeometry:function(L){this.$1$1=L},get_visibleGeometry:function(){return this.$1$2},set_visibleGeometry:function(L){this.$1$2=L},get_geometryWithRegions:function(){return this.$1$3},set_geometryWithRegions:function(L){this.$1$3=L}});ss.initClass(bJ,a,{});ss.initClass(bK,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$R},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$v();this.$w();this.$u();this.$p();this.$W=false},hoverOverWhitespace:function(){this.$O=false},setScrollPosition:function(L){this.set_scrollPos(L);this.$L=[];this.invalidate(true)},setDragOverlayTuples:function(L){this.$v();this.$w();this.$p();if(this.$W){return}this.$S=L;var cG=bK.$0(this.$M,L);var cH=cG.length;if(cH>0){var cI=[];for(var cJ=0;cJ<cH;cJ++){var cK=cG[cJ];var cL=this.$y(cK);cI.push(cL)}var cM=this.$X.get_shapeSelector();this.$V=cM.retrieveStateObject(this.$V);var cN=cM.getStateDiff(this.$V);var cO=cN.length;var cP=new Set;var cQ=new Array(cO);for(var cR=0;cR<cO;cR++){var cS=cN[cR];var cT={x:0,y:0,w:0,h:0};for(var cU=0;cU<cH;cU++){if(cP.has(cU)){continue}var cV=cI[cU];if(tab.RectXYUtil.intersectsWithAny(cS,cV)){cT=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(cV),cT);cP.add(cU)}}cQ[cR]=(tab.RectXYUtil.isEmpty(cT)?cT:tab.RectXYUtil.outsetRect(cT,3,3))}cQ=tab.RectXYUtil.reduceRectangles(cQ);this.$L=cQ;if(bK.$1){this.invalidate(false)}var cW=tab.RectXYUtil.unionAll(cQ);cW=tab.RectXYUtil.offsetRect(cW,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(cW,true)}else{this.$L=[];this.clearDirty();this.$S=null}},setHoverOverlayTarget:function(L,cG){this.$R='hover';if(!this.$P.$1(L,cG)){this.$O=false}if(this.$P.$2(L,cG)||ss.isValue(this.$M)&&this.$M.length>0){return false}this.$q();var cH=this.$z(L,cG);this.$A(cH);this.$P.$3(L,cG,cH);this.$F();return true},setPressedOverlayTarget:function(L,cG){this.$O=true;this.$R='press';if(this.$T.$2(L,cG)){return false}this.$q();var cH=this.$z(L,cG);this.$A(cH);this.$T.$3(L,cG,cH);this.$F();return true},$E:function(L,cG){if(cG.get_propertyName()==='scene'){this.$K()}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$L.length>0||ss.isValue(this.$M)&&this.$M.length>0){this.$G()}else{this.renderer.clear();var cG=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$P.$4()){if(this.$P.$8==='mark'){var cH=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$P.$5());if(!ss.isNullOrUndefined(cH)){this.$r(this.$P.$5(),cH,cG);bF.renderHoverOverlay(this.$P.$5(),cH,this.context)}}else{this.$I(this.$P);this.$J(this.$P)}}else if(this.$T.$4()){if(this.$T.$8==='mark'){var cI=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$T.$5());if(!ss.isNullOrUndefined(cI)){this.$r(this.$T.$5(),cI,cG);bF.renderPressedOverlay(this.$T.$5(),cI,this.context)}}else{this.$I(this.$T);this.$J(this.$T)}}}}L.dispose()},$t:function(L,cG,cH){var cI=tab.RectXYUtil.offsetRectXY(L,cG.paneRect.x,cG.paneRect.y);var cJ=cG.mapExtents;if(ss.isValue(cJ)){tab.RectXYUtil.intersectInPlace(cI,cJ)}tab.RectXYUtil.intersectInPlace(cI,cH);this.context.setClip(cI);this.context.translate(cG.paneRect.x,cG.paneRect.y)},$r:function(L,cG,cH){var cI=cG.getUserPaneRectByTupleId(L);this.$t(cI,cG,cH)},$s:function(L,cG,cH){var cI=cG.getUserPaneRectByIndex(L);this.$t(cI,cG,cH)},$G:function(){var L=75;var cG=(new Date).getTime();if(ss.isNullOrUndefined(this.$S)){this.$S=this.$M}if(this.$L.length===0){var cH={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$L.push(cH)}if(this.$S.length===0){this.renderer.clear();return}if(bK.$1){this.renderer.clear()}var cI={};var cJ={};var cK={};var cL=this.get_paneTableVM().get_scene();for(var cM=0;cM<this.$S.length;cM++){var cN=this.$S[cM];var cO=cL.getPaneDrawInfoFromTupleId(cN);var cP=cO.paneDrawInfoKey;cI[cP]=ss.coalesce(cI[cP],new Set);cI[cP].add(cN);cJ[cP]=cO;var cQ=cL.getMarkBoundingBox(cN);var cR=cO.getWorldOffsetBounds(cQ);cK[cN]=cR}var cS=0;var cT=this.$L.length;for(var cU=0;cU<cT;cU++){var cV=this.$L[cU];this.context.clearRect(cV.x,cV.y,cV.w,cV.h);if(bK.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(cV.x,cV.y,cV.w,cV.h)}var cW=new ss.ObjectEnumerator(cI);try{while(cW.moveNext()){var cX=cW.current();var cY=cJ[cX.key];var cZ=tab.RectXYUtil.intersect(cV,cY.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(cZ)){continue}var da=false;var db=cY.hasUserPanes;var dc=-1;var dd=false;var de=tab.SetUtilities.getValues(ss.Int32).call(null,cX.value);for(var df=0;df<de.length;df++){var dg=de[df];if(cS>=L){if((new Date).getTime()-cG>145){dd=true;break}cS=0}++cS;if(!tab.RectXYUtil.intersectsWithAny(cZ,cK[dg])){continue}var dh=0;if(db){dh=cY.getUserPaneIndexByMark(cY.getMarkIndexFromTupleId(dg));if(dh!==dc){if(da){this.context.restore();da=false}dc=dh}}if(!da){this.context.save();this.$s(dh,cY,cV);da=true}bF.renderHoverOverlay(dg,cY,this.context)}if(da){this.context.restore()}if(dd){this.$W=true;this.renderer.clear();return}}}finally{cW.dispose()}}},$J:function(L){var cG=[];if(L.$7()==='hover'&&tsConfig.is_authoring){switch(L.$8){case'ref-line':{cG=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{cG=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];var cJ=[];ss.arrayAddRange(cJ,cI.drawItems);this.$H(cJ,L)}},$I:function(L){if(L.$8==='semantic-ref-line'&&L.$7()==='hover'&&tsConfig.is_authoring){if(this.$O&&this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(L.$5())){return}var cG=this.get_paneTableVM().get_scene().get_referenceLines().getRefLineById(L.$5());var cH=this.$x();for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];for(var cK=0;cK<cG.length;cK++){var cL=cG[cK];this.$U.renderOverlay(cL,cJ)}}}},$x:function(){var L=[];var cG=this.get_paneTableVM().get_scene().get_runtimeData().safeFetchMarkPanes();for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];var cJ=this.get_paneTableVM().get_scene().getPaneDrawInfoAssociatedWithPane(cI);if(ss.isValue(cJ)){L.push(cJ)}}return L},$H:function(L,cG){var cH=cG.$7();var cI=cG.$5();this.context.save();var cJ=this.renderer;var cK=ss.getEnumerator(L);try{while(cK.moveNext()){var cL=cK.current();if(cL.type==='draw-group'){var cM=cL;var cN=true;if(this.$O){switch(cG.$8){case'ref-line':{cN=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(cM.objectId);break}case'trend-line':{cN=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(cM.objectId);break}}}if(cN){cJ.drawReferenceLineAndTrendLineGroup(cM.drawItems,cH,this.context,cI===cM.objectId,null)}}else{cJ.renderVisualParts(this.context,cL)}}}finally{cK.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$M=this.$S;this.$S=null;this.$X.get_shapeSelector().updateLastState(this.$V);this.$L=[];if(this.$W){this.$u()}},$F:function(){if(this.$N||tab.MiscUtil.isNullOrEmpty$1(this.$Q)){this.$N=false;this.invalidate(true)}else{var L=tab.RectXYUtil.unionAll(this.$Q);ss.clear(this.$Q);var cG={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};L=tab.RectXYUtil.offsetRect(L,cG);L=tab.RectXYUtil.outsetRect(L,3,3);this.invalidateRect(L,true)}},$p:function(){if(this.$N||!tab.MiscUtil.isNullOrEmpty$1(this.$Q)){this.$F()}},$K:function(){if(!this.$B(this.$P)){this.$P.$0()}if(!this.$B(this.$T)){this.$T.$0()}if(ss.isValue(this.$M)){var L=new Set;for(var cG=0;cG<this.$M.length;cG++){var cH=this.$M[cG];if(this.$C(cH)){L.add(cH)}}this.$M=tab.SetUtilities.getValues(ss.Int32).call(null,L)}},$B:function(L){if(!L.$4()){return false}switch(L.$8){case'mark':{return this.$C(L.$5())}case'ref-line':{return this.$D(this.get_paneTableVM().get_refLineVisualLists(),L.$5())}case'trend-line':{return this.$D(this.get_paneTableVM().get_trendLineVisualLists(),L.$5())}case'unspecified':default:{return false}}},$C:function(L){var cG=this.get_paneTableVM().get_visualModel().get_vizDataModel();var cH=this.get_paneTableVM().get_scene();return ss.isValue(cG)&&cG.hasTupleId(L)&&!cH.isMarkFiltered(L)},$D:function(L,cG){for(var cH=0;cH<L.length;cH++){var cI=L[cH];var cJ=cI.drawItems;for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];if(cL.objectId===cG){return true}}}return false},$q:function(){this.$v();this.$w();this.$u()},$z:function(L,cG){if(cG==='mark'){return this.$y(L)}else{return null}},$A:function(L){if(ss.isNullOrUndefined(L)){this.$N=true;ss.clear(this.$Q);return}for(var cG=0;cG<L.length;cG++){var cH=L[cG];this.$Q.push(cH)}},$y:function(L){var cG=this.get_paneTableVM().get_scene();var cH=cG.getMarkBoundingBox(L);var cI=cG.getPaneDrawInfoFromTupleId(L);var cJ=cI.getWorldOffsetBounds(cH);return cJ},$v:function(){if(this.$P.$4()){this.$A(this.$P.$6());this.$P.$0()}},$w:function(){if(this.$T.$4()){this.$A(this.$P.$6());this.$T.$0()}},$u:function(){if(ss.isValue(this.$M)){for(var L=0;L<this.$M.length;L++){var cG=this.$M[L];ss.arrayAddRange(this.$Q,this.$y(cG))}this.$M=null}this.$S=null;this.$L=[];this.$V=null}},ss.makeGenericType(cx,[bN]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bN]),spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(bL,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bM,a,{get_zoomToolbarContainerDiv:function(){return this.dom.view.get(0)},get_isMapSearchEnabled:function(){return this.get_paneTableVM().get_mapSearchEnabled()},get_shouldEnableZoomHomeToolbar:function(){return this.get_paneTableVM().shouldEnableZoomHomeToolbar()},get_geometryBundle:function(){return this.$3$1},set_geometryBundle:function(L){this.$3$1=L},get_geometry:function(){return this.get_geometryBundle().get_geometryWithRegions()},get_visibleGeometry:function(){return this.get_geometryBundle().get_visibleGeometry()},get_vizHitTestDebouncer:function(){return this.$3$2},set_vizHitTestDebouncer:function(L){this.$3$2=L},get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_axisRegions:function(){return this.get_paneTableVM().get_axisRegions()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.get_geometry())?this.get_geometry().pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.get_geometry())?this.get_geometry().pi.yHeights.length:0)},get_paneSize:function(){var L=((this.get_numColumns()>0)?this.get_geometry().pi.xWidths[0]:0);var cG=((this.get_numRows()>0)?this.get_geometry().pi.yHeights[0]:0);return{w:L,h:cG}},get_scrollPosition:function(){return this.$13},set_scrollPosition:function(L){this.$13=L;this.$w(this.$13);this.$J()},get_controller:function(){var L=this.get_paneTableVM();var cG=L.get_viewController();return cG},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_isSameVisualID:function(){return ss.referenceEquals(this.get_visualId(),this.vizTooltip.get_visualIDPresModel())},get_paneTableVM:function(){return this.get_viewModel()},get_vizToolTip:function(){this.$d();return this.vizTooltip},get_tooltipMode:function(){return this.get_paneTableVM().get_visualModel().get_tooltipMode()},get_mapToolSelectionMode:function(){return this.get_paneTableVM().get_visualModel().get_defaultMapTool()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(L){this.regions['viz']=L},get_vizRegionDomNode:function(){return this.dom.view.children().first()},get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldDisablePanTool:function(){return this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'},get_shouldShowTools:function(){var L=this.get_paneTableVM().get_visualModel().get_floatingToolbarVisibility()==='show'||this.get_paneTableVM().get_visualModel().get_floatingToolbarVisibility()==='auto'&&this.allowPanZoomActions();return L},get_geometryArgCache:function(){return this.$S},init:function(){this.$l();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();this.set_vizHitTestDebouncer(tab.MiscUtil.dispose$1(this.get_vizHitTestDebouncer()));if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.set_vizHitTestDebouncer(new bn(this,this.get_vizRegion(),this.get_paneTableVM().get_localRenderVizHitTester()))}else{this.set_vizHitTestDebouncer(new ca(this,this.get_vizRegion()))}},dispose:function(){this.$T=true;if(ss.isValue(this.get_vizHitTestDebouncer())){this.get_vizHitTestDebouncer().dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$L))}this.floatingZoomToolbarView.dispose();if(ss.isValue(this.$16)){this.$16.dispose()}if(ss.isValue(this.$Q)){this.$Q.dispose()}if(ss.isValue(this.$X)){this.$X.dispose()}if(ss.isValue(this.$Y)){this.$Y.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$10)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$10,this.$10.$E));this.$10.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).prototype.dispose.call(this)},$e:function(L,cG,cH){if(L.moveNext()&&!ss.staticEquals(L.current(),null)){L.current()(this,cG).done(ss.mkdel(this,function(cI){if(cI){cH.resolve(true);return}this.$e(L,cG,cH)}))}else{cH.resolve(false)}},initEventHandlers:function(){this.$9();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.setupAxisContextMenuIndicator();this.refreshScrollingAndAxisIcons()},callAsyncVizDragHandlers:function(L,cG){var cH=$.Deferred();this.$e(ss.getEnumerator(bM.$4),L,cH);cH.done(ss.mkdel(this,function(cI){if(cI){this.get_vizToolTip().close();return}cG(L)}))},callVizDragHandlers:function(L,cG){for(var cH=0;cH<bM.$8.length;cH++){if(bM.$8[cH](this,L)){this.get_vizToolTip().close();return}}cG(L)},getVizDragApproval:function(L){if(ss.isValue(L)){for(var cG=0;cG<bM.$7.length;cG++){if(bM.$7[cG](L)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_visualId());if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().restoreInitialTextInputValue()}},doTiledViewerRefreshImages:function(L){this.refreshImages(L)},setPointerToolMode:function(L,cG){this.isPointerToolLocked=cG;if(this.isPointerToolLocked){this.get_paneTableVM().get_vizRegionToolModeViewModel().setLockedPointerToolMode(L)}this.get_paneTableVM().get_vizRegionToolModeViewModel().setPointerToolMode(L)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_paneTableVM().get_vizRegionToolModeViewModel().defaultPointerToolMode}return'rectangular-selection'},resetPointerToolMode:function(){var L=this.floatingZoomToolbarView.resetPointerToolbarMode();if(!L&&ss.isValue(this.get_vizRegion())){this.get_paneTableVM().get_vizRegionToolModeViewModel().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var L=this.get_vizToolTip();L.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));L.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));L.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));L.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var L=this.get_paneTableVM().get_visualModel();var cG=[L.get_backgroundColor().toString(),L.get_paneBGColor(),L.get_headerBGColor()];if(ss.isValue(this.$O)&&_.isEqual(this.$O,cG)){return}this.$O=cG;var cH=!tab.ApplicationModel.get_instance().get_isLocalRenderMode();for(var cI=0;cI<bO.contentRegions.length;cI++){var cJ=bO.contentRegions[cI];var cK=this.regionParts.getSelectorForRegion(cJ);if(ss.isNullOrUndefined(cK)){continue}var cL=bM.$1(cG,cJ);cK.css('background-color',cL);if(cH){var cM=$('.tvimagesContainer',cK);cM.css('background-color',cL)}}this.$G(cG[2])},$G:function(L){for(var cG=0;cG<bO.spacerRegions.length;cG++){var cH=bO.spacerRegions[cG];this.regionParts.getSelectorForRegion(cH).css('background-color',L)}},$k:function(L,cG){for(var cH=0;cH<bO.nonVizContentRegions.length;cH++){var cI=bO.nonVizContentRegions[cH];var cJ=this.regionParts.getSelectorForRegion(cI);var cK=this.makeTiledWindow(cJ,this.get_session(),this.get_controller(),ss.mkdel(this,this.$g),null);this.regions[cI].set_contentProvider(cK)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(L,this.get_session(),this.get_controller(),ss.mkdel(this,this.$g),cG))},makeRegionContentProvidersHelper:function(L,cG){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$L));var cH='transparent';var cI=new bG(this.get_paneTableVM(),this.getDomNodeForContentRegion(L),cH);var cJ=$('.tvimagesContainer',L);cJ.get(0).appendChild(cI.element.get(0));this.get_vizRegion().set_contentProvider(cI);this.$L();this.$10=this.makePaneTableOverlayView(this.getDomNodeForContentRegion(L));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$10,this.$10.$E));cJ.get(0).appendChild(this.$10.element.get(0))}else{this.$k(L,cG)}this.updateRegionBackgroundColor()},makePaneTableOverlayView:function(L){return new bK(this.get_paneTableVM(),L,this.get_vizRegion())},makeTiledWindowHelper:function(L,cG,cH,cI,cJ,cK){var cL=new cm(this.getDomNodeForContentRegion(L),cG,cH,cI,cK);if(ss.isValue(cJ)){cL.add_loadComplete(cJ);this.disposables.add$1(new tab.CallOnDispose(function(){cL.remove_loadComplete(cJ)}))}return cL},destroyRegions:function(){var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var cG=L.current();if(ss.isValue(this.regions[cG])){this.regions[cG].destroy()}}}finally{L.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$B:function(L){if(ss.keyExists(L.commandParams,'tupleId')){var cG=parseInt(L.commandParams['tupleId'].toString(),10);var cH=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(cG);if(ss.isNullOrUndefined(cH)){return false}}if(ss.keyExists(L.commandParams,'selection')){var cI=L.commandParams['selection'];if(ss.isValue(cI)){try{var cJ=JSON.parse(cI);if(cJ.selectionType==='tuples'){for(var cK=0;cK<cJ.objectIds.length;cK++){var cL=cJ.objectIds[cK];var cM=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(cL);if(ss.isNullOrUndefined(cM)){return false}}}}catch(cN){return false}}}return true},onCommandExecuted:function(L,cG){if(ss.isNullOrUndefined(cG)||ss.isNullOrUndefined(cG.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(cG.command.command)&&!this.$B(cG.command.command)){return}if(cG.command.get_commandType()===7){this.get_session().executeCommand(cG.command)}else{tab.UberTipClientCommands.executeUbertipCommand(cG.command)}},onActionExecuted:function(L,cG){if(ss.isNullOrUndefined(cG)||ss.isNullOrUndefined(cG.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(cG.action.command)&&!this.$B(cG.action.command)){return}var cH=function(){L.hideSpinner()};var cI=function(cJ){L.hideSpinner()};this.get_session().executeAction(cG.action,cI,cH)},doDoubleTap:function(L,cG,cH){if(!tsConfig.allow_filter){return}if(L.get_regionPart()!=='viz'||!this.allowPanZoomActionsOnDoubleTap()){return}if(this.get_paneTableVM().get_isMapWithBaseLayer()&&!L.allowMapZoomAtCurrentLevel(cH)){return}this.get_controller().incrementCacheVersion();var cI=tab.DeferLayoutImpl.get_instance();cI.setDeferLayoutUpdates(true);var cJ=this.resolvePane(L.toLocalCoordsEvent(cG,false));L.zoomPoint(cJ,L.toLocalCoordsEvent(cG,false),cH,true,cI);this.get_vizToolTip().close();this.disposeOfOverlays()},$o:function(L,cG){if(!ss.referenceEquals(L,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().reset()}},dragOverride:function(L,cG){if(this.isUserDragging()){return}this.callVizDragHandlers(L,cG)},dragOverrideAsync:function(L,cG){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(L,cG)},clearSelection:function(){this.get_paneTableVM().clearAnnotationSelection();tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(L){this.$12+=1;var cG=ss.getEnumerator(Object.keys(this.regions));try{while(cG.moveNext()){var cH=cG.current();this.regions[cH].refreshImages(L)}}finally{cG.dispose()}this.$R.$0(L,this.get_session(),this.$g())},$z:function(L,cG){var cH=0;if(ss.isValue(L.title)&&this.dom.title.css('display')!=='none'){var cI=this.$16.minSizeHint();var cJ={l:0,t:L.title.y,w:Math.max(L.title.w+cG.get_scrollWidth(),cI.w),h:Math.max(L.title.h,cI.h)};this.titleHeight=cJ.h;var cK=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(cJ,cK)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,cJ);this.$16.handleNewTextRegion();cH=L.title.h+L.title.y}}return cH},$u:function(L,cG){var cH=0;if(ss.isValue(this.$Q)&&this.dom.caption.css('display')!=='none'){var cI;if(ss.isValue(L.caption)){cH=L.caption.h+8+cG.get_scrollHeight();cI={l:L.caption.x,t:L.caption.y-cG.get_heightScrollOffset(),w:L.caption.w,h:L.caption.h}}else{cI={l:0,t:0,w:0,h:0}}var cJ=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(cI,cJ)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,cI);this.$Q.handleNewTextRegion()}}return cH},updateGeometry:function(){this.$R.$1();this.$12+=1;var L=this.get_geometryBundle().get_regionGeometry();var cG=this.get_geometryBundle().get_visibleGeometry();var cH=this.get_geometryBundle().get_geometryWithRegions();this.titleHeight=0;var cI=L.get_overallHeight();var cJ=this.$z(cH,L);cI=Math.max(cI,cJ);var cK=this.$u(cH,L);cI-=cK;this.$x(cG,cH);this.setGeometryForWebScrollbars(L,cI);this.refreshScrollingAndAxisIcons();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$x:function(L,cG){var cH=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var cI=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(cI)){cH=cI.get_visualListPM().drawItems}}this.$v(L.uleftArea,cH,this.dom.topLeftSpacer,'uleft');if(ss.isValue(cG.uleft)){this.tlspacerAreaY=$.extend({},L.uleftArea);if(ss.isValue(cG.di)&&cG.uleft.h>=40){this.tlspacerAreaY.t=cG.uleft.y+cG.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(cG.di)&&ss.isValue(cG.di.xy)&&ss.isValue(cG.di.xy[0])){var cJ=18;var cK=cG.xheader;if(ss.isValue(cK)&&cK.h>cG.di.xs){var cL=cG.di.xy.length;for(var cM=0;cM<cL;cM++){if(cG.di.xy[cM][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-cJ,t:cG.uleft.y,w:cJ,h:cG.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}this.$y(cG.yheader,this.dom.yLabel,'yheader',cG.ts,L.yheaderArea);this.$y(cG.leftaxis,this.dom.leftAxis,'leftaxis',cG.ts,L.leftaxisArea);this.$y(cG.rightaxis,this.dom.rightAxis,'rightaxis',cG.ts,L.rightaxisArea);this.$y(cG.xheader,this.dom.xLabel,'xheader',cG.ts,L.xheaderArea);this.$y(cG.bottomaxis,this.dom.bottomAxis,'bottomaxis',cG.ts,L.bottomaxisArea);this.$y(cG.topaxis,this.dom.topAxis,'topaxis',cG.ts,L.topaxisArea);this.$v(L.urightArea,cH,this.dom.topRightSpacer,'uright');this.$v(L.lleftArea,cH,this.dom.bottomLeftSpacer,'lleft');this.blspacerArea=L.lleftArea;this.$v(L.lrightArea,cH,this.dom.bottomRightSpacer,'lright');this.$y(cG.viz,this.dom.view,'viz',cG.ts,L.vizArea)},$v:function(L,cG,cH,cI){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(cH,L);this.setRegionGeometryHelper(cH,L);cH.show();this.$R.$2(cH,cI,cG)}else{cH.hide()}},$y:function(L,cG,cH,cI,cJ){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(cG,cJ);this.setRegionGeometryHelper(cG,cJ);cG.show();this.regions[cH].setGeometry(L,cJ,cI);if(cH==='viz'&&ss.isValue(this.$10)){this.$10.set_actualViewSize({w:cJ.w,h:cJ.h});this.$10.reset(L,cI)}}else{cG.hide()}},resolvePane:function(L){var cG=this.get_geometry().pi;var cH={canDragH:cG.hasXQAxis,canDragV:cG.hasYQAxis,x:0,y:0,w:0,h:0};bM.$2(L.x,cG.xWidths,cH);bM.$3(L.y,cG.yHeights,cH);return cH},allowPanZoomActions:null,allowPanZoomActionsOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.get_geometry())&&ss.isValue(this.get_geometry().viz)){var L=this.get_geometry().viz.w;var cG=this.get_geometry().viz.h;var cH=this.get_vizRegion();var cI=cH.get_contentProvider();var cJ=cI.get_effectiveViewSize().w;var cK=cI.get_effectiveViewSize().h;return L>cJ||cG>cK}return false},isOneVisiblePane:function(){if(ss.isValue(this.get_geometry())&&ss.isValue(this.get_geometry().viz)){var L,cG;var cH=this.get_geometry().viz.w;var cI=this.get_geometry().viz.h;var cJ=this.get_geometry().pi.xWidths;var cK=this.get_geometry().pi.yHeights;cG=cJ.length;for(L=0;L<cG;L++){if(Math.abs(cH-cJ[L])>1){return false}}cG=cK.length;for(L=0;L<cG;L++){if(Math.abs(cI-cK[L])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(L){var cG=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+L);return cG},createOverlayImageFromFile:function(L){var cG=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(L,false,false));return cG},updateOverlayTarget:function(L,cG,cH){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(cG){case'press':{this.$10.setPressedOverlayTarget(L,cH);break}case'hover':{this.$10.setHoverOverlayTarget(L,cH);break}default:{break}}},updateOverlayForLastTargetState:function(L,cG){this.updateOverlayTarget(L,this.$10.get_lastTargetState(),cG)},hoverOverWhitespace:function(){this.$10.hoverOverWhitespace()},updateHoveredCategoricalHeadersAndQuantitativeAxes:function(L,cG,cH){var cI=this.get_paneTableVM().get_vizRegionMap()[cH];if(ss.isNullOrUndefined(cI)){return}switch(cG){case'press':{cI.set_hoveredNodeOrAxis(null);break}case'hover':{cI.set_hoveredNodeOrAxis(L);break}default:{break}}},showOverlayImages:function(L,cG){if(ss.isValue(cG)&&ss.isValue(L)&&cG.length>0){this.disposeOfOverlayImages();for(var cH=1;cH<cG.length;++cH){var cI=L.clone();this.$Z.push(cI);cI.show(cG[cH])}this.$Z.push(L);L.show(cG[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(L){},clickCaption:function(L){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndAxisIcons:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},setupAxisContextMenuIndicator:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(L,cG){},setRegionResizersForWeb:function(){},makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new cq(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId(),this.dom.view,true)}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_paneTableVM().get_tooltipContextProvider())}else{return new co(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId())}},onHoverOverlay:function(L,cG){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&L.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(L.get_toolModeViewModel().get_isSelectingToolActive()||!L.get_isDragTracking()&&L.get_toolModeViewModel().get_currentPointerToolMode()==='pan-map')){var cH=L.toLocalCoordsEvent(cG,false);var cI={x:cG.pageX,y:cG.pageY};this.lastVizHoverPoint=cH;if(this.get_vizToolTip().isHoverAllowed(cI)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(L){var cG=this.get_vizRegion();var cH=this.get_paneTableVM().get_localRenderVizHitTester().onHoverHitTest(this.lastVizHoverPoint);this.onHoverOverVisualPart(cG,cH.get_hitType()!==0);if(cH.get_hitType()===0){this.hoverOverWhitespace()}if(cH.get_shouldRenderOverlay()){if(!L){this.updateOverlayForLastTargetState(cH.get_id(),cH.get_overlayTargetType())}else{this.updateOverlayTarget(cH.get_id(),'hover',cH.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,$n:function(L,cG,cH,cI){this.$b();L.get_shapeSelector().setSingleSelectPoint(cG);var cJ=this.get_vizRegion();var cK=this.get_paneTableVM().get_localRenderVizHitTester().onHoverHitTest(cG);var cL=cK.get_hitType()!==0;this.onHoverOverVisualPart(cJ,cL);if(cL){switch(cK.get_hitObjectType()){case 7:case 8:{var cM=this.get_paneTableVM().get_scene().getMarkBoundingBox(cK.get_id());cG=bM.$0(cG,cM);var cN=this.get_paneTableVM().get_visualModel().get_selectionsModel();var cO=cN.tupleSelection.isObjectSelected(cK.get_id());var cP=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(cK.get_id());var cQ=cP.get_paneDescriptorKey();cH.hoverOverObject(cI,tab.PointUtil.add(cG,{x:this.get_geometry().viz.x,y:this.get_geometry().viz.y}),cG,cK.get_id(),cO,cQ,'mark',L.get_regionPart());break}case 6:case 4:case 5:case 3:{this.$17=window.setTimeout(function(){cH.hoverOverCoordinates(cI,cG,'visualparts',L.get_regionPart(),null,null,false)},120);break}case 2:{if(cH.get_isTooltipShown()){cH.close()}break}default:{break}}}return cL},onHover:function(L,cG){if(this.isUserDragging()||this.get_paneTableVM().vizContextMenuOpened()||this.get_paneTableVM().isAnnotationDragging()){return}if(tab.BaseSession.get_waitHandler().isBusy()){return}var cH=this.get_vizToolTip();if(cH.get_isTooltipShown()&&cH.shownTooltipIsStatic()){return}var cI=L.toLocalCoordsEvent(cG,false);var cJ=tab.PointUtil.add(cI,L.getLocalOffsetPoint(false));this.get_paneTableVM().handleAnnotationHover(cI);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.$m(L,cH,cJ,cI);return}var cK=false;var cL=this.getVisualListViewModelForRegion(L.get_regionPart());if(L.get_regionPart()==='viz'){cK=this.$n(L,cI,cH,cJ)}else if(ss.isValue(cL)){var cM=cL.hitTestNodes(cI);if(ss.isValue(cM)){var cN=tab.SelectionUtils.nodeSelectionFromDrawGroup(cM);var cO=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[cN]);cH.hoverOverHeader(cJ,cI,'header',L.get_regionPart(),cO);cK=true}}if(!cK){cH.hoverOverWhitespace(cJ,L.get_regionPart())}},$m:function(L,cG,cH,cI){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var cJ=bM.guessTooltipTargetTypeFromRegion(L.get_regionPart());cG.hoverOverCoordinates(cH,cI,cJ,L.get_regionPart(),null,null,false);return}},$b:function(){if(ss.isValue(this.$17)){window.clearTimeout(ss.unbox(this.$17));this.$17=null}},makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var L=0;L<this.$Z.length;L++){var cG=this.$Z[L];if(ss.isValue(cG)){cG.dispose()}}ss.clear(this.$Z);if(ss.isValue(this.$10)){this.$10.clearOverlays()}this.$11=tab.MiscUtil.clearTimeout(this.$11)},$w:function(L){if(ss.isValue(this.$10)){this.$10.setScrollPosition(L)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$11)){return}var L=(new Date).getTime()-this.$W;if(L>=30){this.$c()}else{this.$11=window.setTimeout(ss.mkdel(this,this.$c),30-L)}}},$c:function(){this.$11=null;var L=this.get_paneTableVM().get_localRenderVizHitTester().hitTestMarksAgainstSelectionShape(this.get_vizRegion().get_shapeSelector());var cG=Z.getIdsFromHitTestResults(L,true);this.$10.setDragOverlayTuples(cG);this.$W=(new Date).getTime()},updateRegionContentProvider:function(L,cG){this.regions[L].set_contentProvider(cG)},isSelectActionOnVizAllowed:function(L){return true},handleLocalTap:function(L,cG,cH,cI,cJ,cK){var cL=false;if(this.isSelectActionOnVizAllowed(cG)){var cM=this.getVisualListViewModelForRegion(L.get_regionPart());if(L.get_regionPart()==='viz'){var cN=ss.mkdel(this,function(cR){if(this.shouldInformTooltipOfLocalTapOnViz(cR,cK)){this.informTooltipOfLocalTapOnViz(cR,L,cH,cI)}});var cO=this.get_paneTableVM().get_localRenderVizHitTester().onTapHitTest(cI);bp.doSingleSelect(cO,cI,cG,cN,cJ,this.get_paneTableVM().get_visualId());cL=cO.get_hitType()!==0}else if(ss.isValue(cM)){var cP=cM.hitTestNodes(cI);if(ss.isValue(cP)){var cQ=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(cH,cI,L.get_regionPart(),'header',null)});cM.selectNode(cI,cP,cG,cQ);cL=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!cL){this.get_vizToolTip().hoverOverWhitespace(cH,L.get_regionPart())}}},informTooltipOfLocalTapOnViz:function(L,cG,cH,cI){var cJ=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&L.get_tooltipTargetType()==='mark'){var cK=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L.get_id());if(ss.isValue(cK)){cJ=cK.get_paneDescriptorKey()}}var cL=!tab.ActionUtils.canRemoteSelectTriggeredActionsModifyTheirSourceSheet(this.get_visualId().worksheet)&&ss.isValue(cJ)&&!ss.isNullOrUndefined(this.get_geometry().viz);if(!cL){this.get_vizToolTip().singleSelectCoordinates(cH,cI,cG.get_regionPart(),L.get_tooltipTargetType(),null)}else{this.get_vizToolTip().singleSelectComplete(cH,tab.PointUtil.add(cI,{x:this.get_geometry().viz.x,y:this.get_geometry().viz.y}),cI,L.get_id(),cJ,L.get_tooltipTargetType(),cG.get_regionPart())}},$i:function(){this.$p()},$p:function(){var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}var cG=L.get_geometryModel().pm;this.$q(cG)},$q:function(L){e.$1(L,this.get_paneTableVM(),this.dom)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$T){return}var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}this.$M(L);this.$F(L);this.$C();this.updateTooltipMode(L);var cG=L.get_geometryModel().pm;var cH=L.get_containerGeometry();var cI={containerBox:cH,geometry:cG};var cJ=this.get_geometryArgCache().update(cI);if(cJ){this.refreshScrollingAndAxisIcons()}else{this.set_geometryBundle(bJ.computeGeometry(cI));this.updateGeometry()}this.$N(L);this.floatingZoomToolbarView.setToolMode(this.defaultPointerToolMode(),true);this.updateRegionBackgroundColor();this.$E();this.$K();this.$I();this.$q(cG);this.$H(L);this.isAnimationOccurring=false;if(ss.isValue(this.get_paneTableVM().get_annotationSelectionChromeViewModel())){this.get_paneTableVM().updateAnnotationSelection()}},$N:function(L){this.updateMapsSearchView();if(L.get_isMap()&&this.get_shouldDisablePanTool()&&(this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isPanToolActive()||this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isZoomToolActive())){this.setPointerToolMode(L.get_defaultMapTool(),true)}this.get_paneTableVM().get_vizRegionToolModeViewModel().updateDefaultToolMode(this.allowPanZoomActions());this.floatingZoomToolbarView.updateZoomToolbar(L.get_floatingToolbarVisibility());if(tab.GestureModelSettings.get_newModelEnabled()){this.get_paneTableVM().get_floatingToolbarContainerVM().showTools(this.get_shouldShowTools());this.get_paneTableVM().get_floatingToolbarContainerVM().shouldEnablePanAndZoom(!this.get_shouldDisablePanTool());this.get_paneTableVM().get_floatingToolbarContainerVM().updateZoomHomeState(!this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_paneTableVM().get_mapSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.$a();this.buildMapsSearchView()}this.addMapsSearchViewToDomIfNeeded()}else{this.removeMapsSearchViewFromDomIfNeeded()}},$a:function(){this.get_paneTableVM().set_mapsSearchViewModel(new bz(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})))},buildMapsSearchView:function(){this.mapsSearchView=tab.ObjectRegistry.newView(by).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')},addMapsSearchViewToDomIfNeeded:function(){if(!this.$V){this.mapsSearchView.addToDom(this.dom.view);this.$V=true}},removeMapsSearchViewFromDomIfNeeded:function(){if(ss.isValue(this.mapsSearchView)){if(this.$V){var L=this.mapsSearchView.element[0].parentNode;if(ss.isValue(L)){L.removeChild(this.mapsSearchView.element[0]);this.$V=false}}this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}},handlePropertyChanged:function(L,cG){switch(cG.get_propertyName()){case'vizNavigationSetting':{this.$9();this.makeInputHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_paneTableVM().get_highlightBorder());break}case'images':{this.$p();break}default:{break}}},updateTooltipMode:function(L){if(ss.isValue(this.vizTooltip)&&L.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$M:function(L){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$16)){return}this.dom.title.css('display','');var cG=new tab.TextRegionViewModel(L.get_titleModel());cG.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var cH=cG;this.$16=new tab.TextRegionView(cH);this.$15='title'+this.$f();this.$16.element.attr('id',this.$15);this.$16.addToDom(this.dom.title)}else if(ss.isValue(this.$16)){this.dom.title.css('display','none');this.$16.get_viewModel().dispose();this.$16=null}},$H:function(L){if(tab.FeatureParamsLookup.getBool(53)){L.get_runtimeStatusView().addDebugViewToElement(this.dom.enclosingDiv)}},$F:function(L){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$Q)){return}this.dom.caption.css('display','');var cG=new tab.TextRegionViewModel(L.get_captionModel());cG.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var cH=cG;this.$Q=new tab.TextRegionView(cH);this.$P='caption'+this.$f();this.$Q.element.attr('id',this.$P);this.$Q.addToDom(this.dom.caption)}else if(ss.isValue(this.$Q)){this.dom.caption.css('display','none');this.$Q.get_viewModel().dispose();this.$Q=null;this.$P=''}},$D:function(){if(ss.isNullOrUndefined(this.$U)){var L='instructions'+this.$f();this.$U=$('<div/>').attr('id',L).css('display','none');this.$U.appendTo(this.dom.enclosingDiv)}var cG=tab.Strings.AccessibilityClearSelectionInstructions+' '+(bM.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$U.text(cG)},$C:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',ss.coalesce(this.$P,'')+' '+(ss.isValue(this.$U)?this.$U[0].id:''));if(this.get_paneTableVM().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$15)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$A:function(){var L=this.dom.view;L.focus(ss.mkdel(this,function(cG){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null);this.$D()}));this.dom.domRoot.focus(ss.mkdel(this,function(cG){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null)}));L.keydown(ss.mkdel(this,function(cG){if(cG.which===13&&bM.isViewDataAccessEnabled()&&ss.referenceEquals(cG.target,cG.currentTarget)){cG.preventDefault();cG.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(cG.which===27){cG.preventDefault();cG.stopPropagation();this.clearSelection()}}))},$f:function(){return tab.ModelUtils.findContentDashboard(null).getViewId(this.get_sheetid())},$h:function(){this.get_vizRegion().$3(this.get_paneSize());this.get_vizRegion().$5()},$E:function(){var L=this.get_paneTableVM().get_mapServerModel();var cG=L.get_hasPresModel()&&L.get_useFastMaps();this.get_vizRegion().$3(this.get_paneSize());this.get_vizRegion().$4(cG)},$K:function(){if(this.get_paneTableVM().get_isMap()){var L=ss.isNullOrUndefined(this.get_paneTableVM().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$Y);if(L&&ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().set_mapScaleViewModel(new tab.MapScaleViewModel(this.get_paneTableVM().get_mapServerModel().get_mapScaleInfoModel()));this.$Y=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.MapScaleViewModel,tab.MapScaleComponent,Object])).call(null,[this.get_paneTableVM().get_mapScaleViewModel()]);this.$Y.addToDom(this.dom.view)}}else if(ss.isValue(this.$Y)){this.$Y.dispose();this.$Y=null}},$I:function(){var L=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(L)&&L.get_hasPresModel()&&L.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$X)){this.$X=new bq;this.$X.attributionLink.attr('target','_blank');this.$X.attributionLink2.attr('target','_blank');this.dom.view.append(this.$X.domRoot)}this.$X.attributionBackground.css('background-color',L.get_attributionBGColor());this.$X.attributionLink.text(L.get_attributionText());this.$X.attributionLink.css('color',L.get_attributionTextColor());this.$X.attributionLink.css('font-size',L.get_attributionTextSize());this.$X.attributionLink.attr('href',L.get_attributionUrl());this.$X.attributionLink2.text(L.get_attributionText2());this.$X.attributionLink2.css('color',L.get_attributionTextColor());this.$X.attributionLink2.css('font-size',L.get_attributionTextSize());this.$X.attributionLink2.attr('href',L.get_attributionUrl2());this.$J()}else if(ss.isValue(this.$X)){this.$X.dispose();this.$X=null}},$J:function(){if(ss.isValue(this.$X)){var L=1;var cG=1;var cH=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var cI=this.get_vizRegion().get_contentProvider().get_docSize();var cJ=Math.min(0,cH.h+this.$13.y-cI.h);cJ+=L;var cK=Math.min(0,-this.$13.x);cK+=cG;this.$X.domRoot.css('bottom',cJ+'px');this.$X.domRoot.css('left',cK+'px')}},$j:function(){var L=this.get_paneTableVM().get_tileCacheUrl();this.refreshImages(L)},$r:function(L){switch(L){case'bottomaxis':case'topaxis':{return tab.FeatureFlags.isEnabled('RuntimeLegacyAxesWithDataModel')}default:{return false}}},$s:function(L){switch(L){case'xheader':{return tab.FeatureFlags.isEnabled('RuntimeLegacyAxesWithDataModel')}default:{return false}}},$t:function(L){return this.$s(L)||this.$r(L)},$L:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().$2();var L=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(L.moveNext()){var cG=L.current();var cH=tab.ModelUtils.visualPartToRegionMap[cG];var cI=this.$t(cH);if(ss.isValue(cH)&&ss.isValue(this.regions[cH])){if(cI){var cJ=null;var cK=this.regionParts.getSelectorForRegion(cH);var cL=$(this.getDomNodeForContentRegion(cK));if(this.$r(cH)){var cM=new tab.AxisHolderViewModel(this.get_paneTableVM().get_scene().get_runtimeData(),cH);cJ=new tab.AxisHolderElement(cL,cM)}else if(this.$s(cH)){var cN=new tab.HeaderHolderViewModel(this.get_paneTableVM().get_scene().get_runtimeData(),cH);cJ=new tab.HeaderHolderElement(cL,cN)}this.updateRegionContentProvider(cH,cJ)}else{var cO=ss.safeCast(this.regions[cH].get_contentProvider(),cf);if(ss.isValue(cO)&&!ss.referenceEquals(cO.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[cG])){cO.destroy();cO=null}if(ss.isNullOrUndefined(cO)){var cP=this.regionParts.getSelectorForRegion(cH);if(ss.isValue(cP)){var cQ=this.get_paneTableVM().get_vizRegionMap()[cG];var cR=new cf(cQ,this.getDomNodeForContentRegion(cP),this.get_paneTableVM());cP.find('.tvimagesContainer').append(cR.element);this.updateRegionContentProvider(cH,cR);cR.invalidate(false);this.get_geometryArgCache().clear()}}else{this.regions[cH].$2()}}}}}finally{L.dispose()}var cS=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(cS.moveNext()){var cT=cS.current();var cU=tab.ModelUtils.visualPartToRegionMap[cT];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),cT)&&ss.isValue(this.regions[cU])){this.regions[cU].get_contentProvider().destroy();this.regions[cU].set_contentProvider(new C)}}}finally{cS.dispose()}}},$g:function(){return this.$14+'Z'+this.$12},handleMoveMapToBounds:function(L){if(ss.isValue(this.get_vizRegion())&&(tab.FeatureParamsLookup.getBool(19)||tab.FeatureFlags.isEnabled('MapboxVector'))){this.get_vizRegion().moveMapToBounds(L)}},$9:function(){var L=new EventUtils.EventHandleSpec;L.tap=ss.mkdel(this,function(cK){cK.stopPropagation();cK.preventDefault();this.clearSelection()});var cG=L;var cH=ss.mkdel(this,function(cK){this.disposables.add$1(new EventUtils.TableauEventHandler(cK.get(0),cG))});for(var cI=0;cI<bO.regionsThatClearSelectionOnTap.length;cI++){var cJ=bO.regionsThatClearSelectionOnTap[cI];cH(this.regionParts.getSelectorForRegion(cJ))}},$l:function(){tab.ViewController.add_selectionChanged(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ViewController.remove_selectionChanged(ss.mkdel(this,this.$o))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var L=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(L);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValidAndUpToDate()){this.$j()}},checkForSuppressTooltipsAndOverlays:function(L){var cG=$(L);var cH=cG.hasClass('tabSuppressVizTooltipsAndOverlays')||cG.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(cH){this.disposeOfOverlayImages();var cI=this.get_vizToolTip();cI.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(cH)},$d:function(){if(ss.isNullOrUndefined(this.vizTooltip)||!this.get_isSameVisualID()){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}},getVisualListViewModelForRegion:function(L){var cG=tab.ModelUtils.regionToVisualPartMap[L];return this.get_paneTableVM().get_vizRegionMap()[cG]}},ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,bj]);ss.initClass(bN,a,{add_vizRegionMapChange:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_vizRegionMapChange:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_newPaneTable:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_newPaneTable:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_textUpdated:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_textUpdated:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_differentMarkBrushing:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_differentMarkBrushing:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_differentMarkSelection:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_differentMarkSelection:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},get_isMap:function(){return this.$D.get_isMap()},get_isMapWithBaseLayer:function(){return this.get_isMap()&&this.get_mapServerModel().get_hasPresModel()},get_mapSearchEnabled:function(){return tsConfig.allow_filter&&this.get_isMap()&&this.get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new tab.TooltipContextProvider(this.get_visualModel().get_selectionsModel()):null)},get_scene:function(){return this.$B},get_localRenderVizHitTester:function(){return this.$x},get_vizRegionMap:function(){return this.$G},get_refLineVisualLists:function(){return this.$r().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$r().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$r().get_drawFirstParts()},get_drawLastParts:function(){return this.$r().get_drawLastParts()},get_zonePresModel:function(){return this.$D.get_zone().pm},get_viewController:function(){return this.$2$6},set_viewController:function(L){this.$2$6=L},get_sheetId:function(){return this.get_visualModel().get_worksheetName()},get_sortIndicators:function(){return this.$D.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_axisRegions:function(){return this.$D.get_axisRegionModel()},get_selectionsModel:function(){return this.$D.get_selectionsModel()},get_tileCacheUrl:function(){return this.$D.get_tileCacheUrl()},get_hasTitle:function(){return this.get_zonePresModel().zoneCommon.hasTitle},get_hasCaption:function(){return this.get_zonePresModel().hasCaption},get_visualModel:function(){return this.$D},$r:function(){return this.$D.get_sceneModel()},get_visualId:function(){return this.$D.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_vizContextMenuViewModel:function(){return this.$E},get_annotationSelectionChromeViewModel:function(){return this.$s},get_mapsSearchViewModel:function(){return this.$z},set_mapsSearchViewModel:function(L){this.$z=L},get_mapScaleViewModel:function(){return this.$y},set_mapScaleViewModel:function(L){this.$y=L},get_vizRegionToolModeViewModel:function(){return this.$F},get_floatingToolbarContainerVM:function(){return this.$2$7},set_floatingToolbarContainerVM:function(L){this.$2$7=L},get_smoothTooltipsOnboardingVM:function(){return this.$2$8},set_smoothTooltipsOnboardingVM:function(L){this.$2$8=L},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(L){if(this.borderHighlighted===L){return}this.borderHighlighted=L;this.notifyPropertyChanged('borderHighlight')},get_annotationDictionary:function(){var L={};var cG=this.get_visualModel().getAnnotationList();for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];L[cI.annotationId]=cI}return L},$l:function(){var L=$.Deferred();this.deferredResizerFactory=L.promise();if(tsConfig.is_authoring){tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(function(cG){L.resolve(cG)})}},$j:function(){if(tsConfig.is_authoring&&ss.isValue(this.$D.resizeInfoModel)){var L=$.Deferred();this.deferredHeaderResizerManagerViewModel=L.promise();this.deferredResizerFactory.done(ss.mkdel(this,function(cG){L.resolve(cG.newHeaderResizerManagerViewModel(this.$D.resizeInfoModel,this.$D.get_visualId()))}))}},$i:function(){if(tsConfig.is_authoring&&ss.isValue(this.$D.resizeInfoModel)){var L=$.Deferred();this.deferredCellResizerManagerViewModel=L.promise();this.deferredResizerFactory.done(ss.mkdel(this,function(cG){L.resolve(cG.newCellResizerManagerViewModel(this.$D.resizeInfoModel,this.$D.get_visualId()))}))}},$k:function(){if(tsConfig.is_authoring&&!tsConfig.is_mobile&&(tab.FeatureFlags.isEnabled('RichTextCreateBlankAreaAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateBlankPointAndMarkAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateAnnotationAndOpenEditor')||tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation'))){this.$E=new cz(null)}},$h:function(){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='story'&&!tsConfig.is_mobile&&(tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')||tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation'))){var L=ss.mkdel(this,function(){return this.get_annotationDictionary()});this.$s=new r(this.get_visualId(),L);this.$s.setContextMenuViewModel(this.$E);if(ss.isValue(this.get_vizRegionToolModeViewModel())){this.get_vizRegionToolModeViewModel().add_toolbarToolModeUpdated(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizRegionToolModeViewModel().remove_toolbarToolModeUpdated(ss.mkdel(this,this.$e))})))}if(ss.isValue(this.$D.get_zone())&&ss.isValue(this.$D.get_zone().get_dashboardModel())){this.$D.get_zone().get_dashboardModel().add_activeZoneChanged(ss.mkdel(this,function(){if(this.$D.get_zone().get_dashboardModel().get_activeZoneID()!==this.$D.get_zone().get_zoneId()&&this.$D.get_zone().get_dashboardModel().get_activeZoneID()!==0){this.$s.clearSelection()}}))}}},$e:function(L){if(L==='area-zoom'){this.clearAnnotationSelection()}},handleRightClick:function(L,cG){if(ss.isValue(this.$s)&&L.get_hitObjectType()===2){this.$s.handleRightClick(L,cG)}else if(tab.FeatureFlags.isEnabled('RichTextCreateBlankAreaAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateBlankPointAndMarkAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateAnnotationAndOpenEditor')){if(ss.isValue(this.$s)){this.$s.clearSelection()}var cH=new cy(L,cG,this.get_visualId());this.$E.show(cG,[cH])}},hideAnnotations:function(){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().hideAll()}},handleMouseWheelScroll:function(){if(this.$D.get_isMap()){this.hideAnnotations()}},handleAnnotationDragStarted:function(L){var cG=this.get_localRenderVizHitTester().onTapHitTest(L);if(this.get_vizRegionToolModeViewModel().get_isZoomToolActive()){this.hideAnnotations();return false}else if(ss.isValue(this.get_annotationSelectionChromeViewModel())){if(this.get_annotationSelectionChromeViewModel().dragStarted(cG,L)){return true}if(this.get_vizRegionToolModeViewModel().get_isPanToolActive()){this.hideAnnotations()}else{this.clearAnnotationSelection()}}return false},handleDrag:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().onDrag(L)}},handleDragEnded:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){if(this.get_vizRegionToolModeViewModel().get_isZoomToolActive()){this.get_annotationSelectionChromeViewModel().hideAll()}this.get_annotationSelectionChromeViewModel().dragEnded(L)}},vizContextMenuOpened:function(){return ss.isValue(this.$E)&&!this.$E.isHidden||ss.isValue(this.get_annotationSelectionChromeViewModel())&&this.get_annotationSelectionChromeViewModel().isCaretMenuOpened()},canDeleteAnnotationWithKeystroke:function(){return ss.isValue(this.get_annotationSelectionChromeViewModel())&&tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation')&&tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')},isAnnotationDragging:function(){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){return this.get_annotationSelectionChromeViewModel().isDragging()}return false},dispose:function(){if(ss.isValue(this.$z)){this.$z.dispose()}if(ss.isValue(this.$y)){this.$y.dispose()}if(ss.isValue(this.$E)){this.$E.dispose()}if(ss.isValue(this.$s)){this.$s.dispose()}if(ss.isValue(this.$D)){if(ss.isValue(this.$D.get_selectionsModel().tupleSelection)){this.$D.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$D.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$D.get_brushingsModel().tupleSelection)){this.$D.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$D.get_sceneModel())){this.$D.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}this.$D.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$D.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$D.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$D.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$D.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$g));this.$D.remove_newVisual(ss.mkdel(this,this.$f));this.$D.remove_newVisual(ss.mkdel(this,this.$a));this.$D.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$u=tab.MiscUtil.dispose$1(this.$u)}var L=new ss.ObjectEnumerator(this.$G);try{while(L.moveNext()){var cG=L.current();cG.value.dispose()}}finally{L.dispose()}this.$F.dispose();this.get_floatingToolbarContainerVM().dispose();this.get_smoothTooltipsOnboardingVM().dispose();spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var L=this.$w;this.$w=[];return L},handleAnnotationClicked:function(L){this.clearAnnotationSelection();tab.RichTextClientCommands.createAnnotationRichTextEditor(this.get_sheetId(),L);tab.FormattingTelemetryClient.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom','Annotation']))},handleAnnotationHover:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())&&!this.get_vizRegionToolModeViewModel().get_isZoomToolActive()){this.get_annotationSelectionChromeViewModel().onHover(this.get_localRenderVizHitTester().onHoverHitTest(L))}},$9:function(){this.notifyPropertyChanged('images')},$g:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var L=this.$D.get_selectionsModel().computeSelectionsDiff(this.$C,this.$v,this.$D.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$5,null)&&bN.$1(L,this.$D.get_selectionsModel(),this.$D.get_impliedSelectionModel())){this.$2$5()}this.$C=this.$D.get_selectionsModel().createSelectionsToken();this.$v=this.$D.get_impliedSelectionModel().createSelectionToken();this.$p(L,'selection')},$3:function(){var L=this.$D.get_brushingsModel().computeSelectionsDiff(this.$t,null,null);if(!ss.staticEquals(this.$2$4,null)&&bN.$1(L,this.$D.get_brushingsModel(),null)){this.$2$4()}this.$t=this.$D.get_brushingsModel().createSelectionsToken();this.$B.setEmptyHighlightFogAll(this.$D.get_emptyHighlightFogAll());this.$p(L,'brushing')},$p:function(L,cG){if(!L.get_invalidateViz()){if(L.get_objectIds().length===0){return}var cH=this.$B.getMarksInvalidationRects(L.get_objectIds());this.$2(cH)}this.notifyPropertyChanged(cG)},$4:function(){this.$B.setIsTargetOfBrushingAction(this.$D.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$6:function(){this.$B.setEmptyHighlightFogAll(this.$D.get_emptyHighlightFogAll());this.$A=true},$8:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$D.get_hiddenTuples(),this.$B.get_hiddenTuples());if(L.length===0){return}var cG=this.$B.getMarksInvalidationRects(L);this.$2(cG);this.$B.set_hiddenTuples(this.$D.get_hiddenTuples());this.$m()},$7:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$D.get_filteredTuples(),this.$B.get_filteredTuples());if(L.length===0){return}var cG=this.$B.getMarksInvalidationRects(L);this.$2(cG);this.$B.set_filteredTuples(this.$D.get_filteredTuples());this.$m()},$5:function(){this.$A=true},$2:function(L){ss.arrayAddRange(this.$w,L)},$d:function(){this.$m()},handleAnnotationSelection:function(L,cG,cH){this.handleAnnotationSelection$1(this.get_localRenderVizHitTester().onTapHitTest(L),cG,cH)},handleAnnotationSelection$1:function(L,cG,cH){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())||!tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')){return}if(ss.isNullOrUndefined(L)||L.get_hitObjectType()!==2){this.clearAnnotationSelection()}else{this.get_annotationSelectionChromeViewModel().handleAnnotationClicked(L.get_id(),cH,cG==='toggle')}},deleteSelectedAnnotations:function(){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())){return}this.get_annotationSelectionChromeViewModel().deleteSelectedAnnotationsFromKeystroke()},clearAnnotationSelection:function(){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())){return}this.get_annotationSelectionChromeViewModel().clearSelection()},updateAnnotationSelection:function(){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())){return}this.get_annotationSelectionChromeViewModel().update()},scrollX:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().scrollX(L)}if(ss.isValue(this.get_vizContextMenuViewModel())){this.get_vizContextMenuViewModel().get_scrollOffset().x=L}},scrollY:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().scrollY(L)}if(ss.isValue(this.get_vizContextMenuViewModel())){this.get_vizContextMenuViewModel().get_scrollOffset().y=L}},updateGeometry:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().setBounds(L)}},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var L=false;var cG=ss.getEnumerator(Object.keys(this.$r().get_visualListModels()));try{while(cG.moveNext()){var cH=cG.current();var cI=this.$r().get_visualListModels()[cH];var cJ=this.$G[cH];if(ss.isValue(cJ)&&ss.referenceEquals(cJ.get_visualList(),cI)){}else{tab.MiscUtil.dispose$1(this.$G[cH]);delete this.$G[cH];if(ss.contains(bN.blackListVisualParts,cH)){this.$G[cH]=new ct(cI,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[cH],this.$D.get_selectionsModel(),this.$D.get_brushingsModel())}else{this.$G[cH]=new ct(cI,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[cH],null,null)}L=true}}}finally{cG.dispose()}var cK=Object.keys(this.$G);var cL=ss.getEnumerator(cK);try{while(cL.moveNext()){var cM=cL.current();if(!ss.keyExists(this.$r().get_visualListModels(),cM)){tab.MiscUtil.dispose$1(this.$G[cM]);delete this.$G[cM];L=true}}}finally{cL.dispose()}var cN=this.get_visualModel().get_backgroundColor().toString();var cO=ss.getEnumerator(Object.keys(this.$G));try{while(cO.moveNext()){var cP=cO.current();this.$G[cP].set_defaultBackgroundColor(cN)}}finally{cO.dispose()}if(L){this.$o()}this.$A=true},$f:function(){if(this.$A){this.$q();this.$m()}this.$A=false},$o:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$q:function(){bN.updateSceneInfoFromVisualModel(this.$B,this.$D);if(this.$B.customShapes.length>0){this.$u=this.$u||new cb(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$u.initialize(this.$B.customShapes)}if(ss.isValue(this.$D)&&ss.isValue(this.$D.pm)&&ss.isValue(this.$D.pm.imageDictionary)){this.$B.updateImageMap(this.$D.pm.imageDictionary,ss.mkdel(this,this.$9))}},$m:function(){this.$x.clearCache();this.notifyPropertyChanged('scene')},isInvalidSheet:function(){return _.any(this.$D.get_invalidSheets(),ss.mkdel(this,function(L){return _.isEqual(this.get_visualId(),L)}))},$a:function(){this.raiseActionEvent(this.$2$2)},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$n:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IPaneTableViewModel]);ss.initClass(bO,a,{$0:function(){var L={};L['uleft']=this.$1.topLeftSpacer;L['uright']=this.$1.topRightSpacer;L['lleft']=this.$1.bottomLeftSpacer;L['lright']=this.$1.bottomRightSpacer;L['title']=this.$1.title;L['caption']=this.$1.caption;L['xheader']=this.$1.xLabel;L['yheader']=this.$1.yLabel;L['leftaxis']=this.$1.leftAxis;L['rightaxis']=this.$1.rightAxis;L['bottomaxis']=this.$1.bottomAxis;L['topaxis']=this.$1.topAxis;L['viz']=this.$1.view;return L},getSelectorForRegion:function(L){return this.$2[L]}});ss.initClass(bP,a,{});ss.initClass(bQ,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:1,h:1}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(L){var cG=(L?this.$l:this.$k);var cH=cG[0].x;var cI=cH;var cJ=cG[0].y;var cK=cJ;for(var cL=0;cL<cG.length;cL++){var cM=cG[cL];if(cM.x<cH){cH=cM.x}else if(cM.x>cI){cI=cM.x}if(cM.y<cJ){cJ=cM.y}else if(cM.y>cK){cK=cM.y}}return{x:cH,y:cJ,w:cI-cH,h:cK-cJ}},updateSpecificShape:function(L){if(this.$k.length===0){var cG=this.get_dragStart().x-this.get_connectNodePos().x;var cH=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(cG,cH)}var cI=L.x;var cJ=L.y;this.$d(cI,cJ)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(L,cG,cH,cI){var cJ=cH.get_objectId();var cK=cG.markType;var cL=W.rectangleAreaHit(cG,cH.get_boundingBox(),L,cJ,cI,cK);if(!cL){return false}var cM=0;var cN=0;if(cI.get_transformType()===3){cM=cI.get_translateX();cN=cI.get_translateY()}var cO=this.$h(cM,cN);return W.polyAreaHit(cG,cH.get_boundingBox(),cO,cJ,cI,cK)},sendSelectionCommand:function(L,cG,cH,cI){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$l,cG,cH,cI)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bR)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var cG=L;cG.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bR)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(L,cG){var cH=2;var cI=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(L-ss.unbox(this.$n))<cH&&Math.abs(cG-ss.unbox(this.$o))<cH){return}}var cJ=L+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var cK=cG+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var cL=L+this.get_totalScrollOffset().x;var cM=cG+this.get_totalScrollOffset().y;var cN=false;var cO=false;var cP=false;var cQ=this.$l.length;if(this.$m){if(cQ>1){var cR=this.$l[cQ-1];var cS=this.$l[cQ-2];var cT=Math.abs(cL-cS.x);var cU=Math.abs(cL-cR.x);var cV=Math.abs(cM-cS.y);var cW=Math.abs(cM-cR.y);cN=cV<=cI&&cW<=cI;if(cN){cN=bQ.$0(cL,cR.x,cS.x)}else{cO=cT<=cI&&cU<=cI;if(cO){cO=bQ.$0(cM,cR.y,cS.y)}else{cP=cT*cW===cV*cU&&bQ.$0(cL,cR.x,cS.x)}}}}var cX=cQ-1;if(cN){this.$k[cX].x=cJ;this.$l[cX].x=cL}else if(cO){this.$k[cX].y=cK;this.$l[cX].y=cM}else if(cP){this.$k[cX].x=cJ;this.$k[cX].y=cK;this.$l[cX].x=cL;this.$l[cX].y=cM}else{this.$k.push({x:cJ,y:cK});this.$l.push({x:cL,y:cM})}this.$p='';var cY=this.get_autoScrollAdjustment();var cZ='M';for(var da=0;da<this.$k.length;da++){var db=this.$k[da];this.$p+=cZ+(db.x-cY.x)+','+(db.y-cY.y);cZ='L'}this.$n=L;this.$o=cG},$h:function(L,cG){var cH=0;var cI=this.$l.length;var cJ=L.toString()+':'+cG.toString();var cK=this.$j[cJ];if(ss.isNullOrUndefined(cK)){cK=new Array(cI*2);this.$j[cJ]=cK}else{cH=ss.Int32.div(cK.length,2);if(this.$m){cH-=1}cK.length=cI*2}var cL=Math.round(L);var cM=Math.round(cG);for(var cN=cH,cO=cH*2;cN<cI;cN++,cO+=2){var cP=this.$l[cN];cK[cO]=cP.x-cL;cK[cO+1]=cP.y-cM}return cK}},cc);ss.initClass(bR,a,{saveCurrentState:function(L){if(L.length<this.$1){}this.$0=ss.arrayClone(L)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var L=this.$0[0].y;var cG=L;var cH=this.$0[0].x;var cI=cH;for(var cJ=this.$1,cK=this.$0.length;cJ<cK;cJ++){L=Math.min(L,this.$0[cJ].y);cG=Math.max(cG,this.$0[cJ].y);cH=Math.min(cH,this.$0[cJ].x);cI=Math.max(cI,this.$0[cJ].x)}var cL=new Array(1);cL[0]=tab.RectXYUtil.nonemptyify({x:cH,y:L,w:cI-cH,h:cG-L});return cL}},cd);ss.initClass(bS,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(L){var cG=this.get_dragStart().x-this.get_connectNodePos().x;var cH=this.get_dragStart().y-this.get_connectNodePos().y;var cI=Math.round(Math.min(L.x,cG));var cJ=Math.round(Math.max(L.x,cG));var cK=Math.round(Math.min(L.y,cH));var cL=Math.round(Math.max(L.y,cH));var cM=cJ-cI;var cN=cL-cK;this.$d={x:cI+this.get_drawOffsets().x,y:cK+this.get_drawOffsets().y,w:cM,h:cN};this.$e={x:cI+this.get_totalScrollOffset().x,y:cK+this.get_totalScrollOffset().y,w:cM,h:cN}},renderShape:function(){var L={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),L);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(L,cG,cH,cI){return W.rectangleAreaHit(cG,cH.get_boundingBox(),L,cH.get_objectId(),cI,cG.markType)},sendSelectionCommand:function(L,cG,cH,cI){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(L,this.get_hitTestingBox(),cG,cH,cI,'default',null)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bT)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var cG=L;cG.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bT)){return true}}return false}},cc);ss.initClass(bT,a,{saveCurrentState:function(L){this.$0=tab.RectXYUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var L=new Array(1);L[0]=this.$0;return L}},cd);ss.initClass(bU,a,{renderReferenceLines:function(L,cG,cH,cI,cJ){switch(cI){case'normalUnderPass':{if(cJ==='background'&&L.get_hasFill()){this.$G(L,cG(L),cH)}break}case'selectedOnPass':{if(cJ==='underLabel'&&L.get_hasLine()){this.$K(L,cG(L),cH)}if(cJ==='foreground'&&L.get_hasLabel()){this.$J(L,cG(L),cH)}break}}},renderOverlay:function(L,cG){this.$K(L,'hover',cG)},$D:function(L){var cG=this.get_currentContext();cG.set_lineJoin(tab.CanvasRenderer.toCanvasLineJoin(L.get_lineJoin()));cG.set_lineCap(z.resolveLineCap(L.get_linePattern(),L.get_lineCap()));cG.set_linePattern(L.get_linePattern());cG.set_lineWidth(L.get_lineWidth());cG.set_shouldAntialias(false);cG.set_strokeStyle(bF.calculateColorForState(L.get_lineColor(),this.$O,true,this.$N).toString())},$K:function(L,cG,cH){this.$H(L,cG,cH,ss.mkdel(this,function(cI){this.$D(L)}),ss.mkdel(this,function(cI,cJ){var cK=L.getLinePixelPosition(ss.mkdel(cH,cH.thisDomainToPixelX),ss.mkdel(cH,cH.thisDomainToPixelY),cI);var cL=L.getEndPoints(cJ,cK);tab.CanvasRenderer.strokePath(this.get_currentContext(),cL,false,true)}))},$J:function(L,cG,cH){this.$H(L,cG,cH,ss.mkdel(this,function(cI){this.$E(L,cI)}),ss.mkdel(this,function(cI,cJ){var cK=L.getLinePixelPosition(ss.mkdel(cH,cH.thisDomainToPixelX),ss.mkdel(cH,cH.thisDomainToPixelY),cI);var cL=L.computeLabelBoxPosition(cJ,cK,cI);this.$I(L,cI,cL)}))},$G:function(L,cG,cH){this.$H(L,cG,cH,null,ss.mkdel(this,function(cI,cJ){var cK=L.getLinePixelPosition(ss.mkdel(cH,cH.thisDomainToPixelX),ss.mkdel(cH,cH.thisDomainToPixelY),cI);if(L.get_hasFillBelow()){this.$F(L,cJ,cK,0)}if(L.get_hasFillAbove()){this.$F(L,cJ,cK,1)}}))},$H:function(L,cG,cH,cI,cJ){var cK=cH.get_paneIndex();var cL=L.getRange(cK);if(cL.item2<=cL.item1){return}this.get_currentContext().save();this.get_currentContext().setClip(cH.paneRect);var cM=this.$L(L,cH);this.$O=cG;if(cG==='fogged'){this.$N=bF.getFogBlendFactorAndBackgroundColor(cH)}if(!ss.staticEquals(cI,null)){cI(cL.item1)}for(var cN=cL.item1;cN<cL.item2;cN++){var cO=L.getCellClipInfo(cN);if(cO.item1!==0){this.get_currentContext().save();cM=this.$C(cO,cH)}cJ(cN,cM);if(cO.item1!==0){this.get_currentContext().restore()}}this.$N=null;this.get_currentContext().restore()},$E:function(L,cG){var cH=L.getTextStyle(cG);if(ss.isValue(cH)){var cI=cH.item1;var cJ=cH.item2;var cK=tab.ColorModel.fromArgbInt(cI.text_style_color[cJ]);this.get_currentContext().set_textFillStyle(bF.calculateColorForState(cK,this.$O,false,this.$N).toString());this.get_currentContext().set_textAngle(bE.getTextAngleInRad(cI.text_orientation[cJ]));this.get_currentContext().set_shouldUnderlineText(cI.text_decoration[cJ]===1);this.get_currentContext().set_font(this.$B(cI,cJ))}},$B:function(L,cG){var cH=new ss.StringBuilder;if(tab.EnumConversions.tableauFontStyleFromInt(L.font_style[cG])==='font-style-italic'){cH.append('italic ')}if(tab.EnumConversions.fontWeightFromInt(L.font_weight[cG])==='font-weight-bold'){cH.append('bold ')}var cI=L.font[cG];cI=z.$1(cI);var cJ=L.font_size[cG];cH.append(cJ+'pt '+cI);return cH.toString()},$M:function(L,cG){return(L.isTextAlignEnd(cG)?'end':tab.TabRenderContext2D.defaultTextAlign)},$I:function(L,cG,cH){this.get_currentContext().translate(cH.x,cH.y);if(!this.get_currentContext().get_isTextAngleHorizontal()){this.get_currentContext().rotate(this.get_currentContext().get_textAngle());this.get_currentContext().set_textAngle(0)}this.get_currentContext().set_shouldAntialias(false);var cI=bF.calculateColorForState(L.get_labelBackgroundColor(),this.$O,false,this.$N);this.get_currentContext().set_shapeFillStyle(cI.toString());this.get_currentContext().fillRect(0,0,Math.ceil(L.getLabelWidth(cG)),Math.ceil(L.getLabelHeight(cG)));this.get_currentContext().set_shouldAntialias(true);this.get_currentContext().set_textAlign(this.$M(L,cG));var cJ=L.getTextRunOffset(cG);var cK=L.getTextRunCount(cG);var cL=L.getLabelWidth(cG);var cM=cK>1;for(var cN=cJ;cN<cJ+cK;cN++){var cO=L.getTextRunPosition(cN);this.renderText(L.getTextRun(cN),cO.x,cO.y,cL,this.get_currentContext().get_textFillStyle(),cM)}},$C:function(L,cG){this.clipRect(L.item1,cG.thisDomainToPixelX(L.item2),cG.thisDomainToPixelY(L.item3),cG.thisDomainToPixelWidth(1),cG.thisDomainToPixelHeight(1));return this.get_currentContext().get_currentClipRect()},$L:function(L,cG){var cH=cG.paneRect;if(L.get_scope()===2&&ss.isValue(cG.$e())){cH=cG.$e()}return cH},$F:function(L,cG,cH,cI){if(L.get_fillColorCount()>cI&&L.getFillColor(cI).get_a()>0){var cJ=bF.calculateColorForState(L.getFillColor(cI),this.$O,false,this.$N);this.get_currentContext().set_shapeFillStyle(cJ.toString());var cK=L.getFillRect(cG,cH,cI);this.get_currentContext().fillRect(cK.x,cK.y,cK.w,cK.h)}}},bC);ss.initClass(bV,a,{hitTest:function(L,cG){var cH=(ss.isValue(L)?{x:L.x,y:L.y,w:1,h:1}:null);var cI=Z.createEmptyHitTestResult();var cJ=[];if(ss.isValue(this.$6.get_referenceLines())){var cK=this.hitTestRefLinesModel(this.$6.get_referenceLines(),L,cG);if(cG){cI=cK[0]}else{cJ=cK}}var cL=bV.hitTestRefLines(this.paneTableVM.get_refLineVisualLists(),cH,cG);if(cG){cI=Z.tieBreak(cL[0],cI)}return bV.$5(cG,cI,cJ.concat.apply(cJ,cL))},hitTestRefLinesModel:function(L,cG,cH){this.$0(L);if(cH){return[this.$4(cG)]}else{return this.$3(cG)}},clearCache:function(){this.$5=null},$0:function(L){if(ss.isValue(this.$5)){return}this.$5=[];var cG=this.$2();for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];var cJ=L.getRefLines(cI.get_paneDescriptorKey());var cK=this.$1(cJ,cI);this.$5.push(cK);var cL=L.getInstantRefLines(cI.get_paneDescriptorKey());if(ss.isValue(cL)&&cL.length>0){var cM=this.$1(cL,cI);this.$5.push(cM)}}},$1:function(L,cG){var cH=new T(cG.paneRect,1,-1,null,0);for(var cI=0;cI<L.length;cI++){var cJ=L[cI];if(cJ.get_hasFill()){continue}var cK=cG.get_paneIndex();var cL=cJ.getRange(cK);var cM=((cJ.get_scope()===2&&ss.isValue(this.$6.$i()))?this.$6.$i():cG.paneRect);for(var cN=cL.item1;cN<cL.item2;cN++){var cO=cJ.getCellClipInfo(cN);var cP=cO.item1;if(cP!==0){cM=bC.$4(cP,cG.thisDomainToPixelX(cO.item2),cG.thisDomainToPixelY(cO.item3),cG.thisDomainToPixelWidth(1),cG.thisDomainToPixelHeight(1))}var cQ=cJ.getLinePixelPosition(ss.mkdel(cG,cG.thisDomainToPixelX),ss.mkdel(cG,cG.thisDomainToPixelY),cN);var cR=cJ.getHitTestBound(cQ,cM,1);var cS=new T(cR,8,cJ.get_id(),null,0);cH.addNode(cS);if(cJ.get_hasLabel()){var cT=cJ.computeLabelBoxPosition(cM,cQ,cN);var cU={x:cT.x,y:cT.y,w:Math.ceil(cJ.getLabelWidth(cN)),h:Math.ceil(cJ.getLabelHeight(cN))};var cV=tab.RectXYUtil.intersect(cU,cM);var cW=new T(cV,9,cJ.get_id(),null,0);cH.addNode(cW)}}}return cH},$4:function(L){var cG=Z.createEmptyHitTestResult();for(var cH=this.$5.length-1;cH>=0;cH--){var cI=this.$5[cH];if(cI.get_nodeType()!==1||!tab.RectXYUtil.inRect(cI.get_boundingBox(),L)){continue}for(var cJ=cI.get_children().length-1;cJ>=0;cJ--){var cK=cI.get_children()[cJ];if(cK.get_nodeType()!==8&&cK.get_nodeType()!==9){continue}var cL=bV.$6(cK,L);cG=bV.$7(cG,cL);if(cG.get_hitType()===3){return cG}}}return cG},$3:function(L){var cG=[];for(var cH=this.$5.length-1;cH>=0;cH--){var cI=this.$5[cH];if(cI.get_nodeType()!==1||!tab.RectXYUtil.inRect(cI.get_boundingBox(),L)){continue}for(var cJ=cI.get_children().length-1;cJ>=0;cJ--){var cK=cI.get_children()[cJ];if(cK.get_nodeType()!==8&&cK.get_nodeType()!==9){continue}var cL=bV.$0(cK,L);if(cL.get_hitType()===3){cG.push(cL)}}}return cG},$2:function(){var L=[];var cG=this.$6.get_runtimeData().safeFetchMarkPanes();for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];var cJ=ba.$2(this.$6,cI);for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=this.$6.getPaneDrawInfo(cL);if(ss.isValue(cM)){L.push(cM)}}}return L}},X,[ss.IDisposable,bb]);ss.initClass(bW,a,{get_neededWidth:function(){return this.$2},get_neededHeight:function(){return this.$1},get_scrollableWidth:function(){return this.$a},get_scrollableHeight:function(){return this.$9},get_scrollXLeft:function(){return this.$7},get_scrollYTop:function(){return this.$8},get_widthScrollOffset:function(){return this.$d},get_heightScrollOffset:function(){return this.$0},get_viewWidth:function(){return this.$c},get_viewHeight:function(){return this.$b},get_scrollWidth:function(){return this.$6},get_scrollHeight:function(){return this.$5},get_overallWidth:function(){return this.$4},get_overallHeight:function(){return this.$3},getVisibleGeometry:function(L,cG){var cH={};cH.uleftArea=null;if(ss.isValue(L.uleft)){cH.uleftArea={l:L.uleft.x,t:L.uleft.y,w:Math.min(L.uleft.w,cG-this.get_scrollWidth()),h:L.uleft.h}}cH.yheaderArea=null;if(ss.isValue(L.yheader)){cH.yheaderArea={l:L.yheader.x,t:L.yheader.y,w:Math.min(L.yheader.w,cG-this.get_scrollWidth()),h:this.get_viewHeight()}}cH.leftaxisArea=null;if(ss.isValue(L.leftaxis)){cH.leftaxisArea={l:L.leftaxis.x,t:L.leftaxis.y,w:L.leftaxis.w,h:this.get_viewHeight()}}cH.rightaxisArea=null;if(ss.isValue(L.rightaxis)){cH.rightaxisArea={l:L.rightaxis.x-this.get_widthScrollOffset(),t:L.rightaxis.y,w:L.rightaxis.w,h:this.get_viewHeight()}}cH.xheaderArea=null;if(ss.isValue(L.xheader)){cH.xheaderArea={l:L.xheader.x,t:L.xheader.y,w:this.get_viewWidth(),h:L.xheader.h}}cH.bottomaxisArea=null;if(ss.isValue(L.bottomaxis)){cH.bottomaxisArea={l:L.bottomaxis.x,t:L.bottomaxis.y-this.get_heightScrollOffset(),w:this.get_viewWidth(),h:L.bottomaxis.h}}cH.topaxisArea=null;if(ss.isValue(L.topaxis)){cH.topaxisArea={l:L.topaxis.x,t:L.topaxis.y,w:this.get_viewWidth(),h:L.topaxis.h}}cH.urightArea=null;if(ss.isValue(L.uright)){cH.urightArea={l:L.uright.x-this.get_widthScrollOffset(),t:L.uright.y,w:Math.min(L.uright.w,cG-this.get_scrollWidth()),h:L.uright.h}}cH.lleftArea=null;if(ss.isValue(L.lleft)){cH.lleftArea={l:L.lleft.x,t:L.lleft.y-this.get_heightScrollOffset(),w:L.lleft.w,h:L.lleft.h}}cH.lrightArea=null;if(ss.isValue(L.lright)){cH.lrightArea={l:L.lright.x-this.get_widthScrollOffset(),t:L.lright.y-this.get_heightScrollOffset(),w:L.lright.w,h:L.lright.h}}cH.vizArea=null;if(ss.isValue(L.viz)){cH.vizArea={l:L.viz.x,t:L.viz.y,w:this.get_viewWidth(),h:this.get_viewHeight()}}return cH}});ss.initClass(bX,a,{});ss.initClass(bY,a,{get_hasSelection:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},get_hasBrushing:function(){return this.$q||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$p)&&!this.$p.isEmpty||this.$k},get_imageDictionary:function(){return this.$n},get_hiddenTuples:function(){return this.$o},set_hiddenTuples:function(L){this.$o=L||new Map},get_isSingleUserPane:function(){return this.scene.panes.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$l},set_filteredTuples:function(L){this.$l=L||new Map},get_referenceLines:function(){return this.$1$1},set_referenceLines:function(L){this.$1$1=L},get_runtimeData:function(){return this.$v},set_runtimeData:function(L){this.$v=L},$i:function(){return this.$1$2},$j:function(L){this.$1$2=L},setSceneData:function(L,cG,cH,cI,cJ,cK,cL,cM,cN,cO){this.$s.clear();this.$m.clear();this.$r.clear();this.$u.clear();this.$t.clear();this.sceneUserPaneInfo=null;this.scene=L;this.$v=cM;this.set_referenceLines(cN);this.$j(cO);this.set_hiddenTuples(cK);this.set_filteredTuples(cL);if(ss.isValue(L)&&(ss.isValue(L.pdMarksMap)||ss.isValue(L.runtimeRenderInputDatastore))){this.customShapes=bY.extractCustomShapes(cM);if(ss.isValue(cM.get_annexedData().Panes)){var cP=cM.get_annexedData().Panes;if(ss.isValue(L.userPaneInfo)){this.sceneUserPaneInfo=new bZ(L.userPaneInfo)}this.$e(cM);for(var cQ=0;cQ<cP.length;cQ++){var cR=cP[cQ];var cS=cR.DrawPanes;for(var cT=0;cT<cS.length;++cT){var cU=cS[cT];var cV=tab.EnumConversions.visualPartFromInt(cU[0]);var cW=cU[1];if(cV==='marks'){var cX=new tab.PaneMarksInfo.$ctor1(cM.get_finalDataStore().Viewpoint.PerPaneExtents,cM.get_paneStoreTable(),cW,L.currentPage,cR.Row,cR.Column);var cY=cX.get_paneKey();var cZ=bY.getPaneMarksKey$1(cY,cX.get_paneId(),cW);var da=new bE.$ctor1(cY,this,cR,cX,cJ,cZ,cM.get_finalDataStore(),cW);this.$u.set(cZ,da)}}}}}if(ss.isValue(cG)){this.selections=cG;this.$p=cH}if(ss.isValue(cI)){this.brushings=cI}this.colorModel=bg.extractInteractionColors(this.scene)},getMarkBoundingBox:function(L){if(this.$s.has(L)){return this.$s.get(L)}else{return bY.$1}},$7:function(L,cG){if(this.$t.has(L)&&cG>=0&&cG<this.$t.get(L).length){return this.$t.get(L)[cG]}return null},computeFilteredMarks:function(L){var cG=new Set;var cH=this.$l.size;if(cH===0){return cG}var cI=0;if(!ss.isNullOrUndefined(L)){cI=L.length}for(var cJ=0;cJ<cI;cJ++){var cK=L.v[(L.c?0:cJ)];if(this.$l.has(cK.toString())){cG.add(cJ);if(cG.size===cH){break}}}return cG},computeTupleStates:function(L){var cG=this.get_hasSelection();var cH=this.selections;var cI=(ss.isValue(cH)?cH.tupleSelection:null);var cJ=new Set;if(ss.isValue(cI)){tab.SetUtilities.addAll(ss.Int32).call(null,cJ,cI.get_ids())}var cK=this.get_hasBrushing();var cL=this.brushings;var cM=(ss.isValue(cL)?cL.tupleSelection:null);var cN=new Set;if(ss.isValue(cM)){tab.SetUtilities.addAll(ss.Int32).call(null,cN,cM.get_ids())}var cO=new Set;if(ss.isValue(this.$p)){tab.SetUtilities.addAll(ss.Int32).call(null,cO,this.$p.get_ids())}var cP=0;if(!ss.isNullOrUndefined(L)){cP=L.length}var cQ=new Array(cP);for(var cR=0;cR<cP;cR++){var cS=L.v[(L.c?0:cR)];var cT='markStateNormal';if(this.$o.has(cS.toString())){cT='markStateInvisible'}else if(cG&&cJ.has(cS)){cT='markStateSelected'}else if(cK&&(cN.has(cS)||cO.has(cS))){cT='markStateHighlighted'}cQ[cR]=cT}return cQ},prepareForDraw:function(L){this.$4(L);this.$f()},cleanupFromDraw:function(){this.$3()},$6:function(L){if(this.$r.has(L)){return this.$r.get(L)}else{return bY.$1}},getMarksInvalidationRects:function(L){var cG=[];for(var cH=0;cH<L.length;cH++){var cI=L[cH];var cJ=this.$8(cI);for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];cG.push(cL)}}return cG},$8:function(L){var cG=false;var cH=[];var cI=this.$v.get_panes();for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];if(_.isArray(cK.renderNodes)&&cK.renderNodes.length>0){cG=true;break}}var cL=this.getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(cL)){return cH}var cM=cL.markType;if(cG){cH.push(cL.paneRect)}else if(cM==='area'||cM==='line'){cH.push(cL.paneRect)}else{var cN=this.$5(L);var cO=cL.getWorldOffsetBounds(cN);for(var cP=0;cP<cO.length;cP++){var cQ=cO[cP];cH.push(cQ)}var cR=this.$6(L);if(!tab.RectXYUtil.isNull(cR)){var cS=cL.getWorldOffsetBounds(cR);for(var cT=0;cT<cS.length;cT++){var cU=cS[cT];cH.push(cU)}}}return cH},updateImageMap:function(L,cG){if(ss.isValue(L)&&ss.isValue(L.imageMap)){var cH=new ss.ObjectEnumerator(L.imageMap);try{while(cH.moveNext()){var cI=cH.current();var cJ=cI.key;if(!this.$n.has(cJ)){var cK=cI.value;var cL={$:document.createElement('img')};cL.$.src='data:image/jpeg;base64,'+cK;this.$n.set(cJ,cL.$);var cM={$:null};cM.$=ss.mkdel({imgElt:cL,imageFinishedLoad:cM},function(){if(ss.isValue(cG)){cG()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});cL.$.addEventListener('load',cM.$,false)}}}finally{cH.dispose()}this.$n.forEach(ss.mkdel(this,function(cN,cO){if(!ss.keyExists(L.imageMap,cO)){this.$n.delete(cO)}}))}},$c:function(L){return this.get_hasSelection()&&this.selections.tupleSelection.isObjectSelected(L)},$a:function(L){return this.get_hasBrushing()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(L)||this.$b(L))},$b:function(L){return ss.isValue(this.$p)&&this.$p.isObjectSelected(L)},$d:function(L){return!this.$o.has(L.toString())},isMarkFiltered:function(L){return this.$l.has(L.toString())},setLabelInfo:function(L,cG){var cH=L.get_annexedData().LabelStore;if(ss.isValue(cH)&&ss.isValue(cH.Panes)){for(var cI=0;cI<cH.Panes.length;cI++){var cJ=cH.Panes[cI];var cK=cJ.DrawPanes;for(var cL=0;cL<cK.length;++cL){var cM=cK[cL];var cN=tab.EnumConversions.visualPartFromInt(cM[0]);var cO=cM[1];var cP=new tab.PaneMarksInfo.$ctor1(L.get_finalDataStore().Viewpoint.PerPaneExtents,L.get_labelsPaneStoreTable(),cO,cG,cJ.Row,cJ.Column);if(cN==='marks'){var cQ=bY.getPaneMarksKey$1(cP.get_paneKey(),cP.get_paneId(),cO);if(this.$u.has(cQ)){var cR=this.$u.get(cQ);var cS=cH.PDMarks[cP.get_paneKey()];tab.FontNotificationUtil.notifyFontsFromMarkLayoutOutput(cS);cR.addLabelInfo(cS,cP.get_startIndex(),cP.get_endIndex())}}}}}},getPaneDrawInfo:function(L){var cG=null;if(ss.isValue(L)){cG=this.$u.get(bY.getPaneMarksKey(L))}return cG},getPaneDrawInfo$1:function(L,cG,cH){var cI=new tab.PaneMarksInfo.$ctor1(this.$v.get_finalDataStore().Viewpoint.PerPaneExtents,this.$v.get_paneStoreTable(),L,this.$g,cG,cH);return this.$u.get(bY.getPaneMarksKey(cI))},getPaneDrawInfoFromKey:function(L){return this.$u.get(L)},getPaneDrawInfoFromTupleId:function(L){var cG=null;tab.MapUtility.forEachWithInterrupt(String,bE).call(null,this.$u,function(cH){if(cH.containsTuple(L)){cG=cH;throw new tab.LoopBreakException}});return cG},getPaneDrawInfoAssociatedWithPane:function(L){var cG=L.DrawPanes;for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];var cJ=cI;var cK=tab.EnumConversions.visualPartFromInt(cJ[0]);if(cK==='marks'){var cL=cJ[1];return this.getPaneDrawInfo$1(cL,L.Row,L.Column)}}return null},setIsTargetOfBrushingAction:function(L){this.$q=L},setEmptyHighlightFogAll:function(L){this.$k=L},$2:function(L,cG){bY.$0(L,cG,this.$s)},$1:function(L,cG){bY.$0(L,cG,this.$r)},$0:function(L,cG,cH){tab.RectXYUtil.offsetRectXYInPlace(cG,L.paneRect.x,L.paneRect.y);for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];this.$m.set(cJ,cG)}},$9:function(L){return ss.isInstanceOfType(L,Float32Array)||ss.isInstanceOfType(L,Array)},$e:function(L){if(!ss.isValue(L)){return}var cG=L.get_finalDataStore();var cH=cG.Viewpoint.PerPaneExtents;var cI=cG.PDMarks;var cJ=L.get_geometries();var cK=_.keys(cI);for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];if(!ss.keyExists(cJ,cM)){continue}var cN=cJ[cM];var cO=cI[cM];var cP=cO.MarkLayoutData.Parameters.pane_flags;var cQ=tab.SceneDataUtil.isPaneFlagSet(cP,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(cP,'enable-scale-y');var cR=null;var cS=null;var cT=false;if(cQ){var cU=L.get_annexedData().Panes;for(var cV=0;cV<cU.length;cV++){var cW=cU[cV];for(var cX=0;cX<cW.DrawPanes.length;cX++){var cY=cW.DrawPanes[cX];var cZ=cY;var da=cZ[1];if(ss.referenceEquals(cH.PaneKey[da],cM)){cR=tab.DoubleRectXYUtil.constructDoubleRectXY(cH.DomainLeft[da],cH.DomainTop[da],cH.DomainRight[da],cH.DomainBottom[da]);cS={x:0,y:0,w:cH.pane_px_right[da]-cH.pane_px_left[da],h:cH.pane_px_bottom[da]-cH.pane_px_top[da]};cT=true;break}}if(cT){break}}}var db=cN.length;var dc=new Array(db);for(var dd=0;dd<db;dd++){var de;dc[dd]=null;if(this.$9(cN[dd])){if(cN[dd].length<1){continue}var df=new tab.LinearFloatGeometryDecoder(cN[dd]);de=df.processEncodedGeometry()}else{var dg;if(ss.isInstanceOfType(cN[dd],Uint8Array)){dg=tab.Utf8TextDecoder.decode(cN[dd])}else{dg=cN[dd]}if(tab.MiscUtil.isNullOrEmpty$3(dg)){continue}de=JSON.parse(dg)}if(O.isGeometryPresModelFeatureEmpty(de)){continue}if(cQ&&cT){O.domainToPixelGeometry(de,cR,cS,true)}dc[dd]=de}this.$t.set(cM,dc)}},$5:function(L){var cG=this.$m.get(L);if(ss.isNullOrUndefined(cG)){cG=this.getMarkBoundingBox(L)}return cG},$4:function(L){this.$u.forEach(function(cG){cG.computeDirtyMarks(L)})},$3:function(){this.$u.forEach(function(L){L.clearDirtyMarks()})},$f:function(){this.$u.forEach(function(L){L.refreshMarkState()})}});ss.initClass(bZ,a,{});bZ.$0.prototype=bZ.prototype;ss.initClass(ca,a,{hitTest:function(L,cG){var cH=new tab.HitTestSceneCmd;cH.c['pt1']=tab.PointUtil.toPresModel(L);cH.c['visualIdPresModel']=this.region.get_visualId();cH.invoke().done(ss.mkdel(this,function(cI){var cJ=cI.$$c['sceneElements'];if(ss.isValue(cJ)&&cJ.length>0&&ss.isValue(this.paneTable)){var cK=new tab.SceneElementModel(cJ[0]);var cL=cK.get_paneId();var cM=this.makePaneSpecId(cL.get_columnIndex(),cL.get_rowIndex());var cN=new Z(cK);this.setCurrent(new cA(this.region,cM,cL.get_columnIndex(),cL.get_rowIndex(),L,cG,cN))}else{this.setCurrent(null)}}))}},cB,[ss.IDisposable,tab.IVizHitTestDebouncer]);ss.initClass(cb,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(L){this.$3.clear();for(var cG=0;cG<L.length;cG++){var cH=L[cG];this.$0(cH)}this.$1()},$0:function(L){if(tab.SceneDataUtil.isCustomShape(L)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(L)){this.$3.add(L)}},onShapeLoaded:function(L){if(!this.$3.has(L)){return}this.$3.delete(L);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(ce,a,{});ss.initClass(cf,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$q.get_visualModel().get_backgroundColor()},$p:function(L,cG){if(cG.get_propertyName()==='images'){this.invalidate(false)}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$q.get_scene().get_imageDictionary())}finally{if(ss.isValue(L)){L.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().renderCanvasBorders(this.get_visualListVM())},onViewModelPropertyChanged:function(L,cG){if(cG.get_propertyName()==='HoverNode'){var cH={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(cH),true)}else{ss.makeGenericType(cx,[ct]).prototype.onViewModelPropertyChanged.call(this,L,cG)}}},ss.makeGenericType(cx,[ct]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ct]),spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(cg,a,{$0:function(){this.$2=false;window.clearTimeout(this.$4);if(ss.isValue(this.$5)){this.$1(this.$5);this.$5=null}},$1:function(L){this.setState({visible:L.visible,transitionDurationMs:L.transitionDurationMs,transitionDelayMs:L.transitionDelayMs,animationId:this.state.animationId+1})},componentWillReceiveProps:function(L){var cG=L.transitionDelayMs>0;var cH=this.$2&&cG;if(cH){this.$5=L}else{this.$5=null;this.$1(L)}},shouldComponentUpdate:function(L,cG){var cH=this.state.animationId!==cG.animationId;return cH},componentWillUpdate:function(L,cG){this.$2=true;var cH=cG.transitionDelayMs+cG.transitionDurationMs+200;this.$4=window.setTimeout(ss.mkdel(this,this.$0),cH)},componentWillUnmount:function(){window.clearTimeout(this.$4)},render:function(){var L={opacity:(this.state.visible?1:0),transitionDuration:tab.DomUtil.toMsString(this.state.transitionDurationMs),transitionDelay:tab.DomUtil.toMsString(this.state.transitionDelayMs)};return spiff.DOMElements.div({className:'tab-smooth-tooltips-tip',style:L,onTransitionEnd:this.$3},spiff.DOMElements.p({className:'tip-text',children:tab.Strings.SmoothTooltipsOnboardingText}))}},React.Component);ss.initClass(ch,a,{$7:function(L){this.$a=true;this.$9=100;this.$8=(L?150:0);this.incrementProps()},$5:function(L){this.$a=false;this.$9=300;this.$8=(L?1000:0);this.incrementProps()},createSuppressTipCookie:function(){tab.CookieHelper.setCookie('twoFingerScrollOnboardingTipWasAcknowledged',true.toString(),'/',null)},$6:function(){var L=tab.CookieHelper.getValueForCookie('twoFingerScrollOnboardingTipWasAcknowledged');var cG=tab.MiscUtil.toBoolean(L,false);return tab.GestureModelSettings.get_onboardingEnabled()&&tsConfig.is_mobile&&!cG},showTipImmediatelyIfNotSuppressed:function(){if(this.$6()){this.$7(false)}},hideTipWithDelayIfNotSuppressed:function(){if(this.$a){this.$5(true)}},hideTipImmediatelyIfNotSuppressed:function(){this.$5(false)},suppressTip:function(){if(this.$6()){this.$5(false);this.createSuppressTipCookie()}},createUpdatedProps:function(){return{visible:this.$a,transitionDurationMs:this.$9,transitionDelayMs:this.$8}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(ci,a,{});ss.initClass(cj,a,{get_isDragTracking:function(){return false},get_isScrollable:function(){return this.get_contentProvider().get_canScrollX()||this.get_contentProvider().get_canScrollY()},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$9},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$c},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(L){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent=L;this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))},get_shapeSelector:function(){return this.$b},get_visualObjectBoundsComputerAndHitTester:function(){return this.$e},get_toolModeViewModel:function(){return this.$d},sendSelectionCommand:function(L,cG,cH,cI){this.get_shapeSelector().sendSelectionCommand(L,cG,cH,cI)},turnOnWindowLogging:function(){if(!ss.isValue(cj.windowLog)){cj.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.get_toolModeViewModel().handleDeferredModeChangeIfNeeded();if(this.shouldResetVisualState()){return}this.resetVisualState()},resetVisualState:function(){this.setViewportBorderVisibility(false);this.backgroundMap.removeMarkOverlay();this.hideDomDragImage();this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass)},destroy:function(){this.disposables.dispose();this.allowPanZoomActions=null;this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy();this.backgroundMap.destroyMap();this.backgroundMap.dispose();this.get_toolModeViewModel().remove_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode));this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass)},setGeometry:function(L,cG,cH){if(this.regionContent.get_hasContent()){this.regionContent.set_actualViewSize({w:cG.w,h:cG.h});this.regionContent.reset(L,cH);this.$a={x:0,y:0,w:L.w,h:L.h};this.updateSelectorShape(this.get_toolModeViewModel().get_currentPointerToolMode())}},refreshImages:function(L){this.regionContent.refreshImages(L)},onZoomBoxMouseMove:function(L){this.onSelectorMouseMove(L,this.domPanZoomRect)},onMarqueeMouseMove:function(L){this.onSelectorMouseMove(L,this.$b)},onSelectorMouseMove:function(L,cG){L.preventDefault();cG.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var cH=cG.get_connectNodePos();var cI=L.get_GestureInfo().pageX-cH.x;var cJ=L.get_GestureInfo().pageY-cH.y;var cK=((cI<0)?cI:((cI>cH.w)?(cI-cH.w):0));var cL=((cJ<0)?cJ:((cJ>cH.h)?(cJ-cH.h):0));var cM=this.determineScrollDirection(0,cK);var cN=this.determineScrollDirection(1,cL);var cO=((Math.max(Math.abs(cK),Math.abs(cL))>15)?'fast':'slow');if(cM!==0||cN!==0){this.startScrolling(cM,cN,cO);cG.constrainShape(L.get_GestureInfo())}else{this.stopScrolling();cG.updateAndRenderShape(L.get_GestureInfo())}},$1:function(L){var cG=true;if(ss.isNullOrUndefined(L)){return false}if(this.get_regionPart()==='bottomaxis'){cG=tab.SelectionUtils.isQuantitative(L)}if(cG){return true}return false},onRightClickAxis:function(L){var cG=this.toLocalCoordsEvent(L,false);var cH=tab.ModelUtils.regionToVisualPartMap[this.get_regionPart()];var cI=this.paneTableViewModel.get_vizRegionMap()[cH];if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(cI)){tab.AxisAuthoringTelemetry.logRightClickAxisEvent();return}var cJ=cI.hitTestNodes(cG);if(this.$1(cJ)){tab.AxisAuthoringTelemetry.logRightClickAxisEvent()}},onDoubleTapAxis:function(L){var cG=this.toLocalCoordsEvent(L,false);var cH=tab.ModelUtils.regionToVisualPartMap[this.get_regionPart()];var cI=this.paneTableViewModel.get_vizRegionMap()[cH];if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(cI)){tab.EditAxisDialogCommands.showEditAxisDialogInServerRenderedMode(this.get_visualId(),cG,this.get_regionPart());return}var cJ=cI.hitTestNodes(cG);if(this.$1(cJ)){tab.EditAxisDialogCommands.showEditAxisDialogInBrowserRenderedMode(cJ.node)}},debugWindowLog:function(L){if(ss.isValue(cj.windowLog)){}},toLocalCoords:function(L,cG){var cH=this.getLocalOffsetPoint(cG);var cI={x:L.x-cH.x,y:L.y-cH.y};return cI},toLocalCoordsRect:function(L,cG){var cH=this.getLocalOffset(cG);var cI={x:cH.x,y:cH.y};var cJ={x:L.x-cI.x,y:L.y-cI.y,w:L.w,h:L.h};return cJ},toLocalCoordsEvent:function(L,cG){var cH={x:L.get_GestureInfo().pageX,y:L.get_GestureInfo().pageY};return this.toLocalCoords(cH,cG)},getLocalOffset:function(L){var cG=tab.DomUtil.getRectXY(this.connectNode);if(L){return cG}cG.x-=this.regionContent.get_scrollPos().x;cG.y-=this.regionContent.get_scrollPos().y;return cG},getLocalOffsetPoint:function(L){var cG=this.getLocalOffset(L);var cH={x:cG.x,y:cG.y};return cH},moveMapToBounds:function(L){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.setViewportBorderVisibility(true);this.backgroundMap.splatOverlayToMapForTransition(cj.getCanvasElement(this.connectNode));this.backgroundMap.moveToBounds(L)}},isExistingSelection:function(){var L=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId(),null).get_selectionsModel().tupleSelection;return L.get_ids().length!==0},$2:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},anchorZoomStart:function(){if(this.isWaitingOnPanZoomServerResponse()){return}this.setWaitingOnPanZoomServerResponseState();if(this.mapIsBrowserRendered()){this.setViewportBorderVisibility(true);this.backgroundMap.splatOverlayToMapForTransition(cj.getCanvasElement(this.connectNode))}},anchorZoom:function(L,cG,cH,cI,cJ){if(this.mapIsBrowserRendered()){this.animateAnchorZoomMap(L,cG,cH,cJ)}else{this.animateAnchorZoomImage(L,cG,cI)}},anchorZoomEnd:function(L,cG,cH,cI,cJ){if(this.mapIsBrowserRendered()){this.backgroundMap.updateLocalMapDataForZoomAround(cG,cH)}var cK=ss.mkdel(this,function(){if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.reset()}});var cL=ss.mkdel(this,function(cM){if(ss.isValue(cJ)&&cM==='success'){cJ.dispose()}if(cM==='failure'){this.reset()}this.clearWaitingOnPanZoomServerResponseState()});tab.PanZoomCommands.zoomWithAnchorPoint(this.get_regionPart(),cG,1/cI,cK,cL,this.get_sheetid())},zoomPoint:function(L,cG,cH,cI,cJ){if(this.resetIsWaitingOnTransition){return}if(this.isWaitingOnPanZoomServerResponse()){return}var cK=ck.createMapZoomLocalWorkCompleteContext();var cL=ck.createMapZoomFullyCompleteContext();this.setWaitingOnPanZoomServerResponseState();var cM=cG||cj.getCenterPoint(L);this.suppressTooltips();this.zoomAnimationProtectionGlass=new spiff.Glass(null,false);this.zoomAnimationProtectionGlass.show();var cN=ss.mkdel(this,function(){cK.dispose();if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.reset()}});var cO=ss.mkdel(this,function(cU){if(cU==='failure'){this.reset()}this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass);if(cU==='success'){cL.dispose()}this.clearWaitingOnPanZoomServerResponseState()});var cP=ss.mkdel(this,function(){var cU=1/cH;if(cI){tab.PanZoomCommands.zoomDoubleClick(cM,cH>1,cJ,cU,cN,cO,this.$c)}else if(cH>1){tab.PanZoomCommands.zoomIn(cM,cM,cU,cN,cO,this.$c)}else{tab.PanZoomCommands.zoomOut(cM,cU,cN,cO,this.$c)}});if(this.mapIsBrowserRendered()){var cQ=((cH>1)?1:-1);this.animateZoomOnPointMap(L,cG,cQ,cP)}else{var cR=this.paneTableViewModel.get_visualModel().get_tileCacheUrl();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tab.ViewSession.canUseTileCacheUrl(cR)){var cS=(L.canDragH?cH:1);var cT=(L.canDragV?cH:1);this.animateZoomOnPointImage(L,cM,cS,cT)}cP()}},makeDomDragImage:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDragImage:function(){if(this.$9!=='viz'||!this.$6){return}this.$6=false;this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('')},showDomDragImage:function(L){this.$6=true;var cG=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var cH={l:L.x-cG.x+1,t:L.y-cG.y+1,w:L.w+1-2,h:L.h+1-2};var cI=this.$8.clone();if(ss.isInstanceOfType(this.regionContent,bG)){var cJ=cj.getCanvasElement(cI);var cK=tab.CanvasRenderer.getRenderContext(cJ,'transparent');this.regionContent.copyContent(cK)}cI.removeClass();cI.addClass('tvdrag_imageContainer');this.domDragImage.append(cI);this.domDragImage.css('display','');var cL=1;tab.DomUtil.setMarginBoxJQ(cI,{l:-cH.l-cL,t:-cH.t-cL,w:tab.DoubleUtil.roundToInt(cI.width())-2,h:tab.DoubleUtil.roundToInt(cI.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:cG.x+cL,t:cG.y+cL,w:cH.w-2,h:cH.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),cH);this.domPanZoomRect.get_dom().css('display','')},addHiddenDiv:function(L,cG,cH){L.addClass(cG);L.css('display','none');cH.append(L)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomMap:function(L,cG,cH,cI){this.backgroundMap.anchorZoom(cH,cG,cI)},animateAnchorZoomImage:function(L,cG,cH){var cI=cj.$0(L,cG,1/cH);this.$0(L,cI)},animateZoomOnPointMap:function(L,cG,cH,cI){this.setViewportBorderVisibility(true);this.backgroundMap.splatOverlayToMapForTransition(cj.getCanvasElement(this.connectNode));this.backgroundMap.zoomOnPoint(cG,cH).done(function(cJ){cI()})},animateZoomOnPointImage:function(L,cG,cH,cI){var cJ=cj.$2(L,cG,cH,cI);this.$0(L,cJ)},animateZoomRectMap:function(L,cG,cH){this.setViewportBorderVisibility(true);this.backgroundMap.splatOverlayToMapForTransition(cj.getCanvasElement(this.connectNode));this.backgroundMap.zoomRect(cG).done(function(cI){cH()})},animateZoomRectImage:function(L,cG,cH){var cI=cj.getCenterPointFromRectXY(cH);var cJ=cH.w;var cK=cH.h;var cL=L.w/cJ;var cM=L.h/cK;if(L.canDragH&&L.canDragV){var cN=Math.min(cL,cM);var cO=this.paneTableViewModel.get_mapServerModel();if(cO.get_hasPresModel()){cN=cF.resolveDesiredScale(cO,cN)}cL=cM=cN}else if(!L.canDragV){cM=1;cI.y=cG.y}else if(!L.canDragH){cL=1;cI.x=cG.x}else{return}var cP=cj.$2(L,cI,cL,cM);this.$0(L,cP)},$0:function(L,cG){this.showDomDragImage(L);this.setViewportBorderVisibility(true);var cH=this.domDragImage.get(0);this.get_toolModeViewModel().deferModeChanges();this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(cH,cG);this.$7=true;var cI=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.get_toolModeViewModel().isDeferringModeChanges){this.reset()}}),cI)}),50)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(L,cG){if(this.$9==='viz'){if(!this.isScrolling&&this.$6){this.hideDomDragImage()}if(this.$7){tableau.util.transform(this.domDragImage.get(0),null);this.$7=false}}},getPanZoomFillColor:function(){var L='rgb(255,255,255)';if(this.$9==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){L=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){L=this.paneTableViewModel.get_scene().scene.bgColor}}return L},$5:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.destroyMap();this.$4(true)}},$4:function(L){if(this.$9!=='viz'){return}this.setViewportBorderVisibility(false);if(L){if(!this.backgroundMap.get_enabled()){this.backgroundMap.createMap(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel())}}else{this.backgroundMap.destroyMap()}},$3:function(L){if(this.$9!=='viz'){return}this.backgroundMap.resize(L.w,L.h)},setViewportBorderVisibility:function(L){this.paneTableViewModel.set_highlightBorder(L)},updateForToolMode:function(L){this.updateSelectorShape(L)},updateSelectorShape:function(L){if(ss.isValue(this.$b)){if(ss.isValue(this.$b.get_dom())){this.$b.get_dom().remove()}this.$b=null}switch(L){case'lasso-selection':{this.$b=new bQ(this.$a,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var cG=this.paneTableViewModel.get_mapServerModel();this.$b=new x(this.$a,cG.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$b=new bS;break}}this.$b.createDomAndAppend(this.connectNode)},shouldResetVisualState:function(){return!tsConfig.is_mobile&&this.resetIsWaitingOnTransition},setWaitingOnPanZoomServerResponseState:function(){var L=this.paneTableViewModel.get_visualModel();if(L.shouldDoLocalCommand()&&L.get_runtimeReady()){this.waitingOnPanZoomServerResponse='waitingOnLocal'}else{this.waitingOnPanZoomServerResponse='waitingOnServer'}},clearWaitingOnPanZoomServerResponseState:function(){this.waitingOnPanZoomServerResponse='normal'},isWaitingOnPanZoomServerResponse:function(){return this.waitingOnPanZoomServerResponse!=='normal'},allowMapZoomAtCurrentLevel:function(L){if(L<1){var cG=this.paneTableViewModel.get_mapServerModel();var cH=(cG.get_hasPresModel()?cG.get_zoom():1);return tab.MapUtil.allowZoomAtCurrentLevel(cH,1/L)}return true},handleRightClickHitTestServerWithCallback:function(L,cG){var cH=new tab.HitTestSceneCmd;cH.c['pt1']=tab.PointUtil.toPresModel(L);cH.c['visualIdPresModel']=this.get_visualId();cH.invoke().done(function(cI){var cJ=cI.$$c['sceneElements'];if(ss.isValue(cJ)&&cJ.length>0){var cK=new tab.SceneElementModel(cJ[0]);var cL=new Z(cK);cG(cL)}})}});ss.initClass(ck,a,{});ss.initClass(cl,a,{});ss.initClass(cm,a,{add_loadComplete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_loadComplete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_actualViewSize:function(){return{w:this.$c.clientWidth,h:this.$c.clientHeight}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(L){this.set_left(L.x);this.set_top(L.y);this.$3(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$f.w,h:this.$f.h}},get_hasContent:function(){return true},get_left:function(){return this.$j},set_left:function(L){this.$j=L;if(this.$l){this.$c.scrollLeft=L}},get_top:function(){return this.$q},set_top:function(L){this.$q=L;if(this.$l){this.$c.scrollTop=L}},destroy:function(){this.$d.destroy();if(this.$n>0){this.$k.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$n=0}this.$g=null;this.$r=null},refreshImages:function(L){if(this.$2()){return}if(ss.isNullOrUndefined(L)){return}this.$b=L;this.$1();this.$3(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$e);this.$e=false},reset:function(L,cG){var cH=this.$f;this.$f=L;var cI=this.$m;this.$m=cG;if(this.$2()){return}if(this.$4(cH,cI)){return}this.$o=Math.ceil(this.$f.w/this.$m.w);this.$p=Math.ceil(this.$f.h/this.$m.h);this.$8();this.$a()},$8:function(){this.$h.width(this.$f.w);this.$h.height(this.$f.h)},$a:function(){var L=this.$f.h-this.$c.offsetHeight;var cG=this.$f.w-this.$c.offsetWidth;L=Math.max(0,L);cG=Math.max(0,cG);this.set_top(Math.min(this.get_top(),L));this.set_left(Math.min(this.get_left(),cG))},$4:function(L,cG){return tab.RegionRectUtil.sizesAreEqual(L,this.$f)&&tab.SizeUtil.equals(cG,this.$m)},$2:function(){if(ss.isNullOrUndefined(this.$f)){return true}return this.$f.w===0&&this.$f.h===0},setXPos:function(L){this.set_scrollPos({x:L,y:this.get_scrollPos().y})},setYPos:function(L){this.set_scrollPos({x:this.get_scrollPos().x,y:L})},$0:function(L){var cG=$(L);if(!!cG.prop('_deferredClear')){cG.prop('_deferredClear',null);cG.empty()}},$3:function(L){if(!ss.isValue(L)){L=false}if(this.$2()){return}if(!ss.isValue(this.$b)){return}this.$d.clear();if(!ss.isValue(this.$k)){return}var cG=this.get_left();var cH=cG+this.$c.clientWidth;var cI=this.get_top();var cJ=cI+this.$c.clientHeight;var cK=Math.max(Math.floor(cG/this.$m.w),0);var cL=Math.min(Math.ceil(cH/this.$m.w),this.$o);var cM=Math.max(Math.floor(cI/this.$m.h),0);var cN=Math.min(Math.ceil(cJ/this.$m.h),this.$p);var cO=this.$n;this.$n=Math.max((cL-cK)*(cN-cM),0);if(cO<=0&&this.$n>0){if(L){this.$k.incrementWait(false,true)}tab.ImageTileTracker.incrementPendingCount()}var cP='';var cQ=0;if(ss.isValue(this.$g)){cP=this.$g()}if(ss.isValue(this.$r)){cQ=this.$r.get_cacheVersion()}var cR=false;for(var cS=cK;cS<cL;cS++){var cT=Math.min(this.$m.w,this.$f.w-cS*this.$m.w);for(var cU=cM;cU<cN;++cU){var cV=Math.min(this.$m.h,this.$f.h-cU*this.$m.h);var cW=cU*this.$o+cS;var cX={l:cS*this.$m.w,t:cU*this.$m.h,w:cT,h:cV};var cY=this.$k.formatTileURL(this.$b,this.$f.r,cS,cU,'',cP);if(ss.isValue(this.$i[cW])&&this.$i[cW].$0(cY,cQ)){if(L){this.$9()}var cZ=this.$i[cW].$2();var da=cZ.width!==cX.w||cZ.height!==cX.h;if(da){$(cZ).css(ss.mkdict(['left',cX.l+'px','top',cX.t+'px']));tab.RenderUtil.ensureImageEltSize(cZ,cX)}}else{cR=true;this.$i[cW]=this.$i[cW]||new f;var db=new bc(this.$i[cW].$2(),cW,cY,cX,cQ);this.$d.addImage(db)}}}if(!cR){this.$h.each(ss.mkdel(this,function(dc,dd){this.$0(dd)}))}},$1:function(){this.$i=[];this.$h.prop('_deferredClear',true)},$9:function(){if(this.$n>0){this.$n--;if(this.$n===0){this.$k.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$5:function(L,cG){this.$9();if(ss.isValue(cG.get_image().get_imageNode())){var cH=cG.get_image().get_imageNode();tab.RenderUtil.ensureImageEltSize(cH,cG.get_image().get_bounds());var cI=cG.get_image().get_index();var cJ=this.$r.get_cacheVersion();if(!ss.isValue(this.$i[cI])){return}if((!ss.isValue(this.$i[cI].$2())||!ss.referenceEquals($(this.$i[cI].$2()).attr('src'),$(cH).attr('src')))&&cG.get_image().get_version()===cJ){this.$i[cI].$3(cH);this.$i[cI].$1=cJ;var cK=cH;var cL=0;var cM=this.$h.length;this.$h.each(ss.mkdel(this,function(cN,cO){this.$0(cO);cO.appendChild(cK);if(cL<cM-1){cK=cK.cloneNode(false)}cL++}))}}},$6:function(L,cG){this.$9()},$7:function(L,cG){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,tab.IRegionContentProvider]);ss.initClass(cn,a,{add_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_appendModeUpdated:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_appendModeUpdated:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},get_isAppendMode:function(){return this.$7},set_isAppendMode:function(L){if(this.$7!==L){this.$7=L;this.raiseActionEvent$1(Boolean).call(this,this.$2$2,this.$7)}},get_currentToolbarToolMode:function(){return this.$5},set_currentToolbarToolMode:function(L){if(tsConfig.allow_filter){this.$5=L}},get_currentPointerToolMode:function(){return((this.currentModifierKeyToolMode==='no-tools')?this.get_currentToolbarToolMode():this.currentModifierKeyToolMode)},get_isPanToolActive:function(){return this.get_currentPointerToolMode()==='pan-map'},get_isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},get_isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},initializeToolModesForVizRegion:function(L){this.defaultPointerToolMode=this.$3(L);this.$5=this.defaultPointerToolMode;this.resetPointerToolMode()},setPointerToolMode:function(L){if(ss.isNullOrUndefined(L)){L=this.defaultPointerToolMode}this.$4(L)},$3:function(L){if(tsConfig.is_mobile){var cG='pan-map';if(L||tab.GestureModelSettings.get_newModelEnabled()){if(L&&tab.GestureModelSettings.get_newModelEnabled()){cG='pan-map'}else{cG=this.$8;if(cG==='area-zoom'){cG='rectangular-selection'}}}return cG}else{return this.$8}},updateDefaultToolMode:function(L){this.defaultPointerToolMode=this.$3(L)},setLockedPointerToolMode:function(L){this.$8=L},resetPointerToolMode:function(){this.setPointerToolMode(this.defaultPointerToolMode)},$4:function(L){if(!tsConfig.is_mobile){if(this.$2(L)){return}}this.set_currentToolbarToolMode(L);this.raiseActionEvent$1(Object).call(this,this.$2$1,L)},deferModeChanges:function(){this.isDeferringModeChanges=true},handleDeferredModeChangeIfNeeded:function(){if(tsConfig.is_mobile){return}this.isDeferringModeChanges=false;if(ss.isValue(this.$6)){var L=ss.unbox(this.$6);this.$6=null;this.currentModifierKeyToolMode='no-tools';this.$4(L)}},$2:function(L){if(this.isDeferringModeChanges){this.$6=L;return true}return false}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(co,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(L){return function(){}},buildBehaviorsDictionary:function(){var L=new tab.DisabledTooltipBehavior;this.tooltipBehaviors['disabled']=L},suppressHoverIfNecesary:function(){}},tab.TooltipBaseMode);ss.initClass(cq,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var L=this.tooltipBehaviors['smooth'];L.remove_onMouseStop(ss.mkdel(this,this.$F));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.$H));this.get_tooltip().remove_closed(ss.mkdel(this,this.$G));this.$B();tab.TooltipBaseMode.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var L=tab.ObjectRegistry.newLegacyTooltipBehavior(tab.ITooltipBehavior).call(null,tab.ITooltipBehavior,this.get_tooltip());var cG=new tab.SmoothTooltipBehavior(this.get_tooltip());this.tooltipBehaviors['sticky']=L;this.tooltipBehaviors['smooth']=cG},getSingleSelectBehaviorCallback:function(L){return ss.mkdel(this,function(cG){this.$I(L,cG)})},$I:function(L,cG){this.get_currentBehavior().singleSelectComplete(L);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isUbertipObjectSelected(cG)){this.switchTooltipMode('smooth');this.$C();if(tab.GestureModelSettings.get_newModelEnabled()&&tsConfig.is_mobile&&this.get_tooltip().get_isShown()){this.get_tooltip().close()}}},shouldShowCommandButtons:function(){var L=tab.TooltipBaseMode.prototype.shouldShowCommandButtons.call(this);var cG=this.get_ubertip().get_model();if(!L||ss.isNullOrUndefined(cG)){return L}var cH=cG.tupleId===0;if(!cH){L=this.isUbertipObjectSelected(cG)}return L},getSingleSelectBehavior:function(L){return'sticky'},getHoverBehavior:function(L){var cG=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(L==='header'||L==='visualparts'){cG='sticky'}else if(L==='mark'){cG='smooth'}else{}}else if(L==='header'){cG='sticky'}else{cG='smooth'}return cG},onPanOrDragStart:function(L){this.$B();tab.TooltipBaseMode.prototype.onPanOrDragStart.call(this,L)},onDragEnd:function(L){this.get_tooltip().close();this.$A();tab.TooltipBaseMode.prototype.onDragEnd.call(this,L)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$A();this.get_tooltip().allowMouseEventPassthrough(true)}else{this.$B();this.get_tooltip().allowMouseEventPassthrough(false)}},$H:function(){this.handleUbertipButtons();this.get_tooltip().allowMouseEventPassthrough(this.get_currentBehaviorType()==='smooth')},$G:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true);this.get_tooltip().allowMouseEventPassthrough(false)},$D:function(L){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(L)}},$E:function(L){this.get_tooltip().allowMouseEventPassthrough(false);if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:L.pageX,y:L.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$F:function(L){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}if(!this.$J){return}var cG=false;var cH=this.isUbertipObjectSelected(this.get_ubertip().get_model());if(cH){cG=this.switchTooltipMode('sticky')}this.$C();if(cG&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$C:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$A:function(){if(this.$K){return}if(tsConfig.is_mobile){this.$L.on(this.$O,ss.mkdel(this,this.$D))}else{this.$L.on(this.$M,ss.mkdel(this,this.$D))}this.$L.on(this.$N,ss.mkdel(this,this.$E));this.$K=true},$B:function(){if(!this.$K){return}if(tsConfig.is_mobile){this.$L.off(this.$O)}else{this.$L.off(this.$M)}this.$L.off(this.$N);this.$K=false}},tab.TooltipBaseMode);ss.initClass(cp,a,{shouldShowCommandButtons:function(){return false},needRemoteCommand:function(L,cG,cH,cI,cJ){return 0},shouldAddCommandButtonsAndActions:function(){return false}},cq);ss.initClass(cr,a,{get_hitTestStructures:function(){if(ss.isValue(this.$1)){return this.$1}this.$1=[];var L=this.paneTableVM.get_trendLineVisualLists();if(!ss.isValue(L)){return this.$1}for(var cG=0;cG<L.length;cG++){var cH=L[cG];this.$0(cH)}return this.$1},$0:function(L){var cG=L.drawItems;var cH=1;for(var cI=0;cI<cG.length;cI++){var cJ=cG[cI];if(cJ.type==='draw-group'){var cK=cJ;for(var cL=0;cL<cK.drawItems.length;cL++){var cM=cK.drawItems[cL];switch(cM.type){case'draw-pen':{var cN=cM;if(ss.isValue(cN.strokeWidth)){cH=cN.strokeWidth}break}case'draw-path':{var cO=cM;var cP=ba.buildTrendLineHitTestStructure(cO,cH,cK.objectId);this.$1.push(cP);break}default:{break}}}}}},hitTest:function(L,cG){return cr.hitTestTrendLines(this.get_hitTestStructures(),{x:L.x,y:L.y,w:1,h:1},cG)},clearCache:function(){this.$1=null}},X,[ss.IDisposable,bb]);ss.initClass(cs,a,{$3:function(L,cG,cH){var cI={x:0,y:0,w:L.w,h:L.h};if(cG>=0&&this.$g.$1){var cJ=this.$g.$3[cG];var cK=this.$g.$3[cG+1];cI.x+=Math.round(cJ);cI.w=Math.round(cK-cJ)}if(cH>=0&&this.$g.$2){var cL=this.$g.$4[cH];var cM=this.$g.$4[cH+1];cI.y+=Math.round(cL);cI.h=Math.round(cM-cL)}return cI},$7:function(L){return this.$h[L]},$8:function(L){var cG=this.$e[L];return this.$h[cG]},$4:function(L){return this.$e[L]},$5:function(L){return this.$d[L+1]-this.$d[L]},$6:function(L){return{firstMark:this.$d[L],lastMark:this.$d[L+1]-1}},$2:function(L){var cG=L.c.get('user_pane_col');var cH=L.c.get('user_pane_row');var cI=L.paneRect;var cJ=L.markCount;var cK=0;var cL=-1;var cM=-1;var cN=ss.isNullOrUndefined(cH);var cO=ss.isNullOrUndefined(cG);if(!cN||!cO){for(var cP=0;cP<cJ;++cP){var cQ=(cO?-1:cG.v[(cG.c?0:cP)]);var cR=(cN?-1:cH.v[(cH.c?0:cP)]);if(cQ!==cL||cR!==cM){this.$1(cP,cK,cQ,cR,cI);cL=cQ;cM=cR;cK+=1}}}this.$d[cK]=cJ;this.$0(cK);return cK},$0:function(L){if(L===0){return}var cG=L-1;var cH=this.$d[cG];var cI=this.$d[L];for(var cJ=cH;cJ<cI;++cJ){this.$e[cJ]=cG}},$1:function(L,cG,cH,cI,cJ){if(ss.isValue(this.$c)){this.$c[cG]=cH}if(ss.isValue(this.$f)){this.$f[cG]=cI}this.$h[cG]=this.$3(cJ,cH,cI);this.$d[cG]=L;this.$0(cG)},$9:function(L){for(var cG=0;cG<this.$b;++cG){var cH=this.$7(cG);var cI=this.$6(cG);var cJ=cI.firstMark;var cK=cI.lastMark;for(var cL=cJ;cL<=cK;++cL){L(cL,cH)}}},$a:function(L,cG){var cH=-1;var cI=null;for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];var cL=this.$e[cK];if(cL!==cH){cH=cL;cI=this.$7(cL)}cG(cK,cI)}}});ss.initClass(ct,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(L){this.$5=L},get_hoveredNodeOrAxis:function(){return this.$4},set_hoveredNodeOrAxis:function(L){if(!ss.referenceEquals(this.$4,L)){this.$7=this.$4;this.$4=L;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(L){var cG={x:0,y:0,w:0,h:0};var cH=[this.$7,this.$4];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(ss.isValue(cJ)){var cK={x:cJ.extentsX,y:cJ.extentsY,w:cJ.extentsWidth,h:cJ.extentsHeight};cG=tab.RectXYUtil.union(cG,cK)}}return tab.RectXYUtil.offsetRect(cG,L)},isNodeOrAxisHovered:function(L){return ss.referenceEquals(L,this.$4)},isSelected:function(L){return ss.isValue(this.$9)&&this.$9.isNodeSelected(L)},isBrushed:function(L){return ss.isValue(this.$3)&&this.$3.isNodeSelected(L)},selectNode:function(L,cG,cH,cI){tab.SelectionClientCommands.selectNode(this.$8,L,cH,this.$6,cG,this.$a,cI)},hitTestNodes:function(L){var cG=_.find(this.get_groupItemNodes(),function(cH){var cI=cH.extentsX||0;var cJ=cH.extentsY||0;var cK={x:cI,y:cJ,w:cH.extentsWidth,h:cH.extentsHeight};return tab.RectXYUtil.inRect(cK,L)});return cG},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(cu,a,{computeBoundsOfSelectedMarks:function(L,cG){var cH=L.get_selectionsModel().tupleSelection;var cI={x:0,y:0,w:0,h:0};var cJ=cH.get_ids();for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=cG.getMarkBoundingBox(cL);cI=tab.RectXYUtil.union(cI,cM)}return cI},computeBoundsOfSelectedNodes:function(L,cG){var cH=L.get_selectionsModel().nodeSelection;var cI={x:0,y:0,w:0,h:0};var cJ=cG;if(ss.isNullOrUndefined(cJ)){return cI}var cK=cJ.get_groupItemNodes();for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];if(!cH.isNodeSelected(cM)){continue}var cN=cM.extentsX||0;var cO=cM.extentsY||0;var cP={x:cN,y:cO,w:cM.extentsWidth,h:cM.extentsHeight};cI=tab.RectXYUtil.union(cI,cP)}return cI},computeBoundsOfSelectedRefLines:function(L,cG){var cH=L.get_selectionsModel().refLineSelection;var cI={x:0,y:0,w:0,h:0};if(cH.isEmpty){return cI}for(var cJ=0;cJ<cG.length;cJ++){var cK=cG[cJ];for(var cL=0;cL<cK.drawItems.length;cL++){var cM=cK.drawItems[cL];var cN=cM;if(!cH.isObjectSelected(cN.objectId)){continue}for(var cO=0;cO<cN.drawItems.length;cO++){var cP=cN.drawItems[cO];if(cP.type!=='draw-polyline'&&cP.type!=='draw-fill-rect'){continue}var cQ=cP;if(cQ.points.length<4){continue}var cR={x:cQ.points[0],y:cQ.points[1]};var cS={x:cQ.points[2],y:cQ.points[3]};var cT=tab.RectXYUtil.rectXYFromCorners$1(cR,cS);cT=tab.RectXYUtil.nonemptyify(cT);cI=tab.RectXYUtil.union(cI,cT)}}}return cI},computeBoundsOfSelectedTrendLines:function(L,cG){var cH=L.get_selectionsModel().trendLineSelection;var cI={x:0,y:0,w:0,h:0};if(cH.isEmpty){return cI}var cJ=new cr(cG);var cK=cJ.get_hitTestStructures();var cL=new Array;for(var cM=0;cM<cK.length;cM++){var cN=cK[cM];cL.push(cN)}while(cL.length!==0){var cO=cL.pop();if(cO.get_nodeType()===4||cO.get_nodeType()===0){var cP=cO.get_children();for(var cQ=0;cQ<cP.length;cQ++){var cR=cP[cQ];cL.push(cR)}}else if(cO.get_nodeType()===5){if(cH.isObjectSelected(cO.get_objectId())){cI=tab.RectXYUtil.union(cI,cO.get_boundingBox())}}}return cI}});ss.initClass(cv,a,{});ss.initEnum(cw,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected',fogged:'fogged'},true);ss.initClass(cy,a,{buildMenuItems:function(){var L=[];if(tab.FeatureFlags.isEnabled('RichTextCreateBlankPointAndMarkAnnotation')){L.push({value:'Annotate Mark',displayValue:tab.Strings.CreateMarkAnnotationFromVizContextMenu,disabled:this.$2!==7});L.push({value:'Annotate Point',displayValue:tab.Strings.CreatePointAnnotationFromVizContextMenu,disabled:false})}if(tab.FeatureFlags.isEnabled('RichTextCreateBlankAreaAnnotation')){L.push({value:'Annotate Area',displayValue:tab.Strings.CreateAreaAnnotationFromVizContextMenu,disabled:false})}return L},handleItemClicked:function(L){switch(L){case'Annotate Mark':{tab.AnnotationClientCommands.createMarkAnnotation(this.$1,[this.$0],this.$3);t.reportCreatedAnnotationTelemetry('Mark');break}case'Annotate Area':{tab.AnnotationClientCommands.createAreaAnnotation(this.$1,this.$3);t.reportCreatedAnnotationTelemetry('Area');break}case'Annotate Point':{tab.AnnotationClientCommands.createPointAnnotation(this.$1,this.$3);t.reportCreatedAnnotationTelemetry('Point');break}default:{throw new ss.Exception('Unknown menu option '+L)}}}},null,[bi]);cy.$ctor1.prototype=cy.prototype;ss.initClass(cz,a,{get_scrollOffset:function(){if(ss.isValue(tab.ApplicationModel.get_instance().pm)&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return this.$9}return{x:0,y:0}},set_scrollOffset:function(L){this.$9.x=L.x;this.$9.y=L.y},setAnchorEl:function(L){this.vizOverlayDiv=L;this.incrementProps()},show:function(L,cG){var cH=tab.PointUtil.subtract(L,this.get_scrollOffset());this.$7=cG;this.location=cH;this.isHidden=false;this.incrementProps()},createInitialProps:function(){return{hide:ss.mkdel(this,this.$6),handleItemClicked:ss.mkdel(this,this.handleItemClicked)}},createUpdatedProps:function(){return{vizOverlayDiv:this.vizOverlayDiv,location:this.location,isHidden:this.isHidden,hide:ss.mkdel(this,this.$6),handleItemClicked:ss.mkdel(this,this.handleItemClicked),menuOptions:this.$5()}},$5:function(){if(ss.isNullOrUndefined(this.$7)){return[]}this.$8={};var L=[];for(var cG=0;cG<this.$7.length;cG++){var cH=this.$7[cG];var cI=cH.buildMenuItems();L=L.concat.apply(L,cI);for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];this.$8[cK.value]=cH}}return L},$6:function(){this.$7=null;this.isHidden=true;this.$8=null;this.incrementProps()},handleItemClicked:function(L){if(ss.keyExists(this.$8,L)){this.$8[L].handleItemClicked(L)}this.isHidden=true;this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(cA,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(L){this.$1$1=L},get_region:function(){return this.$1$2},set_region:function(L){this.$1$2=L},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(L){this.$1$3=L},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(L){this.$1$4=L},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(L){this.$1$5=L},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(L){this.$1$6=L},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(L){this.$1$7=L},get_result:function(){return this.$0}},null,[tab.IVizHitInfo]);ss.initClass(cC,a,{createPaneTableView:null,createPaneTableViewModel:function(L){return new bN(L)},addVizDragHandler:function(L){bM.addVizDragHandler(L)},addAsyncVizDragHandler:function(L){bM.addAsyncVizDragHandler(L)},addVizDragApprover:function(L){bM.addVizDragApprover(L)},computeVizScrollCapabilities:function(L){return bJ.computeVizScrollCapabilities(L)}},null,[tab.IVizZoneModule]);ss.initClass(cD,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(cE,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(cF,a,{});(function(){b.$4='MapControlType';b.$1='ElapsedTime';b.$5='MapStyle';b.$3='MapCode';b.$a='ZoomLevel';b.$9='WashOut';b.$6='NumRepeatBackground';b.$0='AllowLocalPanAndZoom';b.$7='RenderMode';b.$2='HardwareConcurrency';b.$8='Renderer'})();(function(){bg.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);bg.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);bg.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);bg.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var L=new bg;L.highlightBgColor=bg.defaultHighlightBgColor;L.selectionBgColor=bg.defaultSelectionBgColor;L.highlightTextColor=bg.defaultHighlightTextColor;L.selectionTextColor=bg.defaultSelectionTextColor;bg.defaultColors=L})();(function(){z.$8='rgb(0,0,0)';z.$7='rgb(245,245,245)';z.$b=['x-labels','bottom-axis','top-axis'];z.$c=['y-labels','left-axis','right-axis'];z.$a=new tab.FifoCache(20);z.$9=true})();(function(){j.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){n.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){t.annotationEventType='Annotations';t.annotationType='AnnotationType';t.annotationAction='Action';t.annotationActionFrom='ActionFrom';t.annotationCreateType='Create';t.annotationDeleteType='Delete';t.annotationMoveType='Move';t.annotationMovePointTargetType='Move Point Target';t.annotationResizeType='Resize';t.annotationMarkType='Mark';t.annotationAreaType='Area';t.annotationPointType='Point';t.annotationFromDelete='Delete Key';t.annotationFromDrag='Drag';t.annotationFromContextMenu='Context Menu'})();(function(){u.deleteAnnotationMenuItem='Delete Annotation';u.editAnnotationMenuItem='Edit Annotation'})();(function(){r.resizeHandlerPre='tabAnnotationResizeHandler';r.e='E';r.w='W';r.n='N';r.s='S';r.SE='SE';r.SW='SW';r.NE='NE';r.NW='NW';r.handlerTargetIcon='tabAnnotationHandlerIcon';r.movePointTargetHandler='tabAnnotationPointTarget';r.resizeHandlesArea=[r.resizeHandlerPre+r.SE,r.resizeHandlerPre+r.SW,r.resizeHandlerPre+r.NE,r.resizeHandlerPre+r.NW,r.resizeHandlerPre+r.e,r.resizeHandlerPre+r.w,r.resizeHandlerPre+r.n,r.resizeHandlerPre+r.s];r.resizeHandlesPointAndMark=[r.resizeHandlerPre+r.e,r.resizeHandlerPre+r.w]})();(function(){o.regionPadding=2;o.minWidth=80})();(function(){Z.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);Z.$1=ss.mkdict(['annotations',2,'ref-lines',4,'trend-lines',3,'ref-bands',4,'marks',7,'mark-labels',8])})();(function(){v.$0="<canvas class='tabCanvas'></canvas>"})();(function(){O.halfPI=0.5*Math.PI;O.onePI=Math.PI;O.oneAndHalfPI=1.5*Math.PI;O.twoPI=2*Math.PI;O.$9=Math.PI*0.15})();(function(){bC.$f=0.400000005960464;bC.$g='rgb(255,255,255)'})();(function(){x.$5='tvdrag_svg_div';x.$8='circle_radius';x.$0='circle_crosshair';x.$1=4;x.$3='tabDistanceReadout';x.$4="<div class='tabDistanceReadout'></div>";x.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";x.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";x.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";x.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){B.$0=2})();(function(){F.type='Viz_FloatingToolbar_ButtonPress';F.buttonName='ButtonName'})();(function(){I.repositionTimeoutMs=300})();(function(){bz.$0=5})();(function(){P.telemetryToolName='gotoMyLocation';P.$4=0.7;P.$7=110.574;P.$8=111.32;P.$2=90;P.$1=180;P.$5=6000;P.$3=8;P.$6="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){by.widgetClassName='tabMapsSearchView';by.$0='tabMapsSearchViewCollapsed';by.$1='tabMapsSearchContainerCollapsed';by.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';by.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';by.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';by.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';by.queryDelayTimerMs=200;by.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';tab.ObjectRegistry.registerType(by,by).call(null)})();(function(){G.closeButtonContainerClass='tab-floating-toolbar-close-button-container';G.closeButtonClass='tab-floating-toolbar-close-button';G.toolButtonsRootClass='FloatingZoomToolbar';G.toolButtonsContainerClass='fztButtonContainer';G.selectionToolContainerClass='fztSelectionToolContainer';G.toolFlyoutContainerClass='fztFlyOutContainer';G.toolFlyoutButtonsClass='fztFlyOutButtons'})();(function(){J.type='Viz_FloatingToolbar_Show';J.mapsSearchShown='MapsSearchShown';J.toolsShown='ToolsShown';J.panAvailable='PanAvailable';J.homeShown='HomeShown'})();(function(){M.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){bE.shapeMarkStampingRatio=32;bE.$c='_int';bE.$a=32767;bE.$b=100;bE.$9=['font','font_size','font_style','font_weight'];bE.$4=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];bE.$7=['x','x1','x_prev','x_next','cell_x'];bE.$6=['clip_width'];bE.$8=['y','y1','y_prev','y_next','cell_y'];bE.$5=['clip_height'];bE.$e=null;bE.textAngleInRad=null;bE.$d=null})();(function(){bY.$1={x:0,y:0,w:0,h:0}})();(function(){cv.visualPartNearHitTestExpansionPixels=7})();(function(){bV.$9=7;bV.$8=1})();(function(){U.$7=[0,3,2,1];U.$5=[3,2,1,0];U.$6=[3,2,1];U.$8=[0]})();(function(){V.$1=null;V.$0=0})();(function(){cF.$0=0.05})();(function(){bu.$0='MapControl_CreateMap_Done'})();(function(){bk.$4=100;bk.$2='/css/leaflet.css';bk.$5=2;bk.$9=10;bk.$a=0.01;bk.$7=8;bk.$3='leaflet-touching';bk.$6={item1:90,item2:0};bk.$8={item1:-90,item2:0}})();(function(){cA.$0=0})();(function(){cB.hitTestDelay=250;cB.maxHitTestDistance=20})();(function(){bq.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a><a class='tabMapAttributionLink2'></a></div>"})();(function(){bs.overlayCanvasLayerId='overlay_canvas_layer';bs.overlayCanvasSourceId='overlay_canvas_source';bs.washoutLayerId='washout_layer';bs.dataLayerId='tableau_data_layer';bs.dataSourceId='tableau_data_source';bs.$5=new RegExp('^https?://.*?\\.mapbox\\.com');bs.$2='Arial, sans-serif';bs.$3=[-180,85.051129];bs.$4=[180,-85.051129]})();(function(){bv.mapboxGLJS='MapboxGLJS';bv.leaflet='Leaflet'})();(function(){bw.client='Client';bw.server='Server'})();(function(){cy.createMarkAnnotationMenuItem='Annotate Mark';cy.createPointAnnotationMenuItem='Annotate Point';cy.createAreaAnnotationMenuItem='Annotate Area'})();(function(){ct.propertyHoverNode='HoverNode'})();(function(){ch.twoFingerScrollOnboardingTipWasAcknowledgedCookie='twoFingerScrollOnboardingTipWasAcknowledged';ch.fadeInDurationMs=100;ch.fadeOutDurationMs=300;ch.fadeInDelayMs=150;ch.fadeOutDelayMs=1000})();(function(){var L=[];L.push('left-axis');L.push('right-axis');L.push('y-labels');L.push('x-labels');L.push('top-axis');L.push('bottom-axis');L.push('title');L.push('caption');L.push('background');bN.blackListVisualParts=L;bN.zoomToolbarTopOffset=10;bN.vizNavigationSettingPropertyName='vizNavigationSetting';bN.borderHighlightPropertyName='borderHighlight';bN.imageLoadedPropertyName='images';bN.sceneChangedPropertyName='scene'})();(function(){bF.$2='rgba(0,0,0,1)';bF.$1='rgba(255,255,255,255)';bF.$4=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];bF.$3=['background','underMark','marks','underLabel','label','foreground']})();(function(){bK.$2=3;bK.$3=145;bK.$1=false})();(function(){bL.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){bO.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];bO.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];bO.scrollableRegions=['xheader','bottomaxis','topaxis','yheader','leftaxis','rightaxis','viz'];bO.axisRegions=['leftaxis','rightaxis','bottomaxis','topaxis'];bO.headerRegions=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];bO.regionsThatMightContainCategoricalHeader=['yheader','xheader','bottomaxis','topaxis'];bO.nonVizContentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis'];bO.contentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis','viz'];bO.regionsThatClearSelectionOnTap=['uleft','uright','lleft','lright','caption'];bO.spacerRegions=['uleft','uright','lleft','lright']})();(function(){cq.$3=0})();(function(){bM.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';bM.titleClass='tab-tvTitle';bM.$5=8;bM.$6=30;bM.$4=[];bM.$8=[];bM.$7=[]})();(function(){bQ.$5='M';bQ.$4='L';bQ.$1='Z';bQ.$2='tvdrag_svg_div';bQ.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";bQ.$6=300})();(function(){bS.$1='<div></div>';bS.$0='tvdrag';bS.$2='tvdrag_marquee'})();(function(){bX.$0=null;tab.ModuleManager.register(bh).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace()})();(function(){cg.rootElementClass='tab-smooth-tooltips-tip';cg.textClass='tip-text';cg.transitionEndFailSafeTimeoutMs=200})();(function(){cj.windowLog=null;cj.paneBorderMaskSize=2;cj.canvasBorderPixels=1;cj.zoomAnimationTime=777;cj.minZoomAnimationTime=500;cj.zoomToAnchorAnimationTime=500})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$t=0;this.$u=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$l));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$l))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$r)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$q)))};f.__typeName='spiff.MenuViewWeb';f.$0=function(i){return i.prop('scrollHeight')>i.prop('clientHeight')+1};global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this)};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$s(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$n))},$s:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset$1(j));var p=o.x+n;var q=o.y-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:p,y:q});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=ss.Int32.trunc(m-r.roomBelow)}else{var t=5;q-=ss.Int32.trunc(r.roomAbove);s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p=Math.max(0,p-l-n)}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.menuViewModel.get_focusedItem();var k=this.menuViewModel.get_menu().menuItems;if(ss.isValue(j)){this.$p(j)}else if(ss.isValue(k)){for(var l=0;l<k.length;l++){if(k[l].enabled){this.menuViewModel.set_focusedItem(k[l]);break}}}},onSized:function(){var i=this.dom.domRoot;if(f.$0(i)){i.css('overflow-y','scroll')}else{i.css('overflow-y','hidden')}},$n:function(i){if(i.pageX===this.$t&&i.pageY===this.$u){return}this.$t=i.pageX+0;this.$u=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$o(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$o:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$q:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$k()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$k();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$o(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$r:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$k:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$l:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$m(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$p:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$m(i)},$m:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},spiff.MenuView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.UberPopupViewModel])]);(function(){tab.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(g,h){tab.ApplicationViewModel.call(this,g,h);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};b.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=b;var c=function(g){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,g,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};c.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=c;var d=function(g){this.$2=false;this.$3='vertical';this.$1$1=false;this.$2=g;this.forgetInputDevice()};d.__typeName='tab.ScrollAdjuster';global.tab.ScrollAdjuster=d;var e=function(){};e.__typeName='tab.ScrollAdjusterUtil';e.getProperty=function(g,h){return g[h]};e.adjustVerticalScrollDeltaForMap=function(g){if(g%tab.MapUtil.defaultWheelDeltaIncrement!==0){var h=Math.abs(g);if(h>0&&h<tab.MapUtil.defaultWheelDeltaIncrement){h=tab.MapUtil.defaultWheelDeltaIncrement}var i=ss.Int32.div(h+ss.Int32.div(tab.MapUtil.defaultWheelDeltaIncrement,2),tab.MapUtil.defaultWheelDeltaIncrement);if(g<0){i*=-1}g=tab.MapUtil.defaultWheelDeltaIncrement*i}return g};global.tab.ScrollAdjusterUtil=e;var f=function(g,h){this.$0=null;this.$1=null;this.$0=g.get(0);this.$1=h.get(0)};f.__typeName='tab.WebScroller';global.tab.WebScroller=f;ss.initClass(b,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[tab.IWidget,tab.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initClass(c,a,{$x:function(g){this.$z=g;if(ss.isValue(this.$z)){var h=this.$z.get_data();this.get_viewModel().highlightItems([h.objectId])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(g){if(ss.isNullOrUndefined(g.get_data())){return}this.$y.changeSpotlightedListItem(4,g);if(ss.isNullOrUndefined(this.$A)){var h=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(h,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(g){this.$r(g)},$u:function(g){this.$r(g)},$v:function(g){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(g){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,g)},$s:function(){var g;if(ss.isNullOrUndefined(this.$z)){var h=this.$y.get_listViewModel();if(ss.isNullOrUndefined(h)||h.get_collection().length===0){return}var i=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(i===0){this.removeList();return}g=h.get_collection()[0].get_data()}else{g=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(g.text);this.dataHighlighterViewModel.sendSearchQuery(g.text,false)},populateAndDisplayList:function(g,h){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,g,h);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(g,h,i){var j=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(h===4){if(ss.Nullable$1.gt(i,j)){i=j}return i}if(ss.isNullOrUndefined(g)){return 0}var k=g;switch(h){case 1:{k=ss.Nullable$1.add(k,1);if(ss.Nullable$1.gt(k,j)){k=j}break}case 0:{k=ss.Nullable$1.sub(k,1);if(ss.Nullable$1.lt(k,0)){k=null}break}case 2:{k=0;break}case 3:{k=j;break}}return k}},tab.DataHighlighterView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(d,a,{get_isFromTouchpad:function(){return this.$1$1},set_isFromTouchpad:function(g){this.$1$1=g},forgetInputDevice:function(){this.set_isFromTouchpad(false)},normalizeScrollWheelDeltas:function(g){var h=e.getProperty(g,'axis');var i=e.getProperty(g,'wheelDelta');var j=e.getProperty(g,'wheelDeltaY');var k=e.getProperty(g,'wheelDeltaX');var l=e.getProperty(g,'deltaY');var m=e.getProperty(g,'deltaX');var n=e.getProperty(g,'deltaMode');var o=e.getProperty(g,'detail');var p=0,q=0;var r=0,s=0;if(ss.isValue(o)){q=ss.unbox(o)}if(ss.isValue(i)){q=-ss.unbox(i)/120}if(ss.isValue(j)){q=-ss.unbox(j)/120}if(ss.isValue(k)){p=-ss.unbox(k)/120}if(ss.isValue(h)&&h===1){p=q;q=0}r=ss.Int32.trunc(p*10);s=ss.Int32.trunc(q*10);if(ss.isValue(l)){s=ss.unbox(l)}if(ss.isValue(m)){r=ss.unbox(m)}if((r!==0||s!==0)&&ss.isValue(n)){if(ss.unbox(n)===1){var t=(BrowserSupport.BrowserSupport.IsMac()?20:40);r*=t;s*=t}else if(ss.unbox(n)===2){r*=800;s*=800}}this.$0(s);return((this.get_isFromTouchpad()&&this.$2)?this.$1(r,s):{x:r,y:s})},$0:function(g){var h=Math.abs(g);if(h%4.000244140625===0){this.set_isFromTouchpad(false)}else if(h>0&&h<4.000244140625){this.set_isFromTouchpad(true)}},$1:function(g,h){var i=((g!==0&&h!==0)?this.$3:((g===0)?'vertical':'horizontal'));if(this.$3==='vertical'){g=0}if(this.$3==='horizontal'){h=0}this.$3=i;return{x:g,y:h}}});ss.initClass(e,a,{});ss.initClass(f,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var g=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var h=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:g,y:h}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(g){if(this.get_canScrollX()){this.$0.scrollLeft+=g}},scrollY:function(g){if(this.get_canScrollY()){this.$1.scrollTop+=g}},setScrollTarget:function(g){},refresh:function(){}},null,[spiff.IScroller]);(function(){tab.ObjectRegistry.registerType(tab.DataHighlighterView,c).call(null)})();(function(){d.$0=40;d.$1=20;d.$2=800;d.$3=120;d.$6=10;d.$4=4.000244140625;d.$5=1})()})();;
/*! BEGIN VizZoneWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzoneweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$5=false;this.$6=false;this.$7=false;this.$4=false;this.$3=false;this.$1=false;this.$2=false;this.$8=true;this.$9=null;this.$a=null};c.__typeName='tab.$1';var d=function(){this.$0=null;this.$1=0};d.__typeName='tab.$2';var e=function(B,C,D){this.$1=0;this.$2=0;this.$0=0;this.$1=B;this.$2=C;this.$0=D};e.__typeName='tab.$3';var f=function(B,C,D,E,F,G){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=B;this.$2=C;this.$3=D;this.$0=E;this.$5=F;this.$1=G};f.__typeName='tab.$4';var g=function(B){this.$a=16;spiff.PureRenderComponent.call(this,B)};g.__typeName='tab.AnnotationSelectionChromeComponent';global.tab.AnnotationSelectionChromeComponent=g;var h=function(B,C){this.$n=null;this.$o=null;this.$s=null;this.$t=null;this.$q=null;this.$r=null;this.$p=null;v.call(this,$(document.createElement('div')),$(C),B);this.element.addClass('tab-tiledViewerAxisContextMenu');this.$n=spiff.LabelButton.newNativeButton();this.$n.element.addClass('tab-tvAxisContextMenuButton');this.$n.element.css('border','0');this.$n.element.css('position','absolute');this.$n.element.css('padding','0px');this.element.append(this.$n.element);this.$o=this.$n.element;this.$o.addClass('axisContextMenuDropdownArrow');this.$r=null;this.$t=null;C.appendChild(this.element.get(0));this.$9();this.set_enabled(true);this.$o.css('display','none')};h.__typeName='tab.AxisContextMenu';global.tab.AxisContextMenu=h;var i=function(B,C){this.$3=false;this.$5=0;this.$2=0;this.$4=0;this.$3=C;this.$5=B;this.$2=1;this.$4=0};i.__typeName='tab.ContinuousScrollZoom';global.tab.ContinuousScrollZoom=i;var j=function(){};j.__typeName='tab.CursorKey';global.tab.CursorKey=j;var k=function(B,C){this.$3=0;this.$6=0;this.$2=0;this.$5=0;this.$1=false;this.$4=0;this.$2=0;this.$3=0;this.$6=1;this.$5=B;this.$1=C};k.__typeName='tab.DiscreteScrollZoom';global.tab.DiscreteScrollZoom=k;var l=function(B,C){this.$x=null;this.$y=null;this.$z=null;this.$r=null;this.$s=null;this.$u=false;this.$v=null;this.$t=null;this.$w=null;this.$A=null;v.call(this,$(document.createElement('div')),$(C),B);this.$x=this.get_parentViewer().get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$r=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$y=new spiff.Button(this.$r);this.$y.add_press(ss.mkdel(this,this.$g));this.$s=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$z=new spiff.Button(this.$s);this.$z.add_press(ss.mkdel(this,this.$h));C.appendChild(this.element.get(0));this.$j();this.turnDrillWidgetsOff()};l.__typeName='tab.Drilling';global.tab.Drilling=l;var m=function(B){this.$0=null;this.$0=B};m.__typeName='tab.FloatingZoomToolbarOperationsWeb';global.tab.FloatingZoomToolbarOperationsWeb=m;var n=function(B,C,D,E,F){tab.FloatingZoomToolbar.call(this,B,C,D,E,F);this.init()};n.__typeName='tab.FloatingZoomToolbarWeb';global.tab.FloatingZoomToolbarWeb=n;var o=function(B){this.$0=null;this.$0=B};o.__typeName='tab.HoverApi';global.tab.HoverApi=o;var p=function(){};p.__typeName='tab.IScrollZoom';global.tab.IScrollZoom=p;var q=function(B){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(B,'tooltip');this.$j=B;this.$i=[];this.$k=q.$0()};q.__typeName='tab.LegacyTooltipBehavior';q.$0=function(){q.$6++;return'mousemove.LegacyTooltipBehavior'+q.$6.toString()};global.tab.LegacyTooltipBehavior=q;var r=function(B){this.$u=null;tab.MapsSearchView.call(this,B,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$r));var C=this.get_compositeSearchWidget();C.add_spotlightedListItemChanged(ss.mkdel(this,this.$q));C.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){C.remove_spotlightedListItemChanged(ss.mkdel(this,this.$q));C.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));C.set_spotlightedItemLogic(this)};r.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=r;var s=function(B,C){this.$3=null;this.$2(B,C)};s.__typeName='tab.PaneTableMouseCapture';s.$0=function(){return!tsConfig.is_mobile&&BrowserSupport.BrowserSupport.AddEventListener()};global.tab.PaneTableMouseCapture=s;var t=function(){this.scrollX=null;this.scrollY=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder' data-tb-test-id='VisualizationContainer'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer' data-tb-test-id='VisualizationScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var B=ss.mkdel(this,this.getElementBySelector);this.scrollX=B('.tab-tvScrollX');this.scrollY=B('.tab-tvScrollY')};t.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=t;var u=function(B){this.$2n={};this.$2h=null;this.$2k=false;this.$2m=false;this.$2w=null;this.$2q=null;this.drillWidget=null;this.sortWidget=null;this.axisContextMenuWidget=null;this.$2t=null;this.$2u=null;this.$2s=null;this.$2l=null;this.$2o=false;this.$2r=null;this.$2j=null;this.$2x=null;this.$2g=null;this.$2v=null;this.$2i=null;this.$2p=null;this.deferredHeaderResizerManager=null;this.deferredCellResizerManager=null;this.deferredAxisResizerManager=null;tab.PaneTableView.call(this,B,new t);this.$2h=this.dom;this.$2c();var C=new EventUtils.EventHandleSpec;C.tap=ss.mkdel(this,function(E){this.$2p={x:E.pageX,y:E.pageY};this.refreshScrollingAndAxisIcons();if(ss.referenceEquals(E.currentTarget,E.target)){this.clearSelection()}});var D=C;this.$1E();this.$1D();this.$1C();this.$1G();this.$1F();this.disposables.add$1(new s(document.body,this));this.disposables.add$1(new EventUtils.TableauEventHandler(this.dom.enclosingDiv.get(0),D));this.init()};u.__typeName='tab.PaneTableViewWeb';u.$1=function(B,C){return B.x>C.pageX||B.x+B.w<=C.pageX||B.y>C.pageY||B.y+B.h<=C.pageY};u.$0=function(B,C){var D=ss.round(C['clientX']);var E=ss.round(C['clientY']);var F={x:D,y:E};var G=B.toLocalCoords(F,false);return G};u.$3=function(B,C){if(B.get_regionPart()==='viz'){return tab.SelectActionResolver.fromNormalizedEvent(C,1)}return tab.SelectActionResolver.fromNormalizedEvent(C,2)};u.$2=function(){};global.tab.PaneTableViewWeb=u;var v=function(B,C,D){this.$6=0;this.$8=null;this.$7=null;this.$2$1=null;spiff.Widget.call(this,B);this.$6=v.$0.length;v.$0.push(this);this.$8=C;this.set_parentViewer(D)};v.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=v;var w=function(B,C){this.$J=null;this.$M=null;this.$F=null;this.$H=null;this.$K=null;this.$G=null;this.$L=null;this.$O=null;this.$N=null;this.$I=null;v.call(this,$(document.createElement('div')),$(C),B);this.element.addClass('tab-tiledViewerSort');this.$M=this.$e();this.element.append(this.$M.element);this.$H=this.$M.element;this.$J=this.$d();this.element.append(this.$J.element);this.$F=this.$J.element;$(C).find('.tab-tiledViewerSort').remove();C.appendChild(this.element.get(0));this.$9();this.$y();this.$F.css('display','none')};w.__typeName='tab.Sorting';global.tab.Sorting=w;var x=function(B,C,D,E,F,G,H,I,J){this.$M=false;this.$W=null;this.$P=null;this.$O=null;this.$S=null;this.$T=null;this.$N=null;this.$Q=false;this.$R=false;this.$U=null;this.$V=null;tab.TiledViewerRegion.call(this,B,C,G,H,I,J);this.$P=D;if(this.get_regionPart()==='viz'){x.$1();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$l));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$l))})))}this.$M=true;this.scroller=new tab.WebScroller(E,F)};x.__typeName='tab.TiledViewerRegionWeb';x.$1=function(){if(ss.isValue(x.$5)){return}var B='default';x.$5={};x.$5['zoomIn']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+B));x.$5['zoomOut']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+B));x.$5['panDrag']=(BrowserSupport.BrowserSupport.IsIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+B));x.$5['rectSelect']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+B));x.$5['lassoSelect']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+B));x.$5['radialSelect']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+B));x.$5['rectExtended']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+B));x.$5['lassoExtended']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+B));x.$5['radialExtended']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+B));x.$5['dragSelect']='crosshair';x.$5['select']='pointer';x.$5['defaultKey']='default'};x.$0=function(B){return B.shiftKey&&!spiff.EventUtil.isCtrlKey(B)};global.tab.TiledViewerRegionWeb=x;var y=function(B,C){tab.TooltipBaseLegacyMode.call(this,B,C);this.get_tooltip().add_showed(ss.mkdel(this,this.showCommandAreaAndActions))};y.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=y;var z=function(B){this.$3=null;spiff.PureRenderComponent.call(this,B)};z.__typeName='tab.VizContextMenuComponent';global.tab.VizContextMenuComponent=z;var A=function(){tab.VizZoneFactory.call(this)};A.__typeName='tab.VizZoneWebFactory';global.tab.VizZoneWebFactory=A;ss.initEnum(b,a,{$3:0,$1:1,$2:2,$0:3});ss.initClass(c,a,{$0:function(){return!this.$5&&!this.$7&&!this.$6&&!this.$4&&!this.$3&&!this.$1&&!this.$2}});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{render:function(){return(this.props.visible?this.$9():null)},$1:function(B){var C=g.chevronClass+B.annotationId;var D=new Object;D.iconClassName=g.chevronIconClass;D.customClassName=g.chevronClass+' '+C;return React.createElement(spiff.IconButtonComponent,D)},$8:function(B){var C=[];if(this.props.annotations.length!==1){return C}if(B.annotateEnum==='area'&&tab.FeatureFlags.isEnabled('AnnotationAreaResize')){C=_.map(tab.AnnotationSelectionChromeViewModel.resizeHandlesArea,ss.mkdel(this,function(D){return this.$4(B,D,null)}))}if((B.annotateEnum==='point'||B.annotateEnum==='mark')&&tab.FeatureFlags.isEnabled('AnnotationMarkAndPointResize')){C=_.map(tab.AnnotationSelectionChromeViewModel.resizeHandlesPointAndMark,ss.mkdel(this,function(D){return this.$4(B,D,null)}))}return C},$4:function(B,C,D){var E=spiff.DOMElements.div({className:tab.AnnotationSelectionChromeViewModel.handlerTargetIcon});return spiff.DOMElements.div({className:tab.AnnotationSelectionChromeViewModel.resizeHandlerPre+' '+C,style:D,key:C,onMouseDown:ss.mkdel(this,function(F){if(F.button===0){this.props.onHandlerMouseDown(C,B)}}),onMouseUp:ss.mkdel(this,function(F){if(F.button===0){this.props.clearMouseUp()}}),onClick:ss.mkdel(this,function(F){this.props.clearMouseUp()})},E)},$5:function(){if(this.props.annotations.length!==1||!tab.FeatureFlags.isEnabled('AnnotationMovePointTarget')){return null}var B=this.props.annotations[0];if(B.annotateEnum==='point'){return this.$4(B,tab.AnnotationSelectionChromeViewModel.movePointTargetHandler,this.$7(B))}return null},$6:function(){return spiff.DOMElements.line({className:'tabAnnotationPointDraggingChrome',strokeWidth:1,x1:this.props.shadow.point1.x,y1:this.props.shadow.point1.y,x2:this.props.shadow.point2.x,y2:this.props.shadow.point2.y})},$7:function(B){return{left:B.targetPoint.x-ss.Int32.div(this.$a,2)-this.props.scrollOffset.x,top:B.targetPoint.y-ss.Int32.div(this.$a,2)-this.props.scrollOffset.y}},$2:function(B){return{left:B.areaRect.x-this.props.scrollOffset.x,top:B.areaRect.y-this.props.scrollOffset.y,width:B.areaRect.w,height:B.areaRect.h}},$3:function(){var B=this.props.shadow.rectShadow;return{left:B.x,top:B.y,width:B.w,height:B.h}},$0:function(B,C){return{key:B.annotationId,className:'tabAnnotationChrome '+(C?'tabAnnotationHoverChrome':'tabAnnotationSelectionChrome'),style:this.$2(B)}},$9:function(){var B=this.props.renderRegion;var C={className:'tabAnnotationSelectionChromeHolder',style:{left:B.x,top:B.y,width:B.w,height:B.h,position:'absolute'}};var D=_.map(this.props.annotations,ss.mkdel(this,function(H){return spiff.DOMElements.div(this.$0(H,false),this.$1(H),this.$8(H))}));if(ss.isValue(this.props.hoveredAnnotation)){var E=this.props.hoveredAnnotation;D.push(spiff.DOMElements.div(this.$0(E,true),this.$1(E)))}if(ss.isValue(this.props.shadow.rectShadow)){D.push(spiff.DOMElements.div({key:'draggingAnnotation',className:'tabAnnotationDraggingChrome',style:this.$3()}))}var F=null;if(ss.isValue(this.props.shadow.point1)&&ss.isValue(this.props.shadow.point2)){var G={className:'tabAnnotationPointShadowDragHolder',width:this.props.renderRegion.w,height:this.props.renderRegion.h};F=spiff.DOMElements.svg(G,this.$6())}return spiff.DOMElements.div(C,D,this.$5(),F)}},spiff.PureRenderComponent);ss.initClass(v,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(B){if(this.get_widgetFeatureEnabled()){if(B){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(C){this.onMouseMove(C)}))}}else{this.$7=tab.MiscUtil.dispose$1(this.$7)}}},get_widgetFeatureEnabled:null,get_parentViewer:function(){return this.$2$1},set_parentViewer:function(B){this.$2$1=B},get_scrollAmount:function(){var B=this.get_parentViewer().get_domWeb().scrollX.get(0);var C=this.get_parentViewer().get_domWeb().scrollY.get(0);return{x:B.scrollLeft,y:C.scrollTop}},dispose:function(){ss.remove(v.$0,this);this.element.remove();this.$7=tab.MiscUtil.dispose$1(this.$7);spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(B){for(var C=0;C<v.$0.length;C++){if(C!==this.$6){var D=v.$0[C];if(D.isActiveInRect(B)){return true}}}return false},isActiveInRect:function(B){return false},onMouseMove:null,showNodeAt:function(B,C,D){$(B).css('top',C+'px');$(B).css('left',D+'px');$(B).css('display','')},hideNode:function(B){$(B).css('display','none')},regionHitTest:function(B,C){var D=B;if(ss.isNullOrUndefined(D)){return null}var E=new ss.ObjectEnumerator(D);try{while(E.moveNext()){var F=E.current();if(ss.isValue(F.value)&&tab.RectUtil.inRect(F.value,C)){return F.key}}}finally{E.dispose()}return null},getPaneTableViewMousePositionFromCoordinates:function(B,C,D){return{x:B-D.get_tableViewPosition().x,y:C-D.get_tableViewPosition().y}},getJQueryMousePositionFromPaneTableViewCoordinates:function(B,C){return{left:B+this.get_parentViewer().get_tableViewPosition().x,top:C+this.get_parentViewer().get_tableViewPosition().y}},repositionAndShowElement:function(B,C){B.style.width=C.w+'px';B.style.height=C.h+'px';this.showNodeAt(B,C.y,C.x)},computeTvButtonRectFromUnrolledRegionCoordinates:function(B,C,D,E){B.y-=E.y-D.y;B.x-=E.x-D.x;var F={x:B.x+2,y:B.y+2};var G={x:B.x+B.w-2,y:B.y+B.h-2};if(this.isPointInRect(C,F)&&this.isPointInRect(C,G)){return B}return null},isPointInRect:function(B,C){return tab.RectUtil.inRect(B,C)},isPointInRectXY:function(B,C){return tab.RectXYUtil.inRect(B,C)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(h,a,{get_widgetFeatureEnabled:function(){return tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tsConfig.is_authoring},dispose:function(){this.set_parentViewer(null);this.$n.element.remove();this.$n.dispose();this.$p.dispose();this.$o.off('mouseout');v.prototype.dispose.call(this)},setLocalCoords:function(B){this.$q=B},onUpdate:function(){this.$s=this.get_parentViewer().get_visibleGeometry();this.$g(this.get_parentViewer().get_capturedPaneTableViewMousePosition())},hideAxisContextMenuIcon:function(){this.hideNode(this.$o.get(0))},onMouseMove:function(B){this.$h(B)},isActiveInRect:function(B){return false},$9:function(){var B=new EventUtils.EventHandleSpec;B.tap=ss.mkdel(this,function(D){this.$j(D)});var C=B;this.$p=new EventUtils.TableauEventHandler(this.$o.get(0),C);this.disposables.add$1(this.$p);this.$o.mouseout(ss.mkdel(this,this.$i))},$h:function(B){if(B.button>0){return}var C=this.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());this.$g(C)},$l:function(B){this.$t=null;if(ss.isNullOrUndefined(B)){return}else if(B.indexOf('leftaxis'.toString())!==-1){this.$t='leftaxis'}else if(B.indexOf('rightaxis'.toString())!==-1){this.$t='rightaxis'}else if(B.indexOf('topaxis'.toString())!==-1){this.$t='topaxis'}else if(B.indexOf('bottomaxis'.toString())!==-1){this.$t='bottomaxis'}},$b:function(){return this.$t==='bottomaxis'||this.$t==='topaxis'},$c:function(){return this.$t==='leftaxis'||this.$t==='rightaxis'},$d:function(B){if(this.$c()){B.y+=this.get_scrollAmount().y}if(this.$b()){B.x+=this.get_scrollAmount().x}return B},$g:function(B){if(ss.isNullOrUndefined(B)||!this.get_widgetFeatureEnabled()){return}var C=this.regionHitTest(this.$s,B);this.$l(C);if(ss.isNullOrUndefined(this.$t)){this.hideAxisContextMenuIcon();return}var D=this.$s;this.$k(D[C])},$j:function(B){spiff.EventUtil.stopEvent$1(B);tab.AxisAuthoringTelemetry.logAxisCaretClickEvent();this.$m(true);this.$a(B.pageX,B.pageY);this.$f()},$i:function(B){this.$m(false);B.stopPropagation()},$m:function(B){this.$o.toggleClass('active',B)},$a:function(B,C){var D=this.getPaneTableViewMousePositionFromCoordinates(B,C,this.get_parentViewer());var E=this.regionHitTest(this.$s,D);if(ss.isNullOrUndefined(E)){return}var F=this.$s;D.x-=F[E].l;D.y-=F[E].t;D=this.$d(D);this.setLocalCoords(D)},$f:function(){var B=new spiff.ShowMenuOptions(this.$o,false);B.cursorPosition=this.getJQueryMousePositionFromPaneTableViewCoordinates(this.$r.x,this.$r.y+this.$r.h);var C=B;var D=new tab.BuildServerAxisContextMenuCmd;D.c['visualIdPresModel']=this.get_parentViewer().get_visualId();D.c['regionPoint']=tab.PointUtil.toPresModel(this.$q);D.c['r']=this.$t;D.invoke().then(ss.mkdel(this,function(E){if(this.$o.css('display')==='none'){this.$o.css('display','')}var F=E.$$c['commands'];var G=tab.WidgetUtil.menuViewModelFromCommands(F,tab.WidgetUtil.commandMenuItemClicked,null,null,null);G.show(C);tab.AxisAuthoringTelemetry.logAxisContextMenuShownEvent()}))},$k:function(B){var C,D;var E=this.get_parentViewer().get_axisRegions();var F=this.get_parentViewer().get_capturedPaneTableViewMousePosition();for(C=0,D=E.length;C<D;C++){var G=E[C];if(G.r!==this.$t){continue}var H=tab.RecordCast.rectPresModelAsRectXY(G.itemRect);var I=tab.RecordCast.rectPresModelAsRectXY(G.regionRect);if(ss.isNullOrUndefined(H)||ss.isNullOrUndefined(I)){continue}var J=this.$e(B,I);if(tab.RectXYUtil.inRect(H,J)){var K=G.itemRect;var L={x:K.x+K.w-14-2,y:K.y+3,w:14,h:14};L=this.computeTvButtonRectFromUnrolledRegionCoordinates(L,B,F,J);if(ss.isValue(L)){this.$r={x:L.x,y:L.y,w:L.w,h:L.h};this.$m(false);this.repositionAndShowElement(this.$o.get(0),this.$r);return}}}this.hideAxisContextMenuIcon()},$e:function(B,C){var D=this.get_parentViewer().get_capturedPaneTableViewMousePosition();var E={x:D.x,y:D.y};E.y+=C.y-B.t;E.x+=C.x-B.l;return this.$d(E)}},v,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(p,a,{update:null,currentZoomFactor:null,currentZoomLevel:null});ss.initClass(i,a,{update:function(B){var C=this.$1(B);this.$2*=C;this.$4=tab.MapUtil.convertZoomFactorToZoomLevel(this.$2);this.$0();return true},currentZoomFactor:function(){return this.$2},currentZoomLevel:function(){return this.$5-this.$4},$1:function(B){var C=(this.$3?0.01:0.00333333333333333);var D=2/(1+Math.exp(-Math.abs(B*C)));if(B>0&&D!==0){D=1/D}return D},$0:function(){if(this.currentZoomLevel()<=0){this.$2=1/tab.MapUtil.getZoomFactorForDesiredZoomLevel(this.$5,0);this.$4=this.$5}}},null,[p]);ss.initEnum(j,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(k,a,{update:function(B){if(this.$1){this.$4++;if(this.$4%tab.MapUtil.touchEventSamplingRate!==0){return false}}this.$2+=tab.ScrollAdjusterUtil.adjustVerticalScrollDeltaForMap(B);this.$3=ss.Int32.div(this.$2,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement;this.$6=tab.MapUtil.calculateZoomFactor(this.$2);this.$0();return true},currentZoomFactor:function(){return 1/this.$6},currentZoomLevel:function(){return this.$5-this.$3},$0:function(){if(!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(this.$5,this.$3)||!tab.MapUtil.allowZoomAtCurrentLevel(this.$5,this.$6)){this.$3=this.$5;this.$6=tab.MapUtil.getZoomFactorForDesiredZoomLevel(this.$5,0);this.$2=tab.MapUtil.getScrollDeltaForZoomFactor(this.$6)}}},null,[p]);ss.initClass(l,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){v.prototype.dispose.call(this);this.set_parentViewer(null);this.$y.dispose();this.$z.dispose()},onUpdate:function(){this.$u=false;this.$w=this.get_parentViewer().get_geometry();this.$A=this.get_parentViewer().get_visibleGeometry();this.$c(this.get_parentViewer().get_capturedPaneTableViewMousePosition())},onMouseMove:function(B){this.$d(B)},isActiveInRect:function(B){if($(this.$r.get(0)).css('display')!=='none'||$(this.$s.get(0)).css('display')!=='none'){if(ss.isValue(this.$t)&&tab.RectXYUtil.intersectsWith(this.$t,B)){return true}}return false},turnDrillWidgetsOff:function(){var B=['bottomaxis','xheader','yheader'];for(var C=0;C<B.length;C++){var D=B[C];if(ss.isValue(this.$x[D])){this.$x[D].unsuppressHover()}}this.hideNode(this.$r.get(0));this.hideNode(this.$s.get(0));this.$v=new d},$j:function(){this.set_enabled(true)},$d:function(B){if(B.button>0){return}var C=this.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());this.$c(C)},$b:function(B){var C=new c;if(ss.isValue(this.$A.xheaderArea)){C.$5=tab.RectUtil.inRect(this.$A.xheaderArea,B)}if(ss.isValue(this.$A.leftaxisArea)){C.$2=tab.RectUtil.inRect(this.$A.leftaxisArea,B)}C.$9=this.get_parentViewer().tlspacerAreaX;C.$a=this.get_parentViewer().tlspacerAreaY;if(C.$5&&ss.isValue(C.$9)&&ss.isValue(C.$a)&&ss.isValue(this.$A.uleftArea)){C.$a.w=C.$9.l;C.$8=false}if(ss.isValue(this.$A.bottomaxisArea)&&!C.$5){C.$6=tab.RectUtil.inRect(this.$A.bottomaxisArea,B)}if(ss.isValue(this.$A.yheaderArea)&&!C.$5&&!C.$6){C.$7=tab.RectUtil.inRect(this.$A.yheaderArea,B)}if(ss.isValue(C.$a)&&!C.$5&&!C.$6&&ss.isValue(this.$A.yheaderArea)){C.$4=tab.RectUtil.inRect(C.$a,B)}if(ss.isValue(C.$9)&&!C.$4&&!C.$7&&!C.$6&&ss.isValue(this.$A.xheaderArea)){C.$3=tab.RectUtil.inRect(C.$9,B)}var D=this.get_parentViewer().blspacerArea;if(ss.isValue(D)&&!C.$4&&!C.$3){C.$1=tab.RectUtil.inRect(D,B)}return C},$m:function(B,C){if(B.$0()){this.turnDrillWidgetsOff()}else if(B.$3){B.$8=false;this.$o(C)}else if(B.$5){B.$8=false;this.$o(C)}else if(B.$7){this.$p(C)}else if(B.$6||B.$1){this.$n()}else if(B.$2){this.$l()}else if(B.$4){this.$p(C)}if(B.$8&&ss.isValue(B.$a)&&ss.isValue(this.$A.uleftArea)){B.$a.w=this.$A.uleftArea.w}},$a:function(B){if(ss.isNullOrUndefined(B)){return false}if(this.$u){return false}var C=new Object;if(ss.isNullOrUndefined(this.$w)||ss.isNullOrUndefined(this.$w.di)||ss.referenceEquals(this.$w.di,C)||!tsConfig.allow_filter){return false}return true},$c:function(B){if(this.$a(B)){var C=this.$b(B);this.$m(C,B)}},$g:function(){this.$f('down')},$h:function(){this.$f('up')},$f:function(B){this.$u=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$v.$0)){var C=((this.$v.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var D=false;if(B==='up'){D=true}tab.FilterClientCommands.levelDrill(this.get_parentViewer().get_visualId(),this.$v.$1,C,D)}this.turnDrillWidgetsOff()},$o:function(B){var C=this.$w.di.xs+this.get_parentViewer().titleHeight;var D=this.$9(B.y,C,this.$w.di.xy);if(D.$0>=0&&D.$0<this.$w.di.xy.length){this.$q('x',D,this.$w.di.xy)}else{this.turnDrillWidgetsOff()}},$l:function(){if(ss.isNullOrUndefined(this.$A.leftaxisArea)){return}var B=this.$w.di.yx.length-1;if(B<0){return}var C=Math.min(this.$A.leftaxisArea.l,17);var D={l:this.$A.leftaxisArea.l-C,t:this.$A.leftaxisArea.t,w:this.$A.leftaxisArea.w+C,h:this.$A.leftaxisArea.h};this.$i(D,this.$w.di.yx[B][1],'y');this.$v.$1=B;this.$v.$0='yheader'},$p:function(B){var C=this.$9(B.x,this.$w.di.ys,this.$w.di.yx);var D=C.$0;if(D>=0&&D<this.$w.di.yx.length){this.$q('y',C,this.$w.di.yx)}else{this.turnDrillWidgetsOff()}},$n:function(){if(ss.isNullOrUndefined(this.$A.bottomaxisArea)){return}var B=this.$w.di.xy.length-1;var C=Math.min(this.$A.bottomaxisArea.l,20);var D=null;if(C===0){D={l:this.$A.bottomaxisArea.l+17-7,t:this.$A.bottomaxisArea.t,w:this.$A.bottomaxisArea.w+17,h:this.$A.bottomaxisArea.h}}else{D={l:this.$A.bottomaxisArea.l-C-7,t:this.$A.bottomaxisArea.t,w:this.$A.bottomaxisArea.w+C,h:this.$A.bottomaxisArea.h}}this.$i(D,this.$w.di.xy[B][1],'x');this.$v.$1=B;this.$v.$0='bottomaxis'},$q:function(B,C,D){var E;var F=0;if(B==='x'){if(ss.isValue(this.$A.uleftArea)){F=Math.min(this.$A.xheaderArea.l,17)}E={l:this.$A.xheaderArea.l-F-7,t:C.$1,w:this.$A.xheaderArea.w+F,h:C.$2-C.$1}}else{if(ss.isValue(this.$A.uleftArea)){F=Math.min(this.$A.yheaderArea.t,17)}E={l:C.$1,t:this.$A.yheaderArea.t-F,w:C.$2-C.$1,h:this.$A.yheaderArea.h+F}}this.$i(E,D[C.$0][1],B);this.$v.$1=C.$0;this.$v.$0=B+'header'},$k:function(B,C,D){var E=this.$e('level',C,D);var F=tab.DoubleUtil.roundToInt(this.$r.outerHeight());var G=tab.DoubleUtil.roundToInt(this.$r.outerWidth());this.$t={x:E.x,y:E.y,w:G,h:F};if(this.isOtherActiveInRect(this.$t)){return}this.showNodeAt(B,E.y,E.x)},$i:function(B,C,D){switch(C){case 0:{this.hideNode(this.$r.get(0));this.hideNode(this.$s.get(0));break}case 1:{this.$k(this.$r.get(0),B,D);this.hideNode(this.$s.get(0));break}case 2:{this.$k(this.$s.get(0),B,D);this.hideNode(this.$r.get(0));break}case 3:{if(D==='x'){this.$k(this.$s.get(0),B,D);var E={l:B.l+17,t:B.t,w:B.w+17,h:B.h};this.$k(this.$r.get(0),E,D)}else if(D==='y'){this.$k(this.$s.get(0),B,D);var F={l:B.l+10,t:B.t,w:B.w+17,h:B.h};this.$k(this.$r.get(0),F,D)}break}}},$9:function(B,C,D){var E=-1;var F=C-1;var G=-1;if(ss.isNullOrUndefined(D)){return new e(-1,-1,-1)}while(F<B&&G<D.length-1){G+=1;E=F;F+=D[G][0]}if(F<B){return new e(-1,-1,-1)}return new e(E,F,G)},$e:function(B,C,D){if(B==='level'){if(D==='y'){return{x:C.l+ss.Int32.div(C.w,2)-4,y:C.t+2}}else{return{x:C.l+2,y:C.t+ss.Int32.div(C.h,2)-4}}}else{return{x:C['x']+2,y:C['y']+2}}}},v,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(m,a,{get_appendMode:function(){return false},set_appendMode:function(B){},zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$2e(2)},zoomOut:function(){this.$0.$2e(0.5)},setPointerToolMode:function(B,C){this.$0.setPointerToolMode(B,C)},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});ss.initClass(n,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$l:function(B){var C=tab.Strings.PanZoomSelectToolsRadialSelectionTooltip;this.radialSelectButton=this.addToggleButton(B,'buttonRadialSelect',C)},$m:function(B){var C=tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip;this.rectSelectButton=this.addToggleButton(B,'buttonRectSelect',C)},$j:function(B){var C=tab.Strings.PanZoomSelectToolsLassoSelectionTooltip;this.lassoSelectButton=this.addToggleButton(B,'buttonLassoSelect',C)},$k:function(B){var C=tab.Strings.PanZoomSelectToolsPanTooltip;this.panButton=this.addToggleButton(B,'buttonPan',C)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$i()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$m(this.buttonContainer);this.$l(this.buttonContainer);this.$j(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$i:function(){if(this.toolbarType==='fullToolbar'){var B=tab.Strings.PanZoomSelectToolsZoomAreaTooltip;this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',B);this.$k(this.flyOutButtons);this.$m(this.flyOutButtons);this.$l(this.flyOutButtons);this.$j(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var B=this.flyOutButton.element;B.mouseout(ss.mkdel(this,this.$n));B.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$o:function(B){var C=this.flyOutContainer.offset();if(C.top>=B.pageY){this.updateFlyOutVisibility(false);return}var D=tab.DoubleUtil.roundToInt(C.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var E=tab.DoubleUtil.roundToInt(C.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(B.pageX>=D||B.pageY>=E){this.updateFlyOutVisibility(false)}},$n:function(B){var C=this.flyOutButton.element.offset();if(C.left>=B.pageX||C.top>=B.pageY){this.updateFlyOutVisibility(false);return}var D=tab.DoubleUtil.roundToInt(C.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(B.pageY>=D){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(o,a,{dispose:function(){this.$0=null},unsuppressHover:function(B){if(ss.isNullOrUndefined(this.$0)){return}var C=this.$0.get_inputHandlers()[B.get_regionPart()];if(ss.isValue(C)){C.unsuppressHover()}var D=this.$0.get_responsiveMouseHandler();if(ss.isValue(D)){D.unsuppressHover()}},suppressHover:function(B){if(ss.isNullOrUndefined(this.$0)){return}var C=this.$0.get_inputHandlers()[B.get_regionPart()];if(ss.isValue(C)){C.suppressHover()}var D=this.$0.get_responsiveMouseHandler();if(ss.isValue(D)){D.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(q,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var B=new EventUtils.EventHandleSpec;B.SetHandler('hover',ss.mkdel(this,this.$8));this.$c.add$1(new EventUtils.TableauEventHandler(this.$j.element[0],B));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(B){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(B,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(B){this.$e=B},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(B,C,D,E){this.showTooltip(B)},hoverOverWhitespace:function(B){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(B,false)){this.$j.close()}},multiSelectComplete:function(B){this.showTooltip(B)},singleSelectComplete:function(B){this.showTooltip(B)},selectionMoved:function(B){},repositionWithinRegion:function(B){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(B,C){this.$j.close()},showTooltip:function(B){if(spiff.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),B)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(B,false)){return}this.$j.show(this.$j.get_body().children()[0],B)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(B){var C=this.$j.get_lastLocation();this.$j.set_lastLocation({x:B.pageX,y:B.pageY});if(ss.isNullOrUndefined(C)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var D=tab.PointUtil.distance(C,this.$j.get_lastLocation());var E=new Date-this.$h;if(D>10&&E>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(B){if(ss.isNullOrUndefined(B)){return false}var C=this.$3();return tab.RectUtil.inRect(C,B)},$3:function(){var B=this.$j.element.position();var C={l:tab.DoubleUtil.roundToInt(B.left),t:tab.DoubleUtil.roundToInt(B.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return C},$1:function(B){var C=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),B);this.$i.push(C);return C},$8:function(B){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(B,C){this.dispose()},$0:function(){for(var B=0;B<this.$i.length;B++){var C=this.$i[B];window.clearTimeout(C)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(r,a,{updateSearchTextValue:function(B){this.$t(B,true)},$t:function(B,C){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,B);if(C===true){this.selectAllSearchText()}},$r:function(B){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var C=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var D=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(C)&&ss.isValue(D)&&!ss.referenceEquals(C,D)){return}this.selectAllSearchText()},$q:function(B){this.$u=B;if(ss.isValue(B)){var C=B.get_data();this.$t(C,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$u)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$u.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$s:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$u)){return}var B=this.get_compositeSearchWidget();B.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},handleCollapseSearchWidget:function(){tab.MapsSearchView.prototype.handleCollapseSearchWidget.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(B,C,D){if(C===4){return D}var E=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(B)){switch(C){case 1:case 2:{return 0}case 0:case 3:{return E}}}var F=B;switch(C){case 1:{F=ss.Nullable$1.add(F,1);if(ss.Nullable$1.gt(F,E)){F=0}break}case 0:{F=ss.Nullable$1.sub(F,1);if(ss.Nullable$1.lt(F,0)){F=E}break}case 2:{F=0;break}case 3:{F=E;break}}return F}},tab.MapsSearchView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(s,a,{$2:function(B,C){tab.Param.verifyValue(B,'element');tab.Param.verifyValue(C,'handler');if(s.$0()){this.$1();document.addEventListener('mousemove',ss.mkdel(this,this.$0),true);this.$3=C}},$1:function(){if(s.$0()){document.removeEventListener('mousemove',ss.mkdel(this,this.$0),true)}this.$3=null},$0:function(B){if(ss.isValue(this.$3)){this.$3.HandleCapturedMouseMove(B)}},dispose:function(){this.$1()}},null,[ss.IDisposable]);ss.initClass(t,a,{exportAsAxisResizerDomElements:function(){var B=new tab.AxisResizerDomElements(this.topLeftSpacer,this.topRightSpacer,this.bottomLeftSpacer,this.view,this.topAxis,this.rightAxis,this.bottomAxis,this.leftAxis);return B}},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(u,a,{get_inputHandlers:function(){return this.$2n},get_domWeb:function(){return this.$2h},get_responsiveMouseHandler:function(){return this.$2r},$2f:function(){return this.getWebRegion('viz')},get_zoomToolbarOffset:function(){var B=41;var C=10;if(this.get_paneTableVM().get_mapSearchEnabled()){C+=B}return C},get_zoomToolbarOperations:function(){return new m(this)},get_capturedPaneTableViewMousePosition:function(){return this.$1z()},$1E:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableVM().deferredHeaderResizerManagerViewModel)&&ss.isValue(this.get_paneTableVM().deferredResizerFactory)){var B=$.Deferred();this.deferredHeaderResizerManager=B.promise();this.get_paneTableVM().deferredHeaderResizerManagerViewModel.done(ss.mkdel(this,function(C){this.get_paneTableVM().deferredResizerFactory.done(ss.mkdel(this,function(D){B.resolve(D.newHeaderResizerManager(C,this.get_domWeb().yLabel,this.get_domWeb().xLabel))}))}))}},$1D:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableVM().deferredCellResizerManagerViewModel)&&ss.isValue(this.get_paneTableVM().deferredResizerFactory)){var B=$.Deferred();this.deferredCellResizerManager=B.promise();this.get_paneTableVM().deferredCellResizerManagerViewModel.done(ss.mkdel(this,function(C){this.get_paneTableVM().deferredResizerFactory.done(ss.mkdel(this,function(D){B.resolve(D.newCellResizerManager(C,this.get_domWeb().yLabel,this.get_domWeb().xLabel))}))}))}},$1C:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableVM().deferredResizerFactory)){var B=$.Deferred();this.deferredAxisResizerManager=B.promise();this.get_paneTableVM().deferredResizerFactory.done(ss.mkdel(this,function(C){B.resolve(C.newAxisResizerManager(this.get_domWeb().exportAsAxisResizerDomElements(),this.get_paneTableVM().get_visualId()))}))}},$1G:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableVM().get_vizContextMenuViewModel())&&(tab.FeatureFlags.isEnabled('RichTextCreateAnnotationAndOpenEditor')||tab.FeatureFlags.isEnabled('RichTextCreateBlankAreaAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateBlankPointAndMarkAnnotation'))){this.get_paneTableVM().get_vizContextMenuViewModel().setAnchorEl(this.get_vizRegionDomNode().get(0));tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.VizContextMenuViewModel,z,Object])).call(null,[this.get_paneTableVM().get_vizContextMenuViewModel()])}},$1F:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableVM().get_annotationSelectionChromeViewModel())&&tab.FeatureFlags.isEnabled('RichTextSelectAnnotation')){var B=this.get_vizRegionDomNode().get(0).getBoundingClientRect();var C={x:0,y:0,w:ss.Int32.trunc(B.width),h:ss.Int32.trunc(B.height)};this.get_paneTableVM().updateGeometry(C);var D=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.AnnotationSelectionChromeViewModel,g,Object])).call(null,[this.get_paneTableVM().get_annotationSelectionChromeViewModel()]);D.addToDom(this.get_vizRegionDomNode())}},$2e:function(B){if(this.get_paneTableVM().get_isMapWithBaseLayer()&&!this.$2f().allowMapZoomAtCurrentLevel(B)){return}var C=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.get_paneTableVM().hideAnnotations();this.$2f().$J(C,B)},initEventHandlers:function(){var B=null;var C=null;var D=ss.thisFix(ss.mkdel(this,function(){B=tab.MiscUtil.dispose$1(B);C=tab.MiscUtil.dispose$1(C);tab.PaneTableView.prototype.initEventHandlers.call(this)}));var E=this.dom.domRoot[0];B=spiff.EventUtil.addEventListenerWithDispose(E,'mouseenter',D,true);C=spiff.EventUtil.addEventListenerWithDispose(E,'touchstart',D,true);this.disposables.add$1(B);this.disposables.add$1(C)},getDomNodeForContentRegion:function(B){return B.get(0)},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1T))},makeConnections:function(){this.$2h.scrollX.scroll(ss.mkdel(this,function(B){this.$1X()}));this.$2h.scrollY.scroll(ss.mkdel(this,function(B){this.$1Y()}));this.dom.domRoot.on('wheel',ss.mkdel(this,this.$1V));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1S)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().set_focusInHandler(ss.mkdel(this,function(B){this.checkForSuppressTooltipsAndOverlays(B.target)}));this.get_paneTableVM().get_mapsSearchViewModel().set_focusOutHandler(ss.mkdel(this,function(B){this.checkForSuppressTooltipsAndOverlays(B.relatedTarget)}));this.get_paneTableVM().get_mapsSearchViewModel().set_keypressHandler(ss.mkdel(this,function(B){this.checkForSuppressTooltipsAndOverlays(B.target)}))}},makeRegions:function(){var B=this.makeHoverApi();ss.clearKeys(this.regions);var C=function(){return false};for(var D=0;D<tab.PaneTableViewRegionParts.nonVizContentRegions.length;D++){var E=tab.PaneTableViewRegionParts.nonVizContentRegions[D];var F=this.regionParts.getSelectorForRegion(E);var G=new tab.ToolModeViewModel(E,this.get_paneTableVM().get_visualModel().get_defaultMapTool());this.regions[E]=new x(E,F.get(0),B,this.$2h.scrollX,this.$2h.scrollY,C,this.get_sheetid(),this.get_paneTableVM(),G)}var H=ss.mkdel(this,this.allowPanZoomActions);this.set_vizRegion(new x('viz',this.get_vizRegionDomNode().get(0),B,this.$2h.scrollX,this.$2h.scrollY,H,this.get_sheetid(),this.get_paneTableVM(),this.get_paneTableVM().get_vizRegionToolModeViewModel()));this.get_paneTableVM().get_vizRegionToolModeViewModel().initializeToolModesForVizRegion(H())},getWebRegion:function(B){return ss.safeCast(this.regions[B],x)},makeTooltipLegacyMode:function(B){return new y(B,this.get_visualId())},cancelHover:function(){},makeInputHandlers:function(){var B=ss.getEnumerator(Object.keys(this.$2n));try{while(B.moveNext()){var C=B.current();this.$2n[C]=tab.MiscUtil.dispose$1(this.$2n[C])}}finally{B.dispose()}ss.clearKeys(this.$2n);for(var D=0;D<tab.PaneTableViewRegionParts.nonVizContentRegions.length;D++){var E=tab.PaneTableViewRegionParts.nonVizContentRegions[D];var F=this.regionParts.getSelectorForRegion(E);var G=this.makeMouseSpec(this.getWebRegion(E));this.$2n[E]=new EventUtils.TableauEventHandler(F.get(0),G)}this.$2d();var H=this.get_vizRegionDomNode();var I=new EventUtils.EventHandleSpec;I.hoverDelay=20;I.hover=ss.mkdel(this,function(N){this.get_vizHitTestDebouncer().update(N)});var J=I;var K=ss.mkdel(this,function(N){this.onHitTestUpdated(this.$2f(),N)});this.get_vizHitTestDebouncer().add_updated(K);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizHitTestDebouncer().remove_updated(K)})));this.$2w=new EventUtils.TableauEventHandler(H.get(0),J);this.disposables.add$1(this.$2w);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var L=new EventUtils.EventHandleSpec;L.hover=ss.mkdel(this,function(N){this.onHoverOverlay(this.$2f(),N)});L.hoverDelay=0;var M=L;this.$2r=new EventUtils.TableauEventHandler(H.get(0),M);this.disposables.add$1(this.$2r)}this.$1J();H.addClass('tvmodeRectSelect');this.$1x()},$1x:function(){if(tsConfig.is_mobile_device){return}var B=ss.mkdel(this,function(D){if(!this.$2k){D.stopPropagation()}this.makeHoverApi().suppressHover(this.regions['viz'])});var C=ss.mkdel(this,function(D){if(!this.$2k){D.stopPropagation()}this.makeHoverApi().unsuppressHover(this.regions['viz'])});this.get_vizRegionDomNode().children().on(this.createNamespacedEventName('touchstart'),B).on(this.createNamespacedEventName('touchend'),C)},$2d:function(){this.$2n['viz']=tab.MiscUtil.dispose$1(this.$2n['viz']);var B=this.makeMouseSpec(this.$2f());this.$2n['viz']=new EventUtils.TableauEventHandler(this.get_vizRegionDomNode().get(0),B)},updateTooltipMode:function(B){tab.PaneTableView.prototype.updateTooltipMode.call(this,B);if(ss.isNullOrUndefined(this.vizTooltip)){this.$2d()}},updateGeometry:function(){tab.PaneTableView.prototype.updateGeometry.call(this);this.$27();this.$28();var B=this.get_vizRegionDomNode().get(0);var C=B.getBoundingClientRect();var D={x:0,y:0,w:ss.Int32.trunc(C.width),h:ss.Int32.trunc(C.height)};this.get_paneTableVM().updateGeometry(D)},$1J:function(){var B=ss.mkdel(this,function(H){var I=new EventUtils.EventHandleSpec;I.hover=ss.mkdel(this,function(L){this.$1R(this.getWebRegion(H),L)});I.hoverDelay=0;I.firstTouch=ss.mkdel(this,function(L){this.$1Q(this.getWebRegion(H))});var J=I;var K=this.regionParts.getSelectorForRegion(H);this.disposables.add$1(new EventUtils.TableauEventHandler(K.get(0),J));K.mouseout(ss.mkdel(this,function(L){this.$1U(H)}))});for(var C=0;C<tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader.length;C++){var D=tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader[C];B(D)}if(tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tsConfig.is_authoring){var E=tab.ListExtensions.where(Object).call(null,tab.PaneTableViewRegionParts.axisRegions,function(H){return!ss.contains(tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader,H)});for(var F=0;F<E.length;F++){var G=E[F];B(G)}}},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$2l)){this.$2l=new o(this);this.disposables.add$1(this.$2l)}return this.$2l},doAnnotationDoubleTap:function(B,C){if(tab.AnnotationSelectionChromeViewModel.canAnnotationInCurrentSheetType()&&tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){var D=this.getHitTestResults(B,C);if(D.get_hitObjectType()===2){this.get_paneTableVM().handleAnnotationClicked([D.get_id()]);return true}}return false},makeMouseSpec:function(B){var C=new EventUtils.EventHandleSpec;C.hover=ss.mkdel(this,function(G){this.onHover(B,G)});C.hoverDelay=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150);var D=C;var E=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(E!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){D.hoverDelay=0}else{var F=tab.FeatureParamsLookup.getInt(12);D.hoverDelay=ss.coalesce(F,120)}}D.firstTouch=ss.mkdel(this,function(G){this.$1P(B,G)});D.tap=ss.mkdel(this,function(G){this.$1Z(B,G)});if(tab.FeatureFlags.isEnabled('EditAxisDialog')&&tsConfig.is_authoring&&ss.contains(tab.PaneTableViewRegionParts.axisRegions,B.get_regionPart())){D.doubleTap=ss.mkdel(B,B.onDoubleTapAxis);D.rightClick=ss.mkdel(B,B.onRightClickAxis)}if(B.get_regionPart()==='viz'){D.dragStart=ss.mkdel(this,function(G){this.dragOverride(G,ss.mkdel(this,function(H){this.$1O(B,G)}))});D.dragMove=ss.mkdel(this,this.$1M);D.dragEnd=ss.mkdel(this,this.$1N);if(tsConfig.allow_filter){if(tab.FeatureFlags.isEnabled('RichTextCreateBlankAreaAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateBlankPointAndMarkAnnotation')||tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation')){D.rightClick=ss.mkdel(this,function(G){this.onRightClickViz(B,B.toLocalCoordsEvent(G,false))})}D.doubleTap=ss.mkdel(this,function(G){this.$1L(B,G)});D.press=function(G){u.$2()};D.cancelPotentialDoubleTap=ss.mkdel(this,function(G){this.$1K()});D.pressDragStart=ss.mkdel(this,function(G){this.dragOverride(G,ss.mkdel(this,function(H){this.$1W(B,G)}))})}}return D},makeRegionContentProviders:function(){var B=ss.mkdel(this,function(C,D){this.get_vizRegion().reset()});this.makeRegionContentProvidersHelper(this.get_vizRegionDomNode(),B);this.$2u=this.makeTiledWindow(this.$2h.scrollY,null,null,null,null);this.$2t=this.makeTiledWindow(this.$2h.scrollX,null,null,null,null)},makeTiledWindow:function(B,C,D,E,F){return this.makeTiledWindowHelper(B,C,D,E,F,true)},shouldInformTooltipOfLocalTapOnViz:function(B,C){return!this.get_paneTableVM().vizContextMenuOpened()&&B.get_hitObjectType()!==2},refreshScrollingAndAxisIcons:function(){var B=this.$2q;this.$2q=null;if(typeof(B)==='function'){B()}this.tryUpdateSortDrillAndContextMenuWidgets()},tryUpdateSortDrillAndContextMenuWidgets:function(){if(ss.isValue(this.drillWidget)){this.drillWidget.onUpdate()}if(ss.isValue(this.sortWidget)){this.sortWidget.onUpdate()}if(ss.isValue(this.axisContextMenuWidget)){this.axisContextMenuWidget.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2u.destroy();this.$2t.destroy()},destroyInputHandlers:function(){var B=ss.getEnumerator(Object.keys(this.$2n));try{while(B.moveNext()){var C=B.current();this.$2n[C]=tab.MiscUtil.dispose$1(this.$2n[C])}}finally{B.dispose()}ss.clearKeys(this.$2n);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1T))}this.$22()},refreshImages:function(B){tab.PaneTableView.prototype.refreshImages.call(this,B);this.$2u.refreshImages(B);this.$2t.refreshImages(B)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1o(false)},$1T:function(B){var C=tab.DomUtil.getRectXY(this.dom.view);if(C.x>B.x||C.x+C.w<=B.x||C.y>B.y||C.y+C.h<=B.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(B){this.$2o=true;this.floatingZoomToolbarView.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_paneTableVM().get_mapSearchEnabled()){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(true)}this.checkForSuppressTooltipsAndOverlays(B.target)},$1H:function(B){var C=tab.DomUtil.getRectXY(this.dom.domRoot);return u.$1(C,B)},$1I:function(B){var C=tab.DomUtil.getRectXY(this.dom.view);return u.$1(C,B)},isPointOutsideOfRelevantVizRegions:function(B){if(!this.$1I(B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.yLabel),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.xLabel),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.caption),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.leftAxis),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.rightAxis),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.bottomAxis),B)){return false}if(!u.$1(tab.DomUtil.getRectXY(this.dom.topAxis),B)){return false}return true},onMouseOut:function(B){if(this.$1H(B)){if(ss.isValue(this.sortWidget)){this.sortWidget.onMouseOutOfParentPaneTableView()}if(ss.isValue(this.drillWidget)){this.drillWidget.turnDrillWidgetsOff()}if(ss.isValue(this.axisContextMenuWidget)){this.axisContextMenuWidget.hideAxisContextMenuIcon()}}if(this.isPointOutsideOfRelevantVizRegions(B)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1p()}},$1p:function(){if(!this.$2k){this.disposeOfOverlayImages()}},onMouseMove:function(B){var C=this.get_vizToolTip();if(C.get_isTooltipShown()&&!C.shownTooltipIsStatic()&&this.$1I(B)){var D=tab.DomUtil.getRectXY(this.dom.view);C.hoverOverWhitespace({x:D.x,y:D.y},'viz')}},onViewMouseOut:function(B){this.$2o=false;this.$2p=null;var C=this.get_vizToolTip();if(this.$1I(B)){this.floatingZoomToolbarView.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}if(C.get_isTooltipShown()&&!C.shownTooltipIsStatic()){var D=tab.DomUtil.getRectXY(this.dom.view);C.hoverOverWhitespace({x:D.x,y:D.y},'viz')}}if(!C.get_isTooltipShown()){this.$1p()}this.checkForSuppressTooltipsAndOverlays(B.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(B){this.$2o=true;this.checkForSuppressTooltipsAndOverlays(B.target)},setupSortIndicators:function(){this.sortWidget=new w(this,this.dom.domRoot.get(0));this.disposables.add$1(this.sortWidget)},setupAxisContextMenuIndicator:function(){this.axisContextMenuWidget=new h(this,this.dom.domRoot.get(0));this.disposables.add$1(this.axisContextMenuWidget)},setupDrilling:function(){this.drillWidget=new l(this,this.dom.domRoot.get(0));this.disposables.add$1(this.drillWidget)},setRegionGeometryHelper:function(B,C){if(ss.isValue(B)&&B.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(B.children().first(),{l:0,t:0,w:C.w,h:C.h})}},setGeometryForWebScrollbars:function(B,C){var D=B.get_scrollWidth()>0;var E=B.get_scrollHeight()>0;this.$20(B,D);this.$21(B,C,E);var F=!!(E^D);this.$2s=new tab.ScrollAdjuster(F);this.$25(B,D,E)},$20:function(B,C){var D=this.$2h.scrollY;if(C){var E=Math.max(tab.Metrics.get_minScrollHeight(),B.get_viewHeight());var F={l:B.get_overallWidth(),t:B.get_scrollYTop(),w:B.get_scrollWidth(),h:E};tab.DomUtil.setAbsolutePositionBox(D,F)}D.toggle(C)},$21:function(B,C,D){var E=this.$2h.scrollX;if(D){var F=Math.max(tab.Metrics.get_minScrollWidth(),B.get_viewWidth());var G={l:B.get_scrollXLeft(),t:C,w:F,h:B.get_scrollHeight()};tab.DomUtil.setAbsolutePositionBox(E,G)}E.toggle(D)},$25:function(B,C,D){this.$26(B,C);this.$24(B,D)},$26:function(B,C){this.$2u.setYPos(this.$1B());var D=(C?{x:0,y:0,w:1,h:B.get_scrollableHeight(),r:null}:null);this.$2u.reset(D,this.get_geometry().ts)},$24:function(B,C){this.$2t.setXPos(this.$1A());var D=(C?{x:0,y:0,w:B.get_scrollableWidth(),h:1,r:null}:null);this.$2t.reset(D,this.get_geometry().ts)},maybeShowOverlayImages:function(B){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var C=null;if(ss.isValue(B)&&ss.isValue(B.overlayImage)){C=this.createOverlayImageFromDataUri(B.overlayImage)}else if(ss.isValue(B.overlayImageKey)){C=this.createOverlayImageFromFile(B.overlayImageKey)}this.showOverlayImages(C,B.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1w();this.$2a();this.$1v()},$1w:function(){if(tsConfig.is_authoring&&ss.isValue(this.deferredHeaderResizerManager)){this.deferredHeaderResizerManager.done(function(B){B.handleResizerUpdate()})}},$1v:function(){if(this.$1n()){this.deferredCellResizerManager.done(ss.mkdel(this,function(B){B.scrollX(this.$1A())}));this.deferredCellResizerManager.done(ss.mkdel(this,function(B){B.scrollY(this.$1B())}));this.deferredCellResizerManager.done(function(B){B.handleCellResizerUpdate()})}},$1n:function(){if(tsConfig.is_authoring&&ss.isValue(this.deferredCellResizerManager)){return true}return false},$2a:function(){if(tsConfig.is_authoring&&ss.isValue(this.deferredAxisResizerManager)){this.deferredAxisResizerManager.done(function(B){B.setAxisResizers()})}},$2c:function(){this.$2g=null;this.$2v=null;if(ss.isValue(this.$2s)){this.$2s.forgetInputDevice()}},$29:function(){return ss.isValue(this.$2g)},$1V:function(B){if(ss.isNullOrUndefined(B)||B.ctrlKey){return}var C=null;if(ss.isValue(B['originalEvent'])){C=B['originalEvent']}var D=this.$2s.normalizeScrollWheelDeltas(C);this.get_paneTableVM().handleMouseWheelScroll();if(this.isOneVisiblePane()&&this.get_paneTableVM().get_isMap()&&this.allowPanZoomActions()){if(!this.$1I(B)){if(!this.$29()&&this.$2f().isWaitingOnPanZoomServerResponse()){return}else{this.$1u(this.$2f(),C,D.y);B.preventDefault();return}}}var E=this.$1B();var F=this.$1A();this.$2h.scrollY.scrollTop(E+D.y);this.$2h.scrollX.scrollLeft(F+D.x);if(E!==this.$1B()){this.$28();B.preventDefault()}if(F!==this.$1A()){this.$27();B.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$1s:function(){var B=this.get_paneTableVM().get_mapServerModel();var C=(B.get_hasPresModel()?B.get_zoom():1);if(B.get_hasPresModel()&&B.get_rasterMapSourceModel().get_hasPresModel()){return new k(C,this.$2s.get_isFromTouchpad())}else{return new i(C,this.$2s.get_isFromTouchpad())}},$1u:function(B,C,D){var E=null;if(!this.$29()){E=tab.PaneTableViewWebMetrics.createWheelZoomFullyCompleteContext();this.$2g=u.$0(B,C);this.$2v=this.$1s();B.anchorZoomStart()}if(!this.$2v.update(D)){return}this.isAnimationOccurring=true;var F=this.resolvePane(this.$2g);var G=this.$2v.currentZoomLevel();var H=this.$2v.currentZoomFactor();var I=!this.$2s.get_isFromTouchpad();B.anchorZoom(F,this.$2g,G,H,I);this.disposeOfOverlays();this.$1q();this.$2x=window.setTimeout(ss.mkdel(this,function(){B.anchorZoomEnd(F,this.$2g,G,H,E);this.$2c()}),500)},$1Y:function(){this.get_vizToolTip().onScroll();this.$28()},$28:function(){var B=this.$1B();for(var C=0;C<tab.PaneTableViewRegionParts.scrollableYRegions.length;C++){var D=tab.PaneTableViewRegionParts.scrollableYRegions[C];this.getWebRegion(D).setYPos(B)}this.set_scrollPosition({x:this.$1A(),y:B});if(this.$1n()){this.deferredCellResizerManager.done(function(E){E.scrollY(B)})}this.get_paneTableVM().scrollY(B)},$1X:function(){this.get_vizToolTip().onScroll();this.$27()},$27:function(){var B=this.$1A();for(var C=0;C<tab.PaneTableViewRegionParts.scrollableXRegions.length;C++){var D=tab.PaneTableViewRegionParts.scrollableXRegions[C];this.getWebRegion(D).setXPos(B)}this.set_scrollPosition({x:B,y:this.$1B()});if(this.$1n()){this.deferredCellResizerManager.done(function(E){E.scrollX(B)})}this.get_paneTableVM().scrollX(B)},$1S:function(B){if(this.$2f().get_isDragTracking()){return}if(!ss.referenceEquals(B.target,this.element.get(0))&&!ss.referenceEquals(B.target,this.dom.view.get(0))&&!ss.referenceEquals(B.target,this.dom.view.find('.tvimagesContainer').get(0))){return}if(B.which===46){this.get_paneTableVM().deleteSelectedAnnotations()}if(B.which===27){this.get_paneTableVM().clearAnnotationSelection()}var C;switch(B.which){case 68:{C='lasso-selection';break}case 83:{C='radial-selection';break}case 65:{C='rectangular-selection';break}case 90:{C='area-zoom';break}case 70:{C='pan-map';break}default:{return}}if(C===this.get_paneTableVM().get_vizRegionToolModeViewModel().get_currentPointerToolMode()){C=this.defaultPointerToolMode()}var D=this.floatingZoomToolbarView.setToolMode(C,true);if(!D){this.setPointerToolMode(C,true)}},checkForHoverOverlay:function(){this.$1o(true)},$1o:function(B){if(ss.isValue(this.lastVizHoverPoint)&&this.$2o){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(B)}else{this.disposeOfOverlayImages()}},$1R:function(B,C){var D=B.toLocalCoordsEvent(C,false);var E=this.getVisualListViewModelForRegion(B.get_regionPart());if(ss.isNullOrUndefined(D)||this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(E)){return}var F=E.hitTestNodes(D);if(ss.isValue(F)){var G=tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(F.node);var H=tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tab.SelectionUtils.isQuantitative(F)&&tsConfig.is_authoring;F=((G||H)?F:null)}var I=tab.ModelUtils.regionToVisualPartMap[B.get_regionPart()];this.updateHoveredCategoricalHeadersAndQuantitativeAxes(F,'hover',I)},$1Q:function(B){var C=this.getVisualListViewModelForRegion(B.get_regionPart());if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(C)){return}var D=tab.ModelUtils.regionToVisualPartMap[B.get_regionPart()];this.updateHoveredCategoricalHeadersAndQuantitativeAxes(null,'press',D)},$1U:function(B){var C=tab.ModelUtils.regionToVisualPartMap[B];var D=this.get_paneTableVM().get_vizRegionMap()[C];if(ss.isValue(D)){D.set_hoveredNodeOrAxis(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||x.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(B,C){var D=B;D.setMouseOverMarkOrVisualPart(C)},$1P:function(B,C){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().removeSuggestionList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){var D=B.toLocalCoordsEvent(C,false);var E=this.get_paneTableVM().get_localRenderVizHitTester().onTapHitTest(D);if(E.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(E.get_id(),'press',E.get_overlayTargetType())}}},$1y:function(){var B=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var C=0;C<B.length;C++){var D=B[C];if(!D.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(B){return B==='simple'||!this.$1y()},onHitTestUpdated:function(B,C){this.$1t();if(this.getVizDragApproval(C)){var D=B.toLocalCoords(C.get_pageCoordinates(),false);this.$1r(D)}},$1r:function(B){var C=$('<div class="tabDragIcon" ></div>');if(BrowserSupport.BrowserSupport.IsIE()){C.css('cursor','alias')}else{C.css('cursor','-webkit-grab');C.css('cursor','-moz-grab');C.css('cursor','grab')}C.css('position','absolute');var D=20;C.css('top',B.y-D+'px');C.css('left',B.x-D+'px');C.css('height',40+'px');C.css('width',40+'px');var E=this.makeMouseSpec(this.$2f());this.get_vizRegionDomNode().append(C);if(!tsConfig.is_mobile_device){var F=function(G){G.stopPropagation()};this.get_vizRegionDomNode().on(this.createNamespacedEventName('touchstart'),F).on(this.createNamespacedEventName('touchend'),F)}this.$2j=new EventUtils.TableauEventHandler(C.get(0),E)},disposeOfOverlays:function(){this.$1t();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1t:function(){this.$2j=tab.MiscUtil.dispose$1(this.$2j);this.get_vizRegionDomNode().children('.tabDragIcon').remove()},handleTapServerCall:function(B,C,D,E){var F=ss.mkdel(this,function(){if(this.get_paneTableVM().get_localRenderVizHitTester().onTapHitTest(E).get_hitObjectType()===2){return}if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(B)}var H=tab.PaneTableView.guessTooltipTargetTypeFromRegion(B.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(D,E,B.get_regionPart(),H,null)});var G={x:E.x,y:E.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(B.get_regionPart(),G,C,this.get_paneTableVM().get_visualId(),F,'default',null);this.refreshScrollingAndAxisIcons();this.dom.domRoot.focus()},$1Z:function(B,C){if(this.$2m){this.$2m=false;return}this.$2p={x:C.pageX,y:C.pageY};C.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(C.originalEvent['button']>1){return}var D=B.toLocalCoordsEvent(C,false);var E=tab.PointUtil.add(D,B.getLocalOffsetPoint(false));if(this.allowPanZoomActions()&&B.get_toolModeViewModel().get_isZoomToolActive()){var F=this.resolvePane(B.toLocalCoordsEvent(C,false));B.$I(C,F);return}var G=u.$3(B,C);this.get_paneTableVM().handleAnnotationSelection(D,G,C);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(B,G,E,D,'default',false)}else{this.handleTapServerCall(B,G,E,D)}},getHitTestResults:function(B,C){return this.get_paneTableVM().get_localRenderVizHitTester().onTapHitTest(B.toLocalCoordsEvent(C,false))},onRightClickViz:function(B,C){if(ss.isNullOrUndefined(this.get_paneTableVM().get_vizContextMenuViewModel())||!tab.AnnotationSelectionChromeViewModel.canAnnotationInCurrentSheetType()||!tsConfig.is_authoring||!(tab.FeatureFlags.isEnabled('RichTextCreateBlankAreaAnnotation')||tab.FeatureFlags.isEnabled('RichTextDeleteAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateBlankPointAndMarkAnnotation')||tab.FeatureFlags.isEnabled('RichTextCreateAnnotationAndOpenEditor'))){return}if(ss.isValue(this.vizTooltip)){this.vizTooltip.clearTooltipWithFakeHover()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().handleRightClick(this.get_paneTableVM().get_localRenderVizHitTester().onTapHitTest(C),C)}else{B.handleRightClickHitTestServerWithCallback(C,ss.mkdel(this,function(D){this.get_paneTableVM().handleRightClick(D,C)}))}},$1L:function(B,C){if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(this.doAnnotationDoubleTap(B,C)){return}var D=((C.shiftKey&&!spiff.EventUtil.isCtrlKey(C))?0.5:2);this.doDoubleTap(B,C,D)},$1O:function(B,C){var D=this.resolvePane(B.toLocalCoordsEvent(C,false));this.$1l();var E=this.get_paneTableVM().handleAnnotationDragStarted(B.toLocalCoordsEvent(C,false));this.$2b();if(E){return}if(!tsConfig.allow_filter){this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{var F;switch(B.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':case'area-zoom':{F=!C.shiftKey;this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),F);break}case'zoom-out':{F=!C.shiftKey;this.setPointerToolMode('area-zoom',F);break}}}this.$23(B);if(ss.isValue(this.drillWidget)){this.drillWidget.set_enabled(false)}if(ss.isValue(this.sortWidget)){this.sortWidget.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(false)}this.floatingZoomToolbarView.enableUserInteraction(false);B.$p(C,D)},$1M:function(B){if(spiff.DragDropManager.get_isDragging()){return}var C=this.$2f();C.$o(B);if(this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isSelectingToolActive()){this.checkForDragOverlays();this.$2k=true}this.get_paneTableVM().handleDrag(this.get_vizRegion().toLocalCoordsEvent(B,false))},$1N:function(B){if(spiff.DragDropManager.get_isDragging()){return}this.$2m=B.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$2k=false;this.$2f().$n(B,this.get_vizToolTip());this.$22();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.drillWidget)){this.drillWidget.set_enabled(true)}if(ss.isValue(this.sortWidget)){this.sortWidget.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(true)}this.get_paneTableVM().handleDragEnded(this.get_vizRegion().toLocalCoordsEvent(B,false));this.floatingZoomToolbarView.enableUserInteraction(true)},$1W:function(B,C){var D=this.resolvePane(B.toLocalCoordsEvent(C,false));this.$1l();if(this.get_paneTableVM().handleAnnotationDragStarted(B.toLocalCoordsEvent(C,false))){return}this.$2b();if(!tsConfig.allow_filter){this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{switch(B.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':{var E=!C.shiftKey;this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),E);break}case'zoom-out':case'area-zoom':{break}}}B.$p(C,D);this.$23(B)},$1K:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$23:function(B){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1t();if(!B.get_toolModeViewModel().get_isSelectingToolActive()){this.disposeOfOverlays()}},$22:function(){this.$2i=tab.MiscUtil.dispose$1(this.$2i)},$1l:function(){tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$2i);this.$2i=new spiff.Glass(null,false);this.$2i.show()},$2b:function(){var B=this.$2f();B.setCursor(B.determineDragSelectionCursor(),this.$2i.element)},$1q:function(){this.$2x=tab.MiscUtil.clearTimeout(this.$2x)},allowPanZoomActions:function(){return this.$1m('other')},allowPanZoomActionsOnDoubleTap:function(){return this.$1m('doubleTap')},$1m:function(B){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.get_geometry())){return false}var C=this.get_geometry().pi;switch(B){case'doubleTap':{var D=C.hasXQAxis&&C.hasYQAxis;var E=this.floatingZoomToolbarView.get_toolBarIsOffOrHome();if(!this.get_paneTableVM().get_isMap()&&D&&E){return false}return D}case'other':default:{return C.hasXQAxis||C.hasYQAxis}}},$1B:function(){return tab.DoubleUtil.roundToInt(this.$2h.scrollY.scrollTop())},$1A:function(){return this.$2h.scrollX.scrollLeft()},$1z:function(){if(ss.isNullOrUndefined(this.$2p)){return null}return{x:this.$2p.x-this.get_tableViewPosition().x,y:this.$2p.y-this.get_tableViewPosition().y}},HandleCapturedMouseMove:function(B){this.$2p={x:B.pageX,y:B.pageY}},HandleCapturedMouseComplete:function(B){}},tab.PaneTableView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,tab.IZoomToolbarContainer,EventUtils.IMouseCaptureEventHandler]);ss.initClass(w,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$L)&&tsConfig.allow_filter},dispose:function(){this.set_parentViewer(null);this.$J.element.remove();this.$J.dispose();this.$I.dispose();v.prototype.dispose.call(this)},onUpdate:function(){this.$O=this.get_parentViewer().get_visibleGeometry();this.$L=this.get_parentViewer().get_sortIndicators();if(!ss.staticEquals(this.$N,null)){this.$N();this.$N=null}this.$m(this.get_parentViewer().get_capturedPaneTableViewMousePosition())},onMouseOutOfParentPaneTableView:function(){this.$l()},$l:function(){if(!this.$o()){return}var B=new RegExp('(sortInd\\w+)?','g');this.$F.get(0).className=this.$F.get(0).className.replace(B,'');this.$F.css('display','none');this.$K=null;this.$H.css('display','none')},onMouseMove:function(B){this.$n(B)},isActiveInRect:function(B){if(ss.isValue(this.$K)&&this.$K.$1&&tab.RectXYUtil.intersectsWith(B,this.$G)){return true}return false},$e:function(){var B=spiff.LabelButton.newNativeButton();B.element.addClass('sortDropdownSolid');B.element.css('border','0');B.element.css('position','absolute');B.element.css('padding','0px');B.element.css('background-color','transparent');B.element.append("<span class='sortIndicatorDropdownArrow sortDropdownSolid'></span>");B.element.click(ss.mkdel(this,this.$t));B.element.hide();return B},$d:function(){var B=spiff.LabelButton.newNativeButton();B.element.addClass('tab-tvSortIndicator');B.element.css('border','0');B.element.css('position','absolute');B.element.css('padding','0px');return B},$y:function(){this.$L=this.get_parentViewer().get_sortIndicators();this.set_enabled(true)},$9:function(){var B=new EventUtils.EventHandleSpec;B.tap=ss.mkdel(this,function(D){this.$s(D)});B.hover=ss.mkdel(this,function(D){this.$r(D)});var C=B;this.$I=new EventUtils.TableauEventHandler(this.$F.get(0),C);this.disposables.add$1(this.$I);this.$F.mouseout(ss.mkdel(this,this.$q))},$n:function(B){if(B.button>0){return}var C=this.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());this.$m(C)},$m:function(B){if(ss.isNullOrUndefined(B)){return}if(ss.isNullOrUndefined(this.$L)||!tsConfig.allow_filter){return}var C=this.regionHitTest(this.$O,B);if(ss.isValue(C)){var D=this.$O;var E=this.$i(this.get_parentViewer(),C);this.$v(E,D[C],B)}else{this.$l()}},$D:function(B,C,D){var E;var F=B.sortIndicatorItems[C];var G=this.$K;if(!B.isHorizontal){E=((F.sortIndicatorState.sortOrder==='asc')?'Left':'Right')}else{E=((F.sortIndicatorState.sortOrder==='asc')?'Up':'Down')}var H=F.sortIndicatorState.isSorted;var I=(H?'Solid':'Hollow');this.$K=new f(B,F,C,E,I,D);var J=F.tooltipText;if(H&&!ss.isNullOrEmptyString(J)){this.$J.element.attr('title',J)}else{this.$J.element.removeAttr('title')}if(ss.isNullOrUndefined(G)||!ss.referenceEquals(G.$0,E)||!ss.referenceEquals(G.$5,I)||G.$1!==D){this.$E()}},$E:function(){if(ss.isNullOrUndefined(this.$K)){return}this.$a('sortInd',this.$F.get(0));this.$x()},$x:function(){this.$F.addClass(this.$f())},$f:function(){var B='';var C=this.$K.$2;if(ss.isValue(C)){if(C.sortIndicatorState.sortIndicatorType==='alphabetic'){B='Alphabetic'}else if(C.sortIndicatorState.sortIndicatorType==='nested'){B='Nested'}}var D='sortInd'+B+this.$K.$5+this.$K.$0+(this.$K.$1?'Active':'');return D},$g:function(B){return((B==='alphabetic')?'asc':'desc')},$B:function(){if(!this.$o()){return}var B=this.$K.$2;var C=this.$K.$4;var D=this.$g(B.sortIndicatorState.sortIndicatorType);if(!B.sortIndicatorState.isSorted){B.sortIndicatorState.isSorted=true;B.sortIndicatorState.sortOrder=D}else if(B.sortIndicatorState.sortOrder===D){B.sortIndicatorState.sortOrder=((D==='asc')?'desc':'asc')}else{B.sortIndicatorState.sortOrder=D;B.sortIndicatorState.isSorted=false}this.$D(C,this.$K.$3,this.$K.$1)},$r:function(B){if(this.isOtherActiveInRect(this.$G)){return}if(this.$o()&&!this.$K.$1){this.$K.$1=true;this.$E()}B.stopPropagation()},$q:function(B){if(!this.$o()){return}var C=$(this.$F.get(0)).offset();var D=tab.DoubleUtil.roundToInt($(this.$F.get(0)).outerHeight());var E=tab.DoubleUtil.roundToInt($(this.$F.get(0)).outerWidth());if(C.left>B.pageX||C.left+E<=B.pageX||C.top>B.pageY||C.top+D<=B.pageY){this.$K.$1=false;this.$E();B.stopPropagation()}},$s:function(B){spiff.EventUtil.stopEvent$1(B);this.$B();this.$F.addClass('clicked');this.$N=ss.mkdel(this,function(){this.$F.removeClass('clicked')});var C=this.$h(B);tab.SortServerCommands.sortFromIndicator(C,this.get_scrollAmount(),this.get_parentViewer().get_visualId(),this.$k(),this.$j())},$j:function(){if(ss.isNullOrUndefined(this.$K)){return null}return this.$K.$4},$k:function(){if(ss.isNullOrUndefined(this.$K)||ss.isNullOrUndefined(this.$K.$2)||ss.isNullOrUndefined(this.$K.$2.sortIndicatorState)){return null}return this.$K.$2.sortIndicatorState.sortIndicatorType},$t:function(B){spiff.EventUtil.stopEvent$2(B);this.$z(this.$H)},$h:function(B){var C=this.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());var D=this.regionHitTest(this.$O,C);if(ss.isNullOrUndefined(D)){return null}var E=this.$i(this.get_parentViewer(),D);var F=E.regionRect;var G=this.$O;C.y+=F.y-G[D].t;C.x+=F.x-G[D].l;return C},$z:function(B){var C=this.$K.$2.sortIndicatorMenu;if(ss.isNullOrUndefined(C)){return}var D=ss.mkdel(this,function(){this.get_parentViewer().tryUpdateSortDrillAndContextMenuWidgets()});var E=tab.WidgetUtil.menuViewModelFromCommands(C,ss.mkdel(this,this.$u),D,null,ss.mkdel(this,this.$c));if(ss.isValue(E)){E.show(new spiff.ShowMenuOptions(B,false))}},$c:function(B){return ss.mkdel(this,function(){tab.SortServerCommands.sortFromCommandItem(B,this.get_parentViewer().get_visualId())})},$u:function(B){tab.WidgetUtil.commandMenuItemClicked(B)},$A:function(B,C,D,E){if(this.isOtherActiveInRect(D)){return}var F=null;var G=B.sortIndicatorItems[C];if(ss.isValue(G.sortIndicatorMenu)){var H=G.sortIndicatorMenu['commandItems'.toString()];if(H.length>0){F=G.menuButtonRect}}this.$G=D;this.$D(B,C,E);this.repositionAndShowElement(this.$F.get(0),D);this.$C(F)},$C:function(B){if(ss.isValue(B)){this.$w(this.$H.get(0),B)}else if(ss.isValue(this.$H)){this.$H.css('display','none')}},$w:function(B,C){this.repositionAndShowElement(B,tab.RecordCast.rectPresModelAsRectXY(C))},$o:function(){return ss.isValue(this.$K)},$v:function(B,C,D){if(ss.isNullOrUndefined(B)){this.$l();return}if(ss.isValue(this.$K)&&ss.isValue(this.$K.$4)&&B.sortRegion!==this.$K.$4.sortRegion){this.$l()}var E={x:D.x,y:D.y};var F=B.regionRect;E.y+=F.y-C.t;E.x+=F.x-C.l;var G=this.get_scrollAmount();if(B.canScrollY){E.y+=G.y}if(B.canScrollX){E.x+=G.x}var H=B.sortIndicatorItems;for(var I=0,J=H.length;I<J;I++){if(ss.isNullOrUndefined(H[I].itemRect)){continue}if(ss.isNullOrUndefined(H[I].buttonRect)){continue}var K=tab.RecordCast.rectPresModelAsRectXY(H[I].itemRect);if(this.isPointInRectXY(K,E)){var L=tab.RecordCast.rectPresModelAsRectXY(H[I].buttonRect);var M=this.$b(L);M=this.computeTvButtonRectFromUnrolledRegionCoordinates(M,C,D,E);if(ss.isValue(M)){this.$A(B,I,M,this.isPointInRectXY(M,E));return}}}this.$l()},$b:function(B){if(ss.isNullOrUndefined(B)){return B}return this.$p(new Object,B)},$p:function(B,C){var D=C;var E=new ss.ObjectEnumerator(D);try{while(E.moveNext()){var F=E.current();var G=B[F.key];if(ss.isNullOrUndefined(G)||!ss.referenceEquals(G,D[F.key])){B[F.key]=D[F.key]}}}finally{E.dispose()}return B},$i:function(B,C){var D,E;var F=ss.replaceAllString(C,'Area','');var G=B.get_sortIndicators();var H=G.sortIndicatorRegions;for(D=0,E=H.length;D<E;D++){if(ss.referenceEquals(H[D].sortRegion.toString(),F)){return H[D]}}return null},$a:function(B,C){var D=ss.formatString('({0}\\w+)?',B);var E=new RegExp(D,'g');var F=C.className;var G=F.replace(E,'').trim();C.className=G}},v,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(x,a,{$L:function(){return this.get_toolModeViewModel().get_isAppendMode()},get_isDragTracking:function(){return this.$Q},$D:function(B){this.$Q=B;x.isDragTrackingInAnyRegion=B},destroy:function(){this.$P=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(B){if(this.regionContent.get_hasContent()){this.regionContent.setXPos(B);this.backgroundMap.setScrollX(B)}},setYPos:function(B){if(this.regionContent.get_hasContent()){this.regionContent.setYPos(B);this.backgroundMap.setScrollY(B)}},resetVisualState:function(){tab.TiledViewerRegion.prototype.resetVisualState.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$M){return}this.$P.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(B){if(this.$R!==B){this.$R=B;this.$C()}},$p:function(B,C){this.$O(B,C)},$o:function(B){if(this.get_isDragTracking()){this.$S(B)}},$n:function(B,C){this.get_toolModeViewModel().updateDefaultToolMode(this.allowPanZoomActions());if(this.get_isDragTracking()){this.$T(B,C)}},$v:function(B,C){this.$F(this.get_shapeSelector());this.$E(B)},$u:function(B,C){if(!tsConfig.allow_select){this.$P.unsuppressHover(this);return}var D=this.get_shapeSelector().get_tooltipAnchor();var E=this.get_regionPart();var F=tab.PointUtil.add(D,this.getLocalOffsetPoint(false));var G=this.get_shapeSelector().get_hitTestingBox();var H=ss.mkdel(this,function(){C.multiSelectComplete(F,G,E);if(ss.isValue(this.$P)){this.$P.unsuppressHover(this)}});var I=tab.SelectActionResolver.fromNormalizedEvent(B,0);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var J=this.paneTableViewModel.get_localRenderVizHitTester().hitTestMarksAgainstSelectionShape(this.get_shapeSelector());var K=tab.LocalRenderVizSelectionDispatcher.doMultiSelect(J,I,H,this.paneTableViewModel.get_visualId());if(!K||!tsConfig.allow_tooltip){this.$P.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(E,I,this.get_visualId(),H)}},$z:function(B,C){if(this.isWaitingOnPanZoomServerResponse()){return}this.$F(this.domPanZoomRect);this.$E(B);this.domPanZoomRect.set_pi(C)},$y:function(B,C){var D=this.domPanZoomRect.get_pi();var E=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var F=this.toLocalCoordsRect(E,false);if(!this.get_toolModeViewModel().get_isZoomToolActive()){}if(this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out'&&this.allowMapZoomAtCurrentLevel(0.5)){this.$J(D,0.5)}else if(F.w<4&&F.h<4){this.$I(B,D)}else{this.$K(D,F,2)}},$x:function(B,C){this.$w(B,C,this.domPanZoomRect)},$q:function(B,C){this.$w(B,C,this.get_shapeSelector())},$w:function(B,C,D){if(!this.get_isDragTracking()){return}var E=B.originalEvent;if(E['button']>1){return}this.$G(B,D);this.$P.suppressHover(this);this.$N(B,C)},$r:function(B){spiff.EventUtil.stopEvent$1(B);var C=B.get_GestureInfo();if(this.mapIsBrowserRendered()){this.backgroundMap.panTo(C.deltaX,C.deltaY)}else{var D=C.pageX-this.domPanZoomRect.get_dragStart().x;var E=C.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){D=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){E=0}var F=1;D+=F;E+=F;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:D,t:E,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())})}},$s:function(B,C){if(!this.get_isDragTracking()){return}if(B.originalEvent['button']>1){return}this.$U=tab.TiledViewerRegionWebMetrics.createPanMapMouseUpFullyCompleteContext();this.$V=tab.TiledViewerRegionWebMetrics.createPanMapMouseUpLocalWorkCompleteContext();spiff.EventUtil.stopEvent$1(B);this.$G(B,null);var D=B.get_GestureInfo();this.$P.suppressHover(this);var E=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var F={x:D.pageX-this.domPanZoomRect.get_dragStart().x,y:D.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){F.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){F.y=0}this.$A(E,F)},$t:function(B,C){if(this.isWaitingOnPanZoomServerResponse()){return}this.$E(B);this.domPanZoomRect.set_pi(C);this.resetIsWaitingOnTransition=true;if(this.mapIsBrowserRendered()){this.setViewportBorderVisibility(true);this.backgroundMap.splatOverlayToMapForTransition(tab.TiledViewerRegion.getCanvasElement(this.connectNode))}else{this.get_toolModeViewModel().deferModeChanges();this.setViewportBorderVisibility(true);this.showDomDragImage(C)}},$m:function(){},$H:function(B){if(ss.isValue(B)){B.hide()}},$F:function(B){if(ss.isValue(B)){B.show()}},updateForToolMode:function(B){tab.TiledViewerRegion.prototype.updateForToolMode.call(this,B);this.$C();switch(B){case'no-tools':{this.$S=ss.mkdel(this,this.$n);this.$T=ss.mkdel(this,this.$n);this.$O=ss.mkdel(this,this.$n);this.$N=ss.mkdel(this,this.$n);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$S=ss.mkdel(this,this.onMarqueeMouseMove);this.$T=ss.mkdel(this,this.$q);this.$O=ss.mkdel(this,this.$v);this.$N=ss.mkdel(this,this.$u);break}case'pan-map':{this.$S=ss.mkdel(this,this.$r);this.$T=ss.mkdel(this,this.$s);this.$O=ss.mkdel(this,this.$t);this.$N=ss.mkdel(this,this.$n);break}case'area-zoom':case'zoom-out':{this.$S=ss.mkdel(this,this.onZoomBoxMouseMove);this.$T=ss.mkdel(this,this.$x);this.$O=ss.mkdel(this,this.$z);this.$N=ss.mkdel(this,this.$y);break}}},$i:function(B){return!B.shiftKey&&spiff.EventUtil.isCtrlKey(B)&&this.get_toolModeViewModel().get_isSelectingToolActive()},$j:function(B){return!B.altKey&&B.shiftKey&&spiff.EventUtil.isCtrlKey(B)},$k:function(B){return B.altKey&&(this.get_toolModeViewModel().get_isZoomToolActive()||B.shiftKey&&spiff.EventUtil.isCtrlKey(B))},$l:function(B){var C=B;if(C.altKey&&!C.ctrlKey&&!BrowserSupport.BrowserSupport.IsMac()){C.preventDefault()}if(!tsConfig.allow_filter){return}var D=this.get_toolModeViewModel().currentModifierKeyToolMode;var E=this.get_toolModeViewModel().get_isAppendMode();this.get_toolModeViewModel().set_isAppendMode(this.$i(C));if(!this.get_isDragTracking()){if(this.allowPanZoomActions()){if(x.$0(C)){this.get_toolModeViewModel().currentModifierKeyToolMode='pan-map'}else if(this.$j(C)){this.get_toolModeViewModel().currentModifierKeyToolMode='area-zoom'}else if(this.$k(C)){this.get_toolModeViewModel().currentModifierKeyToolMode='zoom-out'}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}if(D!==this.get_toolModeViewModel().currentModifierKeyToolMode||E!==this.get_toolModeViewModel().get_isAppendMode()){this.$C()}},startScrolling:function(B,C,D){this.stopScrolling();if(!(B!==0&&this.scroller.get_canScrollX()||C!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$W)){this.$h(B,C,D)}var E=((D==='fast')?15:200);this.$W=window.setInterval(ss.mkdel(this,function(){this.$h(B,C,D)}),E);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$W)){window.clearInterval(ss.unbox(this.$W))}this.$W=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$h:function(B,C,D){var E=0;var F=0;if(B!==0){E=this.$f(0,B);this.scroller.scrollX(E)}if(C!==0){F=this.$f(1,C);this.scroller.scrollY(F)}this.get_shapeSelector().shapeScrolled(E,F);this.get_shapeSelector().get_dom().css('display','');if(E===0&&B!==0||F===0&&C!==0){var G=((E===0)?0:B);var H=((F===0)?0:C);this.startScrolling(G,H,D)}},$f:function(B,C){var D=((B===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var E=((B===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var F=C*15;var G=Math.max(0,Math.min(D+F,E));return G-D},determineScrollDirection:function(B,C){var D=((B===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var E=((B===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var F=((C<0)?-1:((C>0)?1:0));if(F===-1&&D===0||F===1&&D>=E){F=0}return F},suppressTooltips:function(){this.$P.suppressHover(this)},setCursor:function(B,C){C.css('cursor',B)},$B:function(B){this.setCursor(B,this.connectNode)},$g:function(){var B=this.get_toolModeViewModel().get_currentPointerToolMode();if(B==='no-tools'){B=this.get_toolModeViewModel().defaultPointerToolMode}return B},$C:function(){var B=this.$g();switch(B){case'area-zoom':{this.$B(x.$5['zoomIn']);break}case'zoom-out':{this.$B(x.$5['zoomOut']);break}default:{this.$B((this.$R?x.$5['select']:x.$5['defaultKey']));break}}},determineDragSelectionCursor:function(){if(this.paneTableViewModel.isAnnotationDragging()){return x.$5['defaultKey']}var B=this.$g();switch(B){case'area-zoom':{return x.$5['zoomIn']}case'zoom-out':{return x.$5['zoomOut']}case'lasso-selection':{return(this.$L()?x.$5['lassoExtended']:x.$5['lassoSelect'])}case'radial-selection':{return(this.$L()?x.$5['radialExtended']:x.$5['radialSelect'])}case'rectangular-selection':{return(this.$L()?x.$5['rectExtended']:x.$5['rectSelect'])}case'pan-map':{return x.$5['panDrag']}default:{return x.$5['defaultKey']}}},$E:function(B){if(B.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$D(true);B.preventDefault();this.$P.suppressHover(this);var C=B.get_GestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(C.startX,C.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(C.startX,C.startY,this.getLocalOffset(true));this.$C()},$G:function(B,C){if(!this.get_isDragTracking()){return}this.$D(false);this.$H(C);this.stopScrolling();this.$C()},$I:function(B,C){var D=this.toLocalCoordsEvent(B,false);this.paneTableViewModel.hideAnnotations();if(!this.get_toolModeViewModel().get_isZoomToolActive()){}var E=((this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(C,D,E,false,null)},$J:function(B,C){this.zoomPoint(B,null,C,false,null)},$K:function(B,C,D){if(this.isWaitingOnPanZoomServerResponse()){return}this.setWaitingOnPanZoomServerResponseState();var E=tab.TiledViewerRegionWebMetrics.createZoomRectLocalWorkCompleteContext();var F=tab.TiledViewerRegionWebMetrics.createZoomRectFullyCompleteContext();var G=tab.TiledViewerRegion.getCenterPoint(B);var H=1/D;this.zoomAnimationProtectionGlass=new spiff.Glass(null,false);this.zoomAnimationProtectionGlass.show();var I=ss.mkdel(this,function(){E.dispose();if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.reset()}});var J=ss.mkdel(this,function(L){if(L==='failure'){this.reset()}this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass);if(L==='success'){F.dispose()}this.clearWaitingOnPanZoomServerResponseState()});var K=ss.mkdel(this,function(){tab.PanZoomCommands.zoomIn(C,G,H,I,J,this.get_sheetid())});if(this.mapIsBrowserRendered()){this.animateZoomRectMap(B,C,K)}else{if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tab.ViewSession.canUseTileCacheUrl(this.paneTableViewModel.get_tileCacheUrl())){this.animateZoomRectImage(B,G,C)}K()}},$A:function(B,C){this.setWaitingOnPanZoomServerResponseState();this.resetIsWaitingOnTransition=false;if(this.mapIsBrowserRendered()){this.backgroundMap.updateLocalCenter(C.x,C.y)}var D=ss.mkdel(this,function(){if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.reset()}this.$V.dispose()});var E=ss.mkdel(this,function(F){if(F==='failure'){this.reset()}this.clearWaitingOnPanZoomServerResponseState();this.$U.dispose()});tab.PanZoomCommands.pan(this.get_regionPart(),B,C,D,E,this.get_sheetid())}},tab.TiledViewerRegion);ss.initClass(y,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var B=new q(this.get_tooltip());this.tooltipBehaviors['sticky']=B},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.showCommandAreaAndActions));tab.TooltipBaseLegacyMode.prototype.dispose.call(this)}},tab.TooltipBaseLegacyMode);ss.initClass(z,a,{render:function(){return(this.props.isHidden?null:this.$1())},componentWillMount:function(){this.$3=$('<div>').css({visibility:'hidden',position:'relative'})[0];this.$3.className='VizContextMenu-MenuAnchor';this.$2(this.props)},componentWillUpdate:function(B){this.$2(B)},componentWillUnmount:function(){if(this.props.vizOverlayDiv.contains(this.$3)){this.props.vizOverlayDiv.removeChild(this.$3)}},$2:function(B){if(!B.isHidden){B.vizOverlayDiv.appendChild(this.$3);this.$3.style.top=100*B.location.y/B.vizOverlayDiv.clientHeight+'%';this.$3.style.left=100*B.location.x/B.vizOverlayDiv.clientWidth+'%'}else if(B.isHidden&&B.vizOverlayDiv.contains(this.$3)){B.vizOverlayDiv.removeChild(this.$3)}},$1:function(){var B={testId:'VizContextMenu',allowAutoPosition:true,anchorEl:this.$3,anchorOrigin:{vertical:0,horizontal:0},menuItemInfos:this.props.menuOptions,requestCloseAll:ss.mkdel(this,this.$0),onSelect:this.props.handleItemClicked};return React.createElement(SharedWidgets.FlyoutListMenuWidget,B)},$0:function(){if(!ss.staticEquals(this.props.hide,null)){this.props.hide()}}},spiff.PureRenderComponent);ss.initClass(A,a,{createPaneTableView:function(B){return new u(B)}},tab.VizZoneFactory,[tab.IVizZoneModule]);(function(){g.chevronClass='tabAuthoringAnnotationChevron';g.chevronIconClass='tabAuthoringAnnotationChevronIcon'})();(function(){v.$0=[]})();(function(){h.axisContextMenuElementClassName='tab-tiledViewerAxisContextMenu'})();(function(){i.$2=0.00333333333333333;i.$1=0.01;i.$0=2})();(function(){l.$2=17;l.$1=7;l.$3=10;l.$0=20})();(function(){tab.ObjectRegistry.registerType(tab.FloatingZoomToolbar,n).call(null)})();(function(){q.$1='.LegacyTooltipBehavior';q.$2=500;q.$3=250;q.$4=10000;q.$5=1200;q.$6=0;tab.ObjectRegistry.registerType(tab.ITooltipBehavior,q).call(null)})();(function(){tab.ObjectRegistry.registerType(tab.MapsSearchView,r).call(null)})();(function(){t.htmlTemplate="<div class='tab-tiledViewer placeholder' data-tb-test-id='VisualizationContainer'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer' data-tb-test-id='VisualizationScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){z.$1='VizContextMenu';z.$0='VizContextMenu-MenuAnchor'})();(function(){x.isDragTrackingInAnyRegion=false;x.$2=15;x.$3=15;x.$4=200;x.$5=null})();(function(){tab.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,y).call(null)})();(function(){w.sortingElementClassName='tab-tiledViewerSort';w.sortIndicatorButtonClassName='tab-tvSortIndicator';w.sortMenuDropDownButtonClassName='sortDropdownSolid';w.$0='sortInd'})();(function(){u.$5=500;u.$4=10})()})();